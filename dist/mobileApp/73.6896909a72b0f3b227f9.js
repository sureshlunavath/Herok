(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{"/d2E":function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Mixins/ColorSeries.js",[],function(){return{colorPointMixin:{setVisible:function(t){var n=this,e=t?"show":"hide";n.visible=n.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){n[t]&&n[t][e]()}),this.series.buildKDTree()}},colorSeriesMixin:{optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var t=this,n=this.options.nullColor,e=this.colorAxis,l=this.colorKey;(this.data.length?this.data:this.points).forEach(function(a){var i=a.getNestedProperty(l);(i=a.options.color||(a.isNull||null===a.value?n:e&&void 0!==i?e.toColor(i,a):a.color||t.color))&&a.color!==i&&(a.color=i,"point"===t.options.legendType&&a.legendItem&&t.chart.legend.colorizeItem(a,a.visible))})}}}}),n(t,"Core/Axis/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Mixins/ColorSeries.js"],t["Core/Animation/Fx.js"],t["Core/Globals.js"],t["Core/Legend.js"],t["Mixins/LegendSymbol.js"],t["Series/LineSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r,o,s,u,c){var h=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),d=e.parse;e=l.colorPointMixin;var p=i.noop,g=c.addEvent,m=c.erase,b=c.extend,f=c.isNumber,y=c.merge,v=c.pick,C=c.splat;b(s.prototype,l=l.colorSeriesMixin),b(u.prototype,e),n.prototype.collectionsWithUpdate.push("colorAxis"),n.prototype.collectionsWithInit.colorAxis=[n.prototype.addColorAxis];var S=function(t){function n(n,e){var l=t.call(this,n,e)||this;return l.beforePadding=!1,l.chart=void 0,l.coll="colorAxis",l.dataClasses=void 0,l.legendItem=void 0,l.legendItems=void 0,l.name="",l.options=void 0,l.stops=void 0,l.visible=!0,l.init(n,e),l}return h(n,t),n.buildOptions=function(t,n,e){t=t.options.legend||{};var l=e.layout?"vertical"!==e.layout:"vertical"!==t.layout;return y(n,{side:l?2:1,reversed:!l},e,{opposite:!l,showEmpty:!1,title:null,visible:t.enabled&&(!e||!1!==e.visible)})},n.prototype.init=function(e,l){var a=n.buildOptions(e,n.defaultOptions,l);this.coll="colorAxis",t.prototype.init.call(this,e,a),l.dataClasses&&this.initDataClasses(l),this.initStops(),this.horiz=!a.opposite,this.zoomEnabled=!1},n.prototype.initDataClasses=function(t){var n,e=this.chart,l=0,a=e.options.chart.colorCount,i=this.options,r=t.dataClasses.length;this.dataClasses=n=[],this.legendItems=[],t.dataClasses.forEach(function(t,o){t=y(t),n.push(t),!e.styledMode&&t.color||("category"===i.dataClassColor?(e.styledMode||(a=(o=e.options.colors).length,t.color=o[l]),t.colorIndex=l,++l===a&&(l=0)):t.color=d(i.minColor).tweenTo(d(i.maxColor),2>r?.5:o/(r-1)))})},n.prototype.hasData=function(){return!!(this.tickPositions||[]).length},n.prototype.setTickPositions=function(){if(!this.dataClasses)return t.prototype.setTickPositions.call(this)},n.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=d(t[1])})},n.prototype.setOptions=function(n){t.prototype.setOptions.call(this,n),this.options.crosshair=this.options.marker},n.prototype.setAxisSize=function(){var t,e,l=this.legendSymbol,a=this.chart,i=a.options.legend||{};l?(this.left=i=l.attr("x"),this.top=t=l.attr("y"),this.width=e=l.attr("width"),this.height=l=l.attr("height"),this.right=a.chartWidth-i-e,this.bottom=a.chartHeight-t-l,this.len=this.horiz?e:l,this.pos=this.horiz?i:t):this.len=(this.horiz?i.symbolWidth:i.symbolHeight)||n.defaultLegendLength},n.prototype.normalizedValue=function(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)},n.prototype.toColor=function(t,n){var e,l=this.dataClasses,a=this.stops;if(l)for(e=l.length;e--;){var i=l[e],r=i.from;if(a=i.to,(void 0===r||t>=r)&&(void 0===a||t<=a)){var o=i.color;n&&(n.dataClass=e,n.colorIndex=i.colorIndex);break}}else{for(t=this.normalizedValue(t),e=a.length;e--&&!(t>a[e][0]););o=(r=a[e]||a[e+1]).color.tweenTo((a=a[e+1]||r).color,t=1-(a[0]-t)/(a[0]-r[0]||1))}return o},n.prototype.getOffset=function(){var n=this.legendGroup,e=this.chart.axisOffset[this.side];n&&(this.axisParent=n,t.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},n.prototype.setLegendColor=function(){var t=this.reversed,n=t?1:0;t=t?0:1,this.legendColor={linearGradient:{x1:(n=this.horiz?[n,0,t,0]:[0,t,0,n])[0],y1:n[1],x2:n[2],y2:n[3]},stops:this.stops}},n.prototype.drawLegendSymbol=function(t,e){var l=t.padding,a=t.options,i=this.horiz,r=v(a.symbolWidth,i?n.defaultLegendLength:12),o=v(a.symbolHeight,i?12:n.defaultLegendLength),s=v(a.labelPadding,i?16:30);a=v(a.itemDistance,10),this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,r,o).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=r+l+(i?a:s),this.legendItemHeight=o+l+(i?s:0)},n.prototype.setState=function(t){this.series.forEach(function(n){n.setState(t)})},n.prototype.setVisible=function(){},n.prototype.getSeriesExtremes=function(){var t,n=this.series,e=n.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;){var l=n[e],a=l.colorKey=v(l.options.colorKey,l.colorKey,l.pointValKey,l.zoneAxis,"y"),i=l.pointArrayMap,r=l[a+"Min"]&&l[a+"Max"];if(l[a+"Data"])var o=l[a+"Data"];else if(i){o=[],i=i.indexOf(a);var u=l.yData;if(0<=i&&u)for(t=0;t<u.length;t++)o.push(v(u[t][i],u[t]))}else o=l.yData;r?(l.minColorValue=l[a+"Min"],l.maxColorValue=l[a+"Max"]):(o=s.prototype.getExtremes.call(l,o),l.minColorValue=o.dataMin,l.maxColorValue=o.dataMax),void 0!==l.minColorValue&&(this.dataMin=Math.min(this.dataMin,l.minColorValue),this.dataMax=Math.max(this.dataMax,l.maxColorValue)),r||s.prototype.applyExtremes.call(l)}},n.prototype.drawCrosshair=function(n,e){var l=e&&e.plotX,a=e&&e.plotY,i=this.pos,r=this.len;if(e){var o=this.toPixels(e.getNestedProperty(e.series.colorKey));o<i?o=i-2:o>i+r&&(o=i+r+2),e.plotX=o,e.plotY=this.len-o,t.prototype.drawCrosshair.call(this,n,e),e.plotX=l,e.plotY=a,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,!this.chart.styledMode&&this.crosshair&&this.cross.attr({fill:this.crosshair.color}))}},n.prototype.getPlotLinePath=function(n){var e=this.left,l=n.translatedValue,a=this.top;return f(l)?this.horiz?[["M",l-4,a-6],["L",l+4,a-6],["L",l,a],["Z"]]:[["M",e,l],["L",e-6,l+6],["L",e-6,l-6],["Z"]]:t.prototype.getPlotLinePath.call(this,n)},n.prototype.update=function(e,l){var a=this.chart,i=a.legend,r=n.buildOptions(a,{},e);this.series.forEach(function(t){t.isDirtyData=!0}),(e.dataClasses&&i.allItems||this.dataClasses)&&this.destroyItems(),a.options[this.coll]=y(this.userOptions,r),t.prototype.update.call(this,r,l),this.legendItem&&(this.setLegendColor(),i.colorizeItem(this,!0))},n.prototype.destroyItems=function(){var t=this.chart;this.legendItem?t.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(n){t.legend.destroyItem(n)}),t.isDirtyLegend=!0},n.prototype.remove=function(n){this.destroyItems(),t.prototype.remove.call(this,n)},n.prototype.getDataClassLegendSymbols=function(){var t,n=this,e=n.chart,l=n.legendItems,a=e.options.legend,i=a.valueDecimals,r=a.valueSuffix||"";return l.length||n.dataClasses.forEach(function(a,s){var u=!0,c=a.from,h=a.to,d=e.numberFormatter;t="",void 0===c?t="< ":void 0===h&&(t="> "),void 0!==c&&(t+=d(c,i)+r),void 0!==c&&void 0!==h&&(t+=" - "),void 0!==h&&(t+=d(h,i)+r),l.push(b({chart:e,name:t,options:{},drawLegendSymbol:o.drawRectangle,visible:!0,setState:p,isDataClass:!0,setVisible:function(){u=n.visible=!u,n.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===s&&t.setVisible(u)})}),e.legend.colorizeItem(this,u)}},a))}),l},n.defaultLegendLength=200,n.defaultOptions={lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},n.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],n}(t);return Array.prototype.push.apply(t.keepProps,S.keepProps),i.ColorAxis=S,["fill","stroke"].forEach(function(t){a.prototype[t+"Setter"]=function(){this.elem.attr(t,d(this.start).tweenTo(d(this.end),this.pos),null,!0)}}),g(n,"afterGetAxes",function(){var t=this,n=t.options;this.colorAxis=[],n.colorAxis&&(n.colorAxis=C(n.colorAxis),n.colorAxis.forEach(function(n,e){n.index=e,new S(t,n)}))}),g(s,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),g(r,"afterGetAllItems",function(t){var n,e,l=[];for((this.chart.colorAxis||[]).forEach(function(e){(n=e.options)&&n.showInLegend&&(n.dataClasses&&n.visible?l=l.concat(e.getDataClassLegendSymbols()):n.visible&&l.push(e),e.series.forEach(function(e){e.options.showInLegend&&!n.dataClasses||("point"===e.options.legendType?e.points.forEach(function(n){m(t.allItems,n)}):m(t.allItems,e))}))}),e=l.length;e--;)t.allItems.unshift(l[e])}),g(r,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),g(r,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t,n,e){t.update({},e)})}),g(s,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}),S}),n(t,"Mixins/ColorMapSeries.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,n,e){var l=e.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value},setState:function(t){n.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:t.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(t){var n={};return l(t.color)&&(n[this.colorProp||"fill"]=t.color),n}}}}),n(t,"Series/HeatmapSeries.js",[t["Core/Series/Series.js"],t["Mixins/ColorMapSeries.js"],t["Core/Globals.js"],t["Mixins/LegendSymbol.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i){var r=n.colorMapPointMixin,o=i.clamp,s=i.extend,u=i.fireEvent,c=i.isNumber,h=i.merge,d=i.pick,p=e.Series,g=a.prototype.symbols;t.seriesType("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},h(n=n.colorMapSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){p.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=d(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,s(g,{ellipse:g.circle,rect:g.square})},getSymbol:p.prototype.getSymbol,setClip:function(t){var n=this.chart;p.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||t)&&this.markerGroup.clip((t||this.clipBox)&&this.sharedClipKey?n[this.sharedClipKey]:n.clipRect)},translate:function(){var t=this.options,n=t.marker&&t.marker.symbol||"",e=g[n]?n:"rect";t=this.options;var l=-1!==["circle","square"].indexOf(e);this.generatePoints(),this.points.forEach(function(t){var a=t.getCellAttributes(),i={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.max(Math.abs(a.x2-a.x1),0),height:Math.max(Math.abs(a.y2-a.y1),0)},r=t.hasImage=0===(t.marker&&t.marker.symbol||n||"").indexOf("url");if(l){var o=Math.abs(i.width-i.height);i.x=Math.min(a.x1,a.x2)+(i.width<i.height?0:o/2),i.y=Math.min(a.y1,a.y2)+(i.width<i.height?o/2:0),i.width=i.height=Math.min(i.width,i.height)}o={plotX:(a.x1+a.x2)/2,plotY:(a.y1+a.y2)/2,clientX:(a.x1+a.x2)/2,shapeType:"path",shapeArgs:h(!0,i,{d:g[e](i.x,i.y,i.width,i.height)})},r&&(t.marker={width:i.width,height:i.height}),s(t,o)}),u(this,"afterTranslate")},pointAttribs:function(t,n){var l=p.prototype.pointAttribs.call(this,t,n),a=this.options||{},i=this.chart.options.plotOptions||{},r=i.series||{},o=i.heatmap||{};return i=a.borderColor||o.borderColor||r.borderColor,r=a.borderWidth||o.borderWidth||r.borderWidth||l["stroke-width"],l.stroke=t&&t.marker&&t.marker.lineColor||a.marker&&a.marker.lineColor||i||this.color,l["stroke-width"]=r,n&&(n=(t=h(a.states[n],a.marker&&a.marker.states[n],t.options.states&&t.options.states[n]||{})).brightness,l.fill=t.color||e.color(l.fill).brighten(n||0).get(),l.stroke=t.lineColor),l},markerAttribs:function(t,n){var e=t.marker||{},l=t.shapeArgs||{},a={};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(n){var i=(this.options.marker||{}).states[n]||{},r=e.states&&e.states[n]||{};[["width","x"],["height","y"]].forEach(function(t){a[t[0]]=(r[t[0]]||i[t[0]]||l[t[0]])+(r[t[0]+"Plus"]||i[t[0]+"Plus"]||0),a[t[1]]=l[t[1]]+(l[t[0]]-a[t[0]])/2})}return n?a:l},drawPoints:function(){var t=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(p.prototype.drawPoints.call(this),this.points.forEach(function(n){n.graphic&&n.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(n))}))},hasData:function(){return!!this.processedXData.length},getValidPoints:function(t,n){return p.prototype.getValidPoints.call(this,t,n,!0)},getBox:e.noop,drawLegendSymbol:l.drawRectangle,alignDataLabel:(i=t.seriesTypes).column.prototype.alignDataLabel,getExtremes:function(){var t=p.prototype.getExtremes.call(this,this.valueData),n=t.dataMin;return t=t.dataMax,c(n)&&(this.valueMin=n),c(t)&&(this.valueMax=t),p.prototype.getExtremes.call(this)}}),h(r,{applyOptions:function(t,n){return(t=e.Point.prototype.applyOptions.call(this,t,n)).formatPrefix=t.isNull||null===t.value?"null":"point",t},isValid:function(){return 1/0!==this.value&&-1/0!==this.value},haloPath:function(t){if(!t)return[];var n=this.shapeArgs;return["M",n.x-t,n.y-t,"L",n.x-t,n.y+n.height+t,n.x+n.width+t,n.y+n.height+t,n.x+n.width+t,n.y-t,"Z"]},getCellAttributes:function(){var t=this.series,n=t.options,e=(n.colsize||1)/2,l=(n.rowsize||1)/2,a=t.xAxis,i=t.yAxis,r=this.options.marker||t.options.marker;t=t.pointPlacementToXValue();var s=d(this.pointPadding,n.pointPadding,0),u={x1:o(Math.round(a.len-(a.translate(this.x-e,!1,!0,!1,!0,-t)||0)),-a.len,2*a.len),x2:o(Math.round(a.len-(a.translate(this.x+e,!1,!0,!1,!0,-t)||0)),-a.len,2*a.len),y1:o(Math.round(i.translate(this.y-l,!1,!0,!1,!0)||0),-i.len,2*i.len),y2:o(Math.round(i.translate(this.y+l,!1,!0,!1,!0)||0),-i.len,2*i.len)};return[["width","x"],["height","y"]].forEach(function(t){var n=t[0],e=(t=t[1])+"1",l=t+"2",a=Math.abs(u[e]-u[l]),i=r&&r.lineWidth||0,o=Math.abs(u[e]+u[l])/2;r[n]&&r[n]<a&&(u[e]=o-r[n]/2-i/2,u[l]=o+r[n]/2+i/2),s&&("y"===t&&(e=l,l=t+"1"),u[e]+=s,u[l]-=s)}),u}}))}),n(t,"masters/modules/heatmap.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},"/fEY":function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Mixins/ColorMapSeries.js",[t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],function(t,n,e){var l=e.defined;return{colorMapPointMixin:{dataLabelOnNull:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value},setState:function(t){n.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})}},colorMapSeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:t.noop,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:t.seriesTypes.column.prototype.pointAttribs,colorAttribs:function(t){var n={};return l(t.color)&&(n[this.colorProp||"fill"]=t.color),n}}}}),n(t,"Mixins/DrawPoint.js",[],function(){var t=function(t){return"function"==typeof t},n=function(n){var e,l=this,a=l.graphic,i=n.animatableAttribs,r=n.onComplete,o=n.css,s=n.renderer,u=null===(e=l.series)||void 0===e?void 0:e.options.animation;if(l.shouldDraw())a||(l.graphic=a=s[n.shapeType](n.shapeArgs).add(n.group)),a.css(o).attr(n.attribs).animate(i,!n.isNew&&u,r);else if(a){var c=function(){l.graphic=a=a.destroy(),t(r)&&r()};Object.keys(i).length?a.animate(i,void 0,function(){c()}):c()}};return{draw:n,drawPoint:function(t){(t.attribs=t.attribs||{}).class=this.getClassName(),n.call(this,t)},isFn:t}}),n(t,"Mixins/TreeSeries.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,n){var e=n.extend,l=n.isArray,a=n.isNumber,i=n.isObject,r=n.merge,o=n.pick;return{getColor:function(n,e){var l,a=e.index,i=e.mapOptionsToLevel,r=e.parentColor,s=e.parentColorIndex,u=e.series,c=e.colors,h=e.siblings,d=u.points,p=u.chart.options.chart;if(n){if(d=d[n.i],n=i[n.level]||{},i=d&&n.colorByPoint)var g=d.index%(c?c.length:p.colorCount),m=c&&c[g];u.chart.styledMode||(c=d&&d.options.color,p=n&&n.color,(l=r)&&(l=(l=n&&n.colorVariation)&&"brightness"===l.key?t.parse(r).brighten(a/h*l.to).get():r),l=o(c,p,m,l,u.color));var b=o(d&&d.options.colorIndex,n&&n.colorIndex,g,s,e.colorIndex)}return{color:l,colorIndex:b}},getLevelOptions:function(t){var n=null;if(i(t)){n={};var o=a(t.from)?t.from:1,s=t.levels,u={},c=i(t.defaults)?t.defaults:{};for(l(s)&&(u=s.reduce(function(t,n){if(i(n)&&a(n.level)){var l=r({},n),s="boolean"==typeof l.levelIsConstant?l.levelIsConstant:c.levelIsConstant;delete l.levelIsConstant,delete l.level,i(t[n=n.level+(s?0:o-1)])?e(t[n],l):t[n]=l}return t},{})),s=a(t.to)?t.to:1,t=0;t<=s;t++)n[t]=r({},c,i(u[t])?u[t]:{})}return n},setTreeValues:function t(n,l){var a=l.before,i=l.idRoot,r=l.points[n.i],s=r&&r.options||{},u=0,c=[];return e(n,{levelDynamic:n.level-("boolean"!=typeof l.levelIsConstant||l.levelIsConstant?0:l.mapIdToNode[i].level),name:o(r&&r.name,""),visible:i===n.id||"boolean"==typeof l.visible&&l.visible}),"function"==typeof a&&(n=a(n,l)),n.children.forEach(function(a,i){var r=e({},l);e(r,{index:i,siblings:n.children.length,visible:n.visible}),a=t(a,r),c.push(a),a.visible&&(u+=a.val)}),n.visible=0<u||n.visible,a=o(s.value,u),e(n,{children:c,childrenTotal:u,isLeaf:n.visible&&!u,val:a}),n},updateRootId:function(t){if(i(t)){var n=i(t.options)?t.options:{};n=o(t.rootNode,n.rootId,""),i(t.userOptions)&&(t.userOptions.rootId=n),t.rootNode=n}return n}}}),n(t,"Series/TreemapSeries.js",[t["Core/Series/Series.js"],t["Core/Color/Color.js"],t["Mixins/ColorMapSeries.js"],t["Mixins/DrawPoint.js"],t["Core/Globals.js"],t["Mixins/LegendSymbol.js"],t["Core/Series/Point.js"],t["Mixins/TreeSeries.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r,o,s){var u=t.seriesTypes,c=n.parse,h=e.colorMapSeriesMixin,d=o.getColor,p=o.getLevelOptions,g=o.updateRootId,m=s.addEvent,b=s.correctFloat,f=s.defined,y=s.error,v=s.extend,C=s.fireEvent,S=s.isArray,M=s.isNumber,_=s.isObject,L=s.isString,O=s.merge,A=s.objectEach,T=s.pick,D=s.stableSort,P=a.Series,x=function(t,n,e){!1!==(t=n.call(e=e||this,t))&&x(t,n,e)},w=!1;t.seriesType("treemap","scatter",{allowTraversingTree:!1,animationLimit:250,showInLegend:!1,marker:void 0,colorByPoint:!1,dataLabels:{defer:!1,enabled:!0,formatter:function(){var t=this&&this.point?this.point:{};return L(t.name)?t.name:""},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},traverseUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,colorKey:"colorValue",opacity:.15,states:{hover:{borderColor:"#999999",brightness:u.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],directTouch:!0,optionalAxis:"colorAxis",getSymbol:n=a.noop,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(t,n){t=S(t)?t:[];var e=S(n)?n:[];return function(t,n,e){e=e||this,A(t,function(l,a){n.call(e,l,a,t)})}(n=t.reduce(function(t,n,e){return void 0===t[n=T(n.parent,"")]&&(t[n]=[]),t[n].push(e),t},{"":[]}),function(t,n,l){""!==n&&-1===e.indexOf(n)&&(t.forEach(function(t){l[""].push(t)}),delete l[n])}),n},getTree:function(){var t=this.data.map(function(t){return t.id});return t=this.getListOfParents(this.data,t),this.nodeMap={},this.buildNode("",-1,0,t)},hasData:function(){return!!this.processedXData.length},init:function(t,n){h&&(this.colorAttribs=h.colorAttribs);var e=m(this,"setOptions",function(t){f((t=t.userOptions).allowDrillToNode)&&!f(t.allowTraversingTree)&&(t.allowTraversingTree=t.allowDrillToNode,delete t.allowDrillToNode),f(t.drillUpButton)&&!f(t.traverseUpButton)&&(t.traverseUpButton=t.drillUpButton,delete t.drillUpButton)});P.prototype.init.call(this,t,n),delete this.opacity,this.eventsToUnbind.push(e),this.options.allowTraversingTree&&this.eventsToUnbind.push(m(this,"click",this.onClickDrillToNode))},buildNode:function(t,n,e,l,a){var i,r=this,o=[],s=r.points[n],u=0;return(l[t]||[]).forEach(function(n){i=r.buildNode(r.points[n].id,n,e+1,l,t),u=Math.max(i.height+1,u),o.push(i)}),r.nodeMap[(n={id:t,i:n,children:o,height:u,level:e,parent:a,visible:!1}).id]=n,s&&(s.node=n),n},setTreeValues:function(t){var n=this,e=n.options,l=n.nodeMap[n.rootNode];e="boolean"!=typeof e.levelIsConstant||e.levelIsConstant;var a=0,i=[],r=n.points[t.i];t.children.forEach(function(t){t=n.setTreeValues(t),i.push(t),t.ignore||(a+=t.val)}),D(i,function(t,n){return(t.sortIndex||0)-(n.sortIndex||0)});var o=T(r&&r.options.value,a);return r&&(r.value=o),v(t,{children:i,childrenTotal:a,ignore:!(T(r&&r.visible,!0)&&0<o),isLeaf:t.visible&&!a,levelDynamic:t.level-(e?0:l.level),name:T(r&&r.name,""),sortIndex:T(r&&r.sortIndex,-o),val:o}),t},calculateChildrenAreas:function(t,n){var e,l=this,a=l.options,i=l.mapOptionsToLevel[t.level+1],r=T(l[i&&i.layoutAlgorithm]&&i.layoutAlgorithm,a.layoutAlgorithm),o=a.alternateStartingDirection;t=t.children.filter(function(t){return!t.ignore}),i&&i.layoutStartingDirection&&(n.direction="vertical"===i.layoutStartingDirection?0:1),e=l[r](n,t),t.forEach(function(t,a){t.values=O(a=e[a],{val:t.childrenTotal,direction:o?1-n.direction:n.direction}),t.pointValues=O(a,{x:a.x/l.axisRatio,y:100-a.y-a.height,width:a.width/l.axisRatio}),t.children.length&&l.calculateChildrenAreas(t,t.values)})},setPointValues:function(){var t=this,n=t.xAxis,e=t.yAxis,l=t.chart.styledMode;t.points.forEach(function(a){var i=a.node,r=i.pointValues;if(i=i.visible,r&&i){i=r.height;var o=r.width,s=r.x,u=r.y,c=l?0:(t.pointAttribs(a)["stroke-width"]||0)%2/2;r=Math.round(n.toPixels(s,!0))-c,o=Math.round(n.toPixels(s+o,!0))-c,s=Math.round(e.toPixels(u,!0))-c,i=Math.round(e.toPixels(u+i,!0))-c,a.shapeArgs={x:Math.min(r,o),y:Math.min(s,i),width:Math.abs(o-r),height:Math.abs(i-s)},a.plotX=a.shapeArgs.x+a.shapeArgs.width/2,a.plotY=a.shapeArgs.y+a.shapeArgs.height/2}else delete a.plotX,delete a.plotY})},setColorRecursive:function(t,n,e,l,a){var i=this,r=i&&i.chart;if(r=r&&r.options&&r.options.colors,t){var o=d(t,{colors:r,index:l,mapOptionsToLevel:i.mapOptionsToLevel,parentColor:n,parentColorIndex:e,series:i,siblings:a});(n=i.points[t.i])&&(n.color=o.color,n.colorIndex=o.colorIndex),(t.children||[]).forEach(function(n,e){i.setColorRecursive(n,o.color,o.colorIndex,e,t.children.length)})}},algorithmGroup:function(t,n,e,l){this.height=t,this.width=n,this.plot=l,this.startDirection=this.direction=e,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,n){return Math.max(t/n,n/t)}},this.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total+=t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(t,n,e,l){var a,i,r,o,s=e.lW,u=e.lH,c=e.plot,h=0,d=e.elArr.length-1;if(n)s=e.nW,u=e.nH;else var p=e.elArr[e.elArr.length-1];e.elArr.forEach(function(t){(n||h<d)&&(0===e.direction?(a=c.x,i=c.y,o=t/(r=s)):(a=c.x,i=c.y,r=t/(o=u)),l.push({x:a,y:i,width:r,height:b(o)}),0===e.direction?c.y+=o:c.x+=r),h+=1}),e.reset(),0===e.direction?e.width-=s:e.height-=u,c.y=c.parent.y+(c.parent.height-e.height),c.x=c.parent.x+(c.parent.width-e.width),t&&(e.direction=1-e.direction),n||e.addElement(p)},algorithmLowAspectRatio:function(t,n,e){var l=[],a=this,i={x:n.x,y:n.y,parent:n},r=0,o=e.length-1,s=new this.algorithmGroup(n.height,n.width,n.direction,i);return e.forEach(function(e){s.addElement(e.val/n.val*n.height*n.width),s.lP.nR>s.lP.lR&&a.algorithmCalcPoints(t,!1,s,l,i),r===o&&a.algorithmCalcPoints(t,!0,s,l,i),r+=1}),l},algorithmFill:function(t,n,e){var l,a,i,r,o,s=[],u=n.direction,c=n.x,h=n.y,d=n.width,p=n.height;return e.forEach(function(e){l=e.val/n.val*n.height*n.width,a=c,i=h,0===u?(d-=r=l/(o=p),c+=r):(p-=o=l/(r=d),h+=o),s.push({x:a,y:i,width:r,height:o}),t&&(u=1-u)}),s},strip:function(t,n){return this.algorithmLowAspectRatio(!1,t,n)},squarified:function(t,n){return this.algorithmLowAspectRatio(!0,t,n)},sliceAndDice:function(t,n){return this.algorithmFill(!0,t,n)},stripes:function(t,n){return this.algorithmFill(!1,t,n)},translate:function(){var t=this,n=t.options,e=g(t);P.prototype.translate.call(t);var l=t.tree=t.getTree(),a=t.nodeMap[e];t.renderTraverseUpButton(e),t.mapOptionsToLevel=p({from:a.level+1,levels:n.levels,to:l.height,defaults:{levelIsConstant:t.options.levelIsConstant,colorByPoint:n.colorByPoint}}),""===e||a&&a.children.length||(t.setRootNode("",!1),a=t.nodeMap[e=t.rootNode]),x(t.nodeMap[t.rootNode],function(n){var e=!1,l=n.parent;return n.visible=!0,(l||""===l)&&(e=t.nodeMap[l]),e}),x(t.nodeMap[t.rootNode].children,function(t){var n=!1;return t.forEach(function(t){t.visible=!0,t.children.length&&(n=(n||[]).concat(t.children))}),n}),t.setTreeValues(l),t.axisRatio=t.xAxis.len/t.yAxis.len,t.nodeMap[""].pointValues=e={x:0,y:0,width:100,height:100},t.nodeMap[""].values=e=O(e,{width:e.width*t.axisRatio,direction:"vertical"===n.layoutStartingDirection?0:1,val:l.val}),t.calculateChildrenAreas(l,e),t.colorAxis||n.colorByPoint||t.setColorRecursive(t.tree),n.allowTraversingTree&&(t.xAxis.setExtremes((n=a.pointValues).x,n.x+n.width,!1),t.yAxis.setExtremes(n.y,n.y+n.height,!1),t.xAxis.setScale(),t.yAxis.setScale()),t.setPointValues()},drawDataLabels:function(){var t,n,e=this,l=e.mapOptionsToLevel;e.points.filter(function(t){return t.node.visible}).forEach(function(a){n=l[a.node.level],t={style:{}},a.node.isLeaf||(t.enabled=!1),n&&n.dataLabels&&(t=O(t,n.dataLabels),e._hasPointLabels=!0),a.shapeArgs&&(t.style.width=a.shapeArgs.width,a.dataLabel&&a.dataLabel.css({width:a.shapeArgs.width+"px"})),a.dlOptions=O(t,a.options.dataLabels)}),P.prototype.drawDataLabels.call(this)},alignDataLabel:function(t,n,e){var l=e.style;!f(l.textOverflow)&&n.text&&n.getBBox().width>n.text.textWidth&&n.css({textOverflow:"ellipsis",width:l.width+="px"}),u.column.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},pointAttribs:function(t,n){var e=_(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},l=t&&e[t.node.level]||{};e=this.options;var a=n&&e.states[n]||{},i=t&&t.getClassName()||"";return t={stroke:t&&t.borderColor||l.borderColor||a.borderColor||e.borderColor,"stroke-width":T(t&&t.borderWidth,l.borderWidth,a.borderWidth,e.borderWidth),dashstyle:t&&t.borderDashStyle||l.borderDashStyle||a.borderDashStyle||e.borderDashStyle,fill:t&&t.color||this.color},-1!==i.indexOf("highcharts-above-level")?(t.fill="none",t["stroke-width"]=0):-1!==i.indexOf("highcharts-internal-node-interactive")?(n=T(a.opacity,e.opacity),t.fill=c(t.fill).setOpacity(n).get(),t.cursor="pointer"):-1!==i.indexOf("highcharts-internal-node")?t.fill="none":n&&(t.fill=c(t.fill).brighten(a.brightness).get()),t},drawPoints:function(){var t=this,n=t.chart,e=n.renderer,l=n.styledMode,a=t.options,i=l?{}:a.shadow,r=a.borderRadius,o=n.pointCount<a.animationLimit,s=a.allowTraversingTree;t.points.forEach(function(n){var u=n.node.levelDynamic,c={},h={},d={},p="level-group-"+n.node.level,g=!!n.graphic,m=o&&g,b=n.shapeArgs;n.shouldDraw()&&(r&&(h.r=r),O(!0,m?c:h,g?b:{},l?{}:t.pointAttribs(n,n.selected?"select":void 0)),t.colorAttribs&&l&&v(d,t.colorAttribs(n)),t[p]||(t[p]=e.g(p).attr({zIndex:1e3-(u||0)}).add(t.group),t[p].survive=!0)),n.draw({animatableAttribs:c,attribs:h,css:d,group:t[p],renderer:e,shadow:i,shapeArgs:b,shapeType:"rect"}),s&&n.graphic&&(n.drillId=a.interactByLeaf?t.drillToByLeaf(n):t.drillToByGroup(n))})},onClickDrillToNode:function(t){var n=(t=t.point)&&t.drillId;L(n)&&(t.setState(""),this.setRootNode(n,!0,{trigger:"click"}))},drillToByGroup:function(t){var n=!1;return 1!=t.node.level-this.nodeMap[this.rootNode].level||t.node.isLeaf||(n=t.id),n},drillToByLeaf:function(t){var n=!1;if(t.node.parent!==this.rootNode&&t.node.isLeaf)for(t=t.node;!n;)(t=this.nodeMap[t.parent]).parent===this.rootNode&&(n=t.id);return n},drillUp:function(){var t=this.nodeMap[this.rootNode];t&&L(t.parent)&&this.setRootNode(t.parent,!0,{trigger:"traverseUpButton"})},drillToNode:function(t,n){y(32,!1,void 0,{"treemap.drillToNode":"use treemap.setRootNode"}),this.setRootNode(t,n)},setRootNode:function(t,n,e){t=v({newRootId:t,previousRootId:this.rootNode,redraw:T(n,!0),series:this},e),C(this,"setRootNode",t,function(t){var n=t.series;n.idPreviousRoot=t.previousRootId,n.rootNode=t.newRootId,n.isDirty=!0,t.redraw&&n.chart.redraw()})},renderTraverseUpButton:function(t){var n=this,e=n.options.traverseUpButton,l=T(e.text,n.nodeMap[t].name,"\u25c1 Back");if(""===t||n.is("sunburst")&&1===n.tree.children.length&&t===n.tree.children[0].id)n.drillUpButton&&(n.drillUpButton=n.drillUpButton.destroy());else if(this.drillUpButton)this.drillUpButton.placed=!1,this.drillUpButton.attr({text:l}).align();else{var a=(t=e.theme)&&t.states;this.drillUpButton=this.chart.renderer.button(l,0,0,function(){n.drillUp()},t,a&&a.hover,a&&a.select).addClass("highcharts-drillup-button").attr({align:e.position.align,zIndex:7}).add().align(e.position,!1,e.relativeTo||"plotBox")}},buildKDTree:n,drawLegendSymbol:i.drawRectangle,getExtremes:function(){var t=P.prototype.getExtremes.call(this,this.colorValueData),n=t.dataMax;return this.valueMin=t.dataMin,this.valueMax=n,P.prototype.getExtremes.call(this)},getExtremesFromAll:!0,setState:function(t){this.options.inactiveOtherPoints=!0,P.prototype.setState.call(this,t,!1),this.options.inactiveOtherPoints=!1},utils:{recursive:x}},{draw:l.drawPoint,setVisible:u.pie.prototype.pointClass.prototype.setVisible,getClassName:function(){var t=r.prototype.getClassName.call(this),n=this.series,e=n.options;return this.node.level<=n.nodeMap[n.rootNode].level?t+=" highcharts-above-level":this.node.isLeaf||T(e.interactByLeaf,!e.allowTraversingTree)?this.node.isLeaf||(t+=" highcharts-internal-node"):t+=" highcharts-internal-node-interactive",t},isValid:function(){return!(!this.id&&!M(this.value))},setState:function(t){r.prototype.setState.call(this,t),this.graphic&&this.graphic.attr({zIndex:"hover"===t?1:0})},shouldDraw:function(){return M(this.plotY)&&null!==this.y}}),m(a.Series,"afterBindAxes",function(){var t=this.xAxis,n=this.yAxis;if(t&&n)if(this.is("treemap")){var e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};v(n.options,e),v(t.options,e),w=!0}else w&&(n.setOptions(n.userOptions),t.setOptions(t.userOptions),w=!1)})}),n(t,"masters/modules/treemap.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},13:function(t,n){},"16wW":function(t,n,e){"use strict";var l={};(0,e("vn/o").assign)(l,e("QSbz"),e("cX6o"),e("LOvY")),t.exports=l},"18sg":function(t,n){!function(t){var n={};function e(l){if(n[l])return n[l].exports;var a=n[l]={i:l,l:!1,exports:{}};return t[l].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,l){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:l})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(l,a,(function(n){return t[n]}).bind(null,a));return l},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=59)}([function(t,n,e){var l=e(127);t.exports=function(t,n,e){var a=null==t?void 0:l(t,n);return void 0===a?e:a}},function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n,e){var l=e(27),a="object"==typeof self&&self&&self.Object===Object&&self,i=l||a||Function("return this")();t.exports=i},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n){var e=Array.isArray;t.exports=e},function(t,n,e){"use strict";function l(t,n,e){void 0===e&&(e={});var l={type:"Feature"};return 0!==e.id&&!e.id||(l.id=e.id),e.bbox&&(l.bbox=e.bbox),l.properties=n||{},l.geometry=t,l}function a(t,n,e){return void 0===e&&(e={}),l({type:"Point",coordinates:t},n,e)}function i(t,n,e){void 0===e&&(e={});for(var a=0,i=t;a<i.length;a++){var r=i[a];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}return l({type:"Polygon",coordinates:t},n,e)}function r(t,n,e){if(void 0===e&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return l({type:"LineString",coordinates:t},n,e)}function o(t,n){void 0===n&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}function s(t,n,e){return void 0===e&&(e={}),l({type:"MultiLineString",coordinates:t},n,e)}function u(t,n,e){return void 0===e&&(e={}),l({type:"MultiPoint",coordinates:t},n,e)}function c(t,n,e){return void 0===e&&(e={}),l({type:"MultiPolygon",coordinates:t},n,e)}function h(t,e){void 0===e&&(e="kilometers");var l=n.factors[e];if(!l)throw new Error(e+" units is invalid");return t*l}function d(t,e){void 0===e&&(e="kilometers");var l=n.factors[e];if(!l)throw new Error(e+" units is invalid");return t/l}function p(t){return t%(2*Math.PI)*180/Math.PI}function g(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=6371008.8,n.factors={centimeters:100*n.earthRadius,centimetres:100*n.earthRadius,degrees:n.earthRadius/111325,feet:3.28084*n.earthRadius,inches:39.37*n.earthRadius,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:1e3*n.earthRadius,millimetres:1e3*n.earthRadius,nauticalmiles:n.earthRadius/1852,radians:1,yards:n.earthRadius/1.0936},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1/1.0936},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},n.feature=l,n.geometry=function(t,n,e){switch(void 0===e&&(e={}),t){case"Point":return a(n).geometry;case"LineString":return r(n).geometry;case"Polygon":return i(n).geometry;case"MultiPoint":return u(n).geometry;case"MultiLineString":return s(n).geometry;case"MultiPolygon":return c(n).geometry;default:throw new Error(t+" is invalid")}},n.point=a,n.points=function(t,n,e){return void 0===e&&(e={}),o(t.map(function(t){return a(t,n)}),e)},n.polygon=i,n.polygons=function(t,n,e){return void 0===e&&(e={}),o(t.map(function(t){return i(t,n)}),e)},n.lineString=r,n.lineStrings=function(t,n,e){return void 0===e&&(e={}),o(t.map(function(t){return r(t,n)}),e)},n.featureCollection=o,n.multiLineString=s,n.multiPoint=u,n.multiPolygon=c,n.geometryCollection=function(t,n,e){return void 0===e&&(e={}),l({type:"GeometryCollection",geometries:t},n,e)},n.round=function(t,n){if(void 0===n&&(n=0),n&&!(0<=n))throw new Error("precision must be a positive number");var e=Math.pow(10,n||0);return Math.round(t*e)/e},n.radiansToLength=h,n.lengthToRadians=d,n.lengthToDegrees=function(t,n){return p(d(t,n))},n.bearingToAzimuth=function(t){var n=t%360;return n<0&&(n+=360),n},n.radiansToDegrees=p,n.degreesToRadians=function(t){return t%360*Math.PI/180},n.convertLength=function(t,n,e){if(void 0===n&&(n="kilometers"),void 0===e&&(e="kilometers"),!(0<=t))throw new Error("length must be a positive number");return h(d(t,n),e)},n.convertArea=function(t,e,l){if(void 0===e&&(e="meters"),void 0===l&&(l="kilometers"),!(0<=t))throw new Error("area must be a positive number");var a=n.areaFactors[e];if(!a)throw new Error("invalid original units");var i=n.areaFactors[l];if(!i)throw new Error("invalid final units");return t/a*i},n.isNumber=g,n.isObject=function(t){return!!t&&t.constructor===Object},n.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!g(t))throw new Error("bbox must only contain numbers")})},n.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},n.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},n.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},n.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},n.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},n.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},n.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},n.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(5);function a(t,n,e,l,a,i,r,o){var s,u,c,h,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(s=(o-i)*(e-t)-(r-a)*(l-n))?null!==d.x&&null!==d.y&&d:(h=(e-t)*(u=n-i)-(l-n)*(c=t-a),u=((r-a)*u-(o-i)*c)/s,c=h/s,d.x=t+u*(e-t),d.y=n+u*(l-n),0<=u&&u<=1&&(d.onLine1=!0),0<=c&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}n.default=function(t){var n,e,i={type:"FeatureCollection",features:[]};if("LineString"===(e="Feature"===t.type?t.geometry:t).type)n=[e.coordinates];else if("MultiLineString"===e.type)n=e.coordinates;else if("MultiPolygon"===e.type)n=[].concat.apply([],e.coordinates);else{if("Polygon"!==e.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");n=e.coordinates}return n.forEach(function(t){n.forEach(function(n){for(var e=0;e<t.length-1;e++)for(var r=e;r<n.length-1;r++){if(t===n){if(1===Math.abs(e-r))continue;if(0===e&&r===t.length-2&&t[e][0]===t[t.length-1][0]&&t[e][1]===t[t.length-1][1])continue}var o=a(t[e][0],t[e][1],t[e+1][0],t[e+1][1],n[r][0],n[r][1],n[r+1][0],n[r+1][1]);o&&i.features.push(l.point([o[0],o[1]]))}})}),i}},function(t,n,e){"use strict";var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(5),i=e(40),r=l(e(138)),o=e(14),s=l(e(139));function u(t,n){var e=i.getCoords(t),l=i.getCoords(n);if(2!==e.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==l.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=e[0][0],o=e[0][1],s=e[1][0],u=e[1][1],c=l[0][0],h=l[0][1],d=l[1][0],p=l[1][1],g=(p-h)*(s-r)-(d-c)*(u-o);if(0==g)return null;var m=((d-c)*(o-h)-(p-h)*(r-c))/g,b=((s-r)*(o-h)-(u-o)*(r-c))/g;return 0<=m&&m<=1&&0<=b&&b<=1?a.point([r+m*(s-r),o+m*(u-o)]):null}n.default=function(t,n){var e={},l=[];if("LineString"===t.type&&(t=a.feature(t)),"LineString"===n.type&&(n=a.feature(n)),"Feature"===t.type&&"Feature"===n.type&&null!==t.geometry&&null!==n.geometry&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var c=u(t,n);return c&&l.push(c),a.featureCollection(l)}var h=s.default();return h.load(r.default(n)),o.featureEach(r.default(t),function(t){o.featureEach(h.search(t),function(n){var a=u(t,n);if(a){var r=i.getCoords(a).join(",");e[r]||(e[r]=!0,l.push(a))}})}),a.featureCollection(l)}},function(t,n,e){var l=e(17),a=e(75),i=e(76),r=l?l.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":r&&r in Object(t)?a(t):i(t)}},function(t,n,e){var l=e(63),a=e(64),i=e(65),r=e(66),o=e(67);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var l=t[n];this.set(l[0],l[1])}}s.prototype.clear=l,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,t.exports=s},function(t,n,e){var l=e(11);t.exports=function(t,n){for(var e=t.length;e--;)if(l(t[e][0],n))return e;return-1}},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n,e){var l=e(15)(Object,"create");t.exports=l},function(t,n,e){var l=e(89);t.exports=function(t,n){var e=t.__data__;return l(n)?e["string"==typeof n?"string":"hash"]:e.map}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(5);function a(t,n,e){if(null!==t)for(var l,i,r,o,s,u,c,h,d=0,p=0,g=t.type,m="FeatureCollection"===g,b="Feature"===g,f=m?t.features.length:1,y=0;y<f;y++){s=(h=!!(c=m?t.features[y].geometry:b?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<s;v++){var C=0,S=0;if(null!==(o=h?c.geometries[v]:c)){u=o.coordinates;var M=o.type;switch(d=!e||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===n(u,p,y,C,S))return!1;p++,C++;break;case"LineString":case"MultiPoint":for(l=0;l<u.length;l++){if(!1===n(u[l],p,y,C,S))return!1;p++,"MultiPoint"===M&&C++}"LineString"===M&&C++;break;case"Polygon":case"MultiLineString":for(l=0;l<u.length;l++){for(i=0;i<u[l].length-d;i++){if(!1===n(u[l][i],p,y,C,S))return!1;p++}"MultiLineString"===M&&C++,"Polygon"===M&&S++}"Polygon"===M&&C++;break;case"MultiPolygon":for(l=0;l<u.length;l++){for(i=S=0;i<u[l].length;i++){for(r=0;r<u[l][i].length-d;r++){if(!1===n(u[l][i][r],p,y,C,S))return!1;p++}S++}C++}break;case"GeometryCollection":for(l=0;l<o.geometries.length;l++)if(!1===a(o.geometries[l],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(t,n){var e;switch(t.type){case"FeatureCollection":for(e=0;e<t.features.length&&!1!==n(t.features[e].properties,e);e++);break;case"Feature":n(t.properties,0)}}function r(t,n){if("Feature"===t.type)n(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==n(t.features[e],e);e++);}function o(t,n){var e,l,a,i,r,o,s,u,c,h,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,m=p?t.features.length:1;for(e=0;e<m;e++){for(u=p?t.features[e].properties:g?t.properties:{},c=p?t.features[e].bbox:g?t.bbox:void 0,h=p?t.features[e].id:g?t.id:void 0,r=(s=!!(o=p?t.features[e].geometry:g?t.geometry:t)&&"GeometryCollection"===o.type)?o.geometries.length:1,a=0;a<r;a++)if(null!==(i=s?o.geometries[a]:o))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(i,d,u,c,h))return!1;break;case"GeometryCollection":for(l=0;l<i.geometries.length;l++)if(!1===n(i.geometries[l],d,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,d,u,c,h))return!1;d++}}function s(t,n){o(t,function(t,e,a,i,r){var o,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==n(l.feature(t,a,{bbox:i,id:r}),e,0)&&void 0}switch(s){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}for(var u=0;u<t.coordinates.length;u++)if(!1===n(l.feature({type:o,coordinates:t.coordinates[u]},a),e,u))return!1})}function u(t,n){s(t,function(t,e,i){var r=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,u=0,c=0,h=0;return!1!==a(t,function(a,o,d,p,g){if(void 0===s||u<e||c<p||h<g)return s=a,u=e,c=p,h=g,void(r=0);var m=l.lineString([s,a],t.properties);if(!1===n(m,e,i,g,r))return!1;r++,s=a})&&void 0}}})}function c(t,n){if(!t)throw new Error("geojson is required");s(t,function(t,e,a){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===n(t,e,a,0,0))return!1;break;case"Polygon":for(var r=0;r<i.length;r++)if(!1===n(l.lineString(i[r],t.properties),e,a,r))return!1}}})}n.coordEach=a,n.coordReduce=function(t,n,e,l){var i=e;return a(t,function(t,l,a,r,o){i=0===l&&void 0===e?t:n(i,t,l,a,r,o)},l),i},n.propEach=i,n.propReduce=function(t,n,e){var l=e;return i(t,function(t,a){l=0===a&&void 0===e?t:n(l,t,a)}),l},n.featureEach=r,n.featureReduce=function(t,n,e){var l=e;return r(t,function(t,a){l=0===a&&void 0===e?t:n(l,t,a)}),l},n.coordAll=function(t){var n=[];return a(t,function(t){n.push(t)}),n},n.geomEach=o,n.geomReduce=function(t,n,e){var l=e;return o(t,function(t,a,i,r,o){l=0===a&&void 0===e?t:n(l,t,a,i,r,o)}),l},n.flattenEach=s,n.flattenReduce=function(t,n,e){var l=e;return s(t,function(t,a,i){l=0===a&&0===i&&void 0===e?t:n(l,t,a,i)}),l},n.segmentEach=u,n.segmentReduce=function(t,n,e){var l=e,a=!1;return u(t,function(t,i,r,o,s){l=!1===a&&void 0===e?t:n(l,t,i,r,o,s),a=!0}),l},n.lineEach=c,n.lineReduce=function(t,n,e){var l=e;return c(t,function(t,a,i,r){l=0===a&&void 0===e?t:n(l,t,a,i,r)}),l},n.findSegment=function(t,n){if(!l.isObject(n=n||{}))throw new Error("options is invalid");var e,a=n.featureIndex||0,i=n.multiFeatureIndex||0,r=n.geometryIndex||0,o=n.segmentIndex||0,s=n.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),s=s||t.features[a].properties,e=t.features[a].geometry;break;case"Feature":s=s||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var u=e.coordinates;switch(e.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=u.length+o-1),l.lineString([u[o],u[o+1]],s,n);case"Polygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o-1),l.lineString([u[r][o],u[r][o+1]],s,n);case"MultiLineString":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o-1),l.lineString([u[i][o],u[i][o+1]],s,n);case"MultiPolygon":return i<0&&(i=u.length+i),r<0&&(r=u[i].length+r),o<0&&(o=u[i][r].length-o-1),l.lineString([u[i][r][o],u[i][r][o+1]],s,n)}throw new Error("geojson is invalid")},n.findPoint=function(t,n){if(!l.isObject(n=n||{}))throw new Error("options is invalid");var e,a=n.featureIndex||0,i=n.multiFeatureIndex||0,r=n.geometryIndex||0,o=n.coordIndex||0,s=n.properties;switch(t.type){case"FeatureCollection":a<0&&(a=t.features.length+a),s=s||t.features[a].properties,e=t.features[a].geometry;break;case"Feature":s=s||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var u=e.coordinates;switch(e.type){case"Point":return l.point(u,s,n);case"MultiPoint":return i<0&&(i=u.length+i),l.point(u[i],s,n);case"LineString":return o<0&&(o=u.length+o),l.point(u[o],s,n);case"Polygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),l.point(u[r][o],s,n);case"MultiLineString":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),l.point(u[i][o],s,n);case"MultiPolygon":return i<0&&(i=u.length+i),r<0&&(r=u[i].length+r),o<0&&(o=u[i][r].length-o),l.point(u[i][r][o],s,n)}throw new Error("geojson is invalid")}},function(t,n,e){var l=e(73),a=e(80);t.exports=function(t,n){var e=a(t,n);return l(e)?e:void 0}},function(t,n,e){var l=e(8),a=e(1);t.exports=function(t){if(!a(t))return!1;var n=l(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(t,n,e){var l=e(2).Symbol;t.exports=l},function(t,n,e){var l=e(30);t.exports=function(t,n,e){"__proto__"==n&&l?l(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){var l=e(104),a=e(3),i=Object.prototype,r=i.hasOwnProperty,o=i.propertyIsEnumerable,s=l(function(){return arguments}())?l:function(t){return a(t)&&r.call(t,"callee")&&!o.call(t,"callee")};t.exports=s},function(t,n,e){var l=e(16),a=e(22);t.exports=function(t){return null!=t&&a(t.length)&&!l(t)}},function(t,n){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,n){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var l=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==l||"symbol"!=l&&e.test(t))&&-1<t&&t%1==0&&t<n}},function(t,n,e){var l=e(8),a=e(3);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==l(t)}},function(t,n,e){(function(n){t.exports=function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var l=n[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function l(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}var a=function n(e,l){t(this,n),this.next=null,this.key=e,this.data=l,this.left=null,this.right=null};function i(t,n){return n<t?1:t<n?-1:0}function r(t,n,e){for(var l=new a(null,null),i=l,r=l;;){var o=e(t,n.key);if(o<0){if(null===n.left)break;if(e(t,n.left.key)<0){var s=n.left;if(n.left=s.right,s.right=n,null===(n=s).left)break}r.left=n,n=(r=n).left}else{if(!(0<o))break;if(null===n.right)break;if(0<e(t,n.right.key)){var u=n.right;if(n.right=u.left,u.left=n,null===(n=u).right)break}i.right=n,n=(i=n).right}}return i.right=n.left,r.left=n.right,n.left=l.right,n.right=l.left,n}function o(t,n,e,l){var i=new a(t,n);if(null===e)return i.left=i.right=null,i;var o=l(t,(e=r(t,e,l)).key);return o<0?(i.left=e.left,(i.right=e).left=null):0<=o&&(i.right=e.right,(i.left=e).right=null),i}function s(t,n,e){var l=null,a=null;if(n){var i=e((n=r(t,n,e)).key,t);0===i?(l=n.left,a=n.right):i<0?(a=n.right,n.right=null,l=n):(l=n.left,n.left=null,a=n)}return{left:l,right:a}}var u=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i;t(this,n),this._root=null,this._size=0,this._comparator=e}return l(n,[{key:"insert",value:function(t,n){return this._size++,this._root=o(t,n,this._root,this._comparator)}},{key:"add",value:function(t,n){var e=new a(t,n);null===this._root&&(e.left=e.right=null,this._size++,this._root=e);var l=this._comparator,i=r(t,this._root,l),o=l(t,i.key);return 0===o?this._root=i:(o<0?(e.left=i.left,(e.right=i).left=null):0<o&&(e.right=i.right,(e.left=i).right=null),this._size++,this._root=e),this._root}},{key:"remove",value:function(t){this._root=this._remove(t,this._root,this._comparator)}},{key:"_remove",value:function(t,n,e){var l;return null===n?null:0===e(t,(n=r(t,n,e)).key)?(null===n.left?l=n.right:(l=r(t,n.left,e)).right=n.right,this._size--,l):n}},{key:"pop",value:function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=r(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null}},{key:"findStatic",value:function(t){for(var n=this._root,e=this._comparator;n;){var l=e(t,n.key);if(0===l)return n;n=l<0?n.left:n.right}return null}},{key:"find",value:function(t){return this._root&&(this._root=r(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root}},{key:"contains",value:function(t){for(var n=this._root,e=this._comparator;n;){var l=e(t,n.key);if(0===l)return!0;n=l<0?n.left:n.right}return!1}},{key:"forEach",value:function(t,n){for(var e=this._root,l=[],a=!1;!a;)null!==e?(l.push(e),e=e.left):0!==l.length?(e=l.pop(),t.call(n,e),e=e.right):a=!0;return this}},{key:"range",value:function(t,n,e,l){for(var a=[],i=this._comparator,r=this._root;0!==a.length||r;)if(r)a.push(r),r=r.left;else{if(0<i((r=a.pop()).key,n))break;if(0<=i(r.key,t)&&e.call(l,r))return this;r=r.right}return this}},{key:"keys",value:function(){var t=[];return this.forEach(function(n){return t.push(n.key)}),t}},{key:"values",value:function(){var t=[];return this.forEach(function(n){return t.push(n.data)}),t}},{key:"min",value:function(){return this._root?this.minNode(this._root).key:null}},{key:"max",value:function(){return this._root?this.maxNode(this._root).key:null}},{key:"minNode",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root;if(t)for(;t.left;)t=t.left;return t}},{key:"maxNode",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._root;if(t)for(;t.right;)t=t.right;return t}},{key:"at",value:function(t){for(var n=this._root,e=!1,l=0,a=[];!e;)if(n)a.push(n),n=n.left;else if(0<a.length){if(n=a.pop(),l===t)return n;l++,n=n.right}else e=!0;return null}},{key:"next",value:function(t){var n=this._root,e=null;if(t.right){for(e=t.right;e.left;)e=e.left;return e}for(var l=this._comparator;n;){var a=l(t.key,n.key);if(0===a)break;n=a<0?(e=n).left:n.right}return e}},{key:"prev",value:function(t){var n=this._root,e=null;if(null!==t.left){for(e=t.left;e.right;)e=e.right;return e}for(var l=this._comparator;n;){var a=l(t.key,n.key);if(0===a)break;n=a<0?n.left:(e=n).right}return e}},{key:"clear",value:function(){return this._root=null,this._size=0,this}},{key:"toList",value:function(){return function(t){for(var n=t,e=[],l=!1,i=new a(null,null),r=i;!l;)n?(e.push(n),n=n.left):0<e.length?n=(n=r=r.next=e.pop()).right:l=!0;return r.next=null,i.next}(this._root)}},{key:"load",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],e=t.length,l=this._comparator;if(2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&function t(n,e,l,a,i){if(!(a<=l)){for(var r=n[l+a>>1],o=l-1,s=a+1;;){for(;i(n[++o],r)<0;);for(;0<i(n[--s],r););if(s<=o)break;var u=n[o];n[o]=n[s],n[s]=u,u=e[o],e[o]=e[s],e[s]=u}t(n,e,l,s,i),t(n,e,s+1,a,i)}}(t,n,0,e-1,l),null===this._root)this._root=function t(n,e,l,i){var r=i-l;if(0<r){var o=l+Math.floor(r/2),s=new a(n[o],e[o]);return s.left=t(n,e,l,o),s.right=t(n,e,o+1,i),s}return null}(t,n,0,e),this._size=e;else{var i=function(t,n,e){for(var l=new a(null,null),i=l,r=t,o=n;null!==r&&null!==o;)e(r.key,o.key)<0?r=(i.next=r).next:o=(i.next=o).next,i=i.next;return null!==r?i.next=r:null!==o&&(i.next=o),l.next}(this.toList(),function(t,n){for(var e=new a(null,null),l=e,i=0;i<t.length;i++)l=l.next=new a(t[i],n[i]);return l.next=null,e.next}(t,n),l);this._root=function t(n,e,l){var a=l-e;if(0<a){var i=e+Math.floor(a/2),r=t(n,e,i),o=n.head;return o.left=r,n.head=n.head.next,o.right=t(n,i+1,l),o}return null}({head:i},0,e=this._size+e)}return this}},{key:"isEmpty",value:function(){return null===this._root}},{key:"toString",value:function(){var t=[];return function t(n,e,l,a,i){if(n){a("".concat(e).concat(l?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ").concat(i(n),"\n"));var r=e+(l?"    ":"\u2502   ");n.left&&t(n.left,r,!1,a,i),n.right&&t(n.right,r,!0,a,i)}}(this._root,"",!0,function(n){return t.push(n)},0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(t){return String(t.key)}),t.join("")}},{key:"update",value:function(t,n,e){var l=this._comparator,a=s(t,this._root,l),i=a.left,u=a.right;l(t,n)<0?u=o(n,e,u,l):i=o(n,e,i,l),this._root=function(t,n,e){return null===n?t:(null===t||((n=r(t.key,n,l)).left=t),n)}(i,u)}},{key:"split",value:function(t){return s(t,this._root,this._comparator)}},{key:"size",get:function(){return this._size}},{key:"root",get:function(){return this._root}}]),n}(),c=function(t,n){return t.ll.x<=n.x&&n.x<=t.ur.x&&t.ll.y<=n.y&&n.y<=t.ur.y},h=function(t,n){return n.ur.x<t.ll.x||t.ur.x<n.ll.x||n.ur.y<t.ll.y||t.ur.y<n.ll.y?null:{ll:{x:t.ll.x<n.ll.x?n.ll.x:t.ll.x,y:t.ll.y<n.ll.y?n.ll.y:t.ll.y},ur:{x:t.ur.x<n.ur.x?t.ur.x:n.ur.x,y:t.ur.y<n.ur.y?t.ur.y:n.ur.y}}},d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));var p=d*d,g=function(t,n){if(-d<t&&t<d&&-d<n&&n<d)return 0;var e=t-n;return e*e<p*t*n?0:t<n?-1:1},m=function(){function n(){t(this,n),this.reset()}return l(n,[{key:"reset",value:function(){this.xRounder=new b,this.yRounder=new b}},{key:"round",value:function(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}]),n}(),b=function(){function n(){t(this,n),this.tree=new u,this.round(0)}return l(n,[{key:"round",value:function(t){var n=this.tree.add(t),e=this.tree.prev(n);if(null!==e&&0===g(n.key,e.key))return this.tree.remove(t),e.key;var l=this.tree.next(n);return null!==l&&0===g(n.key,l.key)?(this.tree.remove(t),l.key):t}}]),n}(),f=new m,y=function(t,n){return t.x*n.y-t.y*n.x},v=function(t,n){return t.x*n.x+t.y*n.y},C=function(t,n,e){var l=y({x:n.x-t.x,y:n.y-t.y},{x:e.x-t.x,y:e.y-t.y});return g(l,0)},S=function(t){return Math.sqrt(v(t,t))},M=function(t,n,e){var l={x:n.x-t.x,y:n.y-t.y},a={x:e.x-t.x,y:e.y-t.y};return y(a,l)/S(a)/S(l)},_=function(t,n,e){var l={x:n.x-t.x,y:n.y-t.y},a={x:e.x-t.x,y:e.y-t.y};return v(a,l)/S(a)/S(l)},L=function(t,n,e){return 0===n.y?null:{x:t.x+n.x/n.y*(e-t.y),y:e}},O=function(t,n,e){return 0===n.x?null:{x:e,y:t.y+n.y/n.x*(e-t.x)}},A=function(){function n(e,l){t(this,n),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=l}return l(n,null,[{key:"compare",value:function(t,e){var l=n.comparePoints(t.point,e.point);return 0!==l?l:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:D.compare(t.segment,e.segment))}},{key:"comparePoints",value:function(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}}]),l(n,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var n=t.point.events,e=0,l=n.length;e<l;e++){var a=n[e];this.point.events.push(a),a.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,n=0;n<t;n++){var e=this.point.events[n];if(void 0===e.segment.consumedBy)for(var l=n+1;l<t;l++){var a=this.point.events[l];void 0===a.consumedBy&&e.otherSE.point.events===a.otherSE.point.events&&e.segment.consume(a.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],n=0,e=this.point.events.length;n<e;n++){var l=this.point.events[n];l!==this&&!l.segment.ringOut&&l.segment.isInResult()&&t.push(l)}return t}},{key:"getLeftmostComparator",value:function(t){var n=this,e=new Map,l=function(l){var a=l.otherSE;e.set(l,{sine:M(n.point,t.point,a.point),cosine:_(n.point,t.point,a.point)})};return function(t,n){e.has(t)||l(t),e.has(n)||l(n);var a=e.get(t),i=a.sine,r=a.cosine,o=e.get(n),s=o.sine,u=o.cosine;return 0<=i&&0<=s?r<u?1:u<r?-1:0:i<0&&s<0?r<u?-1:u<r?1:0:s<i?-1:i<s?1:0}}}]),n}(),T=0,D=function(){function n(e,l,a,i){t(this,n),this.id=++T,(this.leftSE=e).segment=this,e.otherSE=l,(this.rightSE=l).segment=this,l.otherSE=e,this.rings=a,this.windings=i}return l(n,null,[{key:"compare",value:function(t,n){var e=t.leftSE.point.x,l=n.leftSE.point.x,a=t.rightSE.point.x,i=n.rightSE.point.x;if(i<e)return 1;if(a<l)return-1;var r=t.leftSE.point.y,o=n.leftSE.point.y,s=t.rightSE.point.y,u=n.rightSE.point.y;if(e<l){if(o<r&&o<s)return 1;if(r<o&&s<o)return-1;var c=t.comparePoint(n.leftSE.point);if(c<0)return 1;if(0<c)return-1;var h=n.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(l<e){if(r<o&&r<u)return-1;if(o<r&&u<r)return 1;var d=n.comparePoint(t.leftSE.point);if(0!==d)return d;var p=t.comparePoint(n.rightSE.point);return p<0?1:0<p?-1:1}if(r<o)return-1;if(o<r)return 1;if(a<i){var g=n.comparePoint(t.rightSE.point);if(0!==g)return g}if(i<a){var m=t.comparePoint(n.rightSE.point);if(m<0)return 1;if(0<m)return-1}if(a!==i){var b=s-r,f=a-e,y=u-o,v=i-l;if(f<b&&y<v)return 1;if(b<f&&v<y)return-1}return i<a?1:a<i||s<u?-1:u<s?1:t.id<n.id?-1:t.id>n.id?1:0}}]),l(n,[{key:"replaceRightSE",value:function(t){this.rightSE=t,(this.rightSE.segment=this).rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:n<t?t:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var n=this.leftSE.point,e=this.rightSE.point,l=this.vector();if(n.x===e.x)return t.x===n.x?0:t.x<n.x?1:-1;if(t.x===n.x+(t.y-n.y)/l.y*l.x)return 0;var a=n.y+(t.x-n.x)/l.x*l.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var n=this.bbox(),e=t.bbox(),l=h(n,e);if(null===l)return null;var a=this.leftSE.point,i=this.rightSE.point,r=t.leftSE.point,o=t.rightSE.point,s=c(n,r)&&0===this.comparePoint(r),u=c(e,a)&&0===t.comparePoint(a),d=c(n,o)&&0===this.comparePoint(o),p=c(e,i)&&0===t.comparePoint(i);if(u&&s)return p&&!d?i:!p&&d?o:null;if(u)return d&&a.x===o.x&&a.y===o.y?null:a;if(s)return p&&i.x===r.x&&i.y===r.y?null:r;if(p&&d)return null;if(p)return i;if(d)return o;var g=function(t,n,e,l){if(0===n.x)return O(e,l,t.x);if(0===l.x)return O(t,n,e.x);if(0===n.y)return L(e,l,t.y);if(0===l.y)return L(t,n,e.y);var a=y(n,l);if(0==a)return null;var i={x:e.x-t.x,y:e.y-t.y},r=y(i,n)/a,o=y(i,l)/a;return{x:(t.x+o*n.x+(e.x+r*l.x))/2,y:(t.y+o*n.y+(e.y+r*l.y))/2}}(a,this.vector(),r,t.vector());return null===g?null:c(l,g)?f.round(g.x,g.y):null}},{key:"split",value:function(t){var e=[],l=void 0!==t.events,a=new A(t,!0),i=new A(t,!1),r=this.rightSE;this.replaceRightSE(i),e.push(i),e.push(a);var o=new n(a,r,this.rings.slice(),this.windings.slice());return 0<A.comparePoints(o.leftSE.point,o.rightSE.point)&&o.swapEvents(),0<A.comparePoints(this.leftSE.point,this.rightSE.point)&&this.swapEvents(),l&&(a.checkForConsuming(),i.checkForConsuming()),e}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,e=this.windings.length;n<e;n++)this.windings[n]*=-1}},{key:"consume",value:function(t){for(var e=this,l=t;e.consumedBy;)e=e.consumedBy;for(;l.consumedBy;)l=l.consumedBy;var a=n.compare(e,l);if(0!==a){if(0<a){var i=e;e=l,l=i}if(e.prev===l){var r=e;e=l,l=r}for(var o=0,s=l.rings.length;o<s;o++){var u=l.rings[o],c=l.windings[o],h=e.rings.indexOf(u);-1===h?(e.rings.push(u),e.windings.push(c)):e.windings[h]+=c}l.rings=null,l.windings=null,l.consumedBy=e,l.leftSE.consumedBy=e.leftSE,l.rightSE.consumedBy=e.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState?this._beforeState:(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]},this._beforeState)}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,e=this._afterState.windings,l=this._afterState.multiPolys,a=0,i=this.rings.length;a<i;a++){var r=this.rings[a],o=this.windings[a],s=n.indexOf(r);-1===s?(n.push(r),e.push(o)):e[s]+=o}for(var u=[],c=[],h=0,d=n.length;h<d;h++)if(0!==e[h]){var p=n[h],g=p.poly;if(-1===c.indexOf(g))if(p.isExterior)u.push(g);else{-1===c.indexOf(g)&&c.push(g);var m=u.indexOf(p.poly);-1!==m&&u.splice(m,1)}}for(var b=0,f=u.length;b<f;b++){var y=u[b].multiPoly;-1===l.indexOf(y)&&l.push(y)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(U.type){case"union":this._isInResult=0===t.length!=(0===n.length);break;case"intersection":var e,l;l=t.length<n.length?(e=t.length,n.length):(e=n.length,t.length),this._isInResult=l===U.numMultiPolys&&e<l;break;case"xor":var a=Math.abs(t.length-n.length);this._isInResult=a%2==1;break;case"difference":var i=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=i(t)!==i(n);break;default:throw new Error("Unrecognized operation type found ".concat(U.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,e,l){var a,i,r,o=A.comparePoints(t,e);if(o<0)a=t,i=e,r=1;else{if(!(0<o))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));a=e,i=t,r=-1}return new n(new A(a,!0),new A(i,!1),[l],[r])}}]),n}(),P=function(){function n(e,l,a){if(t(this,n),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=l,this.isExterior=a,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=f.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var r=i,o=1,s=e.length;o<s;o++){if("number"!=typeof e[o][0]||"number"!=typeof e[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=f.round(e[o][0],e[o][1]);u.x===r.x&&u.y===r.y||(this.segments.push(D.fromRing(r,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),r=u)}i.x===r.x&&i.y===r.y||this.segments.push(D.fromRing(r,i,this))}return l(n,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,e=this.segments.length;n<e;n++){var l=this.segments[n];t.push(l.leftSE),t.push(l.rightSE)}return t}}]),n}(),x=function(){function n(e,l){if(t(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new P(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,i=e.length;a<i;a++){var r=new P(e[a],this,!1);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=l}return l(n,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),n=0,e=this.interiorRings.length;n<e;n++)for(var l=this.interiorRings[n].getSweepEvents(),a=0,i=l.length;a<i;a++)t.push(l[a]);return t}}]),n}(),w=function(){function n(e,l){if(t(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,i=e.length;a<i;a++){var r=new x(e[a],this);r.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=l}return l(n,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,e=this.polys.length;n<e;n++)for(var l=this.polys[n].getSweepEvents(),a=0,i=l.length;a<i;a++)t.push(l[a]);return t}}]),n}(),k=function(){function n(e){t(this,n),this.events=e;for(var l=0,a=e.length;l<a;l++)e[l].segment.ringOut=this;this.poly=null}return l(n,null,[{key:"factory",value:function(t){for(var e=[],l=0,a=t.length;l<a;l++){var i=t[l];if(i.isInResult()&&!i.ringOut){for(var r=null,o=i.leftSE,s=i.rightSE,u=[o],c=o.point,h=[];r=o,u.push(o=s),o.point!==c;)for(;;){var d=o.getAvailableLinkedEvents();if(0===d.length){var p=u[0].point,g=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(g.x,", ").concat(g.y,"]."))}if(1===d.length){s=d[0].otherSE;break}for(var m=null,b=0,f=h.length;b<f;b++)if(h[b].point===o.point){m=b;break}if(null===m){h.push({index:u.length,point:o.point});var y=o.getLeftmostComparator(r);s=d.sort(y)[0].otherSE;break}var v=h.splice(m)[0],C=u.splice(v.index);C.unshift(C[0].otherSE),e.push(new n(C.reverse()))}e.push(new n(u))}}return e}}]),l(n,[{key:"getGeom",value:function(){for(var t=this.events[0].point,n=[t],e=1,l=this.events.length-1;e<l;e++){var a=this.events[e].point;0!==C(a,t,this.events[e+1].point)&&(n.push(a),t=a)}if(1===n.length)return null;0===C(n[0],t,n[1])&&n.shift(),n.push(n[0]);for(var i=this.isExteriorRing()?1:-1,r=this.isExteriorRing()?0:n.length-1,o=this.isExteriorRing()?n.length:-1,s=[],u=r;u!=o;u+=i)s.push([n[u].x,n[u].y]);return s}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],n=1,e=this.events.length;n<e;n++){var l=this.events[n];0<A.compare(t,l)&&(t=l)}for(var a=t.segment.prevInResult(),i=a?a.prevInResult():null;;){if(!a)return null;if(!i)return a.ringOut;if(i.ringOut!==a.ringOut)return i.ringOut.enclosingRing()!==a.ringOut?a.ringOut:a.ringOut.enclosingRing();i=(a=i.prevInResult())?a.prevInResult():null}}}]),n}(),I=function(){function n(e){t(this,n),((this.exteriorRing=e).poly=this).interiorRings=[]}return l(n,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var n=0,e=this.interiorRings.length;n<e;n++){var l=this.interiorRings[n].getGeom();null!==l&&t.push(l)}return t}}]),n}(),E=function(){function n(e){t(this,n),this.rings=e,this.polys=this._composePolys(e)}return l(n,[{key:"getGeom",value:function(){for(var t=[],n=0,e=this.polys.length;n<e;n++){var l=this.polys[n].getGeom();null!==l&&t.push(l)}return t}},{key:"_composePolys",value:function(t){for(var n=[],e=0,l=t.length;e<l;e++){var a=t[e];if(!a.poly)if(a.isExteriorRing())n.push(new I(a));else{var i=a.enclosingRing();i.poly||n.push(new I(i)),i.poly.addInterior(a)}}return n}}]),n}(),N=function(){function n(e){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:D.compare;t(this,n),this.queue=e,this.tree=new u(l),this.segments=[]}return l(n,[{key:"process",value:function(t){var n=t.segment,e=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),e;var l=t.isLeft?this.tree.insert(n):this.tree.find(n);if(!l)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var a=l,i=l,r=void 0,o=void 0;void 0===r;)null===(a=this.tree.prev(a))?r=null:void 0===a.key.consumedBy&&(r=a.key);for(;void 0===o;)null===(i=this.tree.next(i))?o=null:void 0===i.key.consumedBy&&(o=i.key);if(t.isLeft){var s=null;if(r){var u=r.getIntersection(n);if(null!==u&&(n.isAnEndpoint(u)||(s=u),!r.isAnEndpoint(u)))for(var c=this._splitSafely(r,u),h=0,d=c.length;h<d;h++)e.push(c[h])}var p=null;if(o){var g=o.getIntersection(n);if(null!==g&&(n.isAnEndpoint(g)||(p=g),!o.isAnEndpoint(g)))for(var m=this._splitSafely(o,g),b=0,f=m.length;b<f;b++)e.push(m[b])}if(null!==s||null!==p){var y;y=null===s?p:null===p?s:A.comparePoints(s,p)<=0?s:p,this.queue.remove(n.rightSE),e.push(n.rightSE);for(var v=n.split(y),C=0,S=v.length;C<S;C++)e.push(v[C])}0<e.length?(this.tree.remove(n),e.push(t)):(this.segments.push(n),n.prev=r)}else{if(r&&o){var M=r.getIntersection(o);if(null!==M){if(!r.isAnEndpoint(M))for(var _=this._splitSafely(r,M),L=0,O=_.length;L<O;L++)e.push(_[L]);if(!o.isAnEndpoint(M))for(var T=this._splitSafely(o,M),D=0,P=T.length;D<P;D++)e.push(T[D])}}this.tree.remove(n)}return e}},{key:"_splitSafely",value:function(t,n){this.tree.remove(t);var e=t.rightSE;this.queue.remove(e);var l=t.split(n);return l.push(e),void 0===t.consumedBy&&this.tree.insert(t),l}}]),n}(),F=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,B=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,U=new(function(){function n(){t(this,n)}return l(n,[{key:"run",value:function(t,n,e){U.type=t,f.reset();for(var l=[new w(n,!0)],a=0,i=e.length;a<i;a++)l.push(new w(e[a],!1));if(U.numMultiPolys=l.length,"difference"===U.type)for(var r=l[0],o=1;o<l.length;)null!==h(l[o].bbox,r.bbox)?o++:l.splice(o,1);if("intersection"===U.type)for(var s=0,c=l.length;s<c;s++)for(var d=l[s],p=s+1,g=l.length;p<g;p++)if(null===h(d.bbox,l[p].bbox))return[];for(var m=new u(A.compare),b=0,y=l.length;b<y;b++)for(var v=l[b].getSweepEvents(),C=0,S=v.length;C<S;C++)if(m.insert(v[C]),m.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var M=new N(m),_=m.size,L=m.pop();L;){var O=L.key;if(m.size===_){var T=O.segment;throw new Error("Unable to pop() ".concat(O.isLeft?"left":"right"," SweepEvent ")+"[".concat(O.point.x,", ").concat(O.point.y,"] from segment #").concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(M.segments.length>B)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var D=M.process(O),P=0,x=D.length;P<x;P++){var I=D[P];void 0===I.consumedBy&&m.insert(I)}_=m.size,L=m.pop()}f.reset();var R=k.factory(M.segments);return new E(R).getGeom()}}]),n}());return{union:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),l=1;l<n;l++)e[l-1]=arguments[l];return U.run("union",t,e)},intersection:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),l=1;l<n;l++)e[l-1]=arguments[l];return U.run("intersection",t,e)},xor:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),l=1;l<n;l++)e[l-1]=arguments[l];return U.run("xor",t,e)},difference:function(t){for(var n=arguments.length,e=new Array(1<n?n-1:0),l=1;l<n;l++)e[l-1]=arguments[l];return U.run("difference",t,e)}}}()}).call(this,e(137))},function(t,n,e){var l=e(15)(e(2),"Map");t.exports=l},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(74))},function(t,n,e){var l=e(81),a=e(88),i=e(90),r=e(91),o=e(92);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var l=t[n];this.set(l[0],l[1])}}s.prototype.clear=l,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,t.exports=s},function(t,n,e){var l=e(18),a=e(11);t.exports=function(t,n,e){(void 0===e||a(t[n],e))&&(void 0!==e||n in t)||l(t,n,e)}},function(t,n,e){var l=e(15),a=function(){try{var t=l(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=a},function(t,n,e){var l=e(103)(Object.getPrototypeOf,Object);t.exports=l},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){(function(t){var l=e(2),a=e(106),i=n&&!n.nodeType&&n,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=r&&r.exports===i?l.Buffer:void 0;t.exports=(o?o.isBuffer:void 0)||a}).call(this,e(19)(t))},function(t,n,e){var l=e(108),a=e(109),i=e(110),r=i&&i.isTypedArray,o=r?a(r):l;t.exports=o},function(t,n){t.exports=function(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}},function(t,n,e){var l=e(114),a=e(116),i=e(21);t.exports=function(t){return i(t)?l(t,!0):a(t)}},function(t,n){t.exports=function(t){return t}},function(t,n,e){var l=e(4),a=e(128),i=e(129),r=e(132);t.exports=function(t,n){return l(t)?t:a(t,n)?[t]:i(r(t))}},function(t,n,e){var l=e(24);t.exports=function(t){if("string"==typeof t||l(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(5);n.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&2<=t.length&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},n.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},n.containsNumber=function t(n){if(1<n.length&&l.isNumber(n[0])&&l.isNumber(n[1]))return!0;if(Array.isArray(n[0])&&n[0].length)return t(n[0]);throw new Error("coordinates must only contain numbers")},n.geojsonType=function(t,n,e){if(!n||!e)throw new Error("type and name required");if(!t||t.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.type)},n.featureOf=function(t,n,e){if(!t)throw new Error("No feature passed");if(!e)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!t.geometry||t.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.geometry.type)},n.collectionOf=function(t,n,e){if(!t)throw new Error("No featureCollection passed");if(!e)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+e+", FeatureCollection required");for(var l=0,a=t.features;l<a.length;l++){var i=a[l];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!i.geometry||i.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+i.geometry.type)}},n.getGeom=function(t){return"Feature"===t.type?t.geometry:t},n.getType=function(t,n){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},function(t){t.exports=JSON.parse('{"a":"2.7.0"}')},function(t,n,e){var l=e(61),a=e(118)(function(t,n,e){l(t,n,e)});t.exports=a},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex l\xf6schen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer l\xf6schen","drawCircleMarkerButton":"Kreismarker zeichnen"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cherchio"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Adaug\u0103 un punct","firstVertex":"Apas\u0103 aici pentru a ad\u0103uga primul Vertex","continueLine":"Apas\u0103 aici pentru a continua desenul","finishLine":"Apas\u0103 pe orice obiect pentru a finisa desenul","finishPoly":"Apas\u0103 pe primul obiect pentru a finisa","finishRect":"Apas\u0103 pentru a finisa","startCircle":"Apas\u0103 pentru a desena un cerc","finishCircle":"Apas\u0103 pentru a finisa un cerc","placeCircleMarker":"Adaug\u0103 un punct"},"actions":{"finish":"Termin\u0103","cancel":"Anuleaz\u0103","removeLastVertex":"\u0218terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug\u0103 o bulin\u0103","drawPolyButton":"Deseneaz\u0103 un poligon","drawLineButton":"Deseneaz\u0103 o linie","drawCircleButton":"Deseneaz\u0103 un cerc","drawRectButton":"Deseneaz\u0103 un dreptunghi","editButton":"Editeaz\u0103 straturile","dragButton":"Mut\u0103 straturile","cutButton":"Taie straturile","deleteButton":"\u0218terge straturile","placeCircleMarker":"Adaug\u0103 o bulin\u0103"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440","firstVertex":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442","continueLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435","finishLine":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u0434\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f","finishPoly":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u0442\u043e\u0447\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","finishRect":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","startCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043d\u0442\u0440 \u043a\u0440\u0443\u0433\u0430","finishCircle":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0434\u0430\u0442\u044c \u0440\u0430\u0434\u0438\u0443\u0441","placeCircleMarker":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u043d\u0435\u0441\u0442\u0438 \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440"},"actions":{"finish":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c","cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","removeLastVertex":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},"buttonTitles":{"drawMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0430\u0440\u043a\u0435\u0440","drawPolyButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0438\u0433\u043e\u043d","drawLineButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u0432\u0443\u044e","drawCircleButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0443\u0433","drawRectButton":"\u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a","editButton":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0439","dragButton":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0441\u043b\u043e\u0439","cutButton":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u043b\u043e\u0439","deleteButton":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u043e\u0439","drawCircleMarkerButton":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0440\u0443\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u0435\u0440","snappingButton":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u043c\u0430\u0440\u043a\u0435\u0440 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043b\u043e\u044f\u043c \u0438 \u0432\u0435\u0440\u0448\u0438\u043d\u0430\u043c","pinningButton":"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u0431\u0449\u0438\u0435 \u0442\u043e\u0447\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u0435"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer v\xe9rtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del circulo","finishCircle":"Presiona para finalizar el circulo","placeCircleMarker":"Presiona para colocar un marcador de circulo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ultimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Pol\xedgono","drawLineButton":"Dibujar L\xednea","drawCircleButton":"Dibujar Circulo","drawRectButton":"Dibujar Rect\xe1ngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Remover Capas","drawCircleMarkerButton":"Dibujar Marcador de Circulo"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te be\xebindigen","finishPoly":"Klik op het eerst punt om te be\xebindigen","finishRect":"Klik om te be\xebindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te be\xebindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer \xe0 dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"\xc9diter des calques","dragButton":"D\xe9placer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"\u5355\u51fb\u653e\u7f6e\u6807\u8bb0","firstVertex":"\u5355\u51fb\u653e\u7f6e\u9996\u4e2a\u9876\u70b9","continueLine":"\u5355\u51fb\u7ee7\u7eed\u7ed8\u5236","finishLine":"\u5355\u51fb\u4efb\u4f55\u5b58\u5728\u7684\u6807\u8bb0\u4ee5\u5b8c\u6210","finishPoly":"\u5355\u51fb\u7b2c\u4e00\u4e2a\u6807\u8bb0\u4ee5\u5b8c\u6210","finishRect":"\u5355\u51fb\u5b8c\u6210","startCircle":"\u5355\u51fb\u653e\u7f6e\u5706\u5fc3","finishCircle":"\u5355\u51fb\u5b8c\u6210\u5706\u5f62"},"actions":{"finish":"\u5b8c\u6210","cancel":"\u53d6\u6d88","removeLastVertex":"\u79fb\u9664\u6700\u540e\u7684\u9876\u70b9"},"buttonTitles":{"drawMarkerButton":"\u7ed8\u5236\u6807\u8bb0","drawPolyButton":"\u7ed8\u5236\u591a\u8fb9\u5f62","drawLineButton":"\u7ed8\u5236\u7ebf\u6bb5","drawCircleButton":"\u7ed8\u5236\u5706\u5f62","drawRectButton":"\u7ed8\u5236\u957f\u65b9\u5f62","editButton":"\u7f16\u8f91\u56fe\u5c42","dragButton":"\u62d6\u62fd\u56fe\u5c42","cutButton":"\u526a\u5207\u56fe\u5c42","deleteButton":"\u5220\u9664\u56fe\u5c42"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro v\xe9rtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o pol\xedgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do c\xedrculo","finishCircle":"Clique para fechar o c\xedrculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover \xfaltimo v\xe9rtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um pol\xedgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um c\xedrculo","drawRectButton":"Desenhar um ret\xe2ngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi\u0107 znacznik","firstVertex":"Kliknij, aby ustawi\u0107 pierwszy punkt","continueLine":"Kliknij, aby kontynuowa\u0107 rysowanie","finishLine":"Kliknij dowolny punkt, aby zako\u0144czy\u0107","finishPoly":"Kliknij pierwszy punkt, aby zako\u0144czy\u0107","finishRect":"Kliknij, aby zako\u0144czy\u0107","startCircle":"Kliknij, aby ustawi\u0107 \u015brodek ko\u0142a","finishCircle":"Kliknij, aby zako\u0144czy\u0107 rysowanie ko\u0142a","placeCircleMarker":"Kliknij, aby ustawi\u0107 okr\u0105g\u0142y znacznik"},"actions":{"finish":"Zako\u0144cz","cancel":"Anuluj","removeLastVertex":"Usu\u0144 ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielok\u0105t","drawLineButton":"Narysuj \u015bcie\u017ck\u0119","drawCircleButton":"Narysuj ko\u0142o","drawRectButton":"Narysuj prostok\u0105t","editButton":"Edytuj","dragButton":"Przesu\u0144","cutButton":"Wytnij","deleteButton":"Usu\u0144","drawCircleMarkerButton":"Narysuj okr\u0105g\u0142y znacznik"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klicka f\xf6r att placera mark\xf6r","firstVertex":"Klicka f\xf6r att placera f\xf6rsta h\xf6rnet","continueLine":"Klicka f\xf6r att forts\xe4tta rita","finishLine":"Klicka p\xe5 en existerande punkt f\xf6r att slutf\xf6ra","finishPoly":"Klicka p\xe5 den f\xf6rsta punkten f\xf6r att slutf\xf6ra","finishRect":"Klicka f\xf6r att slutf\xf6ra","startCircle":"Klicka f\xf6r att placera cirkelns centrum","finishCircle":"Klicka f\xf6r att slutf\xf6ra cirkeln","placeCircleMarker":"Klicka f\xf6r att placera cirkelmark\xf6r"},"actions":{"finish":"Slutf\xf6r","cancel":"Avbryt","removeLastVertex":"Ta bort sista h\xf6rnet"},"buttonTitles":{"drawMarkerButton":"Rita Mark\xf6r","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmark\xf6r"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","firstVertex":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf","continueLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c7\u03b5\u03b4\u03b9\u03ac\u03b6\u03b5\u03c4\u03b5","finishLine":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03b5 \u03bf\u03c0\u03bf\u03b9\u03bf\u03bd\u03b4\u03ae\u03c0\u03bf\u03c4\u03b5 \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03bd \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af","finishPoly":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03c3\u03c4\u03bf \u03c0\u03c1\u03ce\u03c4\u03bf \u03c3\u03b7\u03bc\u03b5\u03af\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","finishRect":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03b5\u03bb\u03b5\u03b9\u03ce\u03c3\u03b5\u03c4\u03b5","startCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03ad\u03bd\u03c4\u03c1\u03bf \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","finishCircle":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03bd \u039a\u03cd\u03ba\u03bb\u03bf","placeCircleMarker":"\u039a\u03ac\u03bd\u03c4\u03b5 \u03ba\u03bb\u03b9\u03ba \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03cc \u0394\u03b5\u03af\u03ba\u03c4\u03b7"},"actions":{"finish":"\u03a4\u03ad\u03bb\u03bf\u03c2","cancel":"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7","removeLastVertex":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03bf\u03c5 \u03c3\u03b7\u03bc\u03b5\u03af\u03bf\u03c5"},"buttonTitles":{"drawMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0394\u03b5\u03af\u03ba\u03c4\u03b7","drawPolyButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u03a0\u03bf\u03bb\u03c5\u03b3\u03ce\u03bd\u03bf\u03c5","drawLineButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u0393\u03c1\u03b1\u03bc\u03bc\u03ae\u03c2","drawCircleButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03cd\u03ba\u03bb\u03bf\u03c5","drawRectButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039f\u03c1\u03b8\u03bf\u03b3\u03c9\u03bd\u03af\u03bf\u03c5","editButton":"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","dragButton":"\u039c\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","cutButton":"\u0391\u03c0\u03bf\u03ba\u03bf\u03c0\u03ae \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","deleteButton":"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u0395\u03c0\u03b9\u03c0\u03ad\u03b4\u03c9\u03bd","drawCircleMarkerButton":"\u03a3\u03c7\u03b5\u03b4\u03af\u03b1\u03c3\u03b7 \u039a\u03c5\u03ba\u03bb\u03b9\u03ba\u03bf\u03cd \u0394\u03b5\u03af\u03ba\u03c4\u03b7","snappingButton":"\u03a0\u03c1\u03bf\u03c3\u03ba\u03cc\u03bb\u03bb\u03b7\u03c3\u03b7 \u03c4\u03bf\u03c5 \u0394\u03b5\u03af\u03ba\u03c4\u03b7 \u03bc\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac\u03c2 \u03c3\u03b5 \u03ac\u03bb\u03bb\u03b1 \u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03b1 \u03ba\u03b1\u03b9 \u039a\u03bf\u03c1\u03c5\u03c6\u03ad\u03c2","pinningButton":"\u03a0\u03b5\u03c1\u03b9\u03ba\u03bf\u03c0\u03ae \u03ba\u03bf\u03b9\u03bd\u03ce\u03bd \u03ba\u03bf\u03c1\u03c5\u03c6\u03ce\u03bd \u03bc\u03b1\u03b6\u03af"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jel\xf6l\u0151 elhelyez\xe9s\xe9hez","firstVertex":"Kattintson az els\u0151 pont elhelyez\xe9s\xe9hez","continueLine":"Kattintson a k\xf6vetkez\u0151 pont elhelyez\xe9s\xe9hez","finishLine":"A befejez\xe9shez kattintson egy megl\xe9v\u0151 pontra","finishPoly":"A befejez\xe9shez kattintson az els\u0151 pontra","finishRect":"Kattintson a befejez\xe9shez","startCircle":"Kattintson a k\xf6r k\xf6z\xe9ppontj\xe1nak elhelyez\xe9s\xe9hez","finishCircle":"Kattintson a k\xf6r befejez\xe9s\xe9hez","placeCircleMarker":"Kattintson a k\xf6rjel\xf6l\u0151 elhelyez\xe9s\xe9hez"},"actions":{"finish":"Befejez\xe9s","cancel":"M\xe9gse","removeLastVertex":"Utols\xf3 pont elt\xe1vol\xedt\xe1sa"},"buttonTitles":{"drawMarkerButton":"Jel\xf6l\u0151 rajzol\xe1sa","drawPolyButton":"Poligon rajzol\xe1sa","drawLineButton":"Vonal rajzol\xe1sa","drawCircleButton":"K\xf6r rajzol\xe1sa","drawRectButton":"N\xe9gyzet rajzol\xe1sa","editButton":"Elemek szerkeszt\xe9se","dragButton":"Elemek mozgat\xe1sa","cutButton":"Elemek v\xe1g\xe1sa","deleteButton":"Elemek t\xf6rl\xe9se","drawCircleMarkerButton":"K\xf6r jel\xf6l\u0151 rajzol\xe1sa","snappingButton":"Kapcsolja a jel\xf6lt\u0151t m\xe1sik elemhez vagy ponthoz","pinningButton":"K\xf6z\xf6s pontok \xf6sszek\xf6t\xe9se"}}')},function(t,n,e){var l=e(135),a=e(136);t.exports=function(t,n){return null!=t&&a(t,n,l)}},function(t,n,e){t.exports=e(145)},function(t,n){Array.prototype.findIndex=Array.prototype.findIndex||function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var n=Object(this),e=n.length>>>0,l=arguments[1],a=0;a<e;a++)if(t.call(l,n[a],a,n))return a;return-1},Array.prototype.find=Array.prototype.find||function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var n=Object(this),e=n.length>>>0,l=arguments[1],a=0;a<e;a++){var i=n[a];if(t.call(l,i,a,n))return i}},"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var n=1;n<arguments.length;n++){var e=arguments[n];if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,n){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),l=e.length>>>0;if(0==l)return!1;for(var a,i,r=0|n,o=Math.max(0<=r?r:l-Math.abs(r),0);o<l;){if((a=e[o])===(i=t)||"number"==typeof a&&"number"==typeof i&&isNaN(a)&&isNaN(i))return!0;o++}return!1}})},function(t,n,e){var l=e(62),a=e(29),i=e(93),r=e(95),o=e(1),s=e(36),u=e(35);t.exports=function t(n,e,c,h,d){n!==e&&i(e,function(i,s){if(d=d||new l,o(i))r(n,e,s,c,t,h,d);else{var p=h?h(u(n,s),i,s+"",n,e,d):void 0;void 0===p&&(p=i),a(n,s,p)}},s)}},function(t,n,e){var l=e(9),a=e(68),i=e(69),r=e(70),o=e(71),s=e(72);function u(t){var n=this.__data__=new l(t);this.size=n.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,e){var l=e(10),a=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=l(n,t);return!(e<0||(e==n.length-1?n.pop():a.call(n,e,1),--this.size,0))}},function(t,n,e){var l=e(10);t.exports=function(t){var n=this.__data__,e=l(n,t);return e<0?void 0:n[e][1]}},function(t,n,e){var l=e(10);t.exports=function(t){return-1<l(this.__data__,t)}},function(t,n,e){var l=e(10);t.exports=function(t,n){var e=this.__data__,a=l(e,t);return a<0?(++this.size,e.push([t,n])):e[a][1]=n,this}},function(t,n,e){var l=e(9);t.exports=function(){this.__data__=new l,this.size=0}},function(t,n){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n,e){var l=e(9),a=e(26),i=e(28);t.exports=function(t,n){var e=this.__data__;if(e instanceof l){var r=e.__data__;if(!a||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(r)}return e.set(t,n),this.size=e.size,this}},function(t,n,e){var l=e(16),a=e(77),i=e(1),r=e(79),o=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=RegExp("^"+s.toString.call(u.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||a(t))&&(l(t)?c:o).test(r(t))}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var l=e(17),a=Object.prototype,i=a.hasOwnProperty,r=a.toString,o=l?l.toStringTag:void 0;t.exports=function(t){var n=i.call(t,o),e=t[o];try{t[o]=void 0;var l=!0}catch(t){}var a=r.call(t);return l&&(n?t[o]=e:delete t[o]),a}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n,e){var l,a=e(78),i=(l=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";t.exports=function(t){return!!i&&i in t}},function(t,n,e){var l=e(2)["__core-js_shared__"];t.exports=l},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,e){var l=e(82),a=e(9),i=e(26);t.exports=function(){this.size=0,this.__data__={hash:new l,map:new(i||a),string:new l}}},function(t,n,e){var l=e(83),a=e(84),i=e(85),r=e(86),o=e(87);function s(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var l=t[n];this.set(l[0],l[1])}}s.prototype.clear=l,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,t.exports=s},function(t,n,e){var l=e(12);t.exports=function(){this.__data__=l?l(null):{},this.size=0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n,e){var l=e(12),a=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(l){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return a.call(n,t)?n[t]:void 0}},function(t,n,e){var l=e(12),a=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return l?void 0!==n[t]:a.call(n,t)}},function(t,n,e){var l=e(12);t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=l&&void 0===n?"__lodash_hash_undefined__":n,this}},function(t,n,e){var l=e(13);t.exports=function(t){var n=l(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},function(t,n,e){var l=e(13);t.exports=function(t){return l(this,t).get(t)}},function(t,n,e){var l=e(13);t.exports=function(t){return l(this,t).has(t)}},function(t,n,e){var l=e(13);t.exports=function(t,n){var e=l(this,t),a=e.size;return e.set(t,n),this.size+=e.size==a?0:1,this}},function(t,n,e){var l=e(94)();t.exports=l},function(t,n){t.exports=function(t){return function(n,e,l){for(var a=-1,i=Object(n),r=l(n),o=r.length;o--;){var s=r[t?o:++a];if(!1===e(i[s],s,i))break}return n}}},function(t,n,e){var l=e(29),a=e(96),i=e(97),r=e(100),o=e(101),s=e(20),u=e(4),c=e(105),h=e(33),d=e(16),p=e(1),g=e(107),m=e(34),b=e(35),f=e(111);t.exports=function(t,n,e,y,v,C,S){var M=b(t,e),_=b(n,e),L=S.get(_);if(L)l(t,e,L);else{var O=C?C(M,_,e+"",t,n,S):void 0,A=void 0===O;if(A){var T=u(_),D=!T&&h(_),P=!T&&!D&&m(_);O=_,T||D||P?O=u(M)?M:c(M)?r(M):D?a(_,!(A=!1)):P?i(_,!(A=!1)):[]:g(_)||s(_)?s(O=M)?O=f(M):p(M)&&!d(M)||(O=o(_)):A=!1}A&&(S.set(_,O),v(O,_,y,C,S),S.delete(_)),l(t,e,O)}}},function(t,n,e){(function(t){var l=e(2),a=n&&!n.nodeType&&n,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,r=i&&i.exports===a?l.Buffer:void 0,o=r?r.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,l=o?o(e):new t.constructor(e);return t.copy(l),l}}).call(this,e(19)(t))},function(t,n,e){var l=e(98);t.exports=function(t,n){var e=n?l(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,n,e){var l=e(99);t.exports=function(t){var n=new t.constructor(t.byteLength);return new l(n).set(new l(t)),n}},function(t,n,e){var l=e(2).Uint8Array;t.exports=l},function(t,n){t.exports=function(t,n){var e=-1,l=t.length;for(n=n||Array(l);++e<l;)n[e]=t[e];return n}},function(t,n,e){var l=e(102),a=e(31),i=e(32);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:l(a(t))}},function(t,n,e){var l=e(1),a=Object.create;function i(){}t.exports=function(t){if(!l(t))return{};if(a)return a(t);i.prototype=t;var n=new i;return i.prototype=void 0,n}},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var l=e(8),a=e(3);t.exports=function(t){return a(t)&&"[object Arguments]"==l(t)}},function(t,n,e){var l=e(21),a=e(3);t.exports=function(t){return a(t)&&l(t)}},function(t,n){t.exports=function(){return!1}},function(t,n,e){var l=e(8),a=e(31),i=e(3),r=Function.prototype,o=Object.prototype,s=r.toString,u=o.hasOwnProperty,c=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=l(t))return!1;var n=a(t);if(null===n)return!0;var e=u.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==c}},function(t,n,e){var l=e(8),a=e(22),i=e(3),r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&a(t.length)&&!!r[l(t)]}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var l=e(27),a=n&&!n.nodeType&&n,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,r=i&&i.exports===a&&l.process,o=function(){try{return i&&i.require&&i.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=o}).call(this,e(19)(t))},function(t,n,e){var l=e(112),a=e(36);t.exports=function(t){return l(t,a(t))}},function(t,n,e){var l=e(113),a=e(18);t.exports=function(t,n,e,i){var r=!e;e=e||{};for(var o=-1,s=n.length;++o<s;){var u=n[o],c=i?i(e[u],t[u],u,e,t):void 0;void 0===c&&(c=t[u]),r?a(e,u,c):l(e,u,c)}return e}},function(t,n,e){var l=e(18),a=e(11),i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e){var r=t[n];i.call(t,n)&&a(r,e)&&(void 0!==e||n in t)||l(t,n,e)}},function(t,n,e){var l=e(115),a=e(20),i=e(4),r=e(33),o=e(23),s=e(34),u=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),c=!e&&a(t),h=!e&&!c&&r(t),d=!e&&!c&&!h&&s(t),p=e||c||h||d,g=p?l(t.length,String):[],m=g.length;for(var b in t)!n&&!u.call(t,b)||p&&("length"==b||h&&("offset"==b||"parent"==b)||d&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||o(b,m))||g.push(b);return g}},function(t,n){t.exports=function(t,n){for(var e=-1,l=Array(t);++e<t;)l[e]=n(e);return l}},function(t,n,e){var l=e(1),a=e(32),i=e(117),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!l(t))return i(t);var n=a(t),e=[];for(var o in t)("constructor"!=o||!n&&r.call(t,o))&&e.push(o);return e}},function(t,n){t.exports=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n}},function(t,n,e){var l=e(119),a=e(126);t.exports=function(t){return l(function(n,e){var l=-1,i=e.length,r=1<i?e[i-1]:void 0,o=2<i?e[2]:void 0;for(r=3<t.length&&"function"==typeof r?(i--,r):void 0,o&&a(e[0],e[1],o)&&(r=i<3?void 0:r,i=1),n=Object(n);++l<i;){var s=e[l];s&&t(n,s,l,r)}return n})}},function(t,n,e){var l=e(37),a=e(120),i=e(122);t.exports=function(t,n){return i(a(t,n,l),t+"")}},function(t,n,e){var l=e(121),a=Math.max;t.exports=function(t,n,e){return n=a(void 0===n?t.length-1:n,0),function(){for(var i=arguments,r=-1,o=a(i.length-n,0),s=Array(o);++r<o;)s[r]=i[n+r];r=-1;for(var u=Array(n+1);++r<n;)u[r]=i[r];return u[n]=e(s),l(t,this,u)}}},function(t,n){t.exports=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}},function(t,n,e){var l=e(123),a=e(125)(l);t.exports=a},function(t,n,e){var l=e(124),a=e(30),i=e(37);t.exports=a?function(t,n){return a(t,"toString",{configurable:!0,enumerable:!1,value:l(n),writable:!0})}:i},function(t,n){t.exports=function(t){return function(){return t}}},function(t,n){var e=Date.now;t.exports=function(t){var n=0,l=0;return function(){var a=e(),i=16-(a-l);if(l=a,0<i){if(800<=++n)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},function(t,n,e){var l=e(11),a=e(21),i=e(23),r=e(1);t.exports=function(t,n,e){if(!r(e))return!1;var o=typeof n;return!!("number"==o?a(e)&&i(n,e.length):"string"==o&&n in e)&&l(e[n],t)}},function(t,n,e){var l=e(38),a=e(39);t.exports=function(t,n){for(var e=0,i=(n=l(n,t)).length;null!=t&&e<i;)t=t[a(n[e++])];return e&&e==i?t:void 0}},function(t,n,e){var l=e(4),a=e(24),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;t.exports=function(t,n){if(l(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!a(t))||r.test(t)||!i.test(t)||null!=n&&t in Object(n)}},function(t,n,e){var l=e(130),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,r=l(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(a,function(t,e,l,a){n.push(l?a.replace(i,"$1"):e||t)}),n});t.exports=r},function(t,n,e){var l=e(131);t.exports=function(t){var n=l(t,function(t){return 500===e.size&&e.clear(),t}),e=n.cache;return n}},function(t,n,e){var l=e(28);function a(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var l=arguments,a=n?n.apply(this,l):l[0],i=e.cache;if(i.has(a))return i.get(a);var r=t.apply(this,l);return e.cache=i.set(a,r)||i,r};return e.cache=new(a.Cache||l),e}a.Cache=l,t.exports=a},function(t,n,e){var l=e(133);t.exports=function(t){return null==t?"":l(t)}},function(t,n,e){var l=e(17),a=e(134),i=e(4),r=e(24),o=l?l.prototype:void 0,s=o?o.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(i(n))return a(n,t)+"";if(r(n))return s?s.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(t,n){t.exports=function(t,n){for(var e=-1,l=null==t?0:t.length,a=Array(l);++e<l;)a[e]=n(t[e],e,t);return a}},function(t,n){var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},function(t,n,e){var l=e(38),a=e(20),i=e(4),r=e(23),o=e(22),s=e(39);t.exports=function(t,n,e){for(var u=-1,c=(n=l(n,t)).length,h=!1;++u<c;){var d=s(n[u]);if(!(h=null!=t&&e(t,d)))break;t=t[d]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&o(c)&&r(d,c)&&(i(t)||a(t))}},function(t,n){var e,l,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var s,u=[],c=!1,h=-1;function d(){c&&s&&(c=!1,s.length?u=s.concat(u):h=-1,u.length&&p())}function p(){if(!c){var t=o(d);c=!0;for(var n=u.length;n;){for(s=u,u=[];++h<n;)s&&s[h].run();h=-1,n=u.length}s=null,c=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}(t)}}function g(t,n){this.fun=t,this.array=n}function m(){}a.nextTick=function(t){var n=new Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];u.push(new g(t,n)),1!==u.length||c||o(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(5),a=e(40),i=e(14);n.default=function(t){if(!t)throw new Error("geojson is required");var n=[];return i.flattenEach(t,function(t){!function(t,n){var e=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":e=a.getCoords(i);break;case"LineString":e=[a.getCoords(i)]}e.forEach(function(e){(function(t,n){var e=[];return t.reduce(function(t,a){var i=l.lineString([t,a],n);return i.bbox=function(t,n){var e=t[0],l=t[1],a=n[0],i=n[1];return[e<a?e:a,l<i?l:i,a<e?e:a,i<l?l:i]}(t,a),e.push(i),a}),e})(e,t.properties).forEach(function(t){t.id=n.length,n.push(t)})})}}(t,n)}),l.featureCollection(n)}},function(t,n,e){var l=e(140),a=e(5),i=e(14),r=e(142).default,o=i.featureEach,s=a.featureCollection;function u(t){var n=l(t);return n.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:r(t),l.prototype.insert.call(this,t)},n.load=function(t){var n=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:r(t),n.push(t)}):o(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:r(t),n.push(t)}),l.prototype.load.call(this,n)},n.remove=function(t,n){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:r(t),l.prototype.remove.call(this,t,n)},n.clear=function(){return l.prototype.clear.call(this)},n.search=function(t){var n=l.prototype.search.call(this,this.toBBox(t));return s(n)},n.collides=function(t){return l.prototype.collides.call(this,this.toBBox(t))},n.all=function(){var t=l.prototype.all.call(this);return s(t)},n.toJSON=function(){return l.prototype.toJSON.call(this)},n.fromJSON=function(t){return l.prototype.fromJSON.call(this,t)},n.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&4===t.length)n=t;else if(Array.isArray(t)&&6===t.length)n=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)n=r(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");n=r(t)}return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},n}t.exports=u,t.exports.default=u},function(t,n,e){"use strict";t.exports=a,t.exports.default=a;var l=e(141);function a(t,n){if(!(this instanceof a))return new a(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function i(t,n,e){if(!e)return n.indexOf(t);for(var l=0;l<n.length;l++)if(e(t,n[l]))return l;return-1}function r(t,n){o(t,0,t.children.length,n,t)}function o(t,n,e,l,a){(a=a||m(null)).minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var i,r=n;r<e;r++)i=t.children[r],s(a,t.leaf?l(i):i);return a}function s(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function u(t,n){return t.minX-n.minX}function c(t,n){return t.minY-n.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function g(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(t,n,e,a,i){for(var r,o=[n,e];o.length;)(e=o.pop())-(n=o.pop())<=a||(r=n+Math.ceil((e-n)/a/2)*a,l(t,r,n,e,i),o.push(n,r,r,e))}a.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,e=[],l=this.toBBox;if(!g(t,n))return e;for(var a,i,r,o,s=[];n;){for(a=0,i=n.children.length;a<i;a++)r=n.children[a],g(t,o=n.leaf?l(r):r)&&(n.leaf?e.push(r):p(t,o)?this._all(r,e):s.push(r));n=s.pop()}return e},collides:function(t){var n=this.data,e=this.toBBox;if(!g(t,n))return!1;for(var l,a,i,r,o=[];n;){for(l=0,a=n.children.length;l<a;l++)if(i=n.children[l],g(t,r=n.leaf?e(i):i)){if(n.leaf||p(t,r))return!0;o.push(i)}n=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var l=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===l.height)this._splitRoot(this.data,l);else{if(this.data.height<l.height){var a=this.data;this.data=l,l=a}this._insert(l,this.data.height-l.height-1,!0)}else this.data=l;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,n){if(!t)return this;for(var e,l,a,r,o=this.data,s=this.toBBox(t),u=[],c=[];o||u.length;){if(o||(o=u.pop(),l=u[u.length-1],e=c.pop(),r=!0),o.leaf&&-1!==(a=i(t,o.children,n)))return o.children.splice(a,1),u.push(o),this._condense(u),this;r||o.leaf||!p(o,s)?l?(o=l.children[++e],r=!1):o=null:(u.push(o),c.push(e),e=0,o=(l=o).children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},_build:function(t,n,e,l){var a,i=e-n+1,o=this._maxEntries;if(i<=o)return r(a=m(t.slice(n,e+1)),this.toBBox),a;l||(l=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/Math.pow(o,l-1))),(a=m([])).leaf=!1,a.height=l;var s,u,c,h,d=Math.ceil(i/o),p=d*Math.ceil(Math.sqrt(o));for(b(t,n,e,p,this.compareMinX),s=n;s<=e;s+=p)for(b(t,s,c=Math.min(s+p-1,e),d,this.compareMinY),u=s;u<=c;u+=d)h=Math.min(u+d-1,c),a.children.push(this._build(t,u,h,l-1));return r(a,this.toBBox),a},_chooseSubtree:function(t,n,e,l){for(var a,i,r,o,s,u,c,d,p,g;l.push(n),!n.leaf&&l.length-1!==e;){for(c=d=1/0,a=0,i=n.children.length;a<i;a++)s=h(r=n.children[a]),p=t,g=r,(u=(Math.max(g.maxX,p.maxX)-Math.min(g.minX,p.minX))*(Math.max(g.maxY,p.maxY)-Math.min(g.minY,p.minY))-s)<d?(d=u,c=s<c?s:c,o=r):u===d&&s<c&&(c=s,o=r);n=o||n.children[0]}return n},_insert:function(t,n,e){var l=e?t:(0,this.toBBox)(t),a=[],i=this._chooseSubtree(l,this.data,n,a);for(i.children.push(t),s(i,l);0<=n&&a[n].children.length>this._maxEntries;)this._split(a,n),n--;this._adjustParentBBoxes(l,a,n)},_split:function(t,n){var e=t[n],l=e.children.length,a=this._minEntries;this._chooseSplitAxis(e,a,l);var i=this._chooseSplitIndex(e,a,l),o=m(e.children.splice(i,e.children.length-i));o.height=e.height,o.leaf=e.leaf,r(e,this.toBBox),r(o,this.toBBox),n?t[n-1].children.push(o):this._splitRoot(e,o)},_splitRoot:function(t,n){this.data=m([t,n]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,e){var l,a,i,r,s,u,c,d,p,g,m,b,f,y;for(u=c=1/0,l=n;l<=e-n;l++)p=a=o(t,0,l,this.toBBox),g=i=o(t,l,e,this.toBBox),m=Math.max(p.minX,g.minX),b=Math.max(p.minY,g.minY),f=Math.min(p.maxX,g.maxX),y=Math.min(p.maxY,g.maxY),r=Math.max(0,f-m)*Math.max(0,y-b),s=h(a)+h(i),r<u?(u=r,d=l,c=s<c?s:c):r===u&&s<c&&(c=s,d=l);return d},_chooseSplitAxis:function(t,n,e){var l=t.leaf?this.compareMinX:u,a=t.leaf?this.compareMinY:c;this._allDistMargin(t,n,e,l)<this._allDistMargin(t,n,e,a)&&t.children.sort(l)},_allDistMargin:function(t,n,e,l){t.children.sort(l);var a,i,r=this.toBBox,u=o(t,0,n,r),c=o(t,e-n,e,r),h=d(u)+d(c);for(a=n;a<e-n;a++)i=t.children[a],s(u,t.leaf?r(i):i),h+=d(u);for(a=e-n-1;n<=a;a--)i=t.children[a],s(c,t.leaf?r(i):i),h+=d(c);return h},_adjustParentBBoxes:function(t,n,e){for(var l=e;0<=l;l--)s(n[l],t)},_condense:function(t){for(var n,e=t.length-1;0<=e;e--)0===t[e].children.length?0<e?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,n,e){t.exports=function(){"use strict";function t(t,n,e){var l=t[n];t[n]=t[e],t[e]=l}function n(t,n){return t<n?-1:n<t?1:0}return function(e,l,a,i,r){!function n(e,l,a,i,r){for(;a<i;){if(600<i-a){var o=i-a+1,s=l-a+1,u=Math.log(o),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(o-c)/o)*(s-o/2<0?-1:1);n(e,l,Math.max(a,Math.floor(l-s*c/o+h)),Math.min(i,Math.floor(l+(o-s)*c/o+h)),r)}var d=e[l],p=a,g=i;for(t(e,a,l),0<r(e[i],d)&&t(e,a,i);p<g;){for(t(e,p,g),p++,g--;r(e[p],d)<0;)p++;for(;0<r(e[g],d);)g--}0===r(e[a],d)?t(e,a,g):t(e,++g,i),g<=l&&(a=g+1),l<=g&&(i=g-1)}}(e,l,a||0,i||e.length-1,r||n)}}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(14);n.default=function(t){var n=[1/0,1/0,-1/0,-1/0];return l.coordEach(t,function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])}),n}},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n),e(60);var l=e(41),a=e(42),i=e.n(a),r=e(43),o=e(44),s=e(45),u=e(46),c=e(47),h=e(48),d=e(49),p=e(50),g=e(51),m=e(52),b={en:r,de:o,it:s,id:u,ro:c,ru:h,es:d,nl:p,fr:g,pt_br:e(53),zh:m,pl:e(54),sv:e(55),el:e(56),hu:e(57)},f=e(0),y=e.n(f),v=e(58),C=e.n(v);function S(t){var n=L.PM.activeLang;return C()(b,n)||(n="en"),y()(b[n],t)}function M(t,n,e){for(var l,a,i,r=6378137,o=6356752.3142,s=1/298.257223563,u=t.lng,c=t.lat,h=e,d=Math.PI,p=n*d/180,g=Math.sin(p),m=Math.cos(p),b=(1-s)*Math.tan(c*d/180),f=1/Math.sqrt(1+b*b),y=b*f,v=Math.atan2(b,m),C=f*g,S=1-C*C,M=S*(r*r-o*o)/(o*o),_=1+M/16384*(4096+M*(M*(320-175*M)-768)),O=M/1024*(256+M*(M*(74-47*M)-128)),A=h/(o*_),T=2*Math.PI;1e-12<Math.abs(A-T);)l=Math.cos(2*v+A),T=A,A=h/(o*_)+O*(a=Math.sin(A))*(l+O/4*((i=Math.cos(A))*(2*l*l-1)-O/6*l*(4*a*a-3)*(4*l*l-3)));var D=y*a-f*i*m,P=Math.atan2(y*i+f*a*m,(1-s)*Math.sqrt(C*C+D*D)),x=s/16*S*(4+s*(4-3*S)),w=u+180*(Math.atan2(a*g,f*i-y*a*m)-(1-x)*s*C*(A+x*a*(l+x*i*(2*l*l-1))))/d;return L.latLng(w,180*P/d)}function _(t,n,e,l){for(var a,i,r=[],o=0;o<e;o+=1)a=M(t,360*o/e+l,n),i=L.latLng(a.lng,a.lat),r.push(i);return r}var O={calcMiddleLatLng:function(t,n,e){var l=t.project(n),a=t.project(e);return t.unproject(l._add(a)._divideBy(2))},findLayers:function(t){var n=[];return t.eachLayer(function(t){(t instanceof L.Polyline||t instanceof L.Marker||t instanceof L.Circle||t instanceof L.CircleMarker)&&n.push(t)}),n=(n=n.filter(function(t){return!!t.pm})).filter(function(t){return!t._pmTempLayer})},circleToPolygon:function(t){for(var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60,e=_(t.getLatLng(),t.getRadius(),n,0),l=[],a=0;a<e.length;a+=1)l.push([e[a].lat,e[a].lng]);return L.polygon(l,t.options)},createGeodesicPolygon:_,getTranslation:S};function A(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,l)}return e}function T(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?A(Object(e),!0).forEach(function(n){D(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):A(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function D(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var P=O.findLayers,x={_globalEditMode:!1,globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditMode},setGlobalEditStatus:function(t){this._globalEditMode=t,this._fireEditModeEvent(this._globalEditMode)},enableGlobalEditMode:function(t){var n=T({snappable:this._globalSnappingEnabled},t);this.Toolbar.toggleButton("editMode",!0),P(this.map).forEach(function(t){t.pm.enable(n)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this.map.on("layeradd",this.throttledReInitEdit,this),this.setGlobalEditStatus(!0)},disableGlobalEditMode:function(){P(this.map).forEach(function(t){t.pm.disable()}),this.map.off("layeroff",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",!1),this.setGlobalEditStatus(!1)},toggleGlobalEditMode:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)},handleLayerAdditionInGlobalEditMode:function(t){var n=t.layer;!n.pm||n._pmTempLayer||!this.globalEditModeEnabled()||n.pm.enable(T(T({},this.globalOptions),{},{snappable:this._globalSnappingEnabled}))},_fireEditModeEvent:function(t){this.map.fire("pm:globaleditmodetoggled",{enabled:t,map:this.map})}},w=O.findLayers,k={globalDragModeEnabled:function(){return!!this._globalDragMode},enableGlobalDragMode:function(){var t=w(this.map);this._globalDragMode=!0,t.forEach(function(t){t.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!0)},disableGlobalDragMode:function(){var t=w(this.map);this._globalDragMode=!1,t.forEach(function(t){t.pm.disableLayerDrag()}),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!1)},_fireDragModeEvent:function(t){this.map.fire("pm:globaldragmodetoggled",{enabled:t,map:this.map})},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(t){var n=t.layer;!n.pm||n._pmTempLayer||!this.globalDragModeEnabled()||(this.disableGlobalDragMode(),this.enableGlobalDragMode())}},I={disableGlobalRemovalMode:function(){var t=this;this._globalRemovalMode=!1,this.map.eachLayer(function(n){n.off("click",t.removeLayer,t)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!1)},enableGlobalRemovalMode:function(){var t=this;this._globalRemovalMode=!0,this.map.eachLayer(function(n){n.pm&&!(n instanceof L.LayerGroup)&&(n.pm.disable(),n.on("click",t.removeLayer,t))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!0)},_fireRemovalModeEvent:function(t){this.map.fire("pm:globalremovalmodetoggled",{enabled:t,map:this.map})},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalMode},removeLayer:function(t){var n=t.target;n._pmTempLayer||n.pm&&n.pm.dragging()||(n.remove(),n instanceof L.LayerGroup?(n.fire("pm:remove",{layer:n,shape:void 0}),this.map.fire("pm:remove",{layer:n,shape:void 0})):(n.fire("pm:remove",{layer:n,shape:n.pm.getShape()}),this.map.fire("pm:remove",{layer:n,shape:n.pm.getShape()})))},reinitGlobalRemovalMode:function(t){var n=t.layer;!n.pm||n._pmTempLayer||!this.globalRemovalModeEnabled()||(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())}};function E(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,l)}return e}function N(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?E(Object(e),!0).forEach(function(n){F(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function F(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var B=O.findLayers,U=L.Class.extend({includes:[x,k,I],initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this._globalRemovalMode=!1,this.globalOptions={snappable:!0}},setLang:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en",n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"en",l=L.PM.activeLang;n&&(b[t]=i()(b[e],n)),L.PM.activeLang=t,this.map.pm.Toolbar.reinit(),this.map.fire("pm:langchange",{oldLang:l,activeLang:t,fallback:e,translations:b[t]})},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===t&&(t="Polygon"),this.Draw.enable(t,1<arguments.length?arguments[1]:void 0)},disableDraw:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Polygon";"Poly"===t&&(t="Polygon"),this.Draw.disable(t)},setPathOptions:function(t){var n=this,e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).ignoreShapes||[];this.map.pm.Draw.shapes.forEach(function(l){-1===e.indexOf(l)&&n.map.pm.Draw[l].setPathOptions(t)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(t){var n=this,e=N(N({},this.globalOptions),t);this.map.pm.Draw.shapes.forEach(function(t){n.map.pm.Draw[t].setOptions(e)}),B(this.map).forEach(function(t){t.pm.setOptions(e)}),this.applyGlobalOptions(),this.globalOptions=e},applyGlobalOptions:function(){B(this.map).forEach(function(t){t.pm.enabled()&&t.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(t){return this.Draw.Cut.enable(t)},toggleGlobalCutMode:function(t){return this.Draw.Cut.toggle(t)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){return B(this.map)},getGeomanDrawLayers:function(){return B(this.map).filter(function(t){return!0===t._drawnByGeoman})}}),R=L.Control.extend({options:{position:"topleft"},initialize:function(t){this._button=Object.assign({},this.options,t)},onAdd:function(t){return this._map=t,this._container=this._map.pm.Toolbar.options.oneBlock?this._map.pm.Toolbar._createContainer(this.options.position):"edit"===this._button.tool?this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._map.pm.Toolbar.optionsContainer:"custom"===this._button.tool?this._map.pm.Toolbar.customContainer:this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus="boolean"==typeof t?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(t){this._button.onClick(t,{button:this,event:t}),this._clicked(t),this._button.afterClick(t,{button:this,event:t})},_makeButton:function(t){var n=this,e=-1<this.options.position.indexOf("right")?"pos-right":"",l=L.DomUtil.create("div","button-container",this._container),a=L.DomUtil.create("a","leaflet-buttons-control-button",l),i=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(e),l),r=t.actions,o={cancel:{text:S("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:S("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:S("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[t.jsClass]._removeLastVertex()}},finish:{text:S("actions.finish"),onClick:function(n){this._map.pm.Draw[t.jsClass]._finishShape(n)}}};r.forEach(function(t){var l;if(o[t])l=o[t];else{if(!t.text)return;l=t}var a=L.DomUtil.create("a","leaflet-pm-action ".concat(e," action-").concat(t),i);a.innerHTML=l.text,l.onClick&&L.DomEvent.addListener(a,"click",l.onClick,n),L.DomEvent.disableClickPropagation(a)}),t.toggleStatus&&L.DomUtil.addClass(l,"active");var s=L.DomUtil.create("div","control-icon",a);return t.title&&s.setAttribute("title",t.title),t.iconUrl&&s.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(s,t.className),L.DomEvent.addListener(a,"click",function(){n._button.disableOtherButtons&&n._map.pm.Toolbar.triggerClickOnToggledButtons(n)}),L.DomEvent.addListener(a,"click",this._triggerClick,this),L.DomEvent.disableClickPropagation(a),l},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&!1!==this._button.cssToggle?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_clicked:function(){this._button.doToggle&&this.toggle()}});function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}L.Control.PMButton=R;var j=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(t){this.init(t)},reinit:function(){var t=this.isVisible;this.removeControls(),this._defineButtons(),t&&this.addControls()},init:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(t){var n="".concat(t,"Container");return this[n]||(this[n]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(t," leaflet-bar leaflet-control"))),this[n]},getButtons:function(){return this.buttons},addControls:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;void 0!==t.editPolygon&&(t.editMode=t.editPolygon),void 0!==t.deleteLayer&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this.applyIconStyle(),this._showHideButtons(),this.isVisible=!0},applyIconStyle:function(){var t=this.getButtons(),n={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete"}};for(var e in t)L.Util.setOptions(t[e],{className:n.geomanIcons[e]})},removeControls:function(){var t=this.getButtons();for(var n in t)t[n].remove();this.isVisible=!1},toggleControls:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,n){return this.buttons[t]=n,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){var n=["snappingOption"];for(var e in this.buttons)!n.includes(e)&&this.buttons[e]!==t&&this.buttons[e].toggled()&&this.buttons[e]._triggerClick()},toggleButton:function(t,n){return"editPolygon"===t&&(t="editMode"),"deleteLayer"===t&&(t="removalMode"),(!(2<arguments.length&&void 0!==arguments[2])||arguments[2])&&this.triggerClickOnToggledButtons(this.buttons[t]),!!this.buttons[t]&&this.buttons[t].toggle(n)},_defineButtons:function(){var t=this,n={className:"control-icon leaflet-pm-icon-marker",title:S("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},e={title:S("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},l={className:"control-icon leaflet-pm-icon-polyline",title:S("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={title:S("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:S("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},r={title:S("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:S("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},s={title:S("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},u={title:S("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(n,e){t.map.pm.Draw[e.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},c={title:S("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(l)),this._addButton("drawRectangle",new L.Control.PMButton(r)),this._addButton("drawPolygon",new L.Control.PMButton(e)),this._addButton("drawCircle",new L.Control.PMButton(a)),this._addButton("drawCircleMarker",new L.Control.PMButton(i)),this._addButton("editMode",new L.Control.PMButton(o)),this._addButton("dragMode",new L.Control.PMButton(s)),this._addButton("cutPolygon",new L.Control.PMButton(u)),this._addButton("removalMode",new L.Control.PMButton(c))},_showHideButtons:function(){this.removeControls();var t=this.getButtons(),n=[];for(var e in!1===this.options.drawControls&&(n=n.concat(Object.keys(t).filter(function(n){return!t[n]._button.tool}))),!1===this.options.editControls&&(n=n.concat(Object.keys(t).filter(function(n){return"edit"===t[n]._button.tool}))),!1===this.options.optionsControls&&(n=n.concat(Object.keys(t).filter(function(n){return"options"===t[n]._button.tool}))),!1===this.options.customControls&&(n=n.concat(Object.keys(t).filter(function(n){return"custom"===t[n]._button.tool}))),t)if(this.options[e]&&-1===n.indexOf(e)){var l=t[e]._button.tool;t[e].setPosition(this._getBtnPosition(l=l||"draw")),t[e].addTo(this.map)}},_getBtnPosition:function(t){return this.options.positions&&this.options.positions[t]?this.options.positions[t]:this.options.position},setBlockPosition:function(t,n){this.options.positions[t]=n,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(t,n){if(!n)throw new TypeError("Button has no name");"object"!==V(n)&&(n={name:n});var e={Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode"},l=e[t]?e[t]:t;if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");var a=this.map.pm.Draw.createNewDrawInstance(n.name,l);return n=Object.assign({},this.buttons[l]._button,n),{drawInstance:a,control:this.createCustomControl(n)}},createCustomControl:function(t){if(!t.name)throw new TypeError("Button has no name");if(this.buttons[t.name])throw new TypeError("Button with this name already exists");t.onClick||(t.onClick=function(){}),t.afterClick||(t.afterClick=function(){}),!1!==t.toggle&&(t.toggle=!0),t.block&&(t.block=t.block.toLowerCase()),t.block&&"draw"!==t.block||(t.block=""),-1===t.className.indexOf("control-icon")&&(t.className="control-icon ".concat(t.className));var n={tool:t.block,className:t.className,title:t.title||"",jsClass:t.name,onClick:t.onClick,afterClick:t.afterClick,doToggle:t.toggle,toggleStatus:!1,disableOtherButtons:!0,cssToggle:t.toggle,position:this.options.position,actions:t.actions||[]};!1!==this.options[t.name]&&(this.options[t.name]=!0);var e=this._addButton(t.name,new L.Control.PMButton(n));return this.changeControlOrder(),e},changeControlOrder:function(){var t={Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode"},n=[];(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){n.push(t[e]?t[e]:e)});var e=this.getButtons(),l={};n.forEach(function(t){e[t]&&(l[t]=e[t])}),Object.keys(e).filter(function(t){return!e[t]._button.tool}).forEach(function(t){-1===n.indexOf(t)&&(l[t]=e[t])}),Object.keys(e).filter(function(t){return"edit"===e[t]._button.tool}).forEach(function(t){-1===n.indexOf(t)&&(l[t]=e[t])}),Object.keys(e).filter(function(t){return"options"===e[t]._button.tool}).forEach(function(t){-1===n.indexOf(t)&&(l[t]=e[t])}),Object.keys(e).filter(function(t){return"custom"===e[t]._button.tool}).forEach(function(t){-1===n.indexOf(t)&&(l[t]=e[t])}),Object.keys(e).forEach(function(t){-1===n.indexOf(t)&&(l[t]=e[t])}),this.map.pm.Toolbar.buttons=l,this._showHideButtons()},getControlOrder:function(){var t=this.getButtons(),n=[];for(var e in t)n.push(e);return n},changeActionsOfControl:function(t,n){var e={Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode"},l=e[t]?e[t]:t;if(!l)throw new TypeError("No name passed");if(!n)throw new TypeError("No actions passed");if(!this.buttons[l])throw new TypeError("Button with this name not exists");this.buttons[l]._button.actions=n,this.changeControlOrder()}}),G={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var n=this;t.forEach(function(t){Array.isArray(t)?n._assignEvents(t):(t.off("drag",n._handleSnapping,n),t.on("drag",n._handleSnapping,n),t.off("dragend",n._cleanupSnapping,n),t.on("dragend",n._cleanupSnapping,n))})},_unsnap:function(){delete this._snapLatLng},_cleanupSnapping:function(){delete this._snapList,this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(t){t.remove()})},_handleSnapLayerRemoval:function(t){var n=t.layer,e=this._snapList.findIndex(function(t){return t._leaflet_id===n._leaflet_id});this._snapList.splice(e,1)},_handleSnapping:function(t){function n(){return L.Util.throttle(this._createSnapList,100,this)}if(t.originalEvent.altKey)return!1;if(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",n,this),this._map.on("layeradd",n,this)),this._snapList.length<=0)return!1;var e,l=t.target,a=this._calcClosestLayer(l.getLatLng(),this._snapList);if(0===Object.keys(a).length)return!1;e=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker?a.latlng:this._checkPrioritiySnapping(a);var i=this.options.snapDistance,r={marker:l,shape:this._shape,snapLatLng:e,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(r.marker.fire("pm:snapdrag",r),this._layer.fire("pm:snapdrag",r),a.distance<i){l.setLatLng(e),l._snapped=!0;var o=this._snapLatLng||{},s=e||{};o.lat===s.lat&&o.lng===s.lng||(this._snapLatLng=e,l.fire("pm:snap",r),this._layer.fire("pm:snap",r))}else this._snapLatLng&&(this._unsnap(r),l._snapped=!1,r.marker.fire("pm:unsnap",r),this._layer.fire("pm:unsnap",r));return!0},_checkPrioritiySnapping:function(t){var n=this._map,e=t.segment[0],l=t.segment[1],a=t.latlng,i=this._getDistance(n,e,a),r=this._getDistance(n,l,a),o=i<r?e:l,s=i<r?i:r;if(this.options.snapMiddle){var u=O.calcMiddleLatLng(n,e,l),c=this._getDistance(n,u,a);c<i&&c<r&&(o=u,s=c)}return Object.assign({},s<this.options.snapDistance?o:a)},_createSnapList:function(){var t=this,n=[],e=[],l=this._map;l.off("pm:remove",this._handleSnapLayerRemoval,this),l.on("pm:remove",this._handleSnapLayerRemoval,this),l.eachLayer(function(t){if((t instanceof L.Polyline||t instanceof L.Marker||t instanceof L.CircleMarker)&&!0!==t.options.snapIgnore){(t instanceof L.Circle||t instanceof L.CircleMarker)&&t.pm._hiddenPolyCircle&&n.push(t.pm._hiddenPolyCircle),n.push(t);var l=L.polyline([],{color:"red",pmIgnore:!0});l._pmTempLayer=!0,e.push(l),(t instanceof L.Circle||t instanceof L.CircleMarker)&&e.push(l)}}),n=(n=(n=n.filter(function(n){return t._layer!==n})).filter(function(t){return t._latlng||t._latlngs&&0<t._latlngs.length})).filter(function(t){return!t._pmTempLayer}),this._snapList=this._otherSnapLayers?n.concat(this._otherSnapLayers):n,this.debugIndicatorLines=e},_calcClosestLayer:function(t,n){var e=this,l={};return n.forEach(function(n,a){if(!n._parentCopy||n._parentCopy!==e._layer){var i=e._calcLayerDistances(t,n);e.debugIndicatorLines[a].setLatLngs([t,i.latlng]),(void 0===l.distance||i.distance<l.distance)&&((l=i).layer=n)}}),l},_calcLayerDistances:function(t,n){var e,l,a=this,i=this._map,r=n instanceof L.Marker||n instanceof L.CircleMarker,o=n instanceof L.Polygon,s=t,u=r?n.getLatLng():n.getLatLngs();if(r)return{latlng:Object.assign({},u),distance:this._getDistance(i,u,s)};!function t(n){n.forEach(function(r,u){if(Array.isArray(r))t(r);else{var c=r,h=n[o?u+1===n.length?0:u+1:u+1===n.length?void 0:u+1];if(h){var d=a._getDistanceToSegment(i,s,c,h);(void 0===l||d<l)&&(l=d,e=[c,h])}}})}(u);var c=this._getClosestPointOnSegment(i,t,e[0],e[1]);return{latlng:Object.assign({},c),segment:e,distance:l}},_getClosestPointOnSegment:function(t,n,e,l){var a=t.getMaxZoom();a===1/0&&(a=t.getZoom());var i=t.project(n,a),r=t.project(e,a),o=t.project(l,a),s=L.LineUtil.closestPointOnSegment(i,r,o);return t.unproject(s,a)},_getDistanceToSegment:function(t,n,e,l){var a=t.latLngToLayerPoint(n),i=t.latLngToLayerPoint(e),r=t.latLngToLayerPoint(l);return L.LineUtil.pointToSegmentDistance(a,i,r)},_getDistance:function(t,n,e){return t.latLngToLayerPoint(n).distanceTo(t.latLngToLayerPoint(e))}},Y=L.Class.extend({includes:[G],options:{snappable:!0,snapDistance:20,tooltips:!0,cursorMarker:!0,finishOnDoubleClick:!1,finishOn:null,allowSelfIntersection:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},markerStyle:{draggable:!0}},setOptions:function(t){L.Util.setOptions(this,t)},initialize:function(t){var n=this;this._map=t,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut"],this.shapes.forEach(function(t){n[t]=new L.PM.Draw[t](n._map)})},setPathOptions:function(t){this.options.pathOptions=t},getShapes:function(){return this.shapes},enable:function(t,n){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(n)},disable:function(){var t=this;this.shapes.forEach(function(n){t[n].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(n){t[n].addButton()})},getActiveShape:function(){var t,n=this;return this.shapes.forEach(function(e){n[e]._enabled&&(t=e)}),t},_setGlobalDrawMode:function(){"Cut"===this._shape?this._map.fire("pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map}):this._map.fire("pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map})},createNewDrawInstance:function(t,n){var e=this._getShapeFromBtnName(n);if(this[t])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[e])throw new TypeError("There is no class L.PM.Draw.".concat(e));return this[t]=new L.PM.Draw[e](this._map),this[t].toolbarButtonName=t,this[t]._shape=t,this.shapes.push(t),this[n]&&this[t].setOptions(this[n].options),this[t].setOptions(this[t].options),this[t]},_getShapeFromBtnName:function(t){var n={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal"};return n[t]?n[t]:this[t]?this[t]._shape:t},_addDrawnLayerProp:function(t){t._drawnByGeoman=!0},_setShapeForFinishLayer:function(t){t.pm._shape=this._shape}});Y.Marker=Y.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){var n=this;L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker([0,0],this.options.markerStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode(),this._map.eachLayer(function(t){n.isRelevantMarker(t)&&t.pm.enable()})},disable:function(){var t=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(n){t.isRelevantMarker(n)&&n.pm.disable()}),this._map.fire("pm:drawend",{shape:this._shape}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},isRelevantMarker:function(t){return t instanceof L.Marker&&t.pm&&!t._pmTempLayer},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_createMarker:function(t){if(t.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng(),e=new L.Marker(n,this.options.markerStyle);this._setShapeForFinishLayer(e),this._addDrawnLayerProp(e),e.addTo(this._map),e.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:e,layer:e}),this._cleanupSnapping()}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var n=t;n.target=this._hintMarker,this._handleSnapping(n)}}});var W=e(6),z=e.n(W);Y.Line=Y.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this.options.finishOnDoubleClick&&!this.options.finishOn&&(this.options.finishOn="dblclick"),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},hasSelfIntersection:function(){return 0<z()(this._layer.toGeoJSON(15)).features.length},_syncHintLine:function(){var t=this._layer.getLatLngs();0<t.length&&this._hintline.setLatLngs([t[t.length-1],this._hintMarker.getLatLng()])},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var n=t;n.target=this._hintMarker,this._handleSnapping(n)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,t.latlng)},_handleSelfIntersection:function(t,n){var e=L.polyline(this._layer.getLatLngs());t&&(n=n||this._hintMarker.getLatLng(),e.addLatLng(n));var l=z()(e.toGeoJSON(15));this._doesSelfIntersect=0<l.features.length,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_removeLastVertex:function(){var t=this._layer.getLatLngs(),n=t.pop();if(t.length<1)this.disable();else{var e=this._layerGroup.getLayers().filter(function(t){return t instanceof L.Marker}).filter(function(t){return!L.DomUtil.hasClass(t._icon,"cursor-marker")}).find(function(t){return t.getLatLng()===n});this._layerGroup.removeLayer(e),this._layer.setLatLngs(t),this._syncHintLine()}},_createVertex:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,t.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng();if(n.equals(this._layer.getLatLngs()[0]))this._finishShape(t);else{var e=0===this._layer.getLatLngs().length;this._layer.addLatLng(n);var l=this._createMarker(n,e);this._hintline.setLatLngs([n,n]),this._layer.fire("pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:l,latlng:n})}}},_finishShape:function(){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var t=this._layer.getLatLngs();if(!(t.length<=1)){var n=L.polyline(t,this.options.pathOptions).addTo(this._map);this._setShapeForFinishLayer(n),this._addDrawnLayerProp(n),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:n}),this.options.snappable&&this._cleanupSnapping()}}},_createMarker:function(t,n){var e=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,this._layerGroup.addLayer(e),e.on("click",this._finishShape,this),n&&this._hintMarker.setTooltipContent(S("tooltips.continueLine")),2===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent(S("tooltips.finishLine")),e}}),Y.Polygon=Y.Line.extend({initialize:function(t){this._map=t,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},_finishShape:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect)){var n=this._layer.getLatLngs();if(!(n.length<=2)){var e=L.polygon(n,this.options.pathOptions).addTo(this._map);this._setShapeForFinishLayer(e),this._addDrawnLayerProp(e),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex}}},_createMarker:function(t,n){var e=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,this._layerGroup.addLayer(e),n?(e.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(e)-1,this.options.snappable&&this._cleanupSnapping()):e.on("click",function(){return 1}),n&&this._hintMarker.setTooltipContent(S("tooltips.continueLine")),3===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent(S("tooltips.finishPoly")),e}}),Y.Rectangle=Y.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._layer._pmTempLayer=!0,this._startMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var n=0;n<2;n+=1){var e=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});e._pmTempLayer=!0,this._layerGroup.addLayer(e),this._styleMarkers.push(e)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(n),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(t){L.DomUtil.addClass(t._icon,"visible"),t.setLatLng(n)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(S("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var n=t;n.target=this._hintMarker,this._handleSnapping(n)}},_syncRectangleSize:function(){var t=this,n=this._startMarker.getLatLng(),e=this._hintMarker.getLatLng();if(this._layer.setBounds([n,e]),this.options.cursorMarker&&this._styleMarkers){var l=this._findCorners(),a=[];l.forEach(function(n){n.equals(t._startMarker.getLatLng())||n.equals(t._hintMarker.getLatLng())||a.push(n)}),a.forEach(function(n,e){t._styleMarkers[e].setLatLng(n)})}},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng(),e=this._startMarker.getLatLng(),l=L.rectangle([e,n],this.options.pathOptions).addTo(this._map);this._setShapeForFinishLayer(l),this._addDrawnLayerProp(l),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:l})},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),Y.Circle=Y.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(t){L.Util.setOptions(this,t),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle([0,0],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._setGlobalDrawMode(),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng();this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),e=t.distanceTo(n);this._layer.setRadius(e)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var n=t;n.target=this._hintMarker,this._handleSnapping(n)}},_placeCenterMarker:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(S("tooltips.finishCircle")),this._layer.fire("pm:centerplaced",{workingLayer:this._layer,latlng:t,shape:this._shape}))},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),l=n.distanceTo(e),a=Object.assign({},this.options.pathOptions,{radius:l}),i=L.circle(n,a).addTo(this._map);this._setShapeForFinishLayer(i),this._addDrawnLayerProp(i),i.pm._updateHiddenPolyCircle(),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:i})},_createMarker:function(t){var n=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return n._pmTempLayer=!0,this._layerGroup.addLayer(n),n}}),Y.CircleMarker=Y.Marker.extend({initialize:function(t){this._map=t,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker"},enable:function(t){var n=this;L.Util.setOptions(this,t),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable?(this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker([0,0],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"):(this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker([0,0],this.options.templineStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(S("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip()),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._setGlobalDrawMode(),this.options.editable||this._map.eachLayer(function(t){n.isRelevantMarker(t)&&t.pm.enable()})},disable:function(){var t=this;this._enabled&&(this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(n){t.isRelevantMarker(n)&&n.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._enabled=!1)},_placeCenterMarker:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng();this._centerMarker.setLatLng(n),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(S("tooltips.finishCircle")),this._layer.fire("pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:t}))},_syncHintLine:function(){var t=this._centerMarker.getLatLng();this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),n=this._hintMarker.getLatLng(),e=this._map.project(t).distanceTo(this._map.project(n));this._layer.setRadius(e)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var n=t;n.target=this._hintMarker,this._handleSnapping(n)}},isRelevantMarker:function(t){return t instanceof L.CircleMarker&&!(t instanceof L.Circle)&&t.pm&&!t._pmTempLayer},_createMarker:function(t){if(t.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._hintMarker.getLatLng(),e=L.circleMarker(n,this.options.pathOptions);this._setShapeForFinishLayer(e),this._addDrawnLayerProp(e),e.addTo(this._map),e.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:e,layer:e}),this._cleanupSnapping()}},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var n=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),l=this._map.project(n).distanceTo(this._map.project(e)),a=Object.assign({},this.options.pathOptions,{radius:l}),i=L.circleMarker(n,a).addTo(this._map);this._setShapeForFinishLayer(i),this._addDrawnLayerProp(i),i.pm._updateHiddenPolyCircle(),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:i})}});var H=e(25),q=e.n(H);function K(t){var n={type:"Feature"};return n.geometry=t,n}function X(t){return"Feature"===t.type?t.geometry:t}function J(t){return K({type:"Polygon",coordinates:t})}function $(t){return K({type:"MultiPolygon",coordinates:t})}function Q(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}Y.Cut=Y.Polygon.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_cut:function(t){var n=this,e=this._map._layers;Object.keys(e).map(function(t){return e[t]}).filter(function(t){return t.pm}).filter(function(t){return t instanceof L.Polygon}).filter(function(n){return n!==t}).filter(function(n){try{return!!function(t,n){var e=X(t),l=X(n),a=q.a.intersection(e.coordinates,l.coordinates);return 0===a.length?null:1===a.length?J(a[0]):$(a)}(t.toGeoJSON(15),n.toGeoJSON(15))}catch(t){return console.error("You cant cut polygons with self-intersections"),!1}}).forEach(function(e){var l=function(t,n){var e=X(t),l=X(n),a=q.a.difference(e.coordinates,l.coordinates);return 0===a.length?null:1===a.length?J(a[0]):$(a)}(e.toGeoJSON(15),t.toGeoJSON(15)),a=L.geoJSON(l,e.options);1===a.getLayers().length&&(a=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],l=!0,a=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(l=(r=o.next()).done)&&(e.push(r.value),1!==e.length);l=!0);}catch(t){a=!0,i=t}finally{try{l||null==o.return||o.return()}finally{if(a)throw i}}return e}}(t)||function(t,n){if(t){if("string"==typeof t)return Q(t,1);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Q(t,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a.getLayers())[0]);var i=a.addTo(n._map);i.pm.enable(n.options),i.pm.disable(),e._pmTempLayer=!0,t._pmTempLayer=!0,e.remove(),t.remove(),i.getLayers&&0===i.getLayers().length&&n._map.pm.removeLayer({target:i}),n._addDrawnLayerProp(i),n._editedLayers.push({layer:i,originalLayer:e})})},_finishShape:function(){var t=this;if(this._editedLayers=[],this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var n=this._layer.getLatLngs(),e=L.polygon(n,this.options.pathOptions);this._cut(e),this.disable(),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(n){var e=n.layer,l=n.originalLayer;l.fire("pm:cut",{shape:t._shape,layer:e,originalLayer:l}),t._map.fire("pm:cut",{shape:t._shape,layer:e,originalLayer:l}),l.fire("pm:edit",{layer:l,shape:l.pm.getShape()})}),this._editedLayers=[]}}});var Z={enableLayerDrag:function(){if(this.disable(),this._map||(this._map=this._layer._map),this._layer instanceof L.Marker)return this._layer.on("dragstart",this._fireDragStart,this),this._layer.on("drag",this._fireDrag,this),this._layer.on("dragend",this._fireDragEnd,this),this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),void(this._layer.dragging&&this._layer.dragging.enable());this._tempDragCoord=null,this._layer._map.options.preferCanvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this)},disableLayerDrag:function(){if(this._layer instanceof L.Marker)return this._layer.off("dragstart",this._fireDragStart,this),this._layer.off("drag",this._fireDrag,this),this._layer.off("dragend",this._fireDragEnd,this),void(this._layer.dragging&&this._layer.dragging.disable());this._layer._map.options.preferCanvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._safeToCacheDragState=!1,this._layer.off("mousedown",this._dragMixinOnMouseDown,this)},_dragMixinOnMouseUp:function(){var t=this,n=this._layer._path?this._layer._path:this._layer._renderer._container;return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer._map.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),window.setTimeout(function(){t._dragging=!1,L.DomUtil.removeClass(n,"leaflet-pm-dragging"),t._fireDragEnd(),t._fireEdit()},10),!0)},_dragMixinOnMouseMove:function(t){var n=this._layer._path?this._layer._path:this._layer._renderer._container;this._dragging||(this._dragging=!0,L.DomUtil.addClass(n,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._fireDragStart()),this._onLayerDrag(t)},_dragMixinOnMouseDown:function(t){0<t.originalEvent.button||(this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,this._layer._map.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this))},dragging:function(){return this._dragging},_onLayerDrag:function(t){var n=t.latlng,e=n.lat-this._tempDragCoord.lat,l=n.lng-this._tempDragCoord.lng,a=function t(n){return n.map(function(n){return Array.isArray(n)?t(n):{lat:n.lat+e,lng:n.lng+l}})};if(this._layer instanceof L.CircleMarker){var i=a([this._layer.getLatLng()]);this._layer.setLatLng(i[0])}else{var r=a(this._layer.getLatLngs());this._layer.setLatLngs(r)}this._tempDragCoord=n,t.layer=this._layer,this._fireDrag(t)},_fireDragStart:function(){this._layer.fire("pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(t){this._layer.fire("pm:drag",Object.assign({},t,{shape:this.getShape()}))},_fireDragEnd:function(){this._layer.fire("pm:dragend",{layer:this._layer,shape:this.getShape()})},addDraggingClass:function(){L.DomUtil.addClass(this._layer._path?this._layer._path:this._layer._renderer._container,"leaflet-pm-draggable")},removeDraggingClass:function(){L.DomUtil.removeClass(this._layer._path?this._layer._path:this._layer._renderer._container,"leaflet-pm-draggable")}},tt=L.Class.extend({includes:[Z,G],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,draggable:!0,limitMarkersToCount:-1,preventMarkerRemoval:!1,hideMiddleMarkers:!1},setOptions:function(t){L.Util.setOptions(this,t)},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape}});tt.LayerGroup=L.Class.extend({initialize:function(t){var n=this;this._layerGroup=t,this._layers=this.findLayers(),this._layers.forEach(function(t){return n._initLayer(t)}),this._layerGroup.on("layeradd",function(t){t.target._pmTempLayer||(n._layers=n.findLayers(),t.layer.pm&&n._initLayer(t.layer),t.target.pm.enabled()&&n.enable(n.getOptions()))}),this._layerGroup.on("layerremove",function(t){t.target._pmTempLayer||(n._layers=n.findLayers())})},findLayers:function(){var t=this._layerGroup.getLayers();return(t=(t=t.filter(function(t){return!(t instanceof L.LayerGroup)})).filter(function(t){return!!t.pm})).filter(function(t){return!t._pmTempLayer})},_initLayer:function(t){var n=this;["pm:edit","pm:update","pm:enable","pm:disable","pm:remove","pm:dragstart","pm:drag","pm:dragend","pm:snap","pm:unsnap","pm:cut","pm:intersect","pm:markerdragend","pm:markerdragstart","pm:vertexadded","pm:vertexremoved","pm:centerplaced"].forEach(function(e){t.on(e,n._fireEvent,n)}),t.pm._layerGroup=this._layerGroup},_fireEvent:function(t){this._layerGroup.fireEvent(t.type,t)},toggleEdit:function(t){this._options=t,this._layers.forEach(function(n){n.pm.toggleEdit(t)})},enable:function(t){this._options=t,this._layers.forEach(function(n){n.pm.enable(t)})},disable:function(){this._layers.forEach(function(t){t.pm.disable()})},enabled:function(){return!!this._layers.find(function(t){return t.pm.enabled()})},dragging:function(){return!!this._layers.find(function(t){return t.pm.dragging()})},getOptions:function(){return this._options}}),tt.Marker=tt.extend({_shape:"Marker",initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){L.Util.setOptions(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{draggable:!0}),this._map=this._layer._map,this.enabled()||(this._enabled=!0,this._layer.fire("pm:enable",{layer:this._layer,shape:this.getShape()}),this.applyOptions())},enabled:function(){return this._enabled},disable:function(){this._enabled=!1,this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.fire("pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&this._layer.fire("pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1},_removeMarker:function(t){var n=t.target;n.remove(),n.fire("pm:remove",{layer:n,shape:this.getShape()}),this._map.fire("pm:remove",{layer:n,shape:this.getShape()})},_onDragEnd:function(t){t.target.fire("pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("drag",this._handleSnapping,this),t.on("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.on("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}});var nt=e(7),et=e.n(nt);function lt(t){return function(t){if(Array.isArray(t))return at(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return at(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?at(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}function it(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=t[e];return l}tt.Line=tt.extend({includes:[{filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),-1<this.options.limitMarkersToCount&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.applyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.applyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var t=[].concat(lt(this._markerGroup.getLayers()),lt(this.markerCache));this.markerCache=t.filter(function(t,n,e){return e.indexOf(t)===n})},renderLimits:function(t){var n=this;this.markerCache.forEach(function(e){t.includes(e)?n._markerGroup.addLayer(e):n._markerGroup.removeLayer(e)})},applyLimitFilters:function(t){var n=t.latlng,e=lt(this._filterClosestMarkers(void 0===n?{lat:0,lng:0}:n));this.renderLimits(e)},_filterClosestMarkers:function(t){var n=lt(this.markerCache),e=this.options.limitMarkersToCount;return n.sort(function(n,e){return n._latlng.distanceTo(t)-e._latlng.distanceTo(t)}),n.filter(function(t,n){return!(-1<e)||n<e})}}],_shape:"Line",initialize:function(t){this._layer=t,this._enabled=!1},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},toggleEdit:function(t){return this.enabled()?this.disable():this.enable(t),this.enabled()},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.fire("pm:enable",{layer:this._layer,shape:this.getShape()}),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.cachedColor=void 0,this.options.allowSelfIntersection||(this.cachedColor=this._layer.options.color,this.isRed=!1,this._handleLayerStyle()))},_onLayerRemove:function(t){this.disable(t.target)},enabled:function(){return this._enabled},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.pm._markerGroup.removeFrom(this._map),t.off("mousedown"),t.off("mouseup"),this._layer.off("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var n=t._path?t._path:this._layer._renderer._container;return L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this.hasSelfIntersection()&&L.DomUtil.removeClass(n,"leaflet-pm-invalid"),this._layer.fire("pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&this._layer.fire("pm:update",{layer:this._layer,shape:this.getShape()}),!(this._layerEdited=!1)},hasSelfIntersection:function(){return 0<z()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var n=this,e=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;t?(e.setStyle({color:"red"}),this.isRed=!0,window.setTimeout(function(){e.setStyle({color:n.cachedColor}),n.isRed=!1},200)):(e.setStyle({color:"red"}),this.isRed=!0),this._layer.fire("pm:intersect",{layer:this._layer,intersection:z()(this._layer.toGeoJSON(15)),shape:this.getShape()})}else e.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_updateDisabledMarkerStyle:function(t,n){var e=this;t.forEach(function(t){if(Array.isArray(t))return e._updateDisabledMarkerStyle(t,n);t._icon&&(n&&!e._checkMarkerAllowedToDrag(t)?L.DomUtil.addClass(t._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(t._icon,"vertexmarker-disabled"))})},_initMarkers:function(){var t=this,n=this._map,e=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,this._markers=function n(e){if(Array.isArray(e[0]))return e.map(n,t);var l=e.map(t._createMarker,t);return!0!==t.options.hideMiddleMarkers&&e.map(function(n,a){var i=t.isPolygon()?(a+1)%e.length:a+1;return t._createMiddleMarker(l[a],l[i])}),l}(e),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker:function(t){var n=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("move",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(n),n},_createMiddleMarker:function(t,n){var e=this;if(!t||!n)return!1;var l=O.calcMiddleLatLng(this._map,t.getLatLng(),n.getLatLng()),a=this._createMarker(l),i=L.divIcon({className:"marker-icon marker-icon-middle"});return a.setIcon(i),t._middleMarkerNext=a,(n._middleMarkerPrev=a).on("click",function(){var l=L.divIcon({className:"marker-icon"});a.setIcon(l),e._addMarker(a,t,n)}),a.on("movestart",function(){a.on("moveend",function(){var t=L.divIcon({className:"marker-icon"});a.setIcon(t),a.off("moveend")}),e._addMarker(a,t,n)}),a},_addMarker:function(t,n,e){t.off("movestart"),t.off("click");var l=t.getLatLng(),a=this._layer._latlngs,i=this.findDeepMarkerIndex(this._markers,n),r=i.indexPath,o=i.index,s=i.parentPath,u=1<r.length?y()(a,s):a,c=1<r.length?y()(this._markers,s):this._markers;u.splice(o+1,0,l),c.splice(o+1,0,t),this._layer.setLatLngs(a),!0!==this.options.hideMiddleMarkers&&(this._createMiddleMarker(n,t),this._createMiddleMarker(t,e)),this._fireEdit(),this._layer.fire("pm:vertexadded",{layer:this._layer,marker:t,indexPath:this.findDeepMarkerIndex(this._markers,t).indexPath,latlng:l,shape:this.getShape()}),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){if(!this.options.allowSelfIntersection){var n=this._layer.getLatLngs();this._coordsBeforeEdit=JSON.parse(JSON.stringify(n))}var e=t.target,l=this._layer.getLatLngs(),a=this.findDeepMarkerIndex(this._markers,e),i=a.indexPath,r=a.index,o=a.parentPath;if(i){var s,u,c=1<i.length?y()(l,o):l,h=1<i.length?y()(this._markers,o):this._markers;c.splice(r,1),this._layer.setLatLngs(l),this.isPolygon()&&c.length<=2&&c.splice(0,c.length),c.length<=1&&(c.splice(0,c.length),this._layer.setLatLngs(l),this.disable(),this.enable(this.options)),!function t(n){return n.filter(function(t){return![null,"",void 0].includes(t)}).reduce(function(n,e){return n.concat(Array.isArray(e)?t(e):e)},[])}(l).length&&this._layer.remove(),e._middleMarkerPrev&&this._markerGroup.removeLayer(e._middleMarkerPrev),e._middleMarkerNext&&this._markerGroup.removeLayer(e._middleMarkerNext),this._markerGroup.removeLayer(e),this.isPolygon()?(s=(r+1)%h.length,u=(r+(h.length-1))%h.length):(u=r-1<0?void 0:r-1,s=r+1>=h.length?void 0:r+1),s!==u&&!0!==this.options.hideMiddleMarkers&&this._createMiddleMarker(h[u],h[s]),h.splice(r,1),this._fireEdit(),this._layer.fire("pm:vertexremoved",{layer:this._layer,marker:e,indexPath:i,shape:this.getShape()})}},findDeepMarkerIndex:function(t,n){var e;t.some(function t(l){return function(a,i){var r=l.concat(i);return a._leaflet_id===n._leaflet_id?(e=r,!0):Array.isArray(a)&&a.some(t(r))}}([]));var l={};return e&&(l={indexPath:e,index:e[e.length-1],parentPath:e.slice(0,e.length-1)}),l},updatePolygonCoordsFromMarkerDrag:function(t){var n=this._layer.getLatLngs(),e=t.getLatLng(),l=this.findDeepMarkerIndex(this._markers,t),a=l.index,i=l.parentPath;(1<l.indexPath.length?y()(n,i):n).splice(a,1,e),this._layer.setLatLngs(n)},_getNeighborMarkers:function(t){var n=this.findDeepMarkerIndex(this._markers,t),e=n.index,l=n.parentPath,a=1<n.indexPath.length?y()(this._markers,l):this._markers;return{prevMarker:a[(e+(a.length-1))%a.length],nextMarker:a[(e+1)%a.length]}},_onMarkerDrag:function(t){var n=t.target,e=this.findDeepMarkerIndex(this._markers,n),l=e.indexPath,a=e.index,i=e.parentPath;if(l){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&!1===this._markerAllowedToDrag)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(n);var r=1<l.length?y()(this._markers,i):this._markers,o=(a+1)%r.length,s=(a+(r.length-1))%r.length,u=n.getLatLng(),c=r[s].getLatLng(),h=r[o].getLatLng();if(n._middleMarkerNext){var d=O.calcMiddleLatLng(this._map,u,h);n._middleMarkerNext.setLatLng(d)}if(n._middleMarkerPrev){var p=O.calcMiddleLatLng(this._map,u,c);n._middleMarkerPrev.setLatLng(p)}this.options.allowSelfIntersection||this._handleLayerStyle()}},_onMarkerDragEnd:function(t){var n=this.findDeepMarkerIndex(this._markers,t.target).indexPath;this._layer.fire("pm:markerdragend",{layer:this._layer,markerEvent:t,indexPath:n,shape:this.getShape()});var e=this.hasSelfIntersection();if(e&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(e=!1),!this.options.allowSelfIntersection&&e)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),void this._handleLayerStyle();!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit()},_onMarkerDragStart:function(t){var n=t.target,e=this.findDeepMarkerIndex(this._markers,n).indexPath;this._layer.fire("pm:markerdragstart",{layer:this._layer,markerEvent:t,indexPath:e,shape:this.getShape()}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs()),this.cachedColor||(this.cachedColor=this._layer.options.color),this._markerAllowedToDrag=!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._checkMarkerAllowedToDrag(n):null},_checkMarkerAllowedToDrag:function(t){var n=this._getNeighborMarkers(t),e=n.nextMarker,l=L.polyline([n.prevMarker.getLatLng(),t.getLatLng()]),a=L.polyline([t.getLatLng(),e.getLatLng()]),i=et()(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length,r=et()(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.length;return t.getLatLng()===this._markers[0][0].getLatLng()?r+=1:t.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(i+=1),!(i<=2&&r<=2)},_fireEdit:function(){this._layerEdited=!0,this._layer.fire("pm:edit",{layer:this._layer,shape:this.getShape()})}}),tt.Polygon=tt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(t){var n=this._getNeighborMarkers(t),e=n.nextMarker,l=L.polyline([n.prevMarker.getLatLng(),t.getLatLng()]),a=L.polyline([t.getLatLng(),e.getLatLng()]),i=et()(this._layer.toGeoJSON(15),l.toGeoJSON(15)).features.length,r=et()(this._layer.toGeoJSON(15),a.toGeoJSON(15)).features.length;return!(i<=2&&r<=2)}}),tt.Rectangle=tt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var t=this._map,n=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,t.addLayer(this._markerGroup),this._markers=[],this._markers[0]=n.map(this._createMarker,this);var e=function(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],l=!0,a=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(l=(r=o.next()).done)&&(e.push(r.value),1!==e.length);l=!0);}catch(t){a=!0,i=t}finally{try{l||null==o.return||o.return()}finally{if(a)throw i}}return e}}(t)||function(t,n){if(t){if("string"==typeof t)return it(t,1);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?it(t,1):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._markers);this._cornerMarkers=e[0],this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,n){var e=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return e._origLatLng=t,e._index=n,e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("drag",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),e.on("pm:snap",this._adjustRectangleForMarkerSnap,this),this.options.preventMarkerRemoval||e.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(e),e},_removeMarker:function(){return null},_onMarkerDragStart:function(t){var n=t.target,e=this._findCorners();n._oppositeCornerLatLng=e[(n._index+2)%4],n._snapped=!1,this._layer.fire("pm:markerdragstart",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:void 0})},_onMarkerDrag:function(t){var n=t.target;void 0!==n._index&&(n._snapped||this._adjustRectangleForMarkerMove(n))},_onMarkerDragEnd:function(t){var n=this._findCorners();this._adjustAllMarkers(n),this._cornerMarkers.forEach(function(t){delete t._oppositeCornerLatLng}),this._layer.setLatLngs(n),this._layer.fire("pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:void 0}),this._fireEdit()},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var n=t.getLatLng();this._layer.setBounds(L.latLngBounds(n,t._oppositeCornerLatLng)),this._adjustAdjacentMarkers(t),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(t){this.options.snappable&&this._adjustRectangleForMarkerMove(t.target)},_adjustAllMarkers:function(t){t.length&&4===t.length?this._cornerMarkers.forEach(function(n,e){n.setLatLng(t[e])}):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(t){if(t&&t.getLatLng&&t._oppositeCornerLatLng){var n=t.getLatLng(),e=t._oppositeCornerLatLng,l=[];this._findCorners().forEach(function(t){t.equals(n)||t.equals(e)||l.push(t)});var a=0;2===l.length&&this._cornerMarkers.forEach(function(t){var i=t.getLatLng();i.equals(n)||i.equals(e)||(t.setLatLng(l[a]),a+=1)})}else console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),tt.Circle=tt.extend({_shape:"Circle",initialize:function(t){this._layer=t,this._enabled=!1,this._updateHiddenPolyCircle()},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_disableSnapping:function(){var t=this;this._markers.forEach(function(n){n.off("move",t._syncHintLine,t),n.off("move",t._syncCircleRadius,t),n.off("drag",t._handleSnapping,t),n.off("dragend",t._cleanupSnapping,t)}),this._layer.off("pm:dragstart",this._unsnap,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(t){var n=this;L.Util.setOptions(this,t),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.fire("pm:enable",{layer:this._layer,shape:this.getShape()}),this._layer.on("remove",function(t){n.disable(t.target)}),this._updateHiddenPolyCircle()},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;return!(!this.enabled()||t.pm._dragging||(this._centerMarker.off("dragstart",this._fireDragStart,this),this._centerMarker.off("drag",this._fireDrag,this),this._centerMarker.off("dragend",this._fireDragEnd,this),t.pm._enabled=!1,t.pm._helperLayers.clearLayers(),t.off("mousedown"),t.off("mouseup"),L.DomUtil.removeClass(t._path?t._path:this._layer._renderer._container,"leaflet-pm-draggable"),this._layer.fire("pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&this._layer.fire("pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1))},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var n=this._layer.getLatLng(),e=this._getLatLngOnCircle(n,this._layer._radius);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(e),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,n){var e=this._map.project(t),l=L.point(e.x+n,e.y);return this._map.unproject(l)},_resizeCircle:function(){this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(t){var n=t.latlng;this._layer.setLatLng(n);var e=this._getLatLngOnCircle(n,this._layer._radius);this._outerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle(),this._layer.fire("pm:centerplaced",{layer:this._layer,latlng:n,shape:this.getShape()})},_onMarkerDragStart:function(t){this._layer.fire("pm:markerdragstart",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:void 0})},_onMarkerDragEnd:function(t){this._fireEdit(),this._layer.fire("pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:void 0})},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),e=t.distanceTo(n);this._layer.setRadius(e),this._updateHiddenPolyCircle()},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,n])},_createHintLine:function(t,n){var e=t.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([e,l],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var n=this._createMarker(t);return L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"),n.on("drag",this._moveCircle,this),n.on("dragstart",this._fireDragStart,this),n.on("drag",this._fireDrag,this),n.on("dragend",this._fireDragEnd,this),n},_createOuterMarker:function(t){var n=this._createMarker(t);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(t){var n=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return n._origLatLng=t,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_fireEdit:function(){this._layer.fire("pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_fireDragStart:function(){this._layer.fire("pm:dragstart",{layer:this._layer,shape:this.getShape()})},_fireDrag:function(t){this._layer.fire("pm:drag",Object.assign({},t,{shape:this.getShape()}))},_fireDragEnd:function(){this._layer.fire("pm:dragend",{layer:this._layer,shape:this.getShape()})},_updateHiddenPolyCircle:function(){this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(O.circleToPolygon(this._layer,200).getLatLngs()):this._hiddenPolyCircle=O.circleToPolygon(this._layer,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}}),tt.CircleMarker=tt.extend({_shape:"CircleMarker",initialize:function(t){this._layer=t,this._enabled=!1,this._updateHiddenPolyCircle()},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(){L.Util.setOptions(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this.applyOptions(),this._layer.fire("pm:enable",{layer:this._layer,shape:this.getShape()}),this._enabled=!0,this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle())},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;return!(t.pm._dragging||(t.pm._helperLayers&&t.pm._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map.off("move",this.options.editable?this._syncMarkers:this._updateHiddenPolyCircle,this),this.disableLayerDrag(),this.enabled()||(this._layer.fire("pm:disable",{layer:this._layer,shape:this.getShape()}),this._layerEdited&&this._layer.fire("pm:update",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!1),this._layer.off("contextmenu",this._removeMarker,this),t.pm._enabled=!1))},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var n=this._layer.getLatLng(),e=this._getLatLngOnCircle(n,this._layer._radius);this._centerMarker=this._createCenterMarker(n),this._outerMarker=this._createOuterMarker(e),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,n){var e=this._map.project(t),l=L.point(e.x+n,e.y);return this._map.unproject(l)},_createHintLine:function(t,n){var e=t.getLatLng(),l=n.getLatLng();this._hintline=L.polyline([e,l],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var n=this._createMarker(t);return this.options.draggable?(L.DomUtil.addClass(n._icon,"leaflet-pm-draggable"),n.on("drag",this._moveCircle,this)):n.dragging.disable(),n},_moveCircle:function(t){var n=t.latlng;this._layer.setLatLng(n);var e=this._getLatLngOnCircle(n,this._layer._radius);this._outerMarker.setLatLng(e),this._syncHintLine(),this._layer.fire("pm:centerplaced",{layer:this._layer,latlng:n,shape:this.getShape()})},_createOuterMarker:function(t){var n=this._createMarker(t);return n.on("drag",this._resizeCircle,this),n},_createMarker:function(t){var n=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return n._origLatLng=t,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(n),n},_syncMarkers:function(){var t=this._layer.getLatLng(),n=this._getLatLngOnCircle(t,this._layer._radius);this._outerMarker.setLatLng(n),this._centerMarker.setLatLng(t),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng(),e=this._map.project(t).distanceTo(this._map.project(n));this._layer.setRadius(e),this._updateHiddenPolyCircle()},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),n=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,n])},_moveMarker:function(t){this._layer.setLatLng(t.latlng).redraw()},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._layer.fire("pm:remove",{layer:this._layer,shape:this.getShape()}),this._map.fire("pm:remove",{layer:this._layer,shape:this.getShape()})},_onMarkerDragStart:function(t){this._layer.fire("pm:markerdragstart",{markerEvent:t,layer:this._layer,shape:this.getShape(),indexPath:void 0})},_fireEdit:function(){this._layer.fire("pm:edit",{layer:this._layer,shape:this.getShape()}),this._layerEdited=!0},_onMarkerDragEnd:function(t){this._layer.fire("pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:void 0})},_initSnappableMarkersDrag:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var t=this._layer._map||this._map;if(t){var n=t.project(this._layer.getLatLng()),e=L.point(n.x+this._layer.getRadius(),n.y),l=this._layer.getLatLng().distanceTo(t.unproject(e)),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(l),this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(O.circleToPolygon(a,200).getLatLngs()):this._hiddenPolyCircle=O.circleToPolygon(a,200),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}}}),e(143),e(144),L.PM=L.PM||{version:l.a,Map:U,Toolbar:j,Draw:Y,Edit:tt,Utils:O,activeLang:"en",initialize:function(t){this.addInitHooks(t)},addInitHooks:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};L.Map.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this))}),L.LayerGroup.addInitHook(function(){this.pm=new L.PM.Edit.LayerGroup(this)}),L.Marker.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))})}},L.PM.initialize()}])},"1y+q":function(t,n,e){"use strict";var l=e("Ua6E");function a(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}(a.prototype=new l).readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,n},t.exports=a},"38aT":function(t,n){!function(){function n(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function e(){return 1}"object"==typeof t&&t.exports?t.exports=i:this.LRUCache=i;var l=!1;function a(t){l||"string"==typeof t||"number"==typeof t||(l=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof t).stack))}function i(t){if(!(this instanceof i))return new i(t);"number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||e,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=e),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,this.reset()}function r(t,n,e){a(n);var l=t._cache[n];return l&&(o(t,l)?(c(t,l),t._allowStale||(l=void 0)):e&&function(t,n){u(t,n),n.lu=t._mru++,t._lruList[n.lu]=n}(t,l),l&&(l=l.value)),l}function o(t,n){if(!n||!n.maxAge&&!t._maxAge)return!1;var e=Date.now()-n.now;return n.maxAge?e>n.maxAge:t._maxAge&&e>t._maxAge}function s(t){for(;t._lru<t._mru&&t._length>t._max;)c(t,t._lruList[t._lru])}function u(t,n){for(delete t._lruList[n.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function c(t,n){n&&(t._dispose&&t._dispose(n.key,n.value),t._length-=n.length,t._itemCount--,delete t._cache[n.key],u(t,n))}function h(t,n,e,l,a,i){this.key=t,this.value=n,this.lu=e,this.length=l,this.now=a,i&&(this.maxAge=i)}Object.defineProperty(i.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&s(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t)for(var n in this._lengthCalculator=e,this._length=this._itemCount,this._cache)this._cache[n].length=1;else for(var n in this._lengthCalculator=t,this._length=0,this._cache)this._cache[n].length=this._lengthCalculator(this._cache[n].value),this._length+=this._cache[n].length;this._length>this._max&&s(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),i.prototype.forEach=function(t,n){n=n||this;for(var e=0,l=this._itemCount,a=this._mru-1;a>=0&&e<l;a--)if(this._lruList[a]){e++;var i=this._lruList[a];o(this,i)&&(c(this,i),this._allowStale||(i=void 0)),i&&t.call(n,i.value,i.key,this)}},i.prototype.keys=function(){for(var t=new Array(this._itemCount),n=0,e=this._mru-1;e>=0&&n<this._itemCount;e--)this._lruList[e]&&(t[n++]=this._lruList[e].key);return t},i.prototype.values=function(){for(var t=new Array(this._itemCount),n=0,e=this._mru-1;e>=0&&n<this._itemCount;e--)this._lruList[e]&&(t[n++]=this._lruList[e].value);return t},i.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},i.prototype.dump=function(){for(var t=[],n=0,e=this._mru-1;e>=0&&n<this._itemCount;e--)if(this._lruList[e]){var l=this._lruList[e];o(this,l)||(++n,t.push({k:l.key,v:l.value,e:l.now+(l.maxAge||0)}))}return t},i.prototype.dumpLru=function(){return this._lruList},i.prototype.set=function(t,e,l){l=l||this._maxAge,a(t);var i=l?Date.now():0,r=this._lengthCalculator(e);if(n(this._cache,t))return r>this._max?(c(this,this._cache[t]),!1):(this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=i,this._cache[t].maxAge=l,this._cache[t].value=e,this._length+=r-this._cache[t].length,this._cache[t].length=r,this.get(t),this._length>this._max&&s(this),!0);var o=new h(t,e,this._mru++,r,i,l);return o.length>this._max?(this._dispose&&this._dispose(t,e),!1):(this._length+=o.length,this._lruList[o.lu]=this._cache[t]=o,this._itemCount++,this._length>this._max&&s(this),!0)},i.prototype.has=function(t){return a(t),!!n(this._cache,t)&&!o(this,this._cache[t])},i.prototype.get=function(t){return a(t),r(this,t,!0)},i.prototype.peek=function(t){return a(t),r(this,t,!1)},i.prototype.pop=function(){var t=this._lruList[this._lru];return c(this,t),t||null},i.prototype.del=function(t){a(t),c(this,this._cache[t])},i.prototype.load=function(t){this.reset();for(var n=Date.now(),e=t.length-1;e>=0;e--){var l=t[e];a(l.k);var i=l.e||0;if(0===i)this.set(l.k,l.v);else{var r=i-n;r>0&&this.set(l.k,l.v,r)}}}}()},"3j3K":function(t,n,e){"use strict";var l,a,i=global.MutationObserver||global.WebKitMutationObserver;if(i){var r=0,o=new i(h),s=global.document.createTextNode("");o.observe(s,{characterData:!0}),l=function(){s.data=r=++r%2}}else if(global.setImmediate||void 0===global.MessageChannel)l="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var t=global.document.createElement("script");t.onreadystatechange=function(){h(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t)}:function(){setTimeout(h,0)};else{var u=new global.MessageChannel;u.port1.onmessage=h,l=function(){u.port2.postMessage(0)}}var c=[];function h(){var t,n;a=!0;for(var e=c.length;e;){for(n=c,c=[],t=-1;++t<e;)n[t]();e=c.length}a=!1}t.exports=function(t){1!==c.push(t)||a||l()}},"45pY":function(t,n,e){"use strict";var l=e("dBNe");function a(t){this.data=null,this.length=0,this.index=0,this.zero=0}a.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var n,e=0;for(this.checkOffset(t),n=this.index+t-1;n>=this.index;n--)e=(e<<8)+this.byteAt(n);return this.index+=t,e},readString:function(t){return l.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=a},"6PEv":function(t,n,e){"use strict";var l=e("dBNe"),a=function(t){this.data=new Uint8Array(t),this.index=0};a.prototype={append:function(t){0!==t.length&&(t=l.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=a},"6wqB":function(t,n){!function(t,n,e){"use strict";L.XmlUtil={namespaces:{xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/",xsd:"http://www.w3.org/2001/XMLSchema",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs",gml:"http://www.opengis.net/gml",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows"},xmldoc:(new DOMParser).parseFromString("<root />","text/xml"),setAttributes:function(t,n){for(var e in n)if(null!=n[e]&&n[e].toString){var l=n[e].toString(),a=this.namespaces[e.substring(0,e.indexOf(":"))]||null;t.setAttributeNS(a,e,l)}},evaluate:function(t,n){var e=n;e instanceof Document||(e=this.parseXml(n));var l=new XPathEvaluator,a=l.createNSResolver(e.documentElement);return l.evaluate(t,e,a,XPathResult.ANY_TYPE,null)},createElementNS:function(t,n,e){var l=(e=e||{}).uri;l||(l=this.namespaces[t.substring(0,t.indexOf(":"))]),l||(l=this.namespaces[e.prefix]);var a=l?this.xmldoc.createElementNS(l,t):this.xmldoc.createElement(t);return n&&this.setAttributes(a,n),null!=e.value&&a.appendChild(this.xmldoc.createTextNode(e.value)),a},createTextNode:function(t){return null===t||t===e?t="":t instanceof Date&&(t=t.toISOString()),this.xmldoc.createTextNode(t)},getNodeText:function(t){return t?t.innerText||t.textContent||t.text:""},serializeXmlDocumentString:function(t){var e=n.implementation.createDocument("","",null);return e.appendChild(t),(new XMLSerializer).serializeToString(e)},serializeXmlToString:function(t){return(new XMLSerializer).serializeToString(t)},parseXml:function(n){if(void 0!==t.DOMParser)return(new t.DOMParser).parseFromString(n,"text/xml");if(void 0!==t.ActiveXObject&&new t.ActiveXObject("Microsoft.XMLDOM")){var e=new t.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(n),e}throw new Error("No XML parser found")},parseOwsExceptionReport:function(t){var n=t;n instanceof Document||(n=this.parseXml(t));var e=n.documentElement;if(!e||"ows:ExceptionReport"!==e.tagName)return null;for(var l={exceptions:[],message:""},a=e.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"Exception"),i=0,r=a.length;i<r;i++){for(var o=a[i],s=o.getAttribute("exceptionCode"),u=o.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"ExceptionText"),c={code:s,text:""},h=0,d=u.length;h<d;h++){var p=u[h];c.text+=p.innerText||p.textContent||p.text,h<d-1&&(c.text+=". ")}l.message+=c.code+" - "+c.text,i<r-1&&(l.message+=" "),l.exceptions.push(c)}return l}},L.Util.request=function(n){n=L.extend({async:!0,method:"POST",data:"",params:{},headers:{},url:t.location.href,withCredentials:!1,success:function(t){console.log(t)},error:function(t){console.log("Ajax request fail"),console.log(t)},complete:function(){}},n);var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(200===e.status?n.success(e.responseText):n.error(e.responseText),n.complete())},e.withCredentials=n.withCredentials;var l=n.url+L.Util.getParamString(n.params,n.url);for(var a in e.open(n.method,l,n.async),n.headers)e.setRequestHeader(a,n.headers[a]);e.send(n.data)},L.Filter={},L.filter=function(t){var n=L.XmlUtil.createElementNS("ogc:Filter");return Array.isArray(t)?t.forEach(function(t){n.appendChild(t instanceof Element?t:t.toGml())}):t&&n.appendChild(t instanceof Element?t:t.toGml()),n},L.Filter.propertyName=function(t){return L.XmlUtil.createElementNS("ogc:PropertyName",{},{value:t})},L.Filter.literal=function(t){return L.XmlUtil.createElementNS("ogc:Literal",{},{value:t})},L.Filter.element=function(t){return t instanceof Element?t:t.toGml()},L.Filter.propertyElement=function(t){return t instanceof Element?t:t&&"function"==typeof t.toGml?t.toGml():L.Filter.propertyName(t)},L.Filter.literalElement=function(t){return t instanceof Element?t:t&&"function"==typeof t.toGml?t.toGml():L.Filter.literal(t)},L.Filter.Abstract=L.Class.extend({attributes:{},options:{},tagName:null,buildFilterContent:function(){throw"Build filter content is abstract and should be implemented"},toGml:function(){var t=L.XmlUtil.createElementNS(this.tagName,this.attributes,this.options);return this.buildFilterContent(t),t}}),L.Filter.BinarySpatial=L.Filter.Abstract.extend({initialize:function(t,n,e){this.propertyName=t,this.value=n,this.crs=e},buildFilterContent:function(t){return t.appendChild(L.Filter.propertyName(this.propertyName)),t.appendChild("string"==typeof this.value?L.Filter.propertyName(this.value):this.value.toGml(this.crs)),t}}),L.Filter.Equals=L.Filter.BinarySpatial.extend({tagName:"ogc:Equals"}),L.Filter.equals=function(t){return new L.Filter.Equals(t)},L.Filter.Disjoint=L.Filter.BinarySpatial.extend({tagName:"ogc:Disjoint"}),L.Filter.disjoint=function(t){return new L.Filter.Disjoint(t)},L.Filter.Touches=L.Filter.BinarySpatial.extend({tagName:"ogc:Touches"}),L.Filter.touches=function(t){return new L.Filter.Touches(t)},L.Filter.Within=L.Filter.BinarySpatial.extend({tagName:"ogc:Within"}),L.Filter.within=function(t){return new L.Filter.Within(t)},L.Filter.Overlaps=L.Filter.BinarySpatial.extend({tagName:"ogc:Overlaps"}),L.Filter.overlaps=function(t){return new L.Filter.Overlaps(t)},L.Filter.Crosses=L.Filter.BinarySpatial.extend({tagName:"ogc:Crosses"}),L.Filter.crosses=function(t){return new L.Filter.Crosses(t)},L.Filter.Intersects=L.Filter.BinarySpatial.extend({tagName:"ogc:Intersects"}),L.Filter.intersects=function(t){return new L.Filter.Intersects(t)},L.Filter.Contains=L.Filter.BinarySpatial.extend({tagName:"ogc:Contains"}),L.Filter.contains=function(t){return new L.Filter.Contains(t)},L.Filter.DistanceBuffer=L.Filter.Abstract.extend({initialize:function(t,n,e,l,a){this.propertyName=t,this.geomerty=n,this.crs=e,this.distance=l,this.units=a},buildFilterContent:function(t){t.appendChild(L.Filter.propertyName(this.propertyName)),t.appendChild(this.geomerty.toGml(this.crs)),t.appendChild(L.XmlUtil.createElementNS("ogc:Distance",{units:this.units},{value:this.distance}))}}),L.Filter.DWithin=L.Filter.DistanceBuffer.extend({tagName:"ogc:DWithin"}),L.Filter.dwithin=function(t,n,e,l,a){return new L.Filter.DWithin(t,n,e,l,a)},L.Filter.Beyond=L.Filter.DistanceBuffer.extend({tagName:"ogc:Beyond"}),L.Filter.beyond=function(t,n,e,l,a){return new L.Filter.Beyond(t,n,e,l,a)},L.Filter.BBox=L.Filter.Abstract.extend({tagName:"ogc:BBOX",geometryField:null,bbox:null,crs:null,initialize:function(t,n,e){this.bbox=n,this.geometryField=t,this.crs=e},buildFilterContent:function(t){this.geometryField&&t.appendChild(L.Filter.propertyName(this.geometryField)),t.appendChild(this.bbox.toGml(this.crs))}}),L.Filter.bbox=function(t,n,e){return new L.Filter.BBox(t,n,e)},L.Filter.GmlObjectID=L.Filter.Abstract.extend({tagName:"ogc:GmlObjectId",initialize:function(t){this.attributes={"gml:id":t}},buildFilterContent:function(){}}),L.Filter.gmlobjectid=function(t){return new L.Filter.GmlObjectID(t)},L.Filter.BinaryOperator=L.Filter.Abstract.extend({initialize:function(t,n){this.firstValue=t,this.secondValue=n},buildFilterContent:function(t){t.appendChild(L.Filter.propertyElement(this.firstValue)),t.appendChild(L.Filter.literalElement(this.secondValue))}}),L.Filter.Add=L.Filter.BinaryOperator.extend({tagName:"Add"}),L.Filter.add=function(t,n){return new L.Filter.Add(t,n)},L.Filter.Sub=L.Filter.BinaryOperator.extend({tagName:"Sub"}),L.Filter.sub=function(t,n){return new L.Filter.Sub(t,n)},L.Filter.Mul=L.Filter.BinaryOperator.extend({tagName:"Mul"}),L.Filter.mul=function(t,n){return new L.Filter.Mul(t,n)},L.Filter.Div=L.Filter.BinaryOperator.extend({tagName:"Div"}),L.Filter.div=function(t,n){return new L.Filter.Div(t,n)},L.Filter.BinaryComparison=L.Filter.BinaryOperator.extend({matchCase:!1,initialize:function(t,n,e){L.Filter.BinaryOperator.prototype.initialize.call(this,t,n),this.attributes={matchCase:!!e}}}),L.Filter.EQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsEqualTo"}),L.Filter.eq=function(t,n){return new L.Filter.EQ(t,n)},L.Filter.NotEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsNotEqualTo"}),L.Filter.neq=function(t,n){return new L.Filter.NotEQ(t,n)},L.Filter.LT=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsLessThan"}),L.Filter.lt=function(t,n){return new L.Filter.LT(t,n)},L.Filter.GT=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsGreaterThan"}),L.Filter.gt=function(t,n){return new L.Filter.GT(t,n)},L.Filter.LEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsLessThanOrEqualTo"}),L.Filter.leq=function(t,n){return new L.Filter.LEQ(t,n)},L.Filter.GEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsGreaterThanOrEqualTo"}),L.Filter.geq=function(t,n){return new L.Filter.GEQ(t,n)},L.Filter.Like=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsLike",wildCard:"*",singleChar:"#",escapeChar:"!",matchCase:!0,initialize:function(t,n,e){this.name=t,this.val=n,this.attributes=L.extend({wildCard:this.wildCard,singleChar:this.singleChar,escapeChar:this.escapeChar,matchCase:this.matchCase},e||{})},buildFilterContent:function(t){var n=L.Filter.propertyName(this.name),e=L.Filter.literal(this.val);return t.appendChild(n),t.appendChild(e),t}}),L.Filter.like=function(t,n,e){return new L.Filter.Like(t,n,e)},L.Filter.IsNull=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsNull",initialize:function(t){this.propertyName=t},buildFilterContent:function(t){t.appendChild(L.Filter.propertyName(this.propertyName))}}),L.Filter.isnull=function(t){return new L.Filter.IsNull(t)},L.Filter.IsBetween=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsBetween",initialize:function(t,n,e){this.property=t,this.lowerBoundary=n,this.upperBoundary=e},buildFilterContent:function(t){t.appendChild(L.Filter.propertyElement(this.property));var n=L.XmlUtil.createElementNS("ogc:LowerBoundary");n.appendChild(L.Filter.literalElement(this.lowerBoundary)),t.appendChild(n);var e=L.XmlUtil.createElementNS("ogc:UpperBoundary");e.appendChild(L.Filter.literalElement(this.upperBoundary)),t.appendChild(e)}}),L.Filter.isbetween=function(t,n,e){return new L.Filter.IsBetween(t,n,e)},L.Filter.BinaryLogic=L.Filter.Abstract.extend({filters:null,initialize:function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);this.filters=t},buildFilterContent:function(t){this.filters.forEach(function(n){t.appendChild(L.Filter.element(n))})}}),L.Filter.And=L.Filter.BinaryLogic.extend({tagName:"And"}),L.Filter.and=function(){return new(Function.prototype.bind.apply(L.Filter.And,arguments))},L.Filter.Or=L.Filter.BinaryLogic.extend({tagName:"Or"}),L.Filter.or=function(){return new(Function.prototype.bind.apply(L.Filter.Or,arguments))},L.Filter.Not=L.Filter.Abstract.extend({tagName:"Not",initialize:function(t){this.filter=t},buildFilterContent:function(t){t.appendChild(L.Filter.element(this.filter))}}),L.Filter.not=function(t){return new L.Filter.Not(t)},L.Filter.Function=L.Filter.Abstract.extend({tagName:"Function",initialize:function(){this.attributes={name:arguments[0]};for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);this.expressions=t},buildFilterContent:function(t){t.appendChild(L.Filter.propertyElement(this.expressions[0]));for(var n=1;n<this.expressions.length;n++)t.appendChild(L.Filter.literalElement(this.expressions[n]))}}),L.Filter.function=function(){return new(Function.prototype.bind.apply(L.Filter.Function,arguments))},L.Format={},L.Format.Scheme=L.Class.extend({options:{geometryField:"Shape"},initialize:function(t){L.setOptions(this,t)},parse:function(t){for(var n=new L.GML.FeatureType({geometryField:this.options.geometryField}),e=t.getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"complexType")[0].getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"sequence")[0],l=0;l<e.children.length;l++){var a=e.children[l];if(a.attributes.name){var i=a.attributes.name.value,r=a.attributes.type;if(r||(r=a.getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"restriction").attributes.base),r){var o=r.value.split(":").pop();i!==this.options.geometryField?n.appendField(i,o):n.geometryFields[i]=o}}}return n}}),L.Format.Base=L.Class.extend({defaultOptions:{crs:L.CRS.EPSG3857,coordsToLatLng:function(t){return new L.LatLng(t[1],t[0],t[2])},latLngToCoords:function(t){var n=[t.lng,t.lat];return t.alt!==e&&n.push(t.alt),n},geometryField:"Shape"},initialize:function(t){if(L.setOptions(this,L.extend({},this.defaultOptions,t)),t.crs){var n=t.crs;this.options.coordsToLatLng=function(t){var e=L.point(t[0],t[1]),l=n.projection.unproject(e);return t[2]&&(l.alt=t[2]),l},this.options.latLngToCoords=function(t){var e=L.latLng(t);return n.projection.project(e)}}},setFeatureDescription:function(t){this.namespaceUri=t.attributes.targetNamespace.value;var n=new L.Format.Scheme({geometryField:this.options.geometryField});this.featureType=n.parse(t)},responseToLayers:function(){throw"responseToLayers is abstract and should be implemented"}}),L.Format.GeoJSON=L.Format.Base.extend({outputFormat:"application/json",responseToLayers:function(t){for(var n=[],e=JSON.parse(t),l=0;l<e.features.length;l++){var a=this.processFeature(e.features[l]);a&&n.push(a)}return n},processFeature:function(t){var n=this.generateLayer(t);return n?(n.feature=t,n):null},generateLayer:function(t){return L.GeoJSON.geometryToLayer(t,this.options||null)||(console.log("Geometry field doesn' exist inside received feature: '"+t+"', so feature will be skipped and won't be converted into leaflet layer"),null)}}),L.GML=L.GML||{},L.GML.ParserContainerMixin={parsers:{},initializeParserContainer:function(){this.parsers={}},appendParser:function(t){this.parsers[t.elementTag]=t},parseElement:function(t,n){var e=this.parsers[t.tagName];if(!e)throw"unknown child element "+t.tagName;return e.parse(t,n)}},L.GML.Element=L.Class.extend({elementTag:"",parse:function(){throw"not implemented parse function in parser for "+this.elementTag}}),L.GML.Geometry=L.GML.Element.extend({elementOptions:function(t,n){var e=L.extend({},n),l=t.getAttribute("srsDimension");return l&&(e.dimension=parseInt(l)),e}}),L.GML.Coordinates=L.GML.Element.extend({defaultSeparator:{ds:".",cs:",",ts:" "},elementTag:"gml:coordinates",parse:function(t){var n=this.defaultSeparator.ds;t.attributes.decimal&&(n=t.attributes.decimal.value);var e=this.defaultSeparator.cs;t.attributes.cs&&(e=t.attributes.cs.value);var l=this.defaultSeparator.ts;t.attributes.ts&&(l=t.attributes.ts.value);for(var a=[],i=t.textContent.split(l),r=function(t){return"."!==n&&(t=t.replace(n,".")),parseFloat(t)},o=0;o<i.length;o++)a.push(i[o].split(e).map(r));return 1===a.length?a[0]:a}}),L.GML.Pos=L.GML.Element.extend({elementTag:"gml:pos",parse:function(t){return t.textContent.split(" ").map(function(t){return parseFloat(t)})}}),L.GML.PosList=L.GML.Element.extend({statics:{DIM:2},elementTag:"gml:posList",parse:function(t,n){for(var e=[],l=(n=n||{}).dimension||L.GML.PosList.DIM,a=t.textContent.split(" "),i=0;i<a.length;i+=l){for(var r=[],o=i;o<i+l;o++)r.push(parseFloat(a[o]));e.push(r)}return e}}),L.GML.PointNode=L.GML.Geometry.extend({includes:L.GML.ParserContainerMixin,elementTag:"gml:Point",initialize:function(){this.initializeParserContainer(),this.appendParser(new L.GML.Pos),this.appendParser(new L.GML.Coordinates)},parse:function(t,n){return n=this.elementOptions(t,n),this.parseElement(t.firstElementChild,n)}}),L.GML.PointSequence=L.GML.Geometry.extend({includes:L.GML.ParserContainerMixin,initialize:function(){this.initializeParserContainer(),this.appendParser(new L.GML.Pos),this.appendParser(new L.GML.PosList),this.appendParser(new L.GML.Coordinates),this.appendParser(new L.GML.PointNode)},parse:function(t,n){n=this.elementOptions(t,n);var e=t.firstElementChild,l=[],a=e.tagName;if("gml:pos"===a||"gml:Point"===a)for(var i=this.parsers[a],r=t.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,a.split(":").pop()),o=0;o<r.length;o++)l.push(i.parse(r[o],n));else l=this.parseElement(e,n);return l}}),L.GML.LinearRing=L.GML.PointSequence.extend({elementTag:"gml:LinearRing",parse:function(t,n){var e=L.GML.PointSequence.prototype.parse.call(this,t,n);return e.pop(),e}}),L.GML.LineStringNode=L.GML.PointSequence.extend({elementTag:"gml:LineString"}),L.GML.PolygonNode=L.GML.Geometry.extend({elementTag:"gml:Polygon",initialize:function(){this.linearRingParser=new L.GML.LinearRing},parse:function(t,n){n=this.elementOptions(t,n);for(var e=[],l=0;l<t.children.length;l++)e.push(this.linearRingParser.parse(t.children[l].firstElementChild,n));return e}}),L.GML.CoordsToLatLngMixin={transform:function(t,n){if(Array.isArray(t[0])){for(var e=[],l=0;l<t.length;l++)e.push(this.transform(t[l],n));return e}return n.coordsToLatLng(t)}},L.GML.Point=L.GML.PointNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,n){var e=L.GML.PointNode.prototype.parse.call(this,t,n),l=new L.Marker;return l.setLatLng(this.transform(e,n)),l}}),L.GML.LineString=L.GML.LineStringNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,n){var e=new L.Polyline([]),l=L.GML.LineStringNode.prototype.parse.call(this,t);return e.setLatLngs(this.transform(l,n)),e}}),L.GML.Polygon=L.GML.PolygonNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,n){var e=new L.Polygon([]),l=L.GML.PolygonNode.prototype.parse.call(this,t,n);return e.setLatLngs(this.transform(l,n)),e}}),L.GML.MultiGeometry=L.GML.Geometry.extend({includes:[L.GML.ParserContainerMixin,L.GML.CoordsToLatLngMixin],initialize:function(){this.initializeParserContainer()},parse:function(t,n){n=this.elementOptions(t,n);for(var e=[],l=0;l<t.children.length;l++)for(var a=t.children[l],i=0;i<a.children.length;i++)e.push(this.parseElement(a.children[i],n));return this.transform(e,n)}}),L.GML.AbstractMultiPolyline=L.GML.MultiGeometry.extend({initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.LineStringNode)},parse:function(t,n){var e=L.GML.MultiGeometry.prototype.parse.call(this,t,n),l=new L.Polyline([]);return l.setLatLngs(e),l}}),L.GML.AbstractMultiPolygon=L.GML.MultiGeometry.extend({initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.PolygonNode)},parse:function(t,n){var e=L.GML.MultiGeometry.prototype.parse.call(this,t,n),l=new L.Polygon([]);return l.setLatLngs(e),l}}),L.GML.MultiLineString=L.GML.AbstractMultiPolyline.extend({elementTag:"gml:MultiLineString"}),L.GML.MultiCurve=L.GML.AbstractMultiPolyline.extend({elementTag:"gml:MultiCurve"}),L.GML.MultiPolygon=L.GML.AbstractMultiPolygon.extend({elementTag:"gml:MultiPolygon"}),L.GML.MultiSurface=L.GML.AbstractMultiPolygon.extend({elementTag:"gml:MultiSurface"}),L.GML.MultiPoint=L.GML.MultiGeometry.extend({elementTag:"gml:MultiPoint",initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.PointNode)},parse:function(t,n){for(var e=L.GML.MultiGeometry.prototype.parse.call(this,t,n),l=new L.FeatureGroup,a=0;a<e.length;a++){var i=new L.Marker;i.setLatLng(e[a]),l.addLayer(i)}return l}}),L.GML.FeatureType=L.Class.extend({options:{geometryField:"Shape"},primitives:[{types:["byte","short","int","integer","long","float","double","decimal"],parse:function(t){return 0===t?0:""===(t=String.prototype.trim.call(t||""))?null:Number(t)},validate:function(t){return!isNaN(t)},type:"number"},{types:["string"],parse:function(t){return t},validate:function(t){return!0},type:"string"},{types:["boolean"],parse:function(t){return"false"!==String.prototype.trim.call(t||"").toLowerCase()},validate:function(t){return!0},type:"boolean"},{types:["date","time","datetime"],parse:function(t){return""===(t=String.prototype.trim.call(t||""))?null:new Date(t)},validate:function(t){return!isNaN(t)},type:"date"}],initialize:function(t){L.setOptions(this,t),this.fields={},this.fieldValidators={},this.fieldTypes={},this.geometryFields={}},appendField:function(t,n){var e=this;n=String.prototype.toLowerCase.call(n||""),this.primitives.forEach(function(l){-1!==l.types.indexOf(n)&&(e.fields[t]=l.parse,e.fieldValidators[t]=l.validate,e.fieldTypes[t]=l.type)})},parse:function(t){for(var n={},e=0;e<t.children.length;e++){var l=t.children[e],a=l.tagName.split(":").pop();if(a!==this.options.geometryField){var i=this.fields[a];i||(this.appendField(a,"string"),i=this.fields[a]),n[a]=i(l.textContent)}}return{type:"Feature",properties:n,id:t.attributes["gml:id"].value}}}),L.Format.GML=L.Format.Base.extend({includes:L.GML.ParserContainerMixin,outputFormat:"text/xml; subtype=gml/3.1.1",initialize:function(t){L.Format.Base.prototype.initialize.call(this,t),this.initializeParserContainer(),this.appendParser(new L.GML.Point),this.appendParser(new L.GML.LineString),this.appendParser(new L.GML.Polygon),this.appendParser(new L.GML.MultiLineString),this.appendParser(new L.GML.MultiPolygon),this.appendParser(new L.GML.MultiCurve),this.appendParser(new L.GML.MultiSurface),this.appendParser(new L.GML.MultiPoint)},responseToLayers:function(t){for(var n=[],e=L.XmlUtil.parseXml(t).documentElement,l=e.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,"featureMember"),a=0;a<l.length;a++){var i=this.processFeature(l[a].firstElementChild);i&&n.push(i)}var r=e.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,"featureMembers");if(r.length>0)for(var o=r[0].children,s=0;s<o.length;s++){var u=this.processFeature(o[s]);u&&n.push(u)}return n},processFeature:function(t){var n=this.generateLayer(t);return n?(n.feature=this.featureType.parse(t),n):null},generateLayer:function(t){var n=t.getElementsByTagNameNS(this.namespaceUri,this.options.geometryField)[0];return n?this.parseElement(n.firstElementChild,this.options):(console.log("Geometry field '"+this.options.geometryField+"' doesn' exist inside received feature: '"+t.innerHTML+"', so feature will be skipped and won't be converted into leaflet layer"),null)}}),L.Util.project=function(t,n){if(L.Util.isArray(n)){var e=[];return n.forEach(function(n){e.push(L.Util.project(t,n))}),e}return t.projection.project(n)},L.Util.isFlat=L.LineUtil.isFlat||L.LineUtil._flat||L.Polyline._flat,L.GmlUtil={posNode:function(t){return L.XmlUtil.createElementNS("gml:pos",{srsDimension:2},{value:t.x+" "+t.y})},posListNode:function(t,n){var e=[];if(t.forEach(function(t){e.push(t.x+" "+t.y)}),n&&t.length>0){var l=t[0];e.push(l.x+" "+l.y)}var a=e.join(" ");return L.XmlUtil.createElementNS("gml:posList",{},{value:a})}},L.CircleMarker.include({toGml:function(t){var n=L.XmlUtil.createElementNS("gml:Point",{srsName:t.code});return n.appendChild(L.GmlUtil.posNode(L.Util.project(t,this.getLatLng()))),n}}),L.LatLngBounds.prototype.toGml=function(t){var n=t.project(this.getSouthWest()),e=t.project(this.getNorthEast()),l=L.XmlUtil.createElementNS("gml:Envelope",{srsName:t.code});return l.appendChild(L.XmlUtil.createElementNS("gml:lowerCorner",{},{value:n.x+" "+n.y})),l.appendChild(L.XmlUtil.createElementNS("gml:upperCorner",{},{value:e.x+" "+e.y})),l},L.Marker.include({toGml:function(t){var n=L.XmlUtil.createElementNS("gml:Point",{srsName:t.code});return n.appendChild(L.GmlUtil.posNode(L.Util.project(t,this.getLatLng()))),n}}),L.Polygon.include({toGml:function(t,n){for(var e=this.getLatLngs(),l=[],a=0;a<e.length;a++){var i=e[a],r=L.Util.isFlat(i),o=L.XmlUtil.createElementNS("gml:Polygon",{srsName:t.code,srsDimension:2});if(o.appendChild(L.XmlUtil.createElementNS("gml:exterior")).appendChild(L.XmlUtil.createElementNS("gml:LinearRing",{srsDimension:2})).appendChild(L.GmlUtil.posListNode(L.Util.project(t,r?i:i[0]),!0)),!r)for(var s=1;s<i.length;s++)o.appendChild(L.XmlUtil.createElementNS("gml:interior")).appendChild(L.XmlUtil.createElementNS("gml:LinearRing",{srsDimension:2})).appendChild(L.GmlUtil.posListNode(L.Util.project(t,i[s]),!0));l.push(o)}if(1===l.length&&!n)return l[0];for(var u=L.XmlUtil.createElementNS("gml:MultiSurface",{srsName:t.code,srsDimension:2}),c=u.appendChild(L.XmlUtil.createElementNS("gml:surfaceMembers")),h=0;h<l.length;h++)c.appendChild(l[h]);return u}}),L.Polyline.include({_lineStringNode:function(t,n){var e=L.XmlUtil.createElementNS("gml:LineString",{srsName:t.code,srsDimension:2});return e.appendChild(L.GmlUtil.posListNode(L.Util.project(t,n),!1)),e},toGml:function(t,n){var e=this.getLatLngs(),l=[];if(L.Util.isFlat(e))l.push(this._lineStringNode(t,e));else for(var a=0;a<e.length;a++)l.push(this._lineStringNode(t,e[a]));if(1===l.length&&!n)return l[0];for(var i=L.XmlUtil.createElementNS("gml:MultiCurve",{srsName:t.code,srsDimension:2}),r=i.appendChild(L.XmlUtil.createElementNS("gml:curveMembers")),o=0;o<l.length;o++)r.appendChild(l[o]);return i}});var l={setProperties:function(t){for(var n in t)t.hasOwnProperty(n)&&(this.feature.properties[n]=t[n])},getProperty:function(t){return this.feature.properties[t]},deleteProperties:function(t){for(var n=0;n<t.length;n++)this.feature.properties.hasOwnProperty(t[n])&&delete this.feature.properties[t[n]]}};L.Marker.include(l),L.Path.include(l),L.WFS=L.FeatureGroup.extend({_capabilities:null,_boundingBox:null,options:{crs:L.CRS.EPSG3857,showExisting:!0,geometryField:"Shape",url:"",version:"1.1.0",typeNS:"",typeName:"",typeNSName:"",maxFeatures:null,filter:null,opacity:1,fillOpacity:1,style:{color:"black",weight:1,opacity:1,fillOpacity:1},namespaceUri:"",withCredentials:!1},state:{},initialize:function(t,n){L.setOptions(this,t),this.state={exist:"exist"},this._layers={},this.readFormat=n||new L.Format.GML({crs:this.options.crs,geometryField:this.options.geometryField}),this.options.typeNSName=this.namespaceName(this.options.typeName),this.options.srsName=this.options.crs.code,this._updateOpacity();var e=this;this.describeFeatureType(function(){e.options.showExisting?e.loadFeatures(e.options.filter):e.fire("load",{})},function(t){e.fire("error",{error:new Error(t)})})},namespaceName:function(t){return this.options.typeNS+":"+t},describeFeatureType:function(t,n){var e=L.XmlUtil.createElementNS("wfs:DescribeFeatureType",{service:"WFS",version:this.options.version});e.appendChild(L.XmlUtil.createElementNS("TypeName",{},{value:this.options.typeNSName}));var l=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(e),headers:this.options.headers||{},withCredentials:this.options.withCredentials,success:function(e){var a=L.XmlUtil.parseOwsExceptionReport(e);if(a)"function"==typeof n&&n(a.message);else{var i=L.XmlUtil.parseXml(e).documentElement;l.readFormat.setFeatureDescription(i),l.options.namespaceUri=i.attributes.targetNamespace.value,"function"==typeof t&&t()}},error:function(t){"function"==typeof n&&n(t)}})},getFeature:function(t){var n=L.XmlUtil.createElementNS("wfs:GetFeature",{service:"WFS",version:this.options.version,maxFeatures:this.options.maxFeatures,outputFormat:this.readFormat.outputFormat}),e=n.appendChild(L.XmlUtil.createElementNS("wfs:Query",{typeName:this.options.typeNSName,srsName:this.options.srsName}));return t&&e.appendChild(L.filter(t)),n},loadFeatures:function(t){var n=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(n.getFeature(t)),headers:this.options.headers||{},withCredentials:this.options.withCredentials,success:function(t){var e=L.XmlUtil.parseOwsExceptionReport(t);if(e)return n.fire("error",{error:new Error(e.message)}),n;var l=n.readFormat.responseToLayers(t,{coordsToLatLng:n.options.coordsToLatLng,pointToLayer:n.options.pointToLayer});return"function"==typeof n.options.style?l.forEach(function(t){t.state=n.state.exist,t.setStyle&&t.setStyle(n.options.style(t)),n.addLayer(t)}):(l.forEach(function(t){t.state=n.state.exist,n.addLayer(t)}),n.setStyle(n.options.style)),n.fire("load",{responseText:t,layers:l}),n},error:function(t){return n.fire("error",{error:new Error(t)}),n}})},getCapabilities:function(t,n){var e=this._capabilities;if(e&&"function"==typeof t)t(e);else{var l=L.XmlUtil.createElementNS("wfs:GetCapabilities",{service:"WFS",version:this.options.version}),a=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(l),headers:this.options.headers||{},withCredentials:this.options.withCredentials,success:function(l){var i=L.XmlUtil.parseOwsExceptionReport(l);if(i)"function"==typeof n&&n(new Error(i.message));else{try{e=L.XmlUtil.parseXml(l).documentElement}catch(r){return void("function"==typeof n&&n(r))}a._capabilities=e,"function"==typeof t&&t(e)}},error:function(t){"function"==typeof n&&n(new Error(t))}})}},getBoundingBox:function(t,n){var e=this._boundingBox;if(e&&"function"==typeof t)t(e);else{var l=this;this.getCapabilities(function(n){for(var a=n.getElementsByTagName("FeatureTypeList")[0].getElementsByTagName("FeatureType"),i=0,r=a.length;i<r;i++){var o=a[i];if(L.XmlUtil.getNodeText(o.getElementsByTagName("Name")[0])===l.options.typeNSName){var s=o.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"WGS84BoundingBox")[0],u=s.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"LowerCorner")[0],c=s.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"UpperCorner")[0],h=L.XmlUtil.getNodeText(u),d=L.XmlUtil.getNodeText(c),p=h.split(" ").reverse(),g=d.split(" ").reverse();e=L.latLngBounds([p,g]);break}}l._boundingBox=e,"function"==typeof t&&t(e)},function(t){"function"==typeof n&&n(new Error(t))})}},setOpacity:function(t,n){return this.options.opacity=t,this.options.fillOpacity=n||t,this._updateOpacity(),this},_updateOpacity:function(){var t=L.extend(this.options.style||{},{opacity:this.options.opacity,fillOpacity:this.options.fillOpacity});this.setStyle(t)}}),L.wfs=function(t,n){return new L.WFS(t,n)},L.WFST=L.WFS.extend({options:{forceMulti:!1},initialize:function(t,n){L.WFS.prototype.initialize.call(this,t,n),this.state=L.extend(this.state,{insert:"insertElement",update:"updateElement",remove:"removeElement"}),this.changes={}},addLayer:function(t){if(L.FeatureGroup.prototype.addLayer.call(this,t),t.feature||(t.feature={properties:{}}),!t.state){t.state=this.state.insert;var n=this.getLayerId(t);this.changes[n]=t}return this},removeLayer:function(t){L.FeatureGroup.prototype.removeLayer.call(this,t);var n=this.getLayerId(t);if(n in this.changes){var e=this.changes[n];e.state===this.state.insert?delete this.changes[n]:e.state=this.state.remove}else t.state=this.state.remove,this.changes[n]=t},editLayer:function(t){t.state!==this.state.insert&&(t.state=this.state.update);var n=this.getLayerId(t);return this.changes[n]=t,this},save:function(){var t=L.XmlUtil.createElementNS("wfs:Transaction",{service:"WFS",version:this.options.version}),n=[];for(var e in this.changes){var l=this.changes[e],a=this[l.state](l);t.appendChild(a),l.state===this.state.insert&&n.push(l)}var i=this;return L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(t),headers:this.options.headers||{},withCredentials:this.options.withCredentials,success:function(t){var e=L.XmlUtil.parseXml(t),l=L.XmlUtil.parseOwsExceptionReport(e);if(null===l){for(var a=L.XmlUtil.evaluate("//wfs:InsertResults/wfs:Feature/ogc:FeatureId/@fid",e),r=[],o=a.iterateNext();o;)r.push(new L.Filter.GmlObjectID(o.value)),o=a.iterateNext();n.forEach(function(t){L.FeatureGroup.prototype.removeLayer.call(i,t)}),i.once("load",function(t){i.fire("save:success",{layers:t.layers}),i.changes={}}),i.loadFeatures(r)}else i.fire("save:failed",l)},error:function(t){i.fire("save:failed",t)}}),this}}),L.wfst=function(t,n){return new L.WFST(t,n)},L.WFST.include({gmlFeature:function(t){var n=L.XmlUtil.createElementNS(this.options.typeNSName,{},{uri:this.options.namespaceUri}),e=t.feature;for(var l in e.properties)n.appendChild(this.gmlProperty(l,e.properties[l]));return n.appendChild(this.gmlProperty(this.options.geometryField,t.toGml(this.options.crs,this.options.forceMulti))),n},gmlProperty:function(t,n){var l=L.XmlUtil.createElementNS(this.namespaceName(t));return n instanceof Element?l.appendChild(n):null===n||n===e||""===n?L.XmlUtil.setAttributes(l,{"xsi:nil":!0}):l.appendChild(L.XmlUtil.createTextNode(n)),l},wfsProperty:function(t,n){var e=L.XmlUtil.createElementNS("wfs:Property");e.appendChild(L.XmlUtil.createElementNS("wfs:Name",{},{value:t}));var l=L.XmlUtil.createElementNS("wfs:Value");return n instanceof Element?l.appendChild(n):l.appendChild(L.XmlUtil.createTextNode(n)),e.appendChild(l),e}}),L.WFST.include({insertElement:function(t){var n=L.XmlUtil.createElementNS("wfs:Insert");return n.appendChild(this.gmlFeature(t)),n},updateElement:function(t){var n=L.XmlUtil.createElementNS("wfs:Update",{typeName:this.options.typeNSName}),e=t.feature;for(var l in e.properties)e.properties.hasOwnProperty(l)&&n.appendChild(this.wfsProperty(l,e.properties[l]));n.appendChild(this.wfsProperty(this.namespaceName(this.options.geometryField),t.toGml(this.options.crs,this.options.forceMulti)));var a=new L.Filter.GmlObjectID(t.feature.id);return n.appendChild(L.filter(a)),n},removeElement:function(t){var n=L.XmlUtil.createElementNS("wfs:Delete",{typeName:this.options.typeNSName}),e=new L.Filter.GmlObjectID(t.feature.id);return n.appendChild(L.filter(e)),n}})}(window,document)},"7Bd3":function(t,n,e){"use strict";e.d(n,"a",function(){return h});var l=e("ga4K"),a=e("pxmK"),i=e("T9b0"),r=e("Ex5H"),o=e("b67C"),s=e("q4vc"),u=e("CcnG"),c=e("t/Na"),h=function(){function t(t,n,e,a){this.http=t,this.errorHandler=n,this.visibilityUtils=e,this.utilsService=a,this.url=l.a.urlMapping.PROJ_API}return t.prototype.post=function(t,n){return this.http.post(this.url+t,n)},t.prototype.get=function(t,n){return this.http.get(this.url+t+n)},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.setColumnValue=function(t,n,e,l){void 0===l&&(l=[]);for(var a=e,i=0;i<l.length;i++)null==a[l[i]]&&(a[l[i]]={}),a=a[l[i]];return a[n.toLowerCase()]="number"==typeof t?this.visibilityUtils.getDecimalNumber(t,1):t,e},t.prototype.preProcessKPIData=function(t,n){var e,l={tc:["md"],cnt:["md"]},a=t[0];for(var i in e=this.getAbsoluteDecimal(t),n.unit=e.val,n){var r;null!=(r=l[i]?"tc"==i?this.getColumnValue(i,a,l[i])*e.key:this.getColumnValue(i,a,l[i]):"tc"==i?this.getColumnValue(i,a)*e.key:this.getColumnValue(i,a))&&(n[i]=this.visibilityUtils.getDecimalFixed(r))}return n},t.prototype.preprocessTableData=function(t){var n,e=["nm","uid","cnt","tc","st","wa","fp","100%","75%","50%","25%","0%"],l={headers:["No. of Tanks with Storage"]},a={hierarchy:["md"]},i={cnt:a,tc:a,"100%":l,"75%":l,"50%":l,"25%":l,"0%":l},r=[],o={};n=this.getAbsoluteDecimal(t);for(var s=0,u=t;s<u.length;s++){var c=u[s];o={};for(var h=0,d=e;h<d.length;h++){var p=d[h],g=void 0;null==(g=i[p]&&i[p].hierarchy?"tc"==p||"st"==p?this.getColumnValue(p,c,i[p].hierarchy)*n.key:this.getColumnValue(p,c,i[p].hierarchy):"tc"==p||"st"==p?this.getColumnValue(p,c)*n.key:this.getColumnValue(p,c))&&(g="-"),o=i[p]&&i[p].headers?this.setColumnValue(g,p,o,i[p].headers):this.setColumnValue(g,p,o)}this.utilsService.isEmptyObj(o)||r.push(o)}return r},t.prototype.preProcessLastLeveltableData=function(t){var n=["nm","uid","tc","st","fp","lg","lt","sma"],e={hierarchy:["md"]},l={tc:e,lg:e,lt:e,sma:e},a=[],i={};this.getAbsoluteDecimal(t);for(var r=0,o=t;r<o.length;r++){var s=o[r];i={};for(var u=0,c=n;u<c.length;u++){var h=c[u],d=void 0;null==(d=l[h]&&l[h].hierarchy?this.getColumnValue(h,s,l[h].hierarchy):this.getColumnValue(h,s))&&(d="-"),"lt"!=h&&"lg"!=h?i=l[h]&&l[h].headers?this.setColumnValue(d,h,i,l[h].headers):this.setColumnValue(d,h,i):i[h]=d}this.utilsService.isEmptyObj(i)||a.push(i)}return a},t.prototype.getStorageUnitBasedOnCapacity=function(t,n){return"MCFT"==n.val&&(t*=1),"TMC"==n.val&&(t*=.001),t},t.prototype.getAbsoluteDecimal=function(t){for(var n=0,e=0,l=0,a=t;l<a.length;l++){var i=a[l];i.hasOwnProperty("md")&&"TOTAL"!=i.nm&&null!=i.md.tc&&(n+=1,e=i.md.tc+e)}var r={key:null,val:null},o=(e/n).toString().split(".")[0].length;return 3!=o&&2!=o||(r.key=1,r.val="MCFT"),o>3&&(r.key=.001,r.val="MCFT"),o<2&&(r.key=1e3,r.val="MCFT"),r},t.prototype.getViewList=function(t){return t!=i.a.LOCATIONS.GODAVARI.NAME?[i.a.VIEWS.ADMIN]:[i.a.VIEWS.BASIN]},t.prototype.getLocationList=function(){return[i.a.LOCATIONS.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getColumnConfig=function(t){var n=this.getColumnsDisplayNames();return"TELANGANA_MITANK"==t.src?{show:["nm","cnt","tc","st","fp","100%","75%","50%","25%","0%"],properties:{nm:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"",append:"uid"},cnt:{hideable:!0,displayAs:n.cnt,type:"NUMBER"},tc:{hideable:!0,displayAs:"-",type:"NUMBER"},st:{hideable:!0,displayAs:n.st,type:"NUMBER"},fp:{hideable:!0,displayAs:n.fp,type:"NUMBER"},"100%":{hideable:!0,displayAs:n["100%"],type:"NUMBER"},"75%":{hideable:!0,displayAs:n["75%"],type:"NUMBER"},"50%":{hideable:!0,displayAs:n["50%"],type:"NUMBER"},"25%":{hideable:!0,displayAs:n["25%"],type:"NUMBER"},"0%":{hideable:!0,displayAs:n["0%"],type:"NUMBER"},wa:{hideable:!0,displayAs:n.wa,type:"NUMBER"}}}:{show:["nm","cnt","tc","st","fp","100%","75%","50%","25%","0%","wa"],properties:{nm:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"",append:"uid"},cnt:{hideable:!0,displayAs:n.cnt,type:"NUMBER"},tc:{hideable:!0,displayAs:"-",type:"NUMBER"},st:{hideable:!0,displayAs:"-",type:"NUMBER"},fp:{hideable:!0,displayAs:n.fp,type:"NUMBER"},"100%":{hideable:!0,displayAs:n["100%"],type:"NUMBER"},"75%":{hideable:!0,displayAs:n["75%"],type:"NUMBER"},"50%":{hideable:!0,displayAs:n["50%"],type:"NUMBER"},"25%":{hideable:!0,displayAs:n["25%"],type:"NUMBER"},"0%":{hideable:!0,displayAs:n["0%"],type:"NUMBER"},wa:{hideable:!0,displayAs:n.wa,type:"NUMBER"}}}},t.prototype.getColumnsDisplayNames=function(){return{cnt:"Number of Tanks",fp:"Fill %",st:"Storage (MCFT)",wa:"Water Spread Area (km\xb2)","0%":"0 (%)","25%":"0 -25 (%)","50%":"25-50 (%)","75%":"50-75 (%)","100%":"75-100 (%)"}},t.prototype.getColNamesFromDisplayNames=function(){return{"Number of Tanks":"cnt","Fill %":"fp","Storage (MCFT)":"st","Capacity (MCFT)":"tc","Water Spread Area (km\xb2)":"wa","0 (%)":"0%","0 -25 (%)":"25%","25-50 (%)":"50%","50-75 (%)":"75%","75-100 (%)":"100%"}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},css:{tableClass:"table table-bordered align-items-center",theadClass:" text-center"},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},downloadOptions:[{downloadType:"xls",downloadFileName:"MI Tanks",downloadAll:!0,metaData:!1},{downloadType:"pdf",downloadFileName:"MI Tanks",downloadAll:!0,metaData:!1}],searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"nm",colspan:2},paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0}}},t.prototype.getPostDataForTableForMap=function(t){var n={eDate:t.eDate,sDate:t.sDate,pUUID:t.pEUUID,pType:r.m.LOCATIONS.STATE,format:t.timeStep,cType:r.m.LOCATIONS.DISTRICT,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST",viewPEUUID:t.pEUUID,view:t.view};return t.location.NAME==i.a.LOCATION_LEVEL.TAMILNADU&&t.view==i.a.VIEWS.BASIN?n.viewPEUUID=r.h[t.location.NAME.toUpperCase()][t.view].UUID:t.view==i.a.VIEWS.PROJECT&&(n.cType=r.m.LOCATIONS.SUB_COMMAND_AREA),n},t.prototype.getPostDataForTable=function(t){var n={eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pUUID,src:t.src,aggr:"LATEST",viewPEUUID:t.pEUUID,view:t.view};return t.location.NAME==i.a.LOCATION_LEVEL.TAMILNADU&&t.view==i.a.VIEWS.BASIN&&(n.viewPEUUID=r.h[t.location.NAME.toUpperCase()][t.view].UUID),n},t.prototype.getPostDataForChart=function(t){return{eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST",optionalPeriodList:["Last Year Storage","Last 10 Year Average Storage"]}},t.prototype.getPostDataForDepthClass=function(t){return{eDate:this.utilsService.getDateInFormatFromModelDate(this.visibilityUtils.getLastDayForGivenModelDate(t.eDate,t.maxDate),r.m.DATEPICKER_DATE_FORMAT.DAY),sDate:this.utilsService.getDateInFormatFromModelDate(this.visibilityUtils.getStartAndEndDatesForType(t.sDate,t.eDate,t.format,t.minDate).startDate,r.m.DATEPICKER_DATE_FORMAT.DAY),pUUID:t.pUUID,pType:t.pType,format:"DAILY",pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getPostDataForBreadCrumb=function(t){var n={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component.toLowerCase(),view:t.view,src:t.src,pEUUID:t.pEUUID};return t.location.NAME==i.a.LOCATION_LEVEL.TAMILNADU&&t.view==i.a.VIEWS.BASIN&&(n.pEUUID=r.h[t.location.NAME.toUpperCase()][t.view].UUID),n},t.prototype.getPostDataForKPI=function(t){var n={eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:"NONE",pEUUID:t.pUUID,src:t.src,aggr:"LATEST",viewPEUUID:t.pEUUID,view:t.view};return t.location.NAME==i.a.LOCATION_LEVEL.TAMILNADU&&t.view==i.a.VIEWS.BASIN&&(n.viewPEUUID=r.h[t.location.NAME.toUpperCase()][t.view].UUID),n},t.prototype.getPostDataForLocTypes=function(t){return{pEUUID:t.pEUUID,component:t.component,srcUUID:t.srcUUID,view:t.view+"_HIERARCHY"}},t.ngInjectableDef=u.cb({factory:function(){return new t(u.gb(c.c),u.gb(a.a),u.gb(o.a),u.gb(s.a))},token:t,providedIn:"root"}),t}()},"7Ji3":function(t,n,e){!function(n){"use strict";function l(t,n,e){return n<=t&&t<=e}void 0!==t&&t.exports&&!n["encoding-indexes"]&&e(13);var a=Math.floor;function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function r(t){return 0<=t&&t<=127}var o=r,s=-1;function u(t){this.tokens=[].slice.call(t),this.tokens.reverse()}u.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():s},prepend:function(t){if(Array.isArray(t))for(var n=t;n.length;)this.tokens.push(n.pop());else this.tokens.push(t)},push:function(t){if(Array.isArray(t))for(var n=t;n.length;)this.tokens.unshift(n.shift());else this.tokens.unshift(t)}};var c=-1;function h(t,n){if(t)throw TypeError("Decoder error");return n||65533}function d(t){throw TypeError("The code point "+t+" could not be encoded.")}function p(t){return t=String(t).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(m,t)?m[t]:null}var g=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],m={};g.forEach(function(t){t.encodings.forEach(function(t){t.labels.forEach(function(n){m[n]=t})})});var b,f,y={},v={};function C(t,n){return n&&n[t]||null}function S(t,n){var e=n.indexOf(t);return-1===e?null:e}function M(t){if(!("encoding-indexes"in n))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return n["encoding-indexes"][t]}var _="utf-8";function L(t,n){if(!(this instanceof L))throw TypeError("Called as a function. Did you forget 'new'?");t=void 0!==t?String(t):_,n=i(n),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var e=p(t);if(null===e||"replacement"===e.name)throw RangeError("Unknown encoding: "+t);if(!v[e.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=e,Boolean(n.fatal)&&(this._error_mode="fatal"),Boolean(n.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function O(t,e){if(!(this instanceof O))throw TypeError("Called as a function. Did you forget 'new'?");if(e=i(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(e.fatal)?"fatal":"replacement",Boolean(e.NONSTANDARD_allowLegacyEncoding)){var l=p(t=void 0!==t?String(t):_);if(null===l||"replacement"===l.name)throw RangeError("Unknown encoding: "+t);if(!y[l.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=l}else this._encoding=p("utf-8"),void 0!==t&&"console"in n&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function A(t){var n=t.fatal,e=0,a=0,i=0,r=128,o=191;this.handler=function(t,u){if(u===s&&0!==i)return i=0,h(n);if(u===s)return c;if(0===i){if(l(u,0,127))return u;if(l(u,194,223))i=1,e=31&u;else if(l(u,224,239))224===u&&(r=160),237===u&&(o=159),i=2,e=15&u;else{if(!l(u,240,244))return h(n);240===u&&(r=144),244===u&&(o=143),i=3,e=7&u}return null}if(!l(u,r,o))return e=i=a=0,r=128,o=191,t.prepend(u),h(n);if(r=128,o=191,e=e<<6|63&u,(a+=1)!==i)return null;var d=e;return e=i=a=0,d}}function T(t){this.handler=function(t,n){if(n===s)return c;if(o(n))return n;var e,a;l(n,128,2047)?(e=1,a=192):l(n,2048,65535)?(e=2,a=224):l(n,65536,1114111)&&(e=3,a=240);for(var i=[(n>>6*e)+a];e>0;)i.push(128|63&n>>6*(e-1)),e-=1;return i}}function D(t,n){var e=n.fatal;this.handler=function(n,l){if(l===s)return c;if(r(l))return l;var a=t[l-128];return null===a?h(e):a}}function P(t,n){this.handler=function(n,e){if(e===s)return c;if(o(e))return e;var l=S(e,t);return null===l&&d(e),l+128}}function x(t){var n=t.fatal,e=0,a=0,i=0;this.handler=function(t,o){if(o===s&&0===e&&0===a&&0===i)return c;var u;if(o!==s||0===e&&0===a&&0===i||(e=0,a=0,i=0,h(n)),0!==i){u=null,l(o,48,57)&&(u=function(t){if(t>39419&&t<189e3||t>1237575)return null;if(7457===t)return 59335;var n,e=0,l=0,a=M("gb18030-ranges");for(n=0;n<a.length;++n){var i=a[n];if(!(i[0]<=t))break;e=i[0],l=i[1]}return l+t-e}(10*(126*(10*(e-129)+a-48)+i-129)+o-48));var d=[a,i,o];return e=0,a=0,i=0,null===u?(t.prepend(d),h(n)):u}if(0!==a)return l(o,129,254)?(i=o,null):(t.prepend([a,o]),e=0,a=0,h(n));if(0!==e){if(l(o,48,57))return a=o,null;var p=e,g=null;e=0;var m=o<127?64:65;return(l(o,64,126)||l(o,128,254))&&(g=190*(p-129)+(o-m)),null===(u=null===g?null:C(g,M("gb18030")))&&r(o)&&t.prepend(o),null===u?h(n):u}return r(o)?o:128===o?8364:l(o,129,254)?(e=o,null):h(n)}}function w(t,n){this.handler=function(t,e){if(e===s)return c;if(o(e))return e;if(58853===e)return d(e);if(n&&8364===e)return 128;var l=S(e,M("gb18030"));if(null!==l){var i=l%190;return[a(l/190)+129,i+(i<63?64:65)]}if(n)return d(e);l=function(t){if(59335===t)return 7457;var n,e=0,l=0,a=M("gb18030-ranges");for(n=0;n<a.length;++n){var i=a[n];if(!(i[1]<=t))break;e=i[1],l=i[0]}return l+t-e}(e);var r=a(l/10/126/10),u=a((l-=10*r*126*10)/10/126),h=a((l-=10*u*126)/10);return[r+129,u+48,h+129,l-10*h+48]}}function k(t){var n=t.fatal,e=0;this.handler=function(t,a){if(a===s&&0!==e)return e=0,h(n);if(a===s&&0===e)return c;if(0!==e){var i=e,o=null;e=0;var u=a<127?64:98;switch((l(a,64,126)||l(a,161,254))&&(o=157*(i-129)+(a-u)),o){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var d=null===o?null:C(o,M("big5"));return null===d&&r(a)&&t.prepend(a),null===d?h(n):d}return r(a)?a:l(a,129,254)?(e=a,null):h(n)}}function I(t){this.handler=function(t,n){if(n===s)return c;if(o(n))return n;var e=function(t){var n=f=f||M("big5").map(function(t,n){return n<5024?null:t});return 9552===t||9566===t||9569===t||9578===t||21313===t||21317===t?n.lastIndexOf(t):S(t,n)}(n);if(null===e)return d(n);var l=a(e/157)+129;if(l<161)return d(n);var i=e%157;return[l,i+(i<63?64:98)]}}function E(t){var n=t.fatal,e=!1,a=0;this.handler=function(t,i){if(i===s&&0!==a)return a=0,h(n);if(i===s&&0===a)return c;if(142===a&&l(i,161,223))return a=0,65216+i;if(143===a&&l(i,161,254))return e=!0,a=i,null;if(0!==a){var o=a;a=0;var u=null;return l(o,161,254)&&l(i,161,254)&&(u=C(94*(o-161)+(i-161),M(e?"jis0212":"jis0208"))),e=!1,l(i,161,254)||t.prepend(i),null===u?h(n):u}return r(i)?i:142===i||143===i||l(i,161,254)?(a=i,null):h(n)}}function N(t){this.handler=function(t,n){if(n===s)return c;if(o(n))return n;if(165===n)return 92;if(8254===n)return 126;if(l(n,65377,65439))return[142,n-65377+161];8722===n&&(n=65293);var e=S(n,M("jis0208"));return null===e?d(n):[a(e/94)+161,e%94+161]}}function F(t){var n=t.fatal,e=0,a=0,i=!1;this.handler=function(t,r){switch(e){default:case 0:return 27===r?(e=5,null):l(r,0,127)&&14!==r&&15!==r&&27!==r?(i=!1,r):r===s?c:(i=!1,h(n));case 1:return 27===r?(e=5,null):92===r?(i=!1,165):126===r?(i=!1,8254):l(r,0,127)&&14!==r&&15!==r&&27!==r&&92!==r&&126!==r?(i=!1,r):r===s?c:(i=!1,h(n));case 2:return 27===r?(e=5,null):l(r,33,95)?(i=!1,65344+r):r===s?c:(i=!1,h(n));case 3:return 27===r?(e=5,null):l(r,33,126)?(i=!1,a=r,e=4,null):r===s?c:(i=!1,h(n));case 4:if(27===r)return e=5,h(n);if(l(r,33,126)){e=3;var o=C(94*(a-33)+r-33,M("jis0208"));return null===o?h(n):o}return r===s?(e=3,t.prepend(r),h(n)):(e=3,h(n));case 5:return 36===r||40===r?(a=r,e=6,null):(t.prepend(r),i=!1,e=0,h(n));case 6:var u=a;a=0;var d=null;if(40===u&&66===r&&(d=0),40===u&&74===r&&(d=1),40===u&&73===r&&(d=2),36!==u||64!==r&&66!==r||(d=3),null!==d){e=e=d;var p=i;return i=!0,p?h(n):null}return t.prepend([u,r]),i=!1,e=0,h(n)}}}function B(t){var n=0;this.handler=function(t,e){if(e===s&&0!==n)return t.prepend(e),n=0,[27,40,66];if(e===s&&0===n)return c;if(!(0!==n&&1!==n||14!==e&&15!==e&&27!==e))return d(65533);if(0===n&&o(e))return e;if(1===n&&(o(e)&&92!==e&&126!==e||165==e||8254==e)){if(o(e))return e;if(165===e)return 92;if(8254===e)return 126}if(o(e)&&0!==n)return t.prepend(e),n=0,[27,40,66];if((165===e||8254===e)&&1!==n)return t.prepend(e),n=1,[27,40,74];8722===e&&(e=65293);var l=S(e,M("jis0208"));return null===l?d(e):2!==n?(t.prepend(e),n=2,[27,36,66]):[a(l/94)+33,l%94+33]}}function U(t){var n=t.fatal,e=0;this.handler=function(t,a){if(a===s&&0!==e)return e=0,h(n);if(a===s&&0===e)return c;if(0!==e){var i=e,o=null;e=0;var u=a<127?64:65,d=i<160?129:193;if((l(a,64,126)||l(a,128,252))&&(o=188*(i-d)+a-u),l(o,8836,10715))return 48508+o;var p=null===o?null:C(o,M("jis0208"));return null===p&&r(a)&&t.prepend(a),null===p?h(n):p}return r(a)||128===a?a:l(a,161,223)?65216+a:l(a,129,159)||l(a,224,252)?(e=a,null):h(n)}}function R(t){this.handler=function(t,n){if(n===s)return c;if(o(n)||128===n)return n;if(165===n)return 92;if(8254===n)return 126;if(l(n,65377,65439))return n-65377+161;8722===n&&(n=65293);var e=function(t){return(b=b||M("jis0208").map(function(t,n){return l(n,8272,8835)?null:t})).indexOf(t)}(n);if(null===e)return d(n);var i=a(e/188),r=e%188;return[i+(i<31?129:193),r+(r<63?64:65)]}}function V(t){var n=t.fatal,e=0;this.handler=function(t,a){if(a===s&&0!==e)return e=0,h(n);if(a===s&&0===e)return c;if(0!==e){var i=e,o=null;e=0,l(a,65,254)&&(o=190*(i-129)+(a-65));var u=null===o?null:C(o,M("euc-kr"));return null===o&&r(a)&&t.prepend(a),null===u?h(n):u}return r(a)?a:l(a,129,254)?(e=a,null):h(n)}}function j(t){this.handler=function(t,n){if(n===s)return c;if(o(n))return n;var e=S(n,M("euc-kr"));return null===e?d(n):[a(e/190)+129,e%190+65]}}function G(t,n){var e=t>>8,l=255&t;return n?[e,l]:[l,e]}function Y(t,n){var e=n.fatal,a=null,i=null;this.handler=function(n,r){if(r===s&&(null!==a||null!==i))return h(e);if(r===s&&null===a&&null===i)return c;if(null===a)return a=r,null;var o;if(o=t?(a<<8)+r:(r<<8)+a,a=null,null!==i){var u=i;return i=null,l(o,56320,57343)?65536+1024*(u-55296)+(o-56320):(n.prepend(G(o,t)),h(e))}return l(o,55296,56319)?(i=o,null):l(o,56320,57343)?h(e):o}}function W(t,n){this.handler=function(n,e){if(e===s)return c;if(l(e,0,65535))return G(e,t);var a=G(55296+(e-65536>>10),t),i=G(56320+(e-65536&1023),t);return a.concat(i)}}function z(t){this.handler=function(t,n){return n===s?c:r(n)?n:63360+n-128}}function H(t){this.handler=function(t,n){return n===s?c:o(n)?n:l(n,63360,63487)?n-63360+128:d(n)}}Object.defineProperty&&(Object.defineProperty(L.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(L.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(L.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),L.prototype.decode=function(t,n){var e;e="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),n=i(n),this._do_not_flush||(this._decoder=v[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(n.stream);for(var l,a=new u(e),r=[];;){var o=a.read();if(o===s)break;if((l=this._decoder.handler(a,o))===c)break;null!==l&&(Array.isArray(l)?r.push.apply(r,l):r.push(l))}if(!this._do_not_flush){do{if((l=this._decoder.handler(a,a.read()))===c)break;null!==l&&(Array.isArray(l)?r.push.apply(r,l):r.push(l))}while(!a.endOfStream());this._decoder=null}return(function(t){return-1===["UTF-8","UTF-16LE","UTF-16BE"].indexOf(this._encoding.name)||this._ignoreBOM||this._BOMseen||(t.length>0&&65279===t[0]?(this._BOMseen=!0,t.shift()):t.length>0&&(this._BOMseen=!0)),function(t){for(var n="",e=0;e<t.length;++e){var l=t[e];l<=65535?n+=String.fromCharCode(l):(l-=65536,n+=String.fromCharCode(55296+(l>>10),56320+(1023&l)))}return n}(t)}).call(this,r)},Object.defineProperty&&Object.defineProperty(O.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),O.prototype.encode=function(t,n){t=void 0===t?"":String(t),n=i(n),this._do_not_flush||(this._encoder=y[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(n.stream);for(var e,l=new u(function(n){for(var e=String(t),l=e.length,a=0,i=[];a<l;){var r=e.charCodeAt(a);if(r<55296||r>57343)i.push(r);else if(56320<=r&&r<=57343)i.push(65533);else if(55296<=r&&r<=56319)if(a===l-1)i.push(65533);else{var o=e.charCodeAt(a+1);56320<=o&&o<=57343?(i.push(65536+((1023&r)<<10)+(1023&o)),a+=1):i.push(65533)}a+=1}return i}()),a=[];;){var r=l.read();if(r===s)break;if((e=this._encoder.handler(l,r))===c)break;Array.isArray(e)?a.push.apply(a,e):a.push(e)}if(!this._do_not_flush){for(;(e=this._encoder.handler(l,l.read()))!==c;)Array.isArray(e)?a.push.apply(a,e):a.push(e);this._encoder=null}return new Uint8Array(a)},y["UTF-8"]=function(t){return new T(t)},v["UTF-8"]=function(t){return new A(t)},"encoding-indexes"in n&&g.forEach(function(t){"Legacy single-byte encodings"===t.heading&&t.encodings.forEach(function(t){var n=t.name,e=M(n.toLowerCase());v[n]=function(t){return new D(e,t)},y[n]=function(t){return new P(e,t)}})}),v.GBK=function(t){return new x(t)},y.GBK=function(t){return new w(t,!0)},y.gb18030=function(t){return new w(t)},v.gb18030=function(t){return new x(t)},y.Big5=function(t){return new I(t)},v.Big5=function(t){return new k(t)},y["EUC-JP"]=function(t){return new N(t)},v["EUC-JP"]=function(t){return new E(t)},y["ISO-2022-JP"]=function(t){return new B(t)},v["ISO-2022-JP"]=function(t){return new F(t)},y.Shift_JIS=function(t){return new R(t)},v.Shift_JIS=function(t){return new U(t)},y["EUC-KR"]=function(t){return new j(t)},v["EUC-KR"]=function(t){return new V(t)},y["UTF-16BE"]=function(t){return new W(!0,t)},v["UTF-16BE"]=function(t){return new Y(!0,t)},y["UTF-16LE"]=function(t){return new W(!1,t)},v["UTF-16LE"]=function(t){return new Y(!1,t)},y["x-user-defined"]=function(t){return new H(t)},v["x-user-defined"]=function(t){return new z(t)},n.TextEncoder||(n.TextEncoder=O),n.TextDecoder||(n.TextDecoder=L),void 0!==t&&t.exports&&(t.exports={TextEncoder:n.TextEncoder,TextDecoder:n.TextDecoder,EncodingIndexes:n["encoding-indexes"]})}(this||{})},"7irK":function(t,n,e){"use strict";var l=e("45pY"),a=e("dBNe");function i(t,n){this.data=t,n||(this.data=a.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}(i.prototype=new l).byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readData=function(t){this.checkOffset(t);var n=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,n},t.exports=i},"7tol":function(t,n,e){"use strict";var l=function(){for(var t,n=[],e=0;e<256;e++){t=e;for(var l=0;l<8;l++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n}();t.exports=function(t,n,e,a){var i=l,r=a+e;t^=-1;for(var o=a;o<r;o++)t=t>>>8^i[255&(t^n[o])];return-1^t}},"9yBy":function(t,n,e){"use strict";t.exports=function(t,n){return new Buffer(t,n)},t.exports.test=function(t){return Buffer.isBuffer(t)}},AA26:function(t,n,e){t.exports=e("7Ji3")},ASU9:function(t,n,e){"use strict";e.r(n);var l,a,i,r,o,s,u,c=e("CcnG"),h=function(){return function(){}}(),d=e("9AJC"),p=e("pMnS"),g=e("atuK"),m=e("Ip0R"),b=e("ZYCi"),f=e("XLZW"),y=e("dXjv"),v=e("Ex5H"),C=e("rbbI"),S=e("4R65"),M=(e("ovIW"),e("T9kQ"),e("RmgW"),e("x7WH"),e("MCLT")),_=e("7Amg"),L=e("ch7M"),O=e("6QN/"),A=e("QDzO"),T=e("q4vc"),D=e("b67C"),P=e("ElNF"),x=e("JvN/"),w=e("kgAv"),k=e("/5nX"),I=e("XWfP"),E=e("wd/R"),N=e("26FU"),F=e("gM3f"),B=e("RShD"),U=e("AytR"),R=e("ga4K"),V=e("IDyf"),j=e("t/Na"),G=function(){return(G=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Y=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},W=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},z=function(){function t(t,n,e,l,a){var i;this.inflowForecastService=t,this.dataService=n,this.http=e,this.gisUtilsSrv=l,this.utils=a,this.riverGaugeFeatures=new N.a({}),this.catchmentLayerList=[],this.SOURCE_WISE=((i={})[V.d.IMD_MERGED]={PrimarySourceType:V.d.IMD_SHORT_RANGE,SecondarySourceType:V.d.IMD_LONG_RANGE},i[V.d.ECMWF]={PrimarySourceType:V.d.ECMWF,SecondarySourceType:V.d.ECMWF},i),this.riverNetworkLayerStyling={},this.markerColourMapping={blue:"_blue.svg",yellow:"_yellow.svg",orange:"_orange.svg",red:"_red.svg",green:"_green.svg",gray:"_gray"},this.booleanValue=!1,this.showHeatMap=!1}return t.prototype.getSrcWiseLayers=function(t){return Y(this,void 0,void 0,function(){var n,e,l,a,i,r,o=this;return W(this,function(s){switch(s.label){case 0:if(t.map.closePopup(),this.getRiverNetworkData(n=t.params),"filter"!=n.actionType)return[3,4];for(l in e=[],V.c[n.dashboardView])e[l]=V.c[n.dashboardView][l];return this.getMetaData(n),a=this,[4,this.getReservoirTimeseriesData()];case 1:return a.reservoirtimeSeriesData=s.sent(),i=this,[4,this.getRivergaugeTimeseriesData()];case 2:return i.rivergaugetimeSeriesData=s.sent(),r=this,[4,this.getMarkerColours(n)];case 3:r.markerColourInfo=s.sent(),this.addSrcWiseGEOJSONLayers(e,t,n),this.addSrcWiseWMSLayers(e,t,n),this.addSrcWiseVECTORLayers(e,t,n),this.getCheckforIMDheatmap(),this.formatForecastHeatMapLayers(t,n),this.gisUtilsSrv.getDateRangeforRiverFlow().subscribe(function(n){Object(M.isNullOrUndefined)(n)||(o.currentdate=n+198e5,o.setForecastHeatMapToMap(t))}),t.otherOptions.legend=V.e[v.m.COMPONENT.INFLOWFORECAST],this.addLegend(t),s.label=4;case 4:return n.clickPoint||(this.removeSelfCatchmentLayers(t.map),this.addSelfCatchmentBoundary(t.map,t)),n.advanceFilters&&this.geoJsonCall(U.a.url.GEOSERVER_URL+V.d.Geoserver_Workspace+V.d.GeoJSON_Pre_url+"tamilnadu_pennaiyar_reservoir_rivergauge_points"+V.d.geoJson_post_url+"&cql_filter=location_u='"+n.lUUID+"'").subscribe(function(n){if(n.features.length>0){var e;e=[n.features[0].geometry.coordinates[1],n.features[0].geometry.coordinates[0]];var l,a=o.metaData[n.features[0].properties.point_name];if(a){if(l="<html><body>",a.basin=null==a.basin?"MAHANADI-BASIN":a.basin,l+='<div class="popup-table-section">',l+=' <div class="card-body p-3">',l+="<table class='table table-text-sm table-bordered' >",null!=a.point_name&&(l+="<thead ><tr><h6 class='text-center' style='font-weight:bold;'>"+a.point_name.replace(/FFS|_FFS/g,"")+" ("+a.basin+")</h6><tr></thead>"),l+="<tbody>",null!=a.cap&&(l+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Capacity </span></td><td style=' text-transform:none'>"+a.cap.toFixed(2)+" MCFT</td></tr>"),null!=a.cst&&a.cst>0&&null!=a.dn&&a.dn>0&&(l+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Travel Time </span></td><td style=' text-transform:none'>"+a.cst.toFixed(2)+" Hours</td></tr>",l+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Downstream Distance </span></td><td style=' text-transform:none'>"+a.dn.toFixed(2)+" Kms</td></tr>"),null!=a.lat&&null!=a.lon&&(l+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>GPS</span></td><td style='text-transform:none'>"+a.lat.toFixed(3)+" , "+a.lon.toFixed(3)+"</td></tr>"),l+="<tr></tr>",l+="</tbody>",l+="<table class='table table-text-sm table-bordered' >",o.metaData[n.features[0].properties.point_name].rtp||"RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type||"OS_RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type)if(l+="RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type||"OS_RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type?"<tr id='head' style='background-color:#198754;height:30px; color:#FFF;'><th>Date</th><th>Storage (MCFT)</th><th>Flow (Cusecs)</th></tr>":"<tr id='head' style='background-color:#198754;height:30px; color:#FFF;'><th>Date</th><th>Flow (Cusecs)</th><th>Level(MCFT) / Depth(MCFT)</th></tr>",l+="<tbody align='center'>","RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type||"OS_RESERVOIR"==o.metaData[n.features[0].properties.point_name].point_type){var i=o.reservoirtimeSeriesData[n.features[0].properties.location_u]?o.reservoirtimeSeriesData[n.features[0].properties.location_u]:{};for(var r in i)l+="<tr><td>"+E(parseInt(r)).format("DD/MM/YYYY HH:mm")+"</td><td>"+(i[r].st||i[r].st>=0?i[r].st.toFixed(1):"-")+"</td><td>"+(i[r].if||i[r].if>=0?i[r].if.toFixed(1):"-")+" / "+(i[r].of||i[r].of>=0?i[r].of.toFixed(1):"-")+"</td></tr>"}else{var s=o.rivergaugetimeSeriesData[n.features[0].properties.location_u]?o.rivergaugetimeSeriesData[n.features[0].properties.location_u]:{};for(var r in s){var u=E(parseInt(r)).format("DD/MM/YYYY HH:mm"),c=s[r].l||s[r].l>=0?s[r].l.toFixed(1):"-";l+="<tr><td>"+u+"</td><td>"+(s[r].f||s[r].f>=0?s[r].f.toFixed(1):"-")+"</td><td>"+c+" / "+(s[r].d||s[r].d>=0?s[r].d.toFixed(1):"-")+"</td></tr>"}}l+="</tbody></table>",l+="</table></div></div></body></html>"}else l="<html><body>",l+='<div class="popup-table-section">',l+='<div class="card-body p-0"> No Data to Display',l+="</div></div></body></html>";I.responsivePopup({hasTip:!1,autoPan:!1,pane:"popUp",offset:[1,2],minWidth:360,maxWidth:450,closeButton:!0}).setLatLng(e).setContent(l).openOn(t.map)}}),[2]}})})},t.prototype.adminBoundaryStyling=function(t,n){return{weight:2.2,opacity:.5,color:"#8B8000",fillOpacity:0,pane:"state"}},t.prototype.addSrcWiseVECTORLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.VECTOR_LAYER);"INFLOWFORECAST"==e.component&&(l=this.formatLayersData(l,e)),l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseVECTORLayers(l)},t.prototype.getCheckforIMDheatmap=function(){return Y(this,void 0,void 0,function(){var t,n,e,l,a,i=this;return W(this,function(r){switch(r.label){case 0:return this.currentdate=this.inflowForecastService.currentDayTimestep(this.inflowForecastService.getCurrentDayInflow()),t=this.inflowForecastService.currentDayDate(this.currentdate),l=(n=this.SOURCE_WISE["IMD Merged"]).PrimarySourceType+"/"+n.SecondarySourceType+"/RAINFALL/"+this.currentdate+"/24/24hr/"+t,a=new Promise(function(t,n){i.inflowForecastService.get1(V.d.API_MAPPING.DAILY_HEATMAP_INFLOW_FORECAST_24HOURS_1,l).subscribe(function(n){t(n)},function(n){t({})})}),[4,Promise.all([a]).then(function(t){return Y(i,void 0,void 0,function(){return W(this,function(n){switch(n.label){case 0:return[4,t[0]];case 1:return e=n.sent(),[2]}})})})];case 1:return r.sent(),this.checkforIMDheatmap=0!=Object.keys(e).length?"Today":"Yesterday",[2]}})})},t.prototype.formatForecastHeatMapLayers=function(t,n){return Y(this,void 0,void 0,function(){var e,l=this;return W(this,function(a){switch(a.label){case 0:return[4,this.getForecastHeatMapLayers(t,n)];case 1:return e=a.sent(),this.setForecastHeatMapLayer(e,n).then(function(n){for(var e in n){var a=n[e],i=l.dataService.deepClone(V.d.LegendActual);i.colorValues=i.colorValues?i.colorValues.reverse():[],a.options.legendData=i;var r=a.options.groupName;r=Number(r),l.forecastTimeLayers[r]=a}l.setForecastHeatMapToMap(t)},function(t){}),[2]}})})},t.prototype.setForecastHeatMapToMap=function(t){var n=this.forecastTimeLayers[this.currentdate];null!=n?t.addSrcWiseHeatmapLayersInflowforecast({"Heat Map":n}):console.error("No Heatmap Found")},t.prototype.getForecastHeatMapLayers=function(t,n){return Y(this,void 0,void 0,function(){var t;return W(this,function(e){switch(e.label){case 0:return[4,this.getFileProccessingDate(n)];case 1:return t=e.sent(),[2,[].concat(this.createHeatMapLayers(n.src,t,this.checkforIMDheatmap))]}})})},t.prototype.createHeatMapLayers=function(t,n,e){var l=this.get10DaysTimeStamps(t),a=this.SOURCE_WISE[t],i=a.PrimarySourceType,r=a.SecondarySourceType,o=[];for(var s in l){var u=G({},V.d.forecastHeatMapOptions);u.url=R.a.urlMapping.PROJ_API_RF_RESERVOIR+V.d.API_MAPPING.DAILY_HEATMAP_INFLOW_FORECAST_URL+i+"/"+r+"/RAINFALL/"+l[s].timeStamp+"/10/day/ts_color",u.groupName=l[s].timeStamp.toString(),u.setDefault="0"==s?"true":"false",u.view="Basin",u.timeLineName=l[s].timeLineName,u.timeLinePos=l[s].timeLinePos,u.leftSideName=l[s].leftSideName,o.push(u)}return o},t.prototype.setForecastHeatMapLayer=function(t,n){var e=this;return new Promise(function(l,a){e.inflowForecastService.getShapeBoundaryLayers(n.locType,!0,V.d.STATE_NAME,n).then(function(a){e.forecastTimeLayers={};for(var i=[],r=[],o={},s=0,u=t;s<u.length;s++){var c=u[s];if(c.view.toLowerCase()==n.locType.toLowerCase()){var h;h=c.url.includes("wrimsApi/")?c.url.split("wrimsApi/")[1]:c.url;var d=e.inflowForecastService.get1(h,"");r.push(c),i.push(d)}}e.inflowForecastService.placeMultipleAPICalls(i).subscribe(function(t){for(var n in r){var i=r[n],s=t[n][i.groupName];if(!Object(M.isNullOrUndefined)(s)){var u=e.dataService.deepClone(V.d.Default_HeatMap_Layer_Constant);if(u.options.clip=a,!Object(B.d)(s.heatMapImage)){var c=e.getImageBounds(s.heatMapImageBound);u.imageBounds=c,u.imageUrl=s.heatMapImage,u.options.groupName=i.groupName,o[i.timeLinePos]=u}}}l(o)},function(t){console.log(t)})})})},t.prototype.getImageBounds=function(t){var n=[],e=[];e.push(t.southWest.latitude),e.push(t.southWest.longitude),n.push(e),(e=[]).push(t.northEast.latitude),e.push(t.northEast.longitude),n.push(e);var l=[];return l.push([n[1][0],n[0][1]]),l.push([n[1][0],n[1][1]]),l.push([n[0][0],n[1][1]]),l.push([n[0][0],n[0][1]]),l},t.prototype.getFileProccessingDate=function(t){var n,e,l=this;"IMD Merged"==t.src?(n="IMD_SHORT_RANGE",e="IMD_LONG_RANGE"):"ECMWF"==t.src?(n="ECMWF",e="null"):"IBM_GRAF"==t.src&&(n="IBM_GRAF",e="null");var a=n+"/"+e;return new Promise(function(n,e){l.inflowForecastService.getAPI(V.d.API_MAPPING.FORECASTFILE_TIMESTAMP,a).subscribe(function(e){n(l.getFileDate(e,t))},function(t){e({})})})},t.prototype.getFileDate=function(t,n){var e,l;return"IMD Merged"==n.src?(e=parseInt(t.IMD_SHORT_RANGE),l=parseInt(t.IMD_LONG_RANGE)):"ECMWF"==n.src?(e=parseInt(t.ECMWF),l=0):"IBM_GRAF"==n.src&&(e=parseInt(t.IBM_GRAF),l=0),e<l?t=l.toString():e>l?t=e.toString():e==l&&(t=e.toString()),t},t.prototype.get10DaysTimeStamps=function(t){var n=(new Date).getTime(),e=new Date(n),l=this.pickStartTimeFromSource(t);e.setHours(l.hours,l.minutes,l.seconds,0);var a,i=e.getTime(),r={};"IMD Merged"==t&&(t="IMD"),a=V.d.SourceToDayCount[t];for(var o=0;o<a;o++)r[o]={},r[o].timeStamp=i+864e5*o,r[o].timeLineName={},r[o].timeLineName.label=this.convetTimeStampToDay(r[o].timeStamp),r[o].leftSideName=this.convetTimeStampToDay(r[o].timeStamp),r[o].timeLinePos=o;return r},t.prototype.pickStartTimeFromSource=function(t){return"IMD Merged"==t&&(t="IMD"),V.d[t+"_START_TIME"]},t.prototype.convetTimeStampToDay=function(t){var n=new Date(t).toLocaleDateString().toString().split("/",3);return Number(n[2]+n[1]+n[0])},t.prototype.getReservoirTimeseriesData=function(){var t,n=this,e=this.inflowForecastService.getReservirPopupCurrentDate(),l={format:"DAILY",classification:["INSTANT_DATA"],aggr:"LATEST",pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU,pUUID:_.c.STATETOUUIDMAPPING.TAMILNADU,pType:"STATE",cType:"RESERVOIR",src:"TNRESERVOIRS"};return l.sDate=e[1],l.eDate=e[0],new Promise(function(e,a){n.inflowForecastService.post(V.d.API_MAPPING.CURRENT_FORECAST,l).subscribe(function(n){n&&(t=n),e(t)})})},t.prototype.getRivergaugeTimeseriesData=function(){var t,n=this,e=this.inflowForecastService.getRivergaugePopupCurrentDate(),l={format:"HOURLY",classification:["INSTANT_DATA"],aggr:"LATEST",pEUUID:_.c.STATETOUUIDMAPPING.COUNTRY,pUUID:_.c.STATETOUUIDMAPPING.COUNTRY,pType:"COUNTRY",cType:"RIVER_GAUGE",src:"STATE_AND_CENTRAL_STATIONS"};return l.sDate=e[1],l.eDate=e[0],new Promise(function(e,a){n.inflowForecastService.post(V.d.API_MAPPING.INFLOWFORECAST_REVERGAUGE,l).subscribe(function(n){n&&(t=n),e(t)})})},t.prototype.getRiverNetworkData=function(t){return Y(this,void 0,void 0,function(){var n,e,l,a,i=this;return W(this,function(r){switch(r.label){case 0:return n={},e={currDayTimestep:this.getCurrentDayInflowTimestamp(),basinuuid:t.basinUUID},l=new Promise(function(t,n){i.inflowForecastService.getRiverFlowDataToStyle(e).subscribe(function(n){t(n)},function(n){t({})})}),[4,Promise.all([l]).then(function(t){return Y(i,void 0,void 0,function(){return W(this,function(e){switch(e.label){case 0:return[4,t[0]];case 1:return n=e.sent(),[2]}})})})];case 1:return r.sent(),a={},Object.keys(n).forEach(function(e){a[e]={},Object.keys(n[e]).forEach(function(l){"IMD Merged"==t.src&&(a[e].inflowvalue=n[e][l][-7]),"ECMWF"==t.src&&(a[e].inflowvalue=n[e][l][-8])})}),this.riverNetworkLayerStyling=a,[2]}})})},t.prototype.getCurrentDayInflowTimestamp=function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var n=t.getTime().toString();return Number(n.substring(0,10)+"000")},t.prototype.getEndDate=function(){var t=new Date,n=t.getFullYear().toString(),e=(t.getMonth()+1).toString(),l=t.getDate().toString();return Number(l)<10&&(l="0"+l.toString()),Number(e)<10&&(e="0"+e.toString()),n+e+l},t.prototype.getMarkerColours=function(t){var n=this,e={},l={},a={},i=new Promise(function(e,a){var i=n.inflowForecastService.setPostData("RIVER_GAUGE");i.pUUID=_.c.STATETOUUIDMAPPING.COUNTRY,i.pEUUID=_.c.STATETOUUIDMAPPING.COUNTRY,i.bUUID=t.basinUUID,n.inflowForecastService.getAllMarkersColourInfo(i).subscribe(function(t){for(var n in t){var a=t[n];a.uuid&&(l[a.uuid]=a.floodCondition?V.a[a.floodCondition]:"green")}e(l)},function(t){e({})})}),r=new Promise(function(e,l){var i=n.inflowForecastService.setPostData("RESERVOIR");i.pUUID=_.c.STATETOUUIDMAPPING.COUNTRY,i.pEUUID=_.c.STATETOUUIDMAPPING.TAMILNADU,i.bUUID=t.basinUUID,n.inflowForecastService.getAllMarkersColourInfo(i).subscribe(function(t){for(var n in t){var l=t[n];l.uuid&&(a[l.uuid]=l.floodCondition?V.a[l.floodCondition]:"green")}e(a)},function(t){e({})})});return new Promise(function(t,n){Promise.all([i,r]).then(function(n){e=Object.assign(n[0],n[1]),t(e)})})},t.prototype.getStationLayer=function(t){t.removeComponentWiseLayers(),this.getSrcWiseLayers(t)},t.prototype.addLegend=function(t){for(var n in t.legendList={},V.e[v.m.COMPONENT.INFLOWFORECAST])t.legendList[n]=V.e[v.m.COMPONENT.INFLOWFORECAST][n];t.manageLegend()},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER);"INFLOWFORECAST"==e.component&&(l=this.formatLayersData(l,e)),l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.formatLayersData=function(t,n){for(var e in t)t[e].layerOptions.hasOwnProperty("cql_filter_value")&&(t[e].layerOptions.cql_filter=t[e].layerOptions.cql_filter_value+" ='"+n.basin+"'");return t},t.prototype.addSrcWiseGEOJSONLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.GEOJSON_LAYER);"INFLOWFORECAST"==e.component&&(l=this.formatLayersData(l,e)),l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseGEOJSONLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n){if(l[a]=n[a],"Telangana District Mask"==n[a].layerOptions.layer_name)n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if("Telangana Mandal Mask"==n[a].layerOptions.layer_name)n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if("mitanks_structure"==n[a].layerOptions.layer_name){var i="uuid";e.pType==v.m.LOCATIONS.MANDAL?i="mandal_uui":e.pType==v.m.LOCATIONS.SUBBASIN&&(i="sub_bas_uu"),n[a].layerOptions.cql_filter=i+" ='"+e.pUUID+"'"}else"Telangana Basin Mask"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":"Telangana SUBBASIN Mask"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":"Water Bodies"==n[a].layerOptions.layer_name?(i="uuid",e.pType==v.m.LOCATIONS.MANDAL?i="man_uuid":e.pType==v.m.LOCATIONS.SUBBASIN&&(i="sub_bas_uu"),n[a].layerOptions.cql_filter=i+" ='"+e.pUUID+"'"):"mitanks_mandal_structure_count"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="dist_uuid ='"+e.pUUID+"'":"MI Tanks_SubBasin Structures Count"==n[a].layerOptions.layer_name&&(n[a].layerOptions.cql_filter="basin_uuid ='"+e.pUUID+"'");t.activeLayers[a]=n[a].layerOptions.visible}return l},t.prototype.getMetaData=function(t){var n=this;this.inflowForecastService.getHecHmsMetaDataForAllPoints({basinUUID:t.basin}).subscribe(function(t){n.metaData=t})},t.prototype.reservoirRiverGaugePointLayer=function(t,n,e,l){var a,i=this;a=[t.geometry.coordinates[1],t.geometry.coordinates[0]];var r,o=new S.LayerGroup;if(this.metaData[t.properties.point_name]){if("RESERVOIR"==this.metaData[t.properties.point_name].point_type||"OS_RESERVOIR"==this.metaData[t.properties.point_name].point_type){var s=new S.Icon({iconUrl:"../assets/imgs/reservoir_green.svg",iconSize:[15,15],iconAnchor:[4,4],popupAnchor:[-5,-5],className:"red"==this.markerColourInfo[t.properties.location_u]?"blinking":""});r=S.marker(a,{icon:s,pane:"marker"})}else if(this.metaData[t.properties.point_name].rtp){var u=new S.Icon({iconUrl:"../assets/imgs/square"+this.markerColourMapping[this.markerColourInfo[t.properties.location_u]],iconSize:[6,6],iconAnchor:[4,4],popupAnchor:[-5,-5],className:"red"==this.markerColourInfo[t.properties.location_u]?"blinking":""});r=S.marker(a,{icon:u,pane:"marker"}),n.on("zoomend",function(e){u=new S.Icon({iconUrl:"../assets/imgs/rivergauge"+i.markerColourMapping[i.markerColourInfo[t.properties.location_u]],iconSize:[n.getZoom()-1,n.getZoom()-1],iconAnchor:[4,4],popupAnchor:[-5,-5],className:"red"==i.markerColourInfo[t.properties.location_u]?"blinking":""}),r.setIcon(u)})}else{var c=new S.Icon({iconUrl:"../assets/imgs/rivergauge_red.svg",iconSize:[7,7],iconAnchor:[4,4],popupAnchor:[-5,-5],className:"red"==this.markerColourInfo[t.properties.location_u]?"blinking":""});r=S.marker(a,{icon:c,pane:"marker"}),n.on("zoomend",function(e){c=new S.Icon({iconUrl:"../assets/imgs/rivergauge_red.svg",iconSize:[n.getZoom(),n.getZoom()],iconAnchor:[4,4],popupAnchor:[-5,-5],className:"red"==i.markerColourInfo[t.properties.location_u]?"blinking":""}),r.setIcon(c)})}o.addLayer(r)}var h,d=this.metaData[t.properties.point_name];if(d){if(h="<html><body>",d.basin=null==d.basin?"MAHANADI-BASIN":d.basin,h+='<div class="popup-table-section">',h+=' <div class="card-body p-3">',h+="<table class='table table-text-sm table-bordered' >",null!=d.point_name&&(h+="<thead ><tr><h6 class='text-center' style='font-weight:bold;'>"+d.point_name.replace(/FFS|_FFS/g,"")+" ("+d.basin+")</h6><tr></thead>"),h+="<tbody>",null!=d.cap&&(h+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Capacity </span></td><td style=' text-transform:none'>"+d.cap.toFixed(2)+" MCFT</td></tr>"),null!=d.cst&&d.cst>0&&null!=d.dn&&d.dn>0&&(h+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Travel Time </span></td><td style=' text-transform:none'>"+d.cst.toFixed(2)+" Hours</td></tr>",h+="<tr><td style='text-transform:none'><span style='text-transform:capitalize' >Downstream Distance </span></td><td style=' text-transform:none'>"+d.dn.toFixed(2)+" Kms</td></tr>"),null!=d.lat&&null!=d.lon&&(h+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>GPS</span></td><td style='text-transform:none'>"+d.lat.toFixed(3)+" , "+d.lon.toFixed(3)+"</td></tr>"),h+="<tr></tr>",h+="</tbody>",h+="<table class='table table-text-sm table-bordered' >",this.metaData[t.properties.point_name].rtp||"RESERVOIR"==this.metaData[t.properties.point_name].point_type||"OS_RESERVOIR"==this.metaData[t.properties.point_name].point_type)if(h+="RESERVOIR"==this.metaData[t.properties.point_name].point_type||"OS_RESERVOIR"==this.metaData[t.properties.point_name].point_type?"<tr id='head' style='background-color:#198754;height:30px; color:#FFF;'><th>Date</th><th>Storage (MCFT)</th><th>Flow (Cusecs)</th></tr>":"<tr id='head' style='background-color:#198754;height:30px; color:#FFF;'><th>Date</th><th>Flow (Cusecs)</th><th>Level(MCFT) / Depth(MCFT)</th></tr>",h+="<tbody align='center'>","RESERVOIR"==this.metaData[t.properties.point_name].point_type||"OS_RESERVOIR"==this.metaData[t.properties.point_name].point_type){var p=this.reservoirtimeSeriesData[t.properties.location_u]?this.reservoirtimeSeriesData[t.properties.location_u]:{};for(var g in p){var m=E(parseInt(g)).format("DD/MM/YYYY HH:mm"),b=p[g].st||p[g].st>=0?p[g].st.toFixed(1):"-",f=p[g].if||p[g].if>=0?p[g].if.toFixed(1):"-",y=p[g].of||p[g].of>=0?p[g].of.toFixed(1):"-";h+="<tr><td>"+m+"</td><td>"+b+"</td><td>"+f+" / "+y+"</td></tr>"}}else{var v=this.rivergaugetimeSeriesData[t.properties.location_u]?this.rivergaugetimeSeriesData[t.properties.location_u]:{};for(var g in v){var C=E(parseInt(g)).format("DD/MM/YYYY HH:mm"),M=v[g].l||v[g].l>=0?v[g].l.toFixed(1):"-",_=v[g].f||v[g].f>=0?v[g].f.toFixed(1):"-",L=v[g].d||v[g].d>=0?v[g].d.toFixed(1):"-";h+="<tr><td>"+C+"</td><td>"+_+"</td><td>"+M+" / "+L+"</td></tr>"}}h+="</tbody></table>",h+="</table></div></div></body></html>"}else h="<html><body>",h+='<div class="popup-table-section">',h+='<div class="card-body p-0"> No Data to Display',h+="</div></div></body></html>";return r&&(r.bindPopup("loading...",{minWidth:350,autoPan:!1}),r.on({mouseout:function(t){},click:function(a){l.spinner=!0,document.getElementsByClassName("leaflet-legend-close")[0].dispatchEvent(new Event("click")),I.responsivePopup({hasTip:!1,autoPan:!1,pane:"popUp",offset:[1,2],minWidth:360,maxWidth:450,closeButton:!0}).setLatLng(a.latlng).setContent(h).openOn(n),e.pointType="River Gauge"==t.properties.point_type||"RIVERGAUGE"==t.properties.point_type?"RIVER_GAUGE":"RESERVOIR"==t.properties.point_type?"RESERVOIR":"",e.location=t.properties.point_name,e.lUUID=t.properties.location_u,e.clickPoint=!0,e.featureObj=t,i.addSelfCatchmentBoundary(n,l,t.properties)}})),o},t.prototype.subBasinLayerStyling=function(t){return{weight:2,opacity:.2,color:"#000000",fillOpacity:.5,fillColor:this.subBasinFillColor(t.properties.name_code)}},t.prototype.subBasinFillColor=function(t){return 1==t?"#fcc2eb":2==t?"#c7fcfc":3==t?"#b3b6fc":4==t?"#b3fcb4":5==t?"#fcd1bb":6==t?"#effcc2":"#d3d3d3"},t.prototype.riverNetworkLayer=function(t){return{weight:function(t){return 1==t||2==t?1:3==t?2:4==t||5==t?3:0}(t.properties.grid_code),color:function(t,n){var e=null;return n.getEndDate(),Object.keys(n.riverNetworkLayerStyling).forEach(function(l){t.downstre_1&&l==t.downstre_1&&(e=n.riverNetworkLayerStyling[l].inflowvalue)}),null==e||null==e?"#b6d1ff":e>=0&&e<=10?"#b6d1ff":e>10&&e<=75?" #7dacfb":e>75&&e<=150?"#4e8ffd":e>150&&e<=250?"#1560e0":e>250&&e<=750?"#003288":e>750&&e<=1500?"#ffa198":e>1500&&e<=3e3?"#fb7276":e>3e3&&e<=15e3?"#fa050c":e>15e3&&e<=28e3?"#bb0005":e>28e3?"#7e0000":"#b6d1ff"}(t.properties,this),fillOpacity:.8}},t.prototype.setLayerClick=function(t){this.riverGaugeFeatures.next(t)},t.prototype.getLayerClick=function(){return this.riverGaugeFeatures.asObservable()},t.prototype.geoJsonCall=function(t){return this.http.get(t)},t.prototype.getInflowForecastRainfallHeatMap=function(t){return this.http.get("http://20.207.87.40/api/weatherForecastv2/getHeatMapData/IMD_SHORT_RANGE/IMD_LONG_RANGE/RAINFALL/"+t+"/24/6hr/ts_color")},t.prototype.getLayerWithFilter=function(t,n,e){var l;return l=U.a.url.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+t+"&maxFeatures=5000000&outputFormat=application%2Fjson",n&&(l+="&cql_filter="+n),this.http.get(l)},t.prototype.addSelfCatchmentBoundary=function(t,n,e){var l=this,a=n.params;this.removeSelfCatchmentLayers(t),this.geoJsonCall(e?U.a.url.GEOSERVER_URL+V.d.Geoserver_Workspace+V.d.GeoJSON_Pre_url+"tamilnadu_pennaiyar_self_catchments"+V.d.geoJson_post_url+"&CQL_FILTER=poi_uuid='"+e.location_u+"'":U.a.url.GEOSERVER_URL+V.d.Geoserver_Workspace+V.d.GeoJSON_Pre_url+"tamilnadu_pennaiyar_self_catchments"+V.d.geoJson_post_url+"&CQL_FILTER=poi_uuid='"+n.params.lUUID+"'").subscribe(function(i){var r=S.geoJSON(i,{pane:"heatMap",style:{weight:1,opacity:1,color:"#1f81fe",fillColor:"#1f81fe",fillOpacity:.1}});l.catchmentLayerList.push(r),e&&(a.catchmentUUID=i.features[0].properties.sefca_uuid,l.gisUtilsSrv.setPointLayerParams(a)),i.features.length>0?(t.addLayer(r),n.spinner=!1):(n.spinner=!1,console.log("default:::Features Not Available"))})},t.prototype.removeSelfCatchmentLayers=function(t){this.catchmentLayerList.length>0&&(Object(M.isNullOrUndefined)(this.catchmentLayerList)||this.catchmentLayerList.forEach(function(n){Object(M.isNullOrUndefined)(n)||t.removeLayer(n)}))},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(k.a),c.gb(F.a),c.gb(j.c),c.gb(O.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),H=function(){return(H=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},q=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},K=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},X=function(){function t(t,n,e,l,a,i,r,o,s,u,c,h){this.utilsService=t,this.mapService=n,this.route=e,this.inflowForecastDataSrv=l,this.inflowForecastMapSrv=a,this.router=i,this.injector=r,this.gisDataService=o,this.dataService=s,this.rfUtils=u,this.vservice=c,this.mitanksEditingService=h,this.playbarflag=!0,this.htmlLegend=null,this.heatMapImages=[],this.dataTabToggleVal=!0,this.activeLayers=[],this.activeGroup="ACTUAL",this.legend=null,this.style={stroke:!1,color:"#FF0000",fill:!0,fillColor:"#FF0000",fillOpacity:.4,opacity:.4},this.hourCounter="",this.blockNumber=0,this.dateBlockNumMap={},this.playPosition=0,this.layers={overlaylayers:{},baselayers:{}},this.subscriptions=[],this.highlightedLayerObj={},this.heirarchyData=[],this.spinner=!1,this.htmlLegendObjects=[],this.animationLayerListBasedOnView=[],this.layerList={},this.flag=!0,this.playButtonDisable=!0,this.labelStrings=[],this.chartData=[],this.tsArrayForPlay=[],this.tsLabelsArrayForPlay=[],this.state="stop",this.popUpData={},this.bottomBarColumns=[],this.allLayerList=[],this.overlayLayerList=[],this.geojsonLayerList=[],this.wmsLayerList=[],this.value=3,this.imageBounds=[],this.startIndex=1,this.styleObjforBottomBar={},this.vectorTileLayer={},this.marker=null,this.noData=!1,this.millisInSixHours=_.c.MILLIS_IN_6HOURS,this.particleMultiplier=6e-4,this.showThrobberbottomBar=!1,this.heatMapoptions={opacity:.8,pane:"heatMap",minZoom:6,maxZoom:15},this.borderBottomBarStyle={},this.bottomBarTableStyles={},this.gradientColors=[],this.gradientStyles={},this.heightHundred={},this.bottomTableKeys=[],this.playWidth=3,this.params=null,this.legendList={},this.isPlayBarVisibile=!1,this.minmaxFlag=!0,this.newsBulletinHide={WATERAUDIT:"WATERAUDIT",SOILMOISTURE:"SOILMOISTURE",ET:"ET",MITANK:"MITANK",RESERVOIR:"RESERVOIR",CROPDEMAND:"CROP_DEMAND",INDUSTRIALDEMAND:"INDUSTRY",HYDROPOWERDEMAND:"HYDROPOWER",DOMESTICDEMAND:"POPULATION",POPULATION:"POPULATION",LIVESTOCK:"LIVESTOCK",DOMESTIC:"DOMESTIC",DEMAND:"demand",NDVI:"NDVI",INFLOWFORECAST:"INFLOWFORECAST",SURFACEWATER_WQ:"SURFACEWATER_WQ"},this.titleHeading={WATERAUDIT:"WATERAUDIT",SOILMOISTURE:"SOIL MOISTURE",ET:"ET",MITANK:"MITANK",RESERVOIR:"RESERVOIR",CROPDEMAND:"CROP_DEMAND",INDUSTRIALDEMAND:"INDUSTRY",HYDROPOWERDEMAND:"HYDROPOWER",LIVESTOCK:"LIVESTOCK",DOMESTIC:"DOMESTIC",DEMAND:"demand",NDVI:"NDVI",RAINFALL:"RAINFALL",GROUNDWATER:"GROUNDWATER",RIVER_GAUGE:"RIVER GAUGE",SURFACEWATER_WQ:"SURFACE WATER QUALITY",INFLOWFORECAST:"INFLOW FORECAST"},this.titleIcon={WATERAUDIT:"tnw-water-aduit-1",SOILMOISTURE:"tnw-soil",ET:"tnw-et",MITANK:"tnw-mi-tanks",RESERVOIR:"tnw-dam",POPULATION:"tnw-domestic-water-demand",DEMAND:"demand",NDVI:"tnw-ndvi",RAINFALL:"bi bi-cloud-rain-fill",GROUNDWATER:"tnw-ground-water",RIVER_GAUGE:"tnw-river-gauge",INFLOWFORECAST:"fas fa-cloud-meatball",SURFACEWATER_WQ:"bi bi-droplet-half"},this.day=String((new Date).getDate()).padStart(2,"0"),this.toggleSidebarFilterStatus=!1,this.hidePlayBar=!0,this.sidebarOpenCloseFlag=!0,this.sidebarHoverFlag=!1,this.layerObject={},this.basinLayerList=[],this.selfCatchmentLayerList=[],this.locationMetaData={},this.saveButtonEnabled=!1}return t.prototype.ngAfterViewInit=function(){this.revalidateMap()},t.prototype.toggleNewSidebarFilterStatus=function(){this.toggleSidebarFilterStatus=!this.toggleSidebarFilterStatus,this.rfUtils.setVisibilityNewSidebarFilterStatus(this.toggleSidebarFilterStatus)},t.prototype.changeTimeLayers=function(t){this.blockNumber=Number(this.groupNameToBlockMap[t]),this.utilsService.setBlockNumber(this.blockNumber),this.utilsService.setPlayButton(this.blockNumber),this.injectedService[this.otherOptions.changeTimeLayers](this,t)},t.prototype.valueChanged=function(t){this.otherOptions.playbarOptions.value=t,this.injector.get(this.otherOptions.serviceType)[this.otherOptions.playbarOptions.valueChanged](this,t)},t.prototype.onUserChangeStart=function(t){this.injector.get(this.otherOptions.serviceType)[this.otherOptions.playbarOptions.onUserChangeStart](this,t)},t.prototype.onUserChange=function(t){this.injector.get(this.otherOptions.serviceType)[this.otherOptions.playbarOptions.onUserChange](this,t)},t.prototype.toggleShow=function(){this.minmaxFlag=!this.minmaxFlag},t.prototype.onPlay=function(){this.injector.get(this.otherOptions.serviceType)[this.otherOptions.playbarOptions.onPlay](this)},t.prototype.onPause=function(){this.injector.get(this.otherOptions.serviceType)[this.otherOptions.playbarOptions.onPause](this)},t.prototype.animationValueChange=function(t){this.injectedService[this.otherOptions.playbarOptions.animationValueChange](this,t)},t.prototype.getUpdatedCols=function(t,n,e){void 0===t&&(t=[]),void 0===n&&(n=null),void 0===e&&(e=null);var l=[];if(t.length>0&&null!=n&&null!=e&&("above"==e||"below"==e)){var a=t.findIndex(function(t){return t==n});if(-1!=a){var i=0,r=t.length;"above"==e?i=a+1:(r=a+1)>t.length&&(r=t.length);for(var o=i;o<r;o++)null!=t[o]&&l.push(t[o])}}return l},t.prototype.manageGeoJsonLayers=function(t){var n=this;this.map.on({zoomend:function(e){if(n.mapZoom=n.map.getZoom(),n.layers&&n.layers.overlaylayers&&Object.keys(n.layers.overlaylayers).forEach(function(e){if(n.layers.overlaylayers[e].options&&n.layers.overlaylayers[e].options.type==v.d.GEOJSON_LAYER&&n.layers.overlaylayers[e].options&&(n.layers.overlaylayers[e].options.view===t.view||n.layers.overlaylayers[e].options.view==v.m.VIEWS.ALL)){var l=n.layers.overlaylayers[e].options.maxZoom,a=n.map.getZoom();n.gisDataService.checkZoomlevelsForGeoJSON(n.layers.overlaylayers[e].options,a)?n.map.hasLayer(n.layers.overlaylayers[e])||(n.map.addLayer(n.layers.overlaylayers[e]),n.activeLayers[e]=!0):("Telangana MiTank_Mandal_Structures Count"==e||"Telangana MiTank_SubBasin Structures Count"==e||"Telangana MiTank Command_Mandal Structures Count"==e)&&a>l&&n.params.pType!=v.m.LOCATIONS.MITANK&&n.params.pType!=v.m.LOCATIONS.BLOCK&&n.params.pType!=v.m.LOCATIONS.SUBBASIN&&n.params.pType!=v.m.LOCATIONS.COMMAND_MANDAL||n.map.hasLayer(n.layers.overlaylayers[e])&&(n.map.removeLayer(n.layers.overlaylayers[e]),n.activeLayers[e]=!1)}}),n.params.component==v.m.COMPONENT.MITANK){if(n.layers&&n.layers.overlaylayers){var l=null,a=void 0,i=void 0,r=n.map.getZoom(),o=null;if(n.params.view==v.m.VIEWS.ADMIN&&n.params.dashboardView==v.m.LOCATIONS.TAMILNADU?(l="Telangana Mandal MITank",a=v.g.MITANK.MIN,o=v.m.LOCATIONS.BLOCK):n.params.view==v.m.VIEWS.BASIN&&n.params.dashboardView==v.m.LOCATIONS.TAMILNADU?(l="Telangana Subbasin MITank",a=v.g.BASIN_LAST_LEVEL.MIN,o=v.m.LOCATIONS.SUBBASIN):n.params.view==v.m.VIEWS.PROJECT&&n.params.dashboardView==v.m.LOCATIONS.TAMILNADU&&(l="Telangana Command Mandal MITank",a=v.g.BASIN_LAST_LEVEL.MIN,o=v.m.LOCATIONS.COMMAND_MANDAL),null!=l&&(o&&n.params.pType==o||n.params.pType==v.m.LOCATIONS.MITANK)){var s=n.params.pUUID;n.params.pType==v.m.LOCATIONS.MITANK&&(s=n.params.iPUUID),r>=a?n.otherOptions.resetLayerColorFunctionName&&(n.injectedService[n.otherOptions.resetLayerColorFunctionName](n,n.layers.overlaylayers[l],s),n.activeLayers[l]=!1):n.otherOptions.addLayerColorFunctionName&&(n.injectedService[n.otherOptions.addLayerColorFunctionName](n,n.layers.overlaylayers[l],s),n.activeLayers[l]=!0)}}n.manageLegend()}if(n.params.component==v.m.COMPONENT.CROPDEMAND&&n.injectedService[n.otherOptions.zoomEnd](n),null!=n.otherOptions.changeLegendOnZoom&&n.injectedService[n.otherOptions.changeLegendOnZoom](n),n.params.locationTypeList.findIndex(function(t){return t==n.params.pType})>0)for(var o in n.highlightedLayerObj)null!=n.highlightedLayerObj[o]&&(r=n.map.getZoom(),a=v.g[o].MIN,i=v.g[o].MAX,n.params.dashboardView==v.m.LOCATIONS.GODAVARI&&o==v.m.LOCATIONS.SUBBASIN&&(a=v.g[v.m.LOCATIONS.GODAVARISUBBASIN].MIN,i=v.g[v.m.LOCATIONS.GODAVARISUBBASIN].MAX),r>=a&&r<=i?n.map.hasLayer(n.highlightedLayerObj[o])||n.map.addLayer(n.highlightedLayerObj[o]):n.map.hasLayer(n.highlightedLayerObj[o])&&n.map.removeLayer(n.highlightedLayerObj[o]))}}),this.revalidateMapAfterPrint()},t.prototype.addHeatMapLayerToMap=function(){var t=this;this.addHeatMap(this.currentDate),this.utilsService.getDateRangeforRiverFlow().subscribe(function(n){Object(M.isNullOrUndefined)(n)||(t.inflowForecastRainfallDateRanges=n,t.currentDate=t.utilsService.currentDayTimestep(t.inflowForecastRainfallDateRanges),(t.currentDate=t.utilsService.currentDayTimestep(t.utilsService.getCurrentDayWithTime()))&&t.addHeatMap(n))})},t.prototype.addHeatMap=function(t){var n=this;this.inflowForecastMapSrv.getLayerWithFilter("tamilnadu_pennaiyar_full_basin","uuid='"+this.params.basin+"'").subscribe(function(e){n.inflowForecastMapSrv.getInflowForecastRainfallHeatMap(t).subscribe(function(t){if(Object.keys(t).length>0){var l=Object.values(t);n.ifrfHeatmap={heatmapData:l[0],bbox:e.features[0].geometry},n.ifrfHeatmap.heatmapData&&n.addHeatMapLayer()}})})},t.prototype.addHeatMapLayer=function(){var t=this.gisDataService.getApplicationBasedLayer(V.c[v.m.LOCATIONS.ODISHA],v.d.HEATMAP_LAYER);this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setImageLayersNew(this.map,t,this.layers.overlaylayers,this.ifrfHeatmap))},t.prototype.revalidateMapAfterPrint=function(){var t=this,n=function(){setTimeout(function(){t.revalidateMap()},1e3)};window.matchMedia&&window.matchMedia("print").addListener(function(t){t.matches||n()}),window.onafterprint=n},t.prototype.resetVectorTileLayer=function(t,n){for(var e=0,l=n;e<l.length;e++)t&&t.resetFeatureStyle(l[e].uuid)},t.prototype.manageLegend=function(){for(var t in this.rfUtils.isEmptyObj(this.otherOptions.legend)||(this.otherOptions.legend={}),this.activeLayers){var n=this.layers.overlaylayers[t];if(n&&(!Object(M.isNullOrUndefined)(n.options.hasLegend)||!Object(M.isNullOrUndefined)(n.options.legendName)))if(this.activeLayers[t])this.otherOptions.legend[n.options.legendName]=this.legendList[n.options.legendName],this.params.component==v.m.COMPONENT.RAINFALL&&(this.otherOptions.legend[n.options.legendName]=this.legendList[n.options.legendName]);else for(var e in this.legendList)e==n.options.legendName&&delete this.otherOptions.legend[e]}this.addLegend()},t.prototype.getMaskingLayerMapping=function(){var t;return(t={})[v.m.LOCATIONS.DISTRICT]=[v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]],t[v.m.LOCATIONS.MANDAL]=[v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID],v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]],t[v.m.LOCATIONS.BASIN]=[v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]],t[v.m.LOCATIONS.SUBBASIN]=[v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID],v.j[v.m.LOCATIONS.TELANGANA][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL],v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID],v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]],t},t.prototype.getTitleforMap=function(t){this.title=this.vservice.getTitleForComponent(t.component,t)},t.prototype.addSrcWiseWMSLayers=function(t){this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setWMSOverlays(this.map,t,this.layers.overlaylayers)),console.log("\n In addSrcWiseWMSLayers",this.activeLayers,this.layers.overlaylayers)},t.prototype.addSrcWiseVECTORLayers=function(t){this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setVECTOROverlays(this.map,t,null,this.layers.overlaylayers,this.params))},t.prototype.addSrcWiseGEOJSONLayers=function(t){var n=this;this.gisDataService.setGEOJSONOverlays(this.map,t,this.layers,this.otherOptions,this).then(function(t){n.layers.overlaylayers=Object.assign({},n.layers.overlaylayers,t),(n.params.component!=v.m.COMPONENT.MITANK||"BLOCK"!=n.params.pType&&"SUBBASIN"!=n.params.pType&&"COMMAND_MANDAL"!=n.params.pType)&&n.params.component!=v.m.COMPONENT.RESERVOIR&&n.params.component!=v.m.COMPONENT.RIVER_GAUGE&&n.params.component!=v.m.COMPONENT.INFLOWFORECAST||n.manageLegend(),n.otherOptions&&n.otherOptions.onGeoJsonEnd&&n.injectedService&&n.injectedService[n.otherOptions.onGeoJsonEnd](n)})},t.prototype.addSrcWiseHeatmapLayers=function(t){this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setImageLayers(this.map,t,this.layers.overlaylayers))},t.prototype.addSrcWiseHeatmapLayersInflowforecast=function(t){this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setImageLayersInflowForecast(this.map,t,this.layers.overlaylayers))},t.prototype.getPlaybarOption=function(){return"GROUNDWATER"==this.params.component&&"MONTHLY"==this.params.timeStep&&"TNGWD"==this.params.src},t.prototype.colorVectortileslayer=function(t,n){n.forEach(function(n){var e=n.wt,l=n.opacity?n.opacity:.85;t&&t.setFeatureStyle(n.uuid,n.type?{opacity:l,color:"#000000",weight:e}:{opacity:l,color:"#000000",fill:!0,fillOpacity:1,fillColor:n.clr,weight:e})})},t.prototype.addCommonViewLayers=function(t,n){var e={};for(var l in t)(t[l].layerOptions.view==v.m.VIEWS.ALL||t[l].layerOptions.dashboardView&&t[l].layerOptions.dashboardView==n.dashboardView&&t[l].layerOptions.view==n.view)&&(e[l]=t[l],this.activeLayers[l]=t[l].layerOptions.visible);return e},t.prototype.addZoomBar=function(){(new S.control.zoomBar).addTo(this.map)},t.prototype.getMapOptions=function(){return"COMBINED_BASIN"==this.params.view?{center:v.e[this.params.view],zoom:v.f[this.params.view]}:{center:v.e[this.params.dashboardView],zoom:v.f[this.params.dashboardView]}},t.prototype.removeHighlightedLayers=function(t){for(var n in this.highlightedLayerObj)this.map.removeLayer(this.highlightedLayerObj[n]),delete this.highlightedLayerObj[n]},t.prototype.getLocationAndAPIMapping=function(t){var n,e=((n={})[v.m.LOCATIONS.DISTRICT]={url:"tamilnadu_district",uuidColName:"uuid",zoomLevel:v.g[v.m.LOCATIONS.BLOCK].MIN,pane:"state"},n[v.m.LOCATIONS.BLOCK]={url:"tamilnadu_mandal",uuidColName:"uuid",zoomLevel:v.g[v.m.LOCATIONS.MITANK].MIN+1,pane:"district"},n[v.m.LOCATIONS.BASIN]={url:"tamilnadu_basin",uuidColName:"uuid",zoomLevel:v.g[v.m.LOCATIONS.SUBBASIN].MIN,pane:"state"},n[v.m.LOCATIONS.SUBBASIN]={url:"tamilnadu_subbasin",uuidColName:"uuid",zoomLevel:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,pane:"district"},n[v.m.LOCATIONS.COMMAND_AREA]={url:"kwaram_command_area",uuidColName:"cmduid",zoomLevel:v.g[v.m.LOCATIONS.COMMAND_AREA].MAX,pane:"state"},n[v.m.LOCATIONS.SUB_COMMAND_AREA]={url:"kwaram_sub_command_area",uuidColName:"scmduid",zoomLevel:v.g[v.m.LOCATIONS.SUB_COMMAND_AREA].MIN,pane:"state"},n[v.m.LOCATIONS.COMMAND_DISTRICT]={url:"kwaram_command_district",uuidColName:"cmddistuid",zoomLevel:v.g[v.m.LOCATIONS.COMMAND_DISTRICT].MAX-1,pane:"state"},n[v.m.LOCATIONS.COMMAND_MANDAL]={url:"kwaram_command_mandal",uuidColName:"cmdmanduid",zoomLevel:v.g[v.m.LOCATIONS.MITANK].MIN+1,pane:"district"},n);return t.dashboardView==v.m.LOCATIONS.GODAVARI&&(e[v.m.LOCATIONS.SUBBASIN]={url:"corewris_godavari_sub_basin_1.0",uuidColName:"uuid",zoomLevel:v.g[v.m.LOCATIONS.GODAVARISUBBASIN].MIN+1,pane:"district"}),e},t.prototype.getHierachyData=function(t){return q(this,void 0,void 0,function(){var n,e;return K(this,function(l){switch(l.label){case 0:return n=this.dataService.getPostDataForBreadCrumb(t),this.heirarchyData=[],this.spinner=!0,[4,this.dataService.post(v.m.API_MAPPING.BREADCRUMB,n).toPromise()];case 1:return(e=l.sent())&&e.length>0&&(this.heirarchyData=e),this.spinner=!1,[2]}})})},t.prototype.setGeoJsonFeaturesOnClick=function(t){return q(this,void 0,void 0,function(){var n,e,l,a,i,r;return K(this,function(o){switch(o.label){case 0:if(n=this.getMapOptions(),t.pType==v.m.LOCATIONS.STATE)return this.map.setView([n.center[0],n.center[1]],n.zoom),this.mapZoom=n.zoom,[2];if(t.dashboardView==v.m.LOCATIONS.GODAVARI&&t.pType==v.m.LOCATIONS.BASIN)return this.map.setView([n.center[0],n.center[1]],v.g[v.m.LOCATIONS.GODAVARIBASIN].MIN),this.mapZoom=v.g[v.m.LOCATIONS.GODAVARIBASIN].MIN,[2];e=this.getLocationAndAPIMapping(t),l=0,o.label=1;case 1:return l<this.heirarchyData.length?null==e[(a=this.heirarchyData[l]).locType]?[3,3]:("COMBINED_BASIN"==t.view&&(e[a.locType].url="tamilnadu_pennaiyar_full_basin"),[4,this.getHighlightedLayer(e,a)]):[3,5];case 2:(i=o.sent()).isError||a.locType!=t.pType||(this.map.setView([(r=i.data).features[0].properties.latitude,r.features[0].properties.longitude],e[t.pType].zoomLevel),this.map.addLayer(this.highlightedLayerObj[a.locType])),o.label=3;case 3:l++,o.label=4;case 4:return[3,1];case 5:return this.mapZoom=this.map.getZoom(),[2]}})})},t.prototype.getHighlightedLayer=function(t,n){var e=this,l={isError:!1},a={weight:"district"==t[n.locType].pane&&"NDVI"==this.params.component?.8:2.7,color:"#000000",fillOpacity:0,pane:t[n.locType].pane},i=t[n.locType].uuidColName+"='"+n.lUUID+"'";return this.spinner=!0,new Promise(function(r,o){e.dataService.getLayerWithFilter(t[n.locType].url,i).subscribe(function(t){e.highlightedLayerObj[n.locType]=S.geoJSON(t,{style:a,interactive:!1}),l.data=t,e.spinner=!1,r(l)},function(t){e.spinner=!1,l.isError=!0,o(l)})})},t.prototype.resetBaseLayers=function(){for(var t in v.a)for(var n=0,e=v.a[t];n<e.length;n++){var l=e[n];"mitanks"==this.route.snapshot.params.component?"Google Satellite"==l.name?l.visible=!0:"Carto"==l.name&&(l.visible=!1):"inflowForecast"==this.route.snapshot.params.component?"Carto"==l.name?l.visible=!0:"Bhuvan"==l.name&&(l.visible=!1):"Google Satellite"==l.name?l.visible=!1:"Carto"==l.name&&(l.visible=!0)}},t.prototype.getAndSetBaseLayers=function(){var t=this.gisDataService.addBaseTileLayers(v.a[v.d.TILE_LAYER],this.map),n=this.gisDataService.getApplicationBasedLayer(v.a[v.d.WMS_LAYER],v.d.WMS_LAYER);this.layers.baselayers=Object.assign(t,this.gisDataService.setWMSOverlays(this.map,n))},t.prototype.getAndSetCommonLayers=function(){var t=this.gisDataService.getApplicationBasedLayer(v.b[v.m.VIEWS.ALL],v.d.WMS_LAYER);t=this.addCommonViewLayers(t,this.params),this.layers.overlaylayers=Object.assign(this.layers.overlaylayers,this.gisDataService.setWMSOverlays(this.map,t))},t.prototype.addLayersBasedOnView=function(){var t=this.gisDataService.getApplicationBasedLayer(v.b[this.params.view],v.d.WMS_LAYER);"INFLOWFORECAST"==this.params.component&&(t=this.formatLayersData(t)),t=this.addCommonViewLayers(t,this.params),this.layers.overlaylayers=Object.assign(this.layers.overlaylayers,this.gisDataService.setWMSOverlays(this.map,t));var n=this.gisDataService.getApplicationBasedLayer(v.b[this.params.view],v.d.VECTOR_LAYER,this.params);n=this.addCommonViewLayers(n,this.params),this.layers.overlaylayers=Object.assign(this.layers.overlaylayers,this.gisDataService.setVECTOROverlays(this.map,n,null,null,this.params))},t.prototype.formatLayersData=function(t){for(var n in t)t[n].layerOptions.hasOwnProperty("cql_filter_value")&&(t[n].layerOptions.cql_filter=t[n].layerOptions.cql_filter_value+" ='"+this.params.basin+"'"),t[n].layerOptions.visible=!1;return t},t.prototype.subscribeEvents=function(){var t=this;this.bulletinParamsSubscription=this.utilsService.getNewsBulletinData().subscribe(function(n){t.rfUtils.isEmptyObj(n)||(t.newsBulletinData=n)}),this.paramsSubscription=this.utilsService.selectedParams.subscribe(function(n){if(!t.rfUtils.isEmptyObj(n)){var e=t.rfUtils.getWritableObject(t.route.snapshot.params);0==Object.keys(e).length&&(e={component:"rainfall",dashboard:"waterSupply"}),v.c[n.component]&&v.c[n.component]==e.component&&(t.params=n,t.urlParams=n,t.hidePlayBar=t.getPlaybarOption(),t.initializeOnLoad())}}),this.heatMapParamsSubscription=this.utilsService.selectedHeatMap.subscribe(function(n){if(!t.rfUtils.isEmptyObj(n)){t.heatMapParams=null;var e=t.rfUtils.getWritableObject(t.route.snapshot.params);0==Object.keys(e).length&&(e={component:"rainfall",dashboard:"waterSupply"}),v.c[n.component]&&v.c[n.component]==e.component&&(t.heatMapParams=n,t.initializeOnHeatmapLoad())}}),this.mitanksEditingService.openDTObject.subscribe(function(n){Object(M.isNullOrUndefined)(n)||(t.dataTabToggleVal=!(!n||t.dataTabToggleVal))}),this.utilsService.getPointLayerParams().subscribe(function(n){Object.keys(n).length>0&&t.getMetaData(t.urlParams.basin)})},t.prototype.getMetaData=function(t){var n=this;this.inflowForecastDataSrv.getHecHmsMetaDataForAllPoints({basinUUID:t}).subscribe(function(t){n.metaData=t})},t.prototype.setView=function(t){this.map.setView([t.center[0],t.center[1]],t.zoom)},t.prototype.checkIsLastLevel=function(){var t=this,n=!1,e=this.params.locationTypeList.length;return(e-=1)>0&&this.params.locationTypeList[e]==this.params.pType&&(n=!0),n&&[v.m.LOCATIONS.STATE,v.m.LOCATIONS.BASIN,v.m.LOCATIONS.DISTRICT,v.m.LOCATIONS.SUBBASIN,v.m.LOCATIONS.BLOCK].findIndex(function(n){return n==t.params.pType})>-1&&(n=!1),n},t.prototype.checkCurrentLevel=function(){var t=this;return 0==this.params.locationTypeList.findIndex(function(n){return n==t.params.pType})},t.prototype.initializeOnHeatmapLoad=function(){this.injector.get(this.otherOptions.serviceType)[this.otherOptions.heatMapFunctionName](this)},t.prototype.checkAndSetPlaybar=function(){this.playbarZoomLevel=v.g[v.m.LOCATIONS.MITANK].MIN,this.otherOptions&&null!=this.otherOptions.playbarOptions&&this.otherOptions.playbarOptions[this.params.dashboardView]&&this.otherOptions.playbarOptions[this.params.dashboardView][this.params.view]&&(this.playbarZoomLevel=this.otherOptions.playbarOptions[this.params.dashboardView][this.params.view])},t.prototype.initializeOnLoad=function(){return q(this,void 0,void 0,function(){var t,n,e;return K(this,function(l){switch(l.label){case 0:return this.injectedService=this.injector.get(this.otherOptions.serviceType),t=this.checkIsLastLevel(),n=this.checkCurrentLevel(),this.getTitleforMap(this.params),this.removeHighlightedLayers(this.params),this.checkAndSetPlaybar(),this.otherOptions.manageBaseLayersFunctionName&&this.injectedService[this.otherOptions.manageBaseLayersFunctionName](this),"INFLOWFORECAST"==this.params.component?[3,2]:[4,this.getHierachyData(this.params)];case 1:return l.sent(),[3,3];case 2:this.params.clickPoint&&this.getMetaData(),l.label=3;case 3:return t?(this.setActiveFeatureData(),this.setGeoJsonFeaturesOnClick(this.params)):("filter"==this.params.actionType&&(this.removeComponentWiseLayers(),n&&(this.removeAllLayers(),e=this.getMapOptions(),this.map&&("INFLOWFORECAST"!=this.params.component?this.setView(e):this.fitMapToBasinView()),this.addLayersBasedOnView(),this.getAndSetCommonLayers(),this.coordinateReadout())),this.injectedService[this.otherOptions.functionName](this),"GROUNDWATER"==this.params.component&&"MONTHLY"==this.params.timeStep&&"TNGWD"==this.params.src&&(this.injectedService[this.otherOptions.animateHeatMapLayers](this),this.labelStrings=this.injectedService[this.otherOptions.getLabelStringsForPlayBarAnimation](this),this.playButtonDisable=!1),this.manageGeoJsonLayers(this.params),this.setGeoJsonFeaturesOnClick(this.params)),[2]}})})},t.prototype.fitMapToBasinView=function(){var t=this;this.removeSelectedBasin(),this.inflowForecastMapSrv.geoJsonCall(U.a.url.GEOSERVER_URL+V.d.Geoserver_Workspace+V.d.GeoJSON_Pre_url+"tamilnadu_pennaiyar_full_basin"+V.d.geoJson_post_url+"&cql_filter=uuid='"+this.params.basin+"'").subscribe(function(n){var e=new S.GeoJSON(n,{});t.basinLayerList.push(e),t.map.fitBounds(e.getBounds())})},t.prototype.removeSelectedBasin=function(){var t=this;this.basinLayerList.length>0&&(Object(M.isNullOrUndefined)(this.basinLayerList)||this.basinLayerList.forEach(function(n){Object(M.isNullOrUndefined)(n)||t.map.removeLayer(n)}))},t.prototype.setActiveFeatureData=function(){var t=this.injector.get(this.otherOptions.serviceType);"filter"==this.params.actionType&&this.otherOptions.stationLayer&&t[this.otherOptions.stationLayer](this),this.otherOptions.stationHighlightFunctionName&&t[this.otherOptions.stationHighlightFunctionName](this)},t.prototype.updateZoomLevel=function(){if(this.map){var t=v.i.minZoom;v.g[this.params.pType]&&(t=v.g[this.params.pType].MIN),this.map.setMinZoom(t)}},t.prototype.ngOnInit=function(){var t=this;this.checkIsMobileView(),this.revalidateMap(),this.initMap(),this.subscribeEvents(),this.resetBaseLayers(),this.getAndSetBaseLayers(),this.utilsService.setVisibilitySidebarMenuStatus(!0),this.visibiliSidebarSubscription=this.utilsService.getVisibilitySidebarMenuStatus().subscribe(function(n){null!=n&&null!=n&&(t.sidebarOpenCloseFlag=n)}),this.utilsService.setSidebarHoveringStatus(!1),this.visibiliSidebarSubscription=this.utilsService.getSidebarHoveringStatus().subscribe(function(n){null!=n&&null!=n&&(t.sidebarHoverFlag=n)})},t.prototype.getSidebarClassName=function(){if(this.otherOptions.playbarOptions&&this.otherOptions.playbarOptions.showPlayBar){if(this.sidebarOpenCloseFlag&&this.sidebarHoverFlag)return"side-hover-play play-time-shrink has-play-bar";if(this.sidebarOpenCloseFlag&&!this.sidebarHoverFlag)return"play-time-shrink has-play-bar";if(!this.sidebarOpenCloseFlag&&this.sidebarHoverFlag)return"side-hover-play has-play-bar";if(!this.sidebarOpenCloseFlag&&!this.sidebarHoverFlag)return"has-play-bar"}else if(1==this.hidePlayBar){if(this.sidebarOpenCloseFlag&&this.sidebarHoverFlag)return"side-hover-play play-time-shrink has-play-bar";if(this.sidebarOpenCloseFlag&&!this.sidebarHoverFlag)return"play-time-shrink has-play-bar";if(!this.sidebarOpenCloseFlag&&this.sidebarHoverFlag)return"side-hover-play has-play-bar";if(!this.sidebarOpenCloseFlag&&!this.sidebarHoverFlag)return"has-play-bar"}},t.prototype.getBottombarClassName=function(){if(this.isPlayBarVisibile)return"side-hover-play play-time-shrink "},t.prototype.coordinateReadout=function(){var t=this;this.map.on("mousemove",function(n){t.coordinates=n.latlng.lat.toFixed(4)+","+n.latlng.lng.toFixed(4),clearTimeout(t.timer),t.timer=setTimeout(function(){t.dateReadOut(n.latlng)},1e3)})},t.prototype.dateReadOut=function(t){var n=this;L.a.selectedSource?(this.layers.overlaylayers.BASELAYER_METADATA.options.cql_filter="source='"+L.a.selectedSource+"'",this.layers.overlaylayers.BASELAYER_METADATA.wmsParams.cql_filter="source='"+L.a.selectedSource+"'",this.gisDataService.getFeatureInfo(t,this.layers.overlaylayers.BASELAYER_METADATA,this.map).subscribe(function(t){n.date=t&&t.features.length>=1&&t.features[0].properties.latest_date&&t.features[0].properties.latest_date.split("T").length>0?t.features[0].properties.latest_date.split("T")[0]:null})):this.date=null},t.prototype.elevationReadout=function(t){var n=this;this.gisDataService.getFeatureInfo(t,this.layers.overlaylayers.SRTM_DEM_30,this.map).subscribe(function(t){t&&t.features.length>0&&(n.elevation=t.features[0].properties.GRAY_INDEX+"m")})},t.prototype.ngOnDestroy=function(){this.removeAllLayers(),null!=this.bulletinParamsSubscription&&this.bulletinParamsSubscription.unsubscribe(),null!=this.forecastLengthSubscription&&this.forecastLengthSubscription.unsubscribe(),null!=this.adminBasinSubscription&&this.adminBasinSubscription.unsubscribe(),null!=this.districtClickedSubscription&&this.districtClickedSubscription.unsubscribe(),null!=this.leftSideBarSubscription&&this.leftSideBarSubscription.unsubscribe(),null!=this.visibiliSidebarSubscription&&this.visibiliSidebarSubscription.unsubscribe(),this.map.hasLayer(this.highlightedLayer)&&this.map.removeLayer(this.highlightedLayer),this.highlightedLayer=null},t.prototype.checkIsMobileView=function(){window.matchMedia("(max-width:992px)").matches&&(this.dataTabToggleVal=!1)},t.prototype.createPanes=function(){var t=this;v.m.PANE_LIST.forEach(function(n){t.map.createPane(n.name),t.map.getPane(n.name).style.zIndex=n.zindex})},t.prototype.initMap=function(){v.i.editable=!0,this.map=S.map("map",v.i),this.utilsService.setMapObj(this.map),this.addZoomBar(),this.createPanes(),this.createLegend(),this.wfstOptions=this.gisDataService.getWFSTOptions("kaleshwaram","tamilnadu_mitank_polygon_layer"),this.wfstHistoryOptions=this.gisDataService.getWFSTOptions("kaleshwaram","corewris_mitanks_polygon_1.0_history_test")},t.prototype.createLegend=function(){this.removeUpdatedLegend(),this.htmlNewLegend=new S.Control.HtmlLegendForVisibility({position:"bottomright",collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1}),Object(M.isNullOrUndefined)(this.htmlNewLegend)||this.map.addControl(this.htmlNewLegend)},t.prototype.removeUpdatedLegend=function(){this.htmlNewLegend&&(this.map.removeControl(this.htmlNewLegend),this.htmlNewLegend.clearLegend())},t.prototype.addLegend=function(){var t,n;for(var e in this.createLegend(),t=this.otherOptions.legend)t[e]&&(n=this.getLegendData(t[e]),this.htmlNewLegend.addLegend(n))},t.prototype.getLegendData=function(t){var n={name:t.Units,elements:[]};if(t.colorValues&&t.colorValues.length>0){for(var e="",l=0;l<t.colorValues.length;l++)t.colorValues[l].image?"../../../../../assets/imgs/visibilityDashboards/miTanks/MITankPolygon.png"===t.colorValues[l].image?e=t.HTML?t.HTML:"<p><img src='"+t.colorValues[l].image+"'/></p>":e+="<div><img  src='"+t.colorValues[l].image+"'></><p>"+t.colorValues[l].text+"</p></div>":e+="<div></span><span style='background-color: "+t.colorValues[l].backgroundColor+"'></span><p>"+t.colorValues[l].text+"</p></div>";n.elements.push({html:e})}else(t.HTML||t.image)&&n.elements.push({html:e=t.HTML?t.HTML:"<img src='"+t.image+"'/>"});return n},t.prototype.addLegend2=function(){var t=this;this.legend&&this.legend.remove(),console.log("\n In 1addLegend:  this.legend",this.legend);var n,e=S.control({position:"bottomright"});n=this.otherOptions.legend,e.onAdd=function(){var e=S.DomUtil.create("div","info legend");for(var l in n){var a=n[l];if(null!=a&&null!=a){null!=a.Units&&null!=a.Units&&(e.innerHTML+='<p class="bg-dark font-weight-bold text-light text-center my-0">'+a.Units+"</p");for(var i=a.colorValues,r=Object(M.isNullOrUndefined)(t.heatMapParams)||"DEVIATION"!=t.heatMapParams.heatMap.key?"text-center":"text-left",o=Object(M.isNullOrUndefined)(t.heatMapParams)||"DEVIATION"!=t.heatMapParams.heatMap.key?"auto":"5px",s=i.length-1;s>=0;s--)e.innerHTML+=i[s].image?"../../../../../assets/imgs/visibilityDashboards/miTanks/water_body.png"===i[s].image?'<p class="my-0 font-weight-bold '+r+'" style="background-color: '+i[s].backgroundColor+" ;padding-left : '5px' \">\n              <img width='30px' height='5px' src= '"+i[s].image+"'/></p>":"../../../../../assets/imgs/visibilityDashboards/miTanks/MITankPolygon.png"===i[s].image?'<p class="my-0 font-weight-bold '+r+'" style="background-color: '+i[s].backgroundColor+" ;padding-left : '5px' \">\n              <img width='60px' height='15px' src= '"+i[s].image+"'/></p>":'<p class="my-0 font-weight-bold '+r+'" style="background-color: '+i[s].backgroundColor+" ;padding-left : '5px' \">\n              <img width='15px' height='15px' src= '"+i[s].image+"'/></p>":'<p class="my-0 font-weight-bold '+r+'" style="background-color: '+i[s].backgroundColor+" ;\n           color: "+i[s].color+" ; padding-left : "+o+' ; min-height:20px;"> '+i[s].text+" </p>"}}return e},this.legend=e,e.addTo(this.map)},t.prototype.removeLegend=function(){this.legend&&(this.legend.remove(),this.map.removeControl(this.legend))},t.prototype.addBaseTileLayers=function(t){var n={};for(var e in t){var l,a=t[e];l=this.gisDataService.addTileLayer(a),a.visible&&this.map.addLayer(l),n[a.name]=l}return n},t.prototype.revalidateMap=function(){var t=this;window.dispatchEvent(new Event("resize")),this.map&&setTimeout(function(){t.map.invalidateSize()},200)},t.prototype.dataTabToggle=function(){this.revalidateMap(),this.dataTabToggleVal=!this.dataTabToggleVal,this.utilsService.setCurrentComponent(this.router.url.split("/")[2]),this.dataTabToggleVal?document.getElementById("MapContainer").offsetWidth<1600&&(document.documentElement.style.setProperty("--opacite","none"),document.documentElement.style.setProperty("--lPercent","70%")):(document.documentElement.style.setProperty("--opacite","display"),document.documentElement.style.setProperty("--lPercent","50%"))},t.prototype.openBottomBar=function(t,n){this.bottomBarComponent=n,this.showBottomBar=!0,this.apiParams=t},t.prototype.removeAllLayers=function(){for(var t in this.layers.overlaylayers)this.map.hasLayer(this.layers.overlaylayers[t])&&this.map.removeLayer(this.layers.overlaylayers[t]),delete this.layers.overlaylayers[t];this.activeLayers=[]},t.prototype.removeAdminBasinLayers=function(){for(var t in this.layers.overlaylayers){var n=this.layers.overlaylayers[t].options;n.view==this.params.view&&n.dashboardView==this.params.dashboardView||"ALL"==n.view||(this.map.hasLayer(this.layers.overlaylayers[t])&&this.map.removeLayer(this.layers.overlaylayers[t]),delete this.layers.overlaylayers[t],delete this.activeLayers[t])}},t.prototype.removeComponentWiseLayers=function(){for(var t in this.layers.overlaylayers){var n=this.layers.overlaylayers[t].options;n.component&&n.component==this.params.component&&(this.map.hasLayer(this.layers.overlaylayers[t])&&this.map.removeLayer(this.layers.overlaylayers[t]),delete this.layers.overlaylayers[t])}},t.prototype.actionOnEdit=function(t){var n=t.tank_geoid,e=this;"edit"==t.action?(console.log("here in edit",n),this.wfstOptions.filter=new S.Filter.EQ("tank_geoid",n,!1),this.wfst=new S.wfst(this.wfstOptions),this.wfstHistory=new S.wfst(this.wfstHistoryOptions),this.wfst.addTo(this.map).once("load",function(){e.map.removeLayer(e.layers.overlaylayers["Telangana MiTank Polygon"]),e.wfst.eachLayer(function(t){t.enableEdit(),e.mitanksEditingService.updateGeometry(e.wfst,t),e.mitanksEditingService.setPreviousWFSTLayer(e.wfstHistory,e.getConfiguredLayerForHistory(t))})}),this.map.on("editable:editing",function(t){e.wfst.editLayer(t.layer),e.mitanksEditingService.updateGeometry(e.wfst,t.layer)})):(this.map.removeLayer(this.wfst),this.map.addLayer(e.layers.overlaylayers["Telangana MiTank Polygon"]))},t.prototype.getConfiguredLayerForHistory=function(t){for(var n=[],e=t.getLatLngs(),l=0;l<e[0][0].length;l++)n.push([e[0][0][l].lat,e[0][0][l].lng]);var a=new S.polygon([[n]]).toGeoJSON(),i=S.GeoJSON.geometryToLayer(a,null);return a.properties=H({},t.feature.properties),a.properties.timestamp=new Date,i.feature=a,i},t.prototype.goToMISView=function(){if("INFLOWFORECAST"!=this.params.component)this.router.navigate(["tamilnadu","mis",_.b[v.c[this.params.component]]]);else{var t={};t.basinUUID=this.urlParams.basin,this.router.navigate(["tamilnadu","mis",_.b[v.c[this.params.component]],t])}},t.prototype.getsideBarStatus=function(t){this.sidebarstatus=t},t}(),J=e("KeV7"),$=function(){return($=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Q=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.cropdemandService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.isLastLevel=!1,this.columnConfig=this.cropdemandService.getColumnConfig(),this.tableConfig=this.cropdemandService.getTableConfig(),this.tableNameForDownload="industrialdemand",this.inputForBreadcrumb=[],this.kpi={micro:"null",demand:"null",medium:"null",large:"null"},this.chartOptions={donutChart:$({},this.cropdemandService.getDonutChartConfig())},this.showDonutChart={showChart:!1,renderChart:!1},this.showErrorMsgForTable=!1,this.throbberForDonutChart=!1,this.tableSpinner=!1,this.chart={visibility:{showChart:!1,renderChart:!1},chartOptions:{}},this.throbbarForChart=!1,this.selectedChartType="column"}return t.prototype.ngOnInit=function(){this.cropdemandTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=C.b.COMPONENT.CROPDEMAND||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.chartOptions.donutChart.xAxis.categories=[],this.chartOptions.donutChart.series=[],this.showDonutChart.showChart=!1,this.showDonutChart.renderChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.cropdemandTableSpinner=!0,this.isStation=!1,this.isLastLevel=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.setBreadCrumb(),this.setChart(),this.initialiseTable()},t.prototype.setChart=function(){this.chart.visibility.showChart=!0,this.getAndUpdateChart(this.selectedParams)},t.prototype.getAndUpdateChart=function(t){var n,e=this;this.throbbarForChart=!0,"column"==this.selectedChartType&&(this.chart.chartOptions.series=[],t=this.cropdemandService.getPostDataForStackedbarCharts(t,"seasonally"),this.chart.chartOptions=this.cropdemandService.getStackChartConfig(),n="preProcessStackbarChart");var l=this.cropdemandService.getSampleChartData();this.utils.isEmptyObj(l)||this.cropdemandService[n](l,this.chart.chartOptions),setTimeout(function(){e.chart.visibility.renderChart=!0},100),this._charts.forEach(function(t){t.options.component==e.chart.chartOptions.component&&t.ngOnChanges()}),this.throbbarForChart=!1},t.prototype.initialiseTable=function(){var t=this.selectedParams;this.getTableConfig(),this.colsToDisplay=this.getColsToDisplay(),this.selectedCols=this.colsToDisplay.slice(),this.populateTable(t)},t.prototype.populateTable=function(t){return n=this,void 0,l=function(){var n,e;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(l){return this.updateLocationColumnHeader(),this.tableDataQueryParams=this.cropdemandService.getUrlParamsForTable(t,"1"),this.tableSpinner=!0,this.filteredTableData=[],(n=this.cropdemandService.getSampleTableData())&&n.length>0&&(e=this.cropdemandService.checkIsLastLevel(t),n=this.cropdemandService.preprocessTableDataForSummary(n,e),this.filteredTableData=n.slice(),this.updateHeaderConfiguration(this.tableDataQueryParams,!0)),this.tableSpinner=!1,[2]})},new((e=void 0)||(e=Promise))(function(t,a){function i(t){try{o(l.next(t))}catch(n){a(n)}}function r(t){try{o(l.throw(t))}catch(n){a(n)}}function o(n){n.done?t(n.value):new e(function(t){t(n.value)}).then(i,r)}o((l=l.apply(n,[])).next())});var n,e,l},t.prototype.updateHeaderConfiguration=function(t,n){var e=this,l=$({},this.columnConfig,{show:this.getSelectedCols()}),a=this.dataTableModule.getTableHeaderConfiguration(this.filteredTableData,"",l,n);a.forEach(function(n){if(null!=n.jsonKey&&null!=n.jsonKey.path){var l=n.jsonKey.path.split("##")[0];null!=e.columnConfig.properties&&null!=e.columnConfig.properties[l]&&null!=e.columnConfig.properties[l].stopAt&&(e.columnConfig.properties[l].stopAt!=t.cType&&t.cType!=v.m.LOCATION_CONSTANT.WATERSHED||(n.dataType="LOCATION_DISABLED"))}}),this.tableConfiguration=$({},this.dataTableModule.getTableMasterConfiguration({component:"Crop_Demand"}),this.tableConfig),this.tableConfiguration.tableInfo.title.text=this.utils.capitalize(this.tableChildLocType)+" Wise Crop Demand",this.tableConfiguration=$({},this.tableConfiguration,{columns:a})},t.prototype.getSelectedCols=function(){var t=[];for(var n in this.columnConfig.properties)this.columnConfig.properties[n].hideable||t.push(n);return this.selectedCols.forEach(function(n){t.push(n.item_text.toLowerCase())}),t},t.prototype.updateLocationColumnHeader=function(){var t=this.selectedParams;this.tableChildLocType="District",this.columnConfig.properties.name.displayAs="mandal"==this.tableChildLocType.toLowerCase()?"Block":this.utils.capitalize(this.tableChildLocType),this.columnConfig.properties.name.stopAt=t.loctype},t.prototype.getColsToDisplay=function(){var t=this,n=[];return this.columnConfig.show.forEach(function(e){if(t.columnConfig.properties[e].hideable){var l={item_id:t.columnConfig.show.indexOf(e),item_text:t.utils.capitalize(e),item_text_display:t.columnConfig.properties[e].displayAs};n.push(l)}}),n},t.prototype.getTableConfig=function(){this.tableConfig=this.cropdemandService.getTableConfig()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(C.b.COMPONENT.CROPDEMAND,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.cropdemandService.getPostDataForBreadCrumb(this.selectedParams);this.cropdemandTableSpinner=!0,this.cropdemandService.post(C.b.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.cropdemandTableSpinner=!1},function(n){t.cropdemandTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.prevpUUID=n.pUUID,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){},t.prototype.setStockChartPostData=function(){},t.prototype.setDonutChart=function(t){var n=this.cropdemandService.getPostDataForDonutCharts(t);this.getAndUpdateDonutChart(n)},t.prototype.getAndUpdateDonutChart=function(t){this.showDonutChart.showChart=!0,this.throbberForDonutChart=!0,this.chartOptions.donutChart.series=[];var n={strlables:["Rubber  Plastic & petro based","Engineering units","Agro based","Ready-made garments & embroidery","OTHERS"],data:[{data:[["Rubber  Plastic & petro based",2.732025],["Engineering units",2.7256375],["Agro based",2.4607935],["Ready-made garments & embroidery",2.2766875],["OTHERS",11.32695375]]}]};this.utils.isEmptyObj(n)||(this.chartOptions.donutChart=this.cropdemandService.preProcessDonutChartData(n,this.chartOptions.donutChart)),this.showDonutChart.renderChart=!0,this.throbberForDonutChart=!1},t.prototype.getTableData=function(){this.cropdemandService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams))),this.cropdemandTableSpinner=!0;var t=[{locUUID:"2851fa1e-0a7a-4257-bd4b-56f7f44d63bf",locName:"Tirunelveli",parentName:null,waterDemand:10,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:10},{locUUID:"b0ffa1ac-592f-47ff-8fed-c2a419579087",locName:"Pudukkottai",parentName:null,waterDemand:5,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:5},{locUUID:"2e628024-3969-42fc-bdbc-dc426c63176e",locName:"Tiruvallur",parentName:null,waterDemand:3,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"768c1563-730a-4060-8e8e-70d763d2d5b0",locName:"Virudhunagar",parentName:null,waterDemand:2,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"04b66e00-51df-4569-8a20-73e5fec18480",locName:"Karur",parentName:null,waterDemand:1,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"7418cfa2-6c97-4984-b1ef-8ae1a3b4010b",locName:"TheNilgiris",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"d5ad64ab-1c2e-49d4-a7c5-8c568126e3fd",locName:"Thoothukudi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"2d3f1d98-be3f-4af4-a8c2-42be3f93892e",locName:"Ramanathapuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"0a062167-2fdd-45f5-a3f7-de6223e6532b",locName:"Krishnagiri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"95c58d7f-5c9a-4448-9d6b-1a55356b3a1b",locName:"Tirupattur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"099b90e7-dca7-42d9-9c53-1b7b9fe9075c",locName:"Nagapattinam",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"fd7a00fc-a284-4478-868e-f942c7aadacd",locName:"Ranipet",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"92e1051a-c7cb-4ebc-8722-97e3e8f0ecb2",locName:"Kancheepuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"39174651-7420-4fd0-8f1b-af3a1d7177d5",locName:"Perambalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"70f2da31-929b-4977-8610-da37d3a3be73",locName:"Chengalpattu",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8c289400-6586-426b-9f03-ab7b15563d24",locName:"Namakkal",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"324cd1ba-361f-4134-bafc-b0dc32b13306",locName:"Thiruvannamalai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"db4bf4f5-58fd-483b-b441-e2dd9525b2b4",locName:"Kanniyakumari",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c72ed640-bd58-400d-a30e-6bddc3b05d35",locName:"Thanjavur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"5aa828d2-2c34-4b64-8b4a-a517e0c545a2",locName:"Mayiladuthurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"b9295424-8d20-4310-8b66-a0057e25d40d",locName:"Madurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8e5c976d-ba67-4e5c-8c58-79c67ebc6d60",locName:"Kallakurichi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"33074a09-7325-46bf-80c6-6d0df13f1d50",locName:"Dharmapuri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c0b90526-4902-457e-bad5-275b4d69a41f",locName:"Tiruppur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"244aaccb-c2e9-4191-8129-802b7152f1bf",locName:"Salem",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"bbee7054-c0e2-4cd2-9027-d620b0acca95",locName:"Dindigul",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"babce2e4-aad9-4f2f-966f-8022400b89bc",locName:"Tenkasi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"82bc2daa-a390-437c-b638-f2f06b29a92d",locName:"Tiruvarur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"281b90ca-c47c-40f8-8adc-a80c5a4d4a8d",locName:"Sivagangai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e4ee317d-bf23-465a-8d1f-a1b6640d82db",locName:"Cuddalore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e317d594-dd8e-408f-96ea-c84c96b980a8",locName:"Tiruchirapalli",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"22b3f04d-0cf4-4d0d-9b4d-44525687a00a",locName:"Erode",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"1ca98909-82ca-4f31-87c3-6d04e0d5c53b",locName:"Coimbatore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"06df62fc-f8dc-4961-b3a8-6f32f539910a",locName:"Ariyalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"479dc66b-c62f-4102-935b-d799901e61c3",locName:"Villupuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8801b0c2-0a9b-4189-875a-de0be55f3c52",locName:"Chennai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"161b1ce6-66a4-46c2-a4f7-e262f5a3b06f",locName:"Vellore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"012e915f-eab3-4235-be36-d6bb2374c9e8",locName:"Theni",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",locName:"TOTAL",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:null,domIndustry:null,domwaterDemand:null}];t&&t.length>0?this.tableData=this.cropdemandService.preprocessTableData(t):this.showErrorMsgForTable=!0,this.cropdemandTableSpinner=!1,this.updateTableConfiguration()},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==C.b.LOCATION_LEVEL.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams.cType;t=this.utils.capitalize(t),this.columnConfig.properties.locname.displayAs=t;var n=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);n&&n.length>0&&(n[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),n.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=$({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=$({},this.tableConfiguration,{columns:n})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){this.cropdemandService.getPostDataForKPI(this.selectedParams),this.infoboxSummarySpinner=!0;var t={"Micro and Small":21.522097249999998,DEMAND:21.522097249999998};t&&(this.kpi=this.cropdemandService.preProcessKPIData(t,this.kpi)),this.infoboxSummarySpinner=!1},t}(),Z=e("RVfK"),tt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},nt=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},et=function(){function t(t,n,e){this.utils=t,this.utilsService=n,this.cropdemandService=e,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.seasonYearList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},format:Z.b.DATEPICKER_DATE_FORMAT.YEAR,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},aggreType:{},location:{},dashboardView:"state",year:{},seasonType:{},component:C.b.COMPONENT.CROPDEMAND},this.isInitialLoad=!1,this.aggregationTypeList=[],this.heatMapList=[],this.seasonArray=new Array,this.stationFilterList=new Array,this.telementryfilter="All",this.viewType=C.b.VIEWS}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.cropdemandService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.cropdemandService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=C.b.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return tt(this,void 0,void 0,function(){var t;return nt(this,function(n){return this.mapLoaderActive=!0,t=[{key:"STATE_STATIONS",value:"State Stations",locUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",locType:"COUNTRY",locName:"INDIA",agencyUUID:"69ad1c38-de10-11ea-87d0-0242ac130003",hasStation:!1,minmax:{MIN:"20201201",MAX:"20201231"},current:null,historical:null,displayNames:null}],this.mapLoaderActive=!1,t&&t.length>0&&(this.sourceList=t,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]})})},t.prototype.getDates=function(){this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.YEAR,this.setMinMaxDates(),this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),this.maxDate=this.maxDate.getTime()>(new Date).getTime()?new Date:this.maxDate,this.setYearList()},t.prototype.setYearList=function(){var t=this.maxDate.getFullYear(),n=this.minDate.getFullYear();this.yearList=[];for(var e=t;e>=n;e--)this.yearList.push({key:e,value:e})},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates(),(this.selectedFilterParams.year.key<this.minDate.getFullYear()||this.selectedFilterParams.year.key>this.maxDate.getFullYear())&&this.setWaterYear()},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t},t.prototype.onYearChange=function(){this.isYearChanged=!0,this.setWaterYear()},t.prototype.setWaterYear=function(){this.selectedFilterParams.year=null,this.selectedFilterParams.year=this.yearList[0]||null},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[5]=!this.utils.isEmptyObj(this.selectedFilterParams.year);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=v.m.COMPONENT.CROPDEMAND,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=C.b.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.year=this.selectedFilterParams.year.key,n.sDate=this.selectedFilterParams.year.key,n.eDate=this.selectedFilterParams.year.key,n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){this.cropdemandService.getPostDataForLocTypes(t);var n=[];n=t.view==v.m.VIEWS.ADMIN?["STATE","DISTRICT","MANDAL"]:["STATE","BASIN","SUBBASIN"],t.location.NAME==C.b.LOCATION_LEVEL.GODAVARI&&(n=this.updateColumns(n,[C.b.LOCATION_LEVEL.STATE])),this.isInitialLoad&&(t.cType=this.utils.getChildTypeForGivenParentType(t.pType,n),t.location.NAME==C.b.LOCATION_LEVEL.GODAVARI&&(t.cType=C.b.LOCATION_LEVEL.BASIN),this.isInitialLoad=!1),t.locationTypeList=n,this.checkAndUpdateLocation(t)},t.prototype.checkAndUpdateLocation=function(t){return tt(this,void 0,void 0,function(){var n,e,l,a,i;return nt(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.cropdemandService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.cropdemandService.post(C.b.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t}(),lt=function(){function t(t,n){this.route=t,this.cropdemandMapService=n,this.sidebarComponent=et,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:f.a,functionName:"getSrcWiseLayers",stationHighlightFunctionName:"setStationHighlightLayer",changeLegendOnZoom:"manageLegend"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Q,this.cropdemandHeatMapSpinner=this.cropdemandMapService.cropdemandHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),at=e("Gy67"),it=e("AnS/"),rt=e("ocs2"),ot={chartId:"RAINFALLGISCOMMONWRIS",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{labelsAlignment:"left",unitAsTitle:!1,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{normal:{id:"normal",title:"Normal Rainfall",chartType:"spline",additionalPostParams:"all",unit:"mm",rendererConfig:{chartType:"spline",chartColor:"#FFB900",renderer:"primary",visible:!0,zIndex:999},apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"NORMAL.rl",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterForActual",formatter:function(t){return t}}}},greaterNormal:{id:"greaterNormal",title:"Actual (> Normal)",chartType:"column",additionalPostParams:"all",unit:"mm",apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"greaterNormal",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"column",chartColor:"#2D99FF",renderer:"primary",visible:!0}},lessNormal:{id:"lessNormal",title:"Actual (< Normal)",chartType:"column",additionalPostParams:"all",unit:"mm",apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"lessNormal",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"column",chartColor:"#FF6C40",renderer:"primary",visible:!0}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},st={chartId:"SOILMOISTUREGISCOMMONWRIS",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{labelsAlignment:"left",unitAsTitle:!1,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{asmPerc:{id:"asmPerc",title:"Available Soil Moisture (%)",chartType:"column",additionalPostParams:"all",unit:"%",rendererConfig:{chartType:"spline",chartColor:"#FFB900",renderer:"primary",visible:!0,zIndex:999},apiConfig:{apiId:"soilmoisture",apiKeyName:"SOILMOISTURE_CHART_API",method:"post",titleField:"asmPerc",keyField:"objectKey",postData:{}}},vsmPerc:{id:"vsmPerc",title:"Volumetric Soil Moisture (%)",chartType:"column",additionalPostParams:"all",unit:"%",apiConfig:{apiId:"soilmoisture",apiKeyName:"SOILMOISTURE_CHART_API",method:"post",titleField:"vsmPerc",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"column",chartColor:"#2D99FF",renderer:"primary",visible:!0}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},ut={chartId:"MITANKSGISCOMMONWRIS",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{unitAsTitle:!0,showApplicationAsTitle:!0,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"},plotLineConfig:[{id:"capacity",title:"Capacity",showInLegend:!0,renderer:"primary",unit:"MCFT",formatter:{functionName:"getCapacityValueForMiTanks",paramObject:{}},color:"red"},{id:"maxArea",title:"Max WSA",showInLegend:!0,renderer:"primary",unit:" km\xb2 ",formatter:{functionName:"getAreaValueForMiTanks",paramObject:{}},color:"yellow"}]}},filterConfig:[],applicationConfig:{"Current Water Spread Area":{id:"Current Water Spread Area",title:"Water Spread Area",chartType:"column",additionalPostParams:"all",unit:" km\xb2 ",rendererConfig:{chartType:"spline",chartColor:"#0ced3d",renderer:"primary",visible:!0,zIndex:999},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"Current Water Spread Area",keyField:"objectKey",postData:{}}},"Current Storage":{id:"Current Storage",title:"Calculated Volume",chartType:"column",additionalPostParams:"all",unit:"MCFT",rendererConfig:{chartType:"column",chartColor:"#2D99FF",renderer:"primary",visible:!0},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"Current Storage",keyField:"objectKey",postData:{}}},"Last Year Storage":{id:"Last Year Storage",title:"Last Year Storage",chartType:"column",additionalPostParams:"all",unit:"MCFT",rendererConfig:{chartType:"column",chartColor:"#FF6C40",renderer:"primary",visible:!0},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"Last Year Storage",keyField:"objectKey",postData:{}}},"Last 10 Year Average Storage":{id:"Last 10 Year Average Storage",title:"Last 10 Year Average Storage",chartType:"column",additionalPostParams:"all",unit:"MCFT",rendererConfig:{chartType:"column",chartColor:"#FFB900",renderer:"primary",visible:!0},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"Last 10 Year Average Storage",keyField:"objectKey",postData:{}}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},ct={chartId:"MITANKSGISCOMMONWRISSENTIAL",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{labelsAlignment:"left",unitAsTitle:!0,showApplicationAsTitle:!0,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{"Current Storage":{id:"Current Storage",title:"Calculated Volume",chartType:"spline",additionalPostParams:"all",unit:"MCFT",rendererConfig:{chartType:"spline",chartColor:"#2D99FF",renderer:"primary",visible:!0},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"Current Storage",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterForMiTanksSentinal",formatter:function(t){return t},paramObject:{}}}},empty:{id:"Remaining Storage Capacity",title:"Remaining Storage Capacity",chartType:"spline",additionalPostParams:"all",unit:"MCFT",rendererConfig:{chartType:"spline",chartColor:"#FF6C40",renderer:"primary",visible:!0},apiConfig:{apiId:"mitanks",apiKeyName:"MITANKS_CHART_API",method:"post",titleField:"empty",keyField:"objectKey",postData:{}}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},ht={chartId:"GROUNDWATERCOMMONWRIS",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{unitAsTitle:!1,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{GW:{id:"GW",title:"Groundwater Level (m)",chartType:"spline",additionalPostParams:"all",unit:"m",unitConversion:!0,invertAxis:!0,apiConfig:{apiId:"groundwater",apiKeyName:"GROUNDWATER_CHART_API",method:"post",titleField:"GW.currentLevel",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"spline",chartColor:"#fff44f",renderer:"primary",visible:!0,zIndex:10}},normal:{id:"normal",title:"Normal",chartType:"spline",additionalPostParams:"all",unit:"mm",rendererConfig:{chartType:"spline",chartColor:"#FFB900",renderer:"primary",visible:!0,onLoadVisible:!1,zIndex:999},apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"NORMAL.rl",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterForActual",formatter:function(t){return t}}}},greaterNormal:{id:"greaterNormal",title:"Actual (> Normal)",chartType:"column",additionalPostParams:"all",unit:"mm",apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"greaterNormal",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"column",chartColor:"#2D99FF",renderer:"primary",visible:!0}},lessNormal:{id:"lessNormal",title:"Actual (< Normal)",chartType:"column",additionalPostParams:"all",unit:"mm",apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"lessNormal",keyField:"objectKey",postData:{}},rendererConfig:{chartType:"column",chartColor:"#FF6C40",renderer:"primary",visible:!0}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{locuuid:"pUUID",loctype:"lType",seasonType:"format",seasonYear:"sDate"}}},dt={chartId:"RESERVOIRGISCOMMONWRIS",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{showApplicationAsTitle:!0,unitAsTitle:!0,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{actual:{id:"actual",title:"Rainfall",chartType:"spline",additionalPostParams:"all",unit:"mm",unitConversion:!0,rendererConfig:{chartType:"spline",chartColor:"#FFB900",renderer:"primary",visible:!0,zIndex:999},apiConfig:{apiId:"rainfall",apiKeyName:"RAINFALL_CHART_API",method:"post",titleField:"ACTUAL.rl",keyField:"objectKey",postData:{}}},ST:{id:"ST",title:"Current Storage",chartType:"column",additionalPostParams:"all",unit:"MCFT",unitConversion:!0,rendererConfig:{chartType:"column",chartColor:"#FF6C40",renderer:"primary",visible:!0},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"ST.st",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterReservoir",formatter:function(t){return t}}}},LTY:{id:"LTY",title:"Last 10 Years Storage",chartType:"column",additionalPostParams:"all",unit:"MCFT",unitConversion:!0,rendererConfig:{chartType:"column",chartColor:"#2D99FF",renderer:"primary",visible:!0,onLoadVisible:!1},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"LTY.st",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterForReservoir",formatter:function(t){return t}}}},LY:{id:"LY",title:"Last Year Storage",chartType:"column",additionalPostParams:"all",unit:"MCFT",unitConversion:!0,rendererConfig:{chartType:"column",chartColor:"#00B103",renderer:"primary",visible:!0,onLoadVisible:!1},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"LY.st",keyField:"objectKey",postData:{},dataFormatter:{functionName:"dataFormatterForReservoir",formatter:function(t){return t}}}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},pt={chartId:"RESERVOIRGISCOMMONWRISRESERVOIRLEVEL",kickStartRequired:[],chartOptions:{navigator:!0,indicators:!1,secondaryChart:!1,labels:!1,connectNulls:!0,hideDataGaps:!0,rangeSelector:!1,scrollbar:!1,yAxis:{labelsAlignment:"left",showApplicationAsTitle:!0,unitAsTitle:!0,unitsBesideLabel:!1,labelsFormatter:{functionName:"formatNumber"}}},filterConfig:[],applicationConfig:{ST:{id:"ST",title:"Current Level",chartType:"column",additionalPostParams:"all",unit:"m",unitConversion:!0,rendererConfig:{chartType:"spline",chartColor:"#FF8F6D",renderer:"primary",visible:!0},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"ST.lv",keyField:"objectKey",postData:{},dataFormatter:{}}},LTY:{id:"LTY",title:"Last 10 Years Level",chartType:"column",additionalPostParams:"all",unit:"m",unitConversion:!0,rendererConfig:{chartType:"spline",chartColor:"#FFE700",renderer:"primary",visible:!0,onLoadVisible:!1},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"LTY.lv",keyField:"objectKey",postData:{},dataFormatter:{}}},LY:{id:"LY",title:"Last Year Level",chartType:"column",additionalPostParams:"all",unit:"m",unitConversion:!0,rendererConfig:{chartType:"spline",chartColor:"#2CD9C5",renderer:"primary",visible:!0,onLoadVisible:!1},apiConfig:{apiId:"reservoir",apiKeyName:"RESERVOIRS_CHART_API",method:"post",titleField:"LY.lv",keyField:"objectKey",postData:{},dataFormatter:{}}}},applicationAdditionalParams:{},routerConfig:{routeChangeInvoke:!1,paramMap:{}}},gt=function(){return(gt=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},mt=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.rainfallActualDataService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.isLastLevel=!1,this.columnConfig=this.rainfallActualDataService.getColumnConfig(),this.tableConfig=this.rainfallActualDataService.getTableConfig(),this.tableNameForDownload="rainfallTable",this.inputForBreadcrumb=[],this.kpi={al:null,nl:null,dl:null,sc:null},this.stockChartConfig=JSON.parse(JSON.stringify(ot)),this.showStockChart=!1,this.showErrorMsgForTable=!1}return t.prototype.ngOnInit=function(){this.rainfallTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=it.c.COMPONENT.RAINFALL||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.showErrorMsgForTable=!1,this.rainfallTableSpinner=!0,this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.inputForBreadcrumb=[],this.tableData=[],this.isStation=!1,this.isLastLevel=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.setStockChart(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(it.c.COMPONENT.RAINFALL,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.rainfallActualDataService.getPostDataForBreadCrumb(this.selectedParams);this.rainfallTableSpinner=!0,this.rainfallActualDataService.post(it.c.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.rainfallTableSpinner=!1},function(n){t.rainfallTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;console.log("\n In handleEventFromBreadcrumb \n",t),t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){var t=this;setTimeout(function(){t.setStockChartPostData(),t.showStockChart=!0},100)},t.prototype.setStockChartPostData=function(){this.stockChartConfig.applicationConfig.normal.apiConfig.postData=this.rainfallActualDataService.getPostDataForTable(this.selectedParams)},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.isLastLevel=!1,this.getTableData()):(this.selectedParams.pType==it.a.RAINFALL?this.isStation=!0:this.isLastLevel=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.rainfallActualDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rainfallTableSpinner=!0,this.rainfallActualDataService.post(it.c.API_MAPPING.TABLE,n).subscribe(function(e){if(e&&e.length>0){var l=[];if(l=t.updateColumnConfig(l="IMD_GRID"==n.src||"GPM_GRID"==n.src?["nm","uid","al","nl","dl","rdays"]:["nm","uid","sc","al","nl","dl","rdays"]),t.tableData=t.rainfallActualDataService.preprocessTableData(e,l),n&&"DISTRICT"===n.cType&&"STATE"===n.pType){var a=t.utilsService.getSortedListofDistrictsOfTamilnadu(t.tableData,"nm");t.utilsService.setNewsBulletinData(t.rainfallActualDataService.getBulletinData(a,n))}}else t.showErrorMsgForTable=!0;t.columnsTemplateMap={dl:t.deviationTemplate},console.log("columnsTemplateMap : ",t.columnsTemplateMap),t.updateTableConfiguration(),t.rainfallTableSpinner=!1},function(n){console.log("\n Error In Fetching Data ",n),t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.updateColumnConfig=function(t){if(void 0===t&&(t=[]),this.selectedParams.cType==it.c.COMPONENT.RAINFALL){var n=t.indexOf("sc");-1!=n&&t.splice(n,1)}return t},t.prototype.getLastLevelTableData=function(){var t=this,n=this.rainfallActualDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rainfallTableSpinner=!0,this.rainfallActualDataService.post(it.c.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=n[0]:t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==it.a.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams.cType;t==it.c.COMPONENT.RAINFALL&&(t=it.a.STATION),this.columnConfig.properties.nm.displayAs=this.utils.capitalize(t);var n=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);n&&n.length>0&&(n[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),n.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=gt({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=gt({},this.tableConfiguration,{columns:n})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.rainfallActualDataService.getPostDataForKPI(this.selectedParams);this.infoboxSummarySpinner=!0,this.rainfallActualDataService.post(it.c.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.rainfallActualDataService.preProcessKPIData(n,t.kpi)),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t}(),bt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},ft=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},yt=function(){function t(t,n,e,l,a){this.utils=t,this.utilsService=n,this.rfService=e,this.router=l,this.visibilityUtils=a,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.sourceList=[],this.aggregationTypeList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},aggreType:null,view:null,location:{},dashboardView:"state",heatMap:{},component:it.c.COMPONENT.RAINFALL},this.isInitialLoad=!1,this.isForecast=!1,this.isNowCast=!1,this.isSourceChanged=!1,this.dateType=Z.b.DATEPICKER_DATE_FORMAT,this.viewType=it.c.VIEWS,this.currentView=!1}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.setAggregationTypeList(),this.getAndSetSource()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.rfService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.getAndSetLocationList=function(){this.locationList=this.rfService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.rfService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=it.c.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.onViewChange=function(){var t;t=this.currentView?"BASIN":"ADMIN",this.isInitialLoad=!0,this.selectedFilterParams.view=t,this.requestHeatMap()},t.prototype.setAggregationTypeList=function(){this.aggregationTypeList=this.rfService.getAggregationTypeList(),this.selectedFilterParams.aggreType=this.aggregationTypeList[0]},t.prototype.getAndSetSource=function(){return bt(this,void 0,void 0,function(){var t,n,e,l,a,i;return ft(this,function(r){switch(r.label){case 0:return this.mapLoaderActive=!0,[4,this.rfService.get(it.c.API_MAPPING.SOURCE,it.c.COMPONENT.RAINFALL+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:for(t=r.sent(),n=[],e=function(e){t.forEach(function(t){t.key==e&&n.push(t)})},l=0,a=[v.m.SOURCES.IMD_GRID,v.m.SOURCES.IMD_STATIONS,v.m.SOURCES.STATE_STATIONS,v.m.SOURCES.GPM_GRID];l<a.length;l++)e(a[l]);return t=this.visibilityUtils.updateSourceList(t=n),i=t,this.mapLoaderActive=!1,i&&i.length>0&&(i=this.updateSourceList(i),this.sourceList=i,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.updateSourceList=function(t){void 0===t&&(t=[]);var n=t.findIndex(function(t){return"STATE_STATIONS"==t.key});-1!=n&&(this.selectedFilterParams.location.NAME==it.a.GODAVARI?t.splice(n,1):t[n].value="TNSMART");var e=t.findIndex(function(t){return t.key==v.m.SOURCES.STATE_AND_CENTRAL_STATIONS});return-1!=e&&t.splice(e,1),t},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format))),this.validation[4]=!this.utils.isEmptyObj(this.selectedFilterParams.aggreType);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=it.c.COMPONENT.RAINFALL,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=it.c.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.aggr=this.selectedFilterParams.aggreType.key,n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(console.log("this.selectedFilterParams",this.selectedFilterParams),console.log("currentUrlParams['view']",n.view),n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.rfService.getPostDataForLocTypes(t),l=[];this.rfService.post(it.c.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==it.a.GODAVARI&&(l=n.updateColumns(l,[it.a.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return bt(this,void 0,void 0,function(){var n,e,l,a,i;return ft(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.rfService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.rfService.post(it.c.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t.prototype.setForecastStatus=function(t){this.isForecast=t,this.router.navigate(1==this.isForecast?["tamilnadu/extremeweather/rainfall/24/tn"]:["tamilnadu/visibility/waterSupply/rainfall"])},t}(),vt=e("A4o3"),Ct=function(){function t(t,n){this.route=t,this.rainfallService=n,this.sidebarComponent=yt,this.layerList=[],this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:vt.a,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange",sensorLayerFunctionName:"getRainfallSensorLayer",stationHighlightFunctionName:"setStationHighlightLayer",stationLayer:"getStationLayer"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=mt,this.rainfallHeatMapSpinner=this.rainfallService.rainfallHeatMapSpinner}return t.prototype.ngOnInit=function(){},t}(),St=e("bDm4"),Mt=e("cDaN"),_t=function(){return(_t=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Lt=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.gwDataService=e,this.dataTableModule=l,this.gisutils=a,this.visibilityService=i,this.isStation=!1,this.isLastLevel=!1,this.columnConfig=this.gwDataService.getColumnConfig(),this.tableConfig=this.gwDataService.getTableConfig(),this.tableNameForDownload="rainfallTable",this.inputForBreadcrumb=[],this.constants=v.m,this.showErrorMsgForTable=!1,this.kpi={tns:null,nms:null,dtwl:null,csly:null,css:null},this.kpiTitle={csly:null,css:null},this.stockChartConfig=JSON.parse(JSON.stringify(ht)),this.showStockChart=!1,this.chart={visibility:{showChart:!1,renderChart:!1},chartOptions:this.gwDataService.getStackChartConfig()},this.throbbarForChart=!1}return t.prototype.ngOnInit=function(){this.rainfallTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.gisutils.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utilsService.isEmptyObj(t.selectedParams)||t.selectedParams.component!=St.a.COMPONENT.GROUNDWATER||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.showErrorMsgForTable=!1,this.rainfallTableSpinner=!0,this.kpi)this.kpi[t]=null;for(var t in this.kpiTitle)this.kpiTitle[t]=null;this.showStockChart=!1,this.inputForBreadcrumb=[],this.tableData=[],this.isStation=!1,this.isLastLevel=!1,this.chart.chartOptions.series=[]},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.getAndSetChart(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityService.getTitleForComponent(St.a.COMPONENT.GROUNDWATER,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.gwDataService.getPostDataForBreadCrumb(this.selectedParams);this.rainfallTableSpinner=!0,this.gwDataService.post(St.a.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.rainfallTableSpinner=!1},function(n){t.rainfallTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.gisutils.setSelectedParams(n))},t.prototype.getAndSetChart=function(){return t=this,void 0,e=function(){var t,n=this;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(e){switch(e.label){case 0:return this.throbbarForChart=!0,this.chart.visibility.showChart=!0,this.chart.visibility.renderChart=!1,[4,this.getPostDataAndUrlForCharts()];case 1:return t=e.sent(),this.gwDataService.getDataFromMultipleRequests(t.urlMapping,t.postDataArr).subscribe(function(t){t&&t.length>0&&n.gwDataService.preProcessChart(n.chart.chartOptions,t,n.selectedParams),n.throbbarForChart=!1,setTimeout(function(){n.chart.visibility.renderChart=!0},1)},function(t){n.throbbarForChart=!1,n.chart.visibility.renderChart=!0}),[2]}})},new((n=void 0)||(n=Promise))(function(l,a){function i(t){try{o(e.next(t))}catch(n){a(n)}}function r(t){try{o(e.throw(t))}catch(n){a(n)}}function o(t){t.done?l(t.value):new n(function(n){n(t.value)}).then(i,r)}o((e=e.apply(t,[])).next())});var t,n,e},t.prototype.getPostDataAndUrlForCharts=function(){var t=this,n={postDataArr:[],urlMapping:[]};return new Promise(function(e,l){var a=t.gwDataService.getPostDataForChart(t.selectedParams);n.postDataArr.push(a),n.urlMapping.push(St.a.API_MAPPING.CHART);var i=t.getPostDataForTable(t.selectedParams);i.src=v.m.SOURCES.IMD_GRID,i.maxSeasonReq=8,n.postDataArr.push(i),n.urlMapping.push(St.a.RF_API_MAPPING.CHART),e(n)})},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=St.a.LOCATION_LEVEL.GROUNDWATER&&this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.isLastLevel=!1,this.getTableData()):(this.selectedParams.pType==St.a.LOCATION_LEVEL.GROUNDWATER?this.isStation=!0:this.isLastLevel=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.gwDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rainfallTableSpinner=!0,this.gwDataService.post(St.a.API_MAPPING.TABLE,n).subscribe(function(e){var l;if(e&&e.length>0){if(l=t.updateColumnConfig(),t.tableData=t.gwDataService.preprocessTableData(e,l),n&&"DISTRICT"===n.cType&&"STATE"===n.pType&&"TNPWD"===n.src){var a=t.gisutils.getSortedListofDistrictsOfTamilnadu(t.tableData,"name");t.gisutils.setNewsBulletinData(t.gwDataService.getBulletinData(a,n))}}else t.showErrorMsgForTable=!0;t.updateTableConfiguration(),t.rainfallTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.updateColumnConfig=function(){var t=[];return this.selectedParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON?(t=["name","uuid","nst","currentLevel","changeSinceWaterYear","changeSinceLastYear"],"AVG"==this.selectedParams.aggr&&(t=["name","uuid","nst","averageLevel","avgChangeSinceWaterYear","avgChangeSinceLastYear"]),this.selectedParams.season&&"season2"==this.selectedParams.season.key&&(t=this.updateColumns(t,["avgChangeSinceWaterYear","changeSinceWaterYear"])),this.selectedParams.cType==St.a.LOCATION_LEVEL.GROUNDWATER&&(t=this.updateColumns(t,["nst","noOfStations"]))):(t=["name","uuid","nst","currentLevel"],"TNPWD"==this.selectedParams.src&&(t=["name","uuid","currentLevel"]),this.selectedParams.cType==St.a.LOCATION_LEVEL.GROUNDWATER?t=this.updateColumns(t,["nst"]):this.columnConfig.properties.nst.displayAs="No. of Stations","AVG"==this.selectedParams.aggr&&(t=this.updateColumns(t,["currentLevel"])).push("averageLevel")),t},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLastLevelTableData=function(){var t=this,n=this.gwDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rainfallTableSpinner=!0,this.gwDataService.post(St.a.API_MAPPING.TABLE,n).subscribe(function(n){if(n&&n.length>0){t.tableData=n[0];var e="currentLevel";"AVG"==t.selectedParams.aggr&&(e="averageLevel"),t.tableData.level=t.tableData[e]}else t.showErrorMsgForTable=!0;t.rainfallTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==St.a.LOCATION_LEVEL.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.gisutils.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams.cType;n==St.a.COMPONENT.GROUNDWATER&&(n=St.a.LOCATION_LEVEL.STATION),this.columnConfig.properties.name.displayAs=this.utilsService.capitalize(n);var e=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);e&&e.length>0&&e.forEach(function(n){if(null!=n.jsonKey&&null!=n.jsonKey.path){var e=n.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[e]&&null!=t.columnConfig.properties[e].stopAt&&("TNPWD"==t.selectedParams.src?(console.log(n.dataType),n.dataType="LOCATION_DISABLED"):(console.log("INSIDE ELSE"),n.dataType="LOCATION$LOCATION_DISABLED"))}}),this.tableConfiguration=_t({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=_t({},this.tableConfiguration,{columns:e})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.gisutils.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.gwDataService.getPostDataForKPI(this.selectedParams);this.infoboxSummarySpinner=!0,this.gwDataService.post(St.a.API_MAPPING.KPI,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.gwDataService.preProcessKPIData(n,t.kpi,t.selectedParams)),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t.prototype.updateKPITitle=function(){if(this.selectedParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON){var t=Number(this.selectedParams.sDate),n=t-1;this.kpiTitle.csly=this.selectedParams.season.value+" ("+n+")",this.kpiTitle.css=this.selectedParams.season&&"season1"==this.selectedParams.season.key?"Apr-Jun ("+n+")":"Apr-Jun ("+t+")"}},t.prototype.getPostDataForTable=function(t){var n={eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,classification:["ACTUAL","NORMAL","DEVIATION"],src:t.src,aggr:t.aggr,includeAllLoc:!0};return t.location&&t.location.NAME==St.a.LOCATION_LEVEL.TAMILNADU&&t.pType==St.a.LOCATION_LEVEL.RAINFALL&&(n.pEUUID="a9a6494f-eaf0-44ca-a2d9-b8f2aad20fc1"),n},t}(),Ot=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},At=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Tt=function(){function t(t,n,e,l,a){this.gisUtils=t,this.utilsService=n,this.groundwaterService=e,this.groundwaterDataService=l,this.visibilityUtils=a,this.validation=new Array(10).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},aggreType:{},location:{},dashboardView:"state",seasonYear:{},seasonType:{},component:St.a.COMPONENT.GROUNDWATER},this.isInitialLoad=!1,this.isSourceChanged=!1,this.seasonTypeList=[],this.seasonYearList=[],this.aggregationTypeList=[],this.heatMapList=[],this.seasonArray=new Array,this.stationFilterList=new Array,this.telementryfilter="All"}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.gisUtils.getSelectedParams().subscribe(function(n){t.utilsService.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getSeasonTypeList(),this.setAggregationTypeList(),this.getAndSetHeatMapList(),this.getAndSetSource()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.groundwaterDataService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.isValid()&&this.gisUtils.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.getSeasonTypeList=function(){this.seasonTypeList=this.visibilityUtils.getseasonlist("GROUNDWATER")},t.prototype.getAndSetLocationList=function(){this.locationList=this.groundwaterDataService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.groundwaterDataService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=St.a.VIEWS.ADMIN},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.setAggregationTypeList=function(){this.aggregationTypeList=this.groundwaterDataService.getAggregationTypeList(),this.selectedFilterParams.aggreType=this.aggregationTypeList[0]},t.prototype.getAndSetSource=function(){return Ot(this,void 0,void 0,function(){var t,n,e;return At(this,function(l){switch(l.label){case 0:return this.mapLoaderActive=!0,[4,this.groundwaterService.get(St.a.API_MAPPING.SOURCE,St.a.COMPONENT.GROUNDWATER+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=l.sent(),t=this.visibilityUtils.updateSourceList(t),-1!=(n=t.findIndex(function(t){return t.key==v.m.SOURCES.STATE_AND_CENTRAL_STATIONS}))&&t.splice(n,1),this.selectedFilterParams.location.NAME.toUpperCase()==v.m.LOCATIONS.GODAVARI&&-1!=(n=t.findIndex(function(t){return t.key==v.m.SOURCES.TNPWD}))&&t.splice(n,1),t.findIndex(function(t){return t.key==v.m.SOURCES.TNPWD}),e=t,this.mapLoaderActive=!1,e&&e.length>0&&(this.sourceList=e,this.selectedFilterParams.source=this.sourceList[1],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.selectedFilterParams.format=v.m.DATEPICKER_DATE_FORMAT.MONTH,this.checkAndSetHeatMap(),this.setMinMaxDates();var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.setMinMaxDates=function(){this.minDate=this.utilsService.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utilsService.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),this.maxDate=this.maxDate.getTime()>(new Date).getTime()?new Date:this.maxDate,this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON&&this.setSeasonYearList(),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.setSeasonYearList=function(){var t=this.maxDate.getFullYear(),n=this.minDate.getFullYear();this.seasonYearList=[];for(var e=t;e>=n;e--)this.seasonYearList.push({key:e,value:e})},t.prototype.setWaterYearForSeason=function(){this.selectedFilterParams.seasonYear=null,this.selectedFilterParams.seasonType={},this.selectedFilterParams.seasonYear=this.seasonYearList[0],this.selectedFilterParams.seasonYear&&this.setSeasonTypeList(!0)},t.prototype.setSeasonTypeList=function(t){if(void 0===t&&(t=!1),this.seasonTypeList=this.groundwaterDataService.showSeasonTypeForAvailableData(this.minDate,this.maxDate,this.selectedFilterParams.seasonYear,this.seasonTypeList),t)for(var n=this.seasonTypeList.length-1;n>=0;n--)if(1==this.seasonTypeList[n].show){this.selectedFilterParams.seasonType=this.seasonTypeList[n];break}},t.prototype.onSourceChange=function(){var t=this;if(this.isSourceChanged=!0,this.setMinMaxDates(),this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON)if(this.selectedFilterParams.seasonYear.key<this.minDate.getFullYear()||this.selectedFilterParams.seasonYear.key>this.maxDate.getFullYear())this.setWaterYearForSeason();else{var n=this.seasonYearList.findIndex(function(n){return n.key==t.selectedFilterParams.seasonYear.key});-1==n&&(n=0),this.selectedFilterParams.seasonYear=this.seasonYearList[n],this.setSeasonTypeList(!0)}else{var e=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);e.sDate!=this.selectedFilterParams.sDate.value&&e.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=e.sDate,this.selectedFilterParams.eDate.value=e.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=e.sDate,this.selectedFilterParams.eDate.value=e.eDate)}},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate,this.isInitialLoad&&this.requestHeatMap()},t.prototype.onYearChange=function(){this.setSeasonTypeList(!0)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.selectedFilterParams.seasonYear={},this.selectedFilterParams.seasonType={},this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON&&(this.setSeasonYearList(),this.setWaterYearForSeason()),this.checkAndSetHeatMap(),this.setMinMaxDates()},t.prototype.checkAndSetHeatMap=function(){if(this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON)this.updateHeatMapList(!1);else{if("ACTUAL"!=this.selectedFilterParams.heatMap.key){var t=this.heatMapList.findIndex(function(t){return"ACTUAL"==t.key});t>-1&&(this.selectedFilterParams.heatMap=this.heatMapList[t])}this.updateHeatMapList(!0)}},t.prototype.updateHeatMapList=function(t){for(var n=this.groundwaterDataService.getFluctuationHeatMapKeysList(),e=function(n){var e=l.heatMapList.findIndex(function(t){return t.key==n});e>-1&&(l.heatMapList[e].isDisabled=t)},l=this,a=0,i=n;a<i.length;a++)e(i[a])},t.prototype.isValid=function(){var t=!0;this.validation[0]=!this.utilsService.isEmptyObj(this.selectedFilterParams.source),this.validation[6]=!this.utilsService.isEmptyObj(this.selectedFilterParams.aggreType),this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON?(this.validation[4]=!this.utilsService.isEmptyObj(this.selectedFilterParams.seasonYear),this.validation[5]=!this.utilsService.isEmptyObj(this.selectedFilterParams.seasonType)):(this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format))));for(var n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=St.a.COMPONENT.GROUNDWATER,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,this.selectedFilterParams.format==v.m.DATEPICKER_DATE_FORMAT.SEASON?(n.sDate=this.selectedFilterParams.seasonYear.key,n.eDate=n.sDate,n.season=this.selectedFilterParams.seasonType,n.timeStep=this.selectedFilterParams.seasonType.key):(n.sDate=this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.timeStep=St.a.TIME_STEP_MAPPING[this.selectedFilterParams.format]),n.view=this.selectedFilterParams.view;var e=this.utilsService.getModelDateFromDate(this.minDate),l=this.utilsService.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.aggr=this.selectedFilterParams.aggreType.key,n.heatMap=this.selectedFilterParams.heatMap,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.groundwaterDataService.getPostDataForLocTypes(t),l=[];this.groundwaterService.post(St.a.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==St.a.LOCATION_LEVEL.GODAVARI&&(l=n.updateColumns(l,[St.a.LOCATION_LEVEL.STATE])),n.isInitialLoad&&(t.cType=n.utilsService.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.gisUtils.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return Ot(this,void 0,void 0,function(){var n,e,l,a,i;return At(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.groundwaterDataService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.groundwaterService.post(St.a.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.gisUtils.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.gisUtils.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.gisUtils.setVisibilitySidebarMenuStatus(!1)},t}(),Dt=e("dup0"),Pt=function(){return(Pt=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},xt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},wt=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},kt=function(){function t(t,n,e){this.groundWaterDataService=t,this.gisUtils=n,this.visibilityServ=e,this.url=U.a.url,this.stationColorMapping={},this.labelStrings=[]}return t.prototype.getSrcWiseLayers=function(t){return xt(this,void 0,void 0,function(){var n,e,l,a,i;return wt(this,function(r){switch(r.label){case 0:if(t.spinner=!0,(n=t.params).component!=v.m.COMPONENT.GROUNDWATER)return[3,2];for(l in e=[],Dt.a.GW_LAYERLIST2[n.dashboardView])(a=Dt.a.GW_LAYERLIST2[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);if(this.addSrcWiseWMSLayers(e,t,n),"filter"!=n.actionType||n.component!=v.m.COMPONENT.GROUNDWATER)return[3,2];for(l in Dt.a.GW_LAYERLIST2[v.m.VIEWS.ALL])e[l]=a=Dt.a.GW_LAYERLIST2[v.m.VIEWS.ALL][l];return this.layerList=e,this.addSrcWiseHeatmapLayers(e,t,n),i=this,[4,this.getGWStationsColorMapping(t)];case 1:i.stationColorMapping=r.sent(),this.addSrcWiseGEOJSONLayers(e,t,n),r.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.changeTimeLayers=function(t,n){if(n!=t.activeGroup){var e=t.activeGroup;t.activeGroup=n,this.removeGroupTimeLayers(t,e),this.addGroupTimeLayers(t,n)}},t.prototype.addGroupTimeLayers=function(t,n){t.addSrcWiseHeatmapLayers({"GroundWater Heatmap":t.animationLayerListBasedOnView[t.blockNumber]})},t.prototype.removeGroupTimeLayers=function(t,n){t.map.hasLayer(t.layers.overlaylayers["GroundWater Heatmap"])&&(t.map.removeLayer(t.layers.overlaylayers["GroundWater Heatmap"]),t.activeLayers["GroundWater Heatmap"]=!1),t.layers.overlaylayers["GroundWater Heatmap"]={}},t.prototype.createHeatMapLayersToAnimate=function(t){return xt(this,void 0,void 0,function(){var n,e;return wt(this,function(l){switch(l.label){case 0:return t.animationLayerListBasedOnView=[],[4,this.getAnimatedGWHeatMap(t)];case 1:return n=l.sent(),Object(M.isNullOrUndefined)(n)||(e=t.gisDataService.createImageLayersOverlays({},n,t.params.dashboardView),t.animationLayerListBasedOnView=e),[2]}})})},t.prototype.getLabelStringsForPlayBarAnimation=function(t){return this.labelStrings},t.prototype.getLabelsForHeatMaps=function(t){if(t){for(var n={},e=Object.keys(t),l=0;l<e.length;l++)n[l]={},n[l].timeStamp=e[l],n[l].timeLineName={},n[l].timeLineName.toolTip=e[l].substring(4,6)+"-"+e[l].substring(0,4),n[l].timeLineName.label=e[l].substring(4,6)+"/"+e[l].substring(0,4),n[l].timeLinePos=l,n[l].url=t[e[l]];return n}},t.prototype.getAnimatedGWHeatMap=function(t){var n=this,e={};return this.labelStrings=[],new Promise(function(l,a){var i=t.params,r=n.groundWaterDataService.getPostDataForAnimatedHeatMap(i);n.groundWaterDataService.post(St.a.API_MAPPING.HEATMAPANIMATION,r).subscribe(function(a){if(a){var r=n.getLabelsForHeatMaps(a),o=[];for(var s in r){var u=Pt({},Dt.a.GW_LAYERLIST2[v.m.LOCATIONS.ALL]["GroundWater Heatmap"]);u.animationType="Time",u.time="month",u.clip=!0,u.view="Admin",u.serviceType="HeatMap",u.setDefault="false",u.groupName=r[s].timeStamp.toString(),e[r[s].timeStamp.toString()]=s,u.stateName="TAMILNADU",u.timeLineName=r[s].timeLineName,u.timeLinePos=r[s].timeLinePos,u.leftSideName=r[s].timeLineName.toolTip,u.type2=void 0,u.url=r[s].url,u.name="GroundWater Heatmap",u.basinName=i.dashboardView,n.labelStrings[s]={label:{label:r[s].timeLineName.label,toolTip:r[s].timeLineName.toolTip},fullLabel:r[s].timeLineName.toolTip,groupName:r[s].timeStamp.toString()},o.push(u)}t.groupNameToBlockMap=e,0==o.length&&l(null),l(o)}})})},t.prototype.getStationLayer=function(t){return xt(this,void 0,void 0,function(){var n,e;return wt(this,function(l){switch(l.label){case 0:for(n in this.layerList)this.layerList[n].type==v.d.GEOJSON_LAYER&&t.map.hasLayer(t.layers.overlaylayers[n])&&t.map.removeLayer(t.layers.overlaylayers[n]);return e=this,[4,this.getGWStationsColorMapping(t)];case 1:return e.stationColorMapping=l.sent(),this.addSrcWiseGEOJSONLayers(this.layerList,t,t.params),[2]}})})},t.prototype.onHeatMapReload=function(t){return xt(this,void 0,void 0,function(){var n;return wt(this,function(e){switch(e.label){case 0:return t.spinner=!0,t.params.component!=v.m.COMPONENT.GROUNDWATER?[3,2]:(t.removeComponentWiseLayers(),this.addSrcWiseHeatmapLayers(this.layerList,t,t.params),n=this,[4,this.getGWStationsColorMapping(t)]);case 1:n.stationColorMapping=e.sent(),this.addSrcWiseGEOJSONLayers(this.layerList,t,t.params),e.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSrcWiseGEOJSONLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.GEOJSON_LAYER);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseGEOJSONLayers(l)},t.prototype.colorVectortilesLayers=function(t,n,e){if(!Object(M.isNullOrUndefined)(t))for(var l in this.groundWaterData){var a={uuid:l,clr:this.groundWaterData[l],wt:1};n.view==v.m.VIEWS.ADMIN?(e.colorVectortileslayer(t["Telangana District Boundaries"],[a]),e.colorVectortileslayer(t["Telangana Mandal Boundaries"],[a])):n.view==v.m.VIEWS.BASIN&&(e.colorVectortileslayer(t["Telangana Basin"],[a]),e.colorVectortileslayer(t["Telangana Subbasin"],[a]))}},t.prototype.addSrcWiseHeatmapLayers=function(t,n,e){return xt(this,void 0,void 0,function(){var l,a,i;return wt(this,function(r){switch(r.label){case 0:return[4,this.getGWHeatMap(n)];case 1:return l=r.sent(),console.log("HEATMAP",l),Object(M.isNullOrUndefined)(l)?[3,2]:(a=n.gisDataService.createImageLayersOverlays(l,t,e.dashboardView),a=this.addSourceWiseLayers(n,a,e),n.addSrcWiseHeatmapLayers(a),[3,4]);case 2:return i=this,[4,this.getVectorTileColorMapping(e)];case 3:i.groundWaterData=r.sent(),this.colorVectortilesLayers(n.layers.overlaylayers,n.params,n),r.label=4;case 4:return this.addGWLegend(n),[2]}})})},t.prototype.getGWHeatMap=function(t){var n=this,e={};return new Promise(function(l,a){var i=t.params,r=t.heatMapParams,o={ACTUAL:"ACTUAL",FLUCTUATION_FROM_LAST_YEAR:"FLUCTUATION_LY",FLUCTUATION_FROM_WATER_YEAR:"FLUCTUATION_WY"},s=n.groundWaterDataService.getPostDataForHeatMap(i,r),u=!Object(M.isNullOrUndefined)(r)&&r&&o[r.heatMap.key]?o[r.heatMap.key]:"ACTUAL";n.groundWaterDataService.post(St.a.API_MAPPING.HEATMAP,s).subscribe(function(t){var n={};n.url=t[u],n.name="GroundWater Heatmap",n.basinName=i.dashboardView,e["GroundWater Heatmap"]=n,n.url||l(null),l(e)})})},t.prototype.getVectorTileColorMapping=function(t){var n=this,e={},l=this.groundWaterDataService.getPostDataForTable(t);return new Promise(function(t,a){n.groundWaterDataService.post(St.a.API_MAPPING.TABLE,l).subscribe(function(l){l&&l.length>0&&(e=n.preProcessData(l)),t(e)})})},t.prototype.preProcessData=function(t){for(var n={},e=0,l=t;e<l.length;e++)n[l[e].uuid]="#e7e7e7";return n},t.prototype.getGWStationsColorMapping=function(t){var n=this,e={},l=t.layers.overlaylayers,a=!0;l["GW Stations (All Stations)"]&&l["GW Stations (All Stations)"].options.visible&&(a=l["GW Stations (All Stations)"].options.includeAll);var i=this.groundWaterDataService.getPostDataForStation(t.params,t.heatMapParams,a);return new Promise(function(l,a){n.groundWaterDataService.post(St.a.API_MAPPING.TABLE,i).subscribe(function(a){a&&a.length>0&&(e=n.preProcessColorData(a,t.params)),l(e)})})},t.prototype.preProcessColorData=function(t,n){var e={},l="currentLevel";n.aggr&&"AVG"==n.aggr&&(l="averageLevel");for(var a=0,i=t;a<i.length;a++){var r=i[a],o=r.uuid;"TOTAL"==r.name||Object(M.isNullOrUndefined)(r.uuid)||Object(M.isNullOrUndefined)(o)||(e[o]={color:r[l]?this.getGWStationFillColor(r[l]):"#D4D7D9",currentLevel:r[l]?r[l]:"-"})}return e},t.prototype.addGWLegend=function(t){Object(M.isNullOrUndefined)(t.heatMapParams)||t.heatMapParams.heatMap.key!=v.m.HEATMAP.FLUCTUATION_FROM_LAST_YEAR&&t.heatMapParams.heatMap.key!=v.m.HEATMAP.FLUCTUATION_FROM_WATER_YEAR?t.params.heatMap.key==v.m.HEATMAP.ACTUAL&&(Object(M.isNullOrUndefined)(t.heatMapParams)||(t.otherOptions.legend={}),t.otherOptions.legend[v.m.HEATMAP.ACTUAL]=Dt.a.Legend[v.m.HEATMAP.ACTUAL]):(t.otherOptions.legend={},t.otherOptions.legend[t.heatMapParams.heatMap.key]=Dt.a.Legend[t.heatMapParams.heatMap.key]),t.addLegend()},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.prototype.getCircleMarkerRadius=function(t,n){return n*t*.25},t.prototype.getUUIDSourceWiseLayer=function(t){var n;return((n={})[v.m.SOURCES.TELANGANA_GW]="uuid",n[v.m.SOURCES.STATE_STATIONS]="uuid",n[v.m.SOURCES.CGWB]="station_uu",n[v.m.SOURCES.STATE_AND_CENTRAL_STATIONS]="station_uu",n)[t]},t.prototype.getGWStationFillColor=function(t){return t>0&&t<=3?"#BAE4FE":t>3&&t<=8?"#A5F8E5":t>8&&t<=20?"#FCED67":t>20?"#F9B5A0":"#D4D7D9"},t.prototype.setStationHighlightLayer=function(t){var n=this,e=t.layers.overlaylayers,l=!1;e["GW Stations (All Stations)"]&&e["GW Stations (All Stations)"].options.visible&&(l=e["GW Stations (All Stations)"].options.includeAll);var a=this.groundWaterDataService.getPostDataForStation(t.params,t.heatMapParams,l);this.groundWaterDataService.post(St.a.API_MAPPING.TABLE,a).subscribe(function(e){for(var l in e)e[l].uuid==t.params.pUUID&&n.setCircleHighlightMarker(e[l],t)})},t.prototype.setCircleHighlightMarker=function(t,n){var e,l=this,a=n.params;e=[t.lat?t.lat.toFixed(4):0,t.lng?t.lng.toFixed(4):0],n.highlightedLayerObj[v.m.LOCATIONS.RAINFALL]&&(n.map.removeLayer(n.highlightedLayerObj[v.m.LOCATIONS.RAINFALL]),delete n.highlightedLayerObj[v.m.LOCATIONS.RAINFALL]),n.highlightedLayerObj[v.m.LOCATIONS.RAINFALL]=S.circleMarker(e,{radius:this.getCircleMarkerRadius(n.map.getZoom(),2),pane:"popUp",fillColor:"transparent",color:"#000000",fillOpacity:1,weight:3.5}).addTo(n.map);var i=n.highlightedLayerObj[v.m.LOCATIONS.RAINFALL],r=I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1});i.on({click:function(n){r.setContent("ADMIN"==a.view?l.setHtmlContentForGWStatePopup(t,a):l.setHtmlContentForGWBasinPopup(t,a)),r.setLatLng(n.latlng),i.bindPopup(r).openPopup()},mouseover:function(t){},mouseout:function(t){}}),n.map.setView(e,n.params.view==v.m.VIEWS.ADMIN?v.g[v.m.LOCATIONS.STATION].MIN:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN)},t.prototype.getStationLayerForGW=function(t,n,e){var l=this;return new Promise(function(a,i){var r=t.params,o=l.groundWaterDataService.getPostDataForStation(r,t.heatMapParams,n.layerOptions.includeAll);new Promise(function(t,n){l.groundWaterDataService.post(St.a.API_MAPPING.TABLE,o).subscribe(function(n){t(n)})}).then(function(t){var n=t;console.log(Object.keys(t).length);var i=new S.LayerGroup;for(var o in n){var s=l.createMarkersForLayer(n[o],r,e);s&&i.addLayer(s)}a(i)})})},t.prototype.createMarkersForLayer=function(t,n,e){var l=this;if("TOTAL"!=t.name&&!Object(M.isNullOrUndefined)(t.uuid)){var a,i={stroke:!0,fill:!0,color:"#6597d5",weight:.4,fillColor:"#D4D7D9",fillOpacity:1,radius:this.getCircleMarkerRadius(e.getZoom(),1.75),pane:"popUp"};a=[t.lat?t.lat.toFixed(4):0,t.lng?t.lng.toFixed(4):0];var r=t.uuid;this.stationColorMapping&&this.stationColorMapping[r]&&this.stationColorMapping[r].color&&(i.fillColor=this.stationColorMapping[r].color),i.properties=t;var o=S.circleMarker(a,i),s=I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1});if(o.on({click:function(t){var e=t.sourceTarget.options.properties;s.setContent("ADMIN"==n.view?l.setHtmlContentForGWStatePopup(e,n):l.setHtmlContentForGWBasinPopup(e,n)),s.setLatLng(t.latlng),o.bindPopup(s).openPopup(),o.setStyle({color:"black",weight:2}),r=e.uuid,"ADMIN"==n.view?(n.locName=e.name,n.pUUID=r,n.pType="GROUNDWATER",n.cType="GROUNDWATER",n.actionType="sensorClick",l.gisUtils.setSelectedParams(n)):"BASIN"==n.view&&(n.locName=e.name,n.pUUID=r,n.pType="GROUNDWATER",n.cType="GROUNDWATER",n.actionType="sensorClick",l.gisUtils.setSelectedParams(n))},mouseover:function(t){},mouseout:function(t){}}),!Object(M.isNullOrUndefined)(e)){var u=e.getZoom();e.on({zoomend:function(t){var n=e.getZoom(),a=n-u;o.setRadius(l.getCircleMarkerRadius(n,a>0?2:a<0?1.5:1.75))}})}return o}},t.prototype.setHtmlContentForGWStatePopup=function(t,n){var e="currentLevel";n.aggr&&"AVG"==n.aggr&&(e="averageLevel");var l="<html><body>";return l+='<div class="popup-table-section">',l+='<div class="card-body p-0">\n         <table class="table table-sm m-0 table-bordered">',l+="<tbody>\n            <tr>\n               <th> Station</th>\n               <td>"+t.name+'</td>\n             </tr>\n             <tr>\n               <th> Type </th>\n               <td> GroundWater </td>\n             </tr>\n              <tr">\n               <th> District </th>\n               <td>'+(t.dnm||t.dt)+"</td>\n             </tr>\n         \n             <tr>\n               <th> Agency</th>\n               <td>"+(t.agency||n.src)+"</td>\n             </tr>\n             <tr>\n             <th> Depth to Level(m bgl) </th>\n             <td> "+(this.visibilityServ.getDecimalFixed(t[e])||"-")+" </td>\n           </tr>",t.egt&&(l+="<tr>\n            <th> TimeStamp</th>\n            <td>"+E(t.egt).format("DD/MM/YYYY HH:mm:ss")+"</td>\n          </tr>"),l+"</table>\n       </div>\n       </div>"},t.prototype.setHtmlContentForGWBasinPopup=function(t,n){var e="currentLevel";n.aggr&&"AVG"==n.aggr&&(e="averageLevel");var l="<html><body>";return l+='<div class="popup-table-section">',l+='<div class="card-body p-0">\n         <table class="table table-sm m-0 table-bordered">',l+="<tbody>\n            <tr>\n               <th> Station</th>\n               <td>"+t.name+"</td>\n             </tr>\n             <tr>\n               <th> Type </th>\n               <td> GroundWater </td>\n             </tr>\n              <tr>\n               <th> Basin </th>\n               <td>"+(t.bn||t.bnm)+"</td>\n             </tr>\n             <tr>\n               <th> Agency</th>\n               <td>"+(t.agency||n.src)+"</td>\n             </tr>\n             <tr>\n             <th> Depth to Level(m bgl) </th>\n             <td> "+(this.visibilityServ.getDecimalFixed(t[e])||"-")+" </td>\n             </tr>",t.egt&&(l+="<tr>\n                   <th> TimeStamp</th>\n                   <td>"+E(t.egt).format("DD/MM/YYYY HH:mm:ss")+"</td>\n                 </tr>"),l+"</table>\n              </div>\n              </div>"},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(Mt.a),c.gb(O.a),c.gb(D.a))},token:t,providedIn:"root"}),t}(),It=function(){function t(t){this.route=t,this.component="GROUNDWATER",this.sidebarComponent=Tt,this.layerList=[],this.otherOptions={legend:{},serviceType:kt,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapReload",stationHighlightFunctionName:"setStationHighlightLayer",sensorLayerFunctionName:"getStationLayerForGW",stationLayer:"getStationLayer",animateHeatMapLayers:"createHeatMapLayersToAnimate",getLabelStringsForPlayBarAnimation:"getLabelStringsForPlayBarAnimation",changeTimeLayers:"changeTimeLayers"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Lt}return t.prototype.ngOnInit=function(){},t}(),Et=e("7Bd3"),Nt=e("T9b0"),Ft=e("gIcY"),Bt=function(){function t(t){this.gisDataService=t,this.depthLayers=new Map,this.depthLayerOverlays=new Map,this.sourceWiseAvailableDates=new Map,this.removedLayersMap=new Map}return t.prototype.handleLayerControlEvent=function(t,n){var e=this;if(void 0===n&&(n="SENTINEL_1"),"remove"==t)this.removedLayersMap.set(n,[]),null!=this.depthLayerOverlays.get(n)&&this.depthLayerOverlays.get(n).forEach(function(t,l){var a=t;"block"==a.getContainer().style.display&&e.removedLayersMap.get(n).push(a),a.getContainer().style.display="none"});else{if(null!=this.removedLayersMap.get(n))for(var l=0,a=this.removedLayersMap.get(n);l<a.length;l++)a[l].getContainer().style.display="block";this.removedLayersMap=new Map}},t.prototype.getPlayBarOptions=function(t){return{ceil:t.length,floor:1,showSelectionBar:!0,showTicks:!0,getLegend:function(n){return t[(n-1)%t.length].replace(/-/gi,"/")},ticksTooltip:function(n){return t[(n-1)%t.length]},translate:function(t,n){return""}}},t.prototype.loadDepthLayers=function(t,n,e,l,a,i){if(this.sourceWiseAvailableDates.set(n,e),this.map=t,this.removePreviousLayersFromMap(),"MITANK"==a)for(var r in this.depthLayers.set(n,new Map),this.depthLayerOverlays.set(n,new Map),e){var o=e[r],s=this.gisDataService.setWMSOverlays(t,this.gisDataService.getApplicationBasedLayer(l,"WMS",t)).Depth_Class,u=this.formatDate(o),c="";i&&(c=i+" AND "),s.wmsParams.cql_filter=c+="date="+u,this.depthLayers.get(n).set(u,s);var h=this.depthLayers.get(n).get(u).addTo(t);h.getContainer().style.display="none",this.depthLayerOverlays.get(n).set(u,h)}else s=this.gisDataService.setWMSOverlays(t,this.gisDataService.getApplicationBasedLayer(l,"WMS",t)).Depth_Class,u=this.formatDate(e[0]),c="",i&&(c=i+" AND "),s.wmsParams.cql_filter=c+="date="+u,this.parentdepthLayer=s},t.prototype.formatDate=function(t){return t.split("-")[2]+t.split("-")[1]+t.split("-")[0]},t.prototype.showDepthClassLayer=function(t,n,e,l,a,i){if("MITANK"==i){if(0==this.removedLayersMap.size){var r=this.formatDate(t);l&&0!=l&&(this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l-1])).getContainer().style.display="none"),a.nextValue&&0!=a.nextValue&&(this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[a.nextValue-1])).getContainer().style.display="none"),this.depthLayerOverlays.get(n).get(r).getContainer().style.display="block",this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l-1])).getContainer().style.removeProperty("clip"),a.prevValue=a.value,a.currentLayer=this.depthLayerOverlays.get(n).get(r)}}else this.showParentDepthClassLayer(t,a)},t.prototype.showParentDepthClassLayer=function(t,n){this.map.hasLayer(this.parentdepthLayer)&&this.map.removeLayer(this.parentdepthLayer);var e=this.parentdepthLayer.wmsParams.cql_filter,l=this.formatDate(t);this.parentdepthLayer.wmsParams.cql_filter=e.split("date=")[0]+"date="+l,this.parentdepthLayer.addTo(this.map),n.currentLayer=this.parentdepthLayer},t.prototype.clip=function(t,n,e,l,a,i){var r=t.containerPointToLayerPoint([0,0]),o=t.containerPointToLayerPoint(t.getSize()),s=r.x+(o.x-r.x)*e;(a<l&&a<=this.sourceWiseAvailableDates.get(n).length||a==this.sourceWiseAvailableDates.get(n).length&&1==l)&&"block"==this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[a-1])).getContainer().style.display&&(this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[a-1])).getContainer().style.display="none",this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[a-1])).getContainer().style.removeProperty("clip")),this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l-1])).getContainer().style.clip="rect("+[r.y,o.x,o.y,s].join("px,")+"px)",this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l%this.sourceWiseAvailableDates.get(n).length])).getContainer().style.clip="rect("+[r.y,s,o.y,r.x].join("px,")+"px)";var u=this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l%this.sourceWiseAvailableDates.get(n).length])).getContainer();"none"==this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l%this.sourceWiseAvailableDates.get(n).length])).getContainer().style.display&&e>=.01&&(u.style.opacity=0,this.depthLayerOverlays.get(n).get(this.formatDate(this.sourceWiseAvailableDates.get(n)[l%this.sourceWiseAvailableDates.get(n).length])).getContainer().style.display="block",setTimeout(function(){u.style.opacity=1},100)),i.currentLayer=this.depthLayerOverlays.get(this.sourceWiseAvailableDates.get(n)[l%this.sourceWiseAvailableDates.get(n).length]),i.prevValue=i.value,i.nextValue=(l+1)%this.sourceWiseAvailableDates.get(n).length},t.prototype.onUserChange=function(t,n,e,l,a){this.onPause(l),this.showDepthClassLayer(this.sourceWiseAvailableDates.get(n)[t-1],n,t,e,l,a)},t.prototype.animationValueChange=function(t,n,e,l,a){this.clip(this.map,n,t,e,l,a)},t.prototype.onPlay=function(t,n){var e=this;t.interval=setInterval(function(){t.prevValue=t.value,t.value=t.value%e.sourceWiseAvailableDates.get(n).length+1},3e3),t.animateInterval=setInterval(function(){t.rangeValue+=.025,e.clip(e.map,n,t.rangeValue,t.value,t.prevValue,t),t.rangeValue>=1&&(t.rangeValue=0)},80)},t.prototype.onPause=function(t){clearInterval(t.interval),clearInterval(t.animateInterval)},t.prototype.removePreviousLayersFromMap=function(){for(var t=0,n=Array.from(this.depthLayers.entries());t<n.length;t++)for(var e=n[t],l=0,a=Array.from(this.depthLayers.get(e[0]).entries());l<a.length;l++){var i=a[l];this.map.removeLayer(this.depthLayers.get(e[0]).get(i[0]))}this.removedLayersMap=new Map,this.parentdepthLayer&&this.map.hasLayer(this.parentdepthLayer)&&this.map.removeLayer(this.parentdepthLayer)},t.prototype.hideAllLayers=function(t){var n=this,e=1;this.depthLayerOverlays.get(t).forEach(function(l,a){var i=l;0!=n.removedLayersMap.size&&1==e&&(n.removedLayersMap.set(t,[]),n.removedLayersMap.get(t).push(l),e++),i.getContainer().style.display="none",i.getContainer().style.removeProperty("clip")})},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(P.a))},token:t,providedIn:"root"}),t}(),Ut={DEPTH_LAYERS:(l={},l[v.m.LOCATIONS.TAMILNADU]=(a={},a[v.m.SOURCES.SENTINEL1]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Depth",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND2",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_1'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Depth",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND2",group_type:"radio-deselect",key:"Telangana Basin Depth_Class",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_1'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.SENTINEL2]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_2'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",key:"Telangana Basin Depth_Class",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_2'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.SENTINEL1_DEM]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class_SENTINEL1_DEM",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL1_DEM'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND2",group_type:"radio-deselect",key:"Telangana Basin Depth_Class_SENTINEL1_DEM",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL1_DEM'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.SENTINEL2_DEM]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL2_DEM'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class_SENTINEL2_DEM":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD",group_type:"radio-deselect",key:"Telangana Basin Depth_Class_SENTINEL2_DEM",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL2_DEM'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.Combined_S1S2]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.Combined_S1S2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class_Combined_S1S2",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='Combined_S1S2'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.Combined_S1S2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",key:"Telangana Basin Depth_Class_Combined_S1S2",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='Combined_S1S2'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.Combined_S1S2_DEM]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.Combined_S1S2_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.ADMIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class_Combined_S1S2_DEM",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='Combined_S1S2_DEM'",type:v.d.WMS_LAYER},"Telangana Basin Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.Combined_S1S2_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.BASIN,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD",group_type:"radio-deselect",key:"Telangana Basin Depth_Class_Combined_S1S2_DEM",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='Combined_S1S2_DEM'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.SENTINEL2_GC]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2_GC,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.PROJECT,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class_SENTINEL2_GC",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_2'",type:v.d.WMS_LAYER}},a[v.m.SOURCES.SENTINEL1_GC]={"Telangana Depth_Class":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1_GC,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"WSA Layer",name:"Water Depth",visible:!0,view:v.m.VIEWS.PROJECT,layeroptions_show_on_selector:!0,layeroptions_name:"tamilnadu:tamilnadu_mitank_depth_layer",layer_name:"Depth Class",layeroptions_pane:"depth",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",key:"Telangana Depth_Class_SENTINEL1_GC",hasLegend:!0,legendName:"DEPTH_CLASS_LEGEND_WITH_CLOUD2",group_type:"radio-deselect",layerServiceType:v.d.WMS_LAYER,cqlfilter:"source='SENTINEL_1'",type:v.d.WMS_LAYER}},a),l),MI_TANKS_LAYERLIST:(i={},i[v.m.LOCATIONS.TAMILNADU]={"Telangana MiTank Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.ADMIN,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"MI Tanks Structures Count",name:"MI Tanks Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_district_points",layer_name:"mitanks_structure_count",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.DISTRICT].MAX-1,cType:[v.m.LOCATIONS.DISTRICT],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana MiTank_Mandal_Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.ADMIN,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"MI Tanks Mandal Structures Count",name:"MI Tanks Mandal Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_block_points",layer_name:"mitanks_mandal_structure_count",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BLOCK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MIN-1,cType:[v.m.LOCATIONS.DISTRICT],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksMandalClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana Mandal MITank":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.ADMIN,displayName:"Mandal MITank",name:"DISTRICT",visible:!0,dashboardView:v.m.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mandal",layer_name:"Telangana Mandal MITank",layeroptions_pane:"WA",layeroptions_min_zoom:v.g[v.m.LOCATIONS.STATE].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,group:"boundaries",hasLegend:!0,cType:[v.m.LOCATIONS.DISTRICT],paramType:"cType",legendName:"DENSITY_LEGEND",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"Telangana MiTank_SubBasin Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.BASIN,displayName:"MI Tanks Subbasin Structures Count",layerFrom:v.m.SOURCES.GEOSERVER,name:"MI Tanks Subbasin Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:corewris_ts_subbasin_centroid_updated",layer_name:"mitanks_structure_count",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN].MAX,cType:[v.m.LOCATIONS.BASIN],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksMandalClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana MiTank Sub_Command_Area Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.PROJECT,displayName:"MI Tanks Sub_Command_Area Structures Count",layerFrom:v.m.SOURCES.GEOSERVER,name:"MI Tanks Sub_Command_Area Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:kwaram_sub_command_area_centroid",layer_name:"mitanks_structure_count_subcmd",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.COMMAND_AREA].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.SUB_COMMAND_AREA].MIN-1,cType:[v.m.LOCATIONS.COMMAND_AREA],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana MiTank Command_District Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.PROJECT,displayName:"MI Tanks Command_District Structures Count",layerFrom:v.m.SOURCES.GEOSERVER,name:"MI Tanks Command_District Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:kwaram_command_district_centroid",layer_name:"mitanks_structure_count",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.SUB_COMMAND_AREA].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.COMMAND_DISTRICT].MAX-2,cType:[v.m.LOCATIONS.COMMAND_AREA],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksCmdDistrictClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana MiTank Command_Mandal Structures Count":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.PROJECT,displayName:"MI Tanks Command Mandal Structures Count",layerFrom:v.m.SOURCES.GEOSERVER,name:"MI Tanks Command Mandal Structures Count",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:kwaram_command_mandal_centroid",layer_name:"mitanks_structure_count",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.COMMAND_DISTRICT].MAX-1,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MIN-1,cType:[v.m.LOCATIONS.COMMAND_AREA],paramType:"cType",group:"miTanks",pointToLayer:"addMITanksMandalClusterLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana Command Mandal MITank":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.PROJECT,displayName:"Command Mandal",name:"DISTRICT",visible:!0,dashboardView:v.m.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:kwaram_command_mandal",layer_name:"Telangana Command Mandal MITank",layeroptions_pane:"WA",layeroptions_min_zoom:v.g[v.m.LOCATIONS.STATE].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,group:"boundaries",hasLegend:!0,cType:[v.m.LOCATIONS.COMMAND_AREA],paramType:"cType",legendName:"DENSITY_LEGEND",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"Telangana MiTank Structures":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.TELANGANA_MITANK,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"MI Tanks Structures",name:"MI Tanks Structures",visible:!0,view:v.m.VIEWS.ADMIN,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mitank_locations",layer_name:"mitanks_structure",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS",group:"miTanks",group_type:"radio-deselect",pointToLayer:"addMITanksMarkerLayer",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:'uuid =""',type:v.d.GEOJSON_LAYER},"Telangana Basin MiTank Structures":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.TELANGANA_MITANK,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"MI Tanks Structures",name:"MI Tanks Structures",visible:!0,view:v.m.VIEWS.BASIN,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mitank_locations",layer_name:"mitanks_structure",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS",group:"miTanks",group_type:"radio-deselect",pointToLayer:"addMITanksMarkerLayer",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:'uuid =""',type:v.d.GEOJSON_LAYER},"Telangana Project MiTank Structures":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.TELANGANA_MITANK,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"MI Tanks Structures",name:"MI Tanks Structures",visible:!0,view:v.m.VIEWS.PROJECT,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mitank_locations",layer_name:"mitanks_structure",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS",group:"miTanks",group_type:"radio-deselect",pointToLayer:"addMITanksMarkerLayer",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"",type:v.d.GEOJSON_LAYER},"Telangana MiTank Polygon":{component:v.m.COMPONENT.MITANK,source:[v.m.SOURCES.SENTINEL1,v.m.SOURCES.SENTINEL2,v.m.SOURCES.SENTINEL1_DEM,v.m.SOURCES.SENTINEL2_DEM],layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.ADMIN,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",group:"miTanks",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana Basin MiTank Polygon SENTINEL1":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.BASIN,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER},"Telangana Basin MiTank Polygon SENTINEL2":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.BASIN,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"source='SENTINEL_2'",type:v.d.GEOJSON_LAYER},"Telangana Basin MiTank Polygon SENTINEL1_DEM":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1_DEM,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.BASIN,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"",type:v.d.GEOJSON_LAYER},"Telangana Basin MiTank Polygon SENTINEL2_DEM":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.BASIN,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"source='SENTINEL_2'",type:v.d.GEOJSON_LAYER},"Telangana Subbasin MITank":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.ALL,view:v.m.VIEWS.BASIN,displayName:"Sub Basin",name:"SUBBASIN",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:corewris_ts_complete_sub_basin_updated",layer_name:"Telangana Subbasin MITank",layeroptions_pane:"district",layeroptions_min_zoom:v.g[v.m.LOCATIONS.STATE].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,group:"basin",hasLegend:!0,legendName:"DENSITY_LEGEND",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"Telangana Project MiTank Polygon SENTINEL2_GC":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL2_GC,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.PROJECT,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"",type:v.d.GEOJSON_LAYER},"Telangana Project MiTank Polygon SENTINEL1_GC":{component:v.m.COMPONENT.MITANK,source:v.m.SOURCES.SENTINEL1_GC,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Water Bodies",name:"Water Bodies",visible:!0,view:v.m.VIEWS.PROJECT,layerptions_show_on_selector:!1,layeroptions_name:"tamilnadu:tamilnadu_mitank_polygon_layer",layer_name:"Water Bodies",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.MITANK].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.MITANK].MAX,cType:[v.m.LOCATIONS.MITANK],paramType:"cType",hasLegend:!0,legendName:"MI_TANKS_POLYGON",group:"miTanks",group_type:"radio-deselect",onEachFeature:"addMITanksPolygonLayer",style:"stylingforGeoJson",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:"",type:v.d.GEOJSON_LAYER}},i[v.m.LOCATIONS.GODAVARI]={},i),Legend:{DENSITY_LEGEND:{Units:"No. of Tanks/Sq.Km.",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0"},{backgroundColor:"#d0eafb",color:"#000000",text:"0 - 0.3"},{backgroundColor:"#84cefb",color:"#000000",text:"0.3 - 0.5"},{backgroundColor:"#6ec3f8",color:"#FFFFFF",text:"0.5 - 0.7"},{backgroundColor:"#3da8eb",color:"#FFFFFF",text:"0.7 - 1"},{backgroundColor:"#0a85d2",color:"#FFFFFF",text:">1"}]},DEPTH_CLASS_LEGEND:{Units:"Water Depth",colorValues:[{backgroundColor:"#FFCCCC",color:"#000000",text:"Empty"},{backgroundColor:"#fae098",color:"#000000",text:"Shallow"},{backgroundColor:"#91cc9e",color:"#000000",text:"Medium"},{backgroundColor:"#15f4ee",color:"#FFFFFF",text:"Deep"}]},DEPTH_CLASS_LEGEND2:{Units:"Water Spread",colorValues:[{backgroundColor:"#05C3DE",color:"#000000",text:""}]},DEPTH_CLASS_LEGEND_WITH_CLOUD:{Units:"Water Depth",colorValues:[{backgroundColor:"#FFCCCC",color:"#000000",text:"Empty"},{backgroundColor:"#fae098",color:"#000000",text:"Shallow"},{backgroundColor:"#91cc9e",color:"#000000",text:"Medium"},{backgroundColor:"#15f4ee",color:"#FFFFFF",text:"Deep"},{backgroundColor:"#DCDCDC",color:"#FFFFFF",text:"Cloud"}]},DEPTH_CLASS_LEGEND_WITH_CLOUD2:{Units:"Water Spread",colorValues:[{backgroundColor:"#05C3DE",color:"#000000",text:""},{backgroundColor:"#DCDCDC",color:"#000000",text:"Cloud"}]},MI_TANKS_POLYGON:{Units:"MI Tanks",colorValues:[{image:"../../../../../assets/imgs/visibilityDashboards/miTanks/MITankPolygon.png",backgroundColor:"#ffffff"}]},MI_TANKS:{Units:"MI Tanks",colorValues:[{image:"../../../../../assets/imgs/visibilityDashboards/miTanks/circle.svg",backgroundColor:"#ffffff"}]},WATER_BODY:{Units:"Water Bodies",colorValues:[{image:"../../../../../assets/imgs/visibilityDashboards/miTanks/circle.png",backgroundColor:"#ffffff"}]}}},Rt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Vt=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},jt=function(){function t(t,n,e,l,a){this.utilsService=t,this.visibilityUtils=n,this.gisUtilsService=e,this.miTanksDataService=l,this.commonvisibilityService=a,this.availableDatesForDepthClass=[],this.datePipe=new m.e("en-US")}return t.prototype.getPlaybarOptions=function(){var t,n,e=((t={labels:[],interval:null,value:null,isPlay:!1,showPlayBar:!1,valueChanged:"valueChanged",onUserChangeStart:"onUserChangeStart",onUserChange:"onUserChange",onPlay:"onPlay",onPause:"onPause",animationValueChange:"animationValueChange",prevValue:null,nextValue:null,animateInterval:null,rangeValue:null,currentLayer:null,playButtonEnabled:!1})[v.m.LOCATIONS.TAMILNADU]=((n={})[v.m.VIEWS.ADMIN]=v.g[v.m.LOCATIONS.MITANK].MIN,n[v.m.VIEWS.BASIN]=v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN,n),t.options={},t);return e.prevValue=0,e.value=1,e.nextValue=0,e.rangeValue=0,e},t.prototype.resetPlaybarVaribales=function(t){clearInterval(t.otherOptions.playbarOptions.interval),clearInterval(t.otherOptions.playbarOptions.animateInterval),t.otherOptions.playbarOptions=this.getPlaybarOptions(),t.otherOptions.playbarOptions.value=this.availableDatesForDepthClass.length},t.prototype.manageBaseLayer=function(t){for(var n=Object.keys(v.a),e=this.getBaseLayerOnParams(t),l=0,a=n;l<a.length;l++)for(var i=0,r=v.a[a[l]];i<r.length;i++){var o=r[i];o.visible=o.name==e}t.getAndSetBaseLayers()},t.prototype.getZoomForBaseLayer=function(t){var n=null;return t.params.dashboardView==v.m.LOCATIONS.TAMILNADU&&(t.params.view!=v.m.VIEWS.ADMIN||t.params.pType!=v.m.LOCATIONS.BLOCK&&t.params.pType!=v.m.LOCATIONS.MITANK?(t.params.view!=v.m.VIEWS.BASIN||t.params.pType!=v.m.LOCATIONS.SUBBASIN&&t.params.pType!=v.m.LOCATIONS.MITANK)&&(t.params.view!=v.m.VIEWS.PROJECT||t.params.pType!=v.m.LOCATIONS.COMMAND_MANDAL&&t.params.pType!=v.m.LOCATIONS.MITANK)||(n=v.g[v.m.LOCATIONS.BASIN_LAST_LEVEL].MIN):n=v.g[v.m.LOCATIONS.MITANK].MIN),n},t.prototype.getBaseLayerOnParams=function(t){var n="Carto";if(t.params.src==v.m.SOURCES.SENTINEL1){var e=this.getZoomForBaseLayer(t);null!=e&&t.mapZoom>=e&&(n="Google Satellite")}return n},t.prototype.removeDepthClassLayer=function(t){this.removeLayers(t,["Telangana Basin Depth_Class","Telangana Depth_Class"])},t.prototype.removeGEOJSONLayers=function(t){this.removeLayers(t,["Telangana Basin MiTank Polygon","Telangana Basin MiTank Polygon2","Telangana Basin MiTank Structures","Telangana MiTank Structures"])},t.prototype.removeLayers=function(t,n){for(var e=0,l=n;e<l.length;e++){var a=l[e];t.map.hasLayer(t.layers.overlaylayers[a])&&t.map.removeLayer(t.layers.overlaylayers[a]),delete t.layers.overlaylayers[a],delete t.activeLayers[a]}},t.prototype.manageActiveLayers=function(t){var n=null;t.params.dashboardView==v.m.LOCATIONS.TAMILNADU&&(t.params.view==v.m.VIEWS.ADMIN?n="Telangana Mandal MITank":t.params.view==v.m.VIEWS.BASIN?n="Telangana Subbasin MITank":t.params.view==v.m.VIEWS.PROJECT&&(n="Telangana Command Mandal MITank")),null!=n&&(t.activeLayers[n]=!0)},t.prototype.manageVectorTileColor2=function(t){var n=null;if(t.params.dashboardView==v.m.LOCATIONS.TAMILNADU&&(t.params.pType==v.m.LOCATIONS.BLOCK?n="Telangana Mandal MITank":t.params.pType==v.m.LOCATIONS.SUBBASIN&&(n="Telangana Subbasin MITank")),null!=n){t.activeLayers[n]=!1;var e=t.layers.overlaylayers[n];this.resetVectorTileColor(t,e,t.params.pUUID),null!=t.params.prevpUUID&&this.addVectorTileColor(t,e,t.params.prevpUUID)}},t.prototype.manageVectorTileColor=function(t){var n=null;if(t.params.dashboardView==v.m.LOCATIONS.TAMILNADU&&(t.params.pType==v.m.LOCATIONS.BLOCK||t.params.onSourceChange&&1==t.params.onSourceChange&&t.params.pType==v.m.LOCATIONS.MITANK&&t.params.view==v.m.VIEWS.ADMIN?n="Telangana Mandal MITank":t.params.pType==v.m.LOCATIONS.SUBBASIN||t.params.onSourceChange&&1==t.params.onSourceChange&&t.params.pType==v.m.LOCATIONS.MITANK&&t.params.view==v.m.VIEWS.BASIN?n="Telangana Subbasin MITank":(t.params.pType==v.m.LOCATIONS.COMMAND_MANDAL||t.params.onSourceChange&&1==t.params.onSourceChange&&t.params.pType==v.m.LOCATIONS.MITANK&&t.params.view==v.m.VIEWS.PROJECT)&&(n="Telangana Command Mandal MITank"),null!=t.params.prevpUUID)){var e=null;t.params.view==v.m.VIEWS.ADMIN?e="Telangana Mandal MITank":t.params.view==v.m.VIEWS.BASIN?e="Telangana Subbasin MITank":t.params.view==v.m.VIEWS.PROJECT&&(e="Telangana Command Mandal MITank"),Object(M.isNullOrUndefined)(e)||(this.resetVectorTileColor(t,l=t.layers.overlaylayers[e],t.params.prevpUUID),this.addVectorTileColor(t,l,t.params.prevpUUID))}if(null!=n){t.activeLayers[n]=!1;var l,a=t.params.pUUID;t.params.pType==v.m.LOCATIONS.MITANK&&(a=t.params.iPUUID),this.resetVectorTileColor(t,l=t.layers.overlaylayers[n],a)}},t.prototype.checkAndRemoveLayers=function(t){this.removeDepthClassLayer(t),this.removeGEOJSONLayers(t),"filter"==t.params.actionType&&this.removeLayers(t,["Telangana Mandal Boundaries","Telangana Subbasin"])},t.prototype.changeBaseLayer=function(t){var n=Object.keys(v.a),e={Carto:{visible:!0},"Google Satellite":{visible:!0}};e.Carto.visible=!1;for(var l=0,a=n;l<a.length;l++)for(var i=0,r=v.a[a[l]];i<r.length;i++){var o=r[i];null!=e[o.name]&&(o.visible=e[o.name].visible)}t.getAndSetBaseLayers()},t.prototype.getSrcWiseLayers=function(t){return Rt(this,void 0,void 0,function(){var n,e,l,a,i,r,o,s,u,c,h,d,p,g=this;return Vt(this,function(m){switch(m.label){case 0:if(t.spinner=!0,(n=t.params).component!=v.m.COMPONENT.MITANK)return[3,8];for(p in this.resetPlaybarVaribales(t),e=[],Ut.MI_TANKS_LAYERLIST[n.dashboardView])(l=Ut.MI_TANKS_LAYERLIST[n.dashboardView][p]).source!=n.src&&l.source!=v.m.VIEWS.ALL&&!l.source.includes(n.src)||l.view!=n.view&&l.view!=v.m.VIEWS.ALL||(l.paramType?l.paramType&&this.checkIsLayerApplicable(l,l.paramType,n[l.paramType])&&(e[p]=l):e[p]=l);if("filter"==n.actionType&&null!=n.onSourceChange&&1==n.onSourceChange){if(a=[],n.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n.view==v.m.VIEWS.BASIN?a=["Telangana MiTank_SubBasin Structures Count"]:n.view==v.m.VIEWS.ADMIN?a=["Telangana MiTank Structures Count","Telangana MiTank_Mandal_Structures Count","Telangana Mandal MITank"]:n.view==v.m.VIEWS.PROJECT&&(a=["Telangana MiTank Command_Area Structures Count","Telangana MiTank Sub_Command_Area Structures Count","Telangana MiTank Command_District Structures Count"])),a.length>0){for(i=0,r=a;i<r.length;i++)p=void 0,null!=(p=Ut.MI_TANKS_LAYERLIST[n.dashboardView][o=r[i]])&&(e[o]=p);this.removeLayers(t,a)}this.commonvisibilityService.removePreviousLayersFromMap()}return this.checkAndRemoveLayers(t),this.addSrcWiseWMSLayers(e,t,n),"filter"!=n.actionType?[3,6]:n.pType==v.m.LOCATIONS.STATE||null!=n.onSourceChange&&1==n.onSourceChange?(this.addSrcWiseVECTORLayers(e,t,n),s=this,[4,this.getMiTanksData(n)]):[3,5];case 1:return s.miTanksData=m.sent(),u=this,[4,this.getMiTanksMandalData(n)];case 2:return u.miTanksMandalData=m.sent(),n.view!=v.m.VIEWS.PROJECT?[3,4]:(c=this,[4,this.getMiTanksCommandDistrictData(n)]);case 3:c.miTanksCommandDistrictData=m.sent(),m.label=4;case 4:this.colorVectortilesayers(n,t),m.label=5;case 5:return[3,7];case 6:for(h=0,d=["Telangana MiTank_Mandal_Structures Count","Telangana MiTank Structures Count","Telangana MiTank_SubBasin Structures Count","Telangana MiTank Sub_Command_Area Structures Count","Telangana MiTank Command_District Structures Count","Telangana MiTank Command_Mandal Structures Count"];h<d.length;h++)e[p=d[h]]&&delete e[p];m.label=7;case 7:n.pType==v.m.LOCATIONS.STATE||null!=n.onSourceChange&&1==n.onSourceChange||this.manageActiveLayers(t),t.spinner=!1,this.checkAndDepthClassLayers(t),this.manageVectorTileColor(t),this.addSrcWiseGEOJSONLayers(e,t,n),setTimeout(function(){g.addMITanksLegend(t)},1e3),m.label=8;case 8:return[2]}})})},t.prototype.checkAndDepthClassLayers=function(t){return Rt(this,void 0,void 0,function(){var n,e,l,a;return Vt(this,function(i){switch(i.label){case 0:return n=t.params,t.spinner=!0,e=n.pUUID,n.pType==v.m.LOCATIONS.MITANK&&(e=n.iPUUID),this.availableDatesForDepthClass=[],n.cType==v.m.LOCATIONS.MITANK&&n.src!=v.m.SOURCES.TELANGANA_MITANK&&this.miTanksMandalData[e]&&this.miTanksMandalData[e].count&&this.miTanksMandalData[e].count>0?(l=this,[4,this.getDepthClassDateRange(n)]):[3,2];case 1:l.availableDatesForDepthClass=i.sent(),this.availableDatesForDepthClass.length>0&&(this.latestDepthClassDate=(a=this.availableDatesForDepthClass[0]).split("-")[2]+a.split("-")[1]+a.split("-")[0],t.otherOptions.playbarOptions.labels=this.availableDatesForDepthClass,this.showPlayProgressBar(t)),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.showPlayProgressBar=function(t){this.loadDepthLayers(t);var n=this.commonvisibilityService.getPlayBarOptions(this.availableDatesForDepthClass);t.otherOptions.playbarOptions.options=n,t.otherOptions.playbarOptions.showPlayBar=!0,t.otherOptions.playbarOptions.playButtonEnabled=t.params.pType==v.m.LOCATIONS.MITANK},t.prototype.loadDepthLayers=function(t){return Rt(this,void 0,void 0,function(){var n,e,l,a;return Vt(this,function(i){switch(i.label){case 0:return n=t.params,t.spinner=!0,e={},null==(l=this.getDepthClassLayerBasedOnParams(t.params))?[3,3]:(e.Depth_Class=Ut.DEPTH_LAYERS[t.params.dashboardView][t.params.src][l],a=Ut.DEPTH_LAYERS[t.params.dashboardView][t.params.src][l].cqlfilter,n.pType==v.m.LOCATIONS.BLOCK?a+=" AND mandal_uui='"+n.pUUID+"'":n.pType==v.m.LOCATIONS.SUBBASIN?a+=" AND sub_bas_uu='"+n.pUUID+"'":n.pType==v.m.LOCATIONS.COMMAND_MANDAL&&(a+=" AND cmd_mand_uuid='"+n.pUUID+"'"),t.otherOptions.playbarOptions.value=this.availableDatesForDepthClass.length,[4,this.commonvisibilityService.loadDepthLayers(t.map,t.params.src,this.availableDatesForDepthClass,e,n.pType,a)]);case 1:return i.sent(),[4,this.commonvisibilityService.showDepthClassLayer(this.availableDatesForDepthClass[this.availableDatesForDepthClass.length-1],t.params.src,t.otherOptions.playbarOptions.prevValue,t.otherOptions.playbarOptions.value,t.otherOptions.playbarOptions,n.pType)];case 2:i.sent(),this.addDepthLayerToOverlayLayers(t),i.label=3;case 3:return t.spinner=!1,[2]}})})},t.prototype.handleLayerControlEvent=function(t,n,e){this.commonvisibilityService.handleLayerControlEvent(e,t.params.src)},t.prototype.addDepthLayerToOverlayLayers=function(t){var n=this.getDepthClassLayerBasedOnParams(t.params);null!=n&&null!=t.otherOptions.playbarOptions.currentLayer&&(t.layers.overlaylayers[n]=t.otherOptions.playbarOptions.currentLayer,t.activeLayers[n]=!0)},t.prototype.setOptionsForPlaybar=function(t){var n={ceil:t.otherOptions.playbarOptions.labels.length,floor:1,showSelectionBar:!0,showTicks:!0,getLegend:function(n){return t.otherOptions.playbarOptions.labels[(n-1)%t.otherOptions.playbarOptions.labels.length].replace(/-/gi,"/")},ticksTooltip:function(n){return t.otherOptions.playbarOptions.labels[(n-1)%t.otherOptions.playbarOptions.labels.length]},translate:function(t,n){return""}};t.otherOptions.playbarOptions.options=n,t.otherOptions.playbarOptions.showPlayBar=!0},t.prototype.getDepthClassLayerBasedOnParams=function(t){var n=null;return t.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=t.view==v.m.VIEWS.ADMIN?"Telangana Depth_Class":t.view==v.m.VIEWS.BASIN?"Telangana Basin Depth_Class":"Telangana Depth_Class"),n},t.prototype.showDepthClassLayer=function(t,n){var e=n.split("-")[2]+n.split("-")[1]+n.split("-")[0],l=this.getDepthClassLayerBasedOnParams(t.params);null!=l&&(t.map.hasLayer(t.layers.overlaylayers[l])&&t.map.removeLayer(t.layers.overlaylayers[l]),t.layers.overlaylayers[l].wmsParams.cql_filter="date="+e,t.map.addLayer(t.layers.overlaylayers[l]))},t.prototype.valueChanged=function(t,n){t.otherOptions.playbarOptions.rangeValue=0},t.prototype.onUserChangeStart=function(t,n){this.onPause(t)},t.prototype.onUserChange=function(t,n){this.commonvisibilityService.onUserChange(t.otherOptions.playbarOptions.value,t.params.src,t.otherOptions.playbarOptions.prevValue,t.otherOptions.playbarOptions,t.params.pType),this.addDepthLayerToOverlayLayers(t)},t.prototype.onPlay=function(t){t.otherOptions.playbarOptions.isPlay=!0,this.commonvisibilityService.onPlay(t.otherOptions.playbarOptions,t.params.src)},t.prototype.onPause=function(t){t.otherOptions.playbarOptions.isPlay=!1,this.commonvisibilityService.onPause(t.otherOptions.playbarOptions)},t.prototype.animationValueChange=function(t,n){this.commonvisibilityService.animationValueChange(t.otherOptions.playbarOptions.rangeValue,t.params.src,t.otherOptions.playbarOptions.value,t.otherOptions.playbarOptions.prevValue,t.otherOptions.playbarOptions)},t.prototype.getDepthClassDateRange=function(t){var n=this,e={},l=this.miTanksDataService.getPostDataForDepthClass(t);return new Promise(function(t,a){n.miTanksDataService.post(Nt.a.API_MAPPING.CHART,l).subscribe(function(l){n.utilsService.isEmptyObj(l)||(e=n.preProcessDepthClassDates(l)),t(e)})})},t.prototype.preProcessDepthClassDates=function(t){for(var n=[],e=0,l=Object.keys(t);e<l.length;e++)n.push(this.datePipe.transform(l[e],"dd-MM-yyyy"));return n},t.prototype.addMITanksLegend=function(t){for(var n in Ut.Legend)t.legendList[n]=Ut.Legend[n];t.manageLegend()},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSrcWiseVECTORLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.VECTOR_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseVECTORLayers(l)},t.prototype.addSrcWiseGEOJSONLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.GEOJSON_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseGEOJSONLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n){if(l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL])n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if(n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID])n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if("mitanks_structure"==n[a].layerOptions.layer_name){var i="uuid";e.view!=v.m.VIEWS.ADMIN||e.pType!=v.m.LOCATIONS.MANDAL&&e.pType!=v.m.LOCATIONS.MITANK?e.view!=v.m.VIEWS.BASIN||e.pType!=v.m.LOCATIONS.SUBBASIN&&e.pType!=v.m.LOCATIONS.MITANK?e.view!=v.m.VIEWS.PROJECT||e.pType!=v.m.LOCATIONS.COMMAND_MANDAL&&e.pType!=v.m.LOCATIONS.MITANK||(i="cmdmand_uuid"):i="sub_bas_uu":i="mandal_uui",n[a].layerOptions.cql_filter=e.pType==v.m.LOCATIONS.MITANK?i+" ='"+e.iPUUID+"'":i+" ='"+e.pUUID+"'"}else n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":"Water Bodies"==n[a].layerOptions.layer_name&&(i="uuid",e.view!=v.m.VIEWS.ADMIN||e.pType!=v.m.LOCATIONS.BLOCK&&e.pType!=v.m.LOCATIONS.MITANK?e.view!=v.m.VIEWS.BASIN||e.pType!=v.m.LOCATIONS.SUBBASIN&&e.pType!=v.m.LOCATIONS.MITANK?e.view!=v.m.VIEWS.PROJECT||e.pType!=v.m.LOCATIONS.COMMAND_MANDAL&&e.pType!=v.m.LOCATIONS.MITANK||(i="cmdmand_uuid"):i="sub_bas_uu":i="mandal_uui",n[a].layerOptions.cql_filter=e.pType==v.m.LOCATIONS.MITANK?i+" ='"+e.iPUUID+"'":i+" ='"+e.pUUID+"'");n.type!=v.d.GEOJSON_LAYER&&(t.activeLayers[a]=n[a].layerOptions.visible)}return l},t.prototype.addVectorTileColor=function(t,n,e){null!=this.miTanksMandalData[e]&&t.colorVectortileslayer(n,[{uuid:e,clr:this.miTanksMandalData[e].color,wt:.1}])},t.prototype.resetVectorTileColor=function(t,n,e){null!=this.miTanksMandalData[e]&&t.resetVectorTileLayer(n,[{uuid:e,clr:this.miTanksMandalData[e].color,wt:.1}])},t.prototype.colorVectortilesayers=function(t,n){var e=n.layers.overlaylayers;if(!Object(M.isNullOrUndefined)(e)){var l=null;for(var a in this.miTanksMandalData){var i={uuid:a,clr:this.miTanksMandalData[a].color,wt:.1};t.view==v.m.VIEWS.ADMIN?(l="Telangana Mandal MITank",n.colorVectortileslayer(e["Telangana Mandal MITank"],[i])):t.view==v.m.VIEWS.BASIN?(l="Telangana Subbasin MITank",n.colorVectortileslayer(e["Telangana Subbasin MITank"],[i])):t.view==v.m.VIEWS.PROJECT&&(l="Telangana Command Mandal MITank",n.colorVectortileslayer(e["Telangana Command Mandal MITank"],[i]))}n.map.hasLayer(e[l])&&(n.map.removeLayer(e[l]),n.map.addLayer(e[l]))}},t.prototype.preProcessData=function(t){for(var n={},e=0,l=t;e<l.length;e++){var a=l[e],i=a.uid,r=this.miTanksDataService.getColumnValue("cnt",a,["md"]),o=this.miTanksDataService.getColumnValue("la",a,["md"]),s=this.miTanksDataService.getColumnValue("fp",a),u="#ffffff";null!=r&&null!=o&&(u=this.getMiTanksColor(r,o)),null!=s&&this.getMiTanksClusterClColor(s),n[i]={count:null==r?"-":r,color:u,clusterColor:"#000000"}}return n},t.prototype.getMiTanksData=function(t){var n=this,e={},l=this.miTanksDataService.getPostDataForTableForMap(t);return new Promise(function(t,a){n.miTanksDataService.post(Nt.a.API_MAPPING.TABLE,l).subscribe(function(l){l&&l.length>0&&(e=n.preProcessData(l)),t(e)})})},t.prototype.getMiTanksMandalData=function(t){var n=this,e={},l=this.miTanksDataService.getPostDataForTableForMap(t);return l.cType=t.view==v.m.VIEWS.ADMIN?v.m.LOCATIONS.BLOCK:t.view==v.m.VIEWS.BASIN?v.m.LOCATIONS.SUBBASIN:v.m.LOCATIONS.COMMAND_MANDAL,new Promise(function(t,a){n.miTanksDataService.post(Nt.a.API_MAPPING.TABLE,l).subscribe(function(l){l&&l.length>0&&(e=n.preProcessData(l)),t(e)})})},t.prototype.getMiTanksCommandDistrictData=function(t){var n=this,e={},l=this.miTanksDataService.getPostDataForTableForMap(t);return l.cType=v.m.LOCATIONS.COMMAND_DISTRICT,new Promise(function(t,a){n.miTanksDataService.post(Nt.a.API_MAPPING.TABLE,l).subscribe(function(l){l&&l.length>0&&(e=n.preProcessData(l)),t(e)})})},t.prototype.getMiTanksColor=function(t,n){var e=t/n;return 0==e?"#ffffff":e>0&&e<=.3?"#d0eafb":e>.3&&e<=.5?"#84cefb":e>.5&&e<=.7?"#6ec3f8":e>.7&&e<=1?"#3da8eb":e>1?"#0a85d2":void 0},t.prototype.getMiTanksClusterClColor=function(t){return t>90?"#1a9641":t>80&&t<=90?"#a6d96a":t>70&&t<=80?"#e66101":t<70?"#d7191c":void 0},t.prototype.getUUIDFromLayerFeature=function(t,n){var e=null;return t.cType==v.m.LOCATIONS.DISTRICT?e=n.properties.uuid:t.cType==v.m.LOCATIONS.BASIN?e=n.properties.bas_uuid:t.cType==v.m.LOCATIONS.BLOCK?e=n.properties.uuid:t.cType==v.m.LOCATIONS.SUBBASIN?e=n.properties.subbasin_u:t.cType==v.m.LOCATIONS.COMMAND_AREA?e=n.properties.scmduid:t.cType==v.m.LOCATIONS.SUB_COMMAND_AREA?e=n.properties.scmduid:t.cType==v.m.LOCATIONS.COMMAND_DISTRICT?e=n.properties.cmdistuid:t.cType==v.m.LOCATIONS.COMMAND_MANDAL&&(e=n.properties.cmdmanduid),e},t.prototype.getParamsForMandalClusterOnFromMapEvent=function(t,n){t.view==v.m.VIEWS.ADMIN?(t.locName=n.block,t.pUUID=n.uuid,t.pType=v.m.LOCATIONS.BLOCK,t.cType=v.m.LOCATIONS.MITANK,t.actionType="mapClick"):t.view==v.m.VIEWS.BASIN?(t.locName=n.name,t.pUUID=n.uuid,t.pType=v.m.LOCATIONS.SUBBASIN,t.cType=v.m.LOCATIONS.MITANK,t.actionType="mapClick"):t.view==v.m.VIEWS.PROJECT&&(t.locName=n.mandal_nam,t.pUUID=n.cmdmanduid,t.pType=v.m.LOCATIONS.COMMAND_MANDAL,t.cType=v.m.LOCATIONS.MITANK,t.actionType="mapClick"),this.gisUtilsService.setSelectedParams(t)},t.prototype.getParamsOnFromMapEvent=function(t,n,e){var l,a,i,r,o=e.map.getZoom();if(e.params.view==v.m.VIEWS.ADMIN){if(i=v.g[v.m.LOCATIONS.DISTRICT].MIN,r=v.g[v.m.LOCATIONS.DISTRICT].MAX,t.cType==v.m.LOCATIONS.DISTRICT||o>=i&&o<=r)return(s=t).locName=n.district,s.pUUID=n.uuid,s.pType=v.m.LOCATIONS.DISTRICT,s.cType=v.m.LOCATIONS.BLOCK,s.actionType="mapClick",void this.gisUtilsService.setSelectedParams(s);t.cType==v.m.LOCATIONS.BLOCK&&(l=n.block,a=n.uuid)}else if(e.params.view==v.m.VIEWS.BASIN){if(i=v.g[v.m.LOCATIONS.BASIN].MIN,r=v.g[v.m.LOCATIONS.BASIN].MAX,t.cType==v.m.LOCATIONS.BASIN||o>=i&&o<=r)return(s=t).locName=n.basin_name,s.pUUID=n.bas_uuid,s.pType=v.m.LOCATIONS.BASIN,s.cType=v.m.LOCATIONS.SUBBASIN,s.actionType="mapClick",void this.gisUtilsService.setSelectedParams(s);t.cType==v.m.LOCATIONS.SUBBASIN&&(l=n.subbasin_n,a=n.subbasin_u)}else{var s;if(i=v.g[v.m.LOCATIONS.COMMAND_AREA].MIN,r=v.g[v.m.LOCATIONS.COMMAND_AREA].MAX,t.cType==v.m.LOCATIONS.COMMAND_AREA||t.cType==v.m.LOCATIONS.SUB_COMMAND_AREA||o>=i&&o<=r)return(s=t).locName=n.prj_name,s.pUUID=n.scmduid,s.pType=v.m.LOCATIONS.SUB_COMMAND_AREA,s.cType=v.m.LOCATIONS.COMMAND_DISTRICT,s.actionType="mapClick",void this.gisUtilsService.setSelectedParams(s);if(t.cType==v.m.LOCATIONS.COMMAND_DISTRICT)return(s=t).locName=n.dist_name,s.pUUID=n.cmddistuid,s.pType=v.m.LOCATIONS.COMMAND_DISTRICT,s.cType=v.m.LOCATIONS.COMMAND_MANDAL,s.actionType="mapClick",void this.gisUtilsService.setSelectedParams(s);t.cType==v.m.LOCATIONS.COMMAND_MANDAL&&(l=n.mandal_nam,a=n.cmdmanduid)}this.onLocationClick(l,a,t)},t.prototype.addMITanksMandalClusterLayer=function(t,n,e){var l,a,i,r=this,o={stroke:!0,fill:!0,color:"#3488e2",weight:2,fillColor:"#f4faff",fillOpacity:1,radius:this.getCircleMarkerRadius(n.getZoom(),8),pane:"popUp"},s=new S.LayerGroup;l=[t.geometry.coordinates[1],t.geometry.coordinates[0]],null!=(i=t.properties.uuid)&&(a=this.miTanksMandalData[i]?this.miTanksMandalData[i].count:"-"),o.properties=t.properties;var u=S.circleMarker(l,o);if(a&&u.bindTooltip(a.toString(),{className:"distText",permanent:!0,direction:"center"}).openTooltip(),u.on({click:function(t){r.getParamsForMandalClusterOnFromMapEvent(e,t.sourceTarget.options.properties)}}),!Object(M.isNullOrUndefined)(n)){var c=v.f[v.m.LOCATIONS.INDIA];v.f[e.dashboardView]&&(c=v.f[e.dashboardView]),n.on({zoomend:function(t){var e=n.getZoom(),l=e-c;u.setRadius(r.getCircleMarkerRadius(e,l>0?6:l<0?3:8))}})}return s.addLayer(u),s},t.prototype.addMITanksClusterLayer=function(t,n,e,l){var a=this;(e=JSON.parse(JSON.stringify(e))).cType="PROJECT"==e.view?v.m.LOCATIONS.SUB_COMMAND_AREA:v.m.LOCATIONS.DISTRICT;var i,r,o={stroke:!0,fill:!0,color:"#3488e2",weight:2,fillColor:"#f4faff",fillOpacity:1,radius:this.getCircleMarkerRadius(n.getZoom(),10),pane:"popUp"},s=new S.LayerGroup;i=[t.geometry.coordinates[1],t.geometry.coordinates[0]];var u=this.getUUIDFromLayerFeature(e,t);null!=u&&(r=this.miTanksData[u]?this.miTanksData[u].count:"-"),o.properties=t.properties;var c=S.circleMarker(i,o);if(r&&c.bindTooltip(r.toString(),{className:"distText",permanent:!0,direction:"center"}).openTooltip(),c.on({click:function(t){a.getParamsOnFromMapEvent(e,t.sourceTarget.options.properties,l)}}),!Object(M.isNullOrUndefined)(n)){var h=v.f[v.m.LOCATIONS.INDIA];v.f[e.dashboardView]&&(h=v.f[e.dashboardView]),n.on({zoomend:function(t){var e=n.getZoom(),l=e-h;c.setRadius(a.getCircleMarkerRadius(e,l>0?8:l<0?5:10))}})}return s.addLayer(c),s},t.prototype.addMITanksCmdDistrictClusterLayer=function(t,n,e,l){var a=this;"PROJECT"==(e=JSON.parse(JSON.stringify(e))).view&&(e.cType=v.m.LOCATIONS.COMMAND_DISTRICT);var i,r,o={stroke:!0,fill:!0,color:"#3488e2",weight:2,fillColor:"#f4faff",fillOpacity:1,radius:this.getCircleMarkerRadius(n.getZoom(),10),pane:"popUp"},s=new S.LayerGroup;i=[t.geometry.coordinates[1],t.geometry.coordinates[0]];var u=t.properties.cmddistuid;null!=u&&(r=this.miTanksCommandDistrictData[u]?this.miTanksCommandDistrictData[u].count:"-"),o.properties=t.properties;var c=S.circleMarker(i,o);if(r&&c.bindTooltip(r.toString(),{className:"distText",permanent:!0,direction:"center"}).openTooltip(),c.on({click:function(t){a.getParamsOnFromMapEvent(e,t.sourceTarget.options.properties,l)}}),!Object(M.isNullOrUndefined)(n)){var h=v.f[v.m.LOCATIONS.INDIA];v.f[e.dashboardView]&&(h=v.f[e.dashboardView]),n.on({zoomend:function(t){var e=n.getZoom(),l=e-h;c.setRadius(a.getCircleMarkerRadius(e,l>0?8:l<0?5:10))}})}return s.addLayer(c),s},t.prototype.addMITanksMarkerLayer=function(t,n,e,l){var a=this,i={stroke:!0,fill:!0,color:"#ffffff",weight:2,fillColor:"#ffffff",fillOpacity:1,radius:5,pane:"popUp"},r=new S.LayerGroup,o=t.properties;if(o){var s;i.fillColor="#2b78b4",i.color="#000000",i.properties=t.properties;var u=S.circleMarker(s=t.properties.latitude?[t.properties.latitude,t.properties.longitude]:[t.properties.lat,t.properties.lon],i),c=I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:600,closeButton:!1});if(u.on({click:function(t){c.setContent(e.view==v.m.VIEWS.ADMIN?a.setHtmlContentForMiTanksStatePopup(o,e):e.view==v.m.VIEWS.BASIN?a.setHtmlContentForMiTanksBasinPopup(o,e):a.setHtmlContentForMiTanksProjectPopup(o,e)),c.setLatLng(t.latlng),u.bindPopup(c).openPopup();var l=t.sourceTarget.options.properties;n.setView(s,e.view==v.m.VIEWS.ADMIN?15:13),e.stationType=v.m.SOURCES.TELANGANA_MITANK,e.view==v.m.VIEWS.ADMIN?(e.locName=l.tank_name,e.pUUID=l.uuid,e.iPUUID=l.block_uuid,e.pType=v.m.LOCATIONS.MITANK,e.cType=v.m.LOCATIONS.MITANK,e.actionType="sensorClick",a.gisUtilsService.setSelectedParams(e)):e.view==v.m.VIEWS.BASIN?(e.locName=l.tank_name,e.pUUID=l.uuid,e.pType=v.m.LOCATIONS.MITANK,e.iPUUID=l.sub_bas_uu,e.cType=v.m.LOCATIONS.MITANK,e.actionType="sensorClick",a.gisUtilsService.setSelectedParams(e)):e.view==v.m.VIEWS.PROJECT&&(e.locName=l.tank_name,e.pUUID=l.uuid,e.pType=v.m.LOCATIONS.MITANK,e.iPUUID=l.cmdmanduidd,e.cType=v.m.LOCATIONS.MITANK,e.actionType="sensorClick",a.gisUtilsService.setSelectedParams(e))},mouseover:function(t){},mouseout:function(t){}}),!Object(M.isNullOrUndefined)(n)){var h=n.getZoom();n.on({zoomend:function(t){var e=n.getZoom(),l=e-h;u.setRadius(l>0?a.getCircleMarkerRadius(e,2):l<0?a.getCircleMarkerRadius(e,1):5)}})}r.addLayer(u)}return r},t.prototype.getCircleMarkerRadius=function(t,n){return n*t*.25},t.prototype.onLocationClick=function(t,n,e,l,a){var i=e;i.locName=t,i.pUUID=n,i.pType=this.utilsService.getChildTypeForGivenParentType(l||i.pType,i.locationTypeList),i.cType=this.utilsService.getChildTypeForGivenParentType(i.pType,i.locationTypeList),i.actionType=a||"mapClick",this.gisUtilsService.setSelectedParams(i)},t.prototype.addMITanksPolygonLayer=function(t,n,e,l){var a=this;n.getZoom(),n.on({zoomend:function(i){var r=n.getZoom();t.setStyle(e.view==v.m.VIEWS.ADMIN&&r<v.g[v.m.LOCATIONS.MITANK].MIN+2?{weight:1,fill:!0,fillColor:"#FFCCCC",color:"#005FED",fillOpacity:0,opacity:0,pane:"popUp",stroke:!0}:{weight:1,fill:!0,fillColor:"#FFCCCC",color:"#005FED",fillOpacity:.5,opacity:1,pane:"popUp",stroke:!0}),l.otherOptions.playbarOptions.showPlayBar&&l.params.pType==v.m.LOCATIONS.MITANK&&l.otherOptions.playbarOptions.playButtonEnabled&&a.resetPlayToStart(l)}}),t.on({click:function(t){var l,i=t.target;i.setStyle({weight:1,fill:!0,fillColor:"#FFCCCC",color:"#2CD9C5",fillOpacity:.5,opacity:1,pane:"popUp",stroke:!0}),l=e.pType==v.m.LOCATIONS.SUBBASIN||e.pType==v.m.LOCATIONS.BASIN?a.setHtmlContentForMiTanksBasinPopup(t.sourceTarget.feature.properties,e):e.view==v.m.VIEWS.ADMIN?a.setHtmlContentForMiTanksStatePopup(t.sourceTarget.feature.properties,e):a.setHtmlContentForMiTanksProjectPopup(t.sourceTarget.feature.properties,e),I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:600,closeButton:!1}).setLatLng(t.latlng).setContent(l).openOn(n),S.Browser.ie||S.Browser.edge||i.bringToFront(),n.fitBounds(i.getBounds()),e.locName=t.sourceTarget.feature.properties.tank_name,e.pUUID=t.sourceTarget.feature.properties.uuid,e.stationType=v.m.SOURCES.SENTINEL1,e.miTankId=t.sourceTarget.feature.properties.geoid,e.capacity=t.sourceTarget.feature.properties.capacity,e.view!=v.m.VIEWS.PROJECT||e.src!=v.m.SOURCES.SENTINEL2_GC&&e.src!=v.m.SOURCES.SENTINEL1_GC||(e.capacity=t.sourceTarget.feature.properties.g_capacity),e.maxArea=t.sourceTarget.feature.properties.max_area,e.pType==v.m.LOCATIONS.BLOCK?(e.iPUUID=t.sourceTarget.feature.properties.block_uuid,e.iPLocName=t.sourceTarget.feature.properties.block):e.pType==v.m.LOCATIONS.SUBBASIN?(e.iPUUID=t.sourceTarget.feature.properties.sub_bas_uu,e.iPLocName=t.sourceTarget.feature.properties.ba_nam):e.pType==v.m.LOCATIONS.SUBBASIN||e.pType==v.m.LOCATIONS.COMMAND_MANDAL&&(e.iPUUID=t.sourceTarget.feature.properties.cmdmand_uuid,e.iPLocName=t.sourceTarget.feature.properties.block),e.pType=v.m.LOCATIONS.MITANK,e.cType=v.m.LOCATIONS.MITANK,e.mandal_name=t.sourceTarget.feature.properties.block,e.basin_name=t.sourceTarget.feature.properties.ba_name,e.district_name=t.sourceTarget.feature.properties.dist_name,e.subbasin_name=t.sourceTarget.feature.properties.sub_basin,e.state_name=t.sourceTarget.feature.properties.state_name,e.lng=t.sourceTarget.feature.properties.longitude,e.lat=t.sourceTarget.feature.properties.latitude,e.actionType="sensorClick",a.gisUtilsService.setSelectedParams(e)},mouseover:function(t){},mouseout:function(t){}})},t.prototype.setStationHighlightLayer=function(t){"filter"==t.params.actionType?(t.removeComponentWiseLayers(),this.getSrcWiseLayers(t)):this.highlightGeojsonLayer(t)},t.prototype.setCircleLayerHighlight=function(t,n){var e=this,l=null,a=n.params;if(a){l="uuid='"+a.pUUID+"'";var i=t.options.layerOptions.layers.split("kaleshwaram:");n.dataService.getLayerWithFilter(i[1],l).subscribe(function(t){var l=function(l){var i;i=[t.features[l].geometry.coordinates[0][1],t.features[l].geometry.coordinates[0][0]];var r=t.features[l].properties;n.highlightedLayerObj[v.m.LOCATIONS.MITANK]&&(n.map.removeLayer(n.highlightedLayerObj[v.m.LOCATIONS.MITANK]),delete n.highlightedLayerObj[v.m.LOCATIONS.MITANK]),n.highlightedLayerObj[v.m.LOCATIONS.MITANK]=S.circleMarker(i,{radius:e.getCircleMarkerRadius(n.map.getZoom(),2),pane:"popUp",fillColor:"transparent",color:"#000000",fillOpacity:1,weight:3.5}).addTo(n.map);var o=n.highlightedLayerObj[v.m.LOCATIONS.MITANK],s=I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:600,closeButton:!1});o.on({click:function(t){s.setContent(a.view==v.m.VIEWS.ADMIN?e.setHtmlContentForMiTanksStatePopup(r,a):a.view==v.m.VIEWS.BASIN?e.setHtmlContentForMiTanksBasinPopup(r,a):e.setHtmlContentForMiTanksProjectPopup(r,a)),s.setLatLng(t.latlng),o.bindPopup(s).openPopup()},mouseover:function(t){},mouseout:function(t){}}),n.map.setView(i,14)};for(var i in t.features)l(i)})}},t.prototype.setPolygonLayerHighlight=function(t,n){var e=n.params,l=[];e.latlng&&!Object(M.isNullOrUndefined)(e.latlng.split(","))&&e.latlng.split(",").length>1&&(l.push(e.latlng.split(",")[0]),l.push(e.latlng.split(",")[1]),n.map.setView(l,16))},t.prototype.stylingforGeoJson=function(t,n){return{weight:1,fill:!0,fillColor:"#FFCCCC",color:"#005FED",fillOpacity:0,opacity:0,pane:"popUp",stroke:!0}},t.prototype.setHtmlContentForMiTanksStatePopup=function(t,n){var e={key:null,val:""};e=this.visibilityUtils.getAbsoluteDecimal(t.capacity)||this.visibilityUtils.getAbsoluteDecimal(t.capacity_t)||e;var l="<html><body>";return l+='<div class="popup-table-section">',(l+='<div class="card-body p-0">\n    <table class="table table-sm m-0 table-bordered">')+"<tbody>\n        <tr>\n           <th> MI Tank</th>\n           <td>"+t.tank_name+"</td>\n         </tr>\n         <tr >\n           <th> Agency </th>\n           <td>"+(t.agency||"TAMILNADU MITANK")+"</td>\n         </tr>\n         <tr>\n           <th> District </th>\n           <td>"+(t.dist_name||"-")+"</td>\n         </tr>\n          <tr>\n           <th> Mandal </th>\n           <td>"+(t.mandal||t.mandal_n_1)+"</td>\n         </tr>\n         <tr>\n         <th>Capacity("+e.val+")</th>\n         <td>"+e.key+"</td>\n       </tr>\n       <tr>\n         <th>Max Area(Sq km)</th>\n         <td>"+(t.max_area||"-")+"</td>\n       </tr>\n     </table>\n   </div>\n   </div>"},t.prototype.setHtmlContentForMiTanksBasinPopup=function(t,n){var e;e=this.visibilityUtils.getAbsoluteDecimal(t.capacity)||this.visibilityUtils.getAbsoluteDecimal(t.capacity_t);var l="<html><body>";return l+='<div class="popup-table-section">',(l+='<div class="card-body p-0">\n     <table class="table table-text-sm table-dark-mis table-sm table-dark m-0 table-bordered text-nowrap text-center">')+"<tbody>\n        <tr>\n           <th> MI Tank</th>\n           <td>"+t.tank_name+"</td>\n         </tr>\n         <tr >\n           <th> Agency </th>\n           <td>"+(t.agency||"TELANGANA MITANK")+"</td>\n         </tr>\n         <tr>\n           <th> Basin </th>\n           <td>"+(t.ba_name||t.basin_name)+"</td>\n         </tr>\n          <tr>\n           <th> Subbasin </th>\n           <td>"+(t.sub_basin||t.sub_basin)+"</td>\n         </tr>\n         <tr>\n         <th>Capacity("+e.val+")</th>\n         <td>"+e.key+"</td>\n       </tr>\n       <tr>\n         <th>Water Spread Area(Sq km)</th>\n         <td>"+t.wa+"</td>\n       </tr>\n     </table>\n   </div>\n   </div>"},t.prototype.setHtmlContentForMiTanksProjectPopup=function(t,n){var e;e=this.visibilityUtils.getAbsoluteDecimal(t.govt_capacity)||this.visibilityUtils.getAbsoluteDecimal(t.capacity);var l="<html><body>";return l+='<div class="popup-table-section">',(l+='<div class="card-body p-0">\n     <table class="table table-text-sm table-dark-mis table-sm table-dark m-0 table-bordered text-nowrap text-center">')+"<tbody>\n        <tr>\n           <th> MI Tank</th>\n           <td>"+t.tank_name+"</td>\n         </tr>\n         <tr >\n           <th> Agency </th>\n           <td>"+(t.agency||"TELANGANA MITANK")+"</td>\n         </tr>\n         <tr>\n           <th> District </th>\n           <td>"+(t.dist_name||"-")+"</td>\n         </tr>\n          <tr>\n           <th> Mandal </th>\n           <td>"+(t.mandal_nam||t.mandal_n_1)+"</td>\n         </tr>\n         <tr>\n         <th>Capacity("+e.val+")</th>\n         <td>"+e.key+"</td>\n       </tr>\n       <tr>\n         <th>Max Area(Sq km)</th>\n         <td>"+(t.max_area||"-")+"</td>\n       </tr>\n     </table>\n   </div>\n   </div>"},t.prototype.resetPlayToStart=function(t){this.onPause(t),t.otherOptions.playbarOptions.prevValue=0,t.otherOptions.playbarOptions.value=this.availableDatesForDepthClass.length,t.otherOptions.playbarOptions.nextValue=0,t.otherOptions.playbarOptions.rangeValue=0,this.commonvisibilityService.hideAllLayers(t.params.src),this.commonvisibilityService.showDepthClassLayer(this.availableDatesForDepthClass[this.availableDatesForDepthClass.length-1],t.params.src,t.otherOptions.playbarOptions.prevValue,t.otherOptions.playbarOptions.value,t.otherOptions.playbarOptions,t.params.pType)},t.prototype.onGeoJsonLayerEnd=function(t){1==t.params.onSourceChange&&"filter"==t.params.actionType&&this.highlightGeojsonLayer(t)},t.prototype.highlightGeojsonLayer=function(t){var n;t.params.pType==v.m.LOCATIONS.MITANK&&(t.params.stationType&&t.params.stationType==v.m.SOURCES.TELANGANA_MITANK?this.setCircleLayerHighlight(n=t.params.view==v.m.VIEWS.ADMIN?t.layers.overlaylayers["Telangana MiTank Structures"]:t.params.view==v.m.VIEWS.BASIN?t.layers.overlaylayers["Telangana Basin MiTank Structures"]:t.layers.overlaylayers["Telangana Project MiTank Structures"],t):t.params.stationType&&t.params.stationType!=v.m.SOURCES.TELANGANA_MITANK&&(n=t.layers.overlaylayers[t.params.view==v.m.VIEWS.ADMIN?"Telangana MiTank Polygon":t.params.view==v.m.VIEWS.BASIN?"Telangana Basin MiTank Polygon "+t.params.stationType:"Telangana Project MiTank Polygon "+t.params.stationType],"table"==t.params.actionType&&this.setPolygonLayerHighlight(n,t),(1!=t.params.onSourceChange||"filter"!=t.params.actionType)&&this.availableDatesForDepthClass.length>0&&(this.resetPlaybarVaribales(t),this.showPlayProgressBar(t))))},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(T.a),c.gb(D.a),c.gb(O.a),c.gb(Et.a),c.gb(Bt))},token:t,providedIn:"root"}),t}(),Gt=function(){return(Gt=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Yt=function(){function t(t,n,e,l,a,i,r,o,s,u,h){this.utilsService=t,this.gisUtils=n,this.miTanksService=e,this.miTankDataSrv=l,this.visibilityUtils=a,this.visibilityTableModule=i,this.gisMapComp=r,this.mitankEditingSrv=o,this.formBuilder=s,this.toastrSrv=u,this.mitanksMapService=h,this.isStation=!1,this.tableConfig=this.miTankDataSrv.getTableConfig(),this.tableNameForDownload="MITank_Info",this.inputForBreadcrumb=[],this.isSourceSentinal=!1,this.kpi={fp:null,st:null,tc:null,cnt:null,unit:null,wa:null},this.stockChartConfig=JSON.parse(JSON.stringify(ut)),this.showStockChart=!1,this.chartOptions={showChartDropdown:!1,selectedChart:null,dropdown:[{key:v.m.SOURCES.TELANGANA_MITANK,value:"Storage Trends",postDataFunction:"getPostDataForChart",postDataKey:"Current Water Spread Area"},{key:v.m.SOURCES.SENTINEL1,value:"Daily Storage Trends vs Remaining Capacity",postDataFunction:"getPostDataForChart",postDataKey:"Current Storage",paramObject:!0}]},this.showErrorMsgForTable=!1,this.layers={},this.isEditing=!1,this.editAction=new c.q,this.isFormActive=!1,this.locationMetaData={},this.tankDetailsFormData={},this.someLocationInfo={},this.historyData={},this.dropdown=!1,this.tankDetails={}}return t.prototype.ngOnInit=function(){this.map=this.gisMapComp.map,this.layers=this.gisMapComp.layers,this.rainfallTableSpinner=!0,this.createForms(),this.subscribeEvents()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.gisUtils.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.columnConfig=t.miTankDataSrv.getColumnConfig(t.selectedParams),t.utilsService.isEmptyObj(t.selectedParams)||t.selectedParams.component!=Nt.a.COMPONENT.MITANKS||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())}),this.wfstSub=this.mitankEditingSrv.wfstObject.subscribe(function(n){n&&(t.wfst=n,t.drawnLayer=t.mitankEditingSrv.getCurrentDrawnLayer(),t.updateFormData())})},t.prototype.resetVariables=function(){for(var t in this.showErrorMsgForTable=!1,this.rainfallTableSpinner=!0,this.chartOptions.selectedChart={},this.chartOptions.showChartDropdown=!1,this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.inputForBreadcrumb=[],this.tableData=[]},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.checkAndSetChartOptions(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(Nt.a.COMPONENT.MITANKS,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.miTankDataSrv.getPostDataForBreadCrumb(this.selectedParams);this.rainfallTableSpinner=!0,this.miTanksService.post(Nt.a.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.rainfallTableSpinner=!1},function(n){t.rainfallTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.prevpUUID=n.pUUID,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.gisUtils.setSelectedParams(n))},t.prototype.setStockChart=function(){var t=this;setTimeout(function(){t.setStockChartPostData(),t.showStockChart=!0},100)},t.prototype.checkAndSetChartOptions=function(){if(this.chartOptions.dropdown[0].value=this.visibilityUtils.gettimestepbyformat(this.selectedParams.format)+" Storage Trends and Water Spread Area",this.chartOptions.selectedChart=this.chartOptions.dropdown[0],this.stockChartConfig=JSON.parse(JSON.stringify(ut)),this.selectedParams.pType==v.m.LOCATIONS.MITANK&&this.selectedParams.stationType&&this.selectedParams.stationType!=v.m.SOURCES.TELANGANA_MITANK&&(this.chartOptions.showChartDropdown=!0),this.selectedParams.pType!=v.m.LOCATIONS.MITANK)this.stockChartConfig.chartOptions.yAxis.plotLineConfig=[];else{var t={capacity:+this.selectedParams.capacity,maxArea:+this.selectedParams.maxArea};this.stockChartConfig.chartOptions.yAxis&&this.stockChartConfig.chartOptions.yAxis.plotLineConfig.length>0&&this.stockChartConfig.chartOptions.yAxis.plotLineConfig.forEach(function(n){n.formatter.paramObject=t})}this.setStockChart()},t.prototype.changeChart=function(){this.chartOptions.selectedChart.key==v.m.SOURCES.TELANGANA_MITANK?this.stockChartConfig=JSON.parse(JSON.stringify(ut)):this.chartOptions.selectedChart.key==v.m.SOURCES.SENTINEL1&&(this.stockChartConfig=JSON.parse(JSON.stringify(ct))),this.showStockChart=!1,this.setStockChart()},t.prototype.setStockChartPostData=function(){this.stockChartConfig.applicationConfig[this.chartOptions.selectedChart.postDataKey].apiConfig.postData=this.miTankDataSrv[this.chartOptions.selectedChart.postDataFunction](this.selectedParams),this.stockChartConfig.applicationConfig[this.chartOptions.selectedChart.postDataKey].apiConfig.postData.optionalPeriodList=["Last Year Storage","Last 10 Year Average Storage"],this.chartOptions.selectedChart.paramObject&&(this.stockChartConfig.applicationConfig[this.chartOptions.selectedChart.postDataKey].apiConfig.dataFormatter.paramObject={capacity:this.selectedParams.capacity})},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.getTableData()):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.miTankDataSrv.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rainfallTableSpinner=!0,this.miTanksService.post(Nt.a.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.selectedParams.cType==t.locTypes[t.locTypes.length-1]?(t.tableData=t.miTanksService.preProcessLastLeveltableData(n),t.tableCapacityUnit=t.miTanksService.getAbsoluteDecimal(n)):(t.tableData=t.miTanksService.preprocessTableData(n),t.tableCapacityUnit=t.miTanksService.getAbsoluteDecimal(n)):t.showErrorMsgForTable=!0,t.updateTableConfiguration(),t.rainfallTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.miTankDataSrv.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.selectedParams.iPUUID&&(n.pEUUID=this.selectedParams.iPUUID),this.rainfallTableSpinner=!0,this.miTanksService.post(Nt.a.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?(t.tableCapacityUnit=t.visibilityUtils.getAbsoluteDecimal(n[0].md.tc),t.tableCapacityUnit&&(n[0].st=t.miTanksService.getStorageUnitBasedOnCapacity(n[0].st,t.tableCapacityUnit)),t.tableData=n[0]):t.selectedParams.miTankId?t.setTableDataFromLayer(t.selectedParams):t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.rainfallTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;if(n.iPLocName=n.locName,n.locName=t.values[0],n.iPUUID=n.pUUID,n.prevpUUID=n.pUUID,n.pUUID=t.values[1],n.location.NAME==Nt.a.LOCATION_LEVEL.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utilsService.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.pType==v.m.LOCATIONS.MITANK&&(n.stationType=this.selectedParams.src),n.actionType="table",n.pType==v.m.LOCATIONS.MITANK){var e=this.tableData.find(function(n){return n.uid===t.values[1]});n.latlng=e.lt+","+e.lg,n.capacity=+e.tc,n.maxArea=e.sma}this.gisUtils.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams.cType,n="Capacity("+this.tableCapacityUnit.val+")",e="Storage("+this.tableCapacityUnit.val+")";t=t==Nt.a.COMPONENT.MITANKS?"MI Tanks":this.visibilityUtils.capitalize(t),this.columnConfig.properties.nm.displayAs=t,this.columnConfig.properties.tc.displayAs=n,this.columnConfig.properties.st.displayAs=e;var l=this.visibilityTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);l&&l.length>0&&(l[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),l.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=Gt({},this.visibilityTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Gt({},this.tableConfiguration,{columns:l})},t.prototype.closePanel=function(){this.gisMapComp.dataTabToggleVal&&(this.gisMapComp.dataTabToggle(),this.gisUtils.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.miTankDataSrv.getPostDataForKPI(this.selectedParams);this.isSourceSentinal="TELANGANA_MITANK"!=this.selectedParams.src&&this.selectedParams.src!=v.m.SOURCES.TELANGANA_MITANK_BY_DEPT,this.infoboxSummarySpinner=!0,this.miTanksService.post(Nt.a.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.miTanksService.preProcessKPIData(n,t.kpi),t.kpiStorageUnit=t.visibilityUtils.getAbsoluteDecimal(n[0].st),t.kpi.st=t.kpiStorageUnit.key),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t.prototype.createForms=function(){this.createForm(),this.wfst=this.mitankEditingSrv.getCurrentWfst(),this.drawnLayer=this.mitankEditingSrv.getCurrentDrawnLayer(),Object(M.isNullOrUndefined)(this.wfst)||Object(M.isNullOrUndefined)(this.drawnLayer)||(this.isFormActive=!0,this.updateFormData("draw"))},t.prototype.editMiTankBoundary=function(){var t=this.tableData&&this.tableData.md&&this.tableData.md.ext?this.tableData.md.ext:"-1";this.gisMapComp.actionOnEdit({action:"edit",tank_geoid:t}),this.isEditing=!0,this.isFormActive=!0,this.updateFormData("update"),this.getMiTanksHistoryData(t),this.hideVectorLayers()},t.prototype.createForm=function(){this.addTankForm=this.formBuilder.group({tank_name:new Ft.g(null,[Ft.z.required]),tank_geoid:new Ft.g(null,[Ft.z.required]),capacity:new Ft.g(null),mandal_nam:new Ft.g(null),dist_name:new Ft.g(null),ba_name:new Ft.g(null),sub_basin:new Ft.g(null),state_name:new Ft.g(null,[Ft.z.required])})},t.prototype.updateFormData=function(t){return n=this,void 0,l=function(){var n,e,l,a;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(i){switch(i.label){case 0:return Object(M.isNullOrUndefined)(this.wfst)||Object(M.isNullOrUndefined)(this.drawnLayer)||this.isEditing?[3,2]:(this.someLocationInfo.centroid=this.mitankEditingSrv.getCentroid(this.drawnLayer.toGeoJSON().geometry.coordinates),this.locationMetaData.tank_geoid=this.mitankEditingSrv.getTankGeoId(this.someLocationInfo.centroid),this.locationMetaData.lat=this.someLocationInfo.centroid[0],this.locationMetaData.lng=this.someLocationInfo.centroid[1],n=this,l=(e=Object).assign,a=[{},this.locationMetaData],[4,this.mitankEditingSrv.getLocationMetaData(this.drawnLayer.getBounds().getCenter(),this.layers,this.map)]);case 1:n.locationMetaData=l.apply(e,a.concat([i.sent()])),i.label=2;case 2:return"draw"!=t&&this.isEditing?"update"==t?this.addTankForm.setValue({mandal_nam:this.tableData.md.mnm||null,ba_name:this.tableData.md.bnm||null,tank_name:this.tableData.nm||null,tank_geoid:this.tableData.md.ext||null,dist_name:this.tableData.md.dnm||null,sub_basin:this.tableData.md.sbnm||null,state_name:this.tableData.md.snm||null,capacity:this.tableCapacityUnit&&this.tableCapacityUnit.key||null}):"history"==t&&this.addTankForm.setValue({mandal_nam:this.historyData[this.historyDataKey].properties.mandal_nam||null,ba_name:this.historyData[this.historyDataKey].properties.ba_name||null,tank_name:this.historyData[this.historyDataKey].properties.tank_name||null,tank_geoid:this.historyData[this.historyDataKey].properties.tank_geoid||null,dist_name:this.historyData[this.historyDataKey].properties.dist_name||null,sub_basin:this.historyData[this.historyDataKey].properties.sub_basin||null,state_name:this.historyData[this.historyDataKey].properties.state_name||null,capacity:this.historyData[this.historyDataKey].properties.capacity||null}):this.addTankForm.setValue({mandal_nam:this.locationMetaData.mandal_nam||null,ba_name:this.locationMetaData.ba_name||null,tank_name:null,tank_geoid:this.locationMetaData.tank_geoid||null,dist_name:this.locationMetaData.dist_name||null,sub_basin:this.locationMetaData.sub_basin||null,state_name:this.locationMetaData.state_name||null,capacity:null}),[2]}})},new((e=void 0)||(e=Promise))(function(t,a){function i(t){try{o(l.next(t))}catch(n){a(n)}}function r(t){try{o(l.throw(t))}catch(n){a(n)}}function o(n){n.done?t(n.value):new e(function(t){t(n.value)}).then(i,r)}o((l=l.apply(n,[])).next())});var n,e,l},t.prototype.submit=function(){var t=this;if(this.addTankForm.valid&&window.confirm("Are you sure you want to save this alert?")){if(this.tankDetailsFormData=this.addTankForm.value,this.isFormActive=!1,this.tankDetailsFormData.new_tank=this.isEditing?2:1,this.addTankForm.reset(),this.isEditing||this.dropdown){if(this.isEditing&&!this.dropdown)this.mitankEditingSrv.saveLayer(this.wfst,this.drawnLayer,this.tankDetailsFormData,this.locationMetaData),this.mitankEditingSrv.savePreviousLayer(this.mitankEditingSrv.getPreviousWFST(),this.mitankEditingSrv.getPreviousLayer());else if(this.isEditing&&this.dropdown){!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.historyLayer=this.historyLayer.toGeoJSON();var n=S.GeoJSON.geometryToLayer(this.historyLayer,null);this.historyLayer.properties=Gt({},this.historyData[this.historyDataKey].properties),n.feature=this.historyLayer,this.historyLayer=n;var e=Object.assign({},this.historyLayer);e.feature.id="corewris_mitanks_polygon_1.0_history_test."+e.feature.properties.gid,delete this.historyLayer.feature.properties.gid,this.mitankEditingSrv.saveHistoryLayer(this.wfst,this.historyLayer,this.tankDetailsFormData,this.locationMetaData,this.drawnLayer),this.mitankEditingSrv.savePreviousLayer(this.mitankEditingSrv.getPreviousWFST(),this.mitankEditingSrv.getPreviousLayer()),this.mitankEditingSrv.removeEntryFromHistoryLayer(this.mitankEditingSrv.getPreviousWFST(),e)}}else this.mitankEditingSrv.saveLayer(this.wfst,this.drawnLayer,this.tankDetailsFormData,this.locationMetaData),this.showStockChart=!1;this.resetDataAndMap(),this.map.removeLayer(this.layers.overlaylayers["Telangana MiTank Polygon"]);var l=[];setTimeout(function(){l["Telangana MiTank Polygon"]=Ut.MI_TANKS_LAYERLIST[t.selectedParams.dashboardView]["Telangana MiTank Polygon"],t.mitanksMapService.addSrcWiseGEOJSONLayers(l,t.gisMapComp,t.selectedParams)},500),this.updateTableDataAfterSubmission(),this.mitankEditingSrv.closeMitanksTool(!0)}},t.prototype.resetDataAndMap=function(){this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer),this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),1==this.isEditing&&this.showVectorLayersAgain(),this.isEditing=!1,this.dropdown=!1,this.isFormActive=!1,this.historyDataKey=null},t.prototype.updateTableDataAfterSubmission=function(){this.tankDetails=Gt({},this.tankDetails,this.tankDetailsFormData,this.locationMetaData),this.setTableData(),Object(M.isNullOrUndefined)(this.someLocationInfo.centroid)||this.map.setView([this.someLocationInfo.centroid[1],this.someLocationInfo.centroid[0]],15)},t.prototype.deleteTank=function(){var t=this;if(window.confirm("Are you sure you want to delete this alert?")){this.map.removeLayer(this.layers.overlaylayers["Telangana MiTank Polygon"]),this.mitankEditingSrv.deleteLayer(this.wfst,this.drawnLayer),this.tankDetails={},this.closePanel(),this.toastrSrv.success("Tank Deleted Successfully");var n=[];this.showStockChart=!0,setTimeout(function(){n["Telangana MiTank Polygon"]=Ut.MI_TANKS_LAYERLIST[t.selectedParams.dashboardView]["Telangana MiTank Polygon"],t.mitanksMapService.addSrcWiseGEOJSONLayers(n,t.gisMapComp,t.selectedParams),t.map.setZoom(t.map.getZoom()-2)},500)}},t.prototype.getMiTanksHistoryData=function(t){var n=this;this.mitankEditingSrv.getTanksHistoryDataURL(t).subscribe(function(t){t&&t.features&&(n.historyData=n.formatHistoryData(t.features))})},t.prototype.formatHistoryData=function(t){var n={};return t.forEach(function(t){var e=t.properties.timestamp;e=new Date(e).toLocaleString(),n[e]=t}),n},t.prototype.onDropDownChange=function(){!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.historyLayer=new S.polygon(this.reverseCoordinates(this.historyData[this.historyDataKey].geometry.coordinates[0])),this.map.addLayer(this.historyLayer),this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer),this.updateFormData("history")},t.prototype.reverseCoordinates=function(t){for(var n=[],e=0,l=t=t[0];e<l.length;e++){var a=l[e];n.push([a[1],a[0]])}return[n]},t.prototype.onHistoryCheckboxClick=function(){1==this.dropdown?this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer):(!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.map.addLayer(this.drawnLayer),this.drawnLayer.enableEdit(),this.updateFormData("update"),this.historyDataKey=null)},t.prototype.cancel=function(){this.resetDataAndMap(),this.map.addLayer(this.layers.overlaylayers["Telangana MiTank Polygon"]),this.isFormActive=!1,this.isEditing||this.closePanel(),this.mitankEditingSrv.closeMitanksTool(!0)},t.prototype.ngOnDestroy=function(){this.resetDataAndMap(),console.log("here in ngOnDestroy"),this.paramsSubscription.unsubscribe(),this.resetMitanksDrawTool()},t.prototype.resetMitanksDrawTool=function(){this.wfstSub.unsubscribe(),this.tankDetails={},this.tankDetailsFormData={},this.isFormActive=!1,this.locationMetaData={},this.someLocationInfo={},this.addTankForm.reset(),this.wfst=null,this.drawnLayer=null,this.mitankEditingSrv.setCurrentWfst(null),this.mitankEditingSrv.setCurrentDrawnLayer(null),this.mitankEditingSrv.updateGeometry(null,null)},t.prototype.setTableData=function(){this.isStation=!0,this.tableData.nm=this.tankDetails.tank_name,Object(M.isNullOrUndefined)(this.tableData.md)&&(this.tableData.md={},this.tableData.md.ext=this.tankDetails.tank_geoid,this.tableData.md.bnm=this.locationMetaData.ba_name,this.tableData.md.mnm=this.locationMetaData.mandal_nam,this.tableData.md.lg=null!=this.locationMetaData.lng?this.locationMetaData.lng:null,this.tableData.md.lt=this.locationMetaData.lat||null,this.tableData.md.dnm=this.locationMetaData.dist_name,this.tableData.md.sbnm=this.locationMetaData.sub_basin,this.tableData.md.snm=this.locationMetaData.state_name),this.tableCapacityUnit={key:this.tankDetails.capacity,val:"-"}},t.prototype.setTableDataFromLayer=function(t){this.tableData.nm=t.locName,this.tableData.md={},this.tableData.md.ext=t.miTankId,this.tableData.md.bnm=t.basin_name,this.tableData.md.mnm=t.mandal_name,this.tableData.md.dnm=t.district_name,this.tableData.md.sbnm=t.subbasin_name,this.tableData.md.snm=t.state_name,this.tableData.md.lg=t.lng,this.tableData.md.lt=t.lat,this.tableCapacityUnit={key:t.capacity,val:"-"}},t.prototype.hideVectorLayers=function(){for(var t in this.layers.overlaylayers)if(Object.prototype.hasOwnProperty.call(this.layers.overlaylayers,t)){var n=this.layers.overlaylayers[t];n&&n.options&&n.options.visible&&"VECTOR"==n.options.type&&this.map.hasLayer(n)&&this.map.removeLayer(n)}},t.prototype.showVectorLayersAgain=function(){for(var t in this.layers.overlaylayers)if(Object.prototype.hasOwnProperty.call(this.layers.overlaylayers,t)){var n=this.layers.overlaylayers[t];n&&n.options&&n.options.visible&&"VECTOR"==n.options.type&&(this.map.hasLayer(n)||this.map.addLayer(n))}},t}(),Wt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},zt=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Ht=function(){function t(t,n,e,l){this.utilsService=t,this.gisUtils=n,this.miTanksService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,location:{},dashboardView:"state"},this.isInitialLoad=!1,this.isSourceChanged=!1}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.gisUtils.getSelectedParams().subscribe(function(n){t.utilsService.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.miTanksService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.miTanksService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=Nt.a.VIEWS.ADMIN},t.prototype.onViewChange=function(){this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return Wt(this,void 0,void 0,function(){var t,n,e,l,a,i,r,o,s;return zt(this,function(u){switch(u.label){case 0:return this.mapLoaderActive=!0,t=[],[4,this.miTanksService.get(Nt.a.API_MAPPING.SOURCE,Nt.a.COMPONENT.MITANKS+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:for(t=u.sent(),n=[],[],e=function(e){t.forEach(function(t){t.key==e&&n.push(t)})},l=0,a=this.selectedFilterParams.view==v.m.VIEWS.PROJECT?[v.m.SOURCES.TELANGANA_MITANK_BY_DEPT,v.m.SOURCES.SENTINEL1_GC,v.m.SOURCES.SENTINEL2_GC]:[v.m.SOURCES.SENTINEL1,v.m.SOURCES.SENTINEL1_DEM];l<a.length;l++)e(a[l]);return t=this.visibilityUtils.updateSourceList(t=n),i=t,this.mapLoaderActive=!1,i&&i.length>0&&(-1!=(r=i.findIndex(function(t){return t.key==v.m.SOURCES.STATE_AND_CENTRAL_STATIONS}))&&i.splice(r,1),o=0,this.sourceList=i,s=v.m.SOURCES.TELANGANA_MITANK,o=this.sourceList.findIndex(function(t){return t.key==s}),this.selectedFilterParams.source=this.sourceList[o=-1==o?0:o],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=v.m.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utilsService.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utilsService.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates(),this.setWaterYear()},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,"yyyy"==this.selectedFilterParams.format&&this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utilsService.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format)));for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=Nt.a.COMPONENT.MITANKS,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=Nt.a.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utilsService.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utilsService.getModelDateFromDate(this.minDate),l=this.utilsService.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.miTanksService.getPostDataForLocTypes(t),l=[];this.miTanksService.post(Nt.a.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==Nt.a.LOCATION_LEVEL.GODAVARI&&(l=n.updateColumns(l,[Nt.a.LOCATION_LEVEL.STATE])),n.isInitialLoad&&(t.cType=n.utilsService.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.gisUtils.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return Wt(this,void 0,void 0,function(){var n,e,l,a,i,r;return zt(this,function(o){switch(o.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,t.pType!=v.m.LOCATIONS.MITANK?[3,2]:(n=this.miTanksService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.miTanksService.post(Nt.a.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=o.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-2],a=e.findIndex(function(t){return t.locType==l}),i=t.locationTypeList[t.locationTypeList.length-1],-1!=e.findIndex(function(t){return t.locType==i})?t.stationType=t.src:-1!=a&&(t.locName=(r=e[a]).ln,t.pUUID=r.lUUID,t.pType=r.locType,t.cType=this.utilsService.getChildTypeForGivenParentType(t.pType,t.locationTypeList)),o.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,o.label=4;case 4:return console.log("\n In checkAndUpdateLocation:: selectedParams ",t),this.gisUtils.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.gisUtils.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.gisUtils.setVisibilitySidebarMenuStatus(!1)},t}(),qt=function(){function t(t,n){this.route=t,this.miTanksService=n,this.sidebarComponent=Ht,this.layerList={},this.otherOptions={legend:{},serviceType:jt,functionName:"getSrcWiseLayers",stationHighlightFunctionName:"setStationHighlightLayer",resetLayerColorFunctionName:"resetVectorTileColor",addLayerColorFunctionName:"addVectorTileColor",handleLayerControlEvent:"handleLayerControlEvent",playbarOptions:this.miTanksService.getPlaybarOptions(),onGeoJsonEnd:"onGeoJsonLayerEnd"},this.miTanksLegend={},this.stateName=rt.a.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Yt}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.layerList={}},t}(),Kt=e("h5/M"),Xt=e("AQdI"),Jt=function(){return(Jt=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},$t=function(){function t(t,n,e,l,a,i,r){this.utilsService=t,this.obj=n,this.reservoirDataService=e,this.dataTableModule=l,this.utils=a,this.rainfallDataService=i,this.visibilityUtils=r,this.isReservoir=!1,this.columnConfig=this.reservoirDataService.getColumnConfig(),this.tableConfig=this.reservoirDataService.getTableConfig(),this.tableNameForDownload="reservoirTable",this.inputForBreadcrumb=[],this.isStation=!1,this.showErrorMsgForTable=!1,this.kpi={nRes:null,tSt:null,pfill:null,tca:null},this.showStockChart=!1,this.locationType=v.m.LOCATIONS}return t.prototype.ngOnInit=function(){this.reservoirTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=Xt.d.COMPONENT.RESERVOIR||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.selectedChartType="storage",this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.inputForBreadcrumb=[],this.tableData=[],this.reservoirTableSpinner=!0,this.showErrorMsgForTable=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.setStockChart(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(Xt.d.COMPONENT.RESERVOIR,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.reservoirDataService.getPostDataForBreadCrumb(this.selectedParams);this.reservoirTableSpinner=!0,this.rainfallDataService.post(Xt.d.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.reservoirTableSpinner=!1},function(n){t.reservoirTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb","STATE"==n.pType&&this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){var t=this;setTimeout(function(){t.stockChartConfig=t.selectedParams.pType==v.m.LOCATIONS.RESERVOIR&&"level"==t.selectedChartType?JSON.parse(JSON.stringify(pt)):JSON.parse(JSON.stringify(dt)),t.setStockChartPostData(),t.showStockChart=!0},100)},t.prototype.changeChart=function(){this.showStockChart=!1,this.setStockChart()},t.prototype.setStockChartPostData=function(){return t=this,void 0,e=function(){return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.getPostDataForCharts()];case 1:return t.sent(),"AVG"==this.selectedParams.aggr&&(this.selectedParams.pType==v.m.LOCATIONS.RESERVOIR&&"level"==this.selectedChartType?(this.stockChartConfig.applicationConfig.LTY.apiConfig.titleField="LTY.alv",this.stockChartConfig.applicationConfig.ST.apiConfig.titleField="ST.alv",this.stockChartConfig.applicationConfig.LY.apiConfig.titleField="LY.alv"):(this.stockChartConfig.applicationConfig.LTY.apiConfig.titleField="LTY.ast",this.stockChartConfig.applicationConfig.ST.apiConfig.titleField="ST.ast",this.stockChartConfig.applicationConfig.LY.apiConfig.titleField="LY.ast")),[2]}})},new((n=void 0)||(n=Promise))(function(l,a){function i(t){try{o(e.next(t))}catch(n){a(n)}}function r(t){try{o(e.throw(t))}catch(n){a(n)}}function o(t){t.done?l(t.value):new n(function(n){n(t.value)}).then(i,r)}o((e=e.apply(t,[])).next())});var t,n,e},t.prototype.getPostDataForCharts=function(){var t=this;return new Promise(function(n,e){t.stockChartConfig.applicationConfig.ST.apiConfig.postData=t.reservoirDataService.getPostDataForStockChart(t.selectedParams),t.stockChartConfig.applicationConfig.ST.apiConfig.postData.optionalPeriodList=["ST","LTY","LY"],t.stockChartConfig.applicationConfig.actual.apiConfig.postData=t.rainfallDataService.getPostDataForTable(t.selectedParams),t.selectedParams.pType==v.m.LOCATIONS.RESERVOIR&&"level"!=t.selectedChartType?t.reservoirDataService.post(Xt.d.API_MAPPING.TABLE,{}).subscribe(function(e){t.stockChartConfig.applicationConfig.actual.apiConfig.postData.src=v.m.SOURCES.STATE_STATIONS,n()},function(t){console.log("\n Error Occurred in getPostDataForCharts Details ",t),e()}):(t.stockChartConfig.applicationConfig.actual.apiConfig.postData.src=v.m.SOURCES.STATE_STATIONS,n())})},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isReservoir=!1,this.isStation=!1,this.getTableData(),this.getKPIData()):(this.isReservoir=!0,this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.reservoirDataService.getPostDataForReservoirTable(JSON.parse(JSON.stringify(this.selectedParams)));this.reservoirTableSpinner=!0,this.reservoirDataService.post(Xt.d.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=t.reservoirDataService.preProcessLastLeveltableData(n):t.showErrorMsgForTable=!0,t.reservoirTableSpinner=!1,t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.reservoirTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.reservoirDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.reservoirTableSpinner=!0,this.reservoirDataService.post(Xt.d.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.tableData=n[0]),t.reservoirTableSpinner=!1},function(n){t.reservoirTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==Xt.a.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams.cType;n=n==Xt.d.COMPONENT.RESERVOIR?"Reservoir":this.utils.capitalize(n);var e=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);e&&e.length>0&&(e[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),e.forEach(function(n){if(null!=n.jsonKey&&null!=n.jsonKey.path){var e=n.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[e]&&null!=t.columnConfig.properties[e].stopAt&&(n.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=Jt({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Jt({},this.tableConfiguration,{columns:e})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.reservoirDataService.getPostDataForTable(this.selectedParams);this.infoboxSummarySpinner=!0,this.reservoirDataService.post(Xt.d.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.reservoirDataService.preProcessKPIData(n,t.kpi)),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t}(),Qt=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Zt=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},tn=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.reservoirDataService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.sourceList=[],this.aggregationTypeList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},aggreType:null,view:null,location:{},dashboardView:"state",heatMap:{}},this.isInitialLoad=!1,this.isForecast=!1,this.isSourceChanged=!1,this.viewType=Xt.d.VIEWS,this.dateType=v.m.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.setAggregationTypeList(),this.getAndSetSource()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.reservoirDataService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.getAndSetLocationList=function(){this.locationList=this.reservoirDataService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.reservoirDataService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=Xt.d.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.viewType.BASIN:this.viewType.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetSource=function(){return Qt(this,void 0,void 0,function(){var t,n;return Zt(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.reservoirDataService.get(Xt.d.API_MAPPING.SOURCE,Xt.d.COMPONENT.RESERVOIR+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),t=this.visibilityUtils.updateSourceList(t),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.setAggregationTypeList=function(){this.aggregationTypeList=this.reservoirDataService.getAggregationTypeList(),this.selectedFilterParams.aggreType=this.aggregationTypeList[0]},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format))),this.validation[4]=!this.utils.isEmptyObj(this.selectedFilterParams.aggreType);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=Xt.d.COMPONENT.RESERVOIR,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=Xt.d.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.aggr=this.selectedFilterParams.aggreType.key,n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.reservoirDataService.getPostDataForLocTypes(t),l=[];this.reservoirDataService.post(Xt.d.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==Xt.a.GODAVARI&&(l=n.updateColumns(l,[Xt.a.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return Qt(this,void 0,void 0,function(){var n,e,l,a,i;return Zt(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.reservoirDataService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.reservoirDataService.post(Xt.d.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),nn=e("e/Cc"),en=function(){function t(t,n,e){this.route=t,this.utils=n,this.utilSrv=e,this.sidebarComponent=tn,this.layerList={},this.otherOptions={legend:{},serviceType:nn.a,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange",stationLayer:"getStationLayer"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=$t}return t.prototype.ngOnInit=function(){var t=this;this.utilSrv.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.urlParams=n,"TAMILNADU"===t.urlParams.dashboardView&&"MITANK"===t.urlParams.component&&"sensorClick"!=t.urlParams.actionType&&setTimeout(function(){t.reservoirHeatMapSpinner=!1},5e3))})},t}(),ln=e("Q5G+"),an=e("CFBS"),rn=function(){return(rn=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},on=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.soilMoistureService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.tableConfig=this.soilMoistureService.getTableConfig(),this.isLastLevel=!1,this.tableNameForDownload="soilMoistureTable",this.inputForBreadcrumb=[],this.kpi={asmPerc:null,asmVolume:null,vsmPerc:null,asmLevel:null},this.stockChartConfig=JSON.parse(JSON.stringify(st)),this.showStockChart=!1,this.showErrorMsgForTable=!1}return t.prototype.ngOnInit=function(){this.soilMoistureTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=an.c.COMPONENT.SOILMOISTURE||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.soilMoistureTableSpinner=!0,this.isStation=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.setStockChart(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(an.c.COMPONENT.SOILMOISTURE,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.soilMoistureService.getPostDataForBreadCrumb(this.selectedParams);this.soilMoistureTableSpinner=!0,this.soilMoistureService.post(an.c.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.soilMoistureTableSpinner=!1},function(n){t.soilMoistureTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){var t=this;setTimeout(function(){t.setStockChartPostData(),t.showStockChart=!0},100)},t.prototype.setStockChartPostData=function(){this.stockChartConfig.applicationConfig.asmPerc.apiConfig.postData=this.soilMoistureService.getPostDataForChart(this.selectedParams)},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.getTableData()):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.soilMoistureService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.soilMoistureTableSpinner=!0,this.soilMoistureService.post(an.c.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=t.soilMoistureService.preprocessTableData(n):t.showErrorMsgForTable=!0,t.soilMoistureTableSpinner=!1,t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.soilMoistureTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.soilMoistureService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.selectedParams.iPUUID&&(n.pEUUID=this.selectedParams.iPUUID),this.soilMoistureTableSpinner=!0,this.soilMoistureService.post(an.c.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=n[0]:t.showErrorMsgForTable=!0,t.soilMoistureTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.soilMoistureTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==an.a.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams,n=t.cType;n=n==an.c.COMPONENT.SOILMOISTURE?"SOILMOISTURE":this.utils.capitalize(n),this.columnConfig=this.soilMoistureService.getColumnConfig(t),this.columnConfig.properties.name.displayAs=n;var e=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);e&&e.length>0&&(e[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),e.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=rn({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=rn({},this.tableConfiguration,{columns:e})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.soilMoistureService.getPostDataForKPI(this.selectedParams);this.infoboxSummarySpinner=!0,this.soilMoistureService.post(an.c.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.soilMoistureService.preProcessKPIData(n,t.kpi)),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t}(),sn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},un=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},cn=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.soilmoistureService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},location:{},dashboardView:"state",seasonYear:{},seasonType:{},component:an.c.COMPONENT.SOILMOISTURE},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=an.c.VIEWS,this.dateType=Z.b.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.soilmoistureService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.soilmoistureService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=an.c.VIEWS.ADMIN},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.soilmoistureService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return sn(this,void 0,void 0,function(){var t,n;return un(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.soilmoistureService.get(an.c.API_MAPPING.SOURCE,an.c.COMPONENT.SOILMOISTURE+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),t=this.visibilityUtils.updateSourceList(t),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[1],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format)));for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.heatmap=this.selectedFilterParams.heatMap,n.component=v.m.COMPONENT.SOILMOISTURE,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=an.c.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.soilmoistureService.getPostDataForLocTypes(t),l=[];this.soilmoistureService.post(an.c.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==an.a.GODAVARI&&(l=n.updateColumns(l,[an.a.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t),n.utilsService.setSelectedParams(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return sn(this,void 0,void 0,function(){var n,e,l,a,i;return un(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.soilmoistureService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.soilmoistureService.post(an.c.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),hn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},dn=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},pn=function(){function t(t,n){this.soilmoistureDataService=t,this.Utils=n,this.layerList=[],this.soilMoistureHeatMapSpinner=!1}return t.prototype.getSrcWiseLayers=function(t){return hn(this,void 0,void 0,function(){var n,e,l,a;return dn(this,function(i){switch(i.label){case 0:if(t.spinner=!0,e=[],(n=t.params).component!=v.m.COMPONENT.SOILMOISTURE)return[3,2];for(l in an.c.SOILMOISTURE_LAYERLIST[n.dashboardView])(a=an.c.SOILMOISTURE_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);return this.addSrcWiseWMSLayers(e,t,n),"filter"!=n.actionType?[3,2]:[4,this.addSoilmoistureHeatMap(t)];case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSoilmoistureHeatMap=function(t){return hn(this,void 0,void 0,function(){var n,e;return dn(this,function(l){switch(l.label){case 0:return null!=(n=this.getHeatMapKeyMapping(t.params))&&an.c.SOILMOISTURE_LAYERLIST[v.m.VIEWS.ALL][n]&&(this.layerList[n]=an.c.SOILMOISTURE_LAYERLIST[v.m.VIEWS.ALL][n]),[4,this.getSoilmoistureHeatMap(t)];case 1:return(e=l.sent())&&Object.keys(e).length>0?[4,this.addSrcWiseHeatmapLayers(e,t,t.params)]:[3,3];case 2:l.sent(),l.label=3;case 3:return this.addLegend(t),[2]}})})},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.prototype.getHeatMapLayerNames=function(){return{ASMP:"Soilmoisture Actual Heatmap",VSMP:"Soilmoisture Volume Heatmap"}},t.prototype.getHeatMapKeyMapping=function(t){var n=this.getHeatMapLayerNames(),e=null;return t&&t.heatmap&&t.heatmap.key&&(e=n[t.heatmap.key]),e},t.prototype.getSoilmoistureHeatMap=function(t){var n=this,e={};return new Promise(function(l,a){var i=t.params,r=n.getHeatMapKeyMapping(i);if(null!=r){var o=n.soilmoistureDataService.getPostDataForHeatMap(i);n.soilmoistureDataService.post(an.c.API_MAPPING.HEATMAP,o).subscribe(function(t){var n=i.heatmap.key;if(null!=t[n]){var a={};a.url=t[n],a.name=r,a.basinName=i.dashboardView,e[r]=a}console.log("layerList",e),l(e)})}else l(e)})},t.prototype.addSrcWiseHeatmapLayers=function(t,n,e){var l=this;return new Promise(function(a,i){var r=n.gisDataService.createImageLayersOverlays(t,l.layerList,e.dashboardView);r=l.addSourceWiseLayers(n,r,e),a(n.addSrcWiseHeatmapLayers(r))})},t.prototype.addLegend=function(t){if(t.params&&t.params.heatmap&&!this.Utils.isEmptyObj(t.params.heatmap)){t.legendList={};var n=t.params.heatmap.key;an.b[n]&&(t.legendList[n]=an.b[n]),t.manageLegend()}},t.prototype.onHeatMapChange=function(t){return hn(this,void 0,void 0,function(){var n,e,l,a;return dn(this,function(i){switch(i.label){case 0:if(t.spinner=!0,n=t.params,e=this.getHeatMapLayerNames(),!n||n.component!=v.m.COMPONENT.SOILMOISTURE)return[3,2];if(this.Utils.isEmptyObj(t.heatMapParams))return[3,2];for(l in t.params.heatmap=t.heatMapParams.heatMap,e)this.layerList[a=e[l]]&&delete this.layerList[a],t.layers.overlaylayers[a]&&(t.map.hasLayer(t.layers.overlaylayers[a])&&t.map.removeLayer(t.layers.overlaylayers[a]),t.activeLayers[a]&&delete t.activeLayers[a],delete t.layers.overlaylayers[a]);return[4,this.addSoilmoistureHeatMap(t)];case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(ln.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),gn=function(){function t(t,n){this.route=t,this.soilMoistureService=n,this.sidebarComponent=cn,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:pn,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=on,this.soilMoistureHeatMapSpinner=this.soilMoistureService.soilMoistureHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),mn=e("0hWK"),bn=function(){function t(t,n,e){this.http=t,this.utils=n,this.utilsSrv=e,this.url=R.a.urlMapping.PROJ_API}return t.prototype.post=function(t,n){return this.http.post(this.url+t,n)},t.prototype.get=function(t,n){return this.http.get(this.url+t+n)},t.prototype.getDmmyDataForTable=function(){return[{locUUID:"fb9fea70-48b8-48b6-9b22-13ae83c8b65b",ruralPopulation:null,urbanPopulation:null,lpPopulation:null,ruralWaterDemand:null,urbanWaterDemand:null,totalWaterDemand:null,totallpWaterDemand:null,domesticWaterDemand:null,locName:"Kandi",area:134.2683997},{locUUID:"aab334b6-ee71-4c05-b0f1-a3676b48e348",ruralPopulation:18256517,urbanPopulation:16651368,lpPopulation:4405222,ruralWaterDemand:52.436207689709015,urbanWaterDemand:55.78490671962003,totalWaterDemand:108.22111440932905,totallpWaterDemand:4.1532637209,domesticWaterDemand:112.37437813022905,locName:"Hathnoora",area:203.543618},{locUUID:"7b0f34e3-81fd-4e2d-a9b8-3d1adb0d2c21",ruralPopulation:18256517,urbanPopulation:16651368,lpPopulation:59313175,ruralWaterDemand:52.436207689709015,urbanWaterDemand:55.78490671962003,totalWaterDemand:108.22111440932905,totallpWaterDemand:4.1532637209,domesticWaterDemand:112.37437813022905,locName:"TOTAL",area:4458.504555}]},t.prototype.getDummyDataForChart=function(){return{"URBAN DEMAND":[16.034987952356005,9.996603340104002,6.416541187451998,5.80671736848,4.053287386132001,3.2968692101400006,.7133843822180002,3.820600819199998,1.3199856987479999,2.2564755033919996,1.4267564548120002,.102714435,.06737159632399997,.35312648999000007],"RURAL POPULATION":[1089794,1590808,1054127,1065634,1018687,1505940,1108278,917168,2218152,2387227,1465320,1099055,817165,830147],"RURAL DEMAND":[7.521091150296001,8.632295222112004,3.1383790705079995,2.8384950682440007,3.458401592210001,4.021813588144,5.776939968875999,2.0535244422000014,4.1602171120800016,2.850636367919999,3.5559677537280017,2.08590017715,1.6764722930999998,.5537984390220002],"URBAN POPULATION":[2323439,1842233,2155203,2179972,1193914,1234489,136859,1706404,703793,1889654,587930,54120,32839,529339],labels:["Ernakulam","Thiruvananthapuram","Kozhikode","Thrissur","Alappuzha","Kollam","Pathanamthitta","Kannur","Palakkad","Malappuram","Kottayam","Idukki","Wayanad","Kasaragod"]}},t.prototype.preProcessColumnChart=function(t,n){for(var e=[],l=[],a={"urban demand":"#2D99FF","urban population":"#FF6C40"},i={"urban demand":{yAxis:0,valueSuffix:" (litre)",type:"column"},"urban population":{yAxis:1,valueSuffix:"",type:"column"}},r=t.labels.sort(),o=[],s=function(n){var e=t.labels.findIndex(function(t){return t.toLowerCase()==r[n].toLowerCase()});-1==e?r.splice(n,1):o.push(e)},u=0;u<r.length;u++)s(u);n.xAxis[0]={},n.xAxis[0].categories=r,n.xAxis[0].crosshair=!0,delete t.labels,n.yAxis[0]={},n.yAxis[0].title={},n.yAxis[0].title.text="Demand (litre)",n.yAxis[1]={},n.yAxis[1].title={},n.yAxis[1].title.text="Population",n.yAxis[1].opposite=!0;var c=[];for(var h in t){var d={name:null,data:[],yAxis:null,color:null,tooltip:{valueSuffix:null},type:null};if(a[h.toLowerCase()]){d.name=this.utils.pascalCase(h);for(var p=0;p<o.length;p++)d.data.push(t[h][o[p]]),"urban demand"==h.toLowerCase()&&e.push(this.utils.getDecimalFixed(t[h][o[p]])),"urban population"==h.toLowerCase()&&l.push(this.utils.getDecimalFixed(t[h][o[p]]));d.color=a[h.toLowerCase()],d.yAxis=i[h.toLowerCase()].yAxis,d.tooltip.valueSuffix=i[h.toLowerCase()].valueSuffix,d.type=i[h.toLowerCase()].type,c.push(d)}}n.series=c,n.tooltip={formatter:function(){return'<div class=tooltop"> <b>'+this.key+"</b><br/>Urban Water Demand: "+e[this.point.index]+"(litre) <br/>Urban Population: "+l[this.point.index]+"</div>"}}},t.prototype.setStackChartConfig=function(t,n,e,l){for(var a=this.getKeyToNameMap(),i=this.getColorsForChart(),r=[],o=t.labels,s=0;s<o.length;s++){var u=t.labels.indexOf(o[s]);u>=0&&(n.stackbarChart.xAxis.categories.push(t.labels[u]),r.push(u))}n.stackbarChart.yAxis[0].title.text="Demand (MCFT)",n.stackbarChart.yAxis[1].title.text="Population (Nos)",n.stackbarChart.tooltip.headerFormat="<b>{point.x}</b><br/>",n.stackbarChart.tooltip.pointFormat='<span style="color:#000">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>';var c=["TOTAL DEMAND"],h=["TOTAL POPULATION"];for(s=0;s<c.length;s++){for(var d={name:a[c[s]],data:[],color:i[c[s]],stack:"male"},p=0;p<r.length;p++)d.data.push(Number(t[c[s]][r[p]].toFixed(2)));n.stackbarChart.series.push(d)}for(s=0;s<h.length;s++){for(d={name:a[h[s]],data:[],color:i[h[s]],yAxis:1,stack:"female"},p=0;p<r.length;p++)d.data.push(t[h[s]][r[p]]);n.stackbarChart.series.push(d)}return n.stackbarChart},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.setColumnValue=function(t,n,e,l){void 0===l&&(l=[]);for(var a=e,i=0;i<l.length;i++)null==a[l[i]]&&(a[l[i]]={}),a=a[l[i]];return a[n.toLowerCase()]="number"==typeof t?this.utils.getDecimalNumber(t,1):t,e},t.prototype.preProcessKPIData=function(t){if(null!=t)var n={tp:t.totalPopulation?t.totalPopulation:null,twd:t.totalWaterDemand?t.totalWaterDemand:null,tlp:t.lpPopulation?t.lpPopulation:null,tlwd:t.totallpWaterDemand?t.totallpWaterDemand:null,dwd:t.domesticWaterDemand?t.domesticWaterDemand:null};return n},t.prototype.preprocessTableData=function(t){var n=this,e={name:"locName",uuid:"locUUID",rp:"ruralPopulation",up:"urbanPopulation",lpp:"lpPopulation",rwd:"ruralWaterDemand",uwd:"urbanWaterDemand",twd:"totalWaterDemand",tlpwd:"totallpWaterDemand",dwd:"domesticWaterDemand"},l=[],a={};return t.forEach(function(t){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i],s=t[e[o]];a[o]="name"==o||"uuid"==o?s:n.getFormattedDecimalFix("rp"==o||"up"==o||"lpp"==o?s:0==s?.001:s)}l.push(a),a={}}),l},t.prototype.getFormattedDecimalFix=function(t){if(!isNaN(t))return t===parseInt(t)&&t>999?t.toLocaleString("en-IN"):(parseInt(t),t=(t=(Math.round(100*t)/100).toFixed(2))?Number(t).toLocaleString("en-IN"):"-",Math.floor(t)==t&&(t+=".00"),t)},t.prototype.getViewList=function(t){var n=[];return t==mn.b.LOCATIONS.TAMILNADU.NAME&&(n=[mn.b.VIEWS.ADMIN,mn.b.VIEWS.BASIN]),n},t.prototype.getLocationList=function(){return[mn.b.LOCATIONS.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getColumnConfig=function(){var t=this.getColumnsDisplayNames();return{show:["name","twd","tlpwd","dwd"],properties:{name:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"",append:"uuid"},twd:{hideable:!0,displayAs:t.twd,type:"NUMBER"},tlpwd:{hideable:!0,displayAs:t.tlpwd,type:"NUMBER"},dwd:{hideable:!0,displayAs:t.dwd,type:"NUMBER"}}}},t.prototype.getColumnConfigDetails=function(){var t=this.getColumnsDisplayNames();return{show:["name","rp","up","lpp","rwd","uwd","twd","tlpwd","dwd"],properties:{name:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:v.m.LOCATION_CONSTANT.PANCHAYATH,append:"uuid"},rp:{hideable:!0,displayAs:t.rp,type:"NUMBER"},up:{hideable:!0,displayAs:t.up,type:"NUMBER"},lpp:{hideable:!0,displayAs:t.lpp,type:"NUMBER"},rwd:{hideable:!0,displayAs:t.rwd,type:"NUMBER"},uwd:{hideable:!0,displayAs:t.uwd,type:"NUMBER"},twd:{hideable:!0,displayAs:t.twd,type:"NUMBER"},tlpwd:{hideable:!0,displayAs:t.tlpwd,type:"NUMBER"},dwd:{hideable:!0,displayAs:t.dwd,type:"NUMBER"}}}},t.prototype.getColumnsDisplayNames=function(){return{rp:"Rural Population",up:"Urban Population",lpp:"Livestock Population (Nos)",rwd:"Rural Human (MCFT)",uwd:"Urban Human (MCFT)",twd:"Total population Water Demand (MCFT) (55 lpcd)",tlpwd:"Total Livestock Water Demand (MCFT)",dwd:"Total Domestic Water Demand(MCFT)"}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!0,align:"center",order:"order-md-1",text:""}},css:{tableClass:"table table-bordered align-items-center",theadClass:" text-center"},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"name",colspan:2},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0},downloadOptions:[{downloadType:"xls",downloadFileName:"Domestic Demand-table",downloadAll:!0,metaData:!1},{downloadType:"pdf",downloadFileName:"Domestic Demand-table",downloadAll:!0,metaData:!1}],paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]}}},t.prototype.getColumnChartConfig=function(){return{component:"domesticDemandColumn",exporting:{enabled:!1},credits:{enabled:!1},chart:{type:"column",backgroundColor:"#171e28"},title:{text:"",style:{fontSize:"1.2em"}},xAxis:[],yAxis:[],tooltip:{shared:!0,valueDecimals:1},plotOptions:{column:{pointPadding:.2,borderWidth:0}},legend:{itemStyle:{color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"}},series:[]}},t.prototype.getStackbarChartConfig=function(){return{component:"domesticStackbar",exporting:{enabled:!0},credits:{enabled:!1},chart:{type:"column",backgroundColor:"#FFFFFF"},colors:[],title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}}},{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},opposite:!0}],legend:{},tooltip:{headerFormat:"",pointFormat:"",shared:!0,opacity:1,backgroundColor:"#FFF"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]}},t.prototype.getKeyToNameMap=function(){return{"TOTAL POPULATION":"Total Population","TOTAL DEMAND":"Total Water Demand"}},t.prototype.getColorsForChart=function(){return{"TOTAL POPULATION":"#72DD07","TOTAL DEMAND":"#2D99FF"}},t.prototype.getPostDataForTable=function(t){return{eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getUrlParamsForTable=function(t){return{pUUID:t.pUUID,lType:t.pType,cType:t.cType,format:t.format,src:t.src,sDate:t.sDate,eDate:t.eDate,pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU}},t.prototype.getPostDataForMap=function(t){return{pUUID:t.pUUID,lType:t.pType,cType:t.cType,format:t.format,src:t.src,sDate:t.sDate,eDate:t.eDate,pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU}},t.prototype.getPostDataForDistrict=function(t){return{eDate:"20210107",sDate:"20200601",pUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",pType:"STATE",format:"DAILY",cType:"DISTRICT",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",src:"TELANGANA_MITANK",aggr:"LATEST",viewPEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",view:"ADMIN"}},t.prototype.getPostDataForMandal=function(t){return{eDate:"20210107",sDate:"20200601",pUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",pType:"STATE",format:"DAILY",cType:"MANDAL",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",src:"TELANGANA_MITANK",aggr:"LATEST",viewPEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",view:"ADMIN"}},t.prototype.getPostDataForChart=function(t){return{component:"soilmoisture",type:"Percentage available soil moisture",sUUID:"b3a3109c-1d8d-11ea-9f34-04ea56f9ded6",depth:"15",lType:"DISTRICT",cType:"MANDAL",lUUID:"787d19b3-b511-4161-b08c-aa23082318be",src:"NRSC",sDate:"20200601",eDate:"20200930",format:"yyyyMMdd",view:"ADMIN"}},t.prototype.getChartParams=function(t){return{pUUID:t.pUUID,lType:t.pType,cType:t.cType,format:t.format,src:t.src,sDate:t.sDate,eDate:t.eDate,pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU}},t.prototype.changeParamsToCommonParams=function(t){void 0===t&&(t={});var n={},e=this.getCommonParamsForMISAndGIS();for(var l in t)e[l]?n[e[l]]=t[l]:n[l]=t[l];return n},t.prototype.getCommonParamsForMISAndGIS=function(){return{component:"component",src:"src",srcUUID:"srcUUID",srcName:"srcName",pType:"pType",loctype:"pType",cType:"cType",seasonType:"seasonType",sDate:"sDate",eDate:"eDate",format:"format",seasonYear:"seasonYear",eYear:"seasonYear",locuuid:"locUUID",locUUID:"locUUID",view:"view",cumEndYear:"seasonYear"}},t.prototype.getPostDataForBreadCrumb=function(t){return{locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component.toLowerCase(),view:t.view,pEUUID:t.pEUUID}},t.prototype.getPostDataForKPI=function(t){return{eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getPostDataForLocTypes=function(t){return{component:(t=this.changeParamsToCommonParams(t)).component.toLowerCase(),srcUUID:t.srcUUID,pEUUID:t.pEUUID,view:t.view+"_HIERARCHY"}},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(j.c),c.gb(D.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),fn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},yn=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},vn=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.ddService=e,this.visibilityUtils=l,this.validation=new Array(6).fill(!0),this.mapLoaderActive=!1,this.sourceList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},aggreType:null,year:{},view:null,location:{},dashboardView:"state",component:v.m.COMPONENT.DOMESTICDEMAND},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=mn.b.VIEWS}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.ddService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.getViewList=function(){this.viewList=this.ddService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=mn.b.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.viewType.BASIN:this.viewType.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetSource=function(){return fn(this,void 0,void 0,function(){var t,n;return yn(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.ddService.get(mn.b.API_MAPPING.SOURCE,v.m.COMPONENT.POPULATION+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),(t=this.visibilityUtils.updateSourceList(t))[0].minmax.MIN=t[0].minmax.MIN+"0101",t[0].minmax.MAX=t[0].minmax.MAX+"1231",n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setMinMaxDates(),this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),this.maxDate=this.maxDate.getTime()>(new Date).getTime()?new Date:this.maxDate,this.setYearList()},t.prototype.setYearList=function(){var t=this.maxDate.getFullYear(),n=this.maxDate.getMonth(),e=this.minDate.getFullYear();n<4&&(t-=1),this.yearList=[];for(var l=t;l>=e;l--)this.yearList.push({key:l,value:l})},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t},t.prototype.onYearChange=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.year.key+"0601"),this.maxDate=this.utils.getDateObjectFromModelDate((Number(this.selectedFilterParams.year.key)+1).toString()+"0531");var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.setWaterYear=function(){this.selectedFilterParams.year=null,this.selectedFilterParams.year=this.yearList[0]||null;var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate,this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.year.key+"0601"),this.maxDate=this.utils.getDateObjectFromModelDate((Number(this.selectedFilterParams.year.key)+1).toString()+"0531")},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[5]=!this.utils.isEmptyObj(this.selectedFilterParams.year);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=v.m.COMPONENT.POPULATION,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=mn.b.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.year=this.selectedFilterParams.year.key,n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.ddService.getPostDataForLocTypes(t),l=[];this.ddService.post(mn.b.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==mn.c.GODAVARI&&(l=n.updateColumns(l,[mn.c.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),t.location.NAME==mn.c.GODAVARI&&(t.cType=mn.c.BASIN),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.utilsService.setSelectedParams(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return fn(this,void 0,void 0,function(){var n,e,l,a,i;return yn(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.ddService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.ddService.post(mn.b.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),Cn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Sn=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Mn=function(){function t(t,n){this.domesticdemandDataService=t,this.utils=n,this.layerList=[],this.domesticdemandHeatMapSpinner=!1,this.pTypeData=[],this.cTypeData=[]}return t.prototype.getSrcWiseLayers=function(t){return Cn(this,void 0,void 0,function(){var n,e,l,a;return Sn(this,function(i){if(t.spinner=!0,e=[],(n=t.params).component==v.m.COMPONENT.POPULATION){for(l in mn.b.DOMESTICDEMAND_LAYERLIST[n.dashboardView])(a=mn.b.DOMESTICDEMAND_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);this.addSrcWiseWMSLayers(e,t,n),"filter"==n.actionType&&this.getAndSetColors(t),t.spinner=!1}return[2]})})},t.prototype.colorLayers=function(t,n,e,l){var a=t.layers.overlaylayers;if(null!=a[n])for(var i in e){var r=l;r.clr=e[i].color,r.uuid=i,t.colorVectortileslayer(a[n],[r])}},t.prototype.getStyleObjForLayer=function(t){return{uuid:null,clr:"#634343",wt:.3,opacity:.45}},t.prototype.getAndSetColors=function(t){return Cn(this,void 0,void 0,function(){var n,e,l,a,i;return Sn(this,function(r){switch(r.label){case 0:return t.spinner=!0,e=this.getLayerNamesBasedOnParams(n=t.params),l=this.domesticdemandDataService.getPostDataForMap(n),a=this,[4,this.getDomesticDemandData(l,"parent",n)];case 1:return a.pTypeData=r.sent(),(l=this.domesticdemandDataService.getPostDataForMap(n)).cType=this.utils.getChildTypeForGivenParentType(l.cType,n.locationTypeList),i=this,[4,this.getDomesticDemandData(l,"child",n)];case 2:return i.cTypeData=r.sent(),null!=e.pLayerName&&this.colorLayers(t,e.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=e.cLayerName&&this.colorLayers(t,e.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getLayerNamesBasedOnParams=function(t){var n={pLayerName:null,cLayerName:null};return t.dashboardView==v.m.LOCATIONS.TAMILNADU?t.view==v.m.VIEWS.ADMIN?(n.pLayerName="TN District Boundaries",n.cLayerName="TN Mandal Boundaries"):(n.pLayerName="Telangana Basin",n.cLayerName="Telangana Subbasin"):t.dashboardView==v.m.LOCATIONS.GODAVARI&&t.view==v.m.VIEWS.BASIN&&(n.cLayerName="Godavari Subbasin"),n},t.prototype.getDomesticDemandData=function(t,n,e){var l=this,a={};return new Promise(function(i,r){l.domesticdemandDataService.post(mn.b.API_MAPPING.TABLE,t).subscribe(function(t){t&&t.length>0&&(a=l.preProcessData(t,n,e)),i(a)})})},t.prototype.getLegend=function(t){var n=null,e=t.params,l={};return e.view==v.m.VIEWS.ADMIN?e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=t.map.getZoom()>v.g[v.m.LOCATIONS.DISTRICT].MAX?v.m.LOCATIONS.MANDAL:v.m.LOCATIONS.DISTRICT):e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=v.m.LOCATIONS.SUBBASIN),null!=n&&(l[n]=mn.a[e.view][n]),l},t.prototype.manageLegend=function(t){t.otherOptions.legend={},t.removeLegend(),t.otherOptions.legend=this.getLegend(t),this.utils.isEmptyObj(t.otherOptions.legend)||t.addLegend()},t.prototype.preProcessData=function(t,n,e){var l={},a=null;e.view==v.m.VIEWS.ADMIN?(a=v.m.LOCATIONS.MANDAL,"parent"==n&&(a=v.m.LOCATIONS.DISTRICT)):(a=v.m.LOCATIONS.SUBBASIN,"parent"==n&&(a=v.m.LOCATIONS.BASIN));for(var i=0,r=t;i<r.length;i++){var o=r[i];if(null!=o.locName&&"total"!=o.locName.toLowerCase()){var s=o.locUUID,u="#FFFFFF";if(null!=o.totalWaterDemand&&null!=o.totalWaterDemand&&null!=a){var c=Number(o.totalWaterDemand);u=this.getColor(c,a)}l[s]={color:u}}}return l},t.prototype.getColor=function(t,n){var e="#FFFFFF";return n==v.m.LOCATIONS.DISTRICT?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.MANDAL?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.BASIN?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.SUBBASIN&&(t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB")),e},t.prototype.addSrcWiseVECTORLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.VECTOR_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseVECTORLayers(l)},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(bn),c.gb(T.a))},token:t,providedIn:"root"}),t}(),_n=function(){return(_n=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Ln=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.domesticdemandService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.columnConfig=this.domesticdemandService.getColumnConfig(),this.tableConfig=this.domesticdemandService.getTableConfig(),this.tableNameForDownload="DomesticDemand-table",this.inputForBreadcrumb=[],this.kpiData={tp:null,twd:null,tlp:null,tlwd:null,dwd:null},this.chartOptions={stackbarChart:_n({},this.domesticdemandService.getStackbarChartConfig())},this.showStackChart={showChart:!1,renderChart:!1},this.showErrorMsgForTable=!1,this.throbberForStackChart=!1}return t.prototype.ngOnInit=function(){this.domesticdemandTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=v.m.COMPONENT.POPULATION||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t=0,n=Object.keys(this.kpiData);t<n.length;t++)this.kpiData[n[t]]=null;this.filteredTableData=null,this.chartOptions.stackbarChart.xAxis.categories=[],this.chartOptions.stackbarChart.series=[],this.showStackChart.showChart=!1,this.showStackChart.renderChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.domesticdemandTableSpinner=!0,this.isStation=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.setStackChart(this.selectedParams),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(v.m.COMPONENT.DOMESTICDEMAND,this.selectedParams)},t.prototype.setKPIData=function(t,n){var e;void 0===n&&(n=!1),e=n?t[0]:t.filter(function(t){return"TOTAL"===t.locName})[0],this.kpiData=this.domesticdemandService.preProcessKPIData(e)},t.prototype.setBreadCrumb=function(){var t=this,n=this.domesticdemandService.getPostDataForBreadCrumb(this.selectedParams);this.domesticdemandTableSpinner=!0,this.domesticdemandService.post(mn.b.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.domesticdemandTableSpinner=!1},function(n){t.domesticdemandTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.prevpUUID=n.pUUID,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.locName=t.selectedLocation.ln,n.locuuid=t.selectedLocation.lUUID,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",n.handleEventFromBreadcrumb=!0,this.utilsService.setSelectedParams(n))},t.prototype.setStackChart=function(t){var n=this.domesticdemandService.getChartParams(t);this.getChartDataForStack(n)},t.prototype.getChartDataForStack=function(t){var n=this;this.showStackChart.showChart=!0,this.throbberForStackChart=!0,this.domesticdemandService.post(mn.b.API_MAPPING.CHART,t).subscribe(function(e){n.chartOptions.stackbarChart=n.domesticdemandService.setStackChartConfig(e,n.chartOptions,t.cType,e.labels),n.showStackChart.renderChart=!0,n.throbberForStackChart=!1},function(t){n.showStackChart.renderChart=!0,n.throbberForStackChart=!1})},t.prototype.getAndSetTableData=function(){this.setTableConfig(),this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.getTableData()):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.setTableConfig=function(){this.columnConfig=this.domesticdemandService.getColumnConfig(),this.tableConfig=this.domesticdemandService.getTableConfig()},t.prototype.getTableData=function(){var t=this,n=this.domesticdemandService.getUrlParamsForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.domesticdemandTableSpinner=!0,this.domesticdemandService.post(mn.b.API_MAPPING.TABLE,n).subscribe(function(e){e&&e.length>0?(t.setKPIData(e),e=t.domesticdemandService.preprocessTableData(e),t.tableData=e,t.filteredTableData=e.slice(),t.updateHeaderConfiguration(n,!0)):t.showErrorMsgForTable=!0,t.domesticdemandTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.domesticdemandTableSpinner=!1})},t.prototype.updateHeaderConfiguration=function(t,n){var e=this.selectedParams;this.columnConfig.properties.name.displayAs="mandal"==e.cType.toLowerCase()?"Block":this.utils.capitalize(e.cType);var l=_n({},this.columnConfig),a=this.dataTableModule.getTableHeaderConfiguration(this.filteredTableData,"",l,n);this.tableConfiguration=_n({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=_n({},this.tableConfiguration,{columns:a})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.domesticdemandService.getUrlParamsForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.domesticdemandTableSpinner=!0,this.domesticdemandService.post(mn.b.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?(t.tableData=n[0],t.setKPIData(n,!0)):t.showErrorMsgForTable=!0,t.domesticdemandTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.domesticdemandTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.locuuid=t.values[1],n.pUUID=t.values[1],n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams,e=n.cType;e=this.utils.capitalize(e),this.columnConfig.properties.locname.displayAs=e;var l=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);l&&l.length>0&&(l[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),l.forEach(function(e){if(null!=e.jsonKey&&null!=e.jsonKey.path){var l=e.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[l]&&null!=t.columnConfig.properties[l].stopAt&&t.locTypes.indexOf(n.cType)==t.locTypes.length-1&&(e.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=_n({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=_n({},this.tableConfiguration,{columns:l})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t}(),On=function(){function t(t,n){this.route=t,this.domesticdemandMapService=n,this.sidebarComponent=vn,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:Mn,functionName:"getSrcWiseLayers",stationHighlightFunctionName:"setStationHighlightLayer",changeLegendOnZoom:"manageLegend"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Ln,this.domesticdemandHeatMapSpinner=this.domesticdemandMapService.domesticdemandHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),An={COMPONENT:{INDUSTRIALDEMAND:"INDUSTRY"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"indwd/aggregated",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",KPI:"indwd/kpi"},LOCATIONS:{TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}},TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY"},INDUSTRIALDEMAND_LAYERLIST:(r={},r[v.m.LOCATIONS.TAMILNADU]={},r[v.m.LOCATIONS.ALL]={"Soilmoisture Heatmap":{component:v.m.COMPONENT.INDUSTRIALDEMAND,source:v.m.SOURCES.ALL,view:v.m.VIEWS.ALL,displayName:"Soilmoisture Heatmap",name:"Soilmoisture Heatmap",visible:!0,layerptions_show_on_selector:!1,layer_name:"Soilmoisture Heatmap",hasLegend:!0,layeroptions_min_zoom:v.g[v.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.RAINFALL].MAX,group:"Soilmoisture HeatMap",group_type:"radio-deselect",layerServiceType:v.d.HEATMAP_LAYER,cqlfilter:null,type:v.d.HEATMAP_LAYER}},r[v.m.LOCATIONS.GODAVARI]={},r)},Tn=((o={})[v.m.VIEWS.ADMIN]=((s={})[v.m.LOCATIONS.DISTRICT]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 2"},{backgroundColor:"#83CFFE",color:"#000000",text:"2 to 4"},{backgroundColor:"#6EC3F8",color:"#FFFFFF",text:"4 to 6"},{backgroundColor:"#3DA8EB",color:"#FFFFFF",text:"6 to 8"},{backgroundColor:"#0B85D2",color:"#FFFFFF",text:"8 to 10"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"10 to 12"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"12 to 14"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"14 to 16"},{backgroundColor:"#CB8F7C",color:"#FFFFFF",text:"16 to 18"},{backgroundColor:"#FF6C40",color:"#FFFFFF",text:"18 to 20"},{backgroundColor:"#f7420c",color:"#FFFFFF",text:"> 20"}]},s[v.m.LOCATIONS.MANDAL]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 2"},{backgroundColor:"#83CFFE",color:"#000000",text:"2 to 4"},{backgroundColor:"#6EC3F8",color:"#FFFFFF",text:"4 to 6"},{backgroundColor:"#3DA8EB",color:"#FFFFFF",text:"6 to 8"},{backgroundColor:"#0B85D2",color:"#FFFFFF",text:"8 to 10"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"10 to 12"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"12 to 14"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"14 to 16"},{backgroundColor:"#CB8F7C",color:"#FFFFFF",text:"16 to 18"},{backgroundColor:"#FF6C40",color:"#FFFFFF",text:"18 to 20"},{backgroundColor:"#f7420c",color:"#FFFFFF",text:"> 20"}]},s),o[v.m.VIEWS.BASIN]=((u={})[v.m.LOCATIONS.SUBBASIN]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 2"},{backgroundColor:"#83CFFE",color:"#000000",text:"2 to 4"},{backgroundColor:"#6EC3F8",color:"#FFFFFF",text:"4 to 6"},{backgroundColor:"#3DA8EB",color:"#FFFFFF",text:"6 to 8"},{backgroundColor:"#0B85D2",color:"#FFFFFF",text:"8 to 10"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"10 to 12"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"12 to 14"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"14 to 16"},{backgroundColor:"#CB8F7C",color:"#FFFFFF",text:"16 to 18"},{backgroundColor:"#FF6C40",color:"#FFFFFF",text:"18 to 20"},{backgroundColor:"#f7420c",color:"#FFFFFF",text:"> 20"}]},u),o),Dn=function(){function t(t,n,e){this.http=t,this.utils=n,this.utilsSrv=e,this.url=R.a.urlMapping.PROJ_API}return t.prototype.post=function(t,n){return this.http.post(this.url+t,n)},t.prototype.postnew=function(t,n){return this.http.post(this.url+t,n)},t.prototype.get=function(t,n){return this.http.get(this.url+t+n)},t.prototype.postnew1=function(t,n){return this.http.post(this.url+t,n)},t.prototype.getStackChartData=function(t){return this.http.post(this.url+"demand/entity",t)},t.prototype.getDonutChartData=function(t){return this.http.post(this.url+"indwd/entities",t)},t.prototype.getDmmyDataForTable=function(){return[{locUUID:"92b20082-f44d-456d-bbd4-5a22520d089a",locName:"Kumurambheem Asifabad",parentName:null,waterDemand:0,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"316849f3-137e-4a36-9d5e-487c9f3fdc84",locName:"Nizamabad",parentName:null,waterDemand:838,iType:null,area:null,category:null,count:2,domIndustry:"Wood/wooden based furniture",domwaterDemand:519}]},t.prototype.getDmmyDataForKpi=function(){return[{Micro:2019,DEMAND:2538,Medium:519}]},t.prototype.getDummyDataForChart=function(){return[{strlables:["Others","Paper & Paper products","Rubber  Plastic & petro based","Chemical/Chemical based","Wood/wooden based furniture"],data:[{data:[["Others",319],["Paper & Paper products",789],["Rubber  Plastic & petro based",2019],["Chemical/Chemical based",519],["Wood/wooden based furniture",519]]}]}]},t.prototype.preProcessDonutChartData=function(t,n){var e,l=t.data[0].data,a=[];e=Object.values({Others:"#505D6F","Paper & Paper products":"#FF6C40","Rubber  Plastic & petro based":"#FFE700","Chemical/Chemical based":"#00B103","Wood/wooden based furniture":"#FF8F6D"});for(var i=0;i<l.length;i++){var r={name:null,y:null};r.name=l[i][0],r.y=l[i][1],a.push(r)}return n.colors=e,n.series.push({type:"pie",data:a}),n},t.prototype.setStackChartConfig=function(t,n,e){var l,a=this.getKeyToNameMap(),i=this.getColorsForChart(),r=[];l=e==v.m.LOCATION_CONSTANT.DISTRICT?v.m.DISTRICT_ORDER_ACTUAL_NAME:t.labels.sort();for(var o=0;o<l.length;o++){var s=t.labels.indexOf(l[o]);s>=0&&(n.stackbarChart.xAxis.categories.push(t.labels[s]),r.push(s))}n.stackbarChart.yAxis[0].title.text="Demand (MCM)",n.stackbarChart.yAxis[1].title.text="Population",n.stackbarChart.tooltip.headerFormat="<b>{point.x}</b><br/>",n.stackbarChart.tooltip.pointFormat='<span style="color:#000">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>';var u=["RURAL DEMAND","URBAN DEMAND"],c=["RURAL POPULATION","URBAN POPULATION"];for(o=0;o<u.length;o++){for(var h={name:a[u[o]],data:[],color:i[u[o]],stack:"male"},d=0;d<r.length;d++)h.data.push(Number(t[u[o]][r[d]].toFixed(1)));n.stackbarChart.series.push(h)}for(o=0;o<c.length;o++){for(h={name:a[c[o]],data:[],color:i[c[o]],yAxis:1,stack:"female",visible:!1},d=0;d<r.length;d++)h.data.push(t[c[o]][r[d]]);n.stackbarChart.series.push(h)}return n.stackbarChart},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.setColumnValue=function(t,n,e,l){void 0===l&&(l=[]);for(var a=e,i=0;i<l.length;i++)null==a[l[i]]&&(a[l[i]]={}),a=a[l[i]];return a[n.toLowerCase()]="number"==typeof t?this.utils.getDecimalNumber(t,1):t,e},t.prototype.preProcessKPIData=function(t,n){var e={demand:"DEMAND",micro:"Micro and Small",medium:"Medium",large:"Large"};for(var l in n)n[l]=t[e[l]];return n},t.prototype.preProcessLastLevelKPIData=function(t,n){var e={},l=t[3];for(var a in n){var i;null!=(i=e[a]?this.getColumnValue(a,l,e[a]):this.getColumnValue(a,l))&&(n[a]=this.utils.getDecimalFixed(i))}return n},t.prototype.preprocessTableData=function(t){for(var n=["locName","locUUID","waterDemand","count","domIndustry","domwaterDemand"],e={},l=[],a={},i=0,r=t;i<r.length;i++){var o=r[i];a={};for(var s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;null==(h=e[c]&&e[c].hierarchy?this.getColumnValue(c,o,e[c].hierarchy):this.getColumnValue(c,o))&&(h="-"),a=e[c]&&e[c].headers?this.setColumnValue(h,c,a,e[c].headers):this.setColumnValue(h,c,a)}this.utilsSrv.isEmptyObj(a)||l.push(a)}return l},t.prototype.preprocessTableDataForIndustry=function(t){for(var n=["locName","locUUID","iType","category","waterDemand"],e={},l=[],a=0,i=t;a<i.length;a++){for(var r=i[a],o={},s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;null==(h=e[c]&&e[c].hierarchy?this.getColumnValue(c,r,e[c].hierarchy):this.getColumnValue(c,r))&&(h="-"),o=e[c]&&e[c].headers?this.setColumnValue(h,c,o,e[c].headers):this.setColumnValue(h,c,o)}this.utilsSrv.isEmptyObj(o)||l.push(o)}return l},t.prototype.preProcessLastLeveltableData=function(t){for(var n=["locName","locUUID","waterDemand","count","domIndustry","domwaterDemand"],e={},l=[],a={},i=0,r=t;i<r.length;i++){var o=r[i];a={};for(var s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;null==(h=e[c]&&e[c].hierarchy?this.getColumnValue(c,o,e[c].hierarchy):this.getColumnValue(c,o))&&(h="-"),a=e[c]&&e[c].headers?this.setColumnValue(h,c,a,e[c].headers):this.setColumnValue(h,c,a)}this.utilsSrv.isEmptyObj(a)||l.push(a)}return l},t.prototype.getViewList=function(t){return t!=An.LOCATIONS.GODAVARI.NAME?[An.VIEWS.ADMIN,An.VIEWS.BASIN]:[An.VIEWS.BASIN]},t.prototype.getLocationList=function(){return[An.LOCATIONS.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getColumnConfig=function(){return{show:["locname","waterdemand","count","domwaterdemand","domindustry"],properties:{locname:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"District ",stopAt:"",append:"locuuid",class:"font-weight-bold",copyToRows:!0},waterdemand:{hideable:!0,displayAs:"Water Demand (MCM)",class:"font-weight-bold",type:"NUMBER",copyToRows:!1},count:{hideable:!0,displayAs:"Count",class:"font-weight-bold",type:"NUMBER",copyToRows:!1},domindustry:{hideable:!0,type:"LOCATION_DISABLED",displayAs:"Dominant Industry",class:"font-weight-bold",copyToRows:!1},domwaterdemand:{hideable:!0,type:"NUMBER",displayAs:"Dominant Water Demand (MCM)",class:"font-weight-bold",copyToRows:!1}}}},t.prototype.getColumnsDisplayNames=function(){return{ruralwaterdemand:"ruralwaterdemand",urbanwaterdemand:"urbanwaterdemand",totalwaterdemand:"totalwaterdemand",totallpwaterdemand:"totallpwaterdemand",domesticwaterdemand:"domesticwaterdemand"}},t.prototype.getColNamesFromDisplayNames=function(){return{ruralwaterdemand:"ruralwaterdemand",urbanwaterdemand:"urbanwaterdemand",totalwaterdemand:"totalwaterdemand",totallpwaterdemand:"totallpwaterdemand",domesticwaterdemand:"domesticwaterdemand"}},t.prototype.getColumnConfigForIndus=function(){return{show:["locname","itype","category","waterdemand"],properties:{locname:{hideable:!1,type:"LOCATION_DISABLED",displayAs:"Company ",stopAt:"",append:"locuuid",class:"font-weight-bold",copyToRows:!0},itype:{hideable:!0,displayAs:"Type of Industry",class:"font-weight-bold",type:"LOCATION_DISABLED",copyToRows:!1},category:{hideable:!0,displayAs:"Category of Industry",class:"font-weight-bold",type:"LOCATION_DISABLED",copyToRows:!1},waterdemand:{hideable:!0,type:"NUMBER",displayAs:"Water Requirement (TCM)",class:"font-weight-bold",copyToRows:!1}}}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"locname",colspan:2},paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0}}},t.prototype.getStackbarChartConfig=function(){return{component:"domesticStackbar",exporting:{enabled:!1},credits:{enabled:!1},chart:{type:"column"},colors:[],title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}}},{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},opposite:!0}],legend:{},tooltip:{headerFormat:"",pointFormat:"",shared:!0,opacity:1,backgroundColor:"#FFF"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]}},t.prototype.getDonutChartConfig=function(){return{component:"industrialDemandDonut",chart:{type:"pie",backgroundColor:"#ffffff",plotBorderWidth:null,plotShadow:!1,height:"380px",options3d:{enabled:!0,alpha:45}},plotOptions:{pie:{shadow:!1,innerSize:100,depth:45,center:["50%","50%"],size:"100%",colorByPoint:!0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},exporting:{enabled:!1},credits:{enabled:!1},title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}}},{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},opposite:!0}],tooltip:{backgroundColor:"#fff",valueDecimals:1,pointFormat:"<b>{point.percentage:.1f}%</b><br><b>{point.y:.1f} (MCM)</b>"},colors:[],series:[]}},t.prototype.getKeyToNameMap=function(){return{"URBAN POPULATION":"Urban Population","RURAL POPULATION":"Rural Population","URBAN DEMAND":"Urban Water Demand","RURAL DEMAND":"Rural Water Demand"}},t.prototype.getColorsForChart=function(){return{"URBAN POPULATION":"#7692B8","RURAL POPULATION":"#FFE700","URBAN DEMAND":"#72DD07","RURAL DEMAND":"#2D99FF"}},t.prototype.getPostDataForTable=function(t){var n={eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:"YEARLY",cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"};return"MANDAL"==t.pType&&(n.cType="INDUSTRY"),n},t.prototype.getPostDataForMap=function(t){var n={eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pEUUID,pType:v.m.LOCATIONS.STATE,format:t.timeStep,cType:v.m.LOCATIONS.DISTRICT,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"};return t.dashboardView==v.m.LOCATIONS.GODAVARI&&(n.pType=v.m.LOCATIONS.BASIN),t.view==v.m.VIEWS.BASIN&&(n.cType=v.m.LOCATIONS.BASIN),n},t.prototype.getPostDataForDonutCharts=function(t){return{pEUUID:t.pEUUID,pUUID:t.pUUID,pType:t.pType,cType:"INDUSTRY",format:"YEARLY",eDate:t.eDate.toString(),sDate:t.sDate.toString(),src:t.src}},t.prototype.getChartParams=function(t){return{pUUID:"1270f554-20cc-43ee-803e-1532f00e047c",lType:"DISTRICT",cType:"MANDAL",format:"yyyy",src:"KWA",sDate:"2020",eDate:"2020",pEUUID:"b3a3109c-1d8d-11ea-9f34-04ea56f9ded6"}},t.prototype.getPostDataForBreadCrumb=function(t){var n={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:"rainfall",view:t.view,pEUUID:t.pEUUID};return"Telangana"==t.location.NAME&&t.view==An.VIEWS.BASIN&&(n.pEUUID=v.h[t.location.NAME.toUpperCase()][t.view].UUID),n},t.prototype.getPostDataForKPI=function(t){return{eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:"YEARLY",cType:"INDUSTRY",pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getPostDataForLocTypes=function(t){return{component:t.component,pEUUID:t.pEUUID,srcUUID:t.srcUUID,view:t.view+"_HIERARCHY"}},t.prototype.showSeasonTypeForAvailableData=function(t,n,e,l){if(t.getFullYear()<=e.value&&n.getFullYear()>=e.value)for(var a=0;a<l.length;a++){var i=l[a].months,r=parseInt(i.substring(0,3)),o=parseInt(i.substring(4)),s=t.getFullYear(),u=n.getFullYear();l[a].show=e.value==s?o>=t.getMonth()+1:e.value!=u||r<=n.getMonth()+1}else for(a=0;a<l.length;a++)l[a].show=!1;return l},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(j.c),c.gb(D.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),Pn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},xn=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},wn=function(){function t(t,n,e){this.utils=t,this.utilsService=n,this.industrialdemandService=e,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.seasonYearList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},format:Z.b.DATEPICKER_DATE_FORMAT.YEAR,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},aggreType:{},location:{},dashboardView:"state",year:{},seasonType:{},component:An.COMPONENT.INDUSTRIALDEMAND},this.isInitialLoad=!1,this.aggregationTypeList=[],this.heatMapList=[],this.seasonArray=new Array,this.stationFilterList=new Array,this.telementryfilter="All",this.viewType=An.VIEWS}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.industrialdemandService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.industrialdemandService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=An.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return Pn(this,void 0,void 0,function(){var t;return xn(this,function(n){return this.mapLoaderActive=!0,t=[{key:"STATE_STATIONS",value:"State Stations",locUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",locType:"COUNTRY",locName:"INDIA",agencyUUID:"69ad1c38-de10-11ea-87d0-0242ac130003",hasStation:!1,minmax:{MIN:"20201201",MAX:"20201231"},current:null,historical:null,displayNames:null}],this.mapLoaderActive=!1,t&&t.length>0&&(this.sourceList=t,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]})})},t.prototype.getDates=function(){this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.YEAR,this.setMinMaxDates(),this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),this.maxDate=this.maxDate.getTime()>(new Date).getTime()?new Date:this.maxDate,this.setYearList()},t.prototype.setYearList=function(){var t=this.maxDate.getFullYear(),n=this.minDate.getFullYear();this.yearList=[];for(var e=t;e>=n;e--)this.yearList.push({key:e,value:e})},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates(),(this.selectedFilterParams.year.key<this.minDate.getFullYear()||this.selectedFilterParams.year.key>this.maxDate.getFullYear())&&this.setWaterYear()},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t},t.prototype.onYearChange=function(){this.isYearChanged=!0,this.setWaterYear()},t.prototype.setWaterYear=function(){this.selectedFilterParams.year=null,this.selectedFilterParams.year=this.yearList[0]||null},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[5]=!this.utils.isEmptyObj(this.selectedFilterParams.year);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=v.m.COMPONENT.INDUSTRIALDEMAND,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=An.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.year=this.selectedFilterParams.year.key,n.sDate=this.selectedFilterParams.year.key,n.eDate=this.selectedFilterParams.year.key,n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){this.industrialdemandService.getPostDataForLocTypes(t);var n=[];n=t.view==v.m.VIEWS.ADMIN?["STATE","DISTRICT","MANDAL"]:["STATE","BASIN","SUBBASIN"],"Godavari"==t.location.NAME&&(n=this.updateColumns(n,["STATE"])),this.isInitialLoad&&(t.cType=this.utils.getChildTypeForGivenParentType(t.pType,n),"Godavari"==t.location.NAME&&(t.cType="BASIN"),this.isInitialLoad=!1),t.locationTypeList=n,this.checkAndUpdateLocation(t)},t.prototype.checkAndUpdateLocation=function(t){return Pn(this,void 0,void 0,function(){var n,e,l,a,i;return xn(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.industrialdemandService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.industrialdemandService.post(An.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t}(),kn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},In=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},En=function(){function t(t,n){this.industrialdemandDataService=t,this.utils=n,this.layerList=[],this.industrialdemandHeatMapSpinner=!1,this.pTypeData=[],this.cTypeData=[]}return t.prototype.getSrcWiseLayers=function(t){return kn(this,void 0,void 0,function(){var n,e,l,a;return In(this,function(i){if(t.spinner=!0,t.params.pUUID="e98cd5b7-6556-4c0f-a778-3429e1c14a6b",(n=t.params).pUUID="e98cd5b7-6556-4c0f-a778-3429e1c14a6b",e=[],n.component==v.m.COMPONENT.INDUSTRIALDEMAND){for(l in An.INDUSTRIALDEMAND_LAYERLIST[n.dashboardView])(a=An.INDUSTRIALDEMAND_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);this.addSrcWiseWMSLayers(e,t,n),"filter"==n.actionType&&this.getAndSetColors(t),t.spinner=!1}return[2]})})},t.prototype.colorLayers=function(t,n,e,l){var a=t.layers.overlaylayers;if(null!=a[n])for(var i in e){var r=l;r.clr=e[i].color,r.uuid=i,t.colorVectortileslayer(a[n],[r])}},t.prototype.getStyleObjForLayer=function(t){return{uuid:null,clr:"#634343",wt:.3,opacity:.45}},t.prototype.getAndSetColors=function(t){return kn(this,void 0,void 0,function(){var n,e,l,a,i;return In(this,function(r){switch(r.label){case 0:return t.spinner=!0,e=this.getLayerNamesBasedOnParams(n=t.params),l=this.industrialdemandDataService.getPostDataForMap(n),a=this,[4,this.getIndustrialDemandData(l,"parent",n)];case 1:return a.pTypeData=r.sent(),(l=this.industrialdemandDataService.getPostDataForMap(n)).cType=this.utils.getChildTypeForGivenParentType(l.cType,n.locationTypeList),i=this,[4,this.getIndustrialDemandData(l,"child",n)];case 2:return i.cTypeData=r.sent(),null!=e.pLayerName&&this.colorLayers(t,e.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=e.cLayerName&&this.colorLayers(t,e.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getLayerNamesBasedOnParams=function(t){var n={pLayerName:null,cLayerName:null};return t.dashboardView==v.m.LOCATIONS.TAMILNADU?t.view==v.m.VIEWS.ADMIN?(n.pLayerName="TN District Boundaries",n.cLayerName="TN Mandal Boundaries"):n.cLayerName="Telangana Subbasin":t.dashboardView==v.m.LOCATIONS.GODAVARI&&t.view==v.m.VIEWS.BASIN&&(n.cLayerName="Godavari Subbasin"),n},t.prototype.getIndustrialDemandData=function(t,n,e){var l=this,a={};return new Promise(function(t,i){var r=[{locUUID:"2851fa1e-0a7a-4257-bd4b-56f7f44d63bf",locName:"Tirunelveli",parentName:null,waterDemand:10,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:10},{locUUID:"b0ffa1ac-592f-47ff-8fed-c2a419579087",locName:"Pudukkottai",parentName:null,waterDemand:5,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:5},{locUUID:"2e628024-3969-42fc-bdbc-dc426c63176e",locName:"Tiruvallur",parentName:null,waterDemand:3,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"768c1563-730a-4060-8e8e-70d763d2d5b0",locName:"Virudhunagar",parentName:null,waterDemand:2,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"04b66e00-51df-4569-8a20-73e5fec18480",locName:"Karur",parentName:null,waterDemand:1,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"7418cfa2-6c97-4984-b1ef-8ae1a3b4010b",locName:"TheNilgiris",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"d5ad64ab-1c2e-49d4-a7c5-8c568126e3fd",locName:"Thoothukudi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"2d3f1d98-be3f-4af4-a8c2-42be3f93892e",locName:"Ramanathapuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"0a062167-2fdd-45f5-a3f7-de6223e6532b",locName:"Krishnagiri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"95c58d7f-5c9a-4448-9d6b-1a55356b3a1b",locName:"Tirupattur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"099b90e7-dca7-42d9-9c53-1b7b9fe9075c",locName:"Nagapattinam",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"fd7a00fc-a284-4478-868e-f942c7aadacd",locName:"Ranipet",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"92e1051a-c7cb-4ebc-8722-97e3e8f0ecb2",locName:"Kancheepuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"39174651-7420-4fd0-8f1b-af3a1d7177d5",locName:"Perambalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"70f2da31-929b-4977-8610-da37d3a3be73",locName:"Chengalpattu",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8c289400-6586-426b-9f03-ab7b15563d24",locName:"Namakkal",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"324cd1ba-361f-4134-bafc-b0dc32b13306",locName:"Thiruvannamalai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"db4bf4f5-58fd-483b-b441-e2dd9525b2b4",locName:"Kanniyakumari",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c72ed640-bd58-400d-a30e-6bddc3b05d35",locName:"Thanjavur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"5aa828d2-2c34-4b64-8b4a-a517e0c545a2",locName:"Mayiladuthurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"b9295424-8d20-4310-8b66-a0057e25d40d",locName:"Madurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8e5c976d-ba67-4e5c-8c58-79c67ebc6d60",locName:"Kallakurichi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"33074a09-7325-46bf-80c6-6d0df13f1d50",locName:"Dharmapuri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c0b90526-4902-457e-bad5-275b4d69a41f",locName:"Tiruppur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"244aaccb-c2e9-4191-8129-802b7152f1bf",locName:"Salem",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"bbee7054-c0e2-4cd2-9027-d620b0acca95",locName:"Dindigul",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"babce2e4-aad9-4f2f-966f-8022400b89bc",locName:"Tenkasi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"82bc2daa-a390-437c-b638-f2f06b29a92d",locName:"Tiruvarur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"281b90ca-c47c-40f8-8adc-a80c5a4d4a8d",locName:"Sivagangai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e4ee317d-bf23-465a-8d1f-a1b6640d82db",locName:"Cuddalore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e317d594-dd8e-408f-96ea-c84c96b980a8",locName:"Tiruchirapalli",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"22b3f04d-0cf4-4d0d-9b4d-44525687a00a",locName:"Erode",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"1ca98909-82ca-4f31-87c3-6d04e0d5c53b",locName:"Coimbatore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"06df62fc-f8dc-4961-b3a8-6f32f539910a",locName:"Ariyalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"479dc66b-c62f-4102-935b-d799901e61c3",locName:"Villupuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8801b0c2-0a9b-4189-875a-de0be55f3c52",locName:"Chennai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"161b1ce6-66a4-46c2-a4f7-e262f5a3b06f",locName:"Vellore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"012e915f-eab3-4235-be36-d6bb2374c9e8",locName:"Theni",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",locName:"TOTAL",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:null,domIndustry:null,domwaterDemand:null}];r&&r.length>0&&(a=l.preProcessData(r,n,e)),t(a)})},t.prototype.getLegend=function(t){var n=null,e=t.params,l={};return e.view==v.m.VIEWS.ADMIN?e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=t.map.getZoom()>v.g[v.m.LOCATIONS.DISTRICT].MAX?v.m.LOCATIONS.MANDAL:v.m.LOCATIONS.DISTRICT):e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=v.m.LOCATIONS.SUBBASIN),null!=n&&(l[n]=Tn[e.view][n]),l},t.prototype.manageLegend=function(t){t.otherOptions.legend={},t.removeLegend(),t.otherOptions.legend=this.getLegend(t),this.utils.isEmptyObj(t.otherOptions.legend)||t.addLegend()},t.prototype.preProcessData=function(t,n,e){var l={},a=null;e.view==v.m.VIEWS.ADMIN?(a=v.m.LOCATIONS.MANDAL,"parent"==n&&(a=v.m.LOCATIONS.DISTRICT)):(a=v.m.LOCATIONS.SUBBASIN,"parent"==n&&(a=v.m.LOCATIONS.BASIN));for(var i=0,r=t;i<r.length;i++){var o=r[i];if(null!=o.locName&&"total"!=o.locName.toLowerCase()){var s=o.locUUID,u="#FFFFFF";if(null!=o.waterDemand&&null!=o.waterDemand&&null!=a){var c=Number(o.waterDemand);u=this.getColor(c,a)}l[s]={color:u}}}return l},t.prototype.addSrcWiseVECTORLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.VECTOR_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseVECTORLayers(l)},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.prototype.getColor=function(t,n){var e="#FFFFFF";return n==v.m.LOCATIONS.DISTRICT?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.MANDAL?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.BASIN?t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB"):n==v.m.LOCATIONS.SUBBASIN&&(t>20?e="#f7420c":t>18?e="#FF6C40":t>16?e="#CB8F7C":t>14?e="#F16E47":t>12?e="#FE8F6E":t>10?e="#FBC5B5":t>8?e="#0B85D2":t>6?e="#3DA8EB":t>4?e="#6EC3F8":t>2?e="#83CFFE":t<=2&&(e="#D0EAFB")),e},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(Dn),c.gb(T.a))},token:t,providedIn:"root"}),t}(),Nn=function(){return(Nn=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Fn=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.industrialdemandService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.isLastLevel=!1,this.columnConfig={},this.tableConfig=this.industrialdemandService.getTableConfig(),this.tableNameForDownload="industrialdemand",this.inputForBreadcrumb=[],this.kpi={micro:"null",demand:"null",medium:"null",large:"null"},this.chartOptions={donutChart:Nn({},this.industrialdemandService.getDonutChartConfig())},this.showDonutChart={showChart:!1,renderChart:!1},this.showErrorMsgForTable=!1,this.throbberForDonutChart=!1}return t.prototype.ngOnInit=function(){this.industrialdemandTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){console.log("selectrd params in info",n),t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=An.COMPONENT.INDUSTRIALDEMAND||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.chartOptions.donutChart.xAxis.categories=[],this.chartOptions.donutChart.series=[],this.showDonutChart.showChart=!1,this.showDonutChart.renderChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.industrialdemandTableSpinner=!0,this.isStation=!1,this.isLastLevel=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getKPIData(),this.setDonutChart(this.selectedParams),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.initialiseTable=function(t){this.columnConfig=this.industrialdemandService.getColumnConfig(),"INDUSTRY"==t.cType&&(this.columnConfig=this.industrialdemandService.getColumnConfigForIndus())},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(An.COMPONENT.INDUSTRIALDEMAND,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.industrialdemandService.getPostDataForBreadCrumb(this.selectedParams);this.industrialdemandTableSpinner=!0,this.industrialdemandService.post(An.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.industrialdemandTableSpinner=!1},function(n){t.industrialdemandTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.prevpUUID=n.pUUID,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){},t.prototype.setStockChartPostData=function(){},t.prototype.setDonutChart=function(t){var n=this.industrialdemandService.getPostDataForDonutCharts(t);this.getAndUpdateDonutChart(n)},t.prototype.getAndUpdateDonutChart=function(t){this.showDonutChart.showChart=!0,this.throbberForDonutChart=!0,this.chartOptions.donutChart.series=[];var n={strlables:["Rubber  Plastic & petro based","Engineering units","Agro based","Ready-made garments & embroidery","OTHERS"],data:[{data:[["Rubber  Plastic & petro based",2.732025],["Engineering units",2.7256375],["Agro based",2.4607935],["Ready-made garments & embroidery",2.2766875],["OTHERS",11.32695375]]}]};this.utils.isEmptyObj(n)||(this.chartOptions.donutChart=this.industrialdemandService.preProcessDonutChartData(n,this.chartOptions.donutChart)),this.showDonutChart.renderChart=!0,this.throbberForDonutChart=!1},t.prototype.getAndSetTableData=function(){this.initialiseTable(this.selectedParams),this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isStation=!1,this.getTableData()):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){this.industrialdemandService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams))),this.industrialdemandTableSpinner=!0;var t=[{locUUID:"2851fa1e-0a7a-4257-bd4b-56f7f44d63bf",locName:"Tirunelveli",parentName:null,waterDemand:10,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:10},{locUUID:"b0ffa1ac-592f-47ff-8fed-c2a419579087",locName:"Pudukkottai",parentName:null,waterDemand:5,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:5},{locUUID:"2e628024-3969-42fc-bdbc-dc426c63176e",locName:"Tiruvallur",parentName:null,waterDemand:3,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"768c1563-730a-4060-8e8e-70d763d2d5b0",locName:"Virudhunagar",parentName:null,waterDemand:2,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"04b66e00-51df-4569-8a20-73e5fec18480",locName:"Karur",parentName:null,waterDemand:1,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"7418cfa2-6c97-4984-b1ef-8ae1a3b4010b",locName:"TheNilgiris",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"d5ad64ab-1c2e-49d4-a7c5-8c568126e3fd",locName:"Thoothukudi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"2d3f1d98-be3f-4af4-a8c2-42be3f93892e",locName:"Ramanathapuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"0a062167-2fdd-45f5-a3f7-de6223e6532b",locName:"Krishnagiri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"95c58d7f-5c9a-4448-9d6b-1a55356b3a1b",locName:"Tirupattur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"099b90e7-dca7-42d9-9c53-1b7b9fe9075c",locName:"Nagapattinam",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"fd7a00fc-a284-4478-868e-f942c7aadacd",locName:"Ranipet",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"92e1051a-c7cb-4ebc-8722-97e3e8f0ecb2",locName:"Kancheepuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"39174651-7420-4fd0-8f1b-af3a1d7177d5",locName:"Perambalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"70f2da31-929b-4977-8610-da37d3a3be73",locName:"Chengalpattu",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8c289400-6586-426b-9f03-ab7b15563d24",locName:"Namakkal",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"324cd1ba-361f-4134-bafc-b0dc32b13306",locName:"Thiruvannamalai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"db4bf4f5-58fd-483b-b441-e2dd9525b2b4",locName:"Kanniyakumari",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c72ed640-bd58-400d-a30e-6bddc3b05d35",locName:"Thanjavur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"5aa828d2-2c34-4b64-8b4a-a517e0c545a2",locName:"Mayiladuthurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"b9295424-8d20-4310-8b66-a0057e25d40d",locName:"Madurai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8e5c976d-ba67-4e5c-8c58-79c67ebc6d60",locName:"Kallakurichi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"33074a09-7325-46bf-80c6-6d0df13f1d50",locName:"Dharmapuri",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"c0b90526-4902-457e-bad5-275b4d69a41f",locName:"Tiruppur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"244aaccb-c2e9-4191-8129-802b7152f1bf",locName:"Salem",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"bbee7054-c0e2-4cd2-9027-d620b0acca95",locName:"Dindigul",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"babce2e4-aad9-4f2f-966f-8022400b89bc",locName:"Tenkasi",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"82bc2daa-a390-437c-b638-f2f06b29a92d",locName:"Tiruvarur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"281b90ca-c47c-40f8-8adc-a80c5a4d4a8d",locName:"Sivagangai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e4ee317d-bf23-465a-8d1f-a1b6640d82db",locName:"Cuddalore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e317d594-dd8e-408f-96ea-c84c96b980a8",locName:"Tiruchirapalli",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"22b3f04d-0cf4-4d0d-9b4d-44525687a00a",locName:"Erode",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"1ca98909-82ca-4f31-87c3-6d04e0d5c53b",locName:"Coimbatore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"06df62fc-f8dc-4961-b3a8-6f32f539910a",locName:"Ariyalur",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"479dc66b-c62f-4102-935b-d799901e61c3",locName:"Villupuram",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"8801b0c2-0a9b-4189-875a-de0be55f3c52",locName:"Chennai",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"161b1ce6-66a4-46c2-a4f7-e262f5a3b06f",locName:"Vellore",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"012e915f-eab3-4235-be36-d6bb2374c9e8",locName:"Theni",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",locName:"TOTAL",parentName:null,waterDemand:null,iType:null,area:null,category:null,count:null,domIndustry:null,domwaterDemand:null}];t&&t.length>0?this.tableData=this.selectedParams.cType==this.locTypes[this.locTypes.length-1]?this.industrialdemandService.preProcessLastLeveltableData(t):this.industrialdemandService.preprocessTableData(t):this.showErrorMsgForTable=!0,this.industrialdemandTableSpinner=!1,this.updateTableConfiguration()},t.prototype.getLastLevelTableData=function(){var t=this,n=this.industrialdemandService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.industrialdemandTableSpinner=!0,this.industrialdemandService.post(An.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?(t.tableData=t.industrialdemandService.preprocessTableDataForIndustry(n),t.columnConfig=t.industrialdemandService.getColumnConfigForIndus()):t.showErrorMsgForTable=!0,t.industrialdemandTableSpinner=!1,t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.industrialdemandTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],"Godavari"==n.location.NAME&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams.cType;t=this.utils.capitalize(t),this.columnConfig.properties.locname.displayAs=t;var n=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);n&&n.length>0&&(n[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),n.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=Nn({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Nn({},this.tableConfiguration,{columns:n})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){this.industrialdemandService.getPostDataForKPI(this.selectedParams),this.infoboxSummarySpinner=!0;var t={"Micro and Small":21.522097249999998,DEMAND:21.522097249999998};t&&(this.kpi=this.industrialdemandService.preProcessKPIData(t,this.kpi)),this.infoboxSummarySpinner=!1},t}(),Bn=function(){function t(t,n){this.route=t,this.industrialdemandMapService=n,this.sidebarComponent=wn,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:En,functionName:"getSrcWiseLayers",stationHighlightFunctionName:"setStationHighlightLayer",changeLegendOnZoom:"manageLegend"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Fn,this.industrialdemandHeatMapSpinner=this.industrialdemandMapService.industrialdemandHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),Un=e("2OP4"),Rn=e("/+bW"),Vn=e("6n/F"),jn=function(){return(jn=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Gn=e("M8aS"),Yn=e("AxlJ");Gn(Vn),Yn(Vn);var Wn=function(){function t(t,n,e,l,a,i,r){this.utilsService=t,this.obj=n,this.rivergaugeDataService=e,this.dataTableModule=l,this.utils=a,this.rainfallDataService=i,this.visibilityUtils=r,this.isRivergauge=!1,this.columnConfig=this.rivergaugeDataService.getColumnConfig(),this.tableConfig=this.rivergaugeDataService.getTableConfig(),this.tableNameForDownload="rivergaugeTable",this.inputForBreadcrumb=[],this.showErrorMsgForTable=!1,this.kpi={nRG:null,tSt:null,pfill:null},this.showStockChart=!1,this.locationType=v.m.LOCATIONS,this.chartData={},this.highcharts=Vn,this.chartheight="400px"}return t.prototype.ngOnInit=function(){this.rivergaugeTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=Rn.d.COMPONENT.RIVER_GAUGE||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.selectedChartType="storage",this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.inputForBreadcrumb=[],this.tableData=[],this.rivergaugeTableSpinner=!0,this.showErrorMsgForTable=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(Rn.d.COMPONENT.RIVER_GAUGE,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.rivergaugeDataService.getPostDataForBreadCrumb(this.selectedParams);this.rivergaugeTableSpinner=!0,this.rainfallDataService.post(Rn.d.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.rivergaugeTableSpinner=!1},function(n){t.rivergaugeTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){var t=this;setTimeout(function(){t.stockChartConfig=t.selectedParams.pType==v.m.LOCATIONS.RIVER_GAUGE&&"level"==t.selectedChartType?JSON.parse(JSON.stringify(pt)):JSON.parse(JSON.stringify(dt)),t.setStockChartPostData(),t.showStockChart=!0},100)},t.prototype.changeChart=function(){this.showStockChart=!1,this.setStockChart()},t.prototype.setStockChartPostData=function(){return t=this,void 0,e=function(){return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(t){switch(t.label){case 0:return[4,this.getPostDataForCharts()];case 1:return t.sent(),"AVG"==this.selectedParams.aggr&&(this.selectedParams.pType==v.m.LOCATIONS.RIVER_GAUGE&&"level"==this.selectedChartType?(this.stockChartConfig.applicationConfig.LTY.apiConfig.titleField="LTY.alv",this.stockChartConfig.applicationConfig.ST.apiConfig.titleField="ST.alv",this.stockChartConfig.applicationConfig.LY.apiConfig.titleField="LY.alv"):(this.stockChartConfig.applicationConfig.LTY.apiConfig.titleField="LTY.ast",this.stockChartConfig.applicationConfig.ST.apiConfig.titleField="ST.ast",this.stockChartConfig.applicationConfig.LY.apiConfig.titleField="LY.ast")),[2]}})},new((n=void 0)||(n=Promise))(function(l,a){function i(t){try{o(e.next(t))}catch(n){a(n)}}function r(t){try{o(e.throw(t))}catch(n){a(n)}}function o(t){t.done?l(t.value):new n(function(n){n(t.value)}).then(i,r)}o((e=e.apply(t,[])).next())});var t,n,e},t.prototype.getPostDataForCharts=function(){var t=this;return new Promise(function(n,e){t.stockChartConfig.applicationConfig.ST.apiConfig.postData=t.rivergaugeDataService.getPostDataForStockChart(t.selectedParams),t.stockChartConfig.applicationConfig.ST.apiConfig.postData.optionalPeriodList=["ST","LTY","LY"],t.stockChartConfig.applicationConfig.actual.apiConfig.postData=t.rainfallDataService.getPostDataForTable(t.selectedParams),t.selectedParams.pType==v.m.LOCATIONS.RESERVOIR&&"level"!=t.selectedChartType?t.rivergaugeDataService.post(Rn.d.API_MAPPING.TABLE,{}).subscribe(function(e){t.stockChartConfig.applicationConfig.actual.apiConfig.postData.src=v.m.SOURCES.STATE_STATIONS,n()},function(t){console.log("\n Error Occurred in getPostDataForCharts Details ",t),e()}):(t.stockChartConfig.applicationConfig.actual.apiConfig.postData.src=v.m.SOURCES.STATE_STATIONS,n())})},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.isRivergauge=!1,this.getTableData(),this.getKPIData()):(this.getLastLevelTableData(),this.getRivergaugeChart())},t.prototype.getTableData=function(){var t=this,n=this.rivergaugeDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rivergaugeTableSpinner=!0,this.rivergaugeDataService.post(Rn.d.API_MAPPING.TABLE,n).subscribe(function(e){if(e&&e.length>0)if(t.kpi.nRG=e.length,t.selectedParams.cType==t.locTypes[t.locTypes.length-1]){if(t.tableData=t.rivergaugeDataService.preProcessLastLeveltableData(e),n&&"RIVER_GAUGE"===n.cType&&"COUNTRY"===n.pType){var l=t.utilsService.getSortedListofDistrictsOfTamilnadu(t.tableData,"n");t.utilsService.setNewsBulletinData(t.rivergaugeDataService.getBulletinData(l,n))}}else t.tableData=t.rivergaugeDataService.preprocessTableData(e);else t.showErrorMsgForTable=!0;t.rivergaugeTableSpinner=!1,t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.rivergaugeTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.rivergaugeDataService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.rivergaugeTableSpinner=!0,this.rivergaugeDataService.post(Rn.d.API_MAPPING.TABLE,n).subscribe(function(n){t.isRivergauge=!0,n&&n.length>0&&(t.tableData=n[0]),t.rivergaugeTableSpinner=!1},function(n){t.rivergaugeTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==Rn.a.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams.cType;t=t==Rn.d.COMPONENT.RIVER_GAUGE?"Rivergauge":this.utils.capitalize(t),this.columnConfig.properties.n.displayAs=t;var n=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);n&&n.length>0&&(n[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),n.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=jn({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=jn({},this.tableConfiguration,{columns:n})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){},t.prototype.getRivergaugeChart=function(){var t=this;this.rivergaugeTableSpinner=!0;var n=this.rivergaugeDataService.getPostDataForChart(this.selectedParams);this.rivergaugeDataService.post(Rn.d.API_MAPPING.CHART,n).subscribe(function(n){if(t.isRivergauge=!0,Object.keys(n).length){var e=[],l=[],a=[],i=[];Object.keys(n).forEach(function(i){var r=n[i],o=t.utils.getDateInFormatForecast(Rn.d.CHART_LABEL_MAPPING[t.selectedParams.format],Number(i));if(e.push(o),null!=r.f){var s=r.f.toFixed(2);l.push(Number(s))}else l.push(null);if(null!=r.l){var u=r.l.toFixed(2);a.push(Number(u))}else a.push(null)}),i.push(l),i.push(a),i.push(e),t.chartData=t.rivergaugeDataService.getMisGaugeChart(i),setTimeout(function(){t.highcharts.chart(t.chartContainer.nativeElement,t.chartData)},50),t.rivergaugeTableSpinner=!1}else t.chartData={},t.rivergaugeTableSpinner=!1})},t}(),zn=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Hn=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},qn=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.rivergaugeDataService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.sourceList=[],this.aggregationTypeList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},aggreType:null,view:null,location:{},dashboardView:"state",heatMap:{}},this.isInitialLoad=!1,this.isForecast=!1,this.isSourceChanged=!1,this.viewType=Rn.d.VIEWS,this.dateType=v.m.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.setAggregationTypeList(),this.getAndSetSource()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.rivergaugeDataService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.getAndSetLocationList=function(){this.locationList=this.rivergaugeDataService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.rivergaugeDataService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=Rn.d.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.viewType.BASIN:this.viewType.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetSource=function(){return zn(this,void 0,void 0,function(){var t,n;return Hn(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.rivergaugeDataService.get(Rn.d.API_MAPPING.SOURCE,Rn.d.COMPONENT.RIVER_GAUGE+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),t=this.visibilityUtils.updateSourceList(t),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.setAggregationTypeList=function(){this.aggregationTypeList=this.rivergaugeDataService.getAggregationTypeList(),this.selectedFilterParams.aggreType=this.aggregationTypeList[0]},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format))),this.validation[4]=!this.utils.isEmptyObj(this.selectedFilterParams.aggreType);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=Rn.d.COMPONENT.RIVER_GAUGE,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=Rn.d.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.aggr=this.selectedFilterParams.aggreType.key,n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.rivergaugeDataService.getPostDataForLocTypes(t),l=[];this.rivergaugeDataService.post(Rn.d.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==Rn.a.GODAVARI&&(l=n.updateColumns(l,[Rn.a.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return zn(this,void 0,void 0,function(){var n,e,l,a,i;return Hn(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.rivergaugeDataService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.rivergaugeDataService.post(Rn.d.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),Kn=e("E+45"),Xn=function(){function t(t,n,e){this.route=t,this.utils=n,this.utilSrv=e,this.sidebarComponent=qn,this.layerList={},this.otherOptions={legend:{},serviceType:Kn.a,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange",stationLayer:"getStationLayer"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Wn}return t.prototype.ngOnInit=function(){var t=this;this.utilSrv.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.urlParams=n,"Tamilnadu"===t.urlParams.dashboardView&&"MITANK"===t.urlParams.component&&"sensorClick"!=t.urlParams.actionType&&setTimeout(function(){t.rivergaugeHeatMapSpinner=!1},5e3))})},t}(),Jn=(e("JQBr"),e("RT+o")),$n={COMPONENT:{WATERAUDIT:"WATERAUDIT"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",KPI:"gw/aggregated",TABLE:"wateraudit",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",HEATMAP:"gw/gwMap",CHART:"gw/timeseries"},RF_API_MAPPING:{CHART:"rf/timeseries"},LOCATION_LEVEL:{STATION:"Station",GODAVARI:"Godavari",TELANGANA:"Telangana",KALESHWARAM:"Kaleshwaram",BASIN:"BASIN",SUBBASIN:"SUBBASIN",RAINFALL:"RAINFALL",WATERAUDIT:"WATERAUDIT",STATE:"STATE",TAMILNADU:"TAMILNADU",DISTRICT:"DISTRICT"},LOCATIONS:{TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}},TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY"}},Qn=function(){function t(t){this.expandmodal=t,this.tableData=[],this.title="",console.log(this.tableConfiguration)}return t.prototype.ngOnInit=function(){console.log(this.tableConfiguration),this.tableConfiguration&&this.tableConfiguration.totalRow.jsonKey&&(this.tableConfiguration.totalRow.jsonKey="name",this.columnsTemplateMap={rsc:this.changeInStorageTemplate})},t.prototype.closeModal=function(){this.expandmodal.dismiss()},t}(),Zn=function(){return(Zn=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},te=function(){function t(t,n,e,l,a,i,r){this.utilsService=t,this.obj=n,this.modalSrv=e,this.waterAuditervice=l,this.dataTableModule=a,this.utils=i,this.visibilityUtils=r,this.isStation=!1,this.columnConfig=this.waterAuditervice.getColumnConfig(),this.tableConfig=this.waterAuditervice.getTableConfig(),this.isLastLevel=!1,this.tableNameForDownload="waterAuditTable",this.inputForBreadcrumb=[],this.kpi={asmPerc:null,asmVolume:null,vsmPerc:null,asmLevel:null,rf:null},this.showStockChart=!1,this.showErrorMsgForTable=!1,this.componentList={rf:"-",ios:{OUTFLOW:"-",INFLOW:"-"},iosIfs:"-",iosOfs:"-",gwc:"-",mic:"-",smc:"-",rsc:"-",rscf:"-",et:{st:"-",l:"-"},util:{agriUtil:"-",domUtil:"-",indusUtil:"-"},ti:"-",to:"-",tc:"-"},this.restcomponentList=JSON.parse(JSON.stringify(this.componentList))}return t.prototype.ngOnInit=function(){this.waterAuditTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=$n.COMPONENT.WATERAUDIT||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.rainfallTableData=[],this.reservoirsTableData=[],this.mitanksTableData=[],this.soilmoistureTableData=[],this.groundwaterTableData=[],this.waterAuditTableSpinner=!0,this.isStation=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent($n.COMPONENT.WATERAUDIT,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.waterAuditervice.getPostDataForBreadCrumb(this.selectedParams);this.waterAuditTableSpinner=!0,this.waterAuditervice.post($n.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.waterAuditTableSpinner=!1},function(n){t.waterAuditTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.getAndSetTableData=function(){this.getTableData()},t.prototype.getTableData=function(){var t=this,n=this.waterAuditervice.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.waterAuditTableSpinner=!0,this.waterAuditervice.post($n.API_MAPPING.TABLE,n).subscribe(function(n){if(n&&n.length>0){var e=t.waterAuditervice.formatTableData("TOTAL",n);t.rawTableData=n,t.componentList=JSON.parse(JSON.stringify(t.restcomponentList)),Object.assign(t.componentList,e),t.tableData=t.waterAuditervice.preprocessTableData(n),t.tablePopupDataData=t.waterAuditervice.getPreprocessedTableData(n)}else t.showErrorMsgForTable=!0;t.waterAuditTableSpinner=!1,t.columnsTemplateMap={tc:t.changeInStorageTemplate},t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.waterAuditTableSpinner=!1})},t.prototype.formatNumber=function(t){return!t&&0!=t||"number"!=typeof t?"-":t.toLocaleString("en-IN",{maximumFractionDigits:2})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==$n.LOCATION_LEVEL.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams,e=n.cType;e=e==$n.COMPONENT.WATERAUDIT?"WATERAUDIT":this.utils.capitalize(e),this.columnConfig.properties.n.displayAs=e;var l=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);l&&l.length>0&&(l[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),l.forEach(function(e){if(null!=e.jsonKey&&null!=e.jsonKey.path){var l=e.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[l]&&null!=t.columnConfig.properties[l].stopAt&&t.locTypes.indexOf(n.cType)==t.locTypes.length-1&&(e.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=Zn({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Zn({},this.tableConfiguration,{columns:l})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.openModal=function(t,n){var e=this.waterAuditervice.getPopupColumnConfig(this.waterAuditervice.getGISPopupColumnConfig(),this.waterAuditervice.PopupColumnsMap[t]),l=this.modalSrv.open(Qn,{size:"lg",backdrop:!0,centered:!0,windowClass:"chart-dark-modal"});if(l.componentInstance.title=n,"INFLOW"==t||"OUTFLOW"==t){var a=this.reservoirData(this.rawTableData,t);l.componentInstance.tableData=a,l.componentInstance.tableConfiguration=this.updatepopupTableConfiguration(e,t,a)}else l.componentInstance.tableData=this.tablePopupDataData,l.componentInstance.tableConfiguration=this.updatepopupTableConfiguration(e,t,this.tablePopupDataData)},t.prototype.reservoirData=function(t,n){var e,l=this;return t.forEach(function(t){"TOTAL"==t.n&&("rsc"==n?e=t[n]:t.ios&&(e=t.ios[n]),(e=l.sortDataAddIndexWaterAudit(e)).forEach(function(t){t.id=t.id,"rsc"==n&&(t.name=t.n,t.rsc=t.st),"INFLOW"==n&&(t.name=t.n,t.river=t.r,t.ivolume=t.v,t.iflow=t.f),"OUTFLOW"==n&&(t.name=t.n,t.river=t.r,t.ovolume=t.v,t.oflow=t.f)}))}),e},t.prototype.sortDataAddIndexWaterAudit=function(t){var n=t.filter(function(t){return"TOTAL"==t.n});n&&(n[0].id=t.length);var e=t.filter(function(t){return"TOTAL"!==t.n});e.sort(function(t,n){return t.n.localeCompare(n.n)});for(var l=0;l<e.length;l++)e[l].id=l+1;return n&&(e[t.length-1]=n[0]),e},t.prototype.updatepopupTableConfiguration=function(t,n,e){var l=this.selectedParams.cType;t.properties.name.displayAs="INFLOW"==n?"Inflow point":"OUTFLOW"==n?"Outflow point":"mandal"==l.toLowerCase()?"Block":this.utils.capitalize(l),l=this.utils.capitalize(l),this.columnConfig.properties.n.displayAs=l;var a=this.dataTableModule.getTableHeaderConfiguration(e,"",t,!0);return a&&a.length>0&&(a[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),a.forEach(function(n){if(null!=n.jsonKey&&null!=n.jsonKey.path){var e=n.jsonKey.path.split("##")[0];null!=t.properties&&null!=t.properties[e]&&null!=t.properties[e].stopAt&&(t.properties[e].stopAt=l,n.dataType="LOCATION_DISABLED")}}),Zn({},this.tableConfiguration,{columns:a})},t}(),ne=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},ee=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},le=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.waterAuditService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},location:{},dashboardView:"state",seasonYear:{},seasonType:{},component:$n.COMPONENT.WATERAUDIT},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=$n.VIEWS,this.dateType=Z.b.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.waterAuditService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.waterAuditService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=$n.VIEWS.ADMIN},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.waterAuditService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return ne(this,void 0,void 0,function(){var t,n;return ee(this,function(e){return this.mapLoaderActive=!0,t=this.visibilityUtils.updateSourceList(t=[{key:"STATE_STATIONS",value:"State Stations",locUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",locType:"COUNTRY",locName:"INDIA",agencyUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",hasStation:!1,minmax:{MIN:19720601,MAX:0},current:null,historical:null,dataTypeCodes:null,displayNames:null}]),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]})})},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.YEAR,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format)));for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=v.m.COMPONENT.WATERAUDIT,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=$n.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.waterAuditService.getPostDataForLocTypes(t),l=[];this.waterAuditService.post($n.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==$n.LOCATION_LEVEL.GODAVARI&&(l=n.updateColumns(l,[$n.LOCATION_LEVEL.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return ne(this,void 0,void 0,function(){var n,e,l,a,i;return ee(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.waterAuditService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.waterAuditService.post($n.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),ae=e("fPWo"),ie=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},re=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},oe=function(){function t(t,n){this.waterAuditDataService=t,this.Utils=n,this.layerList=[],this.pTypeData=[],this.cTypeData=[]}return t.prototype.getSrcWiseLayers=function(t){return ie(this,void 0,void 0,function(){var n,e,l,a;return re(this,function(i){switch(i.label){case 0:if(t.spinner=!0,e=[],(n=t.params).component!=v.m.COMPONENT.WATERAUDIT)return[3,2];for(l in ae.b.WATERAUDIT_LAYERLIST[n.dashboardView])(a=ae.b.WATERAUDIT_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);return this.addSrcWiseWMSLayers(e,t,n),"filter"!=n.actionType?[3,2]:(this.getAndSetColors(t),[4,this.addWaterauditHeatMap(t)]);case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.getAndSetColors=function(t){return ie(this,void 0,void 0,function(){var n,e,l,a,i;return re(this,function(r){switch(r.label){case 0:return t.spinner=!0,e=this.getLayerNamesBasedOnParams(n=t.params),l=this.waterAuditDataService.getPostDataForMap(n),a=this,[4,this.getWaterAuditData(l,"parent",n)];case 1:return a.pTypeData=r.sent(),(l=this.waterAuditDataService.getPostDataForMap(n)).ctype=this.Utils.getChildTypeForGivenParentType(l.ctype,n.locationTypeList),i=this,[4,this.getWaterAuditData(l,"child",n)];case 2:return i.cTypeData=r.sent(),null!=e.pLayerName&&this.colorLayers(t,e.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=e.cLayerName&&this.colorLayers(t,e.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getLayerNamesBasedOnParams=function(t){var n={pLayerName:null,cLayerName:null};return t.dashboardView==v.m.LOCATIONS.TAMILNADU?t.view==v.m.VIEWS.ADMIN?(n.pLayerName="TN District Boundaries",n.cLayerName="TN Mandal Boundaries"):(n.pLayerName="Telangana Basin",n.cLayerName="Telangana Basin"):t.dashboardView==v.m.LOCATIONS.GODAVARI&&t.view==v.m.VIEWS.BASIN&&(n.cLayerName="Godavari Subbasin"),n},t.prototype.getWaterAuditData=function(t,n,e){var l=this,a={};return new Promise(function(i,r){l.waterAuditDataService.post(ae.b.API_MAPPING.TABLE,t).subscribe(function(t){t&&t.length>0&&(a=l.preProcessData(t,n,e)),i(a)})})},t.prototype.manageLegend=function(t){t.otherOptions.legend={},t.removeLegend(),t.otherOptions.legend=this.getLegend(t),this.Utils.isEmptyObj(t.otherOptions.legend)||t.addLegend()},t.prototype.getLegend=function(t){var n=null,e=t.params,l={};return e.view==v.m.VIEWS.ADMIN?e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=t.map.getZoom()>v.g[v.m.LOCATIONS.DISTRICT].MAX?v.m.LOCATIONS.MANDAL:v.m.LOCATIONS.DISTRICT):e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=v.m.LOCATIONS.BASIN),null!=n&&(l[n]=ae.a[e.view][n]),l},t.prototype.colorLayers=function(t,n,e,l){var a=t.layers.overlaylayers;if(null!=a[n])for(var i in e){var r=l;r.clr=e[i].color,r.uuid=i,t.colorVectortileslayer(a[n],[r])}},t.prototype.getStyleObjForLayer=function(t){return{uuid:null,clr:"#634343",wt:.3,opacity:.45}},t.prototype.preProcessData=function(t,n,e){var l={},a=null;e.view==v.m.VIEWS.ADMIN?(a=v.m.LOCATIONS.MANDAL,"parent"==n&&(a=v.m.LOCATIONS.DISTRICT)):(a=v.m.LOCATIONS.SUBBASIN,"parent"==n&&(a=v.m.LOCATIONS.BASIN));for(var i=0,r=t;i<r.length;i++){var o=r[i];if(null!=o.n&&"TOTAL"!=o.n.toLowerCase()){var s=o.uuid,u="#FFFFFF";if(null!=o.tc&&null!=o.tc&&null!=a){var c=Number(o.tc);u=this.getColor(c,a)}l[s]={color:u}}}return l},t.prototype.getColor=function(t,n){var e="#FFFFFF";return n==v.m.LOCATIONS.DISTRICT?e=t>=0?"#008000":"#E3787B":n==v.m.LOCATIONS.MANDAL?e=t>=0?"#008000":"#E3787B":n==v.m.LOCATIONS.BASIN?e=t>=0?"#008000":"#E3787B":n==v.m.LOCATIONS.SUBBASIN&&(e=t>=0?"#008000":"#E3787B"),e},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addWaterauditHeatMap=function(t){return ie(this,void 0,void 0,function(){var n,e;return re(this,function(l){switch(l.label){case 0:return null!=(n=this.getHeatMapKeyMapping(t.params))&&ae.b.WATERAUDIT_LAYERLIST[v.m.VIEWS.ALL][n]&&(this.layerList[n]=ae.b.WATERAUDIT_LAYERLIST[v.m.VIEWS.ALL][n]),[4,this.getWaterauditHeatMap(t)];case 1:return(e=l.sent())&&Object.keys(e).length>0?[4,this.addSrcWiseHeatmapLayers(e,t,t.params)]:[3,3];case 2:l.sent(),l.label=3;case 3:return this.addLegend(t),[2]}})})},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.prototype.getHeatMapLayerNames=function(){return{ASMP:"Soilmoisture Actual Heatmap",VSMP:"Soilmoisture Volume Heatmap"}},t.prototype.getHeatMapKeyMapping=function(t){var n=this.getHeatMapLayerNames(),e=null;return t&&t.heatmap&&t.heatmap.key&&(e=n[t.heatmap.key]),e},t.prototype.getWaterauditHeatMap=function(t){var n=this,e={};return new Promise(function(l,a){var i=t.params,r=n.getHeatMapKeyMapping(i);if(null!=r){var o=n.waterAuditDataService.getPostDataForHeatMap(i);n.waterAuditDataService.post(ae.b.API_MAPPING.HEATMAP,o).subscribe(function(t){var n=i.heatmap.key;if(null!=t[n]){var a={};a.url=t[n],a.name=r,a.basinName=i.dashboardView,e[r]=a}l(e)})}else l(e)})},t.prototype.addSrcWiseHeatmapLayers=function(t,n,e){var l=this;return new Promise(function(a,i){var r=n.gisDataService.createImageLayersOverlays(t,l.layerList,e.dashboardView);r=l.addSourceWiseLayers(n,r,e),a(n.addSrcWiseHeatmapLayers(r))})},t.prototype.addLegend=function(t){if(t.params&&t.params.heatmap&&!this.Utils.isEmptyObj(t.params.heatmap)){t.legendList={};var n=t.params.heatmap.key;ae.a[n]&&(t.legendList[n]=ae.a[n]),t.manageLegend()}},t.prototype.onHeatMapChange=function(t){return ie(this,void 0,void 0,function(){var n,e,l,a;return re(this,function(i){switch(i.label){case 0:if(t.spinner=!0,n=t.params,e=this.getHeatMapLayerNames(),!n||n.component!=v.m.COMPONENT.WATERAUDIT)return[3,2];if(this.Utils.isEmptyObj(t.heatMapParams))return[3,2];for(l in t.params.heatmap=t.heatMapParams.heatMap,e)this.layerList[a=e[l]]&&delete this.layerList[a],t.layers.overlaylayers[a]&&(t.map.hasLayer(t.layers.overlaylayers[a])&&t.map.removeLayer(t.layers.overlaylayers[a]),t.activeLayers[a]&&delete t.activeLayers[a],delete t.layers.overlaylayers[a]);return[4,this.addWaterauditHeatMap(t)];case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(Jn.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),se=function(){function t(t){this.route=t,this.sidebarComponent=le,this.layerList=[],this.otherOptions={legend:{},serviceType:oe,functionName:"getSrcWiseLayers"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=te}return t.prototype.ngOnInit=function(){},t}(),ue=e("PzTR"),ce=e("MAUo"),he=function(){return(he=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},de=e("M8aS"),pe=e("AxlJ");de(Vn),pe(Vn);var ge,me,be,fe,ye=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.EtService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.isET=!1,this.columnConfig=this.EtService.getColumnConfig(),this.tableConfig=this.EtService.getTableConfig(),this.isLastLevel=!1,this.tableNameForDownload="EvapotranspirationTable",this.highcharts=Vn,this.chartheight="300px",this.inputForBreadcrumb=[],this.kpi={agriETLevel:null,agriETVolume:null,etLevel:null,etVolume:null,uuid:null},this.showStockChart=!1,this.showErrorMsgForTable=!1}return t.prototype.ngOnInit=function(){this.EtTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=ce.b.COMPONENT.EVAPOTRANSPIRATION||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.EtTableSpinner=!0,this.isStation=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getEtChartData(),this.getKPIData(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(ce.b.COMPONENT.EVAPOTRANSPIRATION,this.selectedParams)},t.prototype.setBreadCrumb=function(){var t=this,n=this.EtService.getPostDataForBreadCrumb(this.selectedParams);this.EtTableSpinner=!0,this.EtService.post(ce.b.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.EtTableSpinner=!1},function(n){t.EtTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.getEtChartData=function(){var t,n=this,e=[],l=[];t=this.EtService.getPostDataForChart(this.selectedParams),this.EtService.getETChartData(t).subscribe(function(t){e=t.labels,l=[],t.data[0].data.forEach(function(t){l.push(parseFloat(t.toFixed(2)))}),n.etChartData=n.EtService.getETPlotData(e,l),n.highcharts.chart(n.etChart.nativeElement,n.etChartData)})},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.getTableData(),this.isStation=!1):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.EtService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.EtTableSpinner=!0,this.EtService.post(ce.b.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=t.EtService.preprocessTableData(n):t.showErrorMsgForTable=!0,t.EtTableSpinner=!1,t.updateTableConfiguration()},function(n){t.showErrorMsgForTable=!0,t.EtTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.EtService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.selectedParams.iPUUID&&(n.pEUUID=this.selectedParams.iPUUID),this.EtTableSpinner=!0,this.EtService.post(ce.b.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0?t.tableData=n[0]:t.showErrorMsgForTable=!0,t.EtTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.EtTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],n.location.NAME==ce.c.GODAVARI&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams,e=n.cType;e=e==ce.b.COMPONENT.EVAPOTRANSPIRATION?"ET":this.utils.capitalize(e),this.columnConfig.properties.name.displayAs=e;var l=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);l&&l.length>0&&(l[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),l.forEach(function(e){if(null!=e.jsonKey&&null!=e.jsonKey.path){var l=e.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[l]&&null!=t.columnConfig.properties[l].stopAt&&t.locTypes.indexOf(n.cType)==t.locTypes.length-1&&(e.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=he({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=he({},this.tableConfiguration,{columns:l})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){var t=this,n=this.EtService.getPostDataForKPI(this.selectedParams);this.infoboxSummarySpinner=!0,this.EtService.post(ce.b.API_MAPPING.TABLE,n).subscribe(function(n){n&&n.length>0&&(t.kpi=t.EtService.preProcessKPIData(n,t.kpi)),t.infoboxSummarySpinner=!1},function(n){t.infoboxSummarySpinner=!1})},t}(),ve=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Ce=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Se=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.EtService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},location:{},dashboardView:"state",seasonYear:{},seasonType:{},component:ce.b.COMPONENT.EVAPOTRANSPIRATION},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=ce.b.VIEWS,this.dateType=Z.b.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(console.log("params",t.selectedParams),t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.EtService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.EtService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=ce.b.VIEWS.ADMIN},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.EtService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return ve(this,void 0,void 0,function(){var t,n;return Ce(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.EtService.get(ce.b.API_MAPPING.SOURCE,ce.b.COMPONENT.EVAPOTRANSPIRATION+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),t=this.visibilityUtils.updateSourceList(t),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[1]=null!=this.selectedFilterParams.sDate.value&&null!=this.selectedFilterParams.sDate.value,this.validation[2]=null!=this.selectedFilterParams.eDate.value&&null!=this.selectedFilterParams.eDate.value,this.validation[1]&&this.validation[2]&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format)>this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format)));for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.heatmap=this.selectedFilterParams.heatMap,n.component=v.m.COMPONENT.EVAPOTRANSPIRATION,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=ce.b.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.EtService.getPostDataForLocTypes(t),l=[];this.EtService.post(ce.b.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,t.location.NAME==ce.c.GODAVARI&&(l=n.updateColumns(l,[ce.c.STATE])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t),n.utilsService.setSelectedParams(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return ve(this,void 0,void 0,function(){var n,e,l,a,i;return Ce(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.EtService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.EtService.post(ce.b.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),Me=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},_e=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Le=function(){function t(t,n){this.EtDataService=t,this.Utils=n,this.layerList=[],this.EtHeatMapSpinner=!1}return t.prototype.getSrcWiseLayers=function(t){return Me(this,void 0,void 0,function(){var n,e,l,a;return _e(this,function(i){switch(i.label){case 0:if(t.spinner=!0,e=[],(n=t.params).component!=v.m.COMPONENT.EVAPOTRANSPIRATION)return[3,2];for(l in ce.b.ET_LAYERLIST[n.dashboardView])(a=ce.b.ET_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);return this.addSrcWiseWMSLayers(e,t,n),"filter"!=n.actionType?[3,2]:[4,this.addEtHeatMap(t)];case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addEtHeatMap=function(t){return Me(this,void 0,void 0,function(){var n,e;return _e(this,function(l){switch(l.label){case 0:return null!=(n=this.getHeatMapKeyMapping(t.params))&&ce.b.ET_LAYERLIST[v.m.VIEWS.ALL][n]&&(this.layerList[n]=ce.b.ET_LAYERLIST[v.m.VIEWS.ALL][n]),[4,this.getEtHeatMap(t)];case 1:return(e=l.sent())&&Object.keys(e).length>0?[4,this.addSrcWiseHeatmapLayers(e,t,t.params)]:[3,3];case 2:l.sent(),l.label=3;case 3:return this.addLegend(t),[2]}})})},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.prototype.getHeatMapLayerNames=function(){return{ACTUAL:"ET Actual Heatmap"}},t.prototype.getHeatMapKeyMapping=function(t){var n=this.getHeatMapLayerNames(),e=null;return t&&t.heatmap&&t.heatmap.key&&(e=n[t.heatmap.key]),e},t.prototype.getEtHeatMap=function(t){var n=this,e={};return new Promise(function(l,a){var i=t.params,r=n.getHeatMapKeyMapping(i);if(null!=r){var o=n.EtDataService.getPostDataForHeatMap(i);n.EtDataService.post(ce.b.API_MAPPING.HEATMAP,o).subscribe(function(t){var n=i.heatmap.key;if(null!=t[n]){var a={};a.url=t[n],a.name=r,a.basinName=i.dashboardView,e[r]=a}l(e)})}else l(e)})},t.prototype.addSrcWiseHeatmapLayers=function(t,n,e){var l=this;return new Promise(function(a,i){var r=n.gisDataService.createImageLayersOverlays(t,l.layerList,e.dashboardView);r=l.addSourceWiseLayers(n,r,e),a(n.addSrcWiseHeatmapLayers(r))})},t.prototype.addLegend=function(t){if(t.params&&t.params.heatmap&&!this.Utils.isEmptyObj(t.params.heatmap)){t.legendList={};var n=t.params.heatmap.key;ce.a[n]&&(t.legendList[n]=ce.a[n]),t.manageLegend()}},t.prototype.onHeatMapChange=function(t){return Me(this,void 0,void 0,function(){var n,e,l,a;return _e(this,function(i){switch(i.label){case 0:if(t.spinner=!0,n=t.params,e=this.getHeatMapLayerNames(),!n||n.component!=v.m.COMPONENT.SOILMOISTURE)return[3,2];if(this.Utils.isEmptyObj(t.heatMapParams))return[3,2];for(l in t.params.heatmap=t.heatMapParams.heatMap,e)this.layerList[a=e[l]]&&delete this.layerList[a],t.layers.overlaylayers[a]&&(t.map.hasLayer(t.layers.overlaylayers[a])&&t.map.removeLayer(t.layers.overlaylayers[a]),t.activeLayers[a]&&delete t.activeLayers[a],delete t.layers.overlaylayers[a]);return[4,this.addEtHeatMap(t)];case 1:i.sent(),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(ue.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),Oe=function(){function t(t,n){this.route=t,this.EtMapService=n,this.sidebarComponent=Se,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:Le,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=ye,this.EtHeatMapSpinner=this.EtMapService.EtHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),Ae={COMPONENT:{NDVI:"NDVI"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"v2/ndi/table",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes"},LOCATIONS:{TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}},KERALA:{NAME:"KERALA",ADMIN:{UUID:"b3a3109c-1d8d-11ea-9f34-04ea56f9ded6",PTYPE:"STATE"},BASIN:{UUID:"b3a3109c-1d8d-11ea-9f34-04ea56f9ded6",PTYPE:"STATE"}},TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY"},NDVI_LAYERLIST:(ge={},ge[v.m.LOCATIONS.TAMILNADU]={},ge[v.m.LOCATIONS.GODAVARI]={},ge)},Te=((me={})[v.m.VIEWS.ADMIN]=((be={})[v.m.LOCATIONS.DISTRICT]={NDVI:{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#4c4e4e",color:"#000000",text:"< -0.2"},{backgroundColor:"#a73416",color:"#000000",text:"-0.2 - 0.1"},{backgroundColor:"#e64c29",color:"#000000",text:"0.1 - 0.2"},{backgroundColor:"#d25a1f",color:"#000000",text:"0.2 - 0.3"},{backgroundColor:"#f2a72e",color:"#000000",text:"0.3 - 0.4"},{backgroundColor:"#f4ec34",color:"#000000",text:"0.4 - 0.5"},{backgroundColor:"#a5f0bb",color:"#000000",text:"0.5 - 0.6"},{backgroundColor:"#a0e71e",color:"#000000",text:"0.6 - 0.7"},{backgroundColor:"#75cd31",color:"#000000",text:"0.7 - 0.8"},{backgroundColor:"#47801a",color:"#000000",text:"0.8 - 0.9"},{backgroundColor:"#335e10",color:"#000000",text:"0.9 - 1"}]},"NDVI Deviation":{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#a0e71e",color:"#000000",text:"Normal"},{backgroundColor:"#f2a72e",color:"#000000",text:"Watch"},{backgroundColor:"#e96e13",color:"#000000",text:"Alert"}]}},be[v.m.LOCATIONS.MANDAL]={NDVI:{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#4c4e4e",color:"#000000",text:"< -0.2"},{backgroundColor:"#a73416",color:"#000000",text:"-0.2 - 0.1"},{backgroundColor:"#e64c29",color:"#000000",text:"0.1 - 0.2"},{backgroundColor:"#d25a1f",color:"#000000",text:"0.2 - 0.3"},{backgroundColor:"#f2a72e",color:"#000000",text:"0.3 - 0.4"},{backgroundColor:"#f4ec34",color:"#000000",text:"0.4 - 0.5"},{backgroundColor:"#a5f0bb",color:"#000000",text:"0.5 - 0.6"},{backgroundColor:"#a0e71e",color:"#000000",text:"0.6 - 0.7"},{backgroundColor:"#75cd31",color:"#000000",text:"0.7 - 0.8"},{backgroundColor:"#47801a",color:"#000000",text:"0.8 - 0.9"},{backgroundColor:"#335e10",color:"#000000",text:"0.9 - 1"}]},"NDVI Deviation":{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#a0e71e",color:"#000000",text:"Normal"},{backgroundColor:"#f2a72e",color:"#000000",text:"Watch"},{backgroundColor:"#e96e13",color:"#000000",text:"Alert"}]}},be[v.m.LOCATIONS.BLOCK]={NDVI:{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#4c4e4e",color:"#000000",text:"< -0.2"},{backgroundColor:"#a73416",color:"#000000",text:"-0.2 - 0.1"},{backgroundColor:"#e64c29",color:"#000000",text:"0.1 - 0.2"},{backgroundColor:"#d25a1f",color:"#000000",text:"0.2 - 0.3"},{backgroundColor:"#f2a72e",color:"#000000",text:"0.3 - 0.4"},{backgroundColor:"#f4ec34",color:"#000000",text:"0.4 - 0.5"},{backgroundColor:"#a5f0bb",color:"#000000",text:"0.5 - 0.6"},{backgroundColor:"#a0e71e",color:"#000000",text:"0.6 - 0.7"},{backgroundColor:"#75cd31",color:"#000000",text:"0.7 - 0.8"},{backgroundColor:"#47801a",color:"#000000",text:"0.8 - 0.9"},{backgroundColor:"#335e10",color:"#000000",text:"0.9 - 1"}]},"NDVI Deviation":{Units:"",colorValues:[{backgroundColor:"#a9a7a7",color:"#000000",text:"No Data"},{backgroundColor:"#a0e71e",color:"#000000",text:"Normal"},{backgroundColor:"#f2a72e",color:"#000000",text:"Watch"},{backgroundColor:"#e96e13",color:"#000000",text:"Alert"}]}},be),me),De=function(){function t(t,n,e){this.http=t,this.utils=n,this.utilsSrv=e,this.url=R.a.urlMapping.PROJ_API}return t.prototype.post=function(t,n){return this.http.post(this.url+t,n)},t.prototype.get=function(t,n){return this.http.get(this.url+t+n)},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.setColumnValue=function(t,n,e,l){void 0===l&&(l=[]);for(var a=e,i=0;i<l.length;i++)null==a[l[i]]&&(a[l[i]]={}),a=a[l[i]];return a[n.toLowerCase()]="number"==typeof t?this.utils.getDecimalNumber(t,1):t,e},t.prototype.preProcessKPIData=function(t){if(null!=t)var n={nc:t.ndimap&&t.ndimap.ndvi?t.ndimap.ndvi.nc:null,wc:t.ndimap&&t.ndimap.ndvi?t.ndimap.ndvi.wc:null,ac:t.ndimap&&t.ndimap.ndvi?t.ndimap.ndvi.ac:null};return n},t.prototype.preprocessTableData=function(t,n){var e,l,a=this;n&&"VILLAGE"!=n.cType?(l={DISTRICT:"Mandals",BLOCK:"Villages"}[n.cType],e={loc:"loc",uuid:"uuid",nc:"nc",wc:"wc",ac:"ac",idx:"idx",devi:"devi"}):e={loc:"loc",uuid:"uuid",idx:"idx",devi:"devi"};var i=[],r={};return t.forEach(function(t){n&&"VILLAGE"!=n.cType&&(r[l+" Under Different Stress Levels"]={}),r.NDVI={};for(var o=0,s=Object.keys(e);o<s.length;o++){var u=s[o];"loc"==u||"uuid"==u?r[u]=t[e[u]]:"idx"==u?r.NDVI[u]=Object(M.isNullOrUndefined)(t.ndimap.ndvi)?"-":a.getFormattedDecimalFix(t.ndimap.ndvi[e[u]]):"devi"==u?r.NDVI[u]=Object(M.isNullOrUndefined)(t.ndimap.ndvi)?"-":a.getFormattedDecimalFix(100*t.ndimap.ndvi[e[u]]):n&&"VILLAGE"!=n.cType&&(r[l+" Under Different Stress Levels"][u]=t.ndimap.ndvi[e[u]])}i.push(r),r={}}),i},t.prototype.getFormattedDecimalFix=function(t){if(!isNaN(t))return t===parseInt(t)&&t>999?t.toLocaleString("en-IN"):(parseInt(t),t=(t=(Math.round(10*t)/10).toFixed(1))?Number(t).toLocaleString("en-IN"):"-",Math.floor(t)==t&&(t+=".0"),t)},t.prototype.getViewList=function(t){var n=[];return t==Ae.LOCATIONS.TAMILNADU.NAME&&(n=[Ae.VIEWS.ADMIN,Ae.VIEWS.BASIN]),n},t.prototype.getLocationList=function(){return[Ae.LOCATIONS.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getColumnConfig=function(t){var n;"VILLAGE"!=t.cType?n=["loc","nc","wc","ac","idx","devi"]:"VILLAGE"==t.cType&&(n=["loc","idx","devi"]);var e=this.getColumnsDisplayNames(),l={show:n,properties:{loc:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:v.m.LOCATION_CONSTANT.VILLAGE,append:"uuid"},nc:{hideable:!0,displayAs:e.nc,type:"NUMBER"},wc:{hideable:!0,displayAs:e.wc,type:"NUMBER"},ac:{hideable:!0,displayAs:e.ac,type:"NUMBER"},idx:{hideable:!0,displayAs:e.idx,type:"NUMBER"},devi:{hideable:!0,displayAs:e.devi,type:"NUMBER"}}};return"VILLAGE"==t.cType&&(delete l.properties.ac,delete l.properties.nc,delete l.properties.wc),l},t.prototype.getColumnsDisplayNames=function(){return{nc:"Normal",wc:"Watch",ac:"Alert",idx:"Average Value",devi:"Deviation"}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!0,align:"center",order:"order-md-1",text:""}},css:{tableClass:"table table-bordered align-items-center",theadClass:" text-center"},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"loc",colspan:2},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0},downloadOptions:[{downloadType:"xls",downloadFileName:"ndvi-table",downloadAll:!0,metaData:!1},{downloadType:"pdf",downloadFileName:"ndvi-table",downloadAll:!0,metaData:!1}],paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]}}},t.prototype.getKeyToNameMap=function(){return{"TOTAL POPULATION":"Total Population","TOTAL DEMAND":"Total Water Demand"}},t.prototype.getColorsForChart=function(){return{"TOTAL POPULATION":"#72DD07","TOTAL DEMAND":"#2D99FF"}},t.prototype.getPostDataForTable=function(t){return{eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getUrlParamsForTable=function(t){return{pUUID:t.pUUID,lType:t.pType,cType:t.cType,format:t.format,src:t.src,sDate:t.sDate,eDate:t.eDate,pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU}},t.prototype.getPostDataForMap=function(t){return{pUUID:t.pUUID,lType:t.pType,cType:t.cType,format:t.format,src:t.src,sDate:t.sDate,eDate:t.eDate,pEUUID:_.c.STATETOUUIDMAPPING.TAMILNADU}},t.prototype.changeParamsToCommonParams=function(t){void 0===t&&(t={});var n={},e=this.getCommonParamsForMISAndGIS();for(var l in t)e[l]?n[e[l]]=t[l]:n[l]=t[l];return n},t.prototype.getCommonParamsForMISAndGIS=function(){return{component:"component",src:"src",srcUUID:"srcUUID",srcName:"srcName",pType:"pType",loctype:"pType",cType:"cType",seasonType:"seasonType",sDate:"sDate",eDate:"eDate",format:"format",seasonYear:"seasonYear",eYear:"seasonYear",locuuid:"locUUID",locUUID:"locUUID",view:"view",cumEndYear:"seasonYear"}},t.prototype.getPostDataForBreadCrumb=function(t){return{locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component.toLowerCase(),view:t.view,pEUUID:t.pEUUID}},t.prototype.getPostDataForKPI=function(t){return{eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getPostDataForLocTypes=function(t){return{component:(t=this.changeParamsToCommonParams(t)).component.toLowerCase(),srcUUID:t.srcUUID,pEUUID:t.pEUUID,view:t.view+"_HIERARCHY"}},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(j.c),c.gb(D.a),c.gb(T.a))},token:t,providedIn:"root"}),t}(),Pe=function(){return(Pe=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},xe=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.ndviService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.columnConfig=this.ndviService.getColumnConfig(""),this.tableConfig=this.ndviService.getTableConfig(),this.tableNameForDownload="Ndvi-table",this.inputForBreadcrumb=[],this.kpiData={nc:null,wc:null,ac:null},this.showErrorMsgForTable=!1,this.throbberForStackChart=!1,this.date=this.utils.getDateInFormatForecast("dd-MMM-yyyy",(new Date).getTime())}return t.prototype.ngOnInit=function(){this.ndviTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=v.m.COMPONENT.NDVI||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t=0,n=Object.keys(this.kpiData);t<n.length;t++)this.kpiData[n[t]]=null;this.filteredTableData=null,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.ndviTableSpinner=!0},t.prototype.triggerFunctions=function(){this.getTitle(),this.setBreadCrumb(),this.getAndSetTableData()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(v.m.COMPONENT.NDVI,this.selectedParams)},t.prototype.setKPIData=function(t,n){var e;void 0===n&&(n=!1),e=n?t[0]:t.filter(function(t){return"TOTAL"===t.loc})[0],this.kpiData=this.ndviService.preProcessKPIData(e)},t.prototype.setBreadCrumb=function(){var t=this,n=this.ndviService.getPostDataForBreadCrumb(this.selectedParams);this.ndviTableSpinner=!0,this.ndviService.post(Ae.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.ndviTableSpinner=!1},function(n){t.ndviTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.prevpUUID=n.pUUID,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.locName=t.selectedLocation.ln,n.locuuid=t.selectedLocation.lUUID,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",n.handleEventFromBreadcrumb=!0,this.utilsService.setSelectedParams(n))},t.prototype.getAndSetTableData=function(){this.setTableConfig(),this.getTableData()},t.prototype.setTableConfig=function(){this.columnConfig=this.ndviService.getColumnConfig(this.selectedParams),this.tableConfig=this.ndviService.getTableConfig()},t.prototype.getTableData=function(){var t=this,n=this.ndviService.getUrlParamsForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.ndviTableSpinner=!0,this.ndviService.get(Ae.API_MAPPING.TABLE,"/"+n.pUUID+"/LASTKNOWN/LASTKNOWN").subscribe(function(e){e&&e.length>0?(t.setKPIData(e),e=t.ndviService.preprocessTableData(e,t.selectedParams),t.tableData=e,t.filteredTableData=e.slice(),t.updateHeaderConfiguration(n,!0)):t.showErrorMsgForTable=!0,t.ndviTableSpinner=!1},function(n){t.showErrorMsgForTable=!0,t.ndviTableSpinner=!1})},t.prototype.updateHeaderConfiguration=function(t,n){var e=this,l=this.selectedParams;this.columnConfig.properties.loc.displayAs="mandal"==l.cType.toLowerCase()?"Block":this.utils.capitalize(l.cType);var a=Pe({},this.columnConfig),i=this.dataTableModule.getTableHeaderConfiguration(this.filteredTableData,"",a,n);i&&i.length>0&&(i[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),i.forEach(function(t){if(null!=t.jsonKey&&null!=t.jsonKey.path){var n=t.jsonKey.path.split("##")[0];null!=e.columnConfig.properties&&null!=e.columnConfig.properties[n]&&null!=e.columnConfig.properties[n].stopAt&&e.selectedParams.cType==e.locTypes[e.locTypes.length-1]&&(t.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=Pe({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Pe({},this.tableConfiguration,{columns:i})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.locuuid=t.values[1],n.pUUID=t.values[1],n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this,n=this.selectedParams,e=n.cType;e=this.utils.capitalize(e),this.columnConfig.properties.locname.displayAs=e;var l=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);l&&l.length>0&&(l[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),l.forEach(function(e){if(null!=e.jsonKey&&null!=e.jsonKey.path){var l=e.jsonKey.path.split("##")[0];null!=t.columnConfig.properties&&null!=t.columnConfig.properties[l]&&null!=t.columnConfig.properties[l].stopAt&&t.locTypes.indexOf(n.cType)==t.locTypes.length-1&&(e.dataType="LOCATION_DISABLED")}}),this.tableConfiguration=Pe({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=Pe({},this.tableConfiguration,{columns:l})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t}(),we=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},ke=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Ie=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.ndviService=e,this.visibilityUtils=l,this.validation=new Array(6).fill(!0),this.mapLoaderActive=!1,this.sourceList=[],this.locationList=[],this.viewList=[],this.selectedFilterParams={source:{},selectedndvi:"NDVI",format:null,sDate:{value:null},eDate:{value:null},aggreType:null,year:{},view:null,location:{},dashboardView:"state",component:v.m.COMPONENT.NDVI},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=Ae.VIEWS}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.ndviService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.getViewList=function(){this.viewList=this.ndviService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=Ae.VIEWS.ADMIN},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.viewType.BASIN:this.viewType.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetSource=function(){return we(this,void 0,void 0,function(){var t,n;return ke(this,function(e){return this.mapLoaderActive=!0,t=this.visibilityUtils.updateSourceList(t=[{key:"STATE_STATIONS",value:"State Stations",locUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",locType:"COUNTRY",locName:"INDIA",agencyUUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",hasStation:!1,minmax:{MIN:0,MAX:0},current:null,historical:null,dataTypeCodes:null,displayNames:null}]),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]})})},t.prototype.getDates=function(){this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.DAY,this.setMinMaxDates(),this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),this.maxDate=this.maxDate.getTime()>(new Date).getTime()?new Date:this.maxDate,this.setYearList()},t.prototype.setYearList=function(){var t=this.maxDate.getFullYear(),n=this.maxDate.getMonth(),e=this.minDate.getFullYear();n<4&&(t-=1),this.yearList=[];for(var l=t;l>=e;l--)this.yearList.push({key:l,value:l})},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t},t.prototype.onYearChange=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.year.key+"0601"),this.maxDate=this.utils.getDateObjectFromModelDate((Number(this.selectedFilterParams.year.key)+1).toString()+"0531");var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.setWaterYear=function(){this.selectedFilterParams.year=null,this.selectedFilterParams.year=this.yearList[0]||null;var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value=t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate,this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.year.key+"0601"),this.maxDate=this.utils.getDateObjectFromModelDate((Number(this.selectedFilterParams.year.key)+1).toString()+"0531")},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source),this.validation[5]=!this.utils.isEmptyObj(this.selectedFilterParams.year);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.ndviChange=function(){},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.component=v.m.COMPONENT.NDVI,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=Ae.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.year=this.selectedFilterParams.year.key,n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",n.selectedndvi=this.selectedFilterParams.selectedndvi,this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.ndviService.getPostDataForLocTypes(t),l=[];this.ndviService.post(Ae.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,"Godavari"==t.location.NAME&&(l=n.updateColumns(l,["STATE"])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),"Godavari"==t.location.NAME&&(t.cType="BASIN"),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.utilsService.setSelectedParams(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return we(this,void 0,void 0,function(){var n,e,l,a,i;return ke(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.ndviService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.ndviService.post(Ae.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),Ee=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Ne=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},Fe=function(){function t(t,n){this.ndviDataService=t,this.utils=n,this.layerList=[],this.ndviHeatMapSpinner=!1,this.pTypeData=[],this.cTypeData=[]}return t.prototype.getSrcWiseLayers=function(t){return Ee(this,void 0,void 0,function(){var n,e,l,a;return Ne(this,function(i){if(t.spinner=!0,e=[],(n=t.params).component==v.m.COMPONENT.NDVI){for(l in Ae.NDVI_LAYERLIST[n.dashboardView])(a=Ae.NDVI_LAYERLIST[n.dashboardView][l]).source!=n.src&&a.source!=v.m.VIEWS.ALL||a.view!=n.view&&a.view!=v.m.VIEWS.ALL||(a.paramType?a.paramType&&this.checkIsLayerApplicable(a,a.paramType,n[a.paramType])&&(e[l]=a):e[l]=a);this.addSrcWiseWMSLayers(e,t,n),"filter"==n.actionType&&this.getAndSetColors(t),"mapClick"==n.actionType&&this.getAndSetColorsForSpecificLocation(t),t.spinner=!1}return[2]})})},t.prototype.colorLayers=function(t,n,e,l){var a=t.layers.overlaylayers;if(null!=a[n])for(var i in e){var r=l;r.clr=e[i].color,r.uuid=i,t.colorVectortileslayer(a[n],[r])}},t.prototype.getStyleObjForLayer=function(t){return{uuid:null,clr:"#634343",wt:.3,opacity:.45}},t.prototype.getAndSetColors=function(t){return Ee(this,void 0,void 0,function(){var n,e,l,a;return Ne(this,function(i){switch(i.label){case 0:return t.spinner=!0,e=this.getLayerNamesBasedOnParams(n=t.params),l=this.ndviDataService.getPostDataForMap(n),a=this,[4,this.getNdviDemandData(l,"parent",n)];case 1:return a.pTypeData=i.sent(),(l=this.ndviDataService.getPostDataForMap(n)).cType=this.utils.getChildTypeForGivenParentType(l.cType,n.locationTypeList),null!=e.pLayerName&&this.colorLayers(t,e.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=e.cLayerName&&this.colorLayers(t,e.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getAndSetColorsForSpecificLocation=function(t){return Ee(this,void 0,void 0,function(){var n,e,l,a;return Ne(this,function(i){switch(i.label){case 0:return t.spinner=!0,e=this.getLayerNamesBasedOnParams(n=t.params),l=this.ndviDataService.getPostDataForMap(n),a=this,[4,this.getNdviDemandData(l,"parent",n)];case 1:return a.pTypeData=i.sent(),(l=this.ndviDataService.getPostDataForMap(n)).cType=this.utils.getChildTypeForGivenParentType(l.cType,n.locationTypeList),null!=e.pLayerName&&this.colorLayers(t,e.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=e.cLayerName&&this.colorLayers(t,e.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getLayerNamesBasedOnParams=function(t){var n={pLayerName:null,cLayerName:null};return t.dashboardView==v.m.LOCATIONS.TAMILNADU?t.view==v.m.VIEWS.ADMIN?(n.pLayerName="TN District Boundaries",n.cLayerName="TN Mandal Boundaries","BLOCK"==t.cType&&(n.pLayerName="TN Mandal Boundaries",n.cLayerName="TN Village Boundaries")):(n.pLayerName="Telangana Basin",n.cLayerName="Telangana Subbasin"):t.dashboardView==v.m.LOCATIONS.GODAVARI&&t.view==v.m.VIEWS.BASIN&&(n.cLayerName="Godavari Subbasin"),n},t.prototype.getNdviDemandData=function(t,n,e){var l=this,a={},i="/"+t.pUUID+"/LASTKNOWN/LASTKNOWN";return new Promise(function(t,r){l.ndviDataService.get(Ae.API_MAPPING.TABLE,i).subscribe(function(i){i&&i.length>0&&(a=l.preProcessData(i,n,e)),t(a)})})},t.prototype.getLegend=function(t){var n=null,e=t.params,l={};return e.view==v.m.VIEWS.ADMIN?e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=t.map.getZoom()>v.g[v.m.LOCATIONS.DISTRICT].MAX?v.m.LOCATIONS.MANDAL:v.m.LOCATIONS.DISTRICT):e.dashboardView==v.m.LOCATIONS.TAMILNADU&&(n=v.m.LOCATIONS.SUBBASIN),null!=n&&(l[n]=Te[e.view][n][e.selectedndvi]),l},t.prototype.manageLegend=function(t){t.otherOptions.legend={},t.removeLegend(),t.otherOptions.legend=this.getLegend(t),this.utils.isEmptyObj(t.otherOptions.legend)||t.addLegend()},t.prototype.preProcessData=function(t,n,e){var l={},a=null;e.view==v.m.VIEWS.ADMIN&&(a=e.cType);for(var i=0,r=t;i<r.length;i++){var o=r[i];if(null!=o.loc&&"total"!=o.loc.toLowerCase()){var s=o.uuid,u="#FFFFFF";if("NDVI"==e.selectedndvi){if(null!=o.ndimap&&null!=o.ndimap&&null!=o.ndimap.ndvi&&null!=o.ndimap.ndvi&&o.ndimap.ndvi.idx&&null!=a){var c=Number(o.ndimap.ndvi.idx);u=this.getColor(c,a,e)}}else"NDVI Deviation"==e.selectedndvi&&null!=o.ndimap&&null!=o.ndimap&&null!=o.ndimap.ndvi&&null!=o.ndimap.ndvi&&o.ndimap.ndvi.status&&null!=a&&(u=this.getColor(c=o.ndimap.ndvi.status,a,e));l[s]={color:u}}}return l},t.prototype.getColor=function(t,n,e){var l="#FFFFFF";return n==v.m.LOCATIONS.DISTRICT?"NDVI"==e.selectedndvi?t<-.2?l="#4c4e4e":t>=-.2&&t<.1?l="#a73416":t>=.1&&t<.2?l="#e64c29":t>=.2&&t<.3?l="#d25a1f":t>=.3&&t<.4?l="#f2a72e":t>=.4&&t<.5?l="#f4ec34":t>=.5&&t<.6?l="#a5f0bb":t>=.6&&t<.7?l="#a0e71e":t>=.7&&t<.8?l="#75cd31":t>=.8&&t<.9?l="#47801a":t>=.9&&t<=1&&(l="#335e10"):"NDVI Deviation"==e.selectedndvi&&(l="Normal"==t?"#a0e71e":"Watch"==t?"#f2a72e":"Alert"==t?"#e96e13":"#a9a7a7"):n==v.m.LOCATIONS.BLOCK?"NDVI"==e.selectedndvi?t<-.2?l="#4c4e4e":t>=-.2&&t<.1?l="#a73416":t>=.1&&t<.2?l="#e64c29":t>=.2&&t<.3?l="#d25a1f":t>=.3&&t<.4?l="#f2a72e":t>=.4&&t<.5?l="#f4ec34":t>=.5&&t<.6?l="#a5f0bb":t>=.6&&t<.7?l="#a0e71e":t>=.7&&t<.8?l="#75cd31":t>=.8&&t<.9?l="#47801a":t>=.9&&t<=1&&(l="#335e10"):"NDVI Deviation"==e.selectedndvi&&(l="Normal"==t?"#a0e71e":"Watch"==t?"#f2a72e":"Alert"==t?"#e96e13":"#a9a7a7"):n==v.m.LOCATIONS.BASIN?t>20?l="#f7420c":t>18?l="#FF6C40":t>16?l="#CB8F7C":t>14?l="#F16E47":t>12?l="#FE8F6E":t>10?l="#FBC5B5":t>8?l="#0B85D2":t>6?l="#3DA8EB":t>4?l="#6EC3F8":t>2?l="#83CFFE":t<=2&&(l="#D0EAFB"):n==v.m.LOCATIONS.SUBBASIN&&(t>20?l="#f7420c":t>18?l="#FF6C40":t>16?l="#CB8F7C":t>14?l="#F16E47":t>12?l="#FE8F6E":t>10?l="#FBC5B5":t>8?l="#0B85D2":t>6?l="#3DA8EB":t>4?l="#6EC3F8":t>2?l="#83CFFE":t<=2&&(l="#D0EAFB")),l},t.prototype.addSrcWiseVECTORLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.VECTOR_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseVECTORLayers(l)},t.prototype.checkIsLayerApplicable=function(t,n,e){return t[n].findIndex(function(t){return t==e})>-1},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER,e);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n)l[a]=n[a],n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.DISTRICT][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.ALL]||n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.MANDAL][v.m.SOURCES.GRID]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name==v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.BASIN][v.m.SOURCES.ALL]?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.TAMILNADU][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.ALL]&&n[a].layerOptions.layer_name!=v.j[v.m.LOCATIONS.GODAVARI][v.m.LOCATIONS.SUBBASIN][v.m.SOURCES.GRID]||(n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'"),Object(M.isNullOrUndefined)(t.activeLayers[a])&&(t.activeLayers[a]=n[a].layerOptions.visible);return l},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(De),c.gb(T.a))},token:t,providedIn:"root"}),t}(),Be=function(){function t(t,n){this.route=t,this.ndviMapService=n,this.sidebarComponent=Ie,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:Fe,functionName:"getSrcWiseLayers",stationHighlightFunctionName:"setStationHighlightLayer",changeLegendOnZoom:"manageLegend"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=xe,this.ndviHeatMapSpinner=this.ndviMapService.ndviHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),Ue=e("YwB1"),Re={COMPONENT:{SURFACEWATERQUALITY:"SURFACEWATER_WQ"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"waterquality/table",STABLE:"waterquality/gis",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",HEATMAP:"et/etMap",PARAMS:"waterquality/getParams"},LOCATIONS:{TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY",Realtime:"REALTIME"},SWQ_LAYERLIST:(fe={},fe[v.m.LOCATIONS.TAMILNADU]={"Tamilnadu SurfaceWaterQuality Point":{component:v.m.COMPONENT.SURFACEWATERQUALITY,source:v.m.SOURCES.STATE_STATIONS,view:v.m.VIEWS.ALL,layerFrom:v.m.SOURCES.GEOSERVER,displayName:"Rivergauge Points",name:"River Points",visible:!0,layerptions_show_on_selector:!1,onSourceChange:!1,layeroptions_name:"kaleshwaram:tamilnadu_surface_water_quality_river_point",layer_name:"corewris_ts_res_point",layeroptions_pane:"popUp",layeroptions_min_zoom:v.g[v.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:v.g[v.m.LOCATIONS.RAINFALL].MAX,hasLegend:!0,legendName:"ACTUAL",group:"rivergauge",pointToLayer:"addRivergaugeMarkerLayer",group_type:"radio-deselect",layerServiceType:v.d.GEOJSON_LAYER,cqlfilter:null,type:v.d.GEOJSON_LAYER}},fe)},Ve={ACTUAL:{Units:"SWQ",colorValues:[{color:"#FFFFFF",backgroundColor:" #fdffbd",text:"0.0 - 0.5"},{color:"#FFFFFF",backgroundColor:"#fdffa1",text:"0.5 - 1.0"},{color:"#FFFFFF",backgroundColor:"#d1f994",text:"1.0 - 1.5"},{color:"#000000",backgroundColor:"#a7f27f",text:"1.5 - 2.0"},{color:"#000000",backgroundColor:"#7de86f",text:"2.0 - 2.5"},{color:"#000000",backgroundColor:"#88cc90",text:"2.5 - 3.0"},{color:"#FFFFFF",backgroundColor:"#75c4a6",text:"3.0 - 3.5"},{color:"#FFFFFF",backgroundColor:"#65b5c3",text:"3.5 - 4.0"},{color:"#000000",backgroundColor:"#6694b8",text:"4.0 - 4.5"},{color:"#FFFFFF",backgroundColor:"#6175a0",text:"4.5 - 5.0"},{color:"#FFFFFF",backgroundColor:"#4bffff",text:">5.0"},{color:"#FFFFFF",backgroundColor:"#FFFFFF",text:"Cloud"},{color:"#FFFFFF",backgroundColor:"#D3D3D3",text:"No Data"}]}},je={phmax:"PH (max)",bodmax:"BOD (max)",totalcaliform:"Total Coli form",conductivity:"Conductivity",dissolved:"DissolvedO2",temp:"Temperature",nitraten:"Nitraten",fecal:"Fecal"},Ge={phmax:"phmax",bodmax:"bodmax",totalcaliform:"totalcaliform",conductivity:"conductivity",dissolved:"dissolved",temp:"temp",nitraten:"nitraten",fecal:"fecal"},Ye={phmax:{MIN:6.5,MAX:8.5},bodmax:{MIN:null,MAX:2},totalcaliform:{MIN:null,MAX:50},conductivity:{MIN:null,MAX:2250},dissolved:{MIN:6,MAX:null},temp:{MIN:null,MAX:99999},nitraten:{MIN:null,MAX:99999},fecal:{MIN:null,MAX:99999}},We=function(){function t(t,n,e){this.http=t,this.utils=n,this.visibilityUtils=e,this.url=R.a.urlMapping.PROJ_API,this.date=new Date,this.sdate=new Date(this.date.setDate(this.date.getDate()-1)).setHours(8,30,0).toString(),this.eDate=(new Date).getTime().toString(),this.keyVsNameMapping={temp:"Temperature C",ph:"pH",disOxygen:"DissolvedO2 mg/l",conductivity:"Conductivity (mhos/cm)",bod:"BOD mg/l(Max)",nitraten:"Nitrate N + Nitrite N mg/l",fecal:"Fecal Coliform MPN/100ML",totalcaliform:"Total Coliform MPN/100ML",sar:"SAR",ph_gen:"pH_GEN",do_sat_percent:"DO_SAT%",k:"K (mg/L)",mg:"Mg (mg/L)",ec_gen:"EC_GEN (\xb5mho/cm)",ca:"Ca (mg/L)",chloride:"Cl (mg/L)",har_total:"Har_Total (mgCaCO3/L)",rsc:"RSC",tds_mg:"TDS",co3:"CO3 (mg/L)",dissolvedo2:"DissolvedO2 mg/l",fluoride:"F (mg/L)",har_ca:"Har_Ca (mgCaCO3/L)",alk_phen:"Alk-Phen (mgCaCO3/L)",na:"Na  (mg/L)",na_percent:"Na%",so4:"SO4",hco3:"HCO3 (mg/L)",alktot:"Alk-TOT (mgCaCO3/L)",colour_cod:"Colour_Code",odour_code:"Odour_Code",sodiumAbsRatio:"sodiumAbsRatio",Rsc:"rsc",alkalinity:"alkalinity",sulphate:"sulphate",carbonate:"carbonate",bicarbonate:"bicarbonate"}}return t.prototype.post=function(t,n){return this.http.post(this.url+t,n)},t.prototype.get=function(t,n){return this.http.get(this.url+t+n)},t.prototype.getParamList=function(t){return this.http.get(this.url+t)},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.getDates=function(t){var n=new Date,e=this.utils.getDateandTimeString(n.getTime(),t),l=n.getFullYear();n.getMonth()<6&&(l-=1);var a=new Date(Number(l),5,1);return[this.utils.getDateandTimeString(a.getTime(),t),e]},t.prototype.getWqPieChartData=function(t){return this.http.post(this.url+"waterquality/piechart",t)},t.prototype.getSensorChartData=function(t){return this.http.post(this.url+"waterquality/chart",t)},t.prototype.getWqPlotData=function(t,n){return{chart:{type:"line",zoomType:"xy",backgroundColor:"#ffffff"},title:{text:""},xAxis:{categories:t,title:{text:null}},yAxis:[{min:0,title:{text:"ET Level (mm)",align:"high"},labels:{overflow:"justify"},gridLineWidth:"rgba(0, 0, 0, 0.1)"}],plotOptions:{bar:{dataLabels:{enabled:!0}}},exporting:{enabled:!0},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!0}},series:[{name:"ET Level (mm)",data:n,type:"line",tooltip:{valueSuffix:"mm"}}]}},t.prototype.setColumnValue=function(t,n,e,l){void 0===l&&(l=[]);for(var a=e,i=0;i<l.length;i++)null==a[l[i]]&&(a[l[i]]={}),a=a[l[i]];return a[n.toLowerCase()]="number"==typeof t?this.visibilityUtils.getDecimalNumber(t,4):t,e},t.prototype.preProcessKPIData=function(t,n,e){var l={};if("STATION"!=e){var a=t[t.length-1];for(var i in n){var r=null;null!=(r=l[i]?this.getColumnValue(i,a,l[i]):this.getColumnValue(i,a))&&(n[i]=this.visibilityUtils.getDecimalNumber(r,4))}return n}for(var i in a=t[0].swQuality,n)r=null,null!=(r=l[i]?this.getColumnValue(i,a,l[i]):this.getColumnValue(i,a))&&(n[i]=this.visibilityUtils.getDecimalNumber(r,4));return n},t.prototype.preprocessTableData=function(t){for(var n=["locationName","nRiv","locationUUID","temp","phmax","dissolved","conductivity","bodmax","nitraten","fecal","totalcaliform","sar","ph_gen","do_sat_percent","k","mg","ec_gen","ca","chloride","har_total","Rsc","tds","co3","dissolvedo2","fluoride","har_ca","alk_phen","Na","na","so4","hco3","alktot","colour_cod","odour_code","sodiumAbsRatio","carbonate","bicarbonate"],e={},l=[],a={},i=0,r=t;i<r.length;i++){var o=r[i];a={};for(var s=0,u=n;s<u.length;s++){var c=u[s],h=void 0;null==(h=e[c]&&e[c].hierarchy?this.getColumnValue(c,o,e[c].hierarchy):this.getColumnValue(c,o))&&(h="-"),a=e[c]&&e[c].headers?this.setColumnValue(h,c,a,e[c].headers):this.setColumnValue(h,c,a)}this.utils.isEmptyObj(a)||l.push(a)}return l},t.prototype.getPostDataForHeatMap=function(t){return{eDate:t.eDate,sDate:t.sDate,format:"DAILY"==t.timeStep?"yyyyMMdd":"MONTHLY"==t.timeStep?"yyyyMM":"yyyy",lUUID:t.pEUUID,src:t.src}},t.prototype.getViewList=function(t){return t!=Re.LOCATIONS.GODAVARI.NAME?[Re.VIEWS.ADMIN,Re.VIEWS.BASIN]:[Re.VIEWS.BASIN]},t.prototype.getLocationList=function(){return[Re.LOCATIONS.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"}]},t.prototype.getColumnConfig=function(){return{show:["name","nRiv"],properties:{name:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"STATION",append:"locuuid",class:"font-weight-bold",copyToRows:!0},nRiv:{hideable:!0,displayAs:"Total Stations",type:"NUMBER",class:"font-weight-bold",copyToRows:!1},temp:{hideable:!0,displayAs:"Temperature C",type:"TEXT",class:"font-weight-bold",copyToRows:!1},ph:{hideable:!0,displayAs:"pH",type:"TEXT",class:"font-weight-bold",copyToRows:!1},disOxygen:{hideable:!0,displayAs:"DissolvedO2 mg/l",type:"TEXT",class:"font-weight-bold",copyToRows:!1},conductivity:{hideable:!0,displayAs:"Conductivity (mhos/cm)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},bod:{hideable:!0,displayAs:"BOD mg/l",type:"TEXT",class:"font-weight-bold",copyToRows:!1},nitraten:{hideable:!0,displayAs:"Nitrate N + Nitrite N mg/l",type:"TEXT",class:"font-weight-bold",copyToRows:!1},fecal:{hideable:!0,displayAs:"Fecal Coliform MPN/100ML",type:"TEXT",class:"font-weight-bold",copyToRows:!1},totalcaliform:{hideable:!0,displayAs:"Total Coliform MPN/100ML",type:"TEXT",class:"font-weight-bold",copyToRows:!1},sar:{hideable:!0,displayAs:"SAR",type:"TEXT",class:"font-weight-bold",copyToRows:!1},do_sat_percent:{hideable:!0,displayAs:"DO_SAT%",type:"TEXT",class:"font-weight-bold",copyToRows:!1},k:{hideable:!0,displayAs:"K (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},mg:{hideable:!0,displayAs:"Mg (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},ec_gen:{hideable:!0,displayAs:"EC_GEN (\xb5mho/cm)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},ca:{hideable:!0,displayAs:"Ca (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},chloride:{hideable:!0,displayAs:"Cl (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},har_total:{hideable:!0,displayAs:"Har_Total (mgCaCO3/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},rsc:{hideable:!0,displayAs:"RSC",type:"TEXT",class:"font-weight-bold",copyToRows:!1},tds_mg:{hideable:!0,displayAs:"TDS",type:"TEXT",class:"font-weight-bold",copyToRows:!1},co3:{hideable:!0,displayAs:"CO3 (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},dissolvedo2:{hideable:!0,displayAs:"DissolvedO2 mg/l",type:"TEXT",class:"font-weight-bold",copyToRows:!1},fluoride:{hideable:!0,displayAs:"F (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},har_ca:{hideable:!0,displayAs:"Har_Ca (mgCaCO3/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},alk_phen:{hideable:!0,displayAs:"Alk-Phen (mgCaCO3/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},na:{hideable:!0,displayAs:"Na  (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},na_percent:{hideable:!0,displayAs:"Na%",type:"TEXT",class:"font-weight-bold",copyToRows:!1},so4:{hideable:!0,displayAs:"SO4",type:"TEXT",class:"font-weight-bold",copyToRows:!1},hco3:{hideable:!0,displayAs:"HCO3 (mg/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},alktot:{hideable:!0,displayAs:"Alk-TOT (mgCaCO3/L)",type:"TEXT",class:"font-weight-bold",copyToRows:!1},colour_cod:{hideable:!0,displayAs:"Colour_Code",type:"TEXT",class:"font-weight-bold",copyToRows:!1},odour_code:{hideable:!0,displayAs:"Odour_Code",type:"TEXT",class:"font-weight-bold",copyToRows:!1},sodiumAbsRatio:{hideable:!0,displayAs:"sodiumAbsRatio",type:"TEXT",class:"font-weight-bold",copyToRows:!1},Rsc:{hideable:!0,displayAs:"rsc",type:"TEXT",class:"font-weight-bold",copyToRows:!1},alkalinity:{hideable:!0,displayAs:"alkalinity",type:"TEXT",class:"font-weight-bold",copyToRows:!1},sulphate:{hideable:!0,displayAs:"sulphate",type:"TEXT",class:"font-weight-bold",copyToRows:!1},carbonate:{hideable:!0,displayAs:"carbonate",type:"TEXT",class:"font-weight-bold",copyToRows:!1},bicarbonate:{hideable:!0,displayAs:"bicarbonate",type:"TEXT",class:"font-weight-bold",copyToRows:!1}}}},t.prototype.getColumnsDisplayNames=function(){return{nriv:"Total Stations"}},t.prototype.getColNamesFromDisplayNames=function(){return{"ASM (%) at 15 cm":"asmperc","VSM (%) at 15 cm":"vsmperc"}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"name",colspan:2},downloadOptions:[{downloadType:"xls",downloadFileName:"Surfacewaterquality",downloadAll:!0,metaData:!1},{downloadType:"pdf",downloadFileName:"Surfacewaterquality",downloadAll:!0,metaData:!1}],paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0}}},t.prototype.getPostDataForTable=function(t){return{component:t.component.toLowerCase(),src:t.src,format:t.timeStep,eDate:"REALTIME"==t.timeStep?this.eDate:t.eDate,sDate:"REALTIME"==t.timeStep?this.sdate:t.sDate,aggr:"LATEST",pUUID:t.pUUID,cType:t.cType,lType:t.pType,rList:[]}},t.prototype.getLastLevelPostDataForTable=function(t){return{component:t.component.toLowerCase(),src:t.src,format:t.timeStep,eDate:"REALTIME"==t.timeStep?this.eDate:t.eDate,sDate:"REALTIME"==t.timeStep?this.sdate:t.sDate,aggr:"LATEST",pUUID:t.pUUID,cType:"STATION",lType:"STATION",rList:[]}},t.prototype.getPostDataForChart=function(t){return{component:t.component,eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,lType:t.pType,format:t.timeStep,cType:t.cType,view:t.view,src:t.src,aggr:"LATEST"}},t.prototype.getParamsForSensorChart=function(t){return{component:t.component.toLowerCase(),src:t.src,format:t.timeStep,eDate:"REALTIME"==t.timeStep?this.eDate:t.eDate,sDate:"REALTIME"==t.timeStep?this.sdate:t.sDate,aggr:"LATEST",pUUID:t.pUUID,lType:"STATION"}},t.prototype.getPostDataForBreadCrumb=function(t){var n={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component,view:t.view,src:t.src,pEUUID:t.pEUUID};return"TAMILNADU"==t.location.NAME&&t.view==Re.VIEWS.BASIN&&(n.pEUUID=v.h[t.location.NAME.toUpperCase()][t.view].UUID),n},t.prototype.getPostDataForKPI=function(t){return{component:t.component.toLowerCase(),src:t.src,format:t.timeStep,eDate:"REALTIME"==t.timeStep?this.eDate:t.eDate,sDate:"REALTIME"==t.timeStep?this.sdate:t.sDate,aggr:"LATEST",pUUID:t.pUUID,cType:t.cType,lType:t.pType,rList:[]}},t.prototype.getPostDataForKPILastLevel=function(t){return{component:t.component.toLowerCase(),src:t.src,format:t.timeStep,eDate:"REALTIME"==t.timeStep?this.eDate:t.eDate,sDate:"REALTIME"==t.timeStep?this.sdate:t.sDate,aggr:"LATEST",pUUID:t.pUUID,cType:"STATION",lType:"STATION",rList:[]}},t.prototype.getPostDataForLocTypes=function(t){return{component:t.component,pEUUID:t.pEUUID,srcUUID:t.srcUUID,view:t.view+"_HIERARCHY"}},t.prototype.getWQChart=function(){return{component:"demand",chart:{plotBorderWidth:null,plotShadow:!1},plotOptions:{pie:{shadow:!1,depth:45,center:["50%","50%"],size:"100%",innerSize:"0%",colorByPoint:!0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},exporting:{enabled:!0},credits:{enabled:!1},title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:{title:{text:""}},tooltip:{valueDecimals:1,pointFormat:"<b>{point.percentage:.1f}%</b>"},colors:[],series:[{type:"pie",data:[]}]}},t.prototype.getStationSWQChart=function(){return{component:"surfacewaterquality",exporting:{enabled:!0},credits:{enabled:!1},chart:{type:"line"},colors:["#FF0000","#3399ff","#90ed7d"],title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:"pH"},labels:{format:"{value:.2f}"},plotLines:[]}],legend:{},tooltip:{shared:!0,valueDecimals:2},plotOptions:{series:{pointWidth:20}},series:[{}]}},t.prototype.preprocessPieChart=function(t,n,e){return n.colors=["#FFE700","#3be449","#FF0000","#808080"],n.series[0].data=this.setupSurfacewaterPieChartData(t,e),n},t.prototype.setupSurfacewaterPieChartData=function(t,n){if(0===t.length)return[];var e=[],l=0,a=0,i=0,r=1;for(var o in t)if(t[o].swQuality&&"TOTAL"!=t[o].locationName)switch(r=0,this.checkPermissibleLimits(n,t[o].swQuality[Ge[n]])){case 0:l++;break;case 1:a++;break;case 2:i++}if(isNaN(l)&&isNaN(a)&&isNaN(i)&&isNaN(r))return null;var s=l+a+i+r;return e.push(["below",Math.round(l/s*100*100)/100]),e.push(["within",Math.round(a/s*100*100)/100]),e.push(["above",Math.round(i/s*100*100)/100]),e.push(["nodata",Math.round(r/s*100*100)/100]),e},t.prototype.checkPermissibleLimits=function(t,n){var e,l;return l=Ye[t]?Ye[t].MAX:null,!(e=Ye[t]?Ye[t].MIN:null)&&!l||null==n?3:e?l?n<=e?0:n>=l?2:1:n<=e?0:1:n>=l?2:1},t.prototype.preprocessSensorChartData=function(t,n,e,l){var a=n[e];t.xAxis.categories="REALTIME"!=l?this.getFormatdata(a.labels,l):this.realtimeFormatData(a.labels);for(var i=0;i<a.data.length;i++)a.data[i].name=a.data[i].label,a.data[i].visible=!!a.data[i].label.includes("Current Year");t.series=a.data},t.prototype.getFormatdata=function(t,n){var e;console.log("format data",t);for(var l=[],a=0;a<t.length;a++){var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=(e=t[a].toString()).substring(0,4),o=e.substring(4,6),s=e.substring(6,8);l.push("DAILY"==n?s+i[o-1]+"-"+r:"MONTHLY"==n?i[o-1]+"-"+r:i[r])}return l},t.prototype.realtimeFormatData=function(t){for(var n=[],e=[],l=(new Date,0);l<t.length;l++){var a=Number(t[l]);n.push(a)}for(l=0;l<n.length;l++){var i=t[l];i=this.utils.getSimpleDateString(i),e.push(i)}return e},t.prototype.preprocessTableDataGis=function(t,n){return t.forEach(function(t){Object.assign(t,{name:t.ln,locuuid:t.lUUID})}),this.formatWQTableData(t)},t.prototype.formatWQTableData=function(t){var n=[];return t.forEach(function(t){var e={};for(var l in t){var a=t[l];if("object"==typeof a)for(var i in a)e[i]=a[i];else e[l]=a}n.push(e)}),this.mapKeystoValues(n)},t.prototype.mapKeystoValues=function(t){var n=this,e=[];return t.forEach(function(t){var l={};Object.assign(l,{name:t.ln,locuuid:t.lUUID,nRiv:t.nRiv?t.nRiv:"-"}),Object.keys(n.keyVsNameMapping).forEach(function(n){var e=t[n]?t[n].toLocaleString("en-IN"):"-";l[n]=e}),e.push(l)}),e},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(j.c),c.gb(T.a),c.gb(D.a))},token:t,providedIn:"root"}),t}(),ze=function(){return(ze=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},He=e("M8aS"),qe=e("AxlJ");He(Vn),qe(Vn);var Ke=function(){function t(t,n,e,l,a,i){this.utilsService=t,this.obj=n,this.SwqService=e,this.dataTableModule=l,this.utils=a,this.visibilityUtils=i,this.isStation=!1,this.isET=!1,this.columnConfig=this.SwqService.getColumnConfig(),this.tableConfig=this.SwqService.getTableConfig(),this.isLastLevel=!1,this.tableNameForDownload="WaterQualityTable",this.highcharts=Vn,this.chartheight="300px",this.inputForBreadcrumb=[],this.kpi={nRiv:null,ph:null,disOxygen:null,bod:null,cod:null,conductivity:null,turbidity:null},this.showStockChart=!1,this.chartParam="phmax",this.classParam="Class A",this.seletedChartType="PH",this.showChart=!1,this.showErrorMsgForTable=!1,this.WQchart={visibility:{showChart:!1,renderChart:!1},chartOptions:this.SwqService.getWQChart()}}return t.prototype.ngOnInit=function(){this.SWQTableSpinner=!0,this.subscribeEvents()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.selectedParams=n,t.utils.isEmptyObj(t.selectedParams)||t.selectedParams.component!=Re.COMPONENT.SURFACEWATERQUALITY||(t.locTypes=t.selectedParams.locationTypeList,t.resetVariables(),t.triggerFunctions())})},t.prototype.resetVariables=function(){for(var t in this.kpi)this.kpi[t]=null;this.showStockChart=!1,this.showErrorMsgForTable=!1,this.inputForBreadcrumb=[],this.tableData=[],this.SWQTableSpinner=!0,this.isStation=!1},t.prototype.triggerFunctions=function(){this.getTitle(),this.getChartDropDown(),this.getKPIData(),this.setBreadCrumb(),this.getAndSetTableData(),this.isStation&&this.changeLevelChart()},t.prototype.getTitle=function(){this.title=this.visibilityUtils.getTitleForComponent(Re.COMPONENT.SURFACEWATERQUALITY,this.selectedParams)},t.prototype.getChartDropDown=function(){this.chartParamList=Object.keys(Ge),this.chartParamList.sort(function(t,n){return t.localeCompare(n)}),this.chartDropDownList=je},t.prototype.setBreadCrumb=function(){var t=this,n=this.SwqService.getPostDataForBreadCrumb(this.selectedParams);this.SWQTableSpinner=!0,this.SwqService.post(Re.API_MAPPING.BREADCRUMB,n).subscribe(function(n){n&&n.length>0&&(t.inputForBreadcrumb=void 0,t.inputForBreadcrumb=n.reverse()),t.SWQTableSpinner=!1},function(n){t.SWQTableSpinner=!1})},t.prototype.handleEventFromBreadcrumb=function(t){var n=this.selectedParams;t.selectedLocation&&(n.locName=t.selectedLocation.ln,n.pUUID=t.selectedLocation.lUUID,n.pType=t.selectedLocation.locType,n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.actionType="breadcrumb",this.utilsService.setSelectedParams(n))},t.prototype.setStockChart=function(){},t.prototype.setStockChartPostData=function(){},t.prototype.getWqChartData=function(){},t.prototype.getAndSetTableData=function(){this.selectedParams.pType!=this.locTypes[this.locTypes.length-1]?(this.getTableData(),this.isStation=!1):(this.isStation=!0,this.getLastLevelTableData())},t.prototype.getTableData=function(){var t=this,n=this.SwqService.getPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.SWQTableSpinner=!0,this.SwqService.post("STATION"==this.selectedParams.pType?Re.API_MAPPING.STABLE:Re.API_MAPPING.TABLE,n).subscribe(function(n){"STATION"!==t.selectedParams.pType&&(t.tableData=t.SwqService.preprocessTableDataGis(n,t.selectedParams.cType)),t.updateTableConfiguration(),t.SWQTableSpinner=!1},function(n){t.SWQTableSpinner=!1})},t.prototype.getLastLevelTableData=function(){var t=this,n=this.SwqService.getLastLevelPostDataForTable(JSON.parse(JSON.stringify(this.selectedParams)));this.SWQTableSpinner=!0,this.SwqService.post(Re.API_MAPPING.STABLE,n).subscribe(function(n){n&&n.length>0?t.stationData=n:t.showErrorMsgForTable=!0},function(n){t.showErrorMsgForTable=!0,t.SWQTableSpinner=!1})},t.prototype.handleLocationClick=function(t){if(null!=t&&null!=t.values&&2==t.values.length){var n=this.selectedParams;n.locName=t.values[0],n.pUUID=t.values[1],"Godavari"==n.location.NAME&&n.cType==v.m.LOCATION_CONSTANT.BASIN?n.cType=v.m.LOCATION_CONSTANT.SUBBASIN:(n.pType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList),n.cType=this.utils.getChildTypeForGivenParentType(n.pType,n.locationTypeList)),n.actionType="table",this.utilsService.setSelectedParams(n)}},t.prototype.updateTableConfiguration=function(){var t=this.selectedParams,n=t.cType;void 0===n&&(n=this.locTypes[this.locTypes.length-1]),this.columnConfig.show=t.cType==v.m.LOCATION_CONSTANT.STATION?["name","temp","ph","disOxygen","conductivity","bod","nitraten","fecal","totalcaliform","sar","ph_gen","do_sat_percent","k","mg","ec_gen","ca","chloride","har_total","Rsc","tds","co3","dissolvedo2","fluoride","har_ca","alk_phen","Na","na","so4","hco3","alktot","colour_cod","odour_code","sodiumAbsRatio","carbonate","bicarbonate"]:["name","nRiv"],this.columnConfig.properties.name.displayAs="mandal"==n.toLowerCase()?"Block":"rainfall"==n.toLowerCase()?"Station":this.utils.capitalize(n),this.tableConfig.totalRow.displayAs="Summary",this.columnConfig.properties.name.stopAt=n;var e=this.dataTableModule.getTableHeaderConfiguration(this.tableData,"",this.columnConfig,!0);e&&e.length>0&&t.loctype==v.m.LOCATION_CONSTANT.STATE&&(e[0].sortOrderList=v.m.DISTRICT_ORDER_ACTUAL_NAME),e.forEach(function(t){null!=t.jsonKey&&null!=t.jsonKey.path&&t.jsonKey.path.split("##")}),this.tableConfiguration=ze({},this.dataTableModule.getTableMasterConfiguration(this.selectedParams),this.tableConfig),this.tableConfiguration=ze({},this.tableConfiguration,{columns:e}),console.log("this.tableConfiguration",this.tableConfiguration)},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getKPIData=function(){var t,n,e=this,l=this.SwqService.getPostDataForKPILastLevel(this.selectedParams),a=this.SwqService.getPostDataForKPI(this.selectedParams);this.infoboxSummarySpinner=!0,"STATION"==this.selectedParams.pType?(n=Re.API_MAPPING.STABLE,t=l):(n=Re.API_MAPPING.TABLE,t=a),this.SwqService.post(n,t).subscribe(function(t){t&&t.length>0&&(e.kpi=e.SwqService.preProcessKPIData(t,e.kpi,e.selectedParams.pType)),e.infoboxSummarySpinner=!1},function(t){e.infoboxSummarySpinner=!1})},t.prototype.changeChartPie=function(t){void 0===t&&(t=!1),this.chartDropDownList=Ye[this.chartParam]?Object.keys(Ye[this.chartParam]):[],t&&(this.classParam=this.chartDropDownList[0]),this.setChart()},t.prototype.setChart=function(){this.SwqService.getPostDataForChart(this.selectedParams)},t.prototype.changeLevelChart=function(){this.showChart=!1,this.getandsetSensorChart()},t.prototype.getandsetSensorChart=function(){return t=this,void 0,e=function(){var t,n=this;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(e){switch(e.label){case 0:return this.StationchartOptions=this.SwqService.getStationSWQChart(),t=this.SwqService.getParamsForSensorChart(this.selectedParams),[4,this.SwqService.getSensorChartData(t).subscribe(function(t){n.isChartData=!1,Object.keys(t).length>0&&(n.isChartData=!0,n.showChart=!0,n.SwqService.getParamList(Re.API_MAPPING.PARAMS).subscribe(function(t){n.paramList=t,Object.keys(n.paramList).forEach(function(t){if(n.selectedParams.pUUID==t)for(var e in n.keys=n.paramList[t],n.keys)n.keys[e]=n.keys[e].toUpperCase()})}),n.SwqService.preprocessSensorChartData(n.StationchartOptions,t,n.seletedChartType,n.selectedParams.timeStep),n.StationchartOptions.yAxis[0].title.text=n.seletedChartType)},function(t){n.isChartData=!1,n.StationchartOptions=[]})];case 1:return e.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(l,a){function i(t){try{o(e.next(t))}catch(n){a(n)}}function r(t){try{o(e.throw(t))}catch(n){a(n)}}function o(t){t.done?l(t.value):new n(function(n){n(t.value)}).then(i,r)}o((e=e.apply(t,[])).next())});var t,n,e},t}(),Xe=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Je=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},$e=function(){function t(t,n,e,l){this.utils=t,this.utilsService=n,this.SwqService=e,this.visibilityUtils=l,this.validation=new Array(5).fill(!0),this.mapLoaderActive=!1,this.constants=v.m,this.sourceList=[],this.locationList=[],this.viewList=[],this.heatMapList=[],this.selectedFilterParams={source:{},format:null,sDate:{value:null},eDate:{value:null},view:null,heatMap:{},aggreType:{},location:{},dashboardView:"state",seasonYear:{},seasonType:{},component:Re.COMPONENT.SURFACEWATERQUALITY},this.isInitialLoad=!1,this.isSourceChanged=!1,this.viewType=Re.VIEWS,this.dateType=Z.b.DATEPICKER_DATE_FORMAT}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n)})},t.prototype.initializeMethods=function(){this.getAndSetLocationList(),this.setView(),this.getAndSetHeatMapList(),this.getAndSetSource()},t.prototype.getAndSetLocationList=function(){this.locationList=this.SwqService.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){var t=this;this.getViewList(),-1==this.viewList.findIndex(function(n){return n==t.selectedFilterParams.view})&&(this.selectedFilterParams.view=this.viewList[0]),this.isInitialLoad=!0,this.getAndSetSource()},t.prototype.getViewList=function(){this.viewList=this.SwqService.getViewList(this.selectedFilterParams.location.NAME)},t.prototype.setView=function(){this.selectedFilterParams.view=Re.VIEWS.ADMIN},t.prototype.onViewChange=function(t){this.selectedFilterParams.view=t.target.checked?this.constants.VIEWS.BASIN:this.constants.VIEWS.ADMIN,this.isInitialLoad=!0,this.requestHeatMap()},t.prototype.getAndSetHeatMapList=function(){this.heatMapList=this.SwqService.getHeatMapList(),this.selectedFilterParams.heatMap=this.heatMapList[0]},t.prototype.onHeatMapchange=function(){this.utilsService.setSelectedHeatMap(this.selectedFilterParams)},t.prototype.checkView=function(t){var n=!1;return-1==this.viewList.findIndex(function(n){return n==t})&&(n=!0),n},t.prototype.getAndSetSource=function(){return Xe(this,void 0,void 0,function(){var t,n;return Je(this,function(e){switch(e.label){case 0:return this.mapLoaderActive=!0,[4,this.SwqService.get(Re.API_MAPPING.SOURCE,Re.COMPONENT.SURFACEWATERQUALITY+"/"+this.selectedFilterParams.view+"_HIERARCHY/"+this.selectedFilterParams.location[this.selectedFilterParams.view].UUID).toPromise()];case 1:return t=e.sent(),t=this.visibilityUtils.updateSourceList(t),n=t,this.mapLoaderActive=!1,n&&n.length>0&&(this.sourceList=n,this.selectedFilterParams.source=this.sourceList[0],this.getDates(),this.isInitialLoad&&this.requestHeatMap()),[2]}})})},t.prototype.getDates=function(){this.setMinMaxDates(),this.selectedFilterParams.format=Z.b.DATEPICKER_DATE_FORMAT.MONTH,this.setWaterYear()},t.prototype.setMinMaxDates=function(){this.minDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MIN.toString()),this.maxDate=this.utils.getDateObjectFromModelDate(this.selectedFilterParams.source.minmax.MAX.toString()),"yyyy"==this.selectedFilterParams.format&&this.checkWaterYear()},t.prototype.checkWaterYear=function(){var t=this.visibilityUtils.calculateWaterYear(this.minDate,this.maxDate);this.minDate=t.minimumDate,this.maxDate=t.maximumDate},t.prototype.onSourceChange=function(){this.isSourceChanged=!0,this.setMinMaxDates();var t=this.visibilityUtils.checkDateRange(this.selectedFilterParams.sDate.value,this.selectedFilterParams.eDate.value,this.minDate,this.maxDate);t.sDate!=this.selectedFilterParams.sDate.value&&t.eDate!=this.selectedFilterParams.eDate.value?this.selectedFilterParams.sDate.value<this.minDate&&this.selectedFilterParams.eDate.value>this.maxDate?(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate):this.setWaterYear():(this.selectedFilterParams.sDate.value=t.sDate,this.selectedFilterParams.eDate.value=t.eDate)},t.prototype.onFormatChange=function(t){this.selectedFilterParams.format=t,this.setMinMaxDates()},t.prototype.setWaterYear=function(){var t=this.visibilityUtils.setWaterYear(this.maxDate,this.minDate);this.selectedFilterParams.sDate.value="yyyyMM"==this.selectedFilterParams.format?this.minDate:t.defaultSDate,this.selectedFilterParams.eDate.value=t.defaultEDate},t.prototype.isValid=function(){this.validation[0]=!this.utils.isEmptyObj(this.selectedFilterParams.source);for(var t=!0,n=0;n<this.validation.length;n++)t=t&&this.validation[n];return t},t.prototype.requestHeatMap=function(t){if(this.isValid()){var n={};this.isInitialLoad||(n=this.selectedParams),n.heatmap=this.selectedFilterParams.heatMap,n.component=v.m.COMPONENT.SURFACEWATERQUALITY,n.src=this.selectedFilterParams.source.key,n.srcName=this.selectedFilterParams.source.value,n.srcUUID=this.selectedFilterParams.source.agencyUUID,n.format=this.selectedFilterParams.format,n.timeStep=Re.TIME_STEP_MAPPING[this.selectedFilterParams.format],n.sDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.sDate.value,this.selectedFilterParams.format),n.eDate=this.utils.getModelDateWithDateFormat(this.selectedFilterParams.eDate.value,this.selectedFilterParams.format),n.view=this.selectedFilterParams.view;var e=this.utils.getModelDateFromDate(this.minDate),l=this.utils.getModelDateFromDate(this.maxDate);n.maxDate=l,n.minDate=e,n.location=this.selectedFilterParams.location,n.dashboardView=this.selectedFilterParams.location.NAME.toUpperCase(),n.actionType="filter",this.isInitialLoad&&(n.locName=this.selectedFilterParams.location.NAME,n.pUUID=this.selectedFilterParams.location[n.view].UUID,n.pType=this.selectedFilterParams.location[n.view].PTYPE,n.pEUUID=this.selectedFilterParams.location[n.view].UUID),this.getLocTypes(n)}},t.prototype.updateColumns=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);for(var e=function(n){var e=t.findIndex(function(t){return t==n});e>-1&&t.splice(e,1)},l=0,a=n;l<a.length;l++)e(a[l]);return t},t.prototype.getLocTypes=function(t){var n=this,e=this.SwqService.getPostDataForLocTypes(t),l=[];this.SwqService.post(Re.API_MAPPING.LOCATION_TYPES,e).subscribe(function(e){e&&e.length>0&&(l=e,"Godavari"==t.location.NAME&&(l=n.updateColumns(l,["STATE"])),n.isInitialLoad&&(t.cType=n.utils.getChildTypeForGivenParentType(t.pType,l),n.isInitialLoad=!1)),t.locationTypeList=l,n.spinnerForLocationType=!1,n.checkAndUpdateLocation(t),n.utilsService.setSelectedParams(t)},function(e){n.spinnerForLocationType=!1,t.locationTypeList=l,n.utilsService.setSelectedParams(t)})},t.prototype.checkAndUpdateLocation=function(t){return Xe(this,void 0,void 0,function(){var n,e,l,a,i;return Je(this,function(r){switch(r.label){case 0:return 1!=this.isSourceChanged?[3,3]:(this.isSourceChanged=!1,-1!=t.locationTypeList.findIndex(function(n){return n==t.pType})?[3,2]:(n=this.SwqService.getPostDataForBreadCrumb(t),this.spinnerForLocationType=!0,[4,this.SwqService.post(Re.API_MAPPING.BREADCRUMB,n).toPromise()]));case 1:e=r.sent(),this.spinnerForLocationType=!1,l=t.locationTypeList[t.locationTypeList.length-1],-1!=(a=e.findIndex(function(t){return t.locType==l}))&&(t.locName=(i=e[a]).ln,t.pUUID=i.lUUID,t.pType=i.locType,t.cType=i.locType),r.label=2;case 2:return t.onSourceChange=!0,[3,4];case 3:t.onSourceChange=!1,r.label=4;case 4:return this.utilsService.setSelectedParams(t),[2]}})})},t.prototype.toggleSidenav=function(){this.utilsService.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utilsService.setVisibilitySidebarMenuStatus(!1)},t}(),Qe=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},Ze=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},tl=function(){function t(t,n,e,l,a){this.Utils=t,this.utils=n,this.swqDataService=e,this.utilServ=l,this.gisService=a,this.layerList=[],this.SwqHeatMapSpinner=!1,this.maxCapacity=1e5,this.minCapacity=.4,this.minRadius=3,this.maxRadius=30,this.datePipe=new m.e("en-US")}return t.prototype.getSrcWiseLayers=function(t){return Qe(this,void 0,void 0,function(){var n,e,l;return Ze(this,function(a){if("filter"==(n=t.params).actionType){for(l in e=[],Re.SWQ_LAYERLIST[n.dashboardView])e[l]=Re.SWQ_LAYERLIST[n.dashboardView][l];this.addSrcWiseGEOJSONLayers(e,t,n),this.addSrcWiseWMSLayers(e,t,n),this.addlegend(t),t.manageLegend()}return[2]})})},t.prototype.getStationLayer=function(t){t.removeComponentWiseLayers(),this.getSrcWiseLayers(t)},t.prototype.addlegend=function(t){for(var n in Ve)t.legendList[n]=Ve[n];t.manageLegend()},t.prototype.addSrcWiseWMSLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.WMS_LAYER);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseWMSLayers(l)},t.prototype.addSrcWiseGEOJSONLayers=function(t,n,e){var l=n.gisDataService.getApplicationBasedLayer(t,v.d.GEOJSON_LAYER);l=this.addSourceWiseLayers(n,l,e),n.addSrcWiseGEOJSONLayers(l)},t.prototype.addSourceWiseLayers=function(t,n,e){var l={};for(var a in n){if(l[a]=n[a],"Telangana District Mask"==n[a].layerOptions.layer_name)n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if("Telangana Mandal Mask"==n[a].layerOptions.layer_name)n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'";else if("mitanks_structure"==n[a].layerOptions.layer_name){var i="uuid";e.pType==v.m.LOCATIONS.MANDAL?i="mandal_uui":e.pType==v.m.LOCATIONS.SUBBASIN&&(i="sub_bas_uu"),n[a].layerOptions.cql_filter=i+" ='"+e.pUUID+"'"}else"Telangana Basin Mask"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":"Telangana SUBBASIN Mask"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="uuid ='"+e.pUUID+"'":"Water Bodies"==n[a].layerOptions.layer_name?(i="uuid",e.pType==v.m.LOCATIONS.MANDAL?i="man_uuid":e.pType==v.m.LOCATIONS.SUBBASIN&&(i="sub_bas_uu"),n[a].layerOptions.cql_filter=i+" ='"+e.pUUID+"'"):"mitanks_mandal_structure_count"==n[a].layerOptions.layer_name?n[a].layerOptions.cql_filter="dist_uuid ='"+e.pUUID+"'":"MI Tanks_SubBasin Structures Count"==n[a].layerOptions.layer_name&&(n[a].layerOptions.cql_filter="basin_uuid ='"+e.pUUID+"'");t.activeLayers[a]=n[a].layerOptions.visible}return l},t.prototype.getRadius=function(t){t=Number(t);var n=this.minRadius;return null!=t&&(n=this.minRadius+t/this.maxCapacity*(this.maxRadius-this.minRadius)),n},t.prototype.getColumnValue=function(t,n,e){void 0===e&&(e=[]);for(var l=null,a=!0,i=n,r=0,o=e;r<o.length;r++){var s=o[r];if(null==i[s]||null==i[s]){a=!1;break}i=i[s]}return a&&null!=i[t]&&null!=i[t]&&(l=i[t]),l},t.prototype.preProcessData=function(t){for(var n={},e=this.minRadius,l=this.maxRadius,a=0,i=t;a<i.length;a++)"total"!=(s=i[a]).ln.toLowerCase()&&(s.tca>=this.maxCapacity&&(this.maxCapacity=s.tca),t.tca<this.minCapacity&&(this.minCapacity=s.tca));for(var r=0,o=t;r<o.length;r++){var s,u=(s=o[r]).lUUID,c=e,h=this.getColumnValue("tca",s),d=this.getColumnValue("tSt",s),p=this.getColumnValue("pfill",s),g=this.getColumnValue("cl",s),m=this.getColumnValue("frl",s),b=this.getColumnValue("inf",s),f=this.getColumnValue("ofl",s),y=this.getColumnValue("lts",s),v="gray";null!=d&&null!=h&&(c=e+d/this.maxCapacity*(l-e)),null!=p&&(v=this.getFillColor(p)),n[u]={storageRadius:c,color:v,storage:d,capacity:h,inflow:b,outflow:f,currentLevel:g,frl:m,fp:p,timeStamp:y}}return n},t.prototype.getCircleMarkerRadius=function(t,n){return n*t*.25},t.prototype.addRivergaugeMarkerLayer=function(t,n,e,l){var a,i=this,r={stroke:!0,fill:!0,color:"#ffffff",weight:1,opacity:1,fillColor:"#1F77B4",fillOpacity:.5,radius:10,pane:"popUp"},o=n.getZoom(),s=I.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1}),u=new S.LayerGroup;a=[t.geometry.coordinates[1],t.geometry.coordinates[0]];var c=this.minRadius;t.properties.capacity&&(c=this.getRadius(t.properties.capacity)),r.radius=this.getCircleMarkerRadius(o,c);var h=S.circleMarker(a,r);u.addLayer(h);var d={stroke:!0,fill:!0,color:"white",weight:.5,fillColor:"#7f49a5",fillOpacity:1,radius:10,pane:"popUp"},p=this.minRadius;d.radius=this.getCircleMarkerRadius(o,p);var g=S.circleMarker(a,d);return u.addLayer(g),g.on({mouseover:function(t){},mouseout:function(t){},click:function(n){s.setContent(i.setHtmlContentForWaterQuality(t.properties,t)),s.setLatLng(n.latlng),g.bindPopup(s).openPopup();var l=t.properties;e.locName=l.name,e.pUUID=l.uuid,e.pType=v.m.LOCATIONS.STATION,e.cType=v.m.LOCATIONS.STATION,e.actionType="sensorClick",i.utilServ.setSelectedParams(e)}}),n.on({zoomend:function(t){var e=n.getZoom();h.setRadius(i.getCircleMarkerRadius(e,c)),g.setRadius(i.getCircleMarkerRadius(e,p))}}),u},t.prototype.setHtmlContentForWaterQuality=function(t,n){void 0===t&&(t={});var e="<html><body>";return e+='<div class="popup-table-section">',(e+='<div class="card-body p-0">\n         <table class="table table-sm m-0 table-bordered">')+"<tbody>\n         <tr>\n           <th> Station Name</th>\n           <td>"+(t&&t.name?t.name:"-")+"</td>\n         </tr>\n         <tr>\n         <th>District</th>\n         <td>"+(t&&t.district?t.district:"-")+"</td>\n        </tr>\n         <tr>\n         <th>Block</th>\n         <td>"+(t&&t.block?t.block:"-")+"</td>\n        </tr>\n        <tr>\n          <th>Village</th>\n          <td>"+(t&&t.village?t.village:"-")+"</td>\n       </tr>\n       <tr>\n        <th>Longitude</th>\n        <td>"+(t&&t.longitude?t.longitude:"-")+"</td>\n      </tr>\n      <tr>\n      <th>Latitude</th>\n      <td>"+(t&&t.latitude?t.latitude:"-")+"</td>\n    </tr>\n       </table>\n     </div>\n     </div>"},t.prototype.getFillColor=function(t){return(t=parseFloat(t))>=90?"#003399":t>=80?"#3399ff":t>=60?"#33cccc":t>=40?"#ff9f80":t>=20?"#ff6600":t<20?"#cc3300":t?void 0:"gray"},t.prototype.onHeatMapChange=function(t){return Qe(this,void 0,void 0,function(){var n,e,l;return Ze(this,function(a){if(t.spinner=!0,n=t.params,e=this.getHeatMapLayerNames(),"STATE_STATIONS"!=n.src){for(l in e)t.layers.overlaylayers.hasLayer(e[l]);t.spinner=!1}return[2]})})},t.prototype.getHeatMapLayerNames=function(){return{ASMP:"Tamilnadu Rivergauge Point",VSMP:"Telangana Reservoir Point"}},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(T.a),c.gb(D.a),c.gb(We),c.gb(O.a),c.gb(P.a))},token:t,providedIn:"root"}),t}(),nl=function(){function t(t,n,e){this.route=t,this.utils=n,this.SwqMapService=e,this.sidebarComponent=$e,this.layerList={},this.deviationMapParams=null,this.otherOptions={legend:{},serviceType:tl,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange",stationLayer:"getStationLayer"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=Ke,this.SwqHeatMapSpinner=this.SwqMapService.SwqHeatMapSpinner}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t}(),el=e("K9Ia"),ll=e("VNr4"),al=e("ny24"),il=e("xkSH"),rl={tableInfo:{type:"dataTable",title:""},css:{tableClass:"table table-bordered table-striped align-items-center",theadClass:" text-center"},sortOptions:{sortIndex:-1,sortType:"asc"},searchFilter:!0,breadcrumbCons:{show:!1,queryparams:[]},downloadOptions:{showDownload:!0,downloadType:"xls",downloadFileName:"Stations Details",downloadAll:!0,metaData:!1},paginatorOptions:{visible:!1,limit:15,maxSize:5,dropdownOptions:[{value:15,display:"15"},{value:25,display:"25"},{value:50,display:"50"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!1,noOfCol:2},totalRow:{position:"bottom",name:"TOTAL",jsonKey:"-1"},indexCons:{show:!0,class:"tc-bg-01"},columns:[{name:"Name",jsonKey:{path:"locName##entityId"},dataType:"TEXT",defaultValue:"-",class:"tc-bg-03"},{name:"Level (m)",jsonKey:{path:"level"},dataType:"NUMBER",defaultValue:"-",class:"tc-bg-03"},{name:"Flow (Cusecs)",jsonKey:{path:"flow"},dataType:"NUMBER",defaultValue:"-",class:"tc-bg-03"},{name:"Trend",jsonKey:{path:"trend"},dataType:"TEXT",defaultValue:"-",class:"tc-bg-03"}]},ol=function(t,n,e,l){return new(e||(e=Promise))(function(a,i){function r(t){try{s(l.next(t))}catch(n){i(n)}}function o(t){try{s(l.throw(t))}catch(n){i(n)}}function s(t){t.done?a(t.value):new e(function(n){n(t.value)}).then(r,o)}s((l=l.apply(t,n||[])).next())})},sl=function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},ul=function(){function t(t,n,e){this.expandmodal=t,this.utilsService=n,this.inflowForecastDataSrv=e,this.selectedForecast="hms_hybrid_flow1",this.vicParams="hms_combined",this.pointData="",this.forecastSpinner=!0,this.ensembleSpinner=!1,this.forecastChartData={},this.ensembleChartData={},this.ensembleSeasonalChartData={},this.inflowForecastChartType="",this.currforecastGraphType="flow",this.forecastGraphType="flow",this.highcharts=Vn,this.loadCurentChartData=!1,this.ensembleExtendedStartDate=null,this.ensembleExtendedEndDate=null,this.ensembleExtendedMaxDate=null,this.toggleButton=!1,this.toggleEnsemble=!1,this.updateButtonEnsemble=!1,this.currentChartDropDownList={hms_hybrid_flow1:"HEC-HMS"},this.selectedCurrentModel="hms_hybrid_flow1",this.selectedEnsembleModel="hms_hybrid_flow1",this.ensembleChartDropDownList={hms_hybrid_flow1:"HEC-HMS"},this.popUpTableData={},this.calender=[],this.currestartDate=this.getCurrentDate(),this.ensembleFromDate=this.getCurrentDate(),this.ensembleToDate=this.getCurrentDate(),this.isStorage=!1,this.miny2=200,this.maxy2=700,this.parameterTypeMap={extended_forecast:{key:"extended"},seasonal_forecast:{key:"seasonal"},combined_forecast1:{key:"combined_1"},vassarforecast_calibrated1:{key:"vassarforecast_calibrated"},gauge_vic_1:{key:"gauge_vic_1"},gauge:{key:"gauge"},combined_forecast2:{key:"combined_2"},vassarforecast_calibrated_2:{key:"vassarforecast_calibrated_2"},gauge_vic_2:{key:"gauge_vic_2"},hecras_lateral_flow_1:{key:"hecras_lateral_flow_1"},hecras_lateral_flow_2:{key:"hecras_lateral_flow_2"},hecras_combined_flow_1:{key:"hecras_combined_flow_1"},hecras_combined_flow_2:{key:"hecras_combined_flow_2"},hecras_observed:{key:"hecras_observed"},vicr_sc:{key:"vicr_sc"},vicr_sc_1:{key:"vicr_sc_1"},vicr_sc_2:{key:"vicr_sc_2"},hms_hybrid_flow1:{key:"hms_combined"},hms_observed_flow1:{key:"hms_observed"}}}return t.prototype.ngOnInit=function(){this.calender.value="yyyyMMdd",this.maxDate=new Date;var t=this.utilsService.getRfDate(),n=new Date;this.today={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()};var e=new Date(n.setDate(n.getDate()+45));this.next10Days={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},this.ensembleExtendedStartDate=this.today;var l=new Date(t.setDate(t.getDate()+50));this.ensembleExtendedMaxDate={year:Number(l.getFullYear()),month:Number(l.getMonth()+1),day:Number(l.getDate())},this.ensembleExtendedEndDate=this.ensembleExtendedMaxDate,this.ensembleFromDate=this.getDatesFormatted(this.ensembleExtendedStartDate),this.ensembleToDate=this.getDatesFormatted(this.ensembleExtendedEndDate),null!=this.selectedTab?"current"==this.inflowForecastChartType?this.getCurrForecastGraph(this.currestartDate,this.vicParams,this.urlParams):(this.ensembleFromDate=this.getDatesFormatted(this.ensembleExtendedStartDate),this.ensembleToDate=this.getDatesFormatted(this.ensembleExtendedEndDate),this.forecastChartData={},this.ensembleSeasonalChartData={},this.ensembleFromDateTimestep=this.inflowForecastDataSrv.getEnsembleFromDate(),this.ensembleToDateTimestep=this.inflowForecastDataSrv.getEnsembleToDate(),this.getEnsembleGraphNew(this.ensembleFromDateTimestep,this.ensembleToDateTimestep,"hms_combined",this.urlParams)):this.getCurrEnsembleRainfallGraph()},t.prototype.currtoggleFlowRainfall=function(t){this.toggleButton=t.target.checked,"flow"==this.currforecastGraphType?(this.getCurrEnsembleRainfallGraph(),this.currforecastGraphType="rainfall"):(this.getCurrForecastGraph(this.currestartDate,this.vicParams,this.urlParams),this.currforecastGraphType="flow")},t.prototype.closeModal=function(){this.expandmodal.dismiss()},t.prototype.toggleChart=function(t){this.inflowForecastChartType=t,this.forecastGraphType="flow",this.currforecastGraphType="flow",this.toggleButton=!1,this.toggleEnsemble=!1,"current"===t?(this.tabType=1,this.currestartDate=this.defaultFromDate,this.vicParams="combined_forecast1",this.ensembleChartData={},this.ensembleSeasonalChartData={},this.refTs=this.getCurrentDate(),this.getCurrForecastGraph(this.refTs,"hms_combined",this.urlParams)):"ensemble"===t&&(this.tabType=4,this.selectedForecast="hms_combined",this.ensembleFromDate=this.getDatesFormatted(this.ensembleExtendedStartDate),this.ensembleToDate=this.getDatesFormatted(this.ensembleExtendedEndDate),this.forecastChartData={},this.ensembleSeasonalChartData={},this.ensembleFromDateTimestep=this.inflowForecastDataSrv.getEnsembleFromDate(),this.ensembleToDateTimestep=this.inflowForecastDataSrv.getEnsembleToDate(),this.getEnsembleGraphNew(this.ensembleFromDateTimestep,this.ensembleToDateTimestep,"hms_combined",this.urlParams))},t.prototype.getEnsembleGraphNew=function(t,n,e,l){var a=this;this.ensembleSpinner=!0;var i={},r=[],o=l.lUUID+"/return_flow/"+t+"/"+n,s=this.inflowForecastDataSrv.getEnsembleChartData(l.lUUID+"/"+e+"/"+t+"/"+n,l.basin),u=this.inflowForecastDataSrv.getEnsembleChartData(o,l.basin);Object(ll.a)(s,u).subscribe(function(t){return ol(a,void 0,void 0,function(){var n,l,a,o,s,u,c,h,d,p,g,m,b,f,y,v,C,S,_,L,O,A,T,D,P,x,w,k,I,E,N,F,B,U,R,V;return sl(this,function(j){switch(j.label){case 0:return[4,t[0]];case 1:return n=j.sent(),[4,t[1]];case 2:for(o in l=j.sent(),a=[],n)for(c in u=n[o],a.includes(s=o)||a.push(s),u)i[c]||(i[c]=[]);for(p in h=[-4,-5,-6],i){for(R={},d=0;d<a.length;d++)m=null,m="extended"==e||"seasonal"==e?this.inflowForecastDataSrv.getRfMillisForDatatabextendDate(a[d]):a[d],b=this.inflowForecastDataSrv.fixedToDecimal((n[a[d]]?n[a[d]]:{})[p],2),R[m]={egt:m,in:b};i[p]=R}if("extended"==e||"seasonal"==e)for(d=0;d<h.length;d++){for(p=h[d],R={},g=0;g<a.length;g++)m=null,m="vassarforecast"==e||"vassarforecast_calibrated"==e?a[g]:this.inflowForecastChartType.getRfMillisForDatatabextendDate(a[g]),b=this.inflowForecastDataSrv.fixedToDecimal((l[a[g]]?l[a[g]]:{})[p],2),R[m]={egt:m,in:b};i[p]=R}if(this.inflowForecastDataSrv.isEmptyObject(n))this.ensembleSpinner=!1,this.ensembleChartData={};else{for(f=this.formatEnsembleData(i),y=f[0],v=f[1],C=f[3],S=f[4],_=f[5],L=f[6],O=f[7],A=f[8],T=f[9],D=f[11],P=f[12],Object(M.isNullOrUndefined)(L)&&(L=this.lasttwoyearReturnValue),Object(M.isNullOrUndefined)(O)&&(O=this.lastfiveYearReturnValue),Object(M.isNullOrUndefined)(A)&&(A=this.lasttwentyYearReturnValue),x={lineColor:"#084488",data:y,name:"median",type:"spline",lineWidth:1,opacity:.5,marker:{enabled:!1},enableMouseTracking:!1,showInLegend:!1},(w={}).type="spline",w.name="75% Dependabilty",w.lineWidth=1,w.data=_,w.lineColor="#85adad",w.color="#85adad",w.marker={enabled:!0,symbol:"circle",radius:0},(k={}).type="spline",k.name="25% Dependabilty",k.lineWidth=1,k.data=S,k.lineColor="#ffb380",k.color="#ffb380",k.marker={enabled:!0,symbol:"circle",radius:0},(I={}).type="spline",I.name="Mean",I.lineWidth=1,I.zIndex=555,I.data=C,I.lineColor="#000000",I.color="#000000",I.marker={enabled:!0,symbol:"circle",radius:0},(E={}).type="spline",E.name="IMD Forecast",E.lineWidth=1,E.data=D,E.lineColor="#FAFF33",E.visible=!0,E.color="#FAFF33",E.marker={enabled:!0,symbol:"circle",radius:0},(N={}).type="spline",N.name="Forecast",N.lineWidth=1,N.data=P,N.lineColor="#000000",N.visible=!0,N.color="#FAFF33",N.marker={enabled:!0,symbol:"circle",radius:0},"extended"==e||"seasonal"==e?(r.push(x),r.push(w),r.push(k),r.push(I)):"gauge"==e||"gauge_vic_1"==e||"gauge_vic_2"==e?r.push(N):(r.push(I),r.push(w),r.push(k),r.push(E)),F=["rgb(8,68,136,0.3)","rgb(9,73,143,0.4)","rgb(11,79,151,0.5)","rgb(13,85,159,0.55)","rgb(15,90,167,0.6)","rgb(17,96,174,0.65)","rgb(19,102,182,0.7)","rgb(20,107,190,0.75)","rgb(22,113,198,0.8)","rgb(24,119,205,0.85)","rgb(26,124,213,0.9)","rgb(28,130,221,0.95)","rgb(30,136,229,1)"],B=0,U=0;U<=50;U+=4)r.push(R={fillColor:F[B],name:U,data:v[U]}),B+=1;for(B=0,U=100;U>=50;U-=4)r.push(R={fillColor:F[B],name:U,data:v[U]}),B+=1;V=this.inflowForecastDataSrv.getEnsmblePlotbands(L,O,A),this.ensembleChartData=this.inflowForecastDataSrv.getEnsembleGraph(r,V,T,this),this.ensembleChart=this.highcharts.chart(this.ensembleChartModal.nativeElement,this.ensembleChartData),this.systemChart=this.ensembleChart,this.ensembleSpinner=!1}return[2]}})})})},t.prototype.ensembleChange=function(t){},t.prototype.currentChange=function(t){},t.prototype.getCurrEnsembleRainfallGraph=function(){var t=this,n=this.utilsService.getRainfallStartTsofDay(),e=this.utilsService.getDateandTimeString(n-2592e5,"YYYYMMDD"),l=this.utilsService.getDateandTimeString(n,"YYYYMMDD"),a=this.inflowForecastDataSrv.getReservoirRainfallChartPostData(this.urlParams.pointType,this.urlParams.catchmentUUID,e,l,this.urlParams.basin),i=[];"extended_forecast"==this.selectedForecast&&(this.ensembleFromDate=this.ensembleExtendedStartDate,this.ensembleToDate=this.ensembleExtendedEndDate);var r=this.utilsService.getTimeStamp(this.ensembleExtendedStartDate),o=this.utilsService.getTimeStamp(this.ensembleExtendedEndDate),s={},u=this.inflowForecastDataSrv.getCurrentForecastGraph({pointUUID:this.urlParams.catchmentUUID,startTs:r,endTs:o,type:"rf_catchment",basinUUID:this.urlParams.basin}),c=this.inflowForecastDataSrv.getNewRainfallGisChart(a);Object(ll.a)(u,c).subscribe(function(n){return ol(t,void 0,void 0,function(){var t,e,l,a,r,o,u,c,h,d,p,g,m,b,f,y,v,C,S,_,L,O,A,T,D,P,x,w,k,I,E,N,F,B,U,R,V,j,G=this;return sl(this,function(Y){switch(Y.label){case 0:return[4,n[0]];case 1:return t=Y.sent(),[4,n[1]];case 2:for(a in e=Y.sent(),l=[],t)for(u in o=t[a],l.includes(r=a)||l.push(r),o)s[u]||(s[u]=[]);for(c in s){for(V={},h=0;h<l.length;h++)d=l[h],p=this.utilsService.fixedToDecimal((t[l[h]]?t[l[h]]:{})[c],2),V[d]={egt:d,in:p};s[c]=V}if(g=[],this.utilsService.isEmptyObject(e)||Object.keys(e).forEach(function(t){var n=e[t].ACTUAL;if(null!=n.rl){var l=G.utilsService.getShortedDataForChart(n.rl),a=Number(l);g.push([Number(t),Number(Number(a).toFixed(2))])}else g.push([Number(t),null])}),this.utilsService.isEmptyObject(t))this.forecastChartData={},this.forecastSpinner=!1;else{for(m=this.formatEnsembleRainfallData(s),b=m[1],f=m[3],y=m[4],v=m[5],C=m[6],S=m[7],_=m[8],L=m[9],O=m[10],A=m[11],T=m[12],D=m[13],Object(M.isNullOrUndefined)(C)&&(C=this.lasttwoyearReturnValue),Object(M.isNullOrUndefined)(S)&&(S=this.lastfiveYearReturnValue),Object(M.isNullOrUndefined)(_)&&(_=this.lasttwentyYearReturnValue),(P={}).type="spline",P.name="75% Dependabilty",P.lineWidth=1,P.data=v,P.lineColor="#85adad",P.dashStyle="shortdash",P.color="#85adad",P.marker={enabled:!0,symbol:"circle",radius:0},(x={}).type="spline",x.name="25% Dependabilty",x.lineWidth=1,x.data=y,x.lineColor="#ffb380",x.dashStyle="shortdash",x.color="#ffb380",x.marker={enabled:!0,symbol:"circle",radius:0},(w={}).type="spline",w.name="Mean",w.lineWidth=1,w.zIndex=555,w.data=f,w.lineColor="#000000",w.color="#000000",w.marker={enabled:!0,symbol:"circle",radius:0},(k={}).type="spline",k.name="Deterministic",k.lineWidth=1,k.data=O,k.lineColor="#ff4dff",k.dashStyle="shortdash",k.visible=!0,k.color="#ff4dff",k.marker={enabled:!0,symbol:"circle",radius:0},(I={}).type="spline",I.name="IMD Forecast",I.lineWidth=1,I.data=A,I.lineColor="#FAFF33",I.dashStyle="shortdash",I.visible=!0,I.color="#FAFF33",I.marker={enabled:!0,symbol:"circle",radius:0},(E={}).type="spline",E.name="Forecast",E.lineWidth=1.5,E.data=T,E.lineColor="#FAFF33",E.visible=!0,E.color="#FAFF33",E.marker={enabled:!0,symbol:"circle",radius:0},N={},E.type="spline",E.name="Actual Forecast",E.lineWidth=1.5,E.data=D,E.lineColor="\t#ff8000",E.visible=!0,E.color="\t#ff8000",E.marker={enabled:!0,symbol:"circle",radius:0},(F={}).type="column",F.name="Actual Rainfall",F.pointWidth=15,F.data=g,F.color="#10469e",i.push(w),i.push(P),i.push(x),i.push(k),i.push(I),i.push(E),i.push(N),B=["rgb(8,68,136,0.3)","rgb(9,73,143,0.4)","rgb(11,79,151,0.5)","rgb(13,85,159,0.55)","rgb(15,90,167,0.6)","rgb(17,96,174,0.65)","rgb(19,102,182,0.7)","rgb(20,107,190,0.75)","rgb(22,113,198,0.8)","rgb(24,119,205,0.85)","rgb(26,124,213,0.9)","rgb(28,130,221,0.95)","rgb(30,136,229,1)"],U=0,R=0;R<=50;R+=4)i.push(V={color:"colors[colorIndex]",name:R,data:b[R],type:"column",pointWidth:15,showInLegend:!1,borderWidth:0}),U+=1;for(U=0,R=100;R>=50;R-=4)i.push(V={color:B[U],name:R,data:b[R],type:"column",pointWidth:15,showInLegend:!1,borderWidth:0}),U+=1;j=this.inflowForecastDataSrv.getEnsmblePlotbands(C,S,_),this.forecastChartData=this.inflowForecastDataSrv.getEnsembleRainfallGraph(i,j,L,this),setTimeout(function(){G.forecastChart=G.highcharts.chart(G.forecastChartModal.nativeElement,G.forecastChartData),G.systemChart=G.forecastChart},1e3),this.forecastSpinner=!1}return[2]}})})})},t.prototype.getSimpleDateString=function(t){if(isNaN(t))return"--";var n=Number(t),e=new Date(n),l=e.getDate(),a=l<10?"0"+l:l,i=e.getHours(),r=i<10?"0"+i:i,o=e.getMinutes(),s=o<10?"0"+o:o;return a+"-"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+"-"+e.getFullYear()+" "+r+":"+s},t.prototype.formatEnsembleRainfallData=function(t){var n,e,l,a,i=this.getEnsembleInflowValuesFromAPIResponse(t[-1]),r=this.getEnsembleInflowValuesFromAPIResponse(t[-3]),o=this.getEnsembleInflowValuesFromAPIResponse(t[-2]),s=this.getEnsembleInflowValuesFromAPIResponse(t[-8]),u=this.getEnsembleInflowValuesFromAPIResponse(t[-7]),c=this.getEnsembleInflowValuesFromAPIResponse(t[-9]),h=this.getEnsembleInflowValuesFromAPIResponse(t[-10]),d={},p=[];for(var g in t[0])p.includes(g)||p.push(g);p.sort(),this.lastfiveYearReturnValue=null,this.lasttwentyYearReturnValue=null,this.lasttwoyearReturnValue=null;for(var m=0,b=p;m<b.length;m++)if(g=b[m],t[-4]&&t[-4][g]){e=t[-4][g].in;break}for(var f=0,y=p;f<y.length;f++)if(g=y[f],t[-5]&&t[-5][g]){n=t[-5][g].in;break}for(var v=0,C=p;v<C.length;v++)if(g=C[v],t[-6]&&t[-6][g]){l=t[-6][g].in;break}for(var S in Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),null==(a=this.lastfiveYearReturnValue)&&(a=this.lasttwoyearReturnValue),i.sort(function(t,n){return t[0]-n[0]}),r.sort(function(t,n){return t[0]-n[0]}),o.sort(function(t,n){return t[0]-n[0]}),s.sort(function(t,n){return t[0]-n[0]}),u.sort(function(t,n){return t[0]-n[0]}),c.sort(function(t,n){return t[0]-n[0]}),h.sort(function(t,n){return t[0]-n[0]}),t)if(-4!=Number(S)&&-5!=Number(S)&&-6!=Number(S)&&-7!=Number(S)){var _=t[S];for(var g in _)d[g]||(d[g]=[]),d[g].push(Number(Number(_[g].in).toFixed(2)))}for(var g in d)d[g].sort(function(t,n){return t-n});for(var L={},O=[],A=0,T=p;A<T.length;A++){g=T[A],new Date(Number(g));var D=g,P=this.calculatePercentile(d[g],50);if(-1!=P&&!(d[g].length<=P)){var x=Number(Number(d[g][P]).toFixed(2));O.push([Number(D),x]),this.calculatePercentile(d[g],100);for(var w=0;w<=100;w++){var k=this.calculatePercentile(d[g],w);L[w]||(L[w]=[]),d[g]&&w%4==0&&(Object(M.isNullOrUndefined)(a)?a=d[g][k]:parseFloat(a)<parseFloat(d[g][k])&&(a=d[g][k])),L[w].push([Number(D),Number(Number(d[g][k]).toFixed(2))])}}}for(w=0;w<=100;w++)L[w]&&L[w].sort(function(t,n){return t[0]-n[0]});return O.sort(function(t,n){return t[0]-n[0]}),Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),[O,L,p,i,o,r,e,n,l,a,s,u,c,h]},t.prototype.calculatePercentile=function(t,n){if(Object(M.isNullOrUndefined)(t))return-1;if(0==n)return 0;var e=Number((n*t.length/100).toFixed(0));return e>0?e-1:0},t.prototype.updateCurrentGraph=function(){if(this.refTs=this.inflowForecastDataSrv.getTimestep(this.currestartDate),"flow"==this.currforecastGraphType){var t=this.inflowForecastDataSrv.getTimestep(this.currestartDate);this.getCurrForecastGraph(t,this.parameterTypeMap[this.selectedCurrentModel].key,this.urlParams)}else this.inflowForecastDataSrv.getTimeStamp(this.currestartDate),this.getCurrEnsembleRainfallGraph()},t.prototype.getCurrForecastGraph=function(t,n,e){var l=this;this.forecastChartData={},this.startTitle=this.utilsService.getDateInFormatForecast("DD-MM-YYYY",this.currestartDate),this.endTitle=this.utilsService.getDateInFormatForecast("DD-MM-YYYY",this.next10Days);var a=new Date,i=(new Date(a.setDate(a.getDate()+7)),this.inflowForecastDataSrv.getNext12Day()),r={pointUUID:e.lUUID,startTs:(new Date).getTime(),endTs:i,type:"hms_combined",basinUUID:this.urlParams.basin},o={pEUUID:"RIVER_GAUGE"==this.urlParams.pointType?_.c.STATETOUUIDMAPPING.COUNTRY:_.c.STATETOUUIDMAPPING.TAMILNADU,pUUID:e.lUUID,pType:e.pointType,cType:e.pointType,src:"RIVER_GAUGE"==e.pointType?"STATE_AND_CENTRAL_STATIONS":"TNRESERVOIRS",format:"DAILY",classification:["INSTANT_DATA"],aggr:"LATEST"};"RIVER_GAUGE"==e.pointType?(o.sDate=t,o.eDate=(new Date).getTime()):(o.sDate=this.utilsService.getDateInFormatForecast("yyyyMMdd",t),o.eDate=this.utilsService.getDateInFormatForecast("yyyyMMdd",(new Date).getTime()));var s={RIVER_GAUGE:"getRiverGaugeTimeSeries",RESERVOIR:"getTimeSeriesData"}[e.pointType],u={},c=this.inflowForecastDataSrv.getCurrentForecastGraph(r),h=this.inflowForecastDataSrv[s](o);Object(ll.a)(c,h).subscribe(function(t){return ol(l,void 0,void 0,function(){var n,e,l,a,i,r,o,s,c,h,d,p,g,m,b=this;return sl(this,function(f){switch(f.label){case 0:return[4,t[1]];case 1:return n=f.sent(),[4,t[0]];case 2:for(i in e=f.sent()?t[0]:{},Object.keys(n).forEach(function(t){var e=n[t];u[t]={};var l=(new Date).getTime();parseInt(t)<l&&("RESERVOIR"==b.urlParams.pointType&&(u[t]={in:e.if,dsof:e.of,stg:e.st}),"RIVER_GAUGE"==b.urlParams.pointType&&(u[t]={in:e.f,dsof:e.f,stg:null}))}),l={},a=[],e)for(s in o=e[i],a.includes(r=i)||a.push(r),o)l[s]||(l[s]=[]);for(c in l){for(h={},d=0;d<a.length;d++)p=a[d],g=this.inflowForecastDataSrv.fixedToDecimal((e[a[d]]?e[a[d]]:{})[c],2),h[p]={egt:p,in:g},u[p]||(u[p]={in:null,dsof:null,stg:null});l[c]=h}return this.popUpTableData=u,m=this.formatData(u,l),this.forecastChartData=this.inflowForecastDataSrv.getCurrForecastGraph(m,this),setTimeout(function(){b.forecastChart=b.highcharts.chart(b.forecastChartModal.nativeElement,b.forecastChartData),b.systemChart=b.forecastChart,b.loadCurentChartData=!0},1e3),this.forecastSpinner=!1,[2]}})})})},t.prototype.downloadJPG=function(){1==this.selectedTab?(this.systemChart.options.title.text="Current Forecast For "+this.pointData.name+"( "+this.pointData.basin+" )",this.systemChart.options.title.style.fontSize="12px",this.systemChart.exportChart({tabType:"image/jpeg"})):2==this.selectedTab?(this.systemChart.options.title.text="Ensemble Forecast For "+this.pointData.name+"( "+this.pointData.basin+" ) ",this.systemChart.options.title.style.fontSize="12px",this.systemChart.exportChart({tabType:"image/jpeg"})):null==this.selectedTab&&(this.systemChart.options.title.text="Rainfall Forecast For "+this.pointData.name+"( "+this.pointData.basin+" )",this.systemChart.options.title.style.fontSize="12px",this.systemChart.exportChart({tabType:"image/jpeg"}))},t.prototype.getCurrentDate=function(){var t=new Date,n=(("0"+t.getMonth()).slice(-2),("0"+t.getDate()).slice(-2)),e=t.getMonth();return this.defaultFromDate=[n,["January","February","March","April","May","June","July","August","September","October","November","December"][e],t.getFullYear()].join("-"),this.inflowForecastDataSrv.getTimestep(t)},t.prototype.formatData=function(t,n){var e=this,l=[],a=[],i=[],r=[],o=[],s=[];Object.keys(t).forEach(function(n){var s=t[n];l.push(null!=s.in?[Number(n),parseFloat(e.inflowForecastDataSrv.getShortedDataForChart(s.in))]:[Number(n),null]),parseInt(n)<=(new Date).getTime()?i.push(null!=s.dsof?[Number(n),parseFloat(e.inflowForecastDataSrv.getShortedDataForChart(s.dsof))]:[Number(n),null]):r.push(null!=s.dsof?[Number(n),parseFloat(e.inflowForecastDataSrv.getShortedDataForChart(s.dsof))]:[Number(n),null]),null!=s.stg?(o.push([Number(n),parseFloat(e.inflowForecastDataSrv.getShortedDataForChart(s.stg))]),a.push(null!=e.arData.cap?[Number(n),parseFloat(e.inflowForecastDataSrv.getShortedDataForChart(e.arData.cap))]:[Number(n),null])):o.push([Number(n),null])});for(var u=this.getEnsembleInflowValuesFromAPIResponse(n[-8]),c=this.getEnsembleInflowValuesFromAPIResponse(n[-7]),h=this.getEnsembleInflowValuesFromAPIResponse(n[-9]),d=this.getEnsembleInflowValuesFromAPIResponse(n[-1]),p=this.getEnsembleInflowValuesFromAPIResponse(n[-3]),g=this.getEnsembleInflowValuesFromAPIResponse(n[-2]),m=[],b=[],f=(new Date).getTime()+864e6,y=0;y<c.length;y++)(C=c[y])&&C[0]<f&&b.push(C);for(var v=0;v<u.length;v++){var C;(C=u[v])&&C[0]<f&&m.push(C)}var S,M={};l.length>0&&((M={}).data=l.sort(),M.name="Observed Inflow",M.color="#6CF",M.yAxis=0,M.lineWidth=2,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),i.length>0&&((M={}).data=i.sort(),M.name="Observed Outflow",M.color="#39F",M.yAxis=0,M.lineWidth=2,M.zIndex=1,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),d.length>0&&((M={}).data=d.sort(),M.name="Mean",M.color="#000000",M.yAxis=0,M.lineWidth=1.5,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),g.length>0&&((M={}).data=g,M.name="25% Dependabilty",M.color="#ffb380",M.yAxis=0,M.lineWidth=1.5,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),p.length>0&&((M={}).data=p.sort(),M.name="75% Dependabilty",M.color="#85adad",M.yAxis=0,M.lineWidth=1.5,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),o.length>0&&((M={}).data=o.sort(),M.name="Storage",M.color="#F00",M.yAxis=1,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),a.length>0&&((M={}).data=a.sort(),M.name="Capacity",M.color="#6CF",M.yAxis=1,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),r.length>0&&((M={}).data=r.sort(),M.name="Forecast Outflow",M.color="#50D41C",M.showInLegend=!1,M.yAxis=0,M.type="spline",M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},M.visible=!1,M.legend={itemHoverStyle:{visible:!0},width:600,itemWidth:300,itemStyle:{width:280}},s.push(M)),b.length>0&&((M={}).data=b.sort(),M.name="IMD Forecast",M.color="#00ffff",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),h.length>0&&((M={}).data=h.sort(),M.name="Forecast",M.color="#ffbf00",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),u.length>0&&((M={}).data=u.sort(),M.name="ECMWF Deterministic",M.color="#32CD32",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),this.isStorage=!1,this.maxy1=-1e5;for(var _=0;_<s.length;_++)if("Storage"==s[_].name)this.isStorage=!0,s[_].type="column","Storage"==s[_].name&&(s[_].color="#4295ed",s[_].zIndex=5,s[_].borderWidth=0),(S=this.inflowForecastDataSrv.getMaxMin2(s[_].data))[0]&&S[1]&&(this.maxy2=5*S[0],this.miny2=S[1]);else{if(S=this.inflowForecastDataSrv.getMaxMin2(s[_].data),!this.timeStepIndexValue){var L=this.getCurrentTimeStepIndex(s[_].data);this.timeStepIndexValue=L}!this.maxy1&&S[0]||(!this.maxy1||S[0]>this.maxy1)&&(this.maxy1=S[0]),"Inflow"==s[_].name&&(s[_].color="#FFA500"),"Outflow"==s[_].name&&(s[_].color="#50D41C")}return s},t.prototype.getEnsembleInflowValuesFromAPIResponse=function(t){var n=[];if(Object(M.isNullOrUndefined)(t))return n;for(var e in t)new Date(Number(e)),n.push([Number(e),Number(Number(t[e].in).toFixed(2))]);return n},t.prototype.getCurrentTimeStepIndex=function(t){for(var n=(new Date).getTime(),e=0;e<t.length&&!(t[e][0]&&n<t[e][0]);e++);return n},t.prototype.formatEnsembleData=function(t){var n,e,l,a,i=this.getEnsembleInflowValuesFromAPIResponse(t[-1]),r=this.getEnsembleInflowValuesFromAPIResponse(t[-3]),o=this.getEnsembleInflowValuesFromAPIResponse(t[-2]),s=this.getEnsembleInflowValuesFromAPIResponse(t[-8]),u=this.getEnsembleInflowValuesFromAPIResponse(t[-7]),c=this.getEnsembleInflowValuesFromAPIResponse(t[-9]),h={},d=[];for(var p in t[0])d.includes(p)||d.push(p);d.sort(),this.lastfiveYearReturnValue=null,this.lasttwentyYearReturnValue=null,this.lasttwoyearReturnValue=null;for(var g=0,m=d;g<m.length;g++)if(p=m[g],t[-4]&&t[-4][p]){e=t[-4][p].in;break}for(var b=0,f=d;b<f.length;b++)if(p=f[b],t[-5]&&t[-5][p]){n=t[-5][p].in;break}for(var y=0,v=d;y<v.length;y++)if(p=v[y],t[-6]&&t[-6][p]){l=t[-6][p].in;break}for(var C in Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),null==(a=this.lastfiveYearReturnValue)&&(a=this.lasttwoyearReturnValue),i.sort(function(t,n){return t[0]-n[0]}),r.sort(function(t,n){return t[0]-n[0]}),o.sort(function(t,n){return t[0]-n[0]}),s.sort(function(t,n){return t[0]-n[0]}),u.sort(function(t,n){return t[0]-n[0]}),c.sort(function(t,n){return t[0]-n[0]}),t)if(-4!=Number(C)&&-5!=Number(C)&&-6!=Number(C)&&-7!=Number(C)){var S=t[C];for(var p in S)h[p]||(h[p]=[]),S[p].in&&(Object(M.isNullOrUndefined)(a)?a=S[p].in:parseFloat(a)<parseFloat(S[p].in)&&(a=S[p].in)),h[p].push(Number(Number(S[p].in).toFixed(2)))}for(var p in h)h[p].sort(function(t,n){return t-n});for(var _={},L=[],O=0,A=d;O<A.length;O++){p=A[O],new Date(Number(p));var T=p,D=this.calculatePercentile(h[p],50);if(-1!=D&&!(h[p].length<=D)){var P=Number(Number(h[p][D]).toFixed(2));L.push([Number(T),P]);var x=this.calculatePercentile(h[p],100);if(!Object(M.isNullOrUndefined)(h[p][x])){var w=h[p][x];(Object(M.isNullOrUndefined)(a)||w>a||"-"==a)&&(a=w)}for(var k=0;k<=100;k++){var I=this.calculatePercentile(h[p],k);_[k]||(_[k]=[]),_[k].push([Number(T),Number(Number(h[p][I]).toFixed(2)),P])}}}for(k=0;k<=100;k++)_[k]&&_[k].sort(function(t,n){return t[0]-n[0]});return L.sort(function(t,n){return t[0]-n[0]}),Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),[L,_,d,i,o,r,e,n,l,a,s,u,c]},t.prototype.updateEnsembleGraph=function(){var t=this.inflowForecastDataSrv.getTimestep(this.ensembleFromDate),n=this.inflowForecastDataSrv.getTimestep(this.ensembleToDate);"flow"==this.forecastGraphType?this.getEnsembleGraphNew(t,n,"hms_combined",this.urlParams):this.getEnsembleRainfallGraph(this.urlParams)},t.prototype.getDatesFormatted=function(t){return t.day.toString()+"-"+["January","February","March","April","May","June","July","August","September","October","November","December"][t.month-1]+"-"+t.year.toString()},t.prototype.ensembleForecast=function(t){if(this.toggleEnsemble=t.target.checked,"flow"==this.forecastGraphType)this.getEnsembleRainfallGraph(this.urlParams),this.updateButtonEnsemble=!0,this.forecastGraphType="rainfall";else{var n=this.inflowForecastDataSrv.getTimestep(this.ensembleFromDate),e=this.inflowForecastDataSrv.getTimestep(this.ensembleToDate);this.getEnsembleGraphNew(n,e,"hms_combined",this.urlParams),this.updateButtonEnsemble=!1,this.forecastGraphType="flow"}},t.prototype.getEnsembleRainfallGraph=function(t){var n=this,e=[],l=this.utilsService.getRfDate(),a=l.getTime(),i=new Date(l.setDate(l.getDate()+50)).getTime(),r=this.inflowForecastDataSrv.getEnsembleChartData(t.catchmentUUID+"/rf_catchment/"+a+"/"+i,t.basin),o={};Object(ll.a)(r).subscribe(function(t){return ol(n,void 0,void 0,function(){var n,l,a,i,r,s,u,c,h,d,p,g,m,b,f,y,v,C,S,_,L,O,A,T,D,P,x,w,k,I,E,N;return sl(this,function(F){switch(F.label){case 0:return[4,t[0]];case 1:return n=F.sent(),[4,t[1]];case 2:for(a in F.sent(),l=[],n)for(s in r=n[a],l.includes(i=a)||l.push(i),r)o[s]||(o[s]=[]);for(u in o){for(E={},c=0;c<l.length;c++)h=l[c],d=this.utilsService.fixedToDecimal((n[l[c]]?n[l[c]]:{})[u],2),E[h]={egt:h,in:d};o[u]=E}if(this.utilsService.isEmptyObject(n))this.ensembleChartData={},this.ensembleSpinner=!1;else{for(p=this.formatEnsembleRainfallData(o),g=p[1],m=p[3],b=p[4],f=p[5],y=p[6],v=p[7],C=p[8],S=p[9],_=p[10],L=p[11],O=p[12],Object(M.isNullOrUndefined)(y)&&(y=this.lasttwoyearReturnValue),Object(M.isNullOrUndefined)(v)&&(v=this.lastfiveYearReturnValue),Object(M.isNullOrUndefined)(C)&&(C=this.lasttwentyYearReturnValue),(A={}).type="spline",A.name="75% Dependabilty",A.lineWidth=1,A.data=f,A.lineColor="#85adad",A.dashStyle="shortdash",A.color="#85adad",A.marker={enabled:!0,symbol:"circle",radius:0},(T={}).type="spline",T.name="25% Dependabilty",T.lineWidth=1,T.data=b,T.lineColor="#ffb380",T.dashStyle="shortdash",T.color="#ffb380",T.marker={enabled:!0,symbol:"circle",radius:0},(D={}).type="spline",D.name="Mean",D.lineWidth=1,D.zIndex=555,D.data=m,D.lineColor="#000000",D.color="#000000",D.marker={enabled:!0,symbol:"circle",radius:0},(P={}).type="spline",P.name="Deterministic",P.lineWidth=1,P.data=_,P.lineColor="#ff4dff",P.dashStyle="shortdash",P.visible=!0,P.color="#ff4dff",P.marker={enabled:!0,symbol:"circle",radius:0},(x={}).type="spline",x.name="IMD Forecast",x.lineWidth=1,x.data=L,x.lineColor="#FAFF33",x.dashStyle="shortdash",x.visible=!0,x.color="#FAFF33",x.marker={enabled:!0,symbol:"circle",radius:0},x.type="spline",x.name="Actual Forecast",x.lineWidth=1,x.data=O,x.lineColor="\t#ff8000",x.dashStyle="shortdash",x.visible=!0,x.color="\t#ff8000",x.marker={enabled:!0,symbol:"circle",radius:0},e.push(D),e.push(A),e.push(T),e.push(P),e.push(x),w=["rgb(8,68,136,0.3)","rgb(9,73,143,0.4)","rgb(11,79,151,0.5)","rgb(13,85,159,0.55)","rgb(15,90,167,0.6)","rgb(17,96,174,0.65)","rgb(19,102,182,0.7)","rgb(20,107,190,0.75)","rgb(22,113,198,0.8)","rgb(24,119,205,0.85)","rgb(26,124,213,0.9)","rgb(28,130,221,0.95)","rgb(30,136,229,1)"],k=0,I=0;I<=50;I+=4)e.push(E={color:"colors[colorIndex]",name:I,data:g[I],type:"column",pointWidth:15,showInLegend:!1,borderWidth:0}),k+=1;for(k=0,I=100;I>=50;I-=4)e.push(E={color:w[k],name:I,data:g[I],type:"column",pointWidth:15,showInLegend:!1,borderWidth:0}),k+=1;N=this.inflowForecastDataSrv.getEnsmblePlotbands(y,v,C),this.ensembleChartData=this.inflowForecastDataSrv.getEnsembleRainfallGraph(e,N,S,this),this.ensembleChart=this.highcharts.chart(this.ensembleChartModal.nativeElement,this.ensembleChartData),this.ensembleSpinner=!1}return this.systemChart=this.ensembleChart,[2]}})})})},t}(),cl=function(){function t(t,n,e,l,a,i,r,o,s){this.InflowForecastService=t,this.utilsService=n,this.utils=e,this.modalSrv=l,this.tableEventsHandler=a,this.sharedDataSrv=i,this.inflowForecastDataSrv=r,this.obj=o,this.utilService=s,this.format={required:!0},this.calender=[],this.validation=new Array(5).fill(!0),this.dropdowntext="hms_hybrid_flow1",this.forecastSpinner=!1,this.ensembleSpinner=!1,this.showDetailTable=!1,this.ensembleChartData={},this.tabType=1,this.destroy=new el.a,this.isStorage=!1,this.miny2=200,this.maxy2=700,this.highcharts=Vn,this.formattedCalibratedResponse={},this.currestartDate=this.getCurrentDate(),this.formatedResponse={},this.actualData={},this.calibratedactualData={},this.flag=!0,this.forecastGraphType="flow",this.selectedForecast="hms_hybrid_flow1",this.parameterTypeMap={extended_forecast:{key:"extended"},seasonal_forecast:{key:"seasonal"},combined_forecast1:{key:"combined_1"},vassarforecast_calibrated1:{key:"vassarforecast_calibrated"},gauge_vic_1:{key:"gauge_vic_1"},gauge:{key:"gauge"},combined_forecast2:{key:"combined_2"},vassarforecast_calibrated_2:{key:"vassarforecast_calibrated_2"},gauge_vic_2:{key:"gauge_vic_2"},hms_hybrid_flow1:{key:"hms_combined"}},this.apiMappingType="default",this.widgetArray=[],this.reservoirRiverGuageSwitch="RIVER_GAUGE",this.showExpandModal=!0,this.breadCrumbButton=!1,this.clickProperties={},this.formattedTableData=[],this.inflowForecastTableConsts={options:{},visible:!1,data:[]},this.widgetData={},this.currentlyClickedCardIndex=1,this.datatabSpinner=!0,this.widgetSpinner=!0,this.rainfallForecastChart={},this.selectedRainfallFilter="imd_forecast",this.rainfallData={},this.rainfallForecastdd={imd_forecast:"IMD Forecast",deterministic:"Deterministic"},this.currentFlowAndLevel={level:"-",flow:"-"},this.pointParams={},this.metaDataOfParticularArea={},this.mapping=V.g,this.inflowForecastChartType="current"}return t.prototype.ngOnInit=function(){this.calender.value="yyyyMMdd",this.subscribeEvents(),this.tableId="inflowForecastTable",this.tableOptions=this.sharedDataSrv.deepClone(rl);var t=this.utilService.getRfDate();this.today={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()},this.ensembleExtendedStartDate=this.today;var n=new Date(t.setDate(t.getDate()+45));this.ensembleExtendedMaxDate={year:Number(n.getFullYear()),month:Number(n.getMonth()+1),day:Number(n.getDate())},this.ensembleExtendedEndDate=this.ensembleExtendedMaxDate,this.ensembleFromDate=this.getDatesFormatted(this.ensembleExtendedStartDate),this.ensembleToDate=this.getDatesFormatted(this.ensembleExtendedEndDate),this.tabType=1},t.prototype.getDatesFormatted=function(t){return t.day.toString()+"-"+["January","February","March","April","May","June","July","August","September","October","November","December"][t.month-1]+"-"+t.year.toString()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.urlParams=n,t.loadwidgetData("RIVER_GAUGE"),t.loadDataTabTableDirective("RIVER_GAUGE","default"),t.utils.isEmptyObj(t.urlParams)||t.urlParams.component!=V.d.COMPONENT.INFLOWFORECAST||(t.triggerFunctions(),t.urlParams.advanceFilters&&(t.clickProperties.basin=t.mapping[t.urlParams.basin],t.clickProperties.name=t.urlParams.location,t.loadBasinData(t.urlParams.basin),t.updateCurrentGraph(),t.selectedRainfallFilter="imd_forecast",t.getFloodForecastRainfallGraph(t.urlParams),t.loadCurrentLevelData(t.urlParams.pointType)),""!=t.urlParams.lUUID&&(t.clickProperties.basin=t.mapping[t.urlParams.basin],t.clickProperties.name=t.urlParams.location))}),this.utilsService.getPointLayerParams().pipe(Object(al.a)(this.destroy)).subscribe(function(n){t.pointParams=n,t.tabType=1,t.pointParams.clickPoint&&(t.clickProperties.basin=t.pointParams.featureObj.properties.basin?t.inflowForecastDataSrv.titleCase(t.pointParams.featureObj.properties.basin):"-",t.clickProperties.name=t.pointParams.featureObj.properties.point_name?t.inflowForecastDataSrv.titleCase(t.pointParams.featureObj.properties.point_name):"-",t.selectedRainfallFilter="imd_forecast",t.getFloodForecastRainfallGraph(t.pointParams),t.loadBasinData(t.pointParams.basin),t.updateCurrentGraph(),t.loadCurrentLevelData(t.pointParams.pointType))})},t.prototype.loadDataTabTableDirective=function(t,n,e){var l=this;this.inflowForecastTableConsts.data=[],this.inflowForecastTableConsts.options=this.tableOptions;var a=this.InflowForecastService.setPostData(t);a.pUUID=_.c.STATETOUUIDMAPPING.COUNTRY,"cardClick"==n?(a.widgetsTypeList=e,a.basinUUID=this.urlParams.basin):a.bUUID=this.urlParams.basin,this.InflowForecastService[{default:"getInflowForecastTableDirectiveData",cardClick:"getSpecificStationsData"}[n]](a).pipe(Object(al.a)(this.destroy)).subscribe(function(t){t&&t.length>0?(l.formattedTableData=l.formatTableData(t),l.formattedTableData.sort(function(t,n){return t.locName>n.locName?1:t.locName<n.locName?-1:0})):l.formattedTableData=[],l.inflowForecastTableConsts.data=l.formattedTableData,l.tableEventsHandler.recordData.next(l.inflowForecastTableConsts.data)})},t.prototype.formatTableData=function(t){var n=[];for(var e in t){var l=t[e],a={},i=l.hasOwnProperty("name")&&!Object(M.isNullOrUndefined)(l.name)?this.inflowForecastDataSrv.titleCase(l.name.split("_")[0]):"-";"TOTAL"!=l.name?(a.locName=i,a.entityId=l.hasOwnProperty("uuid")&&!Object(M.isNullOrUndefined)(l.uuid)?l.uuid:"-",a.level=l.hasOwnProperty("level")&&!Object(M.isNullOrUndefined)(l.level)?Number(l.level).toFixed(2):"-",a.flow=l.hasOwnProperty("flow")&&!Object(M.isNullOrUndefined)(l.flow)?Number(l.flow).toFixed(2):"-",a.trend=l.hasOwnProperty("trend")&&!Object(M.isNullOrUndefined)(l.trend)?l.trend:"-",n.push(a)):(a.locName=i,a.entityId=-1,a.level=l.hasOwnProperty("level")&&!Object(M.isNullOrUndefined)(l.level)?Number(l.level).toFixed(2):"-",a.flow=l.hasOwnProperty("flow")&&!Object(M.isNullOrUndefined)(l.flow)?Number(l.flow).toFixed(2):"-",a.trend=l.hasOwnProperty("trend")&&!Object(M.isNullOrUndefined)(l.trend)?l.trend:"-",n.push(a))}return n},t.prototype.loadwidgetData=function(t){var n=this;this.widgetSpinner=!0;var e=new Date;e.setDate(e.getDate()-1);var l=e.setHours(8,30,0),a=this.InflowForecastService.setPostData(t);a.basinUUID=this.urlParams.basin,a.sDate=l,a.eDate=(new Date).getTime(),this.InflowForecastService.getSummaryData(a).subscribe(function(t){n.widgetData=t,n.widgetSpinner=!1})},t.prototype.toggleRiverGaugeReservoirs=function(t){var n={reservoirs:"RESERVOIR",riverGauges:"RIVER_GAUGE"};this.reservoirRiverGuageSwitch=n[t],this.loadDataTabTableDirective(n[t],this.apiMappingType,this.widgetArray),this.loadwidgetData(n[t])},t.prototype.getSummaryTableData=function(t,n,e){Object(M.isNullOrUndefined)(e)||this.setcurrentlyClickedCardIndex(e),this.widgetArray=[n],"No.of Locations"==t?(this.showExpandModal=!0,this.apiMappingType="default"):(this.showExpandModal=!1,this.apiMappingType="cardClick"),"Severe Flood Warnings"==t&&this.widgetArray.push("serious_flood_warnings"),this.loadDataTabTableDirective(this.reservoirRiverGuageSwitch,this.apiMappingType,this.widgetArray)},t.prototype.loadCurrentLevelData=function(t){var n=this,e=this.inflowForecastDataSrv.setPostData(t);e.pUUID=this.urlParams.lUUID,e.pType=t,e.bUUID=this.urlParams.basin,this.inflowForecastDataSrv.getInflowForecastTableDirectiveData(e).subscribe(function(t){if(t[0]&&t[0].flow){var e=t[0].flow?Number(t[0].flow).toFixed(2):"-";n.currentFlowAndLevel.flow=e}else n.currentFlowAndLevel.flow="-";n.currentFlowAndLevel.level=t[0]&&t[0].level&&t[0].level?parseFloat(t[0].level).toFixed(2):"-"})},t.prototype.triggerFunctions=function(){this.maximumDate=new Date,this.dropdowntext=this.urlParams.modelName},t.prototype.initializeOnStateLoad=function(t){if(this.tabType=1,"hms_hybrid_flow1"==this.dropdowntext&&(this.refTs=this.getCurrentDate(),this.dropdowntext="hms_hybrid_flow1",this.getCurrForecastGraph(this.refTs,"hms_combined",t)),"sample_model"==this.dropdowntext){this.dropdowntext="sample_model",this.sampeModelDateRange();var n=this.InflowForecastService.getTimestep(this.currestartDate);this.getCurrForecastSampleGraph(n,"hms_combined",t)}this.ensembleChartData={},this.ensembleFromDateTimestep=this.InflowForecastService.getEnsembleFromDate(),this.ensembleToDateTimestep=this.InflowForecastService.getEnsembleToDate(),this.currestartDate=this.defaultFromDate,this.ensembleFrommaximumDate=new Date(this.defaultFromDate),this.ensembleTomaximumDate=new Date(this.InflowForecastService.getEnsembleDefaultToDate()),this.tabType=1,this.arData=this.metaData["Idukki Reservoir"],this.arData.point_name_display=this.arData.nname.replace(/FFS|_FFS/g,"")},t.prototype.getCurrentDate=function(){var t=new Date,n=(("0"+t.getMonth()).slice(-2),("0"+t.getDate()).slice(-2)),e=t.getMonth();return this.defaultFromDate=[n,["January","February","March","April","May","June","July","August","September","October","November","December"][e],t.getFullYear()].join("-"),this.InflowForecastService.getTimestep(t)},t.prototype.datatabDropdownList=function(t){this.dropdowntext=t.target.value,"sample_model"==this.dropdowntext?this.sampeModelDateRange():(this.maximumDate=new Date,this.getCurrentDate(),this.currestartDate=this.defaultFromDate)},t.prototype.sampeModelDateRange=function(){var t=new Date,n=["07","05",t.getFullYear()-1].join("-"),e=new Date(n),l=["07","31",t.getFullYear()-1].join("-");this.Sampleenddate=new Date(l),this.maximumDate=this.Sampleenddate,this.minimumDate=e,this.defaultFromDate=["31","July",this.Sampleenddate.getFullYear()].join("-"),this.currestartDate=this.defaultFromDate},t.prototype.getDateValidation=function(){this.minimumDate=new Date;var t=new Date;t.setDate(this.minimumDate.getDate()+45),this.ensembleFrommaximumDate=t},t.prototype.getCurrForecastSampleGraph=function(t,n,e){var l=this;this.forecastSpinner=!0,this.forecastChartData={};var a={},i={};i.sDate=this.InflowForecastService.getStartDate(t).toString(),i.eDate=this.InflowForecastService.getSampleEndDate(),i.pUUID=e,i.pType=this.urlParams.pointType,i.cType=this.urlParams.pointType,"IMD Merged"==this.urlParams.src&&(this.urlParams.src="KWRIS_SOURCE"),i.src=this.urlParams.src,i.format="DAILY",i.classification=["INSTANT_DATA"],i.aggr="LATEST",i.pEUUID="9553a7af-56f8-495f-ba0c-c2d2324e6759",Object(ll.a)(this.InflowForecastService.post(V.d.API_MAPPING.SAMPLE_CURRENT_FORECAST,i)).pipe(Object(al.a)(this.destroy)).subscribe(function(t){var n=t[0],e={},i={},r={},o={};Object.keys(n).forEach(function(t){var a=l.InflowForecastService.timestepToDateFormatFlowSampleModel(Number(t));e[a]={},i[a]=n[t]}),Object.keys(i).forEach(function(t){if(Number(t)>=20210723){var n=l.InflowForecastService.dateTotimestep(t);r[n]={},r[n]=i[t]}else Number(t)<20210723&&(n=l.InflowForecastService.dateTotimestep(t),o[n]={},o[n]=i[t])}),Object.keys(o).forEach(function(t){var n=o[t];a[t]={};var e=(new Date).getTime();parseInt(t)<e&&("RESERVOIR"==l.urlParams.pointType&&(a[t]={in:n.if,dsof:n.of,stg:n.st}),"RIVER_GAUGE"==l.urlParams.pointType&&(a[t]={in:n.f,dsof:n.f,stg:null}))});var s={},u=[];for(var c in r){var h=c,d=r[c];for(var p in u.includes(h)||u.push(h),d)s[p]||(s[p]=[])}for(var g in s){for(var m={},b=0;b<u.length;b++){var f;f=u[b];var y=l.InflowForecastService.fixedToDecimal((r[u[b]]?r[u[b]]:{})[g],2);m[f]={egt:f,in:y},a[f]||(a[f]={in:null,dsof:null,stg:null})}s[g]=m}l.popUpTableData=a;var v=l.SampleformatData(a,s);l.forecastChartData=l.InflowForecastService.getCurrForecastGraph(v,l),l.forecastChart=l.highcharts.chart(l.forecastChartModal.nativeElement,l.forecastChartData),l.forecastSpinner=!1,l.systemChart=l.forecastChart})},t.prototype.SampleformatData=function(t,n){var e=this,l=[],a=[],i=[],r=[],o=[],s=[];(new Date).setHours(0,0,0,0),(new Date).setHours(23,59,59,999),Object.keys(t).forEach(function(n){var s=t[n];l.push(null!=s.in?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.in))]:[Number(n),null]),parseInt(n)<=(new Date).getTime()?i.push(null!=s.dsof?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.dsof))]:[Number(n),null]):r.push(null!=s.dsof?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.dsof))]:[Number(n),null]),null!=s.stg?(o.push([Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.stg))]),a.push(null!=e.arData.cap?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(e.arData.cap))]:[Number(n),null])):o.push([Number(n),null])});for(var u=this.getEnsembleInflowValuesFromAPIResponse(n[-8]),c=this.getEnsembleInflowValuesFromAPIResponse(n.if),h=this.getEnsembleInflowValuesFromAPIResponse(n[-9]),d=[],p=[],g=(new Date).getTime()+864e6,m=0;m<c.length;m++)(f=c[m])&&f[0]<g&&p.push(f);for(var b=0;b<u.length;b++){var f;(f=u[b])&&f[0]<g&&d.push(f)}var y,v={};l.length>0&&((v={}).data=l.sort(),v.name="Observed Inflow",v.color="#6CF",v.yAxis=0,v.lineWidth=2,v.zIndex=2,v.marker={enabled:!0,symbol:"circle",radius:2},s.push(v)),i.length>0&&((v={}).data=i.sort(),v.name="Observed Outflow",v.color="#39F",v.yAxis=0,v.lineWidth=2,v.zIndex=1,v.marker={enabled:!0,symbol:"circle",radius:2},s.push(v)),o.length>0&&((v={}).data=o.sort(),v.name="Storage",v.color="#F00",v.yAxis=1,v.lineWidth=2,v.marker={enabled:!0,symbol:"circle",radius:2},s.push(v)),a.length>0&&((v={}).data=a.sort(),v.name="Capacity",v.color="#6CF",v.yAxis=1,v.lineWidth=2,v.marker={enabled:!0,symbol:"circle",radius:2},s.push(v)),r.length>0&&((v={}).data=r.sort(),v.name="Forecast Outflow",v.color="#50D41C",v.showInLegend=!1,v.yAxis=0,v.type="spline",v.lineWidth=2,v.marker={enabled:!0,symbol:"circle",radius:2},v.visible=!1,v.legend={itemHoverStyle:{visible:!0},width:600,itemWidth:300,itemStyle:{width:280}},s.push(v)),p.length>0&&((v={}).data=p.sort(),v.name="IMD Forecast",v.color="#00ffff",v.yAxis=0,v.lineWidth=2,v.marker={enabled:!0,symbol:"circle",radius:0},s.push(v)),h.length>0&&((v={}).data=h.sort(),v.name="Forecast",v.color="#ffbf00",v.yAxis=0,v.lineWidth=2,v.marker={enabled:!0,symbol:"circle",radius:0},s.push(v)),this.isStorage=!1,this.maxy1=-1e5;for(var C=0;C<s.length;C++)if("Storage"==s[C].name||"Capacity"==s[C].name)this.isStorage=!0,s[C].type="column","Storage"==s[C].name?(s[C].color="#4295ed",s[C].zIndex=5,s[C].borderWidth=0):(s[C].color="#ff7b00",s[C].borderWidth=0),(y=this.InflowForecastService.getMaxMin2(s[C].data))[0]&&y[1]&&(this.maxy2=5*y[0],this.miny2=y[1]);else{if(y=this.InflowForecastService.getMaxMin2(s[C].data),!this.timeStepIndexValue){var S=this.getCurrentTimeStepIndex(s[C].data);this.timeStepIndexValue=S}!this.maxy1&&y[0]||(!this.maxy1||y[0]>this.maxy1)&&(this.maxy1=y[0]),"Inflow"==s[C].name&&(s[C].color="#FFA500"),"Outflow"==s[C].name&&(s[C].color="#50D41C")}return this.timeStepIndexValue=16269984e5,s},t.prototype.getBasinData=function(t,n){var e=this;this.InflowForecastService.post(V.d.API_MAPPING.RESERVOIR_REVERGAUGE_METADATA_LIST,{nUUID:this.urlParams.basin,eType:"ALL"}).pipe(Object(al.a)(this.destroy)).subscribe(function(n){if(e.metaData=n,e.metaDataOfParticularArea=e.metaData[t],!Object(M.isNullOrUndefined)(e.metaDataOfParticularArea))if(e.timeToTavel=e.metaDataOfParticularArea.dwn[0].cst?e.metaDataOfParticularArea.dwn[0].cst:"-",2==e.metaDataOfParticularArea.dwn.length){var l=e.metaDataOfParticularArea.dwn[1].dist;e.distanceMetadata=e.metaDataOfParticularArea.dwn[0].dist<l?l:e.metaDataOfParticularArea.dwn[0].dist}else e.distanceMetadata=e.metaDataOfParticularArea.dwn[0].dist})},t.prototype.toggleForecast=function(t){if(this.inflowForecastChartType=t,"current"==t){if(this.tabType=1,this.forecastChartData={},this.currestartDate=this.defaultFromDate,"hms_hybrid_flow1"==this.dropdowntext&&(this.refTs=this.getCurrentDate(),this.dropdowntext="hms_hybrid_flow1",this.getCurrForecastGraph(this.refTs,"hms_combined",this.urlParams.lUUID)),"sample_model"==this.dropdowntext){this.dropdowntext="sample_model",this.sampeModelDateRange();var n=this.InflowForecastService.getTimestep(this.currestartDate);this.getCurrForecastSampleGraph(n,"hms_combined",this.urlParams.lUUID)}}else"ensemble"==t&&(this.tabType=2,this.ensembleChartData={},this.ensembleFromDate=this.getDatesFormatted(this.ensembleExtendedStartDate),this.ensembleToDate=this.getDatesFormatted(this.ensembleExtendedEndDate),this.ensembleFromDateTimestep=this.InflowForecastService.getEnsembleFromDate(),this.ensembleToDateTimestep=this.InflowForecastService.getEnsembleToDate(),this.getEnsembleGraphNew(this.ensembleFromDateTimestep,this.ensembleToDateTimestep,"hms_combined",this.urlParams.lUUID),this.getDateValidation())},t.prototype.updateCurrentGraph=function(){if("sample_model"==this.dropdowntext){this.dropdowntext="sample_model";var t=this.InflowForecastService.getTimestep(this.currestartDate);this.getCurrForecastSampleGraph(t,"hms_combined",this.urlParams.lUUID)}else t=this.InflowForecastService.getTimestep(this.currestartDate),this.getCurrForecastGraph(t,this.parameterTypeMap[this.dropdowntext].key,this.urlParams.lUUID)},t.prototype.getCurrForecastGraph=function(t,n,e){var l=this;this.forecastSpinner=!0,this.forecastChartData={};var a=this.InflowForecastService.getCurrentDay(),i=this.InflowForecastService.getNext12Day(),r=this.urlParams.basinUUID+"/"+e+"/"+n+"/"+a+"/"+i,o={},s={},u=new Date;u.setDate(u.getDate()-1),"RIVER_GAUGE"==this.urlParams.pointType?(s.sDate=t,s.eDate=(new Date).getTime()):(s.sDate=this.utils.getDateInFormatForecast("yyyyMMdd",t),s.eDate=this.utils.getDateInFormatForecast("yyyyMMdd",(new Date).getTime())),s.pUUID=this.urlParams.lUUID,s.pType=this.urlParams.pointType,s.cType=this.urlParams.pointType,s.src="RIVER_GAUGE"==this.urlParams.pointType?"STATE_AND_CENTRAL_STATIONS":"TNRESERVOIRS",s.format="RIVER_GAUGE"==this.urlParams.pointType?"HOURLY":"DAILY",s.classification=["INSTANT_DATA"],s.aggr="LATEST",s.pEUUID="RIVER_GAUGE"==this.urlParams.pointType?_.c.STATETOUUIDMAPPING.COUNTRY:_.c.STATETOUUIDMAPPING.TAMILNADU;var c=[],h=this.inflowForecastDataSrv[{RIVER_GAUGE:"getRiverGaugeTimeSeries",RESERVOIR:"getTimeSeriesData"}[this.urlParams.pointType]](s);c.push(this.InflowForecastService.get(V.d.API_MAPPING.GLOFOS_DATA,r)),c.push(h),Object(ll.a)(c).pipe(Object(al.a)(this.destroy)).subscribe(function(t){var n=t[1],e=t[0]?t[0]:{};Object.keys(n).forEach(function(t){var e=n[t];o[t]={};var a=(new Date).getTime();parseInt(t)<a&&("RESERVOIR"==l.urlParams.pointType&&(o[t]={in:e.if,dsof:e.of,stg:e.st}),"RIVER_GAUGE"==l.urlParams.pointType&&(o[t]={in:e.f,dsof:e.f,stg:null}))});var a={},i=[];for(var r in e){var s=r,u=e[r];for(var c in i.includes(s)||i.push(s),u)a[c]||(a[c]=[])}for(var h in a){for(var d={},p=0;p<i.length;p++){var g;g=i[p];var m=l.InflowForecastService.fixedToDecimal((e[i[p]]?e[i[p]]:{})[h],2);d[g]={egt:g,in:m},o[g]||(o[g]={in:null,dsof:null,stg:null})}a[h]=d}l.popUpTableData=o;var b=l.formatData(o,a);l.forecastChartData=l.InflowForecastService.getCurrForecastGraph(b,l),l.forecastChart=l.highcharts.chart(l.forecastChartModal.nativeElement,l.forecastChartData),l.forecastSpinner=!1,l.systemChart=l.forecastChart})},t.prototype.formatData=function(t,n){var e=this,l=[],a=[],i=[],r=[],o=[],s=[];(new Date).setHours(0,0,0,0),(new Date).setHours(23,59,59,999),Object.keys(t).forEach(function(n){var s=t[n];l.push(null!=s.in?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.in))]:[Number(n),null]),parseInt(n)<=(new Date).getTime()?i.push(null!=s.dsof?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.dsof))]:[Number(n),null]):r.push(null!=s.dsof?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.dsof))]:[Number(n),null]),null!=s.stg?(o.push([Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(s.stg))]),a.push(null!=e.arData.cap?[Number(n),parseFloat(e.InflowForecastService.getShortedDataForChart(e.arData.cap))]:[Number(n),null])):o.push([Number(n),null])});for(var u=this.getEnsembleInflowValuesFromAPIResponse(n[-8]),c=this.getEnsembleInflowValuesFromAPIResponse(n[-7]),h=this.getEnsembleInflowValuesFromAPIResponse(n[-9]),d=(this.getEnsembleInflowValuesFromAPIResponse(n[-11]),this.getEnsembleInflowValuesFromAPIResponse(n[-1])),p=this.getEnsembleInflowValuesFromAPIResponse(n[-3]),g=this.getEnsembleInflowValuesFromAPIResponse(n[-2]),m=[],b=[],f=(new Date).getTime()+864e6,y=0;y<c.length;y++)(C=c[y])&&C[0]<f&&b.push(C);for(var v=0;v<u.length;v++){var C;(C=u[v])&&C[0]<f&&m.push(C)}var S,M={};l.length>0&&((M={}).data=l.sort(),M.name="Observed Inflow",M.color="#6CF",M.yAxis=0,M.lineWidth=2,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),i.length>0&&((M={}).data=i.sort(),M.name="Observed Outflow",M.color="#39F",M.yAxis=0,M.lineWidth=2,M.zIndex=1,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),d.length>0&&((M={}).data=d.sort(),M.name="Mean",M.color="#000000",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),g.length>0&&((M={}).data=g,M.name="25% Dependabilty",M.color="#ffb380",M.yAxis=0,M.lineWidth=2,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),p.length>0&&((M={}).data=p.sort(),M.name="75% Dependabilty",M.color="#85adad",M.yAxis=0,M.lineWidth=2,M.zIndex=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),o.length>0&&((M={}).data=o.sort(),M.name="Storage",M.color="#F00",M.yAxis=1,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),a.length>0&&((M={}).data=a.sort(),M.name="Capacity",M.color="#6CF",M.yAxis=1,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},s.push(M)),r.length>0&&((M={}).data=r.sort(),M.name="Forecast Outflow",M.color="#50D41C",M.showInLegend=!1,M.yAxis=0,M.type="spline",M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:2},M.visible=!1,M.legend={itemHoverStyle:{visible:!0},width:600,itemWidth:300,itemStyle:{width:280}},s.push(M)),b.length>0&&((M={}).data=b.sort(),M.name="IMD Forecast",M.color="#00ffff",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),h.length>0&&((M={}).data=h.sort(),M.name="Forecast",M.color="#ffbf00",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),u.length>0&&((M={}).data=u.sort(),M.name="ECMWF Deterministic",M.color="#32CD32",M.yAxis=0,M.lineWidth=2,M.marker={enabled:!0,symbol:"circle",radius:0},s.push(M)),this.isStorage=!1,this.maxy1=-1e5;for(var _=0;_<s.length;_++)if("Storage"==s[_].name)this.isStorage=!0,s[_].type="column","Storage"==s[_].name?(s[_].color="#4295ed",s[_].zIndex=5,s[_].borderWidth=0):(s[_].color="#ff7b00",s[_].borderWidth=0),(S=this.InflowForecastService.getMaxMin2(s[_].data))[0]&&S[1]&&(this.maxy2=5*S[0],this.miny2=S[1]);else{if(S=this.InflowForecastService.getMaxMin2(s[_].data),!this.timeStepIndexValue){var L=this.getCurrentTimeStepIndex(s[_].data);this.timeStepIndexValue=L}!this.maxy1&&S[0]||(!this.maxy1||S[0]>this.maxy1)&&(this.maxy1=S[0]),"Inflow"==s[_].name&&(s[_].color="#FFA500"),"Outflow"==s[_].name&&(s[_].color="#50D41C")}return s},t.prototype.getCurrentTimeStepIndex=function(t){for(var n=(new Date).getTime(),e=0;e<t.length&&!(t[e][0]&&n<t[e][0]);e++);return n},t.prototype.getEnsembleInflowValuesFromAPIResponse=function(t){var n=[];if(Object(M.isNullOrUndefined)(t))return n;for(var e in t)new Date(Number(e)),n.push([Number(e),Number(Number(t[e].in).toFixed(2))]);return n},t.prototype.updateEnsembleGraph=function(){var t=this.InflowForecastService.getTimestep(this.ensembleFromDate),n=this.InflowForecastService.getTimestep(this.ensembleToDate);this.getEnsembleGraphNew(t,n,"hms_combined",this.urlParams.lUUID)},t.prototype.getEnsembleGraphNew=function(t,n,e,l){var a=this;this.ensembleChartData={},this.ensembleSpinner=!0;var i={},r=[],o=[],s=this.urlParams.basinUUID+"/"+l+"/return_flow/"+t+"/"+n;o.push(this.InflowForecastService.get(V.d.API_MAPPING.GLOFOS_DATA,this.urlParams.basinUUID+"/"+l+"/hms_combined/"+t+"/"+n)),o.push(this.InflowForecastService.get(V.d.API_MAPPING.GLOFOS_DATA,s)),Object(ll.a)(o).pipe(Object(al.a)(this.destroy)).subscribe(function(t){return n=a,void 0,o=function(){var n,l,a,o,s,u,c,h,d,p,g,m,b,f,y,v,C,S,_,L,O,A,T,D,P,x,w,k,I,E,N,F,B,U,R,V;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(j){switch(j.label){case 0:return[4,t[0]];case 1:return n=j.sent(),[4,t[1]];case 2:for(o in l=j.sent(),a=[],n)for(c in u=n[o],a.includes(s=o)||a.push(s),u)i[c]||(i[c]=[]);for(p in h=[-4,-5,-6],i){for(R={},d=0;d<a.length;d++)m=null,m="extended"==e||"seasonal"==e?this.InflowForecastService.getRfMillisForDatatabextendDate(a[d]):a[d],b=this.InflowForecastService.fixedToDecimal((n[a[d]]?n[a[d]]:{})[p],2),R[m]={egt:m,in:b};i[p]=R}if("extended"==e||"seasonal"==e)for(d=0;d<h.length;d++){for(p=h[d],R={},g=0;g<a.length;g++)m=null,m="vassarforecast"==e||"vassarforecast_calibrated"==e?a[g]:this.InflowForecastService.getRfMillisForDatatabextendDate(a[g]),b=this.InflowForecastService.fixedToDecimal((l[a[g]]?l[a[g]]:{})[p],2),R[m]={egt:m,in:b};i[p]=R}if(this.InflowForecastService.isEmptyObject(n))this.ensembleChartData={};else{for(f=this.formatEnsembleData(i),y=f[0],v=f[1],C=f[3],S=f[4],_=f[5],L=f[6],O=f[7],A=f[8],T=f[9],D=f[11],P=f[12],Object(M.isNullOrUndefined)(L)&&(L=this.lasttwoyearReturnValue),Object(M.isNullOrUndefined)(O)&&(O=this.lastfiveYearReturnValue),Object(M.isNullOrUndefined)(A)&&(A=this.lasttwentyYearReturnValue),x={lineColor:"#084488",data:y,name:"median",type:"spline",lineWidth:1,opacity:.5,marker:{enabled:!1},enableMouseTracking:!1,showInLegend:!1},(w={}).type="spline",w.name="75% Dependabilty",w.lineWidth=1,w.data=_,w.lineColor="#85adad",w.color="#85adad",w.marker={enabled:!0,symbol:"circle",radius:0},(k={}).type="spline",k.name="25% Dependabilty",k.lineWidth=1,k.data=S,k.lineColor="#ffb380",k.color="#ffb380",k.marker={enabled:!0,symbol:"circle",radius:0},(I={}).type="spline",I.name="Mean",I.lineWidth=1,I.zIndex=555,I.data=C,I.lineColor="#000000",I.color="#000000",I.marker={enabled:!0,symbol:"circle",radius:0},(E={}).type="spline",E.name="IMD Forecast",E.lineWidth=1,E.data=D,E.lineColor="#FAFF33",E.visible=!0,E.color="#FAFF33",E.marker={enabled:!0,symbol:"circle",radius:0},(N={}).type="spline",N.name="Forecast",N.lineWidth=1,N.data=P,N.lineColor="#000000",N.visible=!0,N.color="#FAFF33",N.marker={enabled:!0,symbol:"circle",radius:0},"extended"==e||"seasonal"==e?(r.push(x),r.push(w),r.push(k),r.push(I)):"gauge"==e||"gauge_vic_1"==e||"gauge_vic_2"==e?r.push(N):(r.push(I),r.push(w),r.push(k),r.push(E)),F=["rgb(8,68,136,0.3)","rgb(9,73,143,0.4)","rgb(11,79,151,0.5)","rgb(13,85,159,0.55)","rgb(15,90,167,0.6)","rgb(17,96,174,0.65)","rgb(19,102,182,0.7)","rgb(20,107,190,0.75)","rgb(22,113,198,0.8)","rgb(24,119,205,0.85)","rgb(26,124,213,0.9)","rgb(28,130,221,0.95)","rgb(30,136,229,1)"],B=0,U=0;U<=50;U+=4)r.push(R={fillColor:F[B],name:U,data:v[U]}),B+=1;for(B=0,U=100;U>=50;U-=4)r.push(R={fillColor:F[B],name:U,data:v[U]}),B+=1;V=this.InflowForecastService.getEnsmblePlotbands(L,O,A),this.ensembleChartData=this.InflowForecastService.getEnsembleGraph(r,V,T,this),this.ensembleChart=this.highcharts.chart(this.ensembleChartModal.nativeElement,this.ensembleChartData),this.ensembleSpinner=!1}return this.systemChart=this.ensembleChart,[2]}})},new((l=void 0)||(l=Promise))(function(t,e){function a(t){try{r(o.next(t))}catch(n){e(n)}}function i(t){try{r(o.throw(t))}catch(n){e(n)}}function r(n){n.done?t(n.value):new l(function(t){t(n.value)}).then(a,i)}r((o=o.apply(n,[])).next())});var n,l,o})},t.prototype.getSimpleDateString=function(t){if(isNaN(t))return"--";var n=Number(t),e=new Date(n),l=e.getDate(),a=l<10?"0"+l:l,i=e.getHours(),r=i<10?"0"+i:i,o=e.getMinutes(),s=o<10?"0"+o:o;return a+"-"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+"-"+e.getFullYear()+" "+r+":"+s},t.prototype.formatEnsembleData=function(t){var n,e,l,a,i=this.getEnsembleInflowValuesFromAPIResponse(t[-1]),r=this.getEnsembleInflowValuesFromAPIResponse(t[-3]),o=this.getEnsembleInflowValuesFromAPIResponse(t[-2]),s=this.getEnsembleInflowValuesFromAPIResponse(t[-8]),u=this.getEnsembleInflowValuesFromAPIResponse(t[-7]),c=this.getEnsembleInflowValuesFromAPIResponse(t[-9]),h={},d=[];for(var p in t[0])d.includes(p)||d.push(p);d.sort(),this.lastfiveYearReturnValue=null,this.lasttwentyYearReturnValue=null,this.lasttwoyearReturnValue=null;for(var g=0,m=d;g<m.length;g++)if(p=m[g],t[-4]&&t[-4][p]){e=t[-4][p].in;break}for(var b=0,f=d;b<f.length;b++)if(p=f[b],t[-5]&&t[-5][p]){n=t[-5][p].in;break}for(var y=0,v=d;y<v.length;y++)if(p=v[y],t[-6]&&t[-6][p]){l=t[-6][p].in;break}for(var C in Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),null==(a=this.lastfiveYearReturnValue)&&(a=this.lasttwoyearReturnValue),i.sort(function(t,n){return t[0]-n[0]}),r.sort(function(t,n){return t[0]-n[0]}),o.sort(function(t,n){return t[0]-n[0]}),s.sort(function(t,n){return t[0]-n[0]}),u.sort(function(t,n){return t[0]-n[0]}),c.sort(function(t,n){return t[0]-n[0]}),t)if(-4!=Number(C)&&-5!=Number(C)&&-6!=Number(C)&&-7!=Number(C)){var S=t[C];for(var p in S)h[p]||(h[p]=[]),S[p].in&&(Object(M.isNullOrUndefined)(a)?a=S[p].in:parseFloat(a)<parseFloat(S[p].in)&&(a=S[p].in)),h[p].push(Number(Number(S[p].in).toFixed(2)))}for(var p in h)h[p].sort(function(t,n){return t-n});for(var _={},L=[],O=0,A=d;O<A.length;O++){p=A[O],new Date(Number(p));var T=p,D=this.calculatePercentile(h[p],50);if(-1!=D&&!(h[p].length<=D)){var P=Number(Number(h[p][D]).toFixed(2));L.push([Number(T),P]);var x=this.calculatePercentile(h[p],100);if(!Object(M.isNullOrUndefined)(h[p][x])){var w=h[p][x];(Object(M.isNullOrUndefined)(a)||w>a||"-"==a)&&(a=w)}for(var k=0;k<=100;k++){var I=this.calculatePercentile(h[p],k);_[k]||(_[k]=[]),_[k].push([Number(T),Number(Number(h[p][I]).toFixed(2)),P])}}}for(k=0;k<=100;k++)_[k]&&_[k].sort(function(t,n){return t[0]-n[0]});return L.sort(function(t,n){return t[0]-n[0]}),Object(M.isNullOrUndefined)(this.lasttwoyearReturnValue)&&(this.lasttwoyearReturnValue=e),Object(M.isNullOrUndefined)(this.lastfiveYearReturnValue)&&(this.lastfiveYearReturnValue=n),Object(M.isNullOrUndefined)(this.lasttwentyYearReturnValue)&&(this.lasttwentyYearReturnValue=l),[L,_,d,i,o,r,e,n,l,a,s,u,c]},t.prototype.calculatePercentile=function(t,n){if(0==n)return 0;var e=Number((n*t.length/100).toFixed(0));return e>0?e-1:0},t.prototype.openInFullScreen=function(){var t=this.modalSrv.open(ul,{size:"lg",backdrop:!0,centered:!0,windowClass:"chart-dark-modal"});t.componentInstance.arData=this.arData,t.componentInstance.urlParams=this.urlParams,t.componentInstance.pointData=this.clickProperties,t.componentInstance.inflowForecastChartType=this.inflowForecastChartType,t.componentInstance.tabType="inflowForecastChart",1==this.tabType?t.componentInstance.selectedTab=1:2==this.tabType&&(t.componentInstance.selectedTab=2)},t.prototype.downloadJPG=function(){1==this.tabType?(this.systemChart.options.title.text="Current Forecast For "+this.urlParams.location,this.systemChart.options.title.style.fontSize="12px",this.systemChart.exportChart({tabType:"image/jpeg"})):2==this.tabType&&(this.systemChart.options.title.text="Ensemble Forecast For "+this.urlParams.location,this.systemChart.options.title.style.fontSize="12px",this.systemChart.exportChart({tabType:"image/jpeg"}))},t.prototype.buttonBreadCrumb=function(){this.urlParams.clickPoint=!1,this.urlParams.advanceFilters=!1,this.urlParams.lUUID="",this.urlParams.location="",this.urlParams.catchmentUUID="",this.utilsService.setSelectedParams(this.urlParams),this.utilsService.setPointLayerParams(this.urlParams)},t.prototype.getFloodForecastRainfallGraph=function(t){var n=this;this.rainfallForecastChart={};var e=new Date,l=new Date(e.setDate(e.getDate()+7));this.rainfallData={};var a=[],i={pointUUID:t.catchmentUUID,startTs:(new Date).getTime(),endTs:l.getTime(),type:"rf_catchment",basinUUID:t.basin},r={};this.InflowForecastService.getRainfallForecastGraph(i).pipe(Object(al.a)(this.destroy)).subscribe(function(t){var e;e=t;var l=[];for(var i in e){var o=i,s=e[i];for(var u in l.includes(o)||l.push(o),s)r[u]||(r[u]=[])}for(var c in r){for(var h={},d=0;d<l.length;d++){var p;p=l[d];var g=n.utils.fixedToDecimal((e[l[d]]?e[l[d]]:{})[c],2);h[p]={egt:p,in:g}}r[c]=h}if(n.utils.isEmptyObject(e))n.rainfallData={};else{var m=n.getXandYAxisDataForRainfall(r[-8])[1],b=n.getXandYAxisDataForRainfall(r[-7])[1],f=n.getXandYAxisDataForRainfall(r[-8])[0],y={type:"column",name:"Deterministic",lineWidth:1};y.data=m,y.lineColor="#4d94ff",y.visible=!1,y.color="#4d94ff",y.marker={enabled:!0,symbol:"circle",radius:0};var v={type:"column",name:"IMD Forecast",lineWidth:1};v.data=b,v.lineColor="#4d94ff",v.visible=!0,v.color="#4d94ff",v.marker={enabled:!0,symbol:"circle",radius:0},a.push(y),a.push(v),a.push(f),n.rainfallData=n.InflowForecastService.getFloodForecastRainfallGraph(a,n),n.rainfallForecastChart=n.highcharts.chart(n.forecastRainfall.nativeElement,n.rainfallData)}})},t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utilsService.districtClicked.next(null))},t.prototype.getXandYAxisDataForRainfall=function(t){var n=[],e=[],l=[];for(var a in t){var i=this.utils.getDateInFormatForecast("dd-MMM",Number(a));e.push(i),l.push(Number(Number(t[a].in).toFixed(2)))}return n.push(e),n.push(l),n},t.prototype.rainfallChartTypeChanged=function(){"deterministic"==this.selectedRainfallFilter?(this.rainfallData.series[0].visible=!0,this.rainfallData.series[1].visible=!1):(this.rainfallData.series[1].visible=!0,this.rainfallData.series[0].visible=!1),this.rainfallForecastChart=this.highcharts.chart(this.forecastRainfall.nativeElement,this.rainfallData)},t.prototype.openRainfallInFull=function(t){var n=this.modalSrv.open(ul,{size:"lg",backdrop:!0,centered:!0,windowClass:"chart-dark-modal"});n.componentInstance.pointData=this.clickProperties,n.componentInstance.urlParams=this.urlParams,"rainfallForecast"==t&&(n.componentInstance.tabType="rainfallForecast")},t.prototype.setcurrentlyClickedCardIndex=function(t){this.currentlyClickedCardIndex=t},t.prototype.checkIfCardIsClicked=function(t){return t===this.currentlyClickedCardIndex},t.prototype.loadBasinData=function(t){var n=this;this.inflowForecastDataSrv.getHecHmsMetaDataForAllPoints({basinUUID:t}).subscribe(function(t){n.metaData=t,n.arData=n.metaData[n.urlParams.location]})},t.prototype.getRainfallSymbol=function(t,n){var e=n[0].data,l=n[1].data,a=n[2].indexOf(t);return n[0].visible?this.returnSymbol(e[a]):n[1].visible?this.returnSymbol(l[a]):void 0},t.prototype.returnSymbol=function(t){return t<2.5?"../assets/imgs/sunny.png":t>=2.5&&t<15.6?"../assets/imgs/cloudy.png":t>=15.6&&t<64.5?"../assets/imgs/rainy-day.png":t>=64.5&&t<115.6?"../assets/imgs/rainy.png":t>=11.5?"../assets/imgs/storm.png":void 0},t.prototype.ngOnDestroy=function(){this.destroy.next(!0),this.destroy.complete(),this.paramsSubscription.unsubscribe()},t}(),hl=function(){function t(t,n,e){this.utils=t,this.utilsService=n,this.InflowForecastService=e,this.isShowAdvanceFilter=!1,this.isInitialLoad=!1,this.selectedParams={},this.selectedPointParams={},this.locationList=["Tamilnadu"],this.modelDropdownList=this.InflowForecastService.MODEL_DROPDOWNLIST,this.sourceDropdownList=this.InflowForecastService.SOURCE_DROPDOWNLIST,this.timestepDropdownlist=this.InflowForecastService.TIMESTEP_DROPDOWNLIST,this.selectedFilterParams={},this.validation=new Array(5).fill(!0),this.revergaugeDropdownOptions=[],this.reservoirDropdownOptions=[],this.heatMapList=[],this.reservoirAndRiverGaugechange=!1,this.radioButtonMapping=["RIVER_GAUGE","RESERVOIR"],this.typeMapping=["River Gauge","Reservoir"],this.heatMapDropdownList=this.InflowForecastService.HEATMAP_DROPDOWMLIST,this.aggregationDropdownList=this.InflowForecastService.AGGREGATION_DROPDOWNLIST,this.basinUUID=V.d.PENNAIYAR_BASIN_UUID,this.reservoirRiverGaugeList=[]}return t.prototype.ngOnInit=function(){this.isInitialLoad=!0,this.subscribeEvents(),this.initializeMethods()},t.prototype.ngOnDestroy=function(){this.paramsSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.paramsSubscription=this.utilsService.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.selectedParams=n,t.selectedParams.advanceFilters&&""!=t.selectedParams.lUUID&&""!=t.selectedParams.location?(t.advanceOption="RESERVOIR"==t.selectedParams.pointType||"TNRESERVOIRS"==t.selectedParams.pointType?1:0,t.selectedPoints=t.selectedParams.location+"##"+t.selectedParams.lUUID+"##"+t.selectedParams.pointType+"##"+t.selectedParams.catchmentUUID):(t.selectedPoints=void 0,t.reservoirAndRiverGaugeData=void 0))}),this.utilsService.getPointLayerParams().subscribe(function(n){t.selectedPointParams=n,t.loadMasterDataApi(t.selectedPointParams.pointType),Object.keys(n).length>0&&(t.selectedPointParams.clickPoint&&""!=t.selectedPointParams.lUUID&&""!=t.selectedPointParams.location?(t.advanceOption="RESERVOIR"==t.selectedPointParams.pointType||"TNRESERVOIRS"==t.selectedPointParams.pointType?1:0,t.selectedPoints=t.selectedPointParams.location+"##"+t.selectedPointParams.lUUID+"##"+t.selectedPointParams.pointType+"##"+t.selectedPointParams.catchmentUUID):(t.selectedPoints=void 0,t.reservoirAndRiverGaugeData=void 0))})},t.prototype.initializeMethods=function(){this.selectedFilterParams.location=this.locationList[0],this.selectedFilterParams.basin=V.d.PENNAIYAR_BASIN_UUID,this.selectedFilterParams.model=V.d.HEC_HMS,this.selectedFilterParams.source=this.sourceDropdownList[0],this.selectedFilterParams.timestep=this.timestepDropdownlist[0],this.selectedFilterParams.forecastrainfallvalue="Daily",this.selectedFilterParams.heatMap=this.heatMapDropdownList[0],this.selectedFilterParams.aggregation=this.aggregationDropdownList[0],this.basinList(),this.getForecastRainfallDateList(),this.onModelChange(),this.isInitialLoad&&this.requestHeatMap()},t.prototype.basinList=function(){var t=this;this.InflowForecastService.getBasinList("TN_BASIN_VIEW","BASIN").subscribe(function(n){n.length>0&&(t.basinListDropdown=n)})},t.prototype.changeBasin=function(t){this.basinUUID=t,this.loadMasterDataApi(this.selectedFilter)},t.prototype.triggerAdvanceFilter=function(t){this.selectedFilter=this.radioButtonMapping[t],this.loadMasterDataApi(this.selectedFilter)},t.prototype.loadMasterDataApi=function(t){var n=this,e={nUUID:this.basinUUID?this.basinUUID:"",eType:"RIVER_GAUGE"==t?"RIVER_GAUGE":"RESERVOIR"==t?t:""};""!=e.nUUID&&""!=e.eType&&Object(ll.a)(this.InflowForecastService.getBasinList("BASIN","CATCHMENT_AREA"),this.InflowForecastService.getMasterData(e)).subscribe(function(t){return e=n,void 0,a=function(){var n,e;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(l){switch(l.label){case 0:return[4,t];case 1:return(n=l.sent())&&n[0].length>0&&Object.keys(n[1]).length>0?((e=this.formatMasterData(n)).sort(function(t,n){return t.locName>n.locName?1:t.locName<n.locName?-1:0}),this.reservoirRiverGaugeList=e):this.reservoirRiverGaugeList=[],[2]}})},new((l=void 0)||(l=Promise))(function(t,n){function i(t){try{o(a.next(t))}catch(e){n(e)}}function r(t){try{o(a.throw(t))}catch(e){n(e)}}function o(n){n.done?t(n.value):new l(function(t){t(n.value)}).then(i,r)}o((a=a.apply(e,[])).next())});var e,l,a})},t.prototype.formatMasterData=function(t){var n=[];return Object.keys(t[1]).forEach(function(e){var l={},a=t[0].find(function(t){return t.ln.toLowerCase()==e.toLowerCase()}),i=t[1][e];l.locName=e,l.locUUID=i.hasOwnProperty("nuuid")&&!Object(M.isNullOrUndefined)(i.nuuid)?i.nuuid:"-",l.pointType=i.hasOwnProperty("etype")&&!Object(M.isNullOrUndefined)(i.etype)?"RIVERGAUGE"==i.etype?"RIVER_GAUGE":i.etype:"-",l.catchmentUUID=!Object(M.isNullOrUndefined)(a.lUUID)&&a.hasOwnProperty("lUUID")?a.lUUID:"-",n.push(l)}),n},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.toggleAdvanceFilter=function(){this.reservoirAndRiverGaugechange=!1,this.isShowAdvanceFilter=!this.isShowAdvanceFilter,this.isShowAdvanceFilter||(this.advanceOption=null,this.selectedPoints=void 0,this.reservoirAndRiverGaugeData=void 0)},t.prototype.onModelChange=function(){var t=this.selectedFilterParams.model;"HEC-HMS"==t&&(t="hms_hybrid_flow1"),"SAMPLE-MODEL"==t&&(t="sample_model"),this.selectedModel=t},t.prototype.getForecastRainfallDateList=function(){var t=this.InflowForecastService.Forecast7daysList();this.utilsService.setDateRangeDefaultValue(t)},t.prototype.onSourceChange=function(){var t,n=this.selectedFilterParams.source;"IMD Merged"==n?t=this.InflowForecastService.Forecast7daysList():"NCMRWF"==n&&(t=this.InflowForecastService.Forecast3daysList()),this.utilsService.setDateRangeDefaultValue(t)},t.prototype.selectedPoint=function(t){this.reservoirAndRiverGaugeData=t},t.prototype.requestHeatMap=function(t){var n={};if(this.isInitialLoad||(n=this.selectedParams),n.component=V.d.COMPONENT.INFLOWFORECAST,n.src=this.selectedFilterParams.source,n.timeStep=this.selectedFilterParams.timestep,this.isInitialLoad)if(n.locName=this.selectedFilterParams.location,n.locType="BASIN",n.forecastrainfallvalue=this.selectedFilterParams.forecastrainfallvalue,n.clickPoint=!1,n.hierarchyId="RAINFALL_BASIN",n.basin=this.selectedFilterParams.basin,n.basinUUID=this.selectedFilterParams.basin,n.modelName=this.selectedModel,n.dashboardView=this.selectedFilterParams.location.toUpperCase(),n.actionType="filter",n.view="COMBINED_BASIN",n.locationTypeList=["COMBINED_BASIN"],n.pType="COMBINED_BASIN",n.heapMap=this.selectedFilterParams.heatMap,n.aggregation=this.selectedFilterParams.aggregation,n.advanceFilters=!Object(M.isNullOrUndefined)(this.reservoirAndRiverGaugeData),n.partialBasinUUID=this.selectedFilterParams.basin?V.f[this.selectedFilterParams.basin]:"-",this.reservoirAndRiverGaugeData&&this.isShowAdvanceFilter){var e=this.reservoirAndRiverGaugeData.split("##");n.location=e[0],n.lUUID=e[1],n.pointType=e[2],n.catchmentUUID=e[3]}else 0==this.isShowAdvanceFilter&&(n.lUUID="",n.location="",n.pointType="",n.catchmentUUID="");this.utilsService.setSelectedParams(n)},t}(),dl=function(){function t(t,n,e){this.route=t,this.utils=n,this.utilSrv=e,this.sidebarComponent=hl,this.layerList={},this.otherOptions={legend:{},serviceType:z,functionName:"getSrcWiseLayers",heatMapFunctionName:"onHeatMapChange",stationLayer:"getStationLayer"},this.stateName=_.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")],this.tableDataComponent=cl}return t.prototype.ngOnInit=function(){var t=this;this.utilSrv.getSelectedParams().subscribe(function(n){t.utils.isEmptyObj(n)||(t.urlParams=n,"TAMILNADU"===t.urlParams.dashboardView&&"INFLOWFORECAST"===t.urlParams.component&&"sensorClick"!=t.urlParams.actionType&&setTimeout(function(){t.inflowForecastSpinner=!1},5e3))})},t}(),pl=function(){function t(t,n,e,l){this.utils=t,this.route=n,this.router=e,this.cookie=l,this.componentMapping={rainfall:{component:Ct,dashboard:"waterSupply"},mitanks:{component:qt,dashboard:"waterSupply"},groundwater:{component:It,dashboard:"waterSupply"},reservoir:{component:en,dashboard:"waterSupply"},rivergauge:{component:Xn,dashboard:"waterSupply"},wateraudit:{component:se,dashboard:"waterSupply"},drought:{component:Ue.a,dashboard:"waterSupply"},soilmoisture:{component:gn,dashboard:"waterSupply"},evapotranspiration:{component:Oe,dashboard:"waterSupply"},cropdemand:{component:lt,dashboard:"waterDemand"},domesticdemand:{component:On,dashboard:"waterDemand"},ndvi:{component:Be,dashboard:"waterDemand"},industrialdemand:{component:Bn,dashboard:"waterDemand"},surfacewaterquality:{component:nl,dashboard:"surfacewaterQuality"},inflowForecast:{component:dl,dashboard:"waterSupply"}},this.selectedParams={component:null,dashboard:null}}return t.prototype.ngOnInit=function(){this.subscribeEvents(),this.checkAndSetComponent()},t.prototype.ngOnDestroy=function(){null!=this.routeSubscription&&this.routeSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.routeSubscription=this.router.events.subscribe(function(n){n instanceof b.f&&t.checkAndSetComponent()})},t.prototype.checkAndSetComponent=function(){var t=this.utils.getWritableObject(this.route.snapshot.params);0==Object.keys(t).length&&(t={component:"rainfall",dashboard:"waterSupply"}),this.selectedParams.component=this.componentMapping[t.component].component,this.selectedParams.dashboard=this.componentMapping[t.component].dashboard},t}(),gl=e("jmvC"),ml=c.zb({encapsulation:0,styles:[[""]],data:{}});function bl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,bl)),c.Ab(2,671744,null,0,m.o,[c.Y],{ngComponentOutlet:[0,"ngComponentOutlet"]},null)],function(t,n){t(n,2,0,n.component.selectedParams.component)},null)}function yl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-home",[],null,null,null,fl,ml)),c.Ab(1,245760,null,0,pl,[T.a,b.a,b.p,gl.a],null,null)],function(t,n){t(n,1,0)},null)}var vl=c.xb("app-home",pl,yl,{},{},[]),Cl=e("D2NE"),Sl=e("XePT"),Ml=e("UzTy"),_l=e("lfa1"),Ll=e("TUlx"),Ol=e("csY2"),Al=e("iJXZ"),Tl=function(){function t(t,n,e){this.route=t,this.IForecastDataService=n,this.utils=e,this.levelPercent=0,this.classAsPerColour={blue:"normal",yellow:"warning",orange:"danger",red:"hfl",grey:"deadStorage",darkBlue:"frl"}}return t.prototype.ngOnInit=function(){},t.prototype.counter=function(t){return new Array(t)},t.prototype.ngOnChanges=function(){this.getLocationLevel()},t.prototype.getLocationLevel=function(){var t=this;if(this.metaData){this.level=0,this.levelColor="",this.levelPercent=0,this.wlPercent=-1,this.dl=0,this.hfl=0,this.msl=0,this.wlPercent=-1,this.dlPercent=-1,this.hflPercent=-1,this.deadStorage=0,this.frl=0,this.level=0,this.ratingValue=0,this.deadStoragePercent=-1,this.frlPercent=-1;var n=this.IForecastDataService.setPostData(this.urlParams.pointType);n.pUUID=this.metaData[this.urlParams.featureObj.properties.point_name].uuid,n.cTypeList=[],n.pType="RIVERGAUGE"==this.metaData[this.urlParams.featureObj.properties.point_name].point_type||"RIVER GAUGE"==this.metaData[this.urlParams.featureObj.properties.point_name].point_type?"RIVER_GAUGE":this.metaData[this.urlParams.featureObj.properties.point_name].point_type,n.cTypeList.push(n.pType),n.bUUID=this.urlParams.basin,n.pEUUID="RIVER_GAUGE"==n.pType?_.c.STATETOUUIDMAPPING.COUNTRY:_.c.STATETOUUIDMAPPING.TAMILNADU,this.pointType=n.pType,this.IForecastDataService.getAllMarkersColourInfo(n).subscribe(function(e){Object(M.isNullOrUndefined)(e)||("RIVER_GAUGE"==n.pType||"RIVERGAUGE"==n.pType?(t.level=e[0].level?Number(e[0].level):0,t.wl=e[0].wl?Number(e[0].wl):0,t.dl=e[0].dl?Number(e[0].dl):0,t.hfl=e[0].hfl?Number(e[0].hfl):0,t.msl=e[0].msl?Number(e[0].msl):0,t.levelColor=e[0].floodCondition?V.a[e[0].floodCondition]:"blue",t.levelPercent=100*(t.level-t.msl)/(t.hfl-t.msl),t.wlPercent=Math.floor(100*(t.wl-t.msl)/(t.hfl-t.msl))>0?Math.floor(100*(t.wl-t.msl)/(t.hfl-t.msl)):-1,t.dlPercent=Math.floor(100*(t.dl-t.msl)/(t.hfl-t.msl))>0?Math.floor(100*(t.dl-t.msl)/(t.hfl-t.msl)):-1,t.hflPercent=Math.floor(100*(t.hfl-t.msl)/(t.hfl-t.msl))>0?Math.floor(100*(t.hfl-t.msl)/(t.hfl-t.msl)):-1,isFinite(t.levelPercent)||(t.levelPercent=0,t.levelColor="blue")):(t.level=e[0].level?Number(e[0].level):0,t.deadStorage=e[0].dsl?Number(e[0].dsl):0,t.frl=e[0].frl?Number(e[0].frl):0,t.ratingValue=e[0].ratingValue?Number(e[0].ratingValue):0,t.levelColor=e[0].floodCondition?V.b[e[0].floodCondition]:"blue",t.levelPercent=Math.floor(100*(t.level-t.ratingValue))/(t.frl-t.ratingValue),t.deadStoragePercent=Math.floor(100*(t.deadStorage-t.ratingValue)/(t.frl-t.ratingValue))>0?Math.floor(100*(t.deadStorage-t.ratingValue)/(t.frl-t.ratingValue)):-1,t.frlPercent=Math.floor(100*(t.frl-t.ratingValue)/(t.frl-t.ratingValue))>0?Math.floor(100*(t.frl-t.ratingValue)/(t.frl-t.ratingValue)):-1,isFinite(t.levelPercent)||(t.levelPercent=0,t.levelColor="blue")))})}},t.prototype.getClassBasedOnLevel=function(t){if(t)return"scale-progress "+this.classAsPerColour[t]},t.prototype.getForebayLevel=function(){this.levelColor="blue",this.level=this.forebayLevel?Number(this.forebayLevel).toFixed(2):0,this.levelPercent=this.level},t}(),Dl=c.zb({encapsulation:0,styles:[[".measuring_scale[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-22%);right:-30px;bottom:0;z-index:1050}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]{background:#f6f5f5c2;padding:1rem;border-radius:.5rem;border:1px solid #ccc;box-shadow:0 0 4px 2px #00000017;display:block}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{position:absolute;right:80%;font-size:.75rem;height:1rem;top:-.625rem;white-space:nowrap;background-color:#212529;display:flex;align-items:center;justify-content:center;padding:0 .5rem;font-weight:400;border-radius:.25rem;filter:drop-shadow(0 2px 4px rgba(33, 37, 41, .5));opacity:0;visibility:hidden;color:#fff}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{bottom:-2}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{left:100%;top:50%;border:6px solid rgba(136,183,213,0);content:\"\";height:0;width:0;position:absolute;pointer-events:none;border-left-color:#212529;margin-top:-6px}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.warning-badge[_ngcontent-%COMP%]{background-color:#ffc107}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.warning-badge[_ngcontent-%COMP%]:after{border-left-color:#ffc107}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.danger-badge[_ngcontent-%COMP%]{background-color:#fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.danger-badge[_ngcontent-%COMP%]:after{border-left-color:#fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.hfl-badge[_ngcontent-%COMP%]{background-color:#dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.hfl-badge[_ngcontent-%COMP%]:after{border-left-color:#dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.frl-badge[_ngcontent-%COMP%]{background-color:#172fb8}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.frl-badge[_ngcontent-%COMP%]:after{border-left-color:#172fb8}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.deadStorage-badge[_ngcontent-%COMP%]{background-color:#767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .level-badge.deadStorage-badge[_ngcontent-%COMP%]:after{border-left-color:#767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{font-size:.75rem;text-align:center;position:absolute;width:100%;z-index:3;left:0;font-weight:600}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%] > .value.min[_ngcontent-%COMP%]{bottom:0}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%] > .value.max[_ngcontent-%COMP%]{top:0}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:flex;flex-direction:column;flex-direction:column-reverse;align-items:center;gap:.22rem;position:relative}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]:before{height:100%;position:absolute;width:1px;background:#383f45;content:'';left:50%;top:0;transform:translateX(-50%)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:1px;background:#383f45;width:1rem;flex:0 0 1px;border-radius:2px;position:relative;z-index:1}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:-100%;top:50%;transform:translateY(-50%)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(15), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(25), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(35), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(45), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(55), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(65), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(75), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(85), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(95){width:2rem;height:1px;flex:0 0 1px;background:#2c3237}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(100), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(20), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(30), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(40), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(50), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(60), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(70), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(80), .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(90){width:3rem;height:1px;flex:0 0 1px;background:#2c3237}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.danger-level[_ngcontent-%COMP%], .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.deadStorage-level[_ngcontent-%COMP%], .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.frl-level[_ngcontent-%COMP%], .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.hfl-level[_ngcontent-%COMP%], .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.warning-level[_ngcontent-%COMP%]{width:3rem;height:1px;flex:0 0 1px;cursor:pointer}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.danger-level[_ngcontent-%COMP%]:before, .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.deadStorage-level[_ngcontent-%COMP%]:before, .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.frl-level[_ngcontent-%COMP%]:before, .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.hfl-level[_ngcontent-%COMP%]:before, .measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.warning-level[_ngcontent-%COMP%]:before{position:absolute;left:-.5rem;right:-.5rem;top:-.5rem;bottom:-.5rem;content:'';border-radius:.25rem}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.warning-level[_ngcontent-%COMP%]{background:#edb100;box-shadow:0 -1px 0 #edb100}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.warning-level[_ngcontent-%COMP%]:before{background:rgba(237,177,0,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.warning-level[_ngcontent-%COMP%]:hover   .warning-badge[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.danger-level[_ngcontent-%COMP%]{background:#fd7e14;box-shadow:0 -1px 0 #fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.danger-level[_ngcontent-%COMP%]:before{background:rgba(253,126,20,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.danger-level[_ngcontent-%COMP%]:hover   .danger-badge[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.hfl-level[_ngcontent-%COMP%]{background:#dc3545;box-shadow:0 -1px 0 #dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.hfl-level[_ngcontent-%COMP%]:before{background:rgba(220,53,69,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.hfl-level[_ngcontent-%COMP%]:hover   .hfl-badge[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.deadStorage-level[_ngcontent-%COMP%]{background:#767b7c;box-shadow:0 -1px 0 #767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.deadStorage-level[_ngcontent-%COMP%]:before{background:rgba(118,123,124,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.deadStorage-level[_ngcontent-%COMP%]:hover   .deadStorage-badge[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.frl-level[_ngcontent-%COMP%]{background:#172fb8;box-shadow:0 -1px 0 #172fb8}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.frl-level[_ngcontent-%COMP%]:before{background:rgba(23,47,184,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid[_ngcontent-%COMP%]   li.frl-level[_ngcontent-%COMP%]:hover   .frl-badge[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid-img[_ngcontent-%COMP%]{padding-right:1rem;position:relative}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid-img[_ngcontent-%COMP%]   .scale-measuring-img[_ngcontent-%COMP%]{display:block;width:44px}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid-img[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;position:absolute;top:-1rem;bottom:-1rem;right:-.5rem;display:flex;flex-direction:column-reverse;justify-content:space-between}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .scale-grid-container[_ngcontent-%COMP%]   .scale-grid-img[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;height:24px;display:flex;align-items:center}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:16px;left:0;height:calc(100% - 32px)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]:before{position:absolute;height:16px;left:0;right:0;bottom:-16px;content:'';opacity:.5;border-radius:0 0 .5rem .5rem}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;z-index:4}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]:hover   .currunt-level[_ngcontent-%COMP%]{right:calc(100% + .5rem);opacity:1;visibility:visible}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.normal[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(13,110,253,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.normal[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#0d6efd}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.normal[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#0d6efd}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.normal[_ngcontent-%COMP%]:before{background-color:#0d6efd}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.warning[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(255,193,7,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.warning[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#ffc107}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.warning[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#ffc107}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.warning[_ngcontent-%COMP%]:before{background-color:#ffc107}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.danger[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(253,126,20,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.danger[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.danger[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.danger[_ngcontent-%COMP%]:before{background-color:#fd7e14}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.hfl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(220,53,69,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.hfl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.hfl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.hfl[_ngcontent-%COMP%]:before{background-color:#dc3545}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.deadStorage[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(118,123,124,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.deadStorage[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.deadStorage[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.deadStorage[_ngcontent-%COMP%]:before{background-color:#767b7c}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.frl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]{background-color:rgba(23,47,184,.5)}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.frl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]{background-color:#172fb8}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.frl[_ngcontent-%COMP%]   .scale-progress[_ngcontent-%COMP%]   .level-badge[_ngcontent-%COMP%]:after{border-left-color:#172fb8}.measuring_scale[_ngcontent-%COMP%]   .scale-measuring[_ngcontent-%COMP%]   .progress-container.frl[_ngcontent-%COMP%]:before{background-color:#172fb8}"]],data:{}});function Pl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"li",[],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{ngClass:[0,"ngClass"]},null),c.Nb(2,{"warning-level":0,"danger-level":1,"hfl-level":2}),(t()(),c.Bb(3,0,null,null,3,"div",[["class","warning-badge level-badge"]],null,null,null,null,null)),(t()(),c.Sb(4,null,["Warning Level: "," "])),(t()(),c.Bb(5,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"])),(t()(),c.Bb(7,0,null,null,3,"div",[["class","danger-badge level-badge"]],null,null,null,null,null)),(t()(),c.Sb(8,null,["Danger Level: "," "])),(t()(),c.Bb(9,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"])),(t()(),c.Bb(11,0,null,null,3,"div",[["class","hfl-badge level-badge"]],null,null,null,null,null)),(t()(),c.Sb(12,null,["Highest Flow Level: "," "])),(t()(),c.Bb(13,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"]))],function(t,n){var e=n.component,l=t(n,2,0,n.context.index==e.wlPercent,n.context.index==e.dlPercent,n.context.index==e.hflPercent);t(n,1,0,l)},function(t,n){var e=n.component;t(n,4,0,e.wl),t(n,8,0,e.dl),t(n,12,0,e.hfl)})}function xl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,17,"div",[["class","scale-measuring"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,8,"div",[["class","progress-container"]],null,null,null,null,null)),c.Ab(2,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(3,0,null,null,6,"div",[["class","scale-progress"]],null,null,null,null,null)),c.Ab(4,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(5,{height:0}),(t()(),c.Bb(6,0,null,null,3,"div",[["class","currunt-level level-badge"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["Currunt Level: "," "])),(t()(),c.Bb(8,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"])),(t()(),c.Bb(10,0,null,null,7,"div",[["class","scale-grid-container"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"span",[["class","value max"]],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,2,"ul",[["class","scale-grid"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Pl)),c.Ab(15,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(16,0,null,null,1,"span",[["class","value min"]],null,null,null,null,null)),(t()(),c.Sb(17,null,["",""]))],function(t,n){var e=n.component;t(n,2,0,"progress-container",e.getClassBasedOnLevel(e.levelColor));var l=t(n,5,0,e.levelPercent+"%");t(n,4,0,l),t(n,15,0,e.counter(101))},function(t,n){var e=n.component;t(n,7,0,e.level),t(n,12,0,e.hfl),t(n,17,0,e.msl)})}function wl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"li",[],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{ngClass:[0,"ngClass"]},null),c.Nb(2,{"deadStorage-level":0,"frl-level":1}),(t()(),c.Bb(3,0,null,null,3,"div",[["class","frl-badge level-badge"]],null,null,null,null,null)),(t()(),c.Sb(4,null,["FRL: "," "])),(t()(),c.Bb(5,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"])),(t()(),c.Bb(7,0,null,null,3,"div",[["class","deadStorage-badge level-badge"]],null,null,null,null,null)),(t()(),c.Sb(8,null,["Dead Storage: "," "])),(t()(),c.Bb(9,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"]))],function(t,n){var e=n.component,l=t(n,2,0,n.context.index==e.deadStoragePercent,n.context.index==e.frlPercent);t(n,1,0,l)},function(t,n){var e=n.component;t(n,4,0,e.frl),t(n,8,0,e.deadStorage)})}function kl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,17,"div",[["class","scale-measuring"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,8,"div",[["class","progress-container"]],null,null,null,null,null)),c.Ab(2,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(3,0,null,null,6,"div",[["class","scale-progress"]],null,null,null,null,null)),c.Ab(4,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(5,{height:0}),(t()(),c.Bb(6,0,null,null,3,"div",[["class","currunt-level level-badge"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["Currunt Level: "," "])),(t()(),c.Bb(8,0,null,null,1,"sub",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"])),(t()(),c.Bb(10,0,null,null,7,"div",[["class","scale-grid-container"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"span",[["class","value max"]],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,2,"ul",[["class","scale-grid"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,wl)),c.Ab(15,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(16,0,null,null,1,"span",[["class","value min"]],null,null,null,null,null)),(t()(),c.Sb(17,null,["",""]))],function(t,n){var e=n.component;t(n,2,0,"progress-container",e.getClassBasedOnLevel(e.levelColor));var l=t(n,5,0,e.levelPercent+"%");t(n,4,0,l),t(n,15,0,e.counter(101))},function(t,n){var e=n.component;t(n,7,0,e.level),t(n,12,0,e.frl),t(n,17,0,e.ratingValue)})}function Il(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["class","measuring_scale"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,xl)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,kl)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"RIVER_GAUGE"==e.pointType),t(n,4,0,"RESERVOIR"==e.pointType)},null)}var El=e("imx3"),Nl=e("6Ynu"),Fl=e("TZAI"),Bl=e("BUMH"),Ul=function(){function t(){this.closePopUp=new c.q}return t.prototype.ngOnInit=function(){console.log(this.bottomBarComponent)},t.prototype.closeBottomBar=function(t){this.closePopUp.emit(t)},t}(),Rl=c.zb({encapsulation:0,styles:[[""]],data:{}});function Vl(t){return c.Ub(0,[],null,null)}var jl=e("HF1C"),Gl=function(){function t(t,n,e){this.utils=t,this.route=n,this.router=e,this.selectedParams={component:null,dashboard:null}}return t.prototype.ngOnInit=function(){this.subscribeEvents(),this.checkAndSetComponent()},t.prototype.ngOnDestroy=function(){null!=this.routeSubscription&&this.routeSubscription.unsubscribe()},t.prototype.subscribeEvents=function(){var t=this;this.routeSubscription=this.router.events.subscribe(function(n){n instanceof b.f&&t.checkAndSetComponent()})},t.prototype.checkAndSetComponent=function(){this.selectedParams.component="rainfall",this.selectedParams.dashboard="waterSupply"},t}(),Yl=c.zb({encapsulation:0,styles:[[""]],data:{}});function Wl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function zl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"div",[["class","card card-data-infobox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Wl)),c.Ab(3,671744,null,0,m.o,[c.Y],{ngComponentOutlet:[0,"ngComponentOutlet"]},null)],function(t,n){t(n,3,0,n.component.infoboxComponent)},null)}function Hl(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(t()(),c.Sb(-1,null,[" No Application Selected "]))],null,function(t,n){t(n,0,0,"landingPage"!=n.component.selectedParams.component)})}function ql(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["class","right-data-panel"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,zl)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Hl)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"landingPage"!=e.selectedParams.component),t(n,4,0,"landingPage"==e.selectedParams.component)},null)}var Kl=e("x0dF"),Xl=e("XRV1"),Jl=e("QqAL"),$l=e("SZbH"),Ql=e("4GxJ"),Zl=e("wJPv"),ta=e("0gkA"),na=e("zKbe"),ea=e("Io2v"),la=e("62rn"),aa=e("m1qP"),ia=e("VvG+"),ra=e("+EyX"),oa=e("317A"),sa=c.zb({encapsulation:0,styles:[[".card.card-basemap[_ngcontent-%COMP%]{box-shadow:none;border-radius:0;display:flex;flex-direction:row;gap:.75rem;flex-wrap:wrap}.card.card-basemap[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]{flex:1 1 calc(33.33333% - 1.5rem);width:calc(33.33333% - 1.5rem);font-size:.875rem;height:100%;display:flex;align-items:center;justify-content:space-between;color:#6c757d;box-shadow:none;border-radius:.5rem;box-shadow:0 0 0 1px rgba(52,58,64,.7);overflow:hidden;position:relative;transition:all ease .3s;transform:scale(1);cursor:pointer}.card.card-basemap[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;aspect-ratio:1/.7;-o-object-fit:cover;object-fit:cover;width:100%}.card.card-basemap[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center;justify-content:center;font-size:.875rem;margin:0;padding:.125rem;position:absolute;left:0;top:0;right:0;bottom:0;background:rgba(52,58,64,.6);opacity:0;transition:all ease .1s;font-weight:500;line-height:1.2}.card.card-basemap[_ngcontent-%COMP%]   .card-maps.active[_ngcontent-%COMP%], .card.card-basemap[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#ffcd39}.card.card-basemap[_ngcontent-%COMP%]   .card-maps.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card.card-basemap[_ngcontent-%COMP%]   .card-maps[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{opacity:1}.card.card-basemap[_ngcontent-%COMP%]   .card-maps.active[_ngcontent-%COMP%]{box-shadow:0 0 0 4px rgba(255,205,57,.7)}"]],data:{}});function ua(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"a",[["class","maps"]],[[8,"className",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.context.$implicit.value,!0)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(4,null,["",""]))],null,function(t,n){var e=n.component;t(n,1,0,e.layersList.baselayers[n.context.$implicit.key].options.class),t(n,2,0,e.layersList.baselayers[n.context.$implicit.key].options.imagesrc),t(n,4,0,n.context.$implicit.key)})}function ca(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[["class","card card-basemap"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,ua)),c.Ab(2,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,2,0,c.Tb(n,2,0,c.Lb(n,3).transform(e.layersList.baselayers)))},null)}var ha=function(){function t(t,n,e,l){this.utilsSrv=t,this.rfUtils=n,this.commonVisibilityService=e,this.gisService=l,this.WSA_source="SENTINEL_1",this.deviationParams=null,this.WSALayers={}}return t.prototype.ngOnInit=function(){var t=this;this.utilsSrv.getSelectedParams().subscribe(function(n){t.rfUtils.isEmptyObj(n)||(t.params=n)}),this.getWaterSpreadWSALayers(this.layersList),this.WSA_source=this.gisService.getVisibilityMiTanksSource()},t.prototype.accordianOnClick=function(t){var n=t.target||t.srcElement||t.currentTarget;n.classList.toggle("active");var e=n.nextElementSibling;e.style.display="block"===e.style.display?"none":"block"},t.prototype.checkISLayerApplicable=function(t){var n=!1;return null!=t&&null!=t&&["Telangana Basin Depth_Class","Telangana Depth_Class","Depth_Class","Depth_Class2"].findIndex(function(n){return n==t})>-1&&(n=!0),n},t.prototype.showAndHideLayer=function(t,n){if(n){for(var e in this.layersList.baselayers)if(this.layersList.baselayers.hasOwnProperty(e)){var l=this.layersList.baselayers[e];this.mapObj.hasLayer(l)&&this.mapObj.removeLayer(l),l.options.visible=!1}return this.mapObj.addLayer(t),void(t.options.visible=!0)}if(console.log("\n In showAndHideLayer, layer",t,"\n layer.options.key",t.options.key),this.checkISLayerApplicable(t.options.key)){var a=this.params.src;1==t.options.visible?(this.gisMapComp&&this.gisMapComp.injectedService?this.gisMapComp.injectedService[this.gisMapComp.otherOptions.handleLayerControlEvent](this.gisMapComp,t.options.key,"remove"):a?this.commonVisibilityService.handleLayerControlEvent("remove",a):this.commonVisibilityService.handleLayerControlEvent("remove"),this.activeLayers&&(this.activeLayers[t.options.key]=!1),t.options.visible=!1):(this.gisMapComp&&this.gisMapComp.injectedService?this.gisMapComp.injectedService[this.gisMapComp.otherOptions.handleLayerControlEvent](this.gisMapComp,t.options.key,"add"):a?(this.commonVisibilityService.handleLayerControlEvent("add",a),this.gisService.emitSourceChangeEvent(a)):this.commonVisibilityService.handleLayerControlEvent("add"),this.activeLayers&&(this.activeLayers[t.options.key]=!0),t.options.visible=!0)}else if("Telangana MiTank_Mandal_Structures Count"==t.options.key){var i=this.gisMapComp.map.getZoom(),r=t.options.maxZoom,o=this.gisMapComp.params,s=!1;i>=t.options.minZoom&&i<=r&&(s=!0),t.options.visible?this.mapObj.hasLayer(t)&&this.mapObj.removeLayer(t):(s||(o.pType==v.m.LOCATIONS.MITANK||o.pType==v.m.LOCATIONS.BLOCK)&&i>r)&&(this.mapObj.hasLayer(t)||this.mapObj.addLayer(t)),this.activeLayers&&(this.activeLayers[t.options.key]=!t.options.visible),t.options.visible=!t.options.visible}else this.mapObj.hasLayer(t)?(this.mapObj.removeLayer(t),this.activeLayers&&(this.activeLayers[t.options.key]=!1),t.options.visible=!1):(this.mapObj.addLayer(t),this.activeLayers&&(this.activeLayers[t.options.key]=!0),t.options.visible=!0);console.log("gisMapComp",this.gisMapComp),this.gisMapComp&&this.gisMapComp.params&&(this.gisMapComp.params.component==v.m.COMPONENT.SOILMOISTURE||this.gisMapComp.params.component==v.m.COMPONENT.RESERVOIR||this.gisMapComp.params.component==v.m.COMPONENT.CROPDEMAND||this.gisMapComp.params.component==v.m.COMPONENT.INFLOWFORECAST)&&this.gisMapComp.manageLegend()},t.prototype.WaterSpreadLayerControl=function(t,n){var e=null,l=null;"Depth_Class"==t.options.key?(e="SENTINEL_1",l="SENTINEL_2"):"Depth_Class2"==t.options.key&&(e="SENTINEL_2",l="SENTINEL_1"),this.commonVisibilityService.handleLayerControlEvent("add",e),this.commonVisibilityService.handleLayerControlEvent("remove",l),this.gisService.emitSourceChangeEvent(e),this.activeLayers&&(this.activeLayers[t.options.key]=!0,this.activeLayers[n.options.key]=!1)},t.prototype.changeWSASource=function(t){this.WaterSpreadLayerControl(this.WSALayers[t],this.WSALayers[this.getSource2(t)])},t.prototype.getSource2=function(t){return"SENTINEL_1"==t?"SENTINEL_2":"SENTINEL_2"==t?"SENTINEL_1":void 0},t.prototype.getWaterSpreadWSALayers=function(t){var n=this;t&&t.overlaylayers&&Object.keys(t.overlaylayers).forEach(function(e){if("Depth_Class"==e){var l=t.overlaylayers[e];Object.assign(n.WSALayers,{SENTINEL_1:l})}else"Depth_Class_Sentinel2"==e&&(l=t.overlaylayers[e],Object.assign(n.WSALayers,{SENTINEL_2:l}))})},t}(),da=c.zb({encapsulation:0,styles:[[".custom_ul_class[_ngcontent-%COMP%]{-webkit-padding-start:0!important;padding-inline-start:0!important;margin-bottom:0!important}"]],data:{}});function pa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","floodForecast"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function ga(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,pa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"boundaries"==n.context.$implicit.value.options.group)},null)}function ma(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Admin Boundaries "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,ga)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function ba(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","floodForecast"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function fa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ba)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"basin"==n.context.$implicit.value.options.group)},null)}function ya(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Basin Boundaries "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,fa)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function va(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","floodForecast"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.name)})}function Ca(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,va)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"labels"==n.context.$implicit.value.options.group)},null)}function Sa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Labels "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Ca)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function Ma(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","rainfallActual"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function _a(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ma)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"Rainfall HeatMap"==n.context.$implicit.value.options.group)},null)}function La(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Rainfall "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,_a)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function Oa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","miTanks"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible&&n.component.activeLayers[n.parent.context.$implicit.value.options.key]),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Aa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Oa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"miTanks"==n.context.$implicit.value.options.group)},null)}function Ta(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" MI Tanks "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Aa)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function Da(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","miTanks"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Pa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Da)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"miTanks"==n.context.$implicit.value.options.group&&!n.component.checkISLayerApplicable(n.context.$implicit.value.options.key))},null)}function xa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,31,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" MI Tanks "])),(t()(),c.Bb(3,0,null,null,28,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,11,"ul",[["class","custom_ul_class"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,10,"label",[],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,9,"div",[["class","custom-control custom-radio "]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,6,"input",[["class","custom-radio-input"],["name","view"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,8)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,8).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,8)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,8)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,9).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,9).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.WSA_source=e)&&l),"change"===n&&(l=!1!==a.changeWSASource("SENTINEL_1")&&l),l},null,null)),c.Ab(8,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(9,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(11,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(13,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(14,0,null,null,1,"div",[["class","radio-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Sentinel 1 WSA"])),(t()(),c.Bb(16,0,null,null,11,"ul",[["class","custom_ul_class"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,10,"label",[],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,9,"div",[["class","custom-control custom-radio"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,6,"input",[["class","custom-radio-input"],["name","view"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,20)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,20).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,20)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,20)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,21).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,21).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.WSA_source=e)&&l),"change"===n&&(l=!1!==a.changeWSASource("SENTINEL_2")&&l),l},null,null)),c.Ab(20,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(21,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(23,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(25,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(26,0,null,null,1,"div",[["class","radio-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Sentinel 2 WSA"])),(t()(),c.Bb(28,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Pa)),c.Ab(30,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,9,0,"view","SENTINEL_1"),t(n,11,0,"view",e.WSA_source),t(n,21,0,"view","SENTINEL_2"),t(n,23,0,"view",e.WSA_source),t(n,30,0,c.Tb(n,30,0,c.Lb(n,31).transform(e.layersList.overlaylayers)))},function(t,n){t(n,7,0,c.Lb(n,13).ngClassUntouched,c.Lb(n,13).ngClassTouched,c.Lb(n,13).ngClassPristine,c.Lb(n,13).ngClassDirty,c.Lb(n,13).ngClassValid,c.Lb(n,13).ngClassInvalid,c.Lb(n,13).ngClassPending),t(n,19,0,c.Lb(n,25).ngClassUntouched,c.Lb(n,25).ngClassTouched,c.Lb(n,25).ngClassPristine,c.Lb(n,25).ngClassDirty,c.Lb(n,25).ngClassValid,c.Lb(n,25).ngClassInvalid,c.Lb(n,25).ngClassPending)})}function wa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","groundwater"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function ka(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,wa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"groundwater"==n.context.$implicit.value.options.group)},null)}function Ia(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Ground water "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,ka)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function Ea(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","groundwater"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Na(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ea)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"resevoir"==n.context.$implicit.value.options.group)},null)}function Fa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","groundwater"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,null==n.parent.context.$implicit.value.options?null:null==n.parent.context.$implicit.value.options.layerOptions?null:n.parent.context.$implicit.value.options.layerOptions.visible),t(n,3,0,n.parent.context.$implicit.value.options.name)})}function Ba(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Fa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"groundwater"==(null==n.context.$implicit.value.options?null:null==n.context.$implicit.value.options.layerOptions?null:n.context.$implicit.value.options.layerOptions.group))},null)}function Ua(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" RESERVOIR "])),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Na)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(8,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Ba)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers))),t(n,10,0,c.Tb(n,10,0,c.Lb(n,11).transform(e.layersList.overlaylayers)))},null)}function Ra(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","inflowforecast"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Va(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ra)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"inflowForecast"==n.context.$implicit.value.options.group)},null)}function ja(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" INFLOW FORECAST "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Va)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function Ga(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","groundwater"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Ya(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ga)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"rivergauge"==n.context.$implicit.value.options.group)},null)}function Wa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","groundwater"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,null==n.parent.context.$implicit.value.options?null:null==n.parent.context.$implicit.value.options.layerOptions?null:n.parent.context.$implicit.value.options.layerOptions.visible),t(n,3,0,n.parent.context.$implicit.value.options.name)})}function za(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Wa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"groundwater"==(null==n.context.$implicit.value.options?null:null==n.context.$implicit.value.options.layerOptions?null:n.context.$implicit.value.options.layerOptions.group))},null)}function Ha(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" RIVERGAUGE "])),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Ya)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(8,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,za)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers))),t(n,10,0,c.Tb(n,10,0,c.Lb(n,11).transform(e.layersList.overlaylayers)))},null)}function qa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","soilmoisture"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Ka(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,qa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"Soilmoisture HeatMap"==n.context.$implicit.value.options.group)},null)}function Xa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","soilmoisture"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,null==n.parent.context.$implicit.value.options?null:null==n.parent.context.$implicit.value.options.layerOptions?null:n.parent.context.$implicit.value.options.layerOptions.visible),t(n,3,0,n.parent.context.$implicit.value.options.name)})}function Ja(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Xa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"Soilmoisture HeatMap"==(null==n.context.$implicit.value.options?null:null==n.context.$implicit.value.options.layerOptions?null:n.context.$implicit.value.options.layerOptions.group))},null)}function $a(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" SOILMOISTURE "])),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Ka)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(8,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Ja)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers))),t(n,10,0,c.Tb(n,10,0,c.Lb(n,11).transform(e.layersList.overlaylayers)))},null)}function Qa(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","soilmoisture"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function Za(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Qa)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"resevoir"==n.context.$implicit.value.options.group)},null)}function ti(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","soilmoisture"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,null==n.parent.context.$implicit.value.options?null:null==n.parent.context.$implicit.value.options.layerOptions?null:n.parent.context.$implicit.value.options.layerOptions.visible),t(n,3,0,n.parent.context.$implicit.value.options.name)})}function ni(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ti)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"rivergauge"==(null==n.context.$implicit.value.options?null:null==n.context.$implicit.value.options.layerOptions?null:n.context.$implicit.value.options.layerOptions.group))},null)}function ei(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" SURFACE WATER QUALITY "])),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,Za)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(8,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,ni)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers))),t(n,10,0,c.Tb(n,10,0,c.Lb(n,11).transform(e.layersList.overlaylayers)))},null)}function li(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","miTanks"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible&&n.component.activeLayers[n.parent.context.$implicit.value.options.key]),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function ai(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,li)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"reservoir"==n.context.$implicit.value.options.group)},null)}function ii(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Crop Demand "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,ai)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function ri(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"label",[["class","list-group-item custom-checkbox"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"input",[["class","custom-checkbox-input"],["name","miTanks"],["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.showAndHideLayer(t.parent.context.$implicit.value,!1)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","checkbox-icon-text"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.value.options.visible&&n.component.activeLayers[n.parent.context.$implicit.value.options.key]),t(n,3,0,n.parent.context.$implicit.value.options.displayName||n.parent.context.$implicit.value.options.name)})}function oi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ri)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,2,0,"heatMap"==n.context.$implicit.value.options.group)},null)}function si(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","card card-collapse-menu"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","card-header"],["style","display: block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.accordianOnClick(e)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Heat Map Layers "])),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,3,"ul",[["class","list-group list-group-checkbox"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,2,null,oi)),c.Ab(6,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,6,0,c.Tb(n,6,0,c.Lb(n,7).transform(e.layersList.overlaylayers)))},null)}function ui(t){return c.Ub(0,[(t()(),c.sb(16777216,null,null,1,null,ma)),c.Ab(1,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ya)),c.Ab(3,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Sa)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,La)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ta)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,xa)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ia)),c.Ab(13,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ua)),c.Ab(15,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ja)),c.Ab(17,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ha)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,$a)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ei)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ii)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,si)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,1,0,("ADMIN"==e.params.view||"COMBINED_BASIN"==e.params.view)&&"WATER_SPREAD"!=e.params.component),t(n,3,0,("BASIN"==e.params.view||"COMBINED_BASIN"==e.params.view)&&"WATER_SPREAD"!=e.params.component),t(n,5,0,e.params&&"WATER_SPREAD"!=e.params.component),t(n,7,0,e.params&&"RAINFALL"===e.params.component),t(n,9,0,e.params&&"MITANK"===e.params.component),t(n,11,0,e.params&&"WATER_SPREAD"===e.params.component),t(n,13,0,"GROUNDWATER"===e.params.component),t(n,15,0,"RESERVOIR"===e.params.component),t(n,17,0,"INFLOWFORECAST"===e.params.component),t(n,19,0,"RIVER_GAUGE"===e.params.component),t(n,21,0,"SOILMOISTURE"===e.params.component),t(n,23,0,"SURFACEWATER_WQ"===e.params.component),t(n,25,0,e.params&&"CROP_DEMAND"===e.params.component),t(n,27,0,e.params&&"INFLOWFORECAST"===e.params.component)},null)}var ci=function(){function t(){}return t.prototype.transform=function(t,n,e){var l=e||2;if(null!=t)return"M-M"===n?this.formatData(t,l):"M-KM"===n?this.formatData(.001*t,l):"M-FT"===n?this.formatData(3.28084*t,l):"M-YD"===n?this.formatData(1.09361*t,l):"M-NM"===n?this.formatData(539957e-9*t,l):"SQM-SQM"===n?this.formatData(t,l):"SQM-SQKM"===n?this.formatData(1e-6*t,l):"SQM-H"===n?this.formatData(1e-4*t,l):"SQM-SQYD"===n?this.formatData(1.19599*t,l):"SQM-SQFT"===n?this.formatData(10.7639*t,l):"SQM-AC"===n?this.formatData(24e-5*t,l):"SQM-SQMI"===n?this.formatData(3.86*t,l):void 0},t.prototype.formatData=function(t,n){return t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})},t}(),hi=(e("u9gk"),function(){function t(t){this.utilsSrv=t,this.measureCtrl=new c.q,this.measureType=null,this.measureControl=null,this.measureDistance=null,this.measureArea=null,this.distanceMeasureUnit="M-M",this.distanceMeasureUnitList={"M-FT":"Feet","M-M":"Meter","M-KM":"Kilometer"},this.areaMeasureUnit="SQM-SQM",this.areaMeasureUnitList={"SQM-SQFT":"Sq feet","SQM-SQM":"Sq meters","SQM-AC":"Acres","SQM-H":"Hectares","SQM-SQKM":"Sq kilometers"}}return t.prototype.ngOnInit=function(){var t=this;for(var n in this.measureControl=new S.Control.Measure({measureUnit:"meters",createButton:!1,activeColor:"#000000",completedColor:"#C8F2BE",pane:"mask"}),this.measureControl.addTo(this.mapComponent),this.mapComponent.on("measure:finishedpath",function(n){t.measureDistance=n.measure.length_ori,t.measureArea=n.measure.area_ori}),this.layersList.overlaylayers)"VECTOR"==this.layersList.overlaylayers[n].options.type&&"WATER_SPREAD"!=this.layersList.overlaylayers[n].options.component&&this.layersList.overlaylayers[n].off("click")},t.prototype.measure=function(t){this.measureControl.stopMeasuring(),this.measureArea=null,this.measureDistance=null,this.measureType!==t?(this.measureType=t,"distance"===t&&this.measureControl.startMeasuring({measureArea:!1,measurePoint:!1,createButton:!1}),"area"===t&&this.measureControl.startMeasuring({measureArea:!0,createButton:!1}),"point"===t&&this.measureControl.startMeasuring({measurePoint:!0,createButton:!1}),this.measureCtrl.emit({measureControl:this.measureControl,measureArea:this.measureArea,measureDistance:this.measureDistance,measureType:this.measureType})):this.measureType=null},t.prototype.asIsOrder=function(){return 1},t.prototype.ngOnDestroy=function(){for(var t in this.measureControl.stopMeasuring(),this.mapComponent.removeControl(this.measureControl),this.measureArea=null,this.measureDistance=null,this.layersList.overlaylayers)"VECTOR"==this.layersList.overlaylayers[t].options.type&&"WATER_SPREAD"!=this.layersList.overlaylayers[t].options.component&&this.utilsSrv.sendNavigatedLayer(this.layersList.overlaylayers[t])},t}()),di=c.zb({encapsulation:0,styles:[[".tab-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.5rem}"]],data:{}});function pi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(3,null,[""," "]))],function(t,n){t(n,1,0,c.Db(1,"",n.context.$implicit.key,"")),t(n,2,0,c.Db(1,"",n.context.$implicit.key,""))},function(t,n){t(n,3,0,n.context.$implicit.value)})}function gi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"select",[["class","form-control"],["name","distanceunit"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,1).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,1).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.distanceMeasureUnit=e)&&l),l},null,null)),c.Ab(1,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(3,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(5,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,2,null,pi)),c.Ab(7,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,3,0,"distanceunit",e.distanceMeasureUnit),t(n,7,0,c.Tb(n,7,0,c.Lb(n,8).transform(e.distanceMeasureUnitList,e.asIsOrder)))},function(t,n){t(n,0,0,c.Lb(n,5).ngClassUntouched,c.Lb(n,5).ngClassTouched,c.Lb(n,5).ngClassPristine,c.Lb(n,5).ngClassDirty,c.Lb(n,5).ngClassValid,c.Lb(n,5).ngClassInvalid,c.Lb(n,5).ngClassPending)})}function mi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(3,null,["",""]))],function(t,n){t(n,1,0,c.Db(1,"",n.context.$implicit.key,"")),t(n,2,0,c.Db(1,"",n.context.$implicit.key,""))},function(t,n){t(n,3,0,n.context.$implicit.value)})}function bi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"select",[["class","form-control"],["name","areaunit"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,1).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,1).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.areaMeasureUnit=e)&&l),l},null,null)),c.Ab(1,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(3,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(5,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,2,null,mi)),c.Ab(7,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,3,0,"areaunit",e.areaMeasureUnit),t(n,7,0,c.Tb(n,7,0,c.Lb(n,8).transform(e.areaMeasureUnitList,e.asIsOrder)))},function(t,n){t(n,0,0,c.Lb(n,5).ngClassUntouched,c.Lb(n,5).ngClassTouched,c.Lb(n,5).ngClassPristine,c.Lb(n,5).ngClassDirty,c.Lb(n,5).ngClassValid,c.Lb(n,5).ngClassInvalid,c.Lb(n,5).ngClassPending)})}function fi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"h6",[["class","sub-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Measurement Result"]))],null,null)}function yi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "," "])),c.Ob(2,3)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),e.measureDistance,e.distanceMeasureUnit,2));t(n,1,0,l,e.distanceMeasureUnitList[e.distanceMeasureUnit])})}function vi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," ",""])),c.Ob(2,3)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),e.measureArea,e.areaMeasureUnit,2));t(n,1,0,l,e.areaMeasureUnitList[e.areaMeasureUnit])})}function Ci(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","content"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,gi)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,bi)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,fi)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(7,0,null,null,4,"div",[["class","measure-value"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,yi)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,vi)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"distance"==e.measureType),t(n,4,0,"area"==e.measureType),t(n,6,0,e.measureType),t(n,9,0,"distance"==e.measureType),t(n,11,0,"area"==e.measureType)},null)}function Si(t){return c.Ub(0,[c.Mb(0,ci,[]),(t()(),c.Bb(1,0,null,null,9,"div",[["class","form-row tab-buttons"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"button",[["class","btn btn-block btn-secondary"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.measure("point")&&l),l},null,null)),(t()(),c.Bb(4,0,null,null,0,"span",[["class","tnw-point"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"button",[["class","btn btn-block btn-secondary"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.measure("distance")&&l),l},null,null)),(t()(),c.Bb(7,0,null,null,0,"span",[["class","tnw-line"]],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn btn-block btn-secondary"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.measure("area")&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"span",[["class","tnw-polygan"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ci)),c.Ab(12,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,12,0,n.component.measureType)},function(t,n){var e=n.component;t(n,3,0,"point"==e.measureType),t(n,6,0,"distance"==e.measureType),t(n,9,0,"area"==e.measureType)})}var Mi=e("P8j/"),_i=function(){function t(){this.visibleShapes=[],this.removedShapes=[],this.enabled=!1,this.handlers=!1,this.LINE_STYLES=[{color:"rgba(33, 119, 240, 1)",weight:3,opacity:1,dashArray:""},{color:"rgba(0, 128, 0, 1)",weight:5,opacity:1,dashArray:""},{color:"rgba(255, 255, 0, 1)",weight:6,opacity:1,dashArray:""},{color:"rgba(255, 0, 0, 1)",weight:6,opacity:1,dashArray:""},{color:"rgba(255, 165, 0, 1)",weight:10,opacity:1,dashArray:""},{color:"rgba(172, 180, 205, 1)",weight:12,opacity:1,dashArray:""}],this.POINT_STYLES=[{src:"assets/imgs/drawtool/flag.png",name:"Flag"},{src:"assets/imgs/drawtool/location-off.png",name:"Location off"},{src:"assets/imgs/drawtool/lock.png",name:"Lock"},{src:"assets/imgs/drawtool/marker.png",name:"Marker"},{src:"assets/imgs/drawtool/pin.png",name:"Pin"},{src:"assets/imgs/drawtool/push-pin.png",name:"Push pin"}],this.POLY_STYLES=[{color:"rgba(33, 119, 240, 1)",weight:3,opacity:1,fill:!0,fillColor:"rgba(33, 119, 240, 0.6)",fillOpacity:1},{color:"rgba(0, 128, 0, 1)",weight:5,opacity:1,fill:!0,fillColor:"rgba(0, 128, 0, 0.6)",fillOpacity:1},{color:"rgba(255, 255, 0, 1)",weight:3,opacity:1,fill:!0,fillColor:"rgba(255, 255, 0, 0)",fillOpacity:1},{color:"rgba(255, 0, 0, 1)",weight:5,opacity:1,fill:!0,fillColor:"rgba(255, 0, 0, 0.5)",fillOpacity:1},{color:"rgba(255, 165, 0, 1)",weight:2,opacity:1,fill:!0,fillColor:"rgba(255, 165, 0, 0)",fillOpacity:1},{color:"rgba(172, 180, 205, 1)",weight:2,opacity:1,fill:!0,fillColor:"rgba(172, 180, 205, 0.5)",fillOpacity:1}],this.TEXT_STYLES=[{color:"rgba(0,0,0,1)",size:18}]}return t.prototype.getStyles=function(t){return"line"===t?this.LINE_STYLES:"point"===t?this.POINT_STYLES:"text"===t?this.TEXT_STYLES:this.POLY_STYLES},t.ngInjectableDef=c.cb({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Li=e("WVt+"),Oi=e("5RHE"),Ai=e("44fe"),Ti=function(){function t(t,n,e){this.toastr=t,this.rConstants=n,this.utilsSrv=e,this.selectedShape="line",this.isMouseDown=!1,this.restricted=!1,this.shapeLabel=!1,this.shapeLabelPosition={x:150,y:150,r:0},this.currentShapeLatLng=[],this.textInput="",this.showSpinner=!1,this.drawToolClearShape=new c.q}return t.prototype.ngOnInit=function(){for(var t in this.map=this.mapComponent,this.restricted=!1,this.rConstants.enabled=!0,this.currentShapeStyle=this.rConstants.LINE_STYLES[0],this.mapHandlers(),this.layersList.overlaylayers)"VECTOR"==this.layersList.overlaylayers[t].options.type&&"WATER_SPREAD"!=this.layersList.overlaylayers[t].options.component&&this.layersList.overlaylayers[t].off("click")},t.prototype.ngOnDestroy=function(){for(var t in this.map.dragging.enable(),this.rConstants.enabled=!1,this.map.off("mousedown"),this.map.off("mousemove"),this.map.off("mouseup"),this.layersList.overlaylayers)"VECTOR"==this.layersList.overlaylayers[t].options.type&&"WATER_SPREAD"!=this.layersList.overlaylayers[t].options.component&&this.utilsSrv.sendNavigatedLayer(this.layersList.overlaylayers[t])},t.prototype.mapHandlers=function(){var t=this;this.map.dragging.disable();var n=this;this.map.on("mousedown",function(t){n.rConstants.enabled&&!n.restricted&&(n.map.dragging.disable(),n.isMouseDown=!0,"polygon"!==n.selectedShape&&(n.currentShapeLatLng=[[t.latlng.lat,t.latlng.lng]],n.currentShape=null))}),this.map.on("mousemove",function(t){if(n.isMouseDown&&n.rConstants.enabled&&!n.restricted)if("line"===n.selectedShape){n.currentShapeLatLng.length>=2?n.currentShapeLatLng[1]=[t.latlng.lat,t.latlng.lng]:n.currentShapeLatLng.push([t.latlng.lat,t.latlng.lng]),n.currentShape&&n.currentShape.remove(),n.currentShape=S.polyline(n.currentShapeLatLng,n.currentShapeStyle);var e=S.latLng(n.currentShapeLatLng[0]).distanceTo(n.currentShapeLatLng[1]);n.currentShape.bindTooltip("Distance : "+(e/1e3).toFixed(3)+" km").openTooltip(),n.currentShape.addTo(n.map)}else if("rectangle"===n.selectedShape){n.currentShapeLatLng.length>=2?n.currentShapeLatLng[1]=[t.latlng.lat,t.latlng.lng]:n.currentShapeLatLng.push([t.latlng.lat,t.latlng.lng]),n.currentShape&&n.currentShape.remove(),n.currentShape=S.rectangle(n.currentShapeLatLng,n.currentShapeStyle),e=S.latLng(n.currentShapeLatLng[0]).distanceTo(n.currentShapeLatLng[1]);var l=n.getAreaRectangle(n.currentShapeLatLng[0],n.currentShapeLatLng[1]),a=n.getPerimeterRectangle(n.currentShapeLatLng[0],n.currentShapeLatLng[1]);n.currentShape.bindTooltip("Diagonal : "+(e/1e3).toFixed(3)+" km<br/>Perimeter : "+a.toFixed(3)+" km<br/>Area : "+l.toFixed(3)+" km<sup>2</sup>").openTooltip(),n.currentShape.addTo(n.map)}else"circle"===n.selectedShape&&(n.currentShapeLatLng.length>=2?n.currentShapeLatLng[1]=[t.latlng.lat,t.latlng.lng]:n.currentShapeLatLng.push([t.latlng.lat,t.latlng.lng]),n.currentShape&&n.currentShape.remove(),e=S.latLng(n.currentShapeLatLng[0]).distanceTo(n.currentShapeLatLng[1]),l=n.getAreaCircle(e),a=n.getPerimeterCircle(e),n.currentShape=S.circle(n.currentShapeLatLng[0],e,n.currentShapeStyle),n.currentShape.bindTooltip("Radius : "+(e/1e3).toFixed(3)+" km<br/>Circumference : "+a.toFixed(3)+" km<br/>Area : "+l.toFixed(3)+" km<sup>2</sup>").openTooltip(),n.currentShape.addTo(n.map))}),this.map.on("mouseup",function(e){if(n.rConstants.enabled&&!n.restricted){if(!n.currentShape||"line"!==n.selectedShape&&"rectangle"!==n.selectedShape&&"circle"!==n.selectedShape){if("polygon"===n.selectedShape)if(n.currentShapeLatLng.length>0&&n.compareLatLngs(n.currentShapeLatLng[n.currentShapeLatLng.length-1],[e.latlng.lat,e.latlng.lng])){n.rConstants.visibleShapes.push({shape:n.currentShape}),n.currentShape=null;var l=n.getCentroidPolygon(n.currentShapeLatLng),a=n.map.latLngToContainerPoint([l[0],l[1]]);n.showShapeLabel(a,20,0,0),n.currentShapeLatLng=[]}else{n.currentShapeLatLng.push([e.latlng.lat,e.latlng.lng]),n.currentShape&&n.currentShape.remove(),n.currentShape=S.polygon(n.currentShapeLatLng,n.currentShapeStyle);var i=n.getPerimeterPolygon(n.currentShapeLatLng),r=Li.area(n.currentShape.toGeoJSON());n.currentShape.bindTooltip("Perimeter : "+i.toFixed(3)+" km<br>Area : "+(r/1e6).toFixed(3)+" km<sup>2</sup>").openTooltip(),n.currentShape.addTo(n.map)}else if("point"===n.selectedShape){var o=S.icon({iconUrl:n.currentShapeStyle.src,iconSize:[40,40]});(h=S.marker(e.latlng,{pane:"marker",icon:o})).bindTooltip(e.latlng.lat+", "+e.latlng.lng).openTooltip(),h.addTo(n.map),n.rConstants.visibleShapes.push({shape:h}),n.currentShape=h,n.showShapeLabel(e.containerPoint,20,0,0)}else if("text"===n.selectedShape){o=S.divIcon({className:"div-icon",html:"<p style='color: "+n.currentShapeStyle.color+"; font-size: "+n.currentShapeStyle.size+"px; white-space: nowrap;'>"+n.textInput+"</p>"});var s=S.marker(e.latlng,{icon:o}).addTo(n.map);n.rConstants.visibleShapes.push({shape:s}),n.currentShape=s}}else{if(n.rConstants.visibleShapes.push({shape:n.currentShape}),"rectangle"===n.selectedShape){var u=(n.currentShapeLatLng[0][1]+n.currentShapeLatLng[1][1])/2,c=Math.min(n.currentShapeLatLng[0][0],n.currentShapeLatLng[1][0]),h=n.map.latLngToContainerPoint([c,u]);n.showShapeLabel(h,0,7,0)}else if("line"===n.selectedShape){h=n.map.latLngToContainerPoint([c=(n.currentShapeLatLng[0][0]+n.currentShapeLatLng[1][0])/2,u=(n.currentShapeLatLng[0][1]+n.currentShapeLatLng[1][1])/2]);var d=t.getSlopeLine(n.currentShapeLatLng[0],n.currentShapeLatLng[1]);n.showShapeLabel(h,0,0,d)}else n.showShapeLabel(e.containerPoint,20,0,0);n.currentShape=null,n.currentShapeLatLng=[]}t.drawToolClearShape.emit({visibleShapes:n.rConstants.visibleShapes}),n.isMouseDown=!1}else!0===n.restricted&&(n.restricted=!1)})},t.prototype.selectShape=function(t){this.selectedShape=t,this.currentShapeStyle=this.rConstants.getStyles(t)[0]},t.prototype.selectStyle=function(t,n){this.currentShapeStyle=this.rConstants.getStyles(t)[n]},t.prototype.undoShape=function(){this.shapeLabel=!1;var t=this.rConstants.visibleShapes.length;if(t>0){var n=this.rConstants.visibleShapes[t-1];n.shape.remove(),n.text&&n.text.remove(),this.rConstants.removedShapes.push(this.rConstants.visibleShapes.pop())}},t.prototype.redoShape=function(){var t=this.rConstants.removedShapes.length;if(t>0){var n=this.rConstants.removedShapes[t-1];n.shape.addTo(this.map),n.text&&n.text.addTo(this.map),this.rConstants.visibleShapes.push(this.rConstants.removedShapes.pop()),this.drawToolClearShape.emit({visibleShapes:this.rConstants.visibleShapes})}},t.prototype.clearAllShapes=function(){this.shapeLabel=!1;for(var t=0,n=this.rConstants.visibleShapes;t<n.length;t++){var e=n[t];e&&(e.shape.remove(),e.text&&e.text.remove())}this.rConstants.visibleShapes=[],this.rConstants.removedShapes=[]},t.prototype.discardStrayShape=function(){this.currentShape&&(this.currentShape.remove(),this.currentShape=null,this.currentShapeLatLng=[])},t.prototype.shapeLabelSubmit=function(t,n){if("Enter"===t.key){var e=this.shapeLabelPosition.r;this.shapeLabelPosition.x+=e>=0&&e<=90?e-10:e/4+10;var l=this.map.containerPointToLatLng([this.shapeLabelPosition.x,this.shapeLabelPosition.y]);this.shapeLabel=!1;var a=S.divIcon({className:"div-icon",html:'<p style="font:italic bold 18px arial; transform:rotate('+this.shapeLabelPosition.r+'deg);white-space: nowrap;">'+n+"</p>"}),i=S.marker(l,{icon:a}).addTo(this.map);this.rConstants.visibleShapes[this.rConstants.visibleShapes.length-1].text=i}},t.prototype.showShapeLabel=function(t,n,e,l){this.shapeLabelPosition.x=t.x+n-(l>=0&&l<=90?l:l/4),this.shapeLabelPosition.y=t.y+e,this.shapeLabelPosition.r=l,this.shapeLabel=!0},t.prototype.getAreaRectangle=function(t,n){var e=[n[0],t[1]];return S.latLng([t[0],t[1]]).distanceTo([e[0],e[1]])*S.latLng([n[0],n[1]]).distanceTo([e[0],e[1]])/1e6},t.prototype.getAreaCircle=function(t){return Math.PI*t*t/1e6},t.prototype.compareLatLngs=function(t,n){return t[0]===n[0]&&t[1]===n[1]},t.prototype.getPerimeterRectangle=function(t,n){var e=[n[0],t[1]];return 2*(S.latLng([t[0],t[1]]).distanceTo([e[0],e[1]])+S.latLng([n[0],n[1]]).distanceTo([e[0],e[1]]))/1e3},t.prototype.getPerimeterCircle=function(t){return 2*Math.PI*t/1e3},t.prototype.getPerimeterPolygon=function(t){for(var n=0,e=0;e<t.length-1;e++)n+=S.latLng([t[e][0],t[e][1]]).distanceTo([t[e+1][0],t[e+1][1]]);return n/1e3},t.prototype.getSlopeLine=function(t,n){var e=180*Math.atan((n[1]-t[1])/(t[0]-n[0]))/Math.PI;return e>=0?90-e:270-e},t.prototype.getCentroidPolygon=function(t){for(var n=[0,0],e=0,l=t;e<l.length;e++){var a=l[e];n[0]+=a[0],n[1]+=a[1]}return n[0]/=t.length,n[1]/=t.length,n},t.prototype.saveMap=function(){this.toggleControls(!1),this.downloadPDF()},t.prototype.downloadPDF=function(){var t=this;this.showSpinner=!0;var n=new Oi({unit:"pt",format:"a4",orientation:"l",compress:!0}),e=this,l=n.internal.pageSize.getWidth(),a=n.internal.pageSize.getHeight(),i=document.getElementById("map");Ai.toPng(i,{width:parseInt("1240",10),height:parseInt("700",10),dpi:parseInt("150",10)}).then(function(i){n.addImage(i,"png",0,0,l,a,null,"FAST"),n.save("KALESHWARAM"),e.toggleControls(!0),e.showSpinner=!1,t.toastr.success("Snapshot saved successfully","",{positionClass:"toast-bottom-right",timeOut:3500})},function(n){e.toggleControls(!0),e.showSpinner=!1,t.toastr.error("Snapshot could not be taken","",{positionClass:"toast-bottom-right"}),console.log("Error:: ",n)})},t.prototype.toggleControls=function(t){var n=document.getElementsByClassName("leaflet-control-container")[0];n.setAttribute("style","display:none;"),t&&n.setAttribute("style","display:block;")},t}(),Di=c.zb({encapsulation:0,styles:[[""]],data:{}});function Pi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,25,"div",[["class","text-layer"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,24,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","form-group col-12"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"label",[["for","Text"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Text"])),(t()(),c.Bb(5,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,6)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,6)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,6)._compositionEnd(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.textInput=e)&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(8,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(11,0,null,null,9,"div",[["class","form-group col-6"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"label",[["for","Text"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Font Size"])),(t()(),c.Bb(14,0,null,null,6,"input",[["class","form-control"],["max","22"],["min","8"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,15)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,15).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,15)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,15)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,16).onChange(e.target.value)&&l),"input"===n&&(l=!1!==c.Lb(t,16).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,16).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.currentShapeStyle.size=e)&&l),l},null,null)),c.Ab(15,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(16,16384,null,0,Ft.B,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.B]),c.Ab(18,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(20,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(21,0,null,null,4,"div",[["class","form-group col-6"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,1,"label",[["for","Text"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Font Color"])),(t()(),c.Bb(24,16777216,null,null,1,"input",[["class","form-control color"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==c.Lb(t,25).handleClick()&&l),"focus"===n&&(l=!1!==c.Lb(t,25).handleFocus()&&l),"input"===n&&(l=!1!==c.Lb(t,25).handleInput(e)&&l),"colorPickerChange"===n&&(l=!1!==(a.currentShapeStyle.color=e)&&l),l},null,null)),c.Ab(25,671744,null,0,Mi.b,[c.v,c.l,c.g,c.Y,c.n,Mi.d],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],function(t,n){var e=n.component;t(n,8,0,e.textInput),t(n,18,0,e.currentShapeStyle.size),t(n,25,0,e.currentShapeStyle.color,"top")},function(t,n){var e=n.component;t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending),t(n,14,0,c.Lb(n,20).ngClassUntouched,c.Lb(n,20).ngClassTouched,c.Lb(n,20).ngClassPristine,c.Lb(n,20).ngClassDirty,c.Lb(n,20).ngClassValid,c.Lb(n,20).ngClassInvalid,c.Lb(n,20).ngClassPending),t(n,24,0,e.currentShapeStyle.color)})}function xi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"a",[["class","btn p-2"]],null,[[null,"click"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==a.selectStyle(a.selectedShape,t.context.index)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,0,"img",[["class","thumbnail"],["height","32px"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,2,0,n.context.$implicit.src)})}function wi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[["class","point-layer"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,xi)),c.Ab(3,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,3,0,n.component.rConstants.POINT_STYLES)},null)}function ki(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"a",[["class","btn p-1"]],null,[[null,"click"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==a.selectStyle(a.selectedShape,t.context.index)&&l),l},null,null)),c.Ab(2,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(3,{"border-top":0,width:1})],function(t,n){var e=t(n,3,0,n.context.$implicit.weight+"px solid "+n.context.$implicit.color,"100%");t(n,2,0,e)},null)}function Ii(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,40,"div",[["class","line-layer"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"div",[["class","form-row align-items-center"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ki)),c.Ab(3,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(4,0,null,null,36,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,20,"div",[["class","form-group col-12"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Pattern"])),(t()(),c.Bb(8,0,[["patternSelect",1]],null,17,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,9).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,9).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.currentShapeStyle.dashArray=e)&&l),l},null,null)),c.Ab(9,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(11,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(13,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(14,0,null,null,3,"option",[["selected","selected"],["value",""]],null,null,null,null,null)),c.Ab(15,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(16,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Plane"])),(t()(),c.Bb(18,0,null,null,3,"option",[["value","8"]],null,null,null,null,null)),c.Ab(19,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(20,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Dashed"])),(t()(),c.Bb(22,0,null,null,3,"option",[["value","6 2 6"]],null,null,null,null,null)),c.Ab(23,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(24,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Dash and dot"])),(t()(),c.Bb(26,0,null,null,4,"div",[["class","form-group col-6"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Stroke Color"])),(t()(),c.Bb(29,16777216,[["lineColor",1]],null,1,"input",[["class","form-control color"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"keypress"],[null,"click"],[null,"focus"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==c.Lb(t,30).handleClick()&&l),"focus"===n&&(l=!1!==c.Lb(t,30).handleFocus()&&l),"input"===n&&(l=!1!==c.Lb(t,30).handleInput(e)&&l),"colorPickerChange"===n&&(l=!1!==(a.currentShapeStyle.color=e)&&l),"keypress"===n&&(l=!1!==(c.Lb(t,29).value="")&&l),l},null,null)),c.Ab(30,671744,null,0,Mi.b,[c.v,c.l,c.g,c.Y,c.n,Mi.d],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(t()(),c.Bb(31,0,null,null,9,"div",[["class","form-group col-6"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Stroke Weight"])),(t()(),c.Bb(34,0,null,null,6,"input",[["class","form-control"],["max","10"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,35)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,35).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,35)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,35)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,36).onChange(e.target.value)&&l),"input"===n&&(l=!1!==c.Lb(t,36).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,36).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.currentShapeStyle.weight=e)&&l),l},null,null)),c.Ab(35,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(36,16384,null,0,Ft.B,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.B]),c.Ab(38,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(40,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){var e=n.component;t(n,3,0,e.rConstants.LINE_STYLES),t(n,11,0,e.currentShapeStyle.dashArray),t(n,15,0,""),t(n,16,0,""),t(n,19,0,"8"),t(n,20,0,"8"),t(n,23,0,"6 2 6"),t(n,24,0,"6 2 6"),t(n,30,0,e.currentShapeStyle.color,"top"),t(n,38,0,e.currentShapeStyle.weight)},function(t,n){var e=n.component;t(n,8,0,c.Lb(n,13).ngClassUntouched,c.Lb(n,13).ngClassTouched,c.Lb(n,13).ngClassPristine,c.Lb(n,13).ngClassDirty,c.Lb(n,13).ngClassValid,c.Lb(n,13).ngClassInvalid,c.Lb(n,13).ngClassPending),t(n,29,0,e.currentShapeStyle.color),t(n,34,0,c.Lb(n,40).ngClassUntouched,c.Lb(n,40).ngClassTouched,c.Lb(n,40).ngClassPristine,c.Lb(n,40).ngClassDirty,c.Lb(n,40).ngClassValid,c.Lb(n,40).ngClassInvalid,c.Lb(n,40).ngClassPending)})}function Ei(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"a",[["class","btn shape"]],null,[[null,"click"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==a.selectStyle(a.selectedShape,t.context.index)&&l),l},null,null)),c.Ab(2,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(3,{border:0,background:1})],function(t,n){var e=t(n,3,0,n.context.$implicit.weight+"px solid "+n.context.$implicit.color,n.context.$implicit.fillColor);t(n,2,0,e)},null)}function Ni(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,24,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"div",[["class","form-row my-3 align-items-center"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ei)),c.Ab(3,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(4,0,null,null,20,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,9,"div",[["class","form-group col-4"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Stroke Weight"])),(t()(),c.Bb(8,0,null,null,6,"input",[["class","form-control"],["max","10"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,9)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,9).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,9)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,9)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,10).onChange(e.target.value)&&l),"input"===n&&(l=!1!==c.Lb(t,10).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,10).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.currentShapeStyle.weight=e)&&l),l},null,null)),c.Ab(9,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(10,16384,null,0,Ft.B,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.B]),c.Ab(12,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(14,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(15,0,null,null,4,"div",[["class","form-group col-4"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Stroke Color"])),(t()(),c.Bb(18,16777216,null,null,1,"input",[["class","form-control color"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==c.Lb(t,19).handleClick()&&l),"focus"===n&&(l=!1!==c.Lb(t,19).handleFocus()&&l),"input"===n&&(l=!1!==c.Lb(t,19).handleInput(e)&&l),"colorPickerChange"===n&&(l=!1!==(a.currentShapeStyle.color=e)&&l),l},null,null)),c.Ab(19,671744,null,0,Mi.b,[c.v,c.l,c.g,c.Y,c.n,Mi.d],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"}),(t()(),c.Bb(20,0,null,null,4,"div",[["class","form-group col-4"]],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Fill Color"])),(t()(),c.Bb(23,16777216,null,null,1,"input",[["class","form-control color"]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==c.Lb(t,24).handleClick()&&l),"focus"===n&&(l=!1!==c.Lb(t,24).handleFocus()&&l),"input"===n&&(l=!1!==c.Lb(t,24).handleInput(e)&&l),"colorPickerChange"===n&&(l=!1!==(a.currentShapeStyle.fillColor=e)&&l),l},null,null)),c.Ab(24,671744,null,0,Mi.b,[c.v,c.l,c.g,c.Y,c.n,Mi.d],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],function(t,n){var e=n.component;t(n,3,0,e.rConstants.POLY_STYLES),t(n,12,0,e.currentShapeStyle.weight),t(n,19,0,e.currentShapeStyle.color,"top"),t(n,24,0,e.currentShapeStyle.fillColor,"top")},function(t,n){var e=n.component;t(n,0,0,e.selectedShape+" shape-layer"),t(n,8,0,c.Lb(n,14).ngClassUntouched,c.Lb(n,14).ngClassTouched,c.Lb(n,14).ngClassPristine,c.Lb(n,14).ngClassDirty,c.Lb(n,14).ngClassValid,c.Lb(n,14).ngClassInvalid,c.Lb(n,14).ngClassPending),t(n,18,0,e.currentShapeStyle.color),t(n,23,0,e.currentShapeStyle.fillColor)})}function Fi(t){return c.Ub(0,[(t()(),c.Bb(0,0,[[1,0],["shape_label",1]],null,2,"input",[["type","text"]],null,[[null,"mousedown"],[null,"keypress"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=0!=(a.restricted=!0)&&l),"keypress"===n&&(l=!1!==a.shapeLabelSubmit(e,c.Lb(t,0).value)&&l),l},null,null)),c.Ab(1,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(2,{position:0,top:1,left:2})],function(t,n){var e=n.component,l=t(n,2,0,"fixed",e.shapeLabelPosition.y+"px",e.shapeLabelPosition.x+"px");t(n,1,0,l)},null)}function Bi(t){return c.Ub(0,[c.Qb(671088640,1,{shapeLabelDom:0}),(t()(),c.Bb(1,0,null,null,33,"div",[["class","redlining-content"]],null,[[null,"mousedown"]],function(t,n,e){var l=!0;return"mousedown"===n&&(l=0!=(t.component.restricted=!0)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,24,"div",[["class","form-row flex-nowrap tab-buttons"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(4,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Point"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("point")&&l),l},null,null)),c.Ab(5,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(6,0,null,null,0,"i",[["class","tnw-point"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(8,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Line"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("line")&&l),l},null,null)),c.Ab(9,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(10,0,null,null,0,"i",[["class","tnw-line"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(12,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Rectangle"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("rectangle")&&l),l},null,null)),c.Ab(13,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(14,0,null,null,0,"i",[["class","tnw-rectangle"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(16,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Circle"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("circle")&&l),l},null,null)),c.Ab(17,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(18,0,null,null,0,"i",[["class","tnw-circle"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(20,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Polygon"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("polygon")&&l),l},null,null)),c.Ab(21,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(22,0,null,null,0,"i",[["class","tnw-polygan"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(24,16777216,null,null,2,"button",[["class","btn btn-block btn-secondary"],["ngbTooltip","Text"],["placement","bottom"]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.selectShape("text")&&l),l},null,null)),c.Ab(25,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{placement:[0,"placement"],ngbTooltip:[1,"ngbTooltip"]},null),(t()(),c.Bb(26,0,null,null,0,"i",[["class","fas fa-text-width"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Pi)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,wi)),c.Ab(30,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ii)),c.Ab(32,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ni)),c.Ab(34,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(35,0,null,null,12,"div",[["class","btn-group footer-content w-100"]],null,null,null,null,null)),(t()(),c.Bb(36,16777216,null,null,2,"button",[["class","btn btn-secondary"],["ngbTooltip","Undo"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.undoShape()&&l),l},null,null)),c.Ab(37,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{ngbTooltip:[0,"ngbTooltip"]},null),(t()(),c.Bb(38,0,null,null,0,"i",[["class","fas fa-undo-alt"]],null,null,null,null,null)),(t()(),c.Bb(39,16777216,null,null,2,"button",[["class","btn btn-secondary"],["ngbTooltip","Redo"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.redoShape()&&l),l},null,null)),c.Ab(40,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{ngbTooltip:[0,"ngbTooltip"]},null),(t()(),c.Bb(41,0,null,null,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),c.Bb(42,16777216,null,null,2,"button",[["class","btn btn-secondary"],["ngbTooltip","Clear"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.clearAllShapes()&&l),l},null,null)),c.Ab(43,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{ngbTooltip:[0,"ngbTooltip"]},null),(t()(),c.Bb(44,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null)),(t()(),c.Bb(45,16777216,null,null,2,"button",[["class","btn btn-secondary"],["ngbTooltip","Snapshot"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.saveMap()&&l),l},null,null)),c.Ab(46,212992,null,0,Ql.cb,[c.n,c.N,c.v,c.l,c.Y,Ql.db,c.F,m.d,c.i,c.g],{ngbTooltip:[0,"ngbTooltip"]},null),(t()(),c.Bb(47,0,null,null,0,"i",[["class","fas fa-camera"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Fi)),c.Ab(49,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,"bottom","Point"),t(n,9,0,"bottom","Line"),t(n,13,0,"bottom","Rectangle"),t(n,17,0,"bottom","Circle"),t(n,21,0,"bottom","Polygon"),t(n,25,0,"bottom","Text"),t(n,28,0,"text"==e.selectedShape),t(n,30,0,"point"==e.selectedShape),t(n,32,0,"line"==e.selectedShape),t(n,34,0,"rectangle"==e.selectedShape||"circle"==e.selectedShape||"polygon"==e.selectedShape),t(n,37,0,"Undo"),t(n,40,0,"Redo"),t(n,43,0,"Clear"),t(n,46,0,"Snapshot"),t(n,49,0,1==e.shapeLabel)},function(t,n){var e=n.component;t(n,4,0,"point"==e.selectedShape),t(n,8,0,"line"==e.selectedShape),t(n,12,0,"rectangle"==e.selectedShape),t(n,16,0,"circle"==e.selectedShape),t(n,20,0,"polygon"==e.selectedShape),t(n,24,0,"text"==e.selectedShape)})}e("6wqB"),e("XiEd");var Ui=e("MQ6a"),Ri=function(){function t(t,n,e,l,a){this.gisDataService=t,this.formBuilder=n,this.dataService=e,this.toastrService=l,this.mitanksEditingSrv=a,this.addOption="",this.locationMetaData={},this.saveButtonEnabled=!1,this.isFormActive=!1,this.showFileuploadeError=!1,this.showFileSizeError=!1,this.test=".zip",this.fileName="Choose file...",this.chooseFileStatus=!1,this.err=!0,this.resetActiveStatus=!0,this.mapDataType="geojson",this.geomList=[],this.postData={},this.startDrawingButtonEnabled=!0,this.polygonComplete=!1,this.redoBuffer=[]}return t.prototype.ngOnInit=function(){this.wfstOptions=this.gisDataService.getWFSTOptions("kaleshwaram","tamilnadu_mitank_polygon_layer"),this.wfst=new S.wfst(this.wfstOptions),this.handleEvents(),this.createForm(),this.addOption="draw",this.hideVectorLayers(),this.mitanksEditingSrv.updateOpenDT(!1)},t.prototype.onAddTypeChange=function(){this.uploadForm.reset()},t.prototype.handleEvents=function(){var t=this;t.map.on("editable:created",function(n){console.log("created"),t.wfst.addLayer(n.layer)}),t.map.on("editable:drawing:commit",function(n){console.log("commit"),t.saveButtonEnabled=!0,t.addedLayer=n.layer,t.wfst.editLayer(n.layer)}),t.map.on("editable:editing",function(n){console.log("editing"),n.layer.feature.properties={},t.addedLayer=n.layer,t.wfst.editLayer(n.layer),t.mitanksEditingSrv.updateGeometry(t.wfst,n.layer)}),t.map.on("editable:drawing:end",function(){console.log("end"),t.redoBuffer=[],t.mitanksEditingSrv.updateGeometry(t.wfst,t.addedLayer),t.mitanksEditingSrv.updateOpenDT(!0),t.polygonComplete=!0})},t.prototype.addMitank=function(){this.map.editTools.startPolygon(),this.startDrawingButtonEnabled=!1},t.prototype.cancel=function(){this.map.editTools.stopDrawing(),Object(M.isNullOrUndefined)(this.addedLayer)||this.wfst.removeLayer(this.addedLayer),this.map.hasLayer(this.addedLayer)&&this.map.removeLayer(this.addedLayer),this.wfst=new S.wfst(this.wfstOptions),this.saveButtonEnabled=!1,this.startDrawingButtonEnabled=!0,this.resetFileUpload(),this.mitanksEditingSrv.updateOpenDT(!1)},t.prototype.handleKeyboardEvent1=function(t){90==t.keyCode&&(t.shiftKey?this.redo():this.undo())},t.prototype.redo=function(){this.map.editTools._drawingEditor&&this.redoBuffer.length&&this.map.editTools._drawingEditor.push(this.redoBuffer.pop())},t.prototype.undo=function(){this.map.editTools._drawingEditor&&(this.latlng=this.map.editTools._drawingEditor.pop(),this.latlng&&this.redoBuffer.push(this.latlng))},t.prototype.createForm=function(){this.uploadForm=this.formBuilder.group({shapefile:[null,Ft.z.required]})},t.prototype.getCentroid=function(t){for(var n=0,e=0,l=0,a=(t=t[0]).length,i=function(n){return t[n%a][0]},r=function(n){return t[n%a][1]},o=0;o<t.length;o++){var s=i(o)*r(o+1)-i(o+1)*r(o);n+=s,e+=(i(o)+i(o+1))*s,l+=(r(o)+r(o+1))*s}var u=3*n;return[e/u,l/u]},t.prototype.getArea2=function(){for(var t=this.addedLayer.toGeoJSON().geometry.coordinates[0],n=0,e=0,l=t.length-1;e<l;e++)n+=-t[e][0]*t[e+1][1]+t[e+1][0]*t[e][1];return console.log(n/2),n/2},t.prototype.getArea=function(t){var n=0;if(t.length>2){for(var e=void 0,l=void 0,a=void 0,i=0;i<t.length;i++){i===t.length-2?(e=t.length-2,l=t.length-1,a=0):i===t.length-1?(e=t.length-1,l=0,a=1):(e=i,l=i+1,a=i+2);var r=t[e][0],o=t[l][1];n+=(this.toRad(t[a][0])-this.toRad(r))*Math.sin(this.toRad(o))}n=6378137*n*6378137/2}return n},t.prototype.toRad=function(t){return t*Math.PI/100},t.prototype.onFileChange=function(t){if(this.resetActiveStatus=!1,this.showFileuploadeError=!1,void 0!==t.target.files[0]){this.fileName=t.target.files[0].name;var n=new FileReader;if(t.target.files&&t.target.files.length){var e=t.target.files[0];if("application/zip"!==e.type&&"application/octet-stream"!==e.type&&"application/x-zip-compressed"!==e.type&&"multipart/x-zip"!==e.type)return this.showFileuploadeError=!0,void this.resetFileUpload();if(this.showFileSizeError=this.fileSizeValidation(t.target),this.showFileSizeError)return void this.resetFileUpload();"application/zip"!==e.type&&"application/octet-stream"!==e.type&&"application/x-zip-compressed"!==e.type&&"multipart/x-zip"!==e.type||(n.readAsArrayBuffer(e),this.callShp(n))}}},t.prototype.fileSizeValidation=function(t){for(var n=0;n<=t.files.length-1;n++){var e=t.files.item(n).size;if(Math.round(e/1024)>=2048)return!0}return!1},t.prototype.callShp=function(t){var n=this;t.onload=function(){2!==t.readyState||t.error||Ui(t.result).then(function(t){n.geojson=t,n.err=!1,n.geojson.features.length>1&&(n.fileDataLengthError=!0,n.err=!0),n.fileDataError=!1,n.fileUpload()},function(t){n.err=!0,n.fileDataError=!0,console.log("Error while parsing file:: ",t)})}},t.prototype.fileUpload=function(){this.addedLayer=S.geoJson(this.geojson);var t=this;this.geojson.features.forEach(function(n){var e=t.reverseCoordinates(n.geometry.coordinates);t.polygon=S.polygon(e,{weight:3,fillOpacity:.7,color:"blue",dashArray:"3"})}),this.addedLayer=this.polygon,this.map.addLayer(this.addedLayer),this.map.fitBounds(this.addedLayer.getBounds()),this.polygon.feature={properties:{}},this.wfst.addLayer(this.polygon),this.saveButtonEnabled=!0,t.mitanksEditingSrv.updateGeometry(this.wfst,this.addedLayer),t.mitanksEditingSrv.updateOpenDT(!0)},t.prototype.resetFileUpload=function(){this.uploadForm.reset({shapefile:null}),this.chooseFileStatus=!1,this.err=!0,this.resetActiveStatus=!0,this.fileDataError=!1,this.fileDataLengthError=!1,this.fileName="Choose file..."},t.prototype.extractDatafromJSON=function(){for(var t=0,n=this.extractedData.features;t<n.length;t++)this.geomList.push(JSON.stringify(n[t].geometry))},t.prototype.reverseCoordinates=function(t){for(var n=[],e=0,l=t=t[0];e<l.length;e++){var a=l[e];n.push([a[1],a[0]])}return[n]},t.prototype.ngOnDestroy=function(){console.log("here ngondestry"),this.map.editTools.stopDrawing(),Object(M.isNullOrUndefined)(this.addedLayer)||this.wfst.removeLayer(this.addedLayer),this.map.hasLayer(this.addedLayer)&&this.map.removeLayer(this.addedLayer),this.mitanksEditingSrv.setCurrentWfst(null),this.mitanksEditingSrv.setCurrentDrawnLayer(null),this.mitanksEditingSrv.updateGeometry(null,null),this.showVectorLayersAgain()},t.prototype.hideVectorLayers=function(){for(var t in this.layersList.overlaylayers)if(Object.prototype.hasOwnProperty.call(this.layersList.overlaylayers,t)){var n=this.layersList.overlaylayers[t];n&&n.options&&n.options.visible&&"VECTOR"==n.options.type&&this.map.hasLayer(n)&&this.map.removeLayer(n)}},t.prototype.showVectorLayersAgain=function(){for(var t in this.layersList.overlaylayers)if(Object.prototype.hasOwnProperty.call(this.layersList.overlaylayers,t)){var n=this.layersList.overlaylayers[t];n&&n.options&&n.options.visible&&"VECTOR"==n.options.type&&(this.map.hasLayer(n)||this.map.addLayer(n))}},t}(),Vi=c.zb({encapsulation:0,styles:[[""]],data:{}});function ji(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"button",[["class","btn btn-warning"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.addMitank()&&l),l},null,null)),(t()(),c.Sb(-1,null,["Click to Start Drawing"]))],null,function(t,n){t(n,1,0,!n.component.startDrawingButtonEnabled)})}function Gi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Please upload Required Shapefile."]))],null,null)}function Yi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Please upload a file with supported file format."]))],null,null)}function Wi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Please upload a file of size less than 2 MB."]))],null,null)}function zi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(1,null,["Please upload a file with valid data, in "," file format"]))],null,function(t,n){t(n,1,0,n.component.test)})}function Hi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(1,null,["Please upload a file with valid data, in "," file format"]))],null,function(t,n){t(n,1,0,n.component.test)})}function qi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(t()(),c.Sb(1,null,["Please upload a file having only 1 feature in "," file format"]))],null,function(t,n){t(n,1,0,n.component.test)})}function Ki(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,31,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0,a=t.component;return"submit"===n&&(l=!1!==c.Lb(t,3).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,3).onReset()&&l),"ngSubmit"===n&&(l=!1!==a.fileUpload()&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.D,[],null,null),c.Ab(3,540672,null,0,Ft.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),c.Pb(2048,null,Ft.c,null,[Ft.k]),c.Ab(5,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(6,0,null,null,13,"div",[["class","form-group m-0"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Select Shapefile to upload"])),(t()(),c.Bb(9,0,null,null,10,"div",[["class","custom-file col-12 form-group"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,7,"input",[["accept",".zip"],["class","custom-file-input"],["formControlName","shapefile"],["id","validatedCustomFile"],["required",""],["type","file"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,11)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,11).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,11)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,11)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==a.onFileChange(e)&&l),l},null,null)),c.Ab(11,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(12,16384,null,0,Ft.x,[],{required:[0,"required"]},null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ft.x]),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(15,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(17,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(18,0,null,null,1,"label",[["class","custom-file-label"],["for","validatedCustomFile"],["style","color: black"]],null,null,null,null,null)),(t()(),c.Sb(19,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Gi)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Yi)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Wi)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,zi)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Hi)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,qi)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,3,0,e.uploadForm),t(n,12,0,""),t(n,15,0,"shapefile"),t(n,21,0,e.uploadForm.controls.shapefile.hasError("required")&&e.uploadForm.controls.shapefile.touched&&e.uploadForm.pristine),t(n,23,0,e.showFileuploadeError),t(n,25,0,e.showFileSizeError),t(n,27,0,e.fileDataError),t(n,29,0,e.fileDataError),t(n,31,0,e.fileDataLengthError)},function(t,n){var e=n.component;t(n,1,0,c.Lb(n,5).ngClassUntouched,c.Lb(n,5).ngClassTouched,c.Lb(n,5).ngClassPristine,c.Lb(n,5).ngClassDirty,c.Lb(n,5).ngClassValid,c.Lb(n,5).ngClassInvalid,c.Lb(n,5).ngClassPending),t(n,10,0,c.Lb(n,12).required?"":null,c.Lb(n,17).ngClassUntouched,c.Lb(n,17).ngClassTouched,c.Lb(n,17).ngClassPristine,c.Lb(n,17).ngClassDirty,c.Lb(n,17).ngClassValid,c.Lb(n,17).ngClassInvalid,c.Lb(n,17).ngClassPending),t(n,19,0,e.fileName)})}function Xi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,45,"div",[["class","card-body p-0"],["style","display: block"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,25,"div",[["class",""]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Add MiTank By"])),(t()(),c.Bb(4,0,null,null,22,"div",[["class","d-flex flex-row bd-highlight mb-3"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,10,"div",[["class","form-check p-0"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,6,"input",[["class","custom-input"],["name","option"],["type","radio"],["value","draw"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,7)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,7).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,7)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,7)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,8).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,8).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.addOption=e)&&l),"change"===n&&(l=!1!==a.onAddTypeChange()&&l),l},null,null)),c.Ab(7,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(8,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(10,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(12,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.Bb(14,0,null,null,1,"label",[["class","form-check-label"],["for","flexCheckDefault"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Draw Boundary "])),(t()(),c.Bb(16,0,null,null,10,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,6,"input",[["class","custom-input"],["name","option"],["type","radio"],["value","upload"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,18)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,18)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,18)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,19).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,19).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.addOption=e)&&l),"change"===n&&(l=!1!==a.onAddTypeChange()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(19,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(21,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(23,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.Bb(25,0,null,null,1,"label",[["class","form-check-label"],["for","flexCheckDefault"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Upload Shapefile "])),(t()(),c.sb(16777216,null,null,1,null,ji)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ki)),c.Ab(30,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(31,0,null,null,14,"div",[["class","modal-footer ml-auto mt-3 pb-0 pl-0 pr-0 pt-2"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,1,"button",[["class","btn flex-fill btn-secondary text-uppercase"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.undo()&&l),l},null,null)),(t()(),c.Bb(33,0,null,null,0,"i",[["class","fas fa-undo-alt"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["\xa0 "])),(t()(),c.Bb(35,0,null,null,1,"button",[["class","btn flex-fill btn-secondary text-uppercase"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.redo()&&l),l},null,null)),(t()(),c.Bb(36,0,null,null,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["\xa0 "])),(t()(),c.Bb(38,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.resetFileUpload()&&l),l},null,null)),(t()(),c.Sb(-1,null,["Reset"])),(t()(),c.Sb(-1,null,["\xa0 "])),(t()(),c.Bb(41,0,null,null,1,"button",[["class","btn btn-warning"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),c.Sb(-1,null,["Upload"])),(t()(),c.Sb(-1,null,["\xa0 "])),(t()(),c.Bb(44,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.cancel()&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Cancel"]))],function(t,n){var e=n.component;t(n,8,0,"option","draw"),t(n,10,0,"option","draw"==e.addOption,e.addOption),t(n,19,0,"option","upload"),t(n,21,0,"option","upload"==e.addOption,e.addOption),t(n,28,0,"draw"===e.addOption),t(n,30,0,"upload"===e.addOption)},function(t,n){var e=n.component;t(n,6,0,c.Lb(n,12).ngClassUntouched,c.Lb(n,12).ngClassTouched,c.Lb(n,12).ngClassPristine,c.Lb(n,12).ngClassDirty,c.Lb(n,12).ngClassValid,c.Lb(n,12).ngClassInvalid,c.Lb(n,12).ngClassPending),t(n,17,0,c.Lb(n,23).ngClassUntouched,c.Lb(n,23).ngClassTouched,c.Lb(n,23).ngClassPristine,c.Lb(n,23).ngClassDirty,c.Lb(n,23).ngClassValid,c.Lb(n,23).ngClassInvalid,c.Lb(n,23).ngClassPending),t(n,32,0,e.startDrawingButtonEnabled),t(n,35,0,e.startDrawingButtonEnabled),t(n,38,0,e.resetActiveStatus),t(n,41,0,e.err)})}var Ji=function(){function t(t,n){this.mitanksEditingSrv=t,this.gisUtils=n,this.startIndex=0,this.state="stop",this.timeArray=_.c.SIXHOURBLOCKS,this.bottomBarOpen=!1,this.menus=[{title:"Base Layers",icon:"tnw-dma-applications"},{title:"Layers",icon:"tnw-layers"},{title:"Measure",icon:"tnw-measure"},{title:"Draw Tool",icon:"tnw-art"}],this.mitanksToolObj={title:"Mitanks Tool",icon:"tnw-free-hand"}}return t.prototype.ngOnInit=function(){this.subscribeEvents()},t.prototype.changeComponents=function(t,n){this.mapObj.dragging.enable(),this.currentComponent==t?(this.currentComponent=null,this.bottomBarOpen=!this.bottomBarOpen):(this.currentComponent=t,this.bottomBarOpen=!1),Object(M.isNullOrUndefined)(this.visibleShape)||this.clearDrawToolShapes(),"Measure"===this.currentComponent&&n&&(!0===n&&this.measurementControl&&this.measurementControl.stopMeasuring(),this.measureArea=null,this.measureDistance=null,this.measureType=null),"Draw Tool"===this.currentComponent&&(Object(M.isNullOrUndefined)(this.visibleShape)||this.clearDrawToolShapes())},t.prototype.revalidateMap=function(){this.mapObj&&(this.mapObj.invalidateSize(),this.mapObj.fire("zoomend"))},t.prototype.clearDrawToolShapes=function(){for(var t=0,n=this.visibleShape;t<n.length;t++){var e=n[t];e&&(e.shape.remove(),e.text&&e.text.remove())}},t.prototype.removeControl=function(t){this.measurementControl=t.measureControl,this.measureType=t.measureType,this.measureArea=t.measureArea,this.measureDistance=t.measureDistance},t.prototype.removeShapes=function(t){this.visibleShape=t.visibleShapes},t.prototype.subscribeEvents=function(){var t=this;this.gisUtils.getSelectedParams().subscribe(function(n){t.urlParams=n;var e=t.menus.some(function(t){return"Mitanks Tool"===t.title});if("WATER_SPREAD"==t.urlParams.component||"MITANK"==t.urlParams.component&&t.checkIfParentLevelOfMitanks())e||t.menus.push(t.mitanksToolObj);else if(e){var l=t.menus.indexOf(t.mitanksToolObj);-1!==l&&t.menus.splice(l,1)}}),this.mitanksToolCloseSubscription=this.mitanksEditingSrv.closeToolObject.subscribe(function(n){n&&t.currentComponent&&t.changeComponents("Mitanks Tool")})},t.prototype.checkIfParentLevelOfMitanks=function(){var t=this.urlParams.locationTypeList.indexOf("MITANK");return-1!=t&&(this.urlParams.locationTypeList[t-1]==this.urlParams.pType||this.urlParams.locationTypeList[t]==this.urlParams.pType)},t}(),$i=c.zb({encapsulation:0,styles:[[".bottombar-menus[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem}.bottombar-menus[_ngcontent-%COMP%]   .bootmbar-menu-list[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;flex:0 0 auto;margin:0;padding:0;list-style:none;border-radius:.5rem;box-shadow:0 .5rem 1.25rem rgba(101,137,149,.125);background:#fff}.bottombar-menus[_ngcontent-%COMP%]   .bootmbar-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1rem;padding:.5rem;display:flex;width:2.5rem;height:2.5rem;align-items:center;justify-content:center;cursor:pointer;color:#ffcd39;text-decoration:none}.bottombar-menus[_ngcontent-%COMP%]   .bootmbar-menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:hover){color:#6c757d}.bottombar-menus[_ngcontent-%COMP%]   .bootmbar-menu-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#ffcd39;border-radius:.5rem;color:#343a40}"]],data:{}});function Qi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","bottom-menu-options"],["ngDraggable",""]],null,[[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"touchstart"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"dragEnd"===n&&(l=!1!==a.revalidateMap()&&l),l},null,null)),c.Ab(1,4931584,null,0,oa.a,[c.n,c.N],{handle:[0,"handle"],ngDraggable:[1,"ngDraggable"]},null),(t()(),c.Bb(2,0,[["DragHeader",1]],null,8,"div",[["class","card card-bottom-popover"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-header d-flex bg-transparent border-0"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Base Layers")&&l),l},null,null)),(t()(),c.Sb(-1,null,[" BaseMap Gallery "])),(t()(),c.Bb(6,0,null,null,1,"a",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Base Layers")&&l),l},null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(8,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"app-baselayers",[],null,null,null,ca,sa)),c.Ab(10,114688,null,0,L.a,[P.a],{mapObj:[0,"mapObj"],layersList:[1,"layersList"]},null)],function(t,n){var e=n.component;t(n,1,0,c.Lb(n,2),""),t(n,10,0,e.mapObj,e.layersList)},null)}function Zi(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","bottom-menu-options"],["ngDraggable",""]],null,[[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"touchstart"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"dragEnd"===n&&(l=!1!==a.revalidateMap()&&l),l},null,null)),c.Ab(1,4931584,null,0,oa.a,[c.n,c.N],{handle:[0,"handle"],ngDraggable:[1,"ngDraggable"]},null),(t()(),c.Bb(2,0,[["DragHeader",1]],null,8,"div",[["class","card card-bottom-popover"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-header d-flex bg-transparent border-0"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Layers")&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Layers "])),(t()(),c.Bb(6,0,null,null,1,"a",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Layers")&&l),l},null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(8,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"app-layercontrol",[],null,null,null,ui,da)),c.Ab(10,114688,null,0,ha,[O.a,T.a,Bt,P.a],{mapObj:[0,"mapObj"],layersList:[1,"layersList"],activeLayers:[2,"activeLayers"],gisMapComp:[3,"gisMapComp"]},null)],function(t,n){var e=n.component;t(n,1,0,c.Lb(n,2),""),t(n,10,0,e.mapObj,e.layersList,e.activeLayers,e.gisMapComp)},null)}function tr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","bottom-menu-options"],["ngDraggable",""]],null,[[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"touchstart"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"dragEnd"===n&&(l=!1!==a.revalidateMap()&&l),l},null,null)),c.Ab(1,4931584,null,0,oa.a,[c.n,c.N],{handle:[0,"handle"],ngDraggable:[1,"ngDraggable"]},null),(t()(),c.Bb(2,0,[["DragHeader",1]],null,8,"div",[["class","card card-bottom-popover"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-header d-flex bg-transparent border-0"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Measure",!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Measurement "])),(t()(),c.Bb(6,0,null,null,1,"a",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Measure",!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(8,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"app-measurement",[],null,[[null,"measureCtrl"]],function(t,n,e){var l=!0;return"measureCtrl"===n&&(l=!1!==t.component.removeControl(e)&&l),l},Si,di)),c.Ab(10,245760,null,0,hi,[O.a],{measureType:[0,"measureType"],measureDistance:[1,"measureDistance"],measureArea:[2,"measureArea"],mapComponent:[3,"mapComponent"],layersList:[4,"layersList"]},{measureCtrl:"measureCtrl"})],function(t,n){var e=n.component;t(n,1,0,c.Lb(n,2),""),t(n,10,0,e.measureType,e.measureDistance,e.measureArea,e.mapObj,e.layersList)},null)}function nr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","bottom-menu-options"],["ngDraggable",""]],null,[[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"touchstart"===n&&(l=!1!==c.Lb(t,1).onMouseDown(e)&&l),"dragEnd"===n&&(l=!1!==a.revalidateMap()&&l),l},null,null)),c.Ab(1,4931584,null,0,oa.a,[c.n,c.N],{handle:[0,"handle"],ngDraggable:[1,"ngDraggable"]},null),(t()(),c.Bb(2,0,[["DragHeader",1]],null,8,"div",[["class","card card-bottom-popover"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-header d-flex bg-transparent border-0"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Draw Tool")&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Draw Tool "])),(t()(),c.Bb(6,0,null,null,1,"a",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Draw Tool")&&l),l},null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(8,0,null,null,2,"div",[["class","card-body draw-tool"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"app-drawtool",[],null,[[null,"drawToolClearShape"]],function(t,n,e){var l=!0;return"drawToolClearShape"===n&&(l=!1!==t.component.removeShapes(e)&&l),l},Bi,Di)),c.Ab(10,245760,null,0,Ti,[$l.j,_i,O.a],{mapComponent:[0,"mapComponent"],layersList:[1,"layersList"]},{drawToolClearShape:"drawToolClearShape"})],function(t,n){var e=n.component;t(n,1,0,c.Lb(n,2),""),t(n,10,0,e.mapObj,e.layersList)},null)}function er(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","bottom-menu-options"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-bottom-popover"],["ngDraggable",""],["style","cursor:grab;"]],null,[[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var l=!0,a=t.component;return"mousedown"===n&&(l=!1!==c.Lb(t,2).onMouseDown(e)&&l),"touchstart"===n&&(l=!1!==c.Lb(t,2).onMouseDown(e)&&l),"dragEnd"===n&&(l=!1!==a.revalidateMap()&&l),l},null,null)),c.Ab(2,4931584,null,0,oa.a,[c.n,c.N],{handle:[0,"handle"],ngDraggable:[1,"ngDraggable"]},null),(t()(),c.Bb(3,0,[["DragHeader",1]],null,4,"div",[["class","card-header d-flex bg-transparent border-0"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Mitanks Tool")&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Mitanks Tool "])),(t()(),c.Bb(6,0,null,null,1,"a",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents("Mitanks Tool")&&l),l},null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(8,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"app-mitanks-tool",[],null,[["document","keydown"]],function(t,n,e){var l=!0;return"document:keydown"===n&&(l=!1!==c.Lb(t,10).handleKeyboardEvent1(e)&&l),l},Xi,Vi)),c.Ab(10,245760,null,0,Ri,[P.a,Ft.f,x.a,$l.j,w.a],{map:[0,"map"],layersList:[1,"layersList"]},null)],function(t,n){var e=n.component;t(n,2,0,c.Lb(n,3),""),t(n,10,0,e.mapObj,e.layersList)},null)}function lr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"a",[["style",""]],[[8,"title",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.changeComponents(t.context.$implicit.title)&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,n){t(n,1,0,c.Db(1,"",n.context.$implicit.title,"")),t(n,2,0,c.Db(1,"icon ",n.context.$implicit.icon,""))})}function ar(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,12,"div",[["class","bottom-bar-container"]],[[8,"hidden",0]],null,null,null,null)),(t()(),c.Bb(1,0,null,null,11,null,null,null,null,null,null,null)),c.Ab(2,16384,null,0,m.u,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),c.sb(16777216,null,null,1,null,Qi)),c.Ab(4,278528,null,0,m.v,[c.Y,c.V,m.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),c.sb(16777216,null,null,1,null,Zi)),c.Ab(6,278528,null,0,m.v,[c.Y,c.V,m.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),c.sb(16777216,null,null,1,null,tr)),c.Ab(8,278528,null,0,m.v,[c.Y,c.V,m.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),c.sb(16777216,null,null,1,null,nr)),c.Ab(10,278528,null,0,m.v,[c.Y,c.V,m.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),c.sb(16777216,null,null,1,null,er)),c.Ab(12,278528,null,0,m.v,[c.Y,c.V,m.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),c.Bb(13,0,null,null,3,"div",[["class","bottombar-menus"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,2,"ul",[["class","bootmbar-menu-list"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,lr)),c.Ab(16,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.currentComponent),t(n,4,0,"Base Layers"),t(n,6,0,"Layers"),t(n,8,0,"Measure"),t(n,10,0,"Draw Tool"),t(n,12,0,"Mitanks Tool"),t(n,16,0,e.menus)},function(t,n){t(n,0,0,n.component.bottomBarOpen)})}var ir=c.zb({encapsulation:0,styles:[[""]],data:{}});function rr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(t,n){var e=n.component;t(n,0,0,e.titleIcon[e.params.component])})}function or(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"div",[["class","page-topbar-information w-100 mb-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"div",[["class","marquee-container"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","marquee-label"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["News Bulletin"])),(t()(),c.Bb(4,0,null,null,2,"div",[["class","marquee-content"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,1,"marquee",[["behavior","scroll"],["direction","left"],["id","newsBulletin"],["onmouseleave","this.start()"],["onmouseover","this.stop()"],["scrollamount","4"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,0,"ul",[["class","d-flex align-items-center"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,n){var e=n.component;t(n,6,0,e.params?e.newsBulletinData[e.params.component]:"")})}function sr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"app-scale-measurement",[],null,null,null,Il,Dl)),c.Ab(2,638976,null,0,Tl,[b.a,k.a,T.a],{urlParams:[0,"urlParams"],metaData:[1,"metaData"]},null)],function(t,n){var e=n.component;t(n,2,0,e.urlParams,e.metaData)},null)}function ur(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-play-progress-bar",[],null,[[null,"groupSelected"]],function(t,n,e){var l=!0;return"groupSelected"===n&&(l=!1!==t.component.changeTimeLayers(e)&&l),l},El.b,El.a)),c.Ab(1,770048,null,0,Nl.a,[b.a,O.a,b.p],{playButtonDisable:[0,"playButtonDisable"],labelStrings:[1,"labelStrings"]},{groupSelected:"groupSelected"})],function(t,n){var e=n.component;t(n,1,0,e.playButtonDisable,e.labelStrings)},null)}function cr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-square"]],null,null,null,null,null))],null,null)}function hr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-minus-square"]],null,null,null,null,null))],null,null)}function dr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"div",[["class","show-hide"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,6,"button",[["class","btn btn-dark"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleShow()&&l),l},null,null)),(t()(),c.sb(16777216,null,null,1,null,cr)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,hr)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,["\xa0"])),(t()(),c.Bb(8,0,null,null,0,"i",[["class","bi bi-play-circle-fill"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,1,0,"show-hide",e.getSidebarClassName()),t(n,4,0,!e.minmaxFlag),t(n,6,0,e.minmaxFlag)},null)}function pr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-play play_anim active"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onPause()&&l),l},null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-pause"]],null,null,null,null,null))],null,function(t,n){var e=n.component;t(n,0,0,e.otherOptions.playbarOptions&&!e.otherOptions.playbarOptions.playButtonEnabled)})}function gr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-play play_anim"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onPlay()&&l),l},null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-play"]],null,null,null,null,null))],null,function(t,n){var e=n.component;t(n,0,0,e.otherOptions.playbarOptions&&!e.otherOptions.playbarOptions.playButtonEnabled)})}function mr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,19,null,null,null,null,null,null,null)),(t()(),c.Bb(1,0,[["range",1]],null,6,"input",[["class","range"],["id","range"],["max","1.0"],["min","0"],["step","any"],["style","display: none;"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.value)&&l),"input"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.otherOptions.playbarOptions.rangeValue=e)&&l),"ngModelChange"===n&&(l=!1!==a.animationValueChange(e)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(3,16384,null,0,Ft.C,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.C]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(8,0,null,null,11,"div",[["class","bottom_paly_bar"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,10,"div",[["class","d-flex justify-content-start"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,9,"div",[["class","play-time-stand mb-4 d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,pr)),c.Ab(12,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,gr)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(15,0,null,null,4,"div",[["class","col d-flex"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,3,"ngx-slider",[["class","ngx-slider"],["style","bottom:20px"]],[[2,"vertical",null],[2,"animate",null],[2,"with-legend",null],[1,"disabled",0]],[[null,"valueChange"],[null,"userChangeStart"],[null,"userChange"],["window","resize"]],function(t,n,e){var l=!0,a=t.component;return"window:resize"===n&&(l=!1!==c.Lb(t,18).onResize(e)&&l),"valueChange"===n&&(l=!1!==(a.otherOptions.playbarOptions.value=e)&&l),"valueChange"===n&&(l=!1!==a.valueChanged(e)&&l),"userChangeStart"===n&&(l=!1!==a.onUserChangeStart(e)&&l),"userChange"===n&&(l=!1!==a.onUserChange(e)&&l),l},Fl.b,Fl.a)),c.Pb(5120,null,Ft.o,function(t){return[t]},[Bl.b]),c.Ab(18,4964352,null,1,Bl.b,[c.N,c.n,c.i,c.F],{value:[0,"value"],options:[1,"options"]},{valueChange:"valueChange",userChangeStart:"userChangeStart",userChange:"userChange"}),c.Qb(335544320,1,{tooltipTemplate:0})],function(t,n){var e=n.component;t(n,5,0,e.otherOptions.playbarOptions.rangeValue),t(n,12,0,e.otherOptions.playbarOptions&&e.otherOptions.playbarOptions.isPlay),t(n,14,0,e.otherOptions.playbarOptions&&!e.otherOptions.playbarOptions.isPlay),t(n,18,0,e.otherOptions.playbarOptions.value,e.otherOptions.playbarOptions.options)},function(t,n){t(n,1,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending),t(n,16,0,c.Lb(n,18).sliderElementVerticalClass,c.Lb(n,18).sliderElementAnimateClass,c.Lb(n,18).sliderElementWithLegendClass,c.Lb(n,18).sliderElementDisabledAttr)})}function br(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-bottombar-landing",[],null,[[null,"closePopUp"]],function(t,n,e){var l=!0;return"closePopUp"===n&&(l=!1!==t.component.closeBottomBar(e)&&l),l},Vl,Rl)),c.Ab(1,114688,null,0,Ul,[],{apiParams:[0,"apiParams"],bottomBarComponent:[1,"bottomBarComponent"]},{closePopUp:"closePopUp"})],function(t,n){var e=n.component;t(n,1,0,e.apiParams,e.bottomBarComponent)},null)}function fr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"as-split-area",[["class","data-area"],["maxSize","800"],["minSize","400"],["size","570"]],null,null,null,null,null)),c.Ab(1,212992,null,0,jl.b,[c.F,c.n,c.N,jl.c],{size:[0,"size"],minSize:[1,"minSize"],maxSize:[2,"maxSize"]},null),(t()(),c.Bb(2,0,null,null,1,"app-infobox",[],null,null,null,ql,Yl)),c.Ab(3,245760,null,0,Gl,[T.a,b.a,b.p],{infoboxComponent:[0,"infoboxComponent"]},null)],function(t,n){var e=n.component;t(n,1,0,"570","400","800"),t(n,3,0,e.tableDataComponent)},null)}function yr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,60,"div",[["class","vh-100 d-flex flex-column bg-light"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"app-tnw-navbar",[],null,[[null,"sidebarstatus"]],function(t,n,e){var l=!0;return"sidebarstatus"===n&&(l=!1!==t.component.getsideBarStatus(e)&&l),l},Kl.b,Kl.a)),c.Ab(2,114688,null,0,Xl.a,[Jl.a,gl.a,$l.j,b.p,T.a,Ql.C,j.c],null,{sidebarstatus:"sidebarstatus"}),(t()(),c.Bb(3,0,null,null,57,"div",[["class","tn-main-container"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,2,"app-side-bar",[["class","app-sidebar"]],null,null,null,Zl.b,Zl.a)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Ab(6,4964352,null,0,ta.a,[Mt.a,at.a,b.p,D.a,b.a,T.a,na.a,T.a,Ql.C,gl.a,Jl.a,$l.j,ea.a,Ql.C,O.a,la.a,F.a,aa.a,ia.a],{sidebarstate:[0,"sidebarstate"],mapobj:[1,"mapobj"],sidebarComponent:[2,"sidebarComponent"]},null),(t()(),c.Bb(7,0,null,null,53,"main",[["class","container-fluid p-0"],["id","MapContainer"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,17,"div",[["class","container-fluid page-header-container-fluid"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,16,"div",[["class","page-header mb-0"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,9,"div",[["class","page-header-start"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,4,"div",[["class","page-title d-flex text-nowrap"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,2,"span",[["class","icon"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,rr)),c.Ab(15,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(16,null,["\xa0\xa0",""])),(t()(),c.Bb(17,0,null,null,1,"button",[["class","btn btn-warning d-lg-none"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleNewSidebarFilterStatus()&&l),l},null,null)),(t()(),c.Bb(18,0,null,null,0,"i",[["class","bi bi-funnel-fill"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,or)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(21,0,null,null,5,"div",[["class","page-header-end"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,4,"div",[["class","btn-group btn-group-warning "]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,1,"button",[["class","btn active "]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["GIS"])),(t()(),c.Bb(25,0,null,null,1,"button",[["class","btn "]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.goToMISView()&&l),l},null,null)),(t()(),c.Sb(-1,null,["MIS"])),(t()(),c.Bb(27,0,null,null,33,"as-split",[["gutterSize","10"],["unit","pixel"]],null,[[null,"dragEnd"]],function(t,n,e){var l=!0;return"dragEnd"===n&&(l=!1!==t.component.revalidateMap()&&l),l},ra.b,ra.a)),c.Ab(28,4374528,[["splitEl",4]],0,jl.c,[c.F,c.n,c.i,c.N],{unit:[0,"unit"],gutterSize:[1,"gutterSize"]},{dragEnd:"dragEnd"}),(t()(),c.Bb(29,0,null,0,29,"as-split-area",[["minSize","500"],["size","200"]],null,null,null,null,null)),c.Ab(30,212992,null,0,jl.b,[c.F,c.n,c.N,jl.c],{size:[0,"size"],minSize:[1,"minSize"]},null),(t()(),c.Bb(31,0,null,null,27,"div",[["class","map-container"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,1,"spinner",[["id","spinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(33,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(34,0,null,null,0,"div",[["class","map-view"],["id","map"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,3,"button",[["class","btn btn-data-toggle"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dataTabToggle()&&l),l},null,null)),c.Ab(36,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(37,{datatabOpen:0}),(t()(),c.Bb(38,0,null,null,0,"i",[["class","bi bi-info-circle-fill"]],null,null,null,null,null)),(t()(),c.Bb(39,0,null,null,3,"pre",[["class","coordinates"]],null,null,null,null,null)),c.Ab(40,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(41,{top_position:0}),(t()(),c.Sb(42,null,["Image Date ","  ","   elev ",""])),(t()(),c.Bb(43,0,null,null,0,"link",[["href","https://d19vzq90twjlae.cloudfront.net/leaflet-0.7/leaflet.css"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),c.Bb(44,0,null,null,14,"div",[["class","map-with-detailstable"]],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,4,"div",[["class","d-block"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,sr)),c.Ab(47,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(48,0,null,null,1,"app-bottombar-menu",[],null,null,null,ar,$i)),c.Ab(49,114688,null,0,Ji,[w.a,O.a],{mapObj:[0,"mapObj"],layersList:[1,"layersList"],activeLayers:[2,"activeLayers"],gisMapComp:[3,"gisMapComp"]},null),(t()(),c.sb(16777216,null,null,1,null,ur)),c.Ab(51,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(52,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,dr)),c.Ab(54,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,mr)),c.Ab(56,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,br)),c.Ab(58,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,0,1,null,fr)),c.Ab(60,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0),t(n,5,0,"app-sidebar",e.playbarflag?"play-time-shrink":""),t(n,6,0,e.sidebarstatus,e.mapobj,e.sidebarComponent),t(n,8,0,"container-fluid p-0",e.getSidebarClassName()),t(n,15,0,e.params&&e.params.component),t(n,20,0,e.params&&e.params.component!=e.newsBulletinHide[e.params.component]),t(n,28,0,"pixel","10"),t(n,30,0,"200","500"),t(n,33,0,"spinner",e.spinner);var l=t(n,37,0,e.dataTabToggleVal);t(n,36,0,"btn btn-data-toggle",l);var a=t(n,41,0,e.otherOptions.playbarOptions&&e.otherOptions.playbarOptions.showPlayBar&&e.mapZoom>=e.playbarZoomLevel);t(n,40,0,"coordinates",a),t(n,47,0,e.params&&"INFLOWFORECAST"==e.params.component&&e.params.clickPoint),t(n,49,0,e.map,e.layers,e.activeLayers,e),t(n,51,0,e.hidePlayBar&&e.labelStrings.length>0),t(n,54,0,e.otherOptions.playbarOptions&&e.otherOptions.playbarOptions.showPlayBar&&e.mapZoom>=e.playbarZoomLevel),t(n,56,0,e.otherOptions.playbarOptions&&e.otherOptions.playbarOptions.showPlayBar&&e.mapZoom>=e.playbarZoomLevel&&e.minmaxFlag),t(n,58,0,e.showBottomBar),t(n,60,0,e.dataTabToggleVal)},function(t,n){var e=n.component;t(n,16,0,e.params?"POPULATION"==e.params.component?"DOMESTIC DEMAND":e.titleHeading[e.params.component]:""),t(n,42,0,e.date,e.coordinates,e.elevation)})}var vr=c.zb({encapsulation:0,styles:[[""]],data:{}});function Cr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","cropdemandHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"cropdemandHeatMapSpinner",e.cropdemandHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Sr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-cropdemand-map",[],null,null,null,Cr,vr)),c.Ab(1,245760,null,0,lt,[b.a,f.a],null,null)],function(t,n){t(n,1,0)},null)}var Mr=c.xb("app-cropdemand-map",lt,Sr,{},{},[]),_r=c.zb({encapsulation:0,styles:[[""]],data:{}});function Lr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Or(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function Ar(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,36,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,25,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,24,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,14).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,14).onReset()&&l),l},null,null)),c.Ab(13,16384,null,0,Ft.D,[],null,null),c.Ab(14,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(16,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(17,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Year"])),(t()(),c.Bb(20,0,null,null,11,"select",[["class","form-control form-control-sm"],["name","YEAR"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,21).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,21).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.year=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(21,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(23,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(25,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(26,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(27,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(28,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Year "])),(t()(),c.sb(16777216,null,null,1,null,Lr)),c.Ab(31,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Or)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(34,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,23,0,"YEAR",e.selectedFilterParams.year),t(n,27,0,""),t(n,28,0,""),t(n,31,0,e.yearList),t(n,33,0,!e.validation[0])},function(t,n){t(n,12,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending),t(n,20,0,c.Lb(n,25).ngClassUntouched,c.Lb(n,25).ngClassTouched,c.Lb(n,25).ngClassPristine,c.Lb(n,25).ngClassDirty,c.Lb(n,25).ngClassValid,c.Lb(n,25).ngClassInvalid,c.Lb(n,25).ngClassPending)})}function Tr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-cropdemand-sidebar",[],null,null,null,Ar,_r)),c.Ab(1,245760,null,0,et,[T.a,O.a,y.a],null,null)],function(t,n){t(n,1,0)},null)}var Dr=c.xb("app-cropdemand-sidebar",et,Tr,{},{},[]),Pr=e("bICO"),xr=e("JUyF"),wr=e("AxlJ"),kr=e.n(wr),Ir=e("M8aS"),Er=e.n(Ir),Nr=e("/fEY"),Fr=e.n(Nr),Br=e("/d2E"),Ur=e.n(Br);Er()(Vn),Fr()(Vn),Ur()(Vn),kr()(Vn);var Rr=function(){function t(){this.update=!1,this.highcharts=Vn}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.update=!0},t.prototype.chartCallback=function(){},t}(),Vr=c.zb({encapsulation:0,styles:[['#gradient-0[_ngcontent-%COMP%]   stop[_ngcontent-%COMP%]{stop-color:#7cb5ec}#gradient-0[_ngcontent-%COMP%]   stop[offset="0"][_ngcontent-%COMP%]{stop-opacity:.75}#gradient-0[_ngcontent-%COMP%]   stop[offset="1"][_ngcontent-%COMP%], #gradient-1[_ngcontent-%COMP%]   stop[offset="0"][_ngcontent-%COMP%]{stop-opacity:0}#gradient-1[_ngcontent-%COMP%]   stop[_ngcontent-%COMP%]{stop-color:#ccc}#gradient-1[_ngcontent-%COMP%]   stop[offset="1"][_ngcontent-%COMP%]{stop-opacity:.25}.highcharts-plot-background[_ngcontent-%COMP%]{fill:url(#gradient-1)}.highcharts-color-0[_ngcontent-%COMP%]   .highcharts-area[_ngcontent-%COMP%]{fill-opacity:1;fill:url(#gradient-0)}']],data:{}});function jr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"highcharts-chart",[["class","border border-secondary rounded"],["style","width: 100%; height: 100%; display: block;"]],null,[[null,"updateChange"]],function(t,n,e){var l=!0;return"updateChange"===n&&(l=!1!==(t.component.update=e)&&l),l},Pr.b,Pr.a)),c.Ab(1,704512,null,0,xr.a,[c.n,c.F],{Highcharts:[0,"Highcharts"],callbackFunction:[1,"callbackFunction"],options:[2,"options"],update:[3,"update"]},{updateChange:"updateChange"})],function(t,n){var e=n.component;t(n,1,0,e.highcharts,e.chartCallback,e.options,e.update)},null)}var Gr=e("8obz"),Yr=e("BoV7"),Wr=e("S2ZS"),zr=e("Kohv"),Hr=e("4/pu"),qr=c.zb({encapsulation:0,styles:[["#cropDemand[_ngcontent-%COMP%]{height:300px}"]],data:{}});function Kr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function Xr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Virippu"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Kr)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.micro)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.micro?e.kpi.micro:"- ")})}function Jr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function $r(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Mundakan"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Jr)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.medium)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.medium?e.kpi.medium:"- ")})}function Qr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function Zr(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Puncha"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Qr)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.large)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.large?e.kpi.large:"- ")})}function to(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stackchart",[],null,null,null,jr,Vr)),c.Ab(1,638976,[[1,4]],0,Rr,[],{options:[0,"options"]},null)],function(t,n){t(n,1,0,n.component.chart.chartOptions)},null)}function no(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["id","cropDemand"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"spinner",[["id","CropDemandChartForGISComponentColumnChart"]],null,null,null,Ll.b,Ll.a)),c.Ab(2,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,to)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"CropDemandChartForGISComponentColumnChart",e.throbbarForChart),t(n,4,0,e.chart.visibility.renderChart)},null)}function eo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.tableRowClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(2,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,2,0,e.tableConfiguration,e.filteredTableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function lo(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(671088640,1,{_charts:1}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,24,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"div",[["class","alert alert-warning mb-3 mt-2"]],null,null,null,null,null)),(t()(),c.Sb(13,null,[" "," "])),(t()(),c.Bb(14,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(15,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(16,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,7,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Xr)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,$r)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Zr)),c.Ab(24,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(25,0,null,null,3,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,2,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,no)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(29,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,5,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,4,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,1,"spinner",[["id","tableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(33,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,eo)),c.Ab(35,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,15,0,e.inputForBreadcrumb),t(n,20,0,!e.isStation),t(n,22,0,!e.isStation),t(n,24,0,!e.isStation),t(n,28,0,e.chart.visibility.showChart),t(n,33,0,"tableSpinner",e.tableSpinner),t(n,35,0,null!=e.filteredTableData&&e.filteredTableData.length>0)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="CROP_DEMAND"==e.selectedParams.pType?"Crop Demand":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,13,0,e.title?e.title:"Crop Demand Information")})}function ao(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-cropdemand-infobox",[],null,null,null,lo,qr)),c.Ab(1,245760,null,0,Q,[O.a,X,y.a,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var io=c.xb("app-cropdemand-infobox",Q,ao,{},{},[]),ro=c.zb({encapsulation:0,styles:[[""]],data:{}});function oo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(1,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function so(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-rainfall-map-actual",[],null,null,null,oo,ro)),c.Ab(1,114688,null,0,Ct,[b.a,vt.a],null,null)],function(t,n){t(n,1,0)},null)}var uo=c.xb("app-rainfall-map-actual",Ct,so,{},{},[]),co=e("+qWQ"),ho=e("+QB4"),po=e("Xkpr"),go=c.zb({encapsulation:0,styles:[[""]],data:{}});function mo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function bo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function fo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function yo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function vo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Co(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type is not selected"]))],null,null)}function So(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,135,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,14,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,12,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,5,"input",[["class","custom-control-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,5).onChange(e.target.checked)&&l),"blur"===n&&(l=!1!==c.Lb(t,5).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.currentView=e)&&l),"change"===n&&(l=!1!==a.onViewChange()&&l),l},null,null)),c.Ab(5,16384,null,0,Ft.b,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.b]),c.Ab(7,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(9,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(10,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(13,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(16,0,null,null,119,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,8,"nav",[["class","nav nav-pills nav-pills-warning nav-fill mb-4"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,2,"a",[["class","cursor-pointer"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.setForecastStatus(!1)&&l),l},null,null)),c.Ab(20,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Actual"])),(t()(),c.Bb(22,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,2,"a",[["class","cursor-pointer"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.setForecastStatus(!0)&&l),l},null,null)),c.Ab(24,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Forecast"])),(t()(),c.Bb(26,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(29,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(31,0,null,null,7,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,32).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,32).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(32,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(34,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(36,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,mo)),c.Ab(38,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(39,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Heat Map "])),(t()(),c.Bb(42,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(44,0,null,null,7,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,45).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,45).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.heatMap=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHeatMapchange()&&l),l},null,null)),c.Ab(45,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(47,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(49,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,bo)),c.Ab(51,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(52,0,null,null,83,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,54).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,54).onReset()&&l),l},null,null)),c.Ab(53,16384,null,0,Ft.D,[],null,null),c.Ab(54,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(56,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(57,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(58,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(60,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(62,0,null,null,9,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,65).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,65).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(63,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(64,{"border-color":0}),c.Ab(65,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(67,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(69,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,fo)),c.Ab(71,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,yo)),c.Ab(73,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(74,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(75,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(77,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(79,0,null,null,12,"select",[["class","form-control"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(80,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(81,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(82,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(84,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(85,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(86,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly "])),(t()(),c.Bb(88,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(89,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(90,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly "])),(t()(),c.Bb(92,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(93,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(95,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(97,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,98).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,103).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(98,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(100,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(102,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(103,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(104,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(105,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(107,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(109,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,110).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,115).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(110,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(112,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(114,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(115,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(116,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(117,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type "])),(t()(),c.Bb(119,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(121,0,null,null,9,"select",[["class","form-control"],["name","Aggregation Type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,124).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,124).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.aggreType=e)&&l),l},null,null)),c.Ab(122,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(123,{"border-color":0}),c.Ab(124,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(126,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(128,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,vo)),c.Ab(130,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Co)),c.Ab(132,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(133,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(134,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,7,0,e.currentView),t(n,20,0,"cursor-pointer","nav-link active text-center"),t(n,24,0,"cursor-pointer",1==e.isForecast&&0==e.isNowCast?"nav-link active":"nav-link"),t(n,34,0,"Source",e.selectedFilterParams.location),t(n,38,0,e.locationList),t(n,47,0,"Source",e.selectedFilterParams.heatMap),t(n,51,0,e.heatMapList);var l=t(n,64,0,e.validation[0]?"":"#e40e0e");t(n,63,0,l),t(n,67,0,"Source",e.selectedFilterParams.source),t(n,71,0,e.sourceList),t(n,73,0,!e.validation[0]),t(n,81,0,c.Db(1,"",e.dateType.DAY,"")),t(n,82,0,c.Db(1,"",e.dateType.DAY,"")),t(n,85,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,86,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,89,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,90,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,98,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,100,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,110,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,112,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value);var a=t(n,123,0,e.validation[4]?"":"#e40e0e");t(n,122,0,a),t(n,126,0,"Aggregation Type",e.selectedFilterParams.aggreType),t(n,130,0,e.aggregationTypeList),t(n,132,0,!e.validation[4])},function(t,n){var e=n.component;t(n,4,0,c.Lb(n,9).ngClassUntouched,c.Lb(n,9).ngClassTouched,c.Lb(n,9).ngClassPristine,c.Lb(n,9).ngClassDirty,c.Lb(n,9).ngClassValid,c.Lb(n,9).ngClassInvalid,c.Lb(n,9).ngClassPending),t(n,31,0,c.Lb(n,36).ngClassUntouched,c.Lb(n,36).ngClassTouched,c.Lb(n,36).ngClassPristine,c.Lb(n,36).ngClassDirty,c.Lb(n,36).ngClassValid,c.Lb(n,36).ngClassInvalid,c.Lb(n,36).ngClassPending),t(n,44,0,c.Lb(n,49).ngClassUntouched,c.Lb(n,49).ngClassTouched,c.Lb(n,49).ngClassPristine,c.Lb(n,49).ngClassDirty,c.Lb(n,49).ngClassValid,c.Lb(n,49).ngClassInvalid,c.Lb(n,49).ngClassPending),t(n,52,0,c.Lb(n,56).ngClassUntouched,c.Lb(n,56).ngClassTouched,c.Lb(n,56).ngClassPristine,c.Lb(n,56).ngClassDirty,c.Lb(n,56).ngClassValid,c.Lb(n,56).ngClassInvalid,c.Lb(n,56).ngClassPending),t(n,62,0,c.Lb(n,69).ngClassUntouched,c.Lb(n,69).ngClassTouched,c.Lb(n,69).ngClassPristine,c.Lb(n,69).ngClassDirty,c.Lb(n,69).ngClassValid,c.Lb(n,69).ngClassInvalid,c.Lb(n,69).ngClassPending),t(n,80,0,e.selectedFilterParams.format==e.dateType.DAY),t(n,84,0,e.selectedFilterParams.format==e.dateType.MONTH),t(n,88,0,e.selectedFilterParams.format==e.dateType.YEAR),t(n,97,0,c.Lb(n,102).ngClassUntouched,c.Lb(n,102).ngClassTouched,c.Lb(n,102).ngClassPristine,c.Lb(n,102).ngClassDirty,c.Lb(n,102).ngClassValid,c.Lb(n,102).ngClassInvalid,c.Lb(n,102).ngClassPending),t(n,109,0,c.Lb(n,114).ngClassUntouched,c.Lb(n,114).ngClassTouched,c.Lb(n,114).ngClassPristine,c.Lb(n,114).ngClassDirty,c.Lb(n,114).ngClassValid,c.Lb(n,114).ngClassInvalid,c.Lb(n,114).ngClassPending),t(n,121,0,c.Lb(n,128).ngClassUntouched,c.Lb(n,128).ngClassTouched,c.Lb(n,128).ngClassPristine,c.Lb(n,128).ngClassDirty,c.Lb(n,128).ngClassValid,c.Lb(n,128).ngClassInvalid,c.Lb(n,128).ngClassPending)})}function Mo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-rainfall-sidebar-actual",[],null,null,null,So,go)),c.Ab(1,245760,null,0,yt,[T.a,O.a,at.a,b.p,D.a],null,null)],function(t,n){t(n,1,0)},null)}var _o=c.xb("app-rainfall-sidebar-actual",yt,Mo,{},{},[]),Lo=e("gMr2"),Oo=e("QpxQ"),Ao=e("6blF"),To=e("vubp"),Do=e("XlPw"),Po=e("XTAh"),xo=function(){return(xo=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},wo=function(){function t(t){this.toastr=t,this.ToastrConstant={closeButton:!0,timeOut:3e3,extendedTimeOut:2e3}}return t.prototype.showToastMessage=function(t,n,e){var l=this.ToastrConstant;Object(M.isNullOrUndefined)(e)||(l=xo({},this.ToastrConstant,e.options)),this.toastr.clear(),this.toastr[n](t,l.title,l)},t.prototype.deepMerge=function(t,n,e){var l={};for(var a in t){var i=typeof t[a];l[a]=Object(M.isNullOrUndefined)(e)||Object(M.isNullOrUndefined)(e.customMerge)||Object(M.isNullOrUndefined)(e.customMerge[a])?Object(M.isNullOrUndefined)(t)||Object(M.isNull)(t[a])||"object"!=i||t[a]instanceof Array?!Object(M.isNullOrUndefined)(t)&&!Object(M.isNullOrUndefined)(t[a])&&t[a]instanceof Array?Object(M.isNullOrUndefined)(e)||Object(M.isNullOrUndefined)(e.array)||"merge"!=e.array?Object(M.isNullOrUndefined)(e)||Object(M.isNullOrUndefined)(e.array)||"override"!=e.array?!Object(M.isNullOrUndefined)(n)&&!Object(M.isNullOrUndefined)(n[a])&&n[a].length>0?t[a].concat(n[a]):t[a]:Object(M.isNullOrUndefined)(n)||Object(M.isNullOrUndefined)(n[a])?t[a]:n[a]:!Object(M.isNullOrUndefined)(n)&&!Object(M.isNullOrUndefined)(n[a])&&n[a].length>0?t[a].concat(n[a]):t[a]:Object(M.isNullOrUndefined)(n)||Object(M.isNullOrUndefined)(n[a])?t[a]:n[a]:Object(M.isNullOrUndefined)(n)||Object(M.isNullOrUndefined)(n[a])?t[a]:this.deepMerge(t[a],n[a],e):"dest"==e.customMerge[a]?Object(M.isNullOrUndefined)(n[a])?null:n[a]:"src"==e.customMerge[a]?Object(M.isNullOrUndefined)(t[a])?null:t[a]:e.customMerge[a](t[a],n[a])}for(var a in n)Object(M.isNullOrUndefined)(l[a])&&(l[a]=n[a]);return l},t.prototype.deepClone=function(t){if(Array.isArray(t))return JSON.parse(JSON.stringify(t));for(var n=t.constructor(),e=0,l=Object.keys(t);e<l.length;e++){var a=l[e],i=t[a];n[a]="object"==typeof i?this.deepClone(i):i}return n},t.prototype.flattenObject=function(t){var n=this;return t.map(function(t,e){return n.flattenOneObject(t)})},t.prototype.flattenOneObject=function(t){if("string"==typeof t)return t;var n={};for(var e in t)if(t.hasOwnProperty(e))if("object"!=typeof t[e]||t[e]instanceof Array)n[e]=t[e];else{var l=this.flattenOneObject(t[e]);for(var a in l)l.hasOwnProperty(a)&&(n[e+"."+a]=l[a])}return n},t.prototype.deflattenObject=function(t){var n={};if("object"!=typeof t||t instanceof Array)return t;var e=function(e){var l=e.split("."),a=n,i=l.length,r=l[i-1];l.forEach(function(t,n){n<i-1&&(a[t]=a[t]||{},a=a[t])}),a[r]=t[e]};for(var l in t)e(l);return n},t.prototype.clearEmptyFields=function(t,n){var e,l=this;Object(Po.f)(n)&&(n=null);var a,i={},r=!0;Array.isArray(t)?(a=this.flattenObject(t)).forEach(function(t){var e;t=(e=l.clearOneObjectEmptyFields(t,r,n))[0],r=e[1]}):(a=this.flattenOneObject(t),a=(e=this.clearOneObjectEmptyFields(a,r,n))[0],r=e[1]);var o=this.deflattenObject(a);return i.data=o,i.isObjectEmpty=r,o},t.prototype.clearOneObjectEmptyFields=function(t,n,e){for(var l=0,a=Object.keys(t);l<a.length;l++){var i=a[l];(Object(M.isNullOrUndefined)(t[i])||""===t[i])&&(t[i]=e)}return[t,n]},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb($l.j))},token:t,providedIn:"root"}),t}(),ko={RAINFALL_CHART_API:"rf/timeseries",MITANKS_CHART_API:"mi/timeseries",RESERVOIRS_CHART_API:"reservoir/timeseries",WINDSPEED_CHART_API:"ws/wsChart",RAINFALL_BOTTOMBAR_API:"rf/rfGridChart",WINDSPEED_BOTTOMBAR_API:"ws/wsGridChart",TEMPERATURE_CHART_API:"temperature/chart/timerange",RESERVOIR_CHART_API:"reservoir/chart",RIVERPOINT_CHART_API:"riverpoints/chart",GROUNDWATER_CHART_API:"gw/timeseries",SOILMOISTURE_CHART_API:"sm/timeseries",CROPDEMAND_CHART_API:"cd/timeseries"},Io={geo:["state","district","mandal","groundwater"],geo_rainfall:["state","district","mandal","aws"]},Eo=function(){function t(t,n,e){this.http=t,this.dataService=n,this.route=e,this.API_MAPPING=ko,this.URL_MAPPING=R.a.urlMapping,this.getKeys=Object.keys,this.defaultHTTPConfig={method:"get",apiKeyName:"authenticate",postData:{},isEntireUrl:!1,urlString:"PROJ_API",userFieldsToAdd:[],routerParamsToAdd:{}}}return t.prototype.getOptions=function(t){return{headers:{}}},t.prototype.makeApiCall=function(t,n,e,l,a){void 0===l&&(l="PROJ_API"),void 0===a&&(a=!1),Object(Po.f)(l)&&(l="PROJ_API"),Object(Po.f)(a)&&(a=!1);var i=this.URL_MAPPING[l],r=this.isValidAPICall(n,i,a),o=r.api;return a||(o=i+r.api),r.valid?this[t](o,e):Object(Do.a)({status:!1,msg:r.msg})},t.prototype.placeAPICall=function(t){var n=this.dataService.deepMerge(this.defaultHTTPConfig,t);Object(Po.f)(n.urlString)?n.urlString="PROJ_API":"rainfall"!=n.apiId&&"reservoir"!=n.apiId||(n.urlString="PROJ_API_RF_RESERVOIR"),Object(Po.f)(n.isEntireUrl)&&(n.isEntireUrl=!1),Object(Po.g)(t.routerParamsToAdd)||(n.postData=this.addRouteFields(t.routerParamsToAdd,n.postData));var e=this.URL_MAPPING[n.urlString],l=this.isValidAPICall(n.apiKeyName,e,n.isEntireUrl),a=l.api;return n.isEntireUrl||(a=e+l.api),l.valid?this[n.method](a,n.postData):Object(Do.a)({status:!1,msg:l.msg})},t.prototype.post=function(t,n){return this.http.post(t,n,this.getOptions())},t.prototype.multipart=function(t,n){for(var e=new FormData,l=0,a=this.getKeys(n);l<a.length;l++){var i=a[l];e.append(i,n[i])}return this.http.post(t,e)},t.prototype.get=function(t,n){for(var e in n)t.indexOf(e)&&(t=t.replace(new RegExp(e,"g"),n[e]));return this.http.get(t,this.getOptions())},t.prototype.isValidAPICall=function(t,n,e){if(e)return{valid:!0,api:this.API_MAPPING[t]};if(Object(M.isNullOrUndefined)(this.API_MAPPING))return console.log("API_MAPPING not found in Project Constants (ProjConst)"),{valid:!1,msg:"API_MAPPING not found in Project Constants (ProjConst)"};var l=this.API_MAPPING[t];return Object(M.isNullOrUndefined)(l)?(console.log("API_MAPPING not found for for "+t+"..Please update API_MAPPING in Project Constants (ProjConst)"),{valid:!1,msg:"API_MAPPING not found for "+t}):{valid:!0,api:l}},t.prototype.addRouteFields=function(t,n){if(!Object(Po.g)(t.queryParams))for(var e=0,l=Object.keys(t.queryParams);e<l.length;e++)n[t.queryParams[r=l[e]]]=this.route.snapshot.queryParams[r];if(!Object(Po.g)(t.params))for(var a=0,i=Object.keys(t.params);a<i.length;a++){var r;n[t.params[r=i[a]]]=this.route.snapshot.params[r]}return n},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(j.c),c.gb(wo),c.gb(b.a))},token:t,providedIn:"root"}),t}(),No=function(){function t(){}return t.ngInjectableDef=c.cb({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Fo=function(){function t(t,n,e){this.dataService=t,this.httpService=n,this.filterService=e,this.valueChange=new c.q,this.actualOptions=[],this.loading=!0,this.defaultConfig={bindLabel:"title",bindValue:"key",loadingText:"Loading ...",readonly:!1,multiple:!1,closeOnSelect:!0,clearable:!1}}return t.prototype.ngOnInit=function(){var t=this;this.actualConfig=this.dataService.deepMerge(this.defaultConfig,this.selectConfig.ngSelectConfig),"manual"===this.selectConfig.type?(this.optionsArray=this.getManualCall().pipe(Object(To.a)(500)),this.loading=!1):"api"===this.selectConfig.type?this.optionsArray=this.getAPICall().pipe(Object(To.a)(100)):(this.optionsArray=this.getServiceCall().pipe(Object(To.a)(100)),this.loading=!1),Object(Po.f)(this.control)||Object(Po.f)(this.control.value)||(this.selectedItems=this.control.value),Object(Po.f)(this.control)||this.control.valueChanges.subscribe(function(n){t.selectedItems=n})},t.prototype.getManualCall=function(){var t=this;return new Ao.a(function(n){t.selectConfig.byDefaultSelect&&Object(Po.f)(t.control.value)&&(t.selectedItems=t.selectConfig.byDefaultSelect,t.setFormValue(t.selectConfig.byDefaultSelect)),Object(Po.f)(t.selectConfig.allFieldName)||t.selectConfig.options.unshift(t.getAllField(t.selectConfig.allFieldName)),n.next(t.selectConfig.options),n.complete()})},t.prototype.getServiceCall=function(){var t=this,n=this.selectConfig.serviceConfig.paramObject;return new Ao.a(function(e){t.filterService[t.selectConfig.serviceConfig.functionName](n).subscribe(function(n){t.processServiceData(n,"serviceConfig"),e.next(t.actualOptions),e.complete()},function(t){e.next([]),e.complete()},function(){t.loading=!1})})},t.prototype.getAPICall=function(){var t=this;return new Ao.a(function(n){t.httpService.placeAPICall(t.selectConfig.apiConfig).subscribe(function(e){t.processServiceData(e,"apiConfig"),n.next(t.actualOptions),n.complete()},function(t){n.next([]),n.complete()},function(){t.loading=!1})})},t.prototype.processServiceData=function(t,n){var e=this,l=this.convertDataToArrayOfObject(t,n);(l=this.dataService.flattenObject(l)).forEach(function(t){e.actualOptions.push(e.getOptionObject(t,n))}),Object(Po.f)(this.selectConfig.allFieldName)||this.actualOptions.unshift(this.getAllField(this.selectConfig.allFieldName)),this.actualOptions.length>0&&this.selectConfig.byDefaultSelect&&Object(Po.f)(this.control.value)&&("firstElement"===this.selectConfig.byDefaultSelect?(this.selectedItems=this.actualOptions[0][this.actualConfig.bindValue],this.setFormValue(this.actualOptions[0][this.actualConfig.bindValue])):(this.selectedItems=this.selectConfig.byDefaultSelect,this.setFormValue(this.selectConfig.byDefaultSelect)))},t.prototype.convertDataToArrayOfObject=function(t,n){var e=this.selectConfig[n];return"arrayItem"===e.titleField?this.convertArrayToArrayOfObject(t,n):"objectKey"===e.titleField||"objectValue"===e.titleField?this.convertObjectToArrayOfObject(t,n):t},t.prototype.convertObjectToArrayOfObject=function(t,n){var e=this,l=this.selectConfig[n],a=[];return Object.keys(t).forEach(function(n){var i={};i[e.actualConfig.bindLabel]=e.getDataBasedOnOption(l.titleField,n,t),i[e.actualConfig.bindValue]=e.getDataBasedOnOption(l.keyField,n,t),a.push(i)}),this.selectConfig[n].titleField=this.actualConfig.bindLabel,this.selectConfig[n].keyField=this.actualConfig.bindValue,a},t.prototype.getDataBasedOnOption=function(t,n,e){return"objectKey"===t?n:"objectValue"===t?e[n]:e[t]},t.prototype.convertArrayToArrayOfObject=function(t,n){var e=this,l=[];return t.forEach(function(t){var n={};n[e.actualConfig.bindLabel]=t,n[e.actualConfig.bindValue]=t,l.push(n)}),this.selectConfig[n].titleField=this.actualConfig.bindLabel,this.selectConfig[n].keyField=this.actualConfig.bindValue,l},t.prototype.getOptionObject=function(t,n){var e={};return e[this.actualConfig.bindLabel]=t[this.selectConfig[n].titleField]?t[this.selectConfig[n].titleField]:"",e[this.actualConfig.bindValue]=t[this.selectConfig[n].keyField]?t[this.selectConfig[n].keyField]:"",e.icon=t.icon?t.icon:null,e},t.prototype.getAllField=function(t){var n={};return n[this.actualConfig.bindLabel]="All "+this.selectConfig.title+("s"===this.selectConfig.title[this.selectConfig.title.length-1]?"es":"s"),n[this.actualConfig.bindValue]=t,n},t.prototype.optionChanged=function(t){Object(Po.f)(this.control)||this.setFormValue(this.selectedItems),this.valueChange.emit(this.selectedItems)},t.prototype.setFormValue=function(t){this.control.setValue(t)},t.prototype.ngOnDestroy=function(){},t}(),Bo=c.zb({encapsulation:0,styles:[[".transition[_ngcontent-%COMP%]{transition:all .2s ease}[_ngcontent-%COMP%]:root{--body-font:'Roboto',sans-serif;--title-font:'Ubuntu',sans-serif;--sidebarmenu-width:80px}ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{background-color:#d4d4d9!important}ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.right[_ngcontent-%COMP%]{border-left-color:#b9b9c1!important}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{display:flex;align-items:center}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%] + .ng-option[_ngcontent-%COMP%]{border-top:1px solid #e2e2e5!important}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-right:8px;border-radius:2px;width:16px;height:16px;background-color:#fff;transition-duration:280ms;transition-property:background;transition-timing-function:cubic-bezier(.4,0,.2,1);position:relative;border:2px solid #787878}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:after{content:\"\";left:4px;top:0;position:absolute;width:5px;height:10px;border-width:0 2px 2px 0;border-style:solid;border-color:#fff;transform:rotate(45deg);opacity:0}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:not(.ng-option-selected).ng-option-marked{background-color:#f7f7f8!important}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%]{background-color:#efeff1!important}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{border-color:#465aff;background-color:#465aff}ng-select.ng-select-multiple[_ngcontent-%COMP%]   ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:after{opacity:1}ng-dropdown-panel.ng-dropdown-panel[_ngcontent-%COMP%]{border-radius:10px!important;background:#fff;box-shadow:0 6px 12px rgba(0,0,0,.2);border:none;overflow:auto}"]],data:{}});function Uo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"img",[["height","15"],["width","15"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,n.parent.parent.context.item.icon)})}function Ro(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"img",[["height","15"],["width","15"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,0,0,n.component.selectConfig.icon)})}function Vo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Uo)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ro)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,[" \xa0 "]))],function(t,n){var e=n.component;t(n,2,0,n.parent.context.item.icon),t(n,4,0,!n.parent.context.item.icon&&e.selectConfig.icon)},null)}function jo(t){return c.Ub(0,[(t()(),c.sb(16777216,null,null,1,null,Vo)),c.Ab(1,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.item.icon||n.component.selectConfig.icon)},function(t,n){t(n,3,0,n.context.item[n.component.actualConfig.bindLabel])})}function Go(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"img",[["height","15"],["width","15"]],[[8,"src",4]],null,null,null,null))],null,function(t,n){t(n,1,0,n.parent.context.item.icon)})}function Yo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Go)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,[" \xa0 "])),(t()(),c.Bb(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(5,null,["",""]))],function(t,n){t(n,2,0,n.context.item.icon)},function(t,n){t(n,5,0,n.context.item[n.component.actualConfig.bindLabel])})}function Wo(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,23,"ng-select",[["class","ng-select"],["role","listbox"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-clearable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],function(t,n,e){var l=!0,a=t.component;return"keydown"===n&&(l=!1!==c.Lb(t,2).handleKeyDown(e)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedItems=e)&&l),"change"===n&&(l=!1!==a.optionChanged(e)&&l),l},Lo.b,Lo.a)),c.Pb(4608,null,Oo.f,Oo.f,[]),c.Ab(2,4964352,null,12,Oo.a,[[8,null],[8,null],[8,null],Oo.b,Oo.d,c.n,c.i,Oo.l],{bindLabel:[0,"bindLabel"],bindValue:[1,"bindValue"],placeholder:[2,"placeholder"],notFoundText:[3,"notFoundText"],loadingText:[4,"loadingText"],loading:[5,"loading"],multiple:[6,"multiple"],clearable:[7,"clearable"],items:[8,"items"]},{changeEvent:"change"}),c.Qb(335544320,1,{optionTemplate:0}),c.Qb(335544320,2,{optgroupTemplate:0}),c.Qb(335544320,3,{labelTemplate:0}),c.Qb(335544320,4,{multiLabelTemplate:0}),c.Qb(335544320,5,{headerTemplate:0}),c.Qb(335544320,6,{footerTemplate:0}),c.Qb(335544320,7,{notFoundTemplate:0}),c.Qb(335544320,8,{typeToSearchTemplate:0}),c.Qb(335544320,9,{loadingTextTemplate:0}),c.Qb(335544320,10,{tagTemplate:0}),c.Qb(335544320,11,{loadingSpinnerTemplate:0}),c.Qb(603979776,12,{ngOptions:1}),c.Mb(131072,m.b,[c.i]),c.Pb(1024,null,Ft.o,function(t){return[t]},[Oo.a]),c.Ab(17,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(19,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(0,[[3,2]],null,1,null,jo)),c.Ab(21,16384,null,0,Oo.h,[c.V],null,null),(t()(),c.sb(0,[[1,2]],null,1,null,Yo)),c.Ab(23,16384,null,0,Oo.g,[c.V],null,null)],function(t,n){var e=n.component;t(n,2,0,e.actualConfig.bindLabel,e.actualConfig.bindValue,c.Db(1,"Select ",e.selectConfig.title,""),c.Db(1,"No ",e.selectConfig.title," found"),e.actualConfig.loadingText,e.loading,e.actualConfig.multiple,e.actualConfig.clearable,c.Tb(n,2,8,c.Lb(n,15).transform(e.optionsArray))),t(n,17,0,e.selectConfig.disabled,e.selectedItems)},function(t,n){t(n,0,1,[!c.Lb(n,2).multiple,c.Lb(n,2).typeahead,c.Lb(n,2).multiple,c.Lb(n,2).addTag,c.Lb(n,2).searchable,c.Lb(n,2).clearable,c.Lb(n,2).isOpen,c.Lb(n,2).disabled,c.Lb(n,2).filtered,c.Lb(n,19).ngClassUntouched,c.Lb(n,19).ngClassTouched,c.Lb(n,19).ngClassPristine,c.Lb(n,19).ngClassDirty,c.Lb(n,19).ngClassValid,c.Lb(n,19).ngClassInvalid,c.Lb(n,19).ngClassPending])})}var zo=function(){function t(){this.hierarchyMapping=JSON.parse(JSON.stringify(Io)),this.locationSplit="$$"}return t.prototype.getLocation=function(t,n){var e=t.split(this.locationSplit),l=e.length-n;return l<0?(console.log("Index out of bounds returning last location"),e[e.length-1]):e[l]},t.prototype.getParent=function(t,n,e){void 0===n&&(n="geo");var l=t.split(this.locationSplit),a=l.length-e,i=this.hierarchyMapping[n];return a<0?(console.log("Index out of bounds returning parent"),i[l.length-1]):i[a]},t.prototype.getChild=function(t,n){void 0===n&&(n="geo");var e=t.split(this.locationSplit);return this.hierarchyMapping[n][e.length]},t.prototype.extractLocationInformation=function(t,n,e){var l=this.getLocationInformation(t,n,e);if(t.allParents){l.parentsArray=[];for(var a={parent:!0,location:!0,child:!0},i=n.split(this.locationSplit);i.length>1;){i.pop(),n=i.join(this.locationSplit);var r=this.getLocationInformation(a,n,e);l.parentsArray.push(r),i=n.split(this.locationSplit)}l.parentsArray.reverse()}return l},t.prototype.getLocationInformation=function(t,n,e){var l={};if(t.location){var a=Object(M.isNumber)(t.location)?t.location:1;l.location=this.getLocation(n,a),l.rawLocation=n}return t.child&&(l.child=this.getChild(n,e)),t.parent&&(a=Object(M.isNumber)(t.location)?t.location:1,l.parent=this.getParent(n,e,a)),l},t.ngInjectableDef=c.cb({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ho=(e("TDo4"),e("pugT"),function(){function t(){this.MCMMAF=.0008107131821088457,this.MCMBCM=.001,this.MCMTMC=1e3}return t.prototype.unitConversion=function(t,n){return Object(Po.f)(n.from)||Object(Po.f)(n.to)?t:Object(Po.f)(t)?null:n.from===n.to?t:this["conversionBetween"+n.from+"And"+n.to](t,n)},t.prototype.conversionBetweenMCMAndMAF=function(t,n){return"MCM"===n.from?t*this.MCMMAF:t/this.MCMMAF},t.prototype.conversionBetweenMCMAndTMC=function(t,n){return"MCM"===n.from?t*this.MCMTMC:t/this.MCMTMC},t.prototype.conversionBetweenMCMAndBCM=function(t,n){return"MCM"===n.from?t*this.MCMBCM:t/this.MCMBCM},t.ngInjectableDef=c.cb({factory:function(){return new t},token:t,providedIn:"root"}),t}()),qo=e("6ys1"),Ko=function(){function t(t,n){this.unitConversionService=t,this.localStorage=n}return t.prototype.titleCase=function(t){return t.split(" ").map(function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}).join(" ")},t.prototype.getTemperatureData=function(){return{1589653800000:{tMax:42.1,tMin:20.23,tOpen:33.33,tClose:22.1,tActualMax:40.2,tAcutalMin:20.22},1587666600000:{tMax:42.1,tMin:23.2,tOpen:33.1,tClose:25.7,tActualMax:44.3,tAcutalMin:25.2},1588530600000:{tMax:44,tMin:24,tOpen:36,tClose:26.4,tActualMax:40.2,tAcutalMin:26.1},1589394600000:{tMax:44.5,tMin:22,tOpen:32.1,tClose:22.4,tActualMax:42.1,tAcutalMin:22},1590258600000:{tMax:44,tMin:18,tOpen:34,tClose:22,tActualMax:45,tAcutalMin:21},1591122600000:{tMax:45.2,tMin:27,tOpen:40.3,tClose:30.3,tActualMax:46.2,tAcutalMin:30},1585938600000:{tMax:42.5,tMin:22.2,tOpen:32.4,tClose:25.6,tActualMax:40.2,tAcutalMin:21.5},1586802600000:{tMax:42.3,tMin:21.8,tOpen:33.4,tClose:25.6,tActualMax:44.2,tAcutalMin:22.3}}},t.prototype.yAxisFormatter=function(t,n,e){return t=this.formatNumberToCurrency(t),e.unitsBesideLabel&&(t=t+" "+n),t},t.prototype.formatNumberToCurrency=function(t,n){return Object(M.isNullOrUndefined)(t)?"-":t>=1e7?parseFloat((t/1e7).toFixed(2))+"Cr":t<1e7&&t>=1e5?parseFloat((t/1e5).toFixed(2))+"L":t<1e5&&t>=1e3?parseFloat((t/1e3).toFixed(2))+"K":t},t.prototype.formatNumber=function(t){return Object(M.isNullOrUndefined)(t)?"-":Object(M.isNumber)(t)?parseFloat(t.toFixed(2)).toLocaleString("en-IN"):t},t.prototype.formatNumberUptoFiveDecimal=function(t){return Object(M.isNullOrUndefined)(t)?"-":Object(M.isNumber)(t)?parseFloat(t.toFixed(2)):t},t.prototype.formatUnits=function(t,n){var e=this;return new Ao.a(function(l){var a=n.fromUnit,i=n.toUnit;a===i&&(l.next(t),l.complete()),e.isConversionPossible(n.fromUnit,n.toUnit)||(l.next(t),l.complete());var r=JSON.parse(JSON.stringify(t));r.forEach(function(t){t.y=e.unitConversionService.unitConversion(t.y,{from:a,to:i})}),l.next(r),l.complete()})},t.prototype.isConversionPossible=function(t,n){if("MCM"===t)return"MCM"==n||"MAF"===n||"BCM"===n||"TMC"===n},t.prototype.postDataFormatter=function(t,n){return t},t.prototype.kwrisFormatter=function(t){var n=t.sDate,e=t.eDate,l=t.format;return"yyyy"==l?(n=n.substring(0,4),e=e.substring(0,4)):"yyyyMM"==l?(n=n.substring(0,6),e=e.substring(0,6)):"yyyyMMdd"==l&&(n=n,e=e),t.sDate=n,t.eDate=e,t},t.prototype.riverpointFormatter=function(t){var n=this.localStorage.get("selectedRiver");if(!(n&&n.data&&n.data.length>0))return t.rList=[],t;var e=n.data,l=[];for(var a in e)l.push(""+e[a].item_id);t.rList=l},t.prototype.dataFormatterForRf=function(t,n){var e="rl";for(var l in n&&n.aggType&&(e=n.aggType),t)null!=t[l]&&(null!=t[l].NORMAL&&null!=t[l].NORMAL[e]?(t[l].normal=t[l].NORMAL[e],null!=t[l].ACTUAL&&null!=t[l].ACTUAL[e]&&(t[l].ACTUAL[e]>=t[l].NORMAL[e]?t[l].greaterNormal=t[l].ACTUAL[e]:t[l].lessNormal=t[l].ACTUAL[e])):null!=t[l].ACTUAL&&null!=t[l].ACTUAL[e]&&(t[l].greaterNormal=t[l].ACTUAL[e]));return t},t.prototype.dataFormatterForActual=function(t){for(var n in t)null!=t[n]&&null!=t[n].ACTUAL&&null!=t[n].ACTUAL.rl&&null!=t[n].NORMAL&&null!=t[n].NORMAL.rl?t[n].ACTUAL.rl>=t[n].NORMAL.rl?t[n].greaterNormal=t[n].ACTUAL.rl:t[n].lessNormal=t[n].ACTUAL.rl:null!=t[n]&&null!=t[n].ACTUAL&&null!=t[n].ACTUAL.rl&&(t[n].greaterNormal=t[n].ACTUAL.rl);return t},t.prototype.gwDataFormatter=function(t){return console.log("\n In gwDataFormatter \n",t),t},t.prototype.dataFormatterForMiTanks=function(t){return t},t.prototype.dataFormatterForMiTanksSentinal=function(t,n){if(n&&null!=n.capacity)for(var e in t)null!=t[e]&&null!=t[e]["Current Storage"]&&(t[e].empty=Number(n.capacity)-Number(t[e]["Current Storage"]),t[e].empty<0&&(t[e].empty=0));return t},t.prototype.groundwaterFormatter=function(t){var n=t.sDate;return t.sDate=t.sDate,t.eDate=n,t},t.prototype.dataFormatterForReservoir=function(t){return t},t.prototype.getAreaValueForMiTanks=function(t,n){return n&&n.maxArea?n.maxArea:0},t.prototype.getCapacityValueForMiTanks=function(t,n){return n&&n.capacity?n.capacity:0},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(Ho),c.gb(qo.a))},token:t,providedIn:"root"}),t}(),Xo=function(){function t(t,n,e,l){this.httpService=t,this.dataService=n,this.stockChartCustomService=e,this.stockChartGeoService=l,this.initSubjects={},this.filterFormSubjects={},this.filterData={},this.datePickerSubjects={},this.datePickerData={},this.stockCartConfigSubjects={},this.stockChartConfigData={},this.componentSubscription=new N.a({}),this.dataSubjectsList={},this.subscriptionList=[]}return t.prototype.clearAllSubjectsForChart=function(t){this.initSubjects[t]&&delete this.initSubjects[t],this.stockCartConfigSubjects[t]&&(delete this.stockCartConfigSubjects[t],delete this.stockChartConfigData[t]),this.datePickerSubjects[t]&&(delete this.datePickerSubjects[t],delete this.datePickerData[t]),this.filterFormSubjects[t]&&(delete this.filterFormSubjects[t],delete this.filterData[t]),this.dataSubjectsList[t]&&delete this.dataSubjectsList[t]},t.prototype.getByDefaultFilterCount=function(t){var n=0;return t.forEach(function(t){Object(Po.f)(t.config.byDefaultSelect)||(n+=1)}),n},t.prototype.createFilterSubject=function(t){this.filterFormSubjects[t]||(this.filterFormSubjects[t]=new N.a({})),this.filterData[t]||(this.filterData[t]={})},t.prototype.updateFilterForm=function(t,n,e,l,a){if("compare"==e||JSON.stringify(n)!==JSON.stringify(this.filterData[t])){this.filterData[t]="compare"!=e?n:{};var i={};i.data=n,l&&l.length>0&&(i.changedFields=l),Object(Po.g)(a)||(i.configObject=a),Object(Po.f)(e)||(i.from=e),this.filterFormSubjects[t].next(i)}},t.prototype.createDatePickerSubject=function(t){this.datePickerSubjects[t]||(this.datePickerSubjects[t]=new N.a({})),this.datePickerData[t]&&(this.datePickerData[t]={})},t.prototype.createStockChartSubject=function(t){this.stockCartConfigSubjects[t]||(this.stockCartConfigSubjects[t]=new N.a({})),this.stockChartConfigData[t]&&(this.stockChartConfigData[t]={})},t.prototype.updateStockChartConfigData=function(t,n){this.stockCartConfigSubjects[t].next(n)},t.prototype.updateDatePickerForm=function(t,n,e){this.datePickerData[t]=n,this.datePickerSubjects[t].next(n)},t.prototype.resetDatePickerData=function(t){this.datePickerData[t]={};try{delete this.datePickerSubjects[t]}catch(n){console.log(n,"error while deleting ")}},t.prototype.resetInitSubjects=function(t){try{delete this.initSubjects[t]}catch(n){console.log(n,"error while deleting ")}},t.prototype.resetConfigSubjects=function(t){this.stockChartConfigData[t]={};try{delete this.stockCartConfigSubjects[t]}catch(n){console.log(n,"error while deleting ")}},t.prototype.resetFilterData=function(t){this.filterData[t]={};try{delete this.filterData[t]}catch(n){console.log(n,"error while deleting ")}},t.prototype.getDataFromAPIConfig=function(t,n,e,l){var a=this,i=this.httpService.placeAPICall(n),r=!0;return Object(Po.f)(this.dataSubjectsList[t])&&(this.dataSubjectsList[t]={}),Object(Po.f)(this.dataSubjectsList[t][e])?this.dataSubjectsList[t][e]=new el.a:(i=this.dataSubjectsList[t][e],r=!1),new Ao.a(function(o){i.subscribe(function(i){if(!Object(Po.f)(n.dataFormatter))if(Object(Po.g)(n.dataFormatter)||Object(Po.f)(n.dataFormatter.functionName))n.dataFormatter.formatter&&(i=n.dataFormatter.formatter(i));else try{i=a.stockChartCustomService[n.dataFormatter.functionName](i,n.dataFormatter.paramObject)}catch(u){console.log("No data formatter exists in stock chart service")}r&&a.dataSubjectsList[t][e].next(i);var s=[];l?("TEMPARATURE_CHART"===n.apiKeyName&&(i=a.dataService.deepClone(a.stockChartCustomService.getTemperatureData())),"RIVERPOINT_CHART_API"===n.apiKeyName&&(i=i.data),s=a.getStockChartFormatFromData(i,n),o.next(s)):o.next(i),o.complete()},function(n){o.next([]),r&&a.dataSubjectsList[t][e].next([]),o.complete()})})},t.prototype.getStockChartFormatFromData=function(t,n){if(Object(Po.f)(t))return[];if(Array.isArray(t))t=this.dataService.flattenObject(t);else if(Object(Po.h)(t))for(var e=0,l=Object.keys(t);e<l.length;e++){var a=l[e];Object(Po.h)(t[a])&&(t[a]=this.dataService.flattenOneObject(t[a]))}for(var i=Object.keys(t).sort(function(t,n){return parseFloat(t)-parseFloat(n)}).reduce(function(n,e){return n[e]=t[e],n},{}),r=[],o=0,s=Object.keys(i);o<s.length;o++){var u=s[o],c={};"arrayItem"===n.keyField?c.x=Object(Po.b)(i[u]):"objectKey"===n.keyField?c.x=Object(Po.b)(u):"objectValue"===n.keyField?c.y=Object(Po.b)(i[u],5):c.x=Object(Po.b)(i[u][n.keyField]);var h=new Date(c.x);if(h.setHours(0,0,0),c.x=Date.parse(h.toString()),"arrayItem"===n.titleField?c.y=(Object(Po.b)(i[u]),5):"objectKey"===n.titleField?c.y=Object(Po.b)(u,5):"objectValue"===n.titleField?c.y=Object(Po.b)(i[u],5):Object(Po.f)(n.titleField)||(c.y=Object(Po.b)(i[u][n.titleField],5)),n.candleStickConfig&&!Object(Po.g)(n.candleStickConfig)&&(c=this.getCandleStickData(i[u],c,n)),n.areaRangeConfig&&!Object(Po.g)(n.areaRangeConfig)&&(c=this.getAreaRangeData(i[u],c,n)),n.apiCompareConfig&&!Object(Po.g)(n.apiCompareConfig)){var d=Object(Po.b)(i[u][n.titleField],5),p=Object(Po.b)(i[u][n.apiCompareConfig.compareKey],5),g=n.apiCompareConfig.multiplicationFactor,m=d,b=p;Object(Po.f)(g)||(b*=g);for(var f=0,y=n.apiCompareConfig.compareType;f<y.length;f++){var v=y[f];"greater"===v&&m>b&&(c.color=n.apiCompareConfig.greaterColor),"lesser"===v&&m<b&&(c.color=n.apiCompareConfig.lesserColor),"equal"===v&&m===b&&(c.color=n.apiCompareConfig.equalColor)}}r.push(c)}return r},t.prototype.getCandleStickData=function(t,n,e){var l=e.candleStickConfig;return l.openField&&(n.open=Object(Po.b)(t[l.openField],2)),l.closeField&&(n.close=Object(Po.b)(t[l.closeField],2)),n.high=l.highField?Object(Po.b)(t[l.highField],2):Object(Po.b)(t[l.openField],2),n.low=l.lowField?Object(Po.b)(t[l.lowField],2):Object(Po.b)(t[l.closeField],2),n},t.prototype.getAreaRangeData=function(t,n,e){var l=e.areaRangeConfig;return n.areaMax=l.areaMax?Object(Po.b)(t[l.areaMax],2):null,n.areaMin=l.areaMin?Object(Po.b)(t[l.areaMin],2):null,n},t.prototype.isDataPresentInStockChart=function(t){if(0===t.length)return!1;var n=!1;return t.forEach(function(t){t.data&&t.data.length>0&&(n=!0)}),n},t.prototype.getIndicatorsConfig=function(t,n){var e,l=this,a=["#63b598","#ce7d78","#ea9e70","#a48a9e","#c6e1e8","#648177","#0d5ac1","#f205e6","#1c0365","#14a9ad","#4ca2f9","#a4e43f","#d298e2","#6119d0","#d2737d","#c0a43c","#f2510e","#651be6","#79806e","#61da5e","#cd2f00","#9348af","#01ac53","#c5a4fb","#996635","#b11573","#4bb473","#75d89e","#2f3f94","#2f7b99","#da967d","#34891f","#b0d87b","#ca4751","#7e50a8","#c4d647","#e0eeb8","#11dec1","#289812","#566ca0","#ffdbe1","#2f1179","#935b6d","#916988","#513d98","#aead3a","#9e6d71","#4b5bdc","#0cd36d","#250662","#cb5bea","#228916","#ac3e1b","#df514a","#539397","#880977","#f697c1","#ba96ce","#679c9d","#c6c42c","#5d2c52","#48b41b","#e1cf3b","#5be4f0","#57c4d8","#a4d17a","#225b8","#be608b","#96b00c","#088baf","#f158bf","#e145ba","#ee91e3","#05d371","#5426e0","#4834d0","#802234","#6749e8","#0971f0","#8fb413","#b2b4f0","#c3c89d","#c9a941","#41d158","#fb21a3","#51aed9","#5bb32d","#807fb","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#21538e","#89d534","#d36647","#7fb411","#0023b8","#3b8c2a","#986b53","#f50422","#983f7a","#ea24a3","#79352c","#521250","#c79ed2","#d6dd92","#e33e52","#b2be57","#fa06ec","#1bb699","#6b2e5f","#64820f","#1c271","#9cb64a","#996c48","#9ab9b7","#06e052","#e3a481","#0eb621","#fc458e","#b2db15","#aa226d","#792ed8","#73872a","#520d3a","#cefcb8","#a5b3d9","#7d1d85","#c4fd57","#f1ae16","#8fe22a","#ef6e3c","#243eeb","#1dc18","#dd93fd","#3f8473","#e7dbce","#421f79","#7a3d93","#635f6d","#93f2d7","#9b5c2a","#15b9ee","#0f5997","#409188","#911e20","#1350ce","#10e5b1","#fff4d7","#cb2582","#ce00be","#32d5d6","#17232","#608572","#c79bc2","#00f87c","#77772a","#6995ba","#fc6b57","#f07815","#8fd883","#060e27","#96e591","#21d52e","#d00043","#b47162","#1ec227","#4f0f6f","#1d1d58","#947002","#bde052","#e08c56","#28fcfd","#bb09b","#36486a","#d02e29","#1ae6db","#3e464c","#a84a8f","#911e7e","#3f16d9","#0f525f","#ac7c0a","#b4c086","#c9d730","#30cc49","#3d6751","#fb4c03","#640fc1","#62c03e","#d3493a","#88aa0b","#406df9","#615af0","#4be47","#2a3434","#4a543f","#79bca0","#a8b8d4","#00efd4","#7ad236","#7260d8","#1deaa7","#06f43a","#823c59","#e3d94c","#dc1c06","#f53b2a","#b46238","#2dfff6","#a82b89","#1a8011","#436a9f","#1a806a","#4cf09d","#c188a2","#67eb4b","#b308d3","#fc7e41","#af3101","#ff065","#71b1f4","#a2f8a5","#e23dd0","#d3486d","#00f7f9","#474893","#3cec35","#1c65cb","#5d1d0c","#2d7d2a","#ff3420","#5cdd87","#a259a4","#e4ac44","#1bede6","#8798a4","#d7790f","#b2c24f","#de73c2","#d70a9c","#25b67","#88e9b8","#c2b0e2","#86e98f","#ae90e2","#1a806b","#436a9e","#0ec0ff","#f812b3","#b17fc9","#8d6c2f","#d3277a","#2ca1ae","#9685eb","#8a96c6","#dba2e6","#76fc1b","#608fa4","#20f6ba","#07d7f6","#dce77a","#77ecca"],i={},r=!1;return new Ao.a(function(o){for(var s=t.applicationConfig,u={},c=0,h=Object.keys(s);c<h.length;c++){var d=s[h[c]];Object(Po.f)(d.childConfigId)||(r=!0,e=new N.a({}))}if(r)var p=e.subscribe(function(n){if(!Object(Po.f)(Object.keys(n)[0])){i[Object.keys(n)[0]]=n[Object.keys(n)[0]];for(var e=!0,l=0,a=Object.keys(i);l<a.length;l++)!1===n[a[l]]&&(e=!1);e&&(o.next([t,u]),p.unsubscribe())}});for(var g=function(i){var o=s[i],c={};if(r){var h=Object(Po.f)(o.hierarchyId)?t.geographicalConfig.hierarchyId:o.hierarchyId;c=l.stockChartGeoService.extractLocationInformation({location:!0,parent:!0,child:!0,allParents:!0},n.rawLocation,h)}if(Object(Po.g)(o.rendererConfig))return"continue";var d={};if((d=o.rendererConfig).title=r?c.location+" "+o.title:o.title,d.unit=o.unit,u[i]=d,!Object(Po.f)(o.childConfigId)&&!Object(Po.f)(t.geographicalConfig)&&!Object(Po.g)(t.geographicalConfig)){var p={};p[i]=!1,e.next(p);var g=t.geographicalConfig.childAPIConfig[o.childConfigId];if(c.parentsArray&&c.parentsArray.forEach(function(n){var e=l.dataService.deepClone(o);e.title=n.location+" "+o.title,e.id=n.location+"_"+i,e.apiConfig.apiId=n.location+"_"+i,e.apiConfig.postData.location=n.location,e.apiConfig.postData.isChildApplication=!0,e.apiConfig.postData.locationType=n.parent,e.isParentApplication=!0;var r=l.dataService.deepClone(o.rendererConfig);r.title=n.location+" "+o.title,r.unit=o.unit,r.visible=!1,r.chartColor=a[Math.floor(230*Math.random())],u[n.location+"_"+i]=r,t.applicationConfig[n.location+"_"+i]=e}),t.geographicalConfig.childAPIConfig&&g){var m=Object(Po.f)(g[c.parent])?g.common:g[c.parent];m.postData=l.generatePostData(m,c),l.httpService.placeAPICall(m).subscribe(function(n){l.getStockChartFormatFromData(n,m).forEach(function(n){var e=l.dataService.deepClone(o);e.title=n.y+" "+o.title,e.id=n.y+"_"+i,e.apiConfig.apiId=n.y+"_"+i,e.apiConfig.postData.location=n.y,e.apiConfig.postData.isChildApplication=!0,e.apiConfig.postData.locationType=c.child,e.isChildApplication=!0;var r=l.dataService.deepClone(o.rendererConfig);r.title=n.y+" "+o.title,r.unit=o.unit,r.visible=!1,r.chartColor=a[Math.floor(230*Math.random())],u[n.y+"_"+i]=r,t.applicationConfig[n.y+"_"+i]=e});var r={};r[i]=!0,e.next(r)},function(t){var n={};n[i]=!0,e.next(n)})}}},m=0,b=Object.keys(s);m<b.length;m++)g(b[m]);r||o.next([t,u])})},t.prototype.generatePostData=function(t,n){if(!Object(Po.f)(t.geoGraphicObjectConfig)&&!Object(Po.g)(t.geoGraphicObjectConfig))for(var e=0,l=Object.keys(t.geoGraphicObjectConfig);e<l.length;e++){var a=l[e];Object(Po.f)(n[a])||(t.postData[t.geoGraphicObjectConfig[a]]=n[a])}if(!Object(Po.f)(t.postDataFormatter)&&!Object(Po.g)(t.postDataFormatter))if(t.postDataFormatter.functionName)try{t.postData=this.stockChartCustomService[t.postDataFormatter.functionName](t.postData,t.postDataFormatter.paramObject)}catch(i){console.log("postdata formatter function error in stock chart service")}else t.postDataFormatter.formatter&&(t.postData=t.postDataFormatter.formatter(t.postData));return t.postData},t.ngInjectableDef=c.cb({factory:function(){return new t(c.gb(Eo),c.gb(wo),c.gb(Ko),c.gb(zo))},token:t,providedIn:"root"}),t}(),Jo=e("p0Sj"),$o=e("qyHS"),Qo=e("mrSG"),Zo=e("FFOo"),ts=function(){function t(t){this.total=t}return t.prototype.call=function(t,n){return n.subscribe(new ns(t,this.total))},t}(),ns=function(t){function n(n,e){var l=t.call(this,n)||this;return l.total=e,l.count=0,l}return Qo.c(n,t),n.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},n}(Zo.a),es=function(){function t(t,n){this.stockChartService=t,this.dataService=n,this.filterFormGroup=new Ft.j({}),this.compareFormGroup=new Ft.j({}),this.compareGroupObject={},this.filterGroupObject={},this.showFormGroup=!1}return t.prototype.ngOnInit=function(){var t,n=this;this.filterConfig.forEach(function(t){"dropdown"===t.type?(n.filterFormGroup.addControl(t.config.key,new Ft.g("")),n.filterGroupObject[t.config.key]=t):t.compareConfig.forEach(function(t){n.compareFormGroup.addControl(t.key,new Ft.g(""))})}),this.showFormGroup=!0,this.stockChartService.initSubjects[this.stockChartId]&&this.stockChartService.initSubjects[this.stockChartId].filter&&this.stockChartService.initSubjects[this.stockChartId].filter.next(!0),this.filterFormGroup.valueChanges.pipe(Object(Jo.a)({}),Object($o.a)(),(t=this.byDefaultCount-1,function(n){return n.lift(new ts(t))})).subscribe(function(t){var e=t[1],l=n.detectChangedFields(t[0],e),a=n.getConfigForChangedFields(l);n.stockChartService.updateFilterForm(n.stockChartId,e,"filter",l,a)})},t.prototype.getConfigForChangedFields=function(t){var n=this,e={};return t.forEach(function(t){Object(Po.g)(e[t])&&(e[t]={}),e[t].changeFireEventType=n.filterGroupObject[t].changeFireEventType,e[t].functionsFireOnChange=n.filterGroupObject[t].functionsFireOnChange}),e},t.prototype.detectChangedFields=function(t,n){for(var e=[],l=0,a=Object.keys(n);l<a.length;l++){var i=a[l];t[i]!==n[i]&&e.push(i)}return e},t.prototype.submit=function(){var t=this.dataService.clearEmptyFields(this.compareFormGroup.value);Object(Po.g)(t)?this.stockChartService.updateFilterForm(this.stockChartId,null,"compare"):this.stockChartService.updateFilterForm(this.stockChartId,t,"compare")},t.prototype.reset=function(){for(var t=0,n=Object.keys(this.compareFormGroup.controls);t<n.length;t++)this.compareFormGroup.get(n[t]).setValue("");this.stockChartService.updateFilterForm(this.stockChartId,null,"compare")},t}(),ls=c.zb({encapsulation:0,styles:[[".dropdown-menu-min-width[_ngcontent-%COMP%]{min-width:250px}"]],data:{}});function as(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"stock-select",[],null,null,null,Wo,Bo)),c.Ab(1,245760,null,0,Fo,[wo,Eo,No],{selectConfig:[0,"selectConfig"],control:[1,"control"]},null)],function(t,n){t(n,1,0,n.parent.context.$implicit.config,n.component.filterFormGroup.get(n.parent.context.$implicit.config.key))},null)}function is(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"div",[["class","form-group mb-lg-0"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.sb(16777216,null,null,1,null,as)),c.Ab(3,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,1,0,"form-group mb-lg-0",n.component.filterConfig.length<3?"col-lg-3":"col-lg"),t(n,3,0,"dropdown"===n.context.$implicit.type)},null)}function rs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["class","form-row align-items-end"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,is)),c.Ab(2,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.filterConfig)},null)}var os=function(){function t(){var t=this;this.addMonths=function(n,e){var l=(e=new Date(e)).getDate();return e.setDate(1),e.setMonth(e.getMonth()+n),e.setDate(Math.min(l,t.getDaysInMonth(e.getFullYear(),e.getMonth()))),e}}return t.prototype.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},t.prototype.getDaysInMonth=function(t,n){return[31,this.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][n]},t.prototype.getMinMaxDate=function(t,n){t=parseInt(t),n=parseInt(n)+1;var e={},l={};return e.year=t,l.year=t,Object(M.isNullOrUndefined)(n)?(e.month=1,l.month=12):(e.month=n,l.month=n),e.day=1,l.day=this.getDaysInMonth(t,l.month-1),[e,l]},t.prototype.formatToNgbDatePicker=function(t,n,e){var l={yyyy:"year",mm:"month",dd:"day"},a={};if("dateObj"===n)a.year=t.getFullYear(),a.month=t.getMonth()+1,a.day=t.getDate();else for(var i=n.split(e),r=t.split(e),o=0;o<i.length;o++)a[l[i[o]]]=parseInt(r[o]);return a},t.prototype.formatNgbDateToNormalDate=function(t,n){return n.replace("year",t.year).replace("month",this.prefixZero(t.month)).replace("day",this.prefixZero(t.day))},t.prototype.formatNgbDateToNormalTime=function(t,n){return n.replace("hour",this.prefixZero(t.hour)).replace("minute",this.prefixZero(t.minute))},t.prototype.formatToNgbTimePicker=function(t,n,e){for(var l={hh:"hour",mm:"minute"},a={},i=n.split(e),r=t.split(e),o=0;o<i.length;o++)a[l[i[o]]]=parseInt(r[o]);return a},t.prototype.generateDateTimeString=function(t,n){return this.prefixZero(t.day)+"-"+this.prefixZero(t.month)+"-"+t.year+" "+n.hour+":"+n.minute},t.prototype.prefixZero=function(t){return t<10?"0"+t.toString():t},t.prototype.formatToMoment=function(t,n){if(!Object(Po.f)(t)){n||(n="yyyymmdd");for(var e=t.split(""),l=n.split(""),a={day:1,month:1,year:(new Date).getFullYear()},i=-1,r=0;r<l.length;r++){var o=l[r];r<i||("d"===o||"m"===o?(i=r+2,a["d"===o?"day":"month"]=e[r]+e[r+1]):"y"===o&&(i=r+4,a.year=e[r]+e[r+1]+e[r+2]+e[r+3]))}return E(a.year+"/"+a.month+"/"+a.day)}},t.prototype.formatFromMoment=function(t,n){n||(n="yyyymmdd");for(var e=n.split(""),l=t.year(),a=this.prefixZero(t.month()+1),i=this.prefixZero(t.date()),r="",o=-1,s=0;s<e.length;s++){var u=e[s];s<o||("d"===u||"m"===u?(o=s+2,r+="d"===u?i:a):"y"===u&&(o=s+4,r+=l))}return r},t.prototype.addYears=function(t,n){return E.isMoment(t)||(t=this.formatToMoment(t)),t=Object(Po.a)(t,n),this.formatFromMoment(t)},t.prototype.subTractYears=function(t,n){return E.isMoment(t)||(t=this.formatToMoment(t)),t=Object(Po.j)(t,n),this.formatFromMoment(t)},t.prototype.formatDateStringFromString=function(t,n){var e=this.formatToMoment(t);return E(e).format(n)},t.ngInjectableDef=c.cb({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ss=function(){function t(t,n,e){this.stockChartService=t,this.dateFormatService=n,this.ngbCalendar=e,this.datePickerFormGroup=new Ft.j({}),this.showFormGroup=!1,this.kickStartRequiredArray=[],this.kickStartRequiredObject={},this.kickStartSubject=new el.a,this.stockCharFilterData={},this.filterAllowedChangedFields=["timeInterval"]}return t.prototype.ngOnInit=function(){Object(Po.g)(this.datePickerConfig)||(this.datePickerConfig.kickStartRequired=this.datePickerConfig.kickStartRequired?this.datePickerConfig.kickStartRequired:[],this.stockChartService.initSubjects&&this.stockChartService.initSubjects[this.stockChartId]&&this.stockChartService.initSubjects[this.stockChartId].date.next(!0),this.handleSubscriptions(),this.setDefaultMinMaxDates())},t.prototype.setDefaultMinMaxDates=function(){this.minDate=JSON.stringify(JSON.parse(this.datePickerConfig.minDate)),this.maxDate="today"===this.datePickerConfig.maxDate?Object(Po.d)():JSON.stringify(JSON.parse(this.datePickerConfig.maxDate)),this.minDatePickerDate=this.convertToDate(this.minDate),this.maxDatePickerDate=this.convertToDate(this.maxDate),this.maxDateForStartDate=this.ngbCalendar.getToday()},t.prototype.initComponent=function(){var t;this.timeSpanConfiguration=this.datePickerConfig.timeIntervalConfig[this.stockCharFilterData.timeInterval],"tillMinDate"===this.timeSpanConfiguration?(this.setDefaultMinMaxDates(),t=JSON.parse(JSON.stringify(this.minDate))):(this.setDefaultMinMaxDates(),t=this.dateFormatService.subTractYears(this.maxDate,this.timeSpanConfiguration)),this.datePickerFormGroup.get("startDate")?this.datePickerFormGroup.get("startDate").setValue(t):this.datePickerFormGroup.addControl("startDate",new Ft.g(t)),this.datePickerFormGroup.get("endDate")?this.datePickerFormGroup.get("endDate").setValue(this.maxDate):this.datePickerFormGroup.addControl("endDate",new Ft.g(this.maxDate)),this.maxDatePickerDate=this.convertToDate(this.maxDate),this.showFormGroup=!0,this.stockChartService.updateDatePickerForm(this.stockChartId,this.datePickerFormGroup.value)},t.prototype.startDateChange=function(t){if("tillMinDate"!=this.timeSpanConfiguration){var n=this.dateFormatService.addYears(this.datePickerFormGroup.value.startDate,this.timeSpanConfiguration),e=Object(Po.d)(),l=this.datePickerFormGroup.get("endDate").value,a=this.datePickerFormGroup.get("startDate").value;this.maxDate=n>e?e:n,(Object(Po.c)(l)>Object(Po.c)(this.maxDate)||Object(Po.c)(l)<Object(Po.c)(a))&&this.datePickerFormGroup.get("endDate").setValue(this.maxDate),this.maxDatePickerDate=this.convertToDate(this.maxDate)}},t.prototype.submit=function(){this.stockChartService.updateDatePickerForm(this.stockChartId,this.datePickerFormGroup.value)},t.prototype.convertToDate=function(t){var n=this.dateFormatService.formatToMoment(t);return{day:n.date(),month:n.month()+1,year:n.year()}},t.prototype.handleSubscriptions=function(){var t=this;this.kickStartRequiredArray=this.datePickerConfig.kickStartRequired,0==this.kickStartRequiredArray.length?this.initComponent():(this.kickStartRequiredArray.forEach(function(n){t.kickStartRequiredObject[n]=!1}),this.kickStartSubject.subscribe(function(n){var e=!0;Object.values(n).forEach(function(t){(Object(Po.f)(t)||!1===t)&&(e=!1)}),e&&t.initComponent()}),this.subscribeToKickStartComponents())},t.prototype.subscribeToKickStartComponents=function(){var t=this;this.kickStartRequiredArray.forEach(function(n){"filter"==n&&(t.stockChartService.createFilterSubject(t.stockChartId),t.stockChartService.initSubjects[t.stockChartId][n].subscribe(function(n){n&&(t.filterSubscription=t.stockChartService.filterFormSubjects[t.stockChartId].subscribe(function(n){t.stockCharFilterData=n.data,t.isNeedToChange(n,"filter")&&t.initComponent(),Object(Po.g)(t.kickStartRequiredObject)||Object(Po.f)(t.kickStartRequiredObject.filter)||t.kickStartRequiredObject.filter||(t.kickStartRequiredObject.filter=!0,t.kickStartSubject.next(t.kickStartRequiredObject))}))}))})},t.prototype.isNeedToChange=function(t,n){var e=Object(Po.g)(t.changedFields)?[]:t.changedFields,l="filter"===n?this.filterAllowedChangedFields:[],a=!1;return e.length>0&&e.forEach(function(t){a||-1===l.indexOf(t)||(a=!0)}),a},t.prototype.ngOnDestroy=function(){this.stockChartService.resetFilterData(),this.filterSubscription&&this.filterSubscription.unsubscribe()},t}(),us=c.zb({encapsulation:0,styles:[[".input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(textarea){height:22px}"]],data:{}});function cs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,34,"div",[["class","form-row"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,1).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,1).onReset()&&l),l},null,null)),c.Ab(1,540672,null,0,Ft.k,[[8,null],[8,null]],{form:[0,"form"]},null),c.Pb(2048,null,Ft.c,null,[Ft.k]),c.Ab(3,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(4,0,null,null,13,"div",[["class","form-group col m-0"],["title","Start Date"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,12,"div",[["class","input-group input-group-sm"]],null,null,null,null,null)),(t()(),c.Bb(6,16777216,null,null,8,"input",[["class","form-control form-control-sm"],["formControlName","startDate"],["name","dp"],["ngbDatepicker",""],["placeholder","dd-mm-yyyy"]],[[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"dateSelect"],[null,"input"],[null,"change"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,8).manualDateChange(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,8).manualDateChange(e.target.value,!0)&&l),"blur"===n&&(l=!1!==c.Lb(t,8).onBlur()&&l),"input"===n&&(l=!1!==c.Lb(t,9)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,9).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,9)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,9)._compositionEnd(e.target.value)&&l),"dateSelect"===n&&(l=!1!==a.startDateChange(e)&&l),l},null,null)),c.Pb(512,null,Ql.ob,Ql.ob,[Ql.i,Ql.r]),c.Ab(8,671744,[["d1",4]],0,Ql.B,[Ql.o,c.n,c.Y,c.N,c.l,c.F,Ql.ob,Ql.i,Ql.n,m.d,c.i],{minDate:[0,"minDate"],maxDate:[1,"maxDate"]},{dateSelect:"dateSelect"}),c.Ab(9,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ql.B]),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ql.B,Ft.d]),c.Ab(12,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(14,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(15,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"button",[["class","btn btn-sm btn-outline-secondary"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==c.Lb(t,8).toggle()&&l),l},null,null)),(t()(),c.Bb(17,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,13,"div",[["class","form-group col m-0"],["title","End Date"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,12,"div",[["class","input-group input-group-sm"]],null,null,null,null,null)),(t()(),c.Bb(20,16777216,null,null,8,"input",[["class","form-control form-control-sm"],["formControlName","endDate"],["name","dp"],["ngbDatepicker",""],["placeholder","dd-mm-yyyy"]],[[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"change"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,22).manualDateChange(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,22).manualDateChange(e.target.value,!0)&&l),"blur"===n&&(l=!1!==c.Lb(t,22).onBlur()&&l),"input"===n&&(l=!1!==c.Lb(t,23)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,23).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,23)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,23)._compositionEnd(e.target.value)&&l),l},null,null)),c.Pb(512,null,Ql.ob,Ql.ob,[Ql.i,Ql.r]),c.Ab(22,671744,[["d2",4]],0,Ql.B,[Ql.o,c.n,c.Y,c.N,c.l,c.F,Ql.ob,Ql.i,Ql.n,m.d,c.i],{minDate:[0,"minDate"],maxDate:[1,"maxDate"]},null),c.Ab(23,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ql.B]),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ql.B,Ft.d]),c.Ab(26,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(28,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(29,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"button",[["class","btn btn-sm btn-outline-secondary"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==c.Lb(t,22).toggle()&&l),l},null,null)),(t()(),c.Bb(31,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,2,"div",[["class","col-auto"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,1,"button",[["class","btn btn-sm btn-dark"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),c.Bb(34,0,null,null,0,"i",[["class","fa fa-filter"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,1,0,e.datePickerFormGroup),t(n,8,0,e.minDatePickerDate,e.maxDateForStartDate),t(n,12,0,"startDate"),t(n,22,0,e.convertToDate(e.datePickerFormGroup.get("startDate").value),e.maxDatePickerDate),t(n,26,0,"endDate")},function(t,n){t(n,0,0,c.Lb(n,3).ngClassUntouched,c.Lb(n,3).ngClassTouched,c.Lb(n,3).ngClassPristine,c.Lb(n,3).ngClassDirty,c.Lb(n,3).ngClassValid,c.Lb(n,3).ngClassInvalid,c.Lb(n,3).ngClassPending),t(n,6,0,c.Lb(n,8).disabled,c.Lb(n,14).ngClassUntouched,c.Lb(n,14).ngClassTouched,c.Lb(n,14).ngClassPristine,c.Lb(n,14).ngClassDirty,c.Lb(n,14).ngClassValid,c.Lb(n,14).ngClassInvalid,c.Lb(n,14).ngClassPending),t(n,20,0,c.Lb(n,22).disabled,c.Lb(n,28).ngClassUntouched,c.Lb(n,28).ngClassTouched,c.Lb(n,28).ngClassPristine,c.Lb(n,28).ngClassDirty,c.Lb(n,28).ngClassValid,c.Lb(n,28).ngClassInvalid,c.Lb(n,28).ngClassPending)})}function hs(t){return c.Ub(0,[(t()(),c.sb(16777216,null,null,1,null,cs)),c.Ab(1,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,1,0,n.component.showFormGroup)},null)}var ds=e("5ZEx"),ps=e("N9ju"),gs=e.n(ps),ms=e("HuDP"),bs=e("UkVQ"),fs=e("nc8d"),ys=e("NEWP"),vs=e("Y7wS"),Cs=e("nrUO");Er()(ds),ms(ds),bs(ds),fs(ds),ys(ds),vs(ds),Cs(ds),gs()(ds),kr()(ds);var Ss=function(){function t(t){this.stockChartService=t,this.chartInitiliazed=new c.q,this.updateChart=!1,this.showChart=!1,this.Highcharts=ds,this.isDataPresent=!1}return t.prototype.ngOnInit=function(){var t=this;this.stockChartService.stockCartConfigSubjects[this.chartId].subscribe(function(n){Object(Po.g)(n)||Object(Po.e)(n.yAxis)?t.showChart=!1:(t.isDataPresent=t.stockChartService.isDataPresentInStockChart(n.series),t.stockChartRenderConfig=n,t.updateChart=!1,t.showChart=!1,setTimeout(function(){t.showChart=!0,t.updateChart=!0},100))})},t.prototype.initChart=function(t){this.chartInitiliazed.emit(t)},t}(),Ms=c.zb({encapsulation:0,styles:[[".container-class[_ngcontent-%COMP%]{max-height:800px;height:75vh;width:100%}"]],data:{}});function _s(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"highcharts-chart",[["class","border border-secondary rounded"],["style","width: 100%; height: 380px; display: block;float: left; background: transparent;"]],null,[[null,"chartInstance"],[null,"updateChange"]],function(t,n,e){var l=!0,a=t.component;return"chartInstance"===n&&(l=!1!==a.initChart(e)&&l),"updateChange"===n&&(l=!1!==(a.updateChart=e)&&l),l},Pr.b,Pr.a)),c.Ab(1,704512,null,0,xr.a,[c.n,c.F],{Highcharts:[0,"Highcharts"],constructorType:[1,"constructorType"],oneToOne:[2,"oneToOne"],options:[3,"options"],update:[4,"update"]},{updateChange:"updateChange",chartInstance:"chartInstance"})],function(t,n){var e=n.component;t(n,1,0,e.Highcharts,"stockChart",!0,e.stockChartRenderConfig,e.updateChart)},null)}function Ls(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Select Any Indicator"]))],null,null)}function Os(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["style","text-align:center;"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"p",[["class","text-dark"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart Data is not Available"]))],null,null)}function As(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["blur","0"],["class","text-white"],["ngxUiLoaderBlurred",""],["style","min-height:380x;position: relative;"]],null,null,null,null,null)),c.Ab(1,212992,null,0,Al.j,[c.n,c.N,Al.d],{blur:[0,"blur"]},null),(t()(),c.sb(16777216,null,null,1,null,_s)),c.Ab(3,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ls)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Os)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,1,0,"0"),t(n,3,0,e.showChart&&e.isDataPresent),t(n,5,0,!e.isDataPresent&&0==(null==e.stockChartRenderConfig?null:null==e.stockChartRenderConfig.series?null:e.stockChartRenderConfig.series.length)),t(n,7,0,!e.isDataPresent&&(null==e.stockChartRenderConfig?null:null==e.stockChartRenderConfig.series?null:e.stockChartRenderConfig.series.length)>0)},null)}var Ts=e("FdbF"),Ds=e("ZYjt"),Ps={light:{colors:["blue","green","#8bbc21","#F8FBFE","#1aadce","#492970","#f28f43","#77a1e5","#F8FBFE","#a6c96a"],chart:{backgroundColor:"#fff",borderWidth:0,plotBackgroundColor:"#fff",plotShadow:!1,plotBorderWidth:0},title:{style:{color:"#274b6d",fontSize:"16px"}},subtitle:{style:{color:"#4d759e"}},xAxis:{gridLineWidth:0,lineColor:"#C0D0E0",tickColor:"#C0D0E0",labels:{style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}},title:{style:{color:"#4d759e",fontWeight:"bold"}}},yAxis:{gridLineColor:"#f2f2f2",minorTickInterval:null,lineColor:"#C0D0E0",lineWidth:1,gridLineWidth:0,tickWidth:1,tickColor:"#C0D0E0",labels:{style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}},title:{style:{color:"#4d759e",fontWeight:"bold"}}},tooltip:{backgroundColor:"#f7f7f7",style:{color:"#0f0f0f"}},legend:{backgroundColor:"#f7f7f7",itemStyle:{color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"}},plotOptions:{series:{dataLabels:{color:"#B0B0B3"},marker:{lineColor:"#000"},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"black"],[1,"red"]]}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"#333"},errorbar:{color:"white"}},labels:{style:{color:"#3E576F"}},navigation:{buttonOptions:{theme:{stroke:"#CCCCCC"}}},rangeSelector:{buttonTheme:{fill:"#f7f7f7",stroke:"#000000",style:{color:"#505053"},states:{hover:{fill:"#e6e6e6",stroke:"#000000",style:{color:"black"}},select:{fill:"#e6ebf5",stroke:"#000000",style:{color:"#505053"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#fff",color:"#505053"},labelStyle:{color:"#505053"}},exporting:{buttons:{contextButton:{symbolStroke:"#505053",theme:{fill:"#fff"}}}},navigator:{series:{type:"areaspline",marker:{enabled:!1},pointRange:0,threshold:null,color:"#7798BF"},handles:{backgroundColor:"#f2f2f2",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(102,133,194,0.3)",maskInside:!0,color:"SteelBlue",lineColor:"#358AA3",xAxis:{gridLineColor:"#e6e6e6"}},scrollbar:{barBackgroundColor:"#cccccc",barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"white"}},dark:{colors:["red","orange","#255498","#93bced","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#000000",style:{},plotBorderColor:"#606063",plotBackgroundColor:"#00000"},title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"",gridLineWidth:0,lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",labels:{style:{color:"#E0E0E3"}},title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#4D4D4D",gridLineWidth:0,minorGridLineWidth:0,lineWidth:0,minorTickInterval:null,labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#B0B0B3"},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{series:{type:"areaspline",marker:{enabled:!1},pointRange:0,threshold:null,color:"red"},handles:{backgroundColor:"#f2f2f2",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(102,133,194,0.3)",maskInside:!0,color:"SteelBlue",lineColor:"#358AA3",xAxis:{gridLineColor:"#e6e6e6"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"#505053",dataLabelsColor:"#B0B0B3",textColor:"#C0C0C0",contrastTextColor:"#F0F0F3",maskColor:"rgba(255,255,255,0.3)",exporting:{buttons:{contextButton:{symbolStroke:"#505053",theme:{fill:"#fff"}}}}},sandSignika:{colors:["#f45b5b","#8085e9","#8d4654","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#fff",plotBackgroundColor:"#fff",style:{}},title:{style:{color:"black",fontSize:"16px",fontWeight:"bold"}},subtitle:{style:{color:"black"}},tooltip:{borderWidth:0},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{gridLineWidth:0,labels:{style:{color:"#6e6e70"}}},yAxis:{gridLineColor:"#f2f2f2",minorTickInterval:null,labels:{style:{color:"#6e6e70"}}},plotOptions:{series:{shadow:!0},candlestick:{lineColor:"#404048"},map:{shadow:!1}},navigator:{xAxis:{gridLineColor:"#D0D0D8"}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#fff",color:"#333333"},labelStyle:{color:"#333333"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#C0C0C8"},background2:"#E0E0E8",exporting:{buttons:{contextButton:{symbolStroke:"#505053",theme:{fill:"#fff"}}}}},gridLight:{colors:["#7cb5ec","#f7a35c","#90ee7e","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"#fff",plotBackgroundColor:"#fff",style:{}},title:{style:{color:"black",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"}},tooltip:{borderWidth:0,backgroundColor:"#505053",shadow:!1,style:{color:"#F0F0F0"}},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{gridLineColor:"#f2f2f2",gridLineWidth:.8,labels:{style:{fontSize:"12px"}}},yAxis:{gridLineColor:"#f2f2f2",minorTickInterval:null,title:{style:{textTransform:"uppercase"}},labels:{style:{fontSize:"12px"}}},plotOptions:{candlestick:{lineColor:"#404048"}},background2:"#F0F0EA",exporting:{buttons:{contextButton:{symbolStroke:"#505053",theme:{fill:"#fff"}}}}}},xs={indicators:!0,dateHandler:!0,rangeSelector:!0,secondaryChart:!0,navigator:!0,scrollbar:!0,labels:!0,connectNulls:!1,hideDataGaps:!1,xAxis:{labelFormats:{common:"%d-%b<br>%Y",dateTimeLabelFormats:{millisecond:"%d-%b<br>%Y",second:"%d-%b<br>%Y",minute:"%d-%b<br>%Y",hour:"%d-%b<br>%Y",day:"%d-%b<br>%Y",week:"%d-%b<br>%Y",month:"%d-%b<br>%Y",year:"%d-%b<br>%Y"}}},yAxis:{labelsAlignment:"right",unitAsTitle:!0,unitsBesideLabel:!0,labelsFormatter:{functionName:"yAxisFormatter"}}},ws=e("GcAX"),ks=e("aCLD"),Is=function(){function t(t,n,e,l,a,i,r,o,s){this.stockChartService=t,this.dataService=n,this.ngbModal=e,this.router=l,this.route=a,this.ngxLoader=i,this.stockChartCustomService=r,this.stockChartGeoService=o,this.stockChartFormatService=s,this.configDataEmitter=new c.q,this.themeConfig=Ps,this.byDefaultFilterCount=1,this.updateRequireFields=["primary"],this.updatedFieldsArray=[],this.allUpdateFieldArray=["primary"],this.updatedRequiredObject={primary:!0,secondary:!1,compare:!1},this.updatedSubject=new el.a,this.chartOrder=["primary","secondary","sma"],this.smaValue={},this.getHeaders=Object.keys,this.Highcharts=ds,this.showChart=!1,this.updateFlag=!1,this.kickStartRequiredArray=[],this.kickStartRequiredObject={},this.kickStartSubject=new el.a,this.kickStartSubscription=new el.a,this.stockCharFilterData={},this.filterAllowedChangedFields=[],this.stockChartDatePickerData={},this.datePickerAllowedChangedFields=[],this.indicatorsConfig={},this.primaryCharts=[],this.secondaryCharts=[],this.primaryForkArray=[],this.primaryForkArrayNames=[],this.secondaryForkArray=[],this.secondaryForkArrayNames=[],this.applicationDataStore={},this.chartIndexStore={},this.otherSubscriptions={},this.otherSubscriptionsData={},this.chartUnits={primary:"",secondary:""},this.chartUnitYAxisIndex={primary:{},secondary:{}},this.dataAPIs=[],this.subscriptionsInProgress=!0,this.destroySubject=new el.a,this.loaderId={},this.geographicalStateObject={},this.plotLineIdConfigMapping={},this.apiData={}}return t.prototype.ngOnInit=function(){var t=this;Object(Po.f)(this.stockChartConfig)||Object(Po.g)(this.stockChartConfig)||(ds.setOptions({time:{useUTC:!1,timezone:"Asia/Kolkata"}}),this.subscriptionsInProgress=!0,this.stockChartId=this.stockChartConfig.chartId,this.updateGeographicalStateObject(),this.stockChartConfig.chartOptions=this.dataService.deepMerge(xs,this.stockChartConfig.chartOptions),this.stockChartService.getIndicatorsConfig(this.dataService.deepClone(this.stockChartConfig),this.geographicalStateObject).subscribe(function(n){console.log("\n data ",n),t.stockChartConfig=n[0],t.indicatorsConfig=n[1],t.byDefaultFilterCount=t.stockChartService.getByDefaultFilterCount(t.stockChartConfig.filterConfig),t.stockChartConfig.kickStartRequired=t.stockChartConfig.kickStartRequired?t.stockChartConfig.kickStartRequired:[],t.handleStockChartIdMethods(),t.stockChartConfig.routerConfig&&t.stockChartConfig.routerConfig.routeChangeInvoke&&(t.routerSubscription=t.router.events.subscribe(function(n){console.log("\n event \n",n),n instanceof b.f&&(t.resetApplicationDataStore(),t.initMethods())}))}))},t.prototype.chartInitiliazed=function(t){var n=this;this.HighChartsInstance=t,this.removeExistingPlotBands(),setTimeout(function(){n.updatePlotBands()},100)},t.prototype.updateGeographicalStateObject=function(){if(!Object(Po.f)(this.stockChartConfig.geographicalConfig)){var t=this.stockChartConfig.geographicalConfig,n=this.route.snapshot[t.paramType?t.paramType:"queryParams"][t.locationField];Object(Po.f)(n)?(this.geographicalStateObject.location=t.currentLocation,this.geographicalStateObject.parent=t.currentParent,this.geographicalStateObject.child=t.currentChild):t.automate&&(this.geographicalStateObject=this.stockChartGeoService.extractLocationInformation({location:!0,parent:!0,child:!0},n,t.hierarchyId))}},t.prototype.handleStockChartIdMethods=function(){this.loaderId.primary=this.stockChartId+"primary",this.loaderId.secondary=this.stockChartId+"secondary",this.setChartDefaultConfig(),this.removegapsbetweenBarsRainfall(),this.createServiceSubjects(),this.handleSubscriptions(),this.handleUpdateSubscription(),this.subscriptionsInProgress=!1},t.prototype.removegapsbetweenBarsRainfall=function(){"RAINFALLGISCOMMONWRIS"!=this.stockChartConfig.chartId&&"RAINFALLGISCOMMONWRIS"!=this.stockChartConfig.chartId||(this.stockChartRenderConfig.plotOptions.column.grouping=!1)},t.prototype.createServiceSubjects=function(){var t=this;this.stockChartService.createStockChartSubject(this.stockChartId),this.stockChartConfig.kickStartRequired&&this.stockChartConfig.kickStartRequired.length>0&&this.stockChartConfig.kickStartRequired.forEach(function(n){t.stockChartService.initSubjects[t.stockChartId]||(t.stockChartService.initSubjects[t.stockChartId]={}),t.stockChartService.initSubjects[t.stockChartId][n]=new N.a(!1)})},t.prototype.ngOnDestroy=function(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.stockChartService.clearAllSubjectsForChart(this.stockChartId),Object(Po.f)(this.filterSubscription)||this.filterSubscription.unsubscribe(),Object(Po.f)(this.datePickerSubscription)||this.datePickerSubscription.unsubscribe(),Object(Po.f)(this.kickStartSubscription)||this.kickStartSubscription.unsubscribe();for(var t=0,n=Object.keys(this.otherSubscriptions);t<n.length;t++){var e=n[t];this.otherSubscriptionsData[e]={},this.otherSubscriptions[e].unsubscribe()}},t.prototype.handleOtherSubscriptions=function(){var t=this;this.stockChartConfig.otherSubscriptions.forEach(function(n){t.otherSubscriptions[n]=t.stockChartService[n].subscribe(function(e){t.otherSubscriptionsData[n]=e,t.initMethods()})})},t.prototype.handleUpdateSubscription=function(){var t=this;this.updatedSubject.subscribe(function(n){-1===t.updatedFieldsArray.indexOf(n)&&t.updatedFieldsArray.push(n),Object(Po.i)(t.updatedFieldsArray,t.updateRequireFields)&&(t.updatedFieldsArray=["primary"],t.updateRequireFields=["primary"],t.stockCharFilterData.secondaryApplication&&(t.updatedFieldsArray.push("secondary"),t.updateRequireFields.push("secondary")),t.updateChartConfig())})},t.prototype.handleSubscriptions=function(){var t=this;this.kickStartRequiredArray=this.stockChartConfig.kickStartRequired,0==this.kickStartRequiredArray.length?this.initMethods():(this.kickStartRequiredArray.forEach(function(n){t.kickStartRequiredObject[n]=!1}),this.kickStartSubject.subscribe(function(n){var e=!0;Object.values(n).forEach(function(t){(Object(Po.f)(t)||!1===t)&&(e=!1)}),e&&t.initMethods()}),this.subscribeToKickStartComponents())},t.prototype.subscribeToKickStartComponents=function(){var t=this;this.kickStartRequiredArray.forEach(function(n){"filter"==n?(t.stockChartService.createFilterSubject(t.stockChartId),t.stockChartService.initSubjects[t.stockChartId][n].subscribe(function(n){n&&(t.filterSubscription=t.stockChartService.filterFormSubjects[t.stockChartId].subscribe(function(n){Object(Po.g)(n)||(t.stockCharFilterData=n.data,t.kickStartRequiredObject.filter&&(Object(Po.e)(n.changedFields)||t.filterValueChange(n.changedFields[0],n.configObject[n.changedFields[0]])),Object(Po.g)(t.kickStartRequiredObject)||Object(Po.f)(t.kickStartRequiredObject.filter)||t.kickStartRequiredObject.filter||(t.kickStartRequiredObject.filter=!0,t.kickStartSubject.next(t.kickStartRequiredObject)))}))})):"date"===n&&(t.stockChartService.createDatePickerSubject(t.stockChartId),t.stockChartService.initSubjects[t.stockChartId][n].subscribe(function(n){n&&(t.datePickerSubscription=t.stockChartService.datePickerSubjects[t.stockChartId].subscribe(function(n){Object(Po.g)(n)||(t.stockChartDatePickerData=n,t.kickStartRequiredObject.date&&(t.resetApplicationDataStore(),t.initMethods()),Object(Po.g)(t.kickStartRequiredObject)||Object(Po.f)(t.kickStartRequiredObject.date)||t.kickStartRequiredObject.date||(t.kickStartRequiredObject.date=!0,t.kickStartSubject.next(t.kickStartRequiredObject)))}))}))})},t.prototype.isNeedToChange=function(t,n){var e=Object(Po.g)(t.changedFields)?[]:t.changedFields,l="filter"===n?this.filterAllowedChangedFields:this.datePickerAllowedChangedFields,a=!1;return e.length>0&&e.forEach(function(t){a||-1===l.indexOf(t)||(a=!0)}),a},t.prototype.resetUpdatedArrays=function(){this.updateRequireFields=["primary"],this.updatedFieldsArray=[]},t.prototype.initMethods=function(t){this.processIndicatorData(t);var n=[];this.primaryCharts.length>0?(n.push("primary"),-1===this.updateRequireFields.indexOf("primary")&&this.updateRequireFields.push("primary"),-1===this.allUpdateFieldArray.indexOf("primary")&&this.allUpdateFieldArray.push("primary")):(this.chartUnits.primary="",-1!==this.updateRequireFields.indexOf("primary")&&this.updateRequireFields.splice(this.updateRequireFields.indexOf("primary"),1),-1!==this.allUpdateFieldArray.indexOf("primary")&&this.allUpdateFieldArray.splice(this.updateRequireFields.indexOf("primary"),1)),this.secondaryCharts.length>0?(n.push("secondary"),-1===this.updateRequireFields.indexOf("secondary")&&this.updateRequireFields.push("secondary"),-1===this.allUpdateFieldArray.indexOf("secondary")&&this.allUpdateFieldArray.push("secondary")):(this.chartUnits.secondary="",-1!==this.updateRequireFields.indexOf("secondary")&&this.updateRequireFields.splice(this.updateRequireFields.indexOf("secondary"),1),-1!==this.allUpdateFieldArray.indexOf("secondary")&&this.allUpdateFieldArray.splice(this.updateRequireFields.indexOf("secondary"),1)),this.callAPIBasedOnInput(n)},t.prototype.createYAxisForChart=function(t,n,e){if(Object(Po.f)(this.chartUnitYAxisIndex[n])&&(this.chartUnitYAxisIndex[n]={}),Object(Po.f)(this.chartUnitYAxisIndex[n][t])){var l={labels:{align:"left",useHTML:!0,style:{color:"#6c757d"}}},a={style:{color:"#6c757d"}};Object.keys(this.chartUnitYAxisIndex[n]).length>0&&(l.opposite=!1,delete l.labels.align,l.gridLineWidth=0),"primary"===n?0===this.secondaryCharts.length?(l.height="100%",Object(Po.f)(l.resize)&&(l.resize={}),l.resize.enabled=!1):(l.height="80%",Object(Po.f)(l.resize)&&(l.resize={}),l.resize.enabled=!0):(l.top="80%",l.height="20%",l.offset=0),"left"===this.stockChartConfig.chartOptions.yAxis.labelsAlignment&&(l.opposite=!1,l.labels||(l.labels={}),l.labels.align="right"),this.stockChartConfig.chartOptions.yAxis.unitsBesideLabel&&(l.labels.format="{value} "+t),this.stockChartConfig.chartOptions.yAxis.showApplicationAsTitle&&(l.title=a,l.title.text=e.title),this.stockChartConfig.chartOptions.yAxis.unitAsTitle&&(Object(Po.f)(l.title)&&(l.title=a),l.title.text=Object(Po.f)(l.title.text)?t:l.title.text+" ("+t+")");var i=this;this.stockChartConfig.chartOptions.yAxis.labelsFormatter&&(l.labels.formatter=function(){if(i.stockChartConfig.chartOptions.yAxis.labelsFormatter.functionName)try{return i.stockChartCustomService[i.stockChartConfig.chartOptions.yAxis.labelsFormatter.functionName](this.value,t,i.stockChartConfig.chartOptions.yAxis)}catch(n){console.log("Y axis label formatter function not exists")}else if(i.stockChartConfig.chartOptions.yAxis.labelsFormatter.formatter)return i.stockChartConfig.chartOptions.yAxis.labelsFormatter.formatter}),this.stockChartRenderConfig.yAxis.push(l),this.chartUnitYAxisIndex[n][t]=this.stockChartRenderConfig.yAxis.length-1}},t.prototype.processIndicatorData=function(t){var n=this;this.clearChartData(t),console.log("\n In processIndicatorData \n ");for(var e=0,l=Object.keys(this.indicatorsConfig);e<l.length;e++){var a=this.stockChartConfig.applicationConfig[o=l[e]];(s=this.indicatorsConfig[o]).visible&&("primary"===s.renderer?this.primaryCharts.push(o):this.secondaryCharts.push(o))}for(var i=0,r=Object.keys(this.indicatorsConfig);i<r.length;i++){var o,s;if(a=this.stockChartConfig.applicationConfig[o=r[i]],(s=this.indicatorsConfig[o]).visible){this.verifyUnitObject(s);var u=a.apiConfig.apiId;if(Object(Po.f)(u)||(-1===this.dataAPIs.indexOf(u)?this.dataAPIs.push(u):console.log("API Index already existed")),this.createYAxisForChart(s.unit,s.renderer,a),"primary"===s.renderer)if(Object(Po.f)(this.applicationDataStore[o])||Object(Po.g)(this.applicationDataStore[o])){var c=this.getPostDataForApplication(o);this.primaryForkArray.push(this.stockChartService.getDataFromAPIConfig(this.stockChartId,c,u,!0)),this.primaryForkArrayNames.push(o)}else this.addOrRemoveIndicatorCharts(o);else this.stockChartConfig.chartOptions.secondaryChart?Object(Po.f)(this.applicationDataStore[o])||Object(Po.g)(this.applicationDataStore[o])?(c=this.getPostDataForApplication(o),this.secondaryForkArray.push(this.stockChartService.getDataFromAPIConfig(this.stockChartId,c,u,!0)),this.secondaryForkArrayNames.push(o)):this.addOrRemoveIndicatorCharts(o):s.visible=!1;"mitanks"==u&&this.stockChartService.dataSubjectsList[this.stockChartId][u].subscribe(function(t){Object.keys(t).forEach(function(e){var l=new Date(parseInt(e));l.setHours(0,0,0);var a=Date.parse(l.toString());n.apiData[a]=t[e]})})}else this.addOrRemoveIndicatorCharts(o)}0===this.primaryCharts.length&&0===this.secondaryCharts.length&&this.updateChartConfig()},t.prototype.verifyUnitObject=function(t){var n={isSameUnit:!1,prevUnit:this.chartUnits[t.renderer],currentUnit:t.unit,applicationTitle:t.title};return Object(Po.g)(this.chartUnits[t.renderer])?n.isSameUnit=!0:n.prevUnit===n.currentUnit&&(n.isSameUnit=!0),n.isSameUnit&&(this.chartUnits[t.renderer]=n.currentUnit),n},t.prototype.resetUnits=function(){this.chartUnits={primary:"",secondary:""}},t.prototype.callAPIBasedOnInput=function(t){var n=this;t.forEach(function(t){switch(t){case"primary":n.ngxLoader.startLoader(n.loaderId.primary),n.processPrimaryChart();break;case"secondary":n.ngxLoader.startLoader(n.loaderId.secondary),n.processSecondaryChart()}})},t.prototype.callServiceBasedOnInput=function(t,n){var e=this;t.forEach(function(t){switch(t){case"primary":e.formatPrimaryChart(n);break;case"secondary":e.formatSecondaryChart(n)}})},t.prototype.formatPrimaryChart=function(t){var n=this;if(0==this.primaryCharts.length)this.updatedSubject.next("primary");else{var e=[];this.primaryCharts.forEach(function(l){var a=n.stockChartConfig.applicationConfig[l].serviceConfig[t];Object(Po.f)(a.paramObject)&&(a.paramObject={}),a.paramObject=n.addFieldsToPostData(a.paramObject,a.additionalServiceParams,"applicationAdditionalServiceParams"),a.paramObject.fromUnit=n.chartUnits&&n.chartUnits.primary,e.push(n.stockChartCustomService[a.functionName](n.applicationDataStore[l],a.paramObject))}),Object(ll.a)(e).subscribe(function(t){t.forEach(function(t,e){n.appendDataToChartConfig(n.primaryCharts[e],"primary",t)}),n.updatedSubject.next("primary")})}},t.prototype.formatSecondaryChart=function(t){var n=this;if(0===this.secondaryCharts.length)this.updatedSubject.next("secondary");else{var e=[];this.secondaryCharts.forEach(function(l){var a=n.stockChartConfig.applicationConfig[l].serviceConfig[t];Object(Po.f)(a.paramObject)&&(a.paramObject={}),a.paramObject=n.addFieldsToPostData(a.paramObject,a.additionalServiceParams,"applicationAdditionalServiceParams"),a.paramObject.fromUnit=n.chartUnits&&n.chartUnits.primary,e.push(n.stockChartCustomService[a.functionName](n.applicationDataStore[l],a.paramObject))}),Object(ll.a)(e).subscribe(function(t){t.forEach(function(t,e){n.appendDataToChartConfig(n.primaryCharts[e],"secondary",t)}),n.updatedSubject.next("secondary")})}},t.prototype.processPrimaryChart=function(){var t=this;0===this.primaryForkArray.length?(this.updatedSubject.next("primary"),this.ngxLoader.stopLoader(this.loaderId.primary)):Object(ll.a)(this.primaryForkArray).subscribe(function(n){var e=!0;Object(Po.f)(t.stockCharFilterData.unit)||(e=t.chartUnits.primary==t.stockCharFilterData.unit),n.forEach(function(n,l){t.applicationDataStore[t.primaryForkArrayNames[l]]=n,e&&t.appendDataToChartConfig(t.primaryForkArrayNames[l],"primary")}),e?t.updatedSubject.next("primary"):t.formatPrimaryChart("unit"),t.ngxLoader.stopLoader(t.loaderId.primary)})},t.prototype.processSecondaryChart=function(){var t=this;0===this.secondaryForkArray.length?(this.updatedSubject.next("secondary"),this.ngxLoader.stopLoader(this.loaderId.secondary)):(Object(ll.a)(this.secondaryForkArray).subscribe(function(n){n.forEach(function(n,e){t.applicationDataStore[t.secondaryForkArrayNames[e]]=n,t.appendDataToChartConfig(t.secondaryForkArrayNames[e],"secondary")}),t.updatedSubject.next("secondary")}),this.ngxLoader.stopLoader(this.loaderId.secondary))},t.prototype.clearChartData=function(t){this.stockChartService.dataSubjectsList[this.stockChartId]={},this.dataAPIs=[],this.apiData={},this.primaryForkArray=[],this.secondaryForkArray=[],this.primaryForkArrayNames=[],this.secondaryForkArrayNames=[],this.stockChartRenderConfig&&this.stockChartRenderConfig.series&&(this.stockChartRenderConfig.series=[]),this.primaryCharts=[],this.secondaryCharts=[],this.stockChartRenderConfig.yAxis=[],this.chartUnitYAxisIndex.primary={},this.chartUnitYAxisIndex.secondary={}},t.prototype.removePrimaryCharts=function(){var t=this;this.primaryCharts.forEach(function(n){t.removeDataFromSeries(t.indicatorsConfig[n].renderer+"_"+n)})},t.prototype.removeSecondaryCharts=function(){var t=this;this.secondaryCharts.forEach(function(n){t.removeDataFromSeries(t.indicatorsConfig[n].renderer+"_"+n)})},t.prototype.getUnitForAxis=function(t,n){return"secondary"===n?t.unit:Object(Po.f)(this.stockCharFilterData.unit)?this.chartUnits.primary:this.stockCharFilterData.unit},t.prototype.appendDataToChartConfig=function(t,n,e){var l=this,a=this.dataService.deepClone(this.stockChartConfig.applicationConfig[t]),i=this.dataService.deepClone(this.indicatorsConfig[t]);Array.isArray(i.chartType)||(i.chartType=[i.chartType]),Array.isArray(i.chartColor)||(i.chartColor=[i.chartColor]),i.chartType.forEach(function(r,o){l.addChartSeriesData(o,a,i,t,n,e)})},t.prototype.addChartSeriesData=function(t,n,e,l,a,i){var r=Object.keys(this.indicatorsConfig).indexOf(l);this.removeDataFromSeries(e.renderer+"_"+l+"_"+e.chartType[t]);var o=Object(Po.f)(i)?this.dataService.deepClone(this.applicationDataStore[l]):this.dataService.deepClone(i);"areasplinerange"===e.chartType[t]&&o.forEach(function(t){t.high=Object(Po.f)(t.areaMax)?null:t.areaMax,t.low=Object(Po.f)(t.areaMin)?null:t.areaMin});var s={type:e.chartType[t],id:a+"_"+l+"_"+e.chartType[t],name:n.title,data:o,tooltip:{valueSuffix:" "+n.unit},yAxis:this.chartUnitYAxisIndex[a][n.unit],zIndex:Object(Po.f)(e.zIndex)?r:e.zIndex,visible:!!Object(Po.f)(e.onLoadVisible)||e.onLoadVisible,connectNulls:!!Object(Po.f)(this.stockChartConfig.chartOptions.connectNulls)||this.stockChartConfig.chartOptions.connectNulls,dummyObject:"dummyObject",events:{legendItemClick:function(t){console.log(t)}}};e.chartColor&&(s.color=e.chartColor[t]),"area"!==s.type&&"areaspline"!==s.type||(s.fillColor={linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,ds.color(s.color).setOpacity(1).get("rgba")],[1,ds.color(s.color).setOpacity(0).get("rgba")]]}),"areasplinerange"===s.type&&(s.fillColor={linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,ds.color(s.color).setOpacity(.3).get("rgba")],[1,ds.color(s.color).setOpacity(.1).get("rgba")]]},s.lineWidth=.1,s.showInLegend=!1,s.zIndex=r-1),"candlestick"===s.type&&(s.lineColor="#ffff"),n.invertAxis&&("primary"===e.renderer&&(this.stockChartRenderConfig.yAxis[0].reversed=!0),"secondary"===e.renderer&&(this.stockChartRenderConfig.yAxis[1].reversed=!0)),this.stockChartRenderConfig.series.push(s),this.chartIndexStore[l]=this.stockChartRenderConfig.series.length-1},t.prototype.isArray=function(t){return Array.isArray(t)},t.prototype.indicatorCheckBoxClick=function(t,n){if("secondary"===n.renderer&&!this.stockChartConfig.chartOptions.secondaryChart)return this.dataService.showToastMessage("No secondary chart to render please select render as primary","error"),void t.preventDefault();n.visible=!n.visible,this.indicatorSubmit()},t.prototype.indicatorSubmit=function(t){this.indicatorDropdown&&this.indicatorDropdown.isOpen()&&this.indicatorDropdown.close(),this.childDropdown&&this.childDropdown.length>0&&this.childDropdown.forEach(function(t){t.isOpen()&&t.close()}),this.updateRequireFields=[],this.updatedFieldsArray=[],this.initMethods("indicator")},t.prototype.addOrRemoveIndicatorCharts=function(t){var n=this.indicatorsConfig[t];if(this.removeDataFromSeries(n.renderer+"_"+t),n.visible){var e=!0;Object(Po.f)(this.stockCharFilterData.unit)||(e=t.unit==this.stockCharFilterData.unit),e||"primary"!==n.renderer?this.appendDataToChartConfig(t,n.renderer):this.formatPrimaryChart("unit")}},t.prototype.indicatorReset=function(){this.indicatorsConfig=this.dataService.deepClone(this.stockChartService.getIndicatorsConfig(this.stockChartConfig,this.geographicalStateObject)),this.initMethods()},t.prototype.getChartType=function(t){var n=this.dataService.deepClone(this.stockChartConfig.applicationConfig[t]),e=this.indicatorsConfig[t];return e.chartType?e.chartType:n.chartType?n.chartType:"spline"},t.prototype.getPostDataForApplication=function(t){var n=this.dataService.deepClone(this.stockChartConfig.applicationConfig[t]),e=n.apiConfig;if(e.postData=this.addFieldsToPostData(e.postData,n.additionalPostParams,"applicationAdditionalParams",n.routerConfig,n.geoGraphicObjectConfig),!Object(Po.f)(e.postDataFormatter)&&!Object(Po.g)(e.postDataFormatter))if(e.postDataFormatter.functionName)try{e.postData=this.stockChartCustomService[e.postDataFormatter.functionName](e.postData,e.postDataFormatter.paramObject)}catch(l){console.log("postdata formatter function error in stock chart service")}else e.postDataFormatter.formatter&&(e.postData=e.postDataFormatter.formatter(e.postData));return e},t.prototype.resetApplicationDataStore=function(){for(var t=0,n=Object.keys(this.applicationDataStore);t<n.length;t++)this.applicationDataStore[n[t]]={}},t.prototype.filterValueChange=function(t,n){if(this.updateRequireFields=[],this.updatedFieldsArray=[],!n.changeFireEventType||"none"!=n.changeFireEventType){switch(t){case"chartTheme":this.chartThemeChange(t)}"api"===n.changeFireEventType&&(this.resetApplicationDataStore(),this.updateRequireFields="all"===n.functionsFireOnChange?JSON.parse(JSON.stringify(this.allUpdateFieldArray)):JSON.parse(JSON.stringify(n.functionsFireOnChange)),this.processIndicatorData(),this.callAPIBasedOnInput(this.updateRequireFields)),"service"===n.changeFireEventType&&(this.updateRequireFields="all"===n.functionsFireOnChange?JSON.parse(JSON.stringify(this.allUpdateFieldArray)):JSON.parse(JSON.stringify(n.functionsFireOnChange)),this.callServiceBasedOnInput(this.updateRequireFields,t))}},t.prototype.chartThemeChange=function(t){this.stockChartRenderConfig=ds.merge(this.stockChartRenderConfig,this.themeConfig[this.stockCharFilterData[t]]),this.updateChartConfig()},t.prototype.updateChartConfig=function(){var t=this;this.updateStockChartLabels(),this.stockChartRenderConfig.series.sort(function(n,e){return t.chartOrder.indexOf(n.id.split("_")[0])>t.chartOrder.indexOf(e.id.split("_")[0])?1:-1}),this.configDataEmitter.emit({filter:this.stockCharFilterData,datePicker:this.stockChartDatePickerData,config:this.stockChartRenderConfig}),setTimeout(function(){t.stockChartService.updateStockChartConfigData(t.stockChartId,t.stockChartRenderConfig)},100)},t.prototype.removeDataFromSeries=function(t){var n=this.stockChartRenderConfig.series.findIndex(function(n){return n.id===t});-1!=n&&this.stockChartRenderConfig.series.splice(n,1)},t.prototype.addFieldsToPostData=function(t,n,e,l,a){n="all"==n?this.stockChartConfig[e]:"none"==n?{}:this.getNeedFields(n);for(var i=0,r=Object.keys(n);i<r.length;i++){var o,s=r[i];o="filter"===s?this.stockCharFilterData:"date"===s?this.stockChartDatePickerData:this.otherSubscriptionsData[s];for(var u=0,c=Object.keys(n[s]);u<c.length;u++){var h=c[u];Object(Po.g)(o)||Object(Po.f)(o[h])||(t[n[s][h]]=o[h])}}var d=l||(this.stockChartConfig.routerConfig?this.stockChartConfig.routerConfig:{});if(!Object(Po.g)(d)){if(!Object(Po.g)(d.queryParam))for(var p=0,g=Object.keys(d.queryParam);p<g.length;p++){var m=g[p];Object(Po.f)(this.route.snapshot.queryParams[m])||(t[d.queryParam[m]]=this.route.snapshot.queryParams[m])}if(!Object(Po.g)(d.paramMap))for(var b=0,f=Object.keys(d.paramMap);b<f.length;b++)m=f[b],Object(Po.f)(this.route.snapshot.params[m])||(t[d.paramMap[m]]=this.route.snapshot.params[m])}if(!Object(Po.f)(a)&&!Object(Po.g)(a))for(var y=0,v=Object.keys(a);y<v.length;y++)m=v[y],Object(Po.f)(this.geographicalStateObject[m])||(t[a[m]]=this.geographicalStateObject[m]);return t},t.prototype.getNeedFields=function(t){var n=this,e={};return t.split("$$").forEach(function(t){var l=t.split("##")[0],a=t.split("##")[1];Object(Po.g)(e[l])&&(e[l]={}),e[l][a]=n.stockChartConfig.applicationAdditionalParams[l][a]}),e},t.prototype.openSMAModal=function(){var t=this,n=this.ngbModal.open(ws.a,{size:"sm"});n.componentInstance.formValue=this.smaValue,n.result.then(function(n){if(t.smaValue=n,t.smaValue.showSMA){if(0===t.primaryCharts.length)return void t.dataService.showToastMessage("No primary chart to render sma","error");t.addOrRemoveSMAFromChart(t.smaValue.numberOfDays,"add")}else t.addOrRemoveSMAFromChart(null,"remove")})},t.prototype.addOrRemoveSMAFromChart=function(t,n){if("add"==n){var e={name:"SMA for"+this.stockChartConfig.applicationConfig[this.primaryCharts[0]].title+" of "+t,type:"sma",id:"sma",chartType:"spline",linkedTo:"primary_"+this.primaryCharts[0],marker:{enabled:!1},params:{period:Object(Po.c)(t)}};this.stockChartRenderConfig.series.push(e)}else{var l=this.stockChartRenderConfig.series.findIndex(function(t){return"sma"==t.id});l>=0&&this.stockChartRenderConfig.series.splice(l,1)}this.updateChartConfig()},t.prototype.setChartDefaultConfig=function(){var t=this;this.stockChartRenderConfig={chart:{backgroundColor:"#ffffff"},credits:{enabled:!1},time:{useUTC:!1,timezone:"Asia/Kolkata"},xAxis:[{type:"datetime",labels:{style:{color:"#6c757d"}},ordinal:!1,dateTimeLabelFormats:{millisecond:"%d-%b<br>%Y",second:"%d-%b<br>%Y",minute:"%d-%b<br>%Y",hour:"%d-%b<br>%Y",day:"%d-%b<br>%Y",week:"%d-%b<br>%Y",month:"%d-%b<br>%Y",year:"%d-%b<br>%Y"}}],navigator:{enabled:!0,height:10,series:{lineWidth:0,fillOpacity:0,type:"line"},xAxis:{labels:{enabled:!1},ordinal:!1,type:"datetime",dateTimeLabelFormats:{millisecond:"%d-%b<br>%Y",second:"%d-%b<br>%Y",minute:"%d-%b<br>%Y",hour:"%d-%b<br>%Y",day:"%d-%b<br>%Y",week:"%d-%b<br>%Y",month:"%d-%b<br>%Y",year:"%d-%b<br>%Y"}}},yAxis:[{labels:{enabled:!0,style:{color:"#6c757dx"}}}],tooltip:{shape:"square",headerShape:"callout",borderWidth:0,color:"#fff",shadow:!1,enabled:!0,split:!0,shared:!0,useHTML:!0,valueDecimals:2,formatter:function(){var n=this,e="<b>"+ds.dateFormat("%A, %d %b, %Y",this.x)+"</b><br>";if("GROUNDWATERCOMMONWRISFORSEASON"==t.stockChartConfig.chartId){var l,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=t.stockChartConfig.chartOptions.xAxis.intervalPeriod,r=new Date(this.x),o=new Date(864e5*i*32+this.x);l=a[r.getMonth()]+"-"+a[o.getMonth()]+" "+r.getFullYear(),e="<b>"+l+"</b><br>"}var s="";return this.points.forEach(function(l){var a=l.series.userOptions&&l.series.userOptions.tooltip&&l.series.userOptions.tooltip.valueSuffix?l.series.userOptions.tooltip.valueSuffix:"";l.series.pointArrayMap&&l.series.pointArrayMap.length>1&&("candlestick"===l.series.type||"areasplinerange"===l.series.type)?(s!=l.series.name&&(e+="<br/><b>"+l.series.name+"</b> <br>"),s=l.series.name,l.series.pointArrayMap.forEach(function(n){var i=n;"areasplinerange"===l.series.type&&(i="high"===n?"Normal Max":"Normal Min"),"candlestick"===l.series.type?"open"!==n&&"close"!==n||(e+="&nbsp&nbsp&nbsp"+t.stockChartCustomService.titleCase(i="open"===n?"Actual Max":"Actual Min")+": "+l.point[n]+a+"<br>"):e+="&nbsp&nbsp&nbsp"+t.stockChartCustomService.titleCase(i)+": "+l.point[n]+a+"<br>"})):(e+='<br/><span style="color:'+l.series.color+';">\u25cf </span>'+l.series.name+": <b>"+t.stockChartCustomService.formatNumberUptoFiveDecimal(l.y)+a+"</b>","Water Spread Area"==l.series.name&&Object.keys(t.apiData).length>0&&!Object(M.isNullOrUndefined)(t.apiData[n.x]["Fill Type"])&&(e+='<br/><span style="color: #606060 ;">\u25cf </span>Fill Type: <b>'+ks.a.MITANKS_FILL_TYPE_MAP[t.apiData[n.x]["Fill Type"]]+"</b>",e+='<br/><span style="color: #606060 ;">\u25cf </span>Ref. Date: <b>'+t.stockChartFormatService.formatDateStringFromString(t.apiData[n.x]["Previous Date"].toString(),"DD-MMM-YYYY")+"</b>"))}),e},positioner:function(t,n,e){var l=this.chart;return e.isHeader?{x:Math.max(l.plotLeft,Math.min(e.plotX+l.plotLeft-t/2,l.chartWidth-t-l.marginRight)),y:e.plotY}:{x:e.series.chart.plotLeft,y:e.series.yAxis.top-l.plotTop}}},legend:{itemMarginTop:10,enabled:!0,itemStyle:{color:"#6c757d"}},plotOptions:{flags:{showInLegend:!1},series:{dataGrouping:{enabled:!1,forced:!0}},column:{grouping:!0}},stockTools:{gui:{enabled:!1,buttons:["separator","measure","toggleAnnotations","separator","flags","separator","crookedLines","simpleShapes","verticalLabels","separator"],definitions:{measure:{items:["measureX","measureY"]},simpleShapes:{items:["label","circle"]},verticalLabels:{items:["verticalLabel","verticalArrow"]}}}},rangeSelector:{enabled:!0,inputEnabled:!1,selected:10,buttons:[{type:"day",count:5,text:"5d",timeRangeInMillis:432e6},{type:"week",count:1,text:"1w",timeRangeInMillis:6048e5},{type:"day",count:15,text:"15d",timeRangeInMillis:1296e6},{type:"month",count:1,text:"1m",timeRangeInMillis:2592e6},{type:"month",count:3,text:"3m",timeRangeInMillis:7776e6},{type:"month",count:6,text:"6m",timeRangeInMillis:15552e6},{type:"year",count:1,text:"1y",timeRangeInMillis:31536e6},{type:"mytd",text:"MYTD"},{type:"ytd",text:"YTD"},{type:"all",text:"All"}]},series:[],responsive:{rules:[{condition:{maxWidth:800},chartOptions:{rangeSelector:{inputEnabled:!1}}}]}},this.formatDefaultConfig()},t.prototype.formatDefaultConfig=function(){var t=this.stockChartConfig.chartOptions;Object(Po.f)(t.rangeSelector)||t.rangeSelector||(this.stockChartRenderConfig.rangeSelector.enabled=!1),Object(Po.f)(t.navigator)||t.navigator||(this.stockChartRenderConfig.navigator.enabled=!1),Object(Po.f)(t.scrollbar)||t.scrollbar||(this.stockChartRenderConfig.scrollbar={},this.stockChartRenderConfig.scrollbar.enabled=!1),!Object(Po.f)(t.hideDataGaps)&&t.hideDataGaps&&(this.stockChartRenderConfig.xAxis[0].ordinal=!0),this.updateStockChartLabels()},t.prototype.updateStockChartLabels=function(){for(var t=0,n=this.getHeaders(this.stockChartRenderConfig.xAxis[0].dateTimeLabelFormats);t<n.length;t++){var e=n[t];this.stockChartRenderConfig.xAxis[0].dateTimeLabelFormats[e]=this.getLabelForxAxis(this.stockChartConfig.chartOptions,e,this.stockChartRenderConfig.xAxis[0].dateTimeLabelFormats[e])}this.stockChartRenderConfig.navigator&&this.stockChartRenderConfig.navigator.xAxis&&this.stockChartRenderConfig.navigator.xAxis.dateTimeLabelFormats&&(this.stockChartRenderConfig.navigator.xAxis.dateTimeLabelFormats=this.stockChartRenderConfig.xAxis[0].dateTimeLabelFormats);var l=this;Object(Po.f)(this.stockChartConfig.chartOptions.xAxis.intervalPeriod)||(this.stockChartRenderConfig.xAxis[0].labels={formatter:function(){var t,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=l.stockChartConfig.chartOptions.xAxis.intervalPeriod,a=new Date(this.value),i=new Date(864e5*e*32+this.value);return t=n[a.getMonth()]+"-"+n[i.getMonth()]+" "+a.getFullYear(),this.value=t,this.value}}),this.stockChartConfig.chartOptions.scrollbar||(this.stockChartRenderConfig.scrollbar={},this.stockChartRenderConfig.scrollbar.enabled=!1),this.stockChartConfig.chartOptions.navigator?(this.stockChartRenderConfig.navigator||(this.stockChartRenderConfig.navigator={}),this.stockChartRenderConfig.navigator.height=10,this.stockChartRenderConfig.navigator.series={lineWidth:0,fillOpacity:0,type:"line"}):(this.stockChartRenderConfig.navigator={},this.stockChartRenderConfig.navigator.enabled=!1)},t.prototype.getLabelForxAxis=function(t,n,e){var l=this.stockChartConfig.chartOptions&&this.stockChartConfig.chartOptions.timeIntervalField?this.stockChartConfig.chartOptions.timeIntervalField:"timeInterval";return this.stockCharFilterData&&this.stockCharFilterData[l]&&this.stockChartConfig.chartOptions.xAxis&&this.stockChartConfig.chartOptions.xAxis.timeIntervalConfig&&this.stockChartConfig.chartOptions.xAxis.timeIntervalConfig[this.stockCharFilterData[l]]?this.stockChartConfig.chartOptions.xAxis.timeIntervalConfig[this.stockCharFilterData[l]]:t.xAxis&&t.xAxis.labelFormats&&t.xAxis.labelFormats.dateTimeLabelFormats&&t.xAxis.labelFormats.dateTimeLabelFormats[n]?t.xAxis.labelFormats.dateTimeLabelFormats[n]:Object(Po.f)(t.xAxis.labelFormats.common)?e:t.xAxis.labelFormats.common},t.prototype.updatePlotBands=function(){var t=this;this.removeExistingPlotBands();var n=this.HighChartsInstance.xAxis[0].getExtremes();if(this.stockChartConfig.chartOptions&&this.stockChartConfig.chartOptions.xAxis&&this.stockChartConfig.chartOptions.xAxis.plotLineConfig&&(Array.isArray(this.stockChartConfig.chartOptions.xAxis.plotLineConfig)?this.stockChartConfig.chartOptions.xAxis.plotLineConfig:[this.stockChartConfig.chartOptions.xAxis.plotLineConfig]).forEach(function(e){var l,a=t.dataService.deepClone(e),i={};a.formatter&&!Object(Po.f)(a.formatter.paramObject)&&(i=a.formatter.paramObject),a.formatter&&a.formatter.functionName&&(l=t.stockChartCustomService[a.formatter.functionName](t.applicationDataStore,i)),a.formatter&&a.formatter.formatter&&(l=a.formatter.formatter(t.applicationDataStore,i)),a.value=l,delete a.formatter,t.HighChartsInstance.xAxis[0].addPlotLine(a);var r="xAxis_0_"+a.id;t.plotLineIdConfigMapping[r]=a,a.showInLegend&&t.updatePlotLinesInSeries(a,r),a.plotBand&&a.plotBand.enable&&t.HighChartsInstance.xAxis[0].addPlotBand({color:a.plotBand.color,from:l,to:n.max})}),this.stockChartConfig.chartOptions&&this.stockChartConfig.chartOptions.yAxis&&this.stockChartConfig.chartOptions.yAxis.plotLineConfig&&(Array.isArray(this.stockChartConfig.chartOptions.yAxis.plotLineConfig)?this.stockChartConfig.chartOptions.yAxis.plotLineConfig:[this.stockChartConfig.chartOptions.yAxis.plotLineConfig]).forEach(function(e){var l,a=t.dataService.deepClone(e),i=t.chartUnitYAxisIndex[e.renderer][e.unit],r={};a.formatter&&!Object(Po.f)(a.formatter.paramObject)&&(r=a.formatter.paramObject),a.formatter&&a.formatter.functionName&&(l=t.stockChartCustomService[a.formatter.functionName](t.applicationDataStore,r)),a.formatter&&a.formatter.formatter&&(l=a.formatter.formatter(t.applicationDataStore,r)),a.value=l,delete a.formatter,t.HighChartsInstance.yAxis[i].addPlotLine(a);var o="yAxis_"+i+"_"+a.id;t.plotLineIdConfigMapping[o]=a;var s=t.HighChartsInstance.yAxis[i].max;a.showInLegend&&t.updatePlotLinesInSeries(a,o),a.plotBand&&a.plotBand.enable&&t.HighChartsInstance.yAxis[i].addPlotBand({color:a.plotBand.color,from:l,to:n.max}),s<l&&t.HighChartsInstance.yAxis[i].update({max:l})}),this.stockChartConfig.chartOptions&&this.stockChartConfig.chartOptions.xAxis&&this.stockChartConfig.chartOptions.xAxis.extremesConfig){var e=this.dataService.deepClone(this.stockChartConfig.chartOptions.xAxis.extremesConfig),l=this.HighChartsInstance.xAxis[0],a=void 0,i=void 0;e.min&&e.min.formatter&&e.min.formatter.functionName&&(a=this.stockChartCustomService[e.min.formatter.functionName](this.applicationDataStore)),e.max&&e.max.formatter&&e.max.formatter.functionName&&(i=this.stockChartCustomService[e.max.formatter.functionName](this.applicationDataStore)),Object(Po.f)(i)&&(i=n.max),l.setExtremes(a,i)}},t.prototype.updatePlotLinesInSeries=function(t,n){this.HighChartsInstance.addSeries({id:n,name:t.title,color:t.color,events:{legendItemClick:function(e){var l=n.split("_"),a=l[0],i=l[1];this.visible?this.chart[a][i].removePlotLine(l[2]):this.chart[a][i].addPlotLine(t)}}})},t.prototype.removeExistingPlotBands=function(){this.HighChartsInstance.xAxis.forEach(function(t){t.plotLinesAndBands.forEach(function(n){t.removePlotLine(n)})}),this.HighChartsInstance.yAxis.forEach(function(t){t.plotLinesAndBands.forEach(function(n){t.removePlotLine(n)})}),this.plotLineIdConfigMapping={}},t}(),Es=c.zb({encapsulation:0,styles:[[".left[_ngcontent-%COMP%]{float:left!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li.right[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{float:right}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]{margin:0 0 0 10px!important;padding:0!important;width:calc(100% - 63px)}.highcharts-annotation-shapes[_ngcontent-%COMP%]   .highcharts-tracker-line[_ngcontent-%COMP%]{stroke:#7d867f!important;stroke-width:1!important}.highcharts-bindings-wrapper[_ngcontent-%COMP%]{display:block!important;width:100%!important;height:40px;position:relative;z-index:998!important;padding:5px 0}.highcharts-menu-wrapper[_ngcontent-%COMP%]{float:left!important;width:100%!important;height:40px;position:inherit!important;left:0!important;top:0!important;padding:0!important;overflow:inherit}.highcharts-bindings-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%!important;margin:0!important;float:left!important;transition:margin 250ms!important}.highcharts-bindings-wrapper[_ngcontent-%COMP%]   .highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:3px;margin-right:20px!important;padding:0;width:100%;height:35px!important;cursor:pointer;position:relative;background-color:#fff;float:left!important;clear:inherit}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f7f7f7 Z;background-repeat:no-repeat!important;cursor:pointer!important;float:left!important;height:40px!important;list-style:none!important;margin-right:10px!important;margin-bottom:3px!important;padding:0!important;position:relative!important;width:auto!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important;left:0!important;padding-left:0!important;position:absolute!important;z-index:125!important;top:35px!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#c7d3eb}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]{display:block!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0!important;border:1px solid #707070!important;border-radius:5px;width:160px!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span.highcharts-menu-item-btn[_ngcontent-%COMP%]{background-repeat:no-repeat!important;background-position:50% 50%!important;display:block!important;float:left!important;height:100%!important;width:30px!important;margin-top:0!important}.highcharts-stocktools-toolbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .highcharts-menu-item-title[_ngcontent-%COMP%]{color:#666;line-height:40px!important;font-size:.876em!important;padding:0 10px 0 5px!important}.highcharts-custom-indicators[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/indicators.svg)}.highcharts-label-annotation[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/label.svg)}.highcharts-circle-annotation[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/circle.svg)}.highcharts-rectangle-annotation[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/rectangle.svg)}.highcharts-segment[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/segment.svg)}.highcharts-arrow-segment[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/arrow-segment.svg)}.highcharts-ray[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/ray.svg)}.highcharts-arrow-ray[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/arrow-ray.svg)}.highcharts-infinity-line[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/line.svg)}.highcharts-arrow-infinity-line[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/arrow-line.svg)}.highcharts-horizontal-line[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/horizontal-line.svg)}.highcharts-vertical-line[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/vertical-line.svg)}.highcharts-elliott3[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/elliott-3.svg)}.highcharts-elliott5[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/elliott-5.svg)}.highcharts-crooked3[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/crooked-3.svg)}.highcharts-crooked5[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/crooked-5.svg)}.highcharts-measure-xy[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/measure-xy.svg)}.highcharts-measure-x[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/measure-x.svg)}.highcharts-measure-y[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/measure-y.svg)}.highcharts-fibonacci[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/fibonacci.svg)}.highcharts-pitchfork[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/pitchfork.svg)}.highcharts-parallel-channel[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/parallel-channel.svg)}.highcharts-toggle-annotations[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/annotations-hidden.svg)}.highcharts-vertical-counter[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/vertical-counter.svg)}.highcharts-vertical-label[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/vertical-label.svg)}.highcharts-vertical-arrow[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/vertical-arrow.svg)}.highcharts-vertical-double-arrow[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/vertical-double-arrow.svg)}.highcharts-flag-circlepin[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/flag-elipse.svg)}.highcharts-flag-diamondpin[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/flag-diamond.svg)}.highcharts-flag-squarepin[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/flag-trapeze.svg)}.highcharts-flag-simplepin[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/flag-basic.svg)}.highcharts-zoom-xy[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/zoom-xy.svg)}.highcharts-zoom-x[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/zoom-x.svg)}.highcharts-zoom-y[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/zoom-y.svg)}.highcharts-full-screen[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/fullscreen.svg)}.highcharts-series-type-ohlc[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/series-ohlc.svg)}.highcharts-series-type-line[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/series-line.svg)}.highcharts-series-type-candlestick[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/series-candlestick.svg)}.highcharts-current-price-indicator[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/current-price-show.svg)}.highcharts-save-chart[_ngcontent-%COMP%] > .highcharts-menu-item-btn[_ngcontent-%COMP%]{background-image:url(https://code.highcharts.com/gfx/stock-icons/save-chart.svg)}li.highcharts-active[_ngcontent-%COMP%]{background-color:#e6ebf5!important}.highcharts-custom-indicators[_ngcontent-%COMP%]{background-color:#fff}.mt-2rem[_ngcontent-%COMP%]{margin-top:2rem}.dropdown-toggle[_ngcontent-%COMP%]:after{content:none!important;cursor:pointer}.custom-dots[_ngcontent-%COMP%]{position:relative;top:0;text-align:right;cursor:pointer;font-size:14px;color:#000;font-weight:700;background:#fff;padding:0 3px}.custom-dots[_ngcontent-%COMP%]:hover{background:#f5f5f5}.dropdown-indicator-dropdown[_ngcontent-%COMP%]{max-width:300px;width:100%;min-width:200px}@supports (-webkit-appearance:none) or (-moz-appearance:none){input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{--active:#275EFE;--active-inner:#fff;--focus:2px rgba(39, 94, 254, .3);--border:#BBC1E1;--border-hover:#275EFE;--background:#fff;--disabled:#F6F8FF;--disabled-inner:#E1E6F9;-webkit-appearance:none;-moz-appearance:none;height:21px;outline:0;display:inline-block;vertical-align:top;position:relative;margin:0;cursor:pointer;border:1px solid var(--bc,var(--border));background:var(--b,var(--background));transition:background .3s,border-color .3s,box-shadow .2s}input[type=checkbox][_ngcontent-%COMP%]:after, input[type=radio][_ngcontent-%COMP%]:after{content:'';display:block;left:0;top:0;position:absolute;transition:transform var(--d-t,.3s) var(--d-t-e,ease),opacity var(--d-o,.2s)}input[type=checkbox][_ngcontent-%COMP%]:checked, input[type=radio][_ngcontent-%COMP%]:checked{--b:var(--active);--bc:var(--active);--d-o:.3s;--d-t:.6s;--d-t-e:cubic-bezier(.2, .85, .32, 1.2)}input[type=checkbox][_ngcontent-%COMP%]:disabled, input[type=radio][_ngcontent-%COMP%]:disabled{--b:var(--disabled);cursor:not-allowed;opacity:.9}input[type=checkbox][_ngcontent-%COMP%]:disabled:checked, input[type=radio][_ngcontent-%COMP%]:disabled:checked{--b:var(--disabled-inner);--bc:var(--border)}input[type=checkbox][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{cursor:not-allowed}input[type=checkbox][_ngcontent-%COMP%]:hover:not(:checked):not(:disabled), input[type=radio][_ngcontent-%COMP%]:hover:not(:checked):not(:disabled){--bc:var(--border-hover)}input[type=checkbox][_ngcontent-%COMP%]:focus, input[type=radio][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 var(--focus)}input[type=checkbox][_ngcontent-%COMP%]:not(.switch), input[type=radio][_ngcontent-%COMP%]:not(.switch){width:21px}input[type=checkbox][_ngcontent-%COMP%]:not(.switch):after, input[type=radio][_ngcontent-%COMP%]:not(.switch):after{opacity:var(--o,0)}input[type=checkbox][_ngcontent-%COMP%]:not(.switch):checked, input[type=radio][_ngcontent-%COMP%]:not(.switch):checked{--o:1}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:14px;line-height:21px;display:inline-block;vertical-align:top;cursor:pointer;margin-left:4px}input[type=checkbox][_ngcontent-%COMP%]:not(.switch){border-radius:7px}input[type=checkbox][_ngcontent-%COMP%]:not(.switch):after{width:5px;height:9px;border:2px solid var(--active-inner);border-top:0;border-left:0;left:7px;top:4px;transform:rotate(var(--r,20deg))}input[type=checkbox][_ngcontent-%COMP%]:not(.switch):checked{--r:43deg}input[type=checkbox].switch[_ngcontent-%COMP%]{width:38px;border-radius:11px}input[type=checkbox].switch[_ngcontent-%COMP%]:after{left:2px;top:2px;border-radius:50%;width:15px;height:15px;background:var(--ab,var(--border));transform:translateX(var(--x,0))}input[type=checkbox].switch[_ngcontent-%COMP%]:checked{--ab:var(--active-inner);--x:17px}input[type=checkbox].switch[_ngcontent-%COMP%]:disabled:not(:checked):after{opacity:.6}input[type=radio][_ngcontent-%COMP%]{border-radius:50%}input[type=radio][_ngcontent-%COMP%]:after{width:19px;height:19px;border-radius:50%;background:var(--active-inner);opacity:0;transform:scale(var(--s,.7))}input[type=radio][_ngcontent-%COMP%]:checked{--s:.5}}"]],data:{}});function Ns(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stock-chart-filter",[],null,null,null,rs,ls)),c.Ab(1,114688,null,0,es,[Xo,wo],{filterConfig:[0,"filterConfig"],byDefaultCount:[1,"byDefaultCount"],stockChartId:[2,"stockChartId"]},null)],function(t,n){var e=n.component;t(n,1,0,e.stockChartConfig.filterConfig,e.byDefaultFilterCount,e.stockChartId)},null)}function Fs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["class","col-xl-2 col-lg-4"]],null,null,null,null,null)),(t()(),c.Bb(1,16777216,null,null,1,null,null,null,null,null,null,null)),c.Ab(2,540672,null,0,m.x,[c.Y],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(t,n){t(n,2,0,c.Lb(n.parent,26))},null)}function Bs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,12,"div",[["class","highcharts-popup highighcharts-popup-lhs-colhcharts-popup-indicators"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"span",[["class","highcharts-close-popup"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(3,0,null,null,7,"div",[["class","highcharts-popup-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"label",[["for","indicator-list"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Indicator"])),(t()(),c.Bb(6,0,null,null,4,"select",[["name","indicator-list"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,3,"option",[["value","sma"]],null,null,null,null,null)),c.Ab(8,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(9,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["SMA"])),(t()(),c.Bb(11,0,null,null,1,"button",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Add"]))],function(t,n){t(n,8,0,"sma"),t(n,9,0,"sma")},null)}function Us(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","highcharts-popup highcharts-popup-annotations"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"span",[["class","highcharts-close-popup"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["\xd7"])),(t()(),c.Bb(3,0,null,null,6,"div",[["class","highcharts-popup-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"label",[["for","stroke"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Color"])),(t()(),c.Bb(6,0,null,null,0,"input",[["name","stroke"],["type","text"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,1,"label",[["for","stroke-width"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Width"])),(t()(),c.Bb(9,0,null,null,0,"input",[["name","stroke-width"],["type","text"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,1,"button",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Save"]))],null,null)}function Rs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,13,"li",[["class","highcharts-custom-indicators"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Indicators"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Indicators"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,4,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-custom-indicators"],["ng-click","openMovingAvgModal()"],["title","Simple Moving Average"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openSMAModal()&&l),l},null,null)),(t()(),c.Sb(-1,null,["SMA"]))],function(t,n){t(n,1,0,"highcharts-custom-indicators","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function Vs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,13,"li",[["class","highcharts-label-annotation"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Simple shapes"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Shapes"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,4,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-label-annotation"],["title","Label"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Label"]))],function(t,n){t(n,1,0,"highcharts-label-annotation","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function js(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,25,"li",[["class","highcharts-elliott3"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Crooked lines"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Crooked lines"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,16,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-elliott3"],["title","Elliott 3 line"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Elliot 3"])),(t()(),c.Bb(14,0,null,null,3,"li",[["class","highcharts-elliott5"],["title","Elliott 5 line"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Elliot 5"])),(t()(),c.Bb(18,0,null,null,3,"li",[["class","highcharts-crooked3"],["title","Crooked 3 line"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Crooked 3"])),(t()(),c.Bb(22,0,null,null,3,"li",[["class","highcharts-crooked5"],["title","Crooked 5 line"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Crooked 5"]))],function(t,n){t(n,1,0,"highcharts-elliott3","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function Gs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,13,"li",[["class","highcharts-measure-x"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Measure"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Measure"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,4,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-measure-x"],["title","Measure X"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Measure X"]))],function(t,n){t(n,1,0,"highcharts-measure-x","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function Ys(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,17,"li",[["class","highcharts-vertical-label"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Vertical labels"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Labels"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,8,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-vertical-label"],["title","Vertical label"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Label"])),(t()(),c.Bb(14,0,null,null,3,"li",[["class","highcharts-vertical-arrow"],["title","Vertical arrow"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Arrow"]))],function(t,n){t(n,1,0,"highcharts-vertical-label","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function Ws(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,25,"li",[["class","highcharts-flag-circlepin"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Flags"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,1,"span",[["class","highcharts-menu-item-btn"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(3,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(4,0,null,null,2,"span",[["class","highcharts-menu-item-title"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(5,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Flags"])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","highcharts-submenu-item-arrow highcharts-arrow-right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"]],null,null,null,null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(9,0,null,null,16,"ul",[["class","highcharts-submenu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"li",[["class","highcharts-flag-circlepin"],["title","Flag circle"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Circle"])),(t()(),c.Bb(14,0,null,null,3,"li",[["class","highcharts-flag-diamondpin"],["title","Flag diamond"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Diamond"])),(t()(),c.Bb(18,0,null,null,3,"li",[["class","highcharts-flag-squarepin"],["title","Flag square"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Square"])),(t()(),c.Bb(22,0,null,null,3,"li",[["class","highcharts-flag-simplepin"],["title","Flag simple"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,1,"span",[["class","highcharts-menu-item-title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Simple"]))],function(t,n){t(n,1,0,"highcharts-flag-circlepin","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,3,0,"highcharts-menu-item-btn","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,5,0,"highcharts-menu-item-title","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"),t(n,8,0,"highcharts-submenu-item-arrow highcharts-arrow-right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function zs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"li",[["class","highcharts-toggle-annotations right"],["ngClass","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}"],["title","Hide"]],null,null,null,null,null)),c.Ab(1,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Bb(2,0,null,null,0,"span",[["class","highcharts-menu-item-btn"]],null,null,null,null,null))],function(t,n){t(n,1,0,"highcharts-toggle-annotations right","{'theme1-head' :(theme=='lightTheme' || !theme) , 'theme2-head' : theme=='darkTheme'}")},null)}function Hs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,16,"div",[["class","highcharts-stocktools-wrapper highcharts-bindings-container highcharts-bindings-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,15,"div",[["class","highcharts-menu-wrapper"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,14,"ul",[["class","highcharts-stocktools-toolbar stocktools-toolbar "]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Rs)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Vs)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,js)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Gs)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ys)),c.Ab(12,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ws)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,zs)),c.Ab(16,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,e.stockChartConfig.chartOptions.labels),t(n,6,0,e.stockChartConfig.chartOptions.labels),t(n,8,0,e.stockChartConfig.chartOptions.labels),t(n,10,0,e.stockChartConfig.chartOptions.labels),t(n,12,0,e.stockChartConfig.chartOptions.labels),t(n,14,0,e.stockChartConfig.chartOptions.labels),t(n,16,0,e.stockChartConfig.chartOptions.labels)},null)}function qs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stock-chart-date-handler",[],null,null,null,hs,us)),c.Ab(1,245760,null,0,ss,[Xo,os,Ql.i],{datePickerConfig:[0,"datePickerConfig"],stockChartId:[1,"stockChartId"]},null)],function(t,n){var e=n.component;t(n,1,0,e.stockChartConfig.datePickerConfig,e.stockChartId)},null)}function Ks(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stock-chart-renderer",[],null,[[null,"chartInitiliazed"]],function(t,n,e){var l=!0;return"chartInitiliazed"===n&&(l=!1!==t.component.chartInitiliazed(e)&&l),l},As,Ms)),c.Ab(1,114688,null,0,Ss,[Xo],{chartId:[0,"chartId"]},{chartInitiliazed:"chartInitiliazed"})],function(t,n){t(n,1,0,n.component.stockChartId)},null)}function Xs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,28,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[["for","chartType"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart type"])),(t()(),c.Bb(3,0,null,null,25,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.indicatorsConfig[t.parent.context.$implicit].chartType=e)&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,3,"option",[["value","line"]],null,null,null,null,null)),c.Ab(10,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(11,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Line"])),(t()(),c.Bb(13,0,null,null,3,"option",[["value","column"]],null,null,null,null,null)),c.Ab(14,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(15,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Column"])),(t()(),c.Bb(17,0,null,null,3,"option",[["value","spline"]],null,null,null,null,null)),c.Ab(18,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(19,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Spline"])),(t()(),c.Bb(21,0,null,null,3,"option",[["value","area"]],null,null,null,null,null)),c.Ab(22,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(23,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Area"])),(t()(),c.Bb(25,0,null,null,3,"option",[["value","areaspline"]],null,null,null,null,null)),c.Ab(26,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(27,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Area Spline"]))],function(t,n){t(n,6,0,n.component.indicatorsConfig[n.parent.context.$implicit].chartType),t(n,10,0,"line"),t(n,11,0,"line"),t(n,14,0,"column"),t(n,15,0,"column"),t(n,18,0,"spline"),t(n,19,0,"spline"),t(n,22,0,"area"),t(n,23,0,"area"),t(n,26,0,"areaspline"),t(n,27,0,"areaspline")},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function Js(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[["for","chartColor"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart Color"])),(t()(),c.Bb(3,16777216,null,null,1,"input",[],[[8,"value",0],[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==c.Lb(t,4).handleClick()&&l),"focus"===n&&(l=!1!==c.Lb(t,4).handleFocus()&&l),"input"===n&&(l=!1!==c.Lb(t,4).handleInput(e)&&l),"colorPickerChange"===n&&(l=!1!==(a.indicatorsConfig[t.parent.context.$implicit].chartColor=e)&&l),l},null,null)),c.Ab(4,671744,null,0,Mi.b,[c.v,c.l,c.g,c.Y,c.n,Mi.d],{colorPicker:[0,"colorPicker"],cpPosition:[1,"cpPosition"]},{colorPickerChange:"colorPickerChange"})],function(t,n){t(n,4,0,n.component.indicatorsConfig[n.parent.context.$implicit].chartColor,"left")},function(t,n){var e=n.component;t(n,3,0,e.indicatorsConfig[n.parent.context.$implicit].chartColor,e.indicatorsConfig[n.parent.context.$implicit].chartColor)})}function $s(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,39,"div",[["class","form-group d-flex"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,2,"div",[["class","flex-fill"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"input",[["class","mr-2"],["type","checkbox"]],[[8,"name",0],[8,"checked",0],[8,"id",0]],[[null,"click"]],function(t,n,e){var l=!0,a=t.component;return"click"===n&&(l=!1!==a.indicatorCheckBoxClick(e,a.indicatorsConfig[t.context.$implicit])&&l),l},null,null)),(t()(),c.Sb(3,null,[" "," "])),(t()(),c.Bb(4,0,[["childDropdown",1]],null,35,"div",[["class","d-inline-block custom-dots"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),c.Ab(5,737280,[[1,4],[2,4]],3,Ql.t,[c.i,Ql.v,m.d,c.F,c.n,c.N,[2,Ql.kb]],{placement:[0,"placement"]},null),c.Qb(335544320,7,{_menu:0}),c.Qb(335544320,8,{_menuElement:0}),c.Qb(335544320,9,{_anchor:0}),(t()(),c.Bb(9,0,null,null,3,"div",[["aria-haspopup","true"],["class","bg-transparent dropdown-toggle  dropdown-toggle"],["ngbDropdownToggle",""],["title","Application Chart Config"]],[[8,"id",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==c.Lb(t,10).dropdown.toggle()&&l),"keydown.ArrowUp"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.ArrowDown"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.Home"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.End"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),l},null,null)),c.Ab(10,16384,null,0,Ql.z,[Ql.t,c.n],null,null),c.Pb(2048,[[9,4],[5,4]],Ql.u,null,[Ql.z]),(t()(),c.Sb(-1,null,[" ... "])),(t()(),c.Bb(13,0,[[8,0],[4,0]],null,26,"div",[["class","dropdown-menu dropdown-menu-min-width shadow border-0 p-3 top-right"],["ngbDropdownMenu",""]],[[1,"aria-labelledby",0],[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(t,n,e){var l=!0;return"keydown.ArrowUp"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),"keydown.ArrowDown"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),"keydown.Home"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),"keydown.End"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),"keydown.Enter"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),"keydown.Space"===n&&(l=!1!==c.Lb(t,14).dropdown.onKeyDown(e)&&l),l},null,null)),c.Ab(14,16384,[[7,4],[3,4]],1,Ql.x,[Ql.t],null,null),c.Qb(603979776,10,{menuItems:1}),(t()(),c.sb(16777216,null,null,1,null,Xs)),c.Ab(17,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Js)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(20,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,1,"label",[["for","render"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Renderer"])),(t()(),c.Bb(23,0,null,null,13,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,24).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,24).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.indicatorsConfig[t.context.$implicit].renderer=e)&&l),l},null,null)),c.Ab(24,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(26,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(28,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(29,0,null,null,3,"option",[["value","primary"]],null,null,null,null,null)),c.Ab(30,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(31,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Primary"])),(t()(),c.Bb(33,0,null,null,3,"option",[["value","secondary"]],null,null,null,null,null)),c.Ab(34,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(35,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Secondary"])),(t()(),c.Bb(37,0,null,null,2,"div",[["class","d-flex"]],null,null,null,null,null)),(t()(),c.Bb(38,0,null,null,1,"button",[["class","btn btn-warning flex-fill"],["type","submit"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.indicatorSubmit()&&l),l},null,null)),(t()(),c.Sb(-1,null,["Update"]))],function(t,n){var e=n.component;t(n,5,0,"bottom-right"),t(n,17,0,!e.isArray(e.indicatorsConfig[n.context.$implicit].chartType)),t(n,19,0,!e.isArray(e.indicatorsConfig[n.context.$implicit].chartColor)),t(n,26,0,e.indicatorsConfig[n.context.$implicit].renderer),t(n,30,0,"primary"),t(n,31,0,"primary"),t(n,34,0,"secondary"),t(n,35,0,"secondary")},function(t,n){var e=n.component;t(n,2,0,n.context.$implicit,e.indicatorsConfig[n.context.$implicit].visible,n.context.$implicit),t(n,3,0,e.indicatorsConfig[n.context.$implicit].title),t(n,4,0,c.Lb(n,5).isOpen()),t(n,9,0,c.Db(1,"",n.context.$implicit,"indicatorOptionDropdown"),c.Lb(n,10).dropdown.isOpen()),t(n,13,0,c.Db(1,"",n.context.$implicit,"indicatorOptionDropdown"),!0,c.Lb(n,14).dropdown.isOpen(),c.Lb(n,14).placement),t(n,23,0,c.Lb(n,28).ngClassUntouched,c.Lb(n,28).ngClassTouched,c.Lb(n,28).ngClassPristine,c.Lb(n,28).ngClassDirty,c.Lb(n,28).ngClassValid,c.Lb(n,28).ngClassInvalid,c.Lb(n,28).ngClassPending)})}function Qs(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,13,"div",[["ngbDropdown",""],["placement","bottom right"]],[[2,"show",null]],null,null,null,null)),c.Ab(1,737280,[[1,4],[2,4]],3,Ql.t,[c.i,Ql.v,m.d,c.F,c.n,c.N,[2,Ql.kb]],{autoClose:[0,"autoClose"],placement:[1,"placement"]},null),c.Qb(603979776,3,{_menu:0}),c.Qb(603979776,4,{_menuElement:0}),c.Qb(603979776,5,{_anchor:0}),(t()(),c.Bb(5,0,[["indicatorMainDropdown",1]],null,3,"button",[["aria-haspopup","true"],["class","btn btn-block btn-outline-primary px-5 dropdown-toggle"],["id","indicatorDropdown"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==c.Lb(t,6).dropdown.toggle()&&l),"keydown.ArrowUp"===n&&(l=!1!==c.Lb(t,6).dropdown.onKeyDown(e)&&l),"keydown.ArrowDown"===n&&(l=!1!==c.Lb(t,6).dropdown.onKeyDown(e)&&l),"keydown.Home"===n&&(l=!1!==c.Lb(t,6).dropdown.onKeyDown(e)&&l),"keydown.End"===n&&(l=!1!==c.Lb(t,6).dropdown.onKeyDown(e)&&l),l},null,null)),c.Ab(6,16384,null,0,Ql.z,[Ql.t,c.n],null,null),c.Pb(2048,[[5,4]],Ql.u,null,[Ql.z]),(t()(),c.Sb(-1,null,[" Indicators "])),(t()(),c.Bb(9,0,[[4,0]],null,4,"div",[["aria-labelledby","indicatorDropdown"],["class","dropdown-menu dropdown-indicator-dropdown shadow border-0 pt-3 pl-3 pr-3 pb-0 top-right"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],function(t,n,e){var l=!0;return"keydown.ArrowUp"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.ArrowDown"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.Home"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.End"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.Enter"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),"keydown.Space"===n&&(l=!1!==c.Lb(t,10).dropdown.onKeyDown(e)&&l),l},null,null)),c.Ab(10,16384,[[3,4]],1,Ql.x,[Ql.t],null,null),c.Qb(603979776,6,{menuItems:1}),(t()(),c.sb(16777216,null,null,1,null,$s)),c.Ab(13,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,1,0,!1,"bottom right"),t(n,13,0,e.getHeaders(e.indicatorsConfig))},function(t,n){t(n,0,0,c.Lb(n,1).isOpen()),t(n,5,0,c.Lb(n,6).dropdown.isOpen()),t(n,9,0,!0,c.Lb(n,10).dropdown.isOpen(),c.Lb(n,10).placement)})}function Zs(t){return c.Ub(0,[c.Qb(671088640,1,{childDropdown:1}),c.Qb(671088640,2,{indicatorDropdown:0}),(t()(),c.Bb(2,0,null,null,23,"div",[["ngxUiLoaderBlurred",""]],[[8,"id",0]],null,null,null,null)),c.Ab(3,212992,null,0,Al.j,[c.n,c.N,Al.d],null,null),(t()(),c.Bb(4,0,null,null,1,"ngx-ui-loader",[],null,null,null,Ts.b,Ts.a)),c.Ab(5,770048,null,0,Al.i,[Ds.c,c.i,Al.d],{loaderId:[0,"loaderId"],hasProgressBar:[1,"hasProgressBar"]},null),(t()(),c.Bb(6,0,null,null,1,"ngx-ui-loader",[],null,null,null,Ts.b,Ts.a)),c.Ab(7,770048,null,0,Al.i,[Ds.c,c.i,Al.d],{loaderId:[0,"loaderId"],hasProgressBar:[1,"hasProgressBar"]},null),(t()(),c.Bb(8,0,null,null,5,"div",[["class","form-row align-items-end"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,2,"div",[["class","col-xl-10 col-lg-8 ml-4"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ns)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Fs)),c.Ab(13,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(14,0,null,null,8,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Bs)),c.Ab(16,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Us)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Hs)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,qs)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(23,0,null,null,0,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ks)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,[["indicators",2]],null,0,null,Qs))],function(t,n){var e=n.component;t(n,3,0),t(n,5,0,null==e.loaderId?null:e.loaderId.primary,!1),t(n,7,0,null==e.loaderId?null:e.loaderId.secondary,!1),t(n,11,0,!e.subscriptionsInProgress),t(n,13,0,null==e.stockChartConfig?null:null==e.stockChartConfig.chartOptions?null:e.stockChartConfig.chartOptions.indicators),t(n,16,0,e.stockChartConfig.chartOptions.labels),t(n,18,0,e.stockChartConfig.chartOptions.labels),t(n,20,0,e.stockChartConfig.chartOptions.labels),t(n,22,0,!e.subscriptionsInProgress),t(n,25,0,!e.subscriptionsInProgress)},function(t,n){t(n,2,0,n.component.stockChartId)})}var tu=c.zb({encapsulation:0,styles:[["#Daily-Rainfall[_ngcontent-%COMP%]{height:200px}.noDataCell[_ngcontent-%COMP%]{text-align:center;padding:2em;font-size:1.5em}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function nu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"div",[["class","col-12 col-sm-6 mb-3 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No. of Stations"])),(t()(),c.Bb(5,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""]))],null,function(t,n){var e=n.component;t(n,6,0,null!=e.kpi.sc?e.kpi.sc:"- ")})}function eu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" mm "]))],null,null)}function lu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"div",[["class","col-12 col-sm-6 mb-3 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Normal Rainfall"])),(t()(),c.Bb(5,0,null,null,3,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,eu)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,8,0,null!=n.component.kpi.nl)},function(t,n){var e=n.component;t(n,6,0,null!=e.kpi.nl?e.kpi.nl:"- ")})}function au(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" mm "]))],null,null)}function iu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"div",[["class","col-12 col-sm-6 mb-3 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Actual Rainfall"])),(t()(),c.Bb(5,0,null,null,3,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,au)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,8,0,null!=n.component.kpi.al)},function(t,n){var e=n.component;t(n,6,0,null!=e.kpi.al?e.kpi.al:"- ")})}function ru(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" % "]))],null,null)}function ou(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"div",[["class","col-12 col-sm-6 mb-3 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["% Deviation"])),(t()(),c.Bb(5,0,null,null,3,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,ru)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,8,0,null!=n.component.kpi.dl)},function(t,n){var e=n.component;t(n,6,0,null!=e.kpi.dl?e.kpi.dl:"- ")})}function su(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["id","Daily-Rainfall"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"vl-stock-chart",[["style","width: 100%;"]],null,null,null,Zs,Es)),c.Ab(2,245760,null,0,Is,[Xo,wo,Ql.C,b.p,b.a,Al.d,Ko,zo,os],{stockChartConfig:[0,"stockChartConfig"]},null)],function(t,n){t(n,2,0,n.component.stockChartConfig)},null)}function uu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function cu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),c.Ab(1,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(2,{background:0,"text-align":1,color:2}),(t()(),c.Bb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),c.Sb(4,null,["",""]))],function(t,n){var e=n.component,l=t(n,2,0,e.rainfallActualDataService.setRainfallcolor(n.parent.context.rowData[n.parent.context.index].values).bgcolor,"right",e.rainfallActualDataService.setRainfallcolor(n.parent.context.rowData[n.parent.context.index].values).textcolor);t(n,1,0,l)},function(t,n){t(n,4,0,n.parent.context.rowData[n.parent.context.index].values)})}function hu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),c.Ab(1,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(2,{background:0,"text-align":1,color:2}),(t()(),c.Bb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),c.Sb(4,null,["",""]))],function(t,n){var e=n.component,l=t(n,2,0,e.rainfallActualDataService.setRainfallcolor(n.parent.context.rowData[n.parent.context.index].values).bgcolor,"right",e.rainfallActualDataService.setRainfallcolor(n.parent.context.rowData[n.parent.context.index].values).textcolor);t(n,1,0,l)},function(t,n){t(n,4,0,n.parent.context.rowData[n.parent.context.index].values)})}function du(t){return c.Ub(0,[(t()(),c.sb(16777216,null,null,1,null,cu)),c.Ab(1,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,hu)),c.Ab(3,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,null,null,0))],function(t,n){t(n,1,0,-1!=n.context.rowData[0].values[1]),t(n,3,0,-1==n.context.rowData[0].values[1])},null)}function pu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,33,"table",[["class","table table-sm  m-0 table-bordered"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,32,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Station Name"])),(t()(),c.Bb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.Bb(7,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(11,null,["",""])),(t()(),c.Bb(12,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(16,null,["",""])),c.Ob(17,1),(t()(),c.Bb(18,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["State"])),(t()(),c.Bb(21,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(22,null,["",""])),c.Ob(23,1),(t()(),c.Bb(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Lat, Long"])),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(28,null,[" ",", "," "])),(t()(),c.Bb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Actual Rainfall (mm)"])),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(33,null,["",""]))],null,function(t,n){var e=n.component;t(n,6,0,e.tableData.md&&e.tableData.md.ln?e.tableData.md.ln:"-"),t(n,11,0,e.selectedParams.srcName);var l=e.tableData.md&&e.tableData.md.bnm?c.Tb(n,16,0,t(n,17,0,c.Lb(n.parent,0),e.tableData.md.bnm)):"-";t(n,16,0,l);var a=e.tableData.md&&e.tableData.md.snm?c.Tb(n,22,0,t(n,23,0,c.Lb(n.parent,0),e.tableData.md.snm)):"-";t(n,22,0,a),t(n,28,0,e.tableData.md&&e.tableData.md.lt?e.visibilityUtils.getDecimalFixed(e.tableData.md.lt):"-",e.tableData.md&&e.tableData.md.lng?e.visibilityUtils.getDecimalFixed(e.tableData.md.lng):"-"),t(n,33,0,e.tableData.al?e.visibilityUtils.getDecimalFixed(e.tableData.al):"-")})}function gu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,22,"table",[["class","table m-0 table-bordered table-sm"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,21,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location Name"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Actual Rainfall (mm)"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Normal Rainfall (mm)"])),(t()(),c.Bb(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,["",""])),(t()(),c.Bb(18,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Deviation Rainfall (%)"])),(t()(),c.Bb(21,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(22,null,["",""]))],null,function(t,n){var e=n.component,l=e.tableData.md&&e.tableData.md.ln?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.md.ln)):"-";t(n,6,0,l),t(n,12,0,null!=e.tableData.al?e.visibilityUtils.getDecimalFixed(e.tableData.al):"-"),t(n,17,0,null!=e.tableData.nl?e.visibilityUtils.getDecimalFixed(e.tableData.nl):"-"),t(n,22,0,null!=e.tableData.dl?e.visibilityUtils.getDecimalFixed(e.tableData.dl):"-")})}function mu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function bu(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(402653184,1,{deviationTemplate:0}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus:"])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[" "," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,32,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,28,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,9,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,8,"div",[["class","row flex-lg-nowrap"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,nu)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,lu)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,iu)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ou)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(26,0,null,null,3,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,2,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,su)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(30,0,null,null,13,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,12,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,11,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,1,"spinner",[["id","rainfalldTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(34,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,uu)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,[[1,2],["dl",2]],null,0,null,du)),(t()(),c.sb(16777216,null,null,1,null,pu)),c.Ab(39,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,gu)),c.Ab(41,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,mu)),c.Ab(43,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,19,0,!e.isStation&&"IMD_GRID"!=e.selectedParams.src&&"GPM_GRID"!=e.selectedParams.src),t(n,21,0,!e.isStation),t(n,23,0,!e.isStation),t(n,25,0,!e.isStation),t(n,29,0,e.showStockChart),t(n,34,0,"rainfalldTableSpinner",e.rainfallTableSpinner),t(n,36,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,39,0,e.isStation&&null!=e.tableData),t(n,41,0,e.isLastLevel&&null!=e.tableData),t(n,43,0,e.showErrorMsgForTable&&!e.rainfallTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="RAINFALL"==e.selectedParams.pType?"Station":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"Rainfall Information")})}function fu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-rainfall-infobox-actual",[],null,null,null,bu,tu)),c.Ab(1,245760,null,0,mt,[O.a,X,at.a,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var yu=c.xb("app-rainfall-infobox-actual",mt,fu,{},{},[]),vu=c.zb({encapsulation:0,styles:[[""]],data:{}});function Cu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(1,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{component:[0,"component"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,e.component,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Su(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-groundwater-map",[],null,null,null,Cu,vu)),c.Ab(1,114688,null,0,It,[b.a],null,null)],function(t,n){t(n,1,0)},null)}var Mu=c.xb("app-groundwater-map",It,Su,{},{},[]),_u=c.zb({encapsulation:0,styles:[[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.slide-box[_ngcontent-%COMP%]{background:0 0;width:230px;color:#858796!important;position:relative;height:100vh;overflow:auto;overflow-x:hidden;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;top:0}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]{width:100%;min-width:250px;position:sticky;top:0;z-index:9;background:#007dc9}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{text-shadow:none;color:#fff;font-size:15px;cursor:pointer;transition:all .3s ease}.slide-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#000;border:1px solid #2f2e2e;color:#8e8e8e}.slide-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.35rem}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding:0;font-weight:500}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:24px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.3;font-size:24px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{background:#f5ffff}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover:active{background:#b9f1ff}@media (min-width:990px){.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:5px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;border-radius:5px;background:rgba(78,95,110,.055);color:#4e5f6e}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:rgba(78,95,110,.123)}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:#4e5f6e;color:#fff}.nav.overview-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.custom-control-input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.custom-control-input[_ngcontent-%COMP%]::before, .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;border-color:#558ddf;background-color:#558ddf}.custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]::before{box-shadow:0 0 0 .2rem rgba(85,141,223,.25)}.custom-control-input[_ngcontent-%COMP%]:focus:not(:checked) ~ .custom-control-label[_ngcontent-%COMP%]::before{border-color:#c0d5f3}.custom-control-input[_ngcontent-%COMP%]:not(:disabled):active ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;background-color:#ebf2fb;border-color:#ebf2fb}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]{color:#858796}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#eaecf4}.card[_ngcontent-%COMP%]{border-radius:3px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.15);border:none;overflow:visible}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:30px}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:22px;color:#000;margin:0}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7d7d7d;line-height:1.1}.card.card-statistic[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;background:#fff;box-shadow:0 -1px 0 rgba(0,0,0,.03);border:none;font-size:12px;color:#7d7d7d;padding-top:0;padding-bottom:0;height:30px;position:absolute;bottom:0;left:0;right:0;color:var(--dark) strong}.card.card-statistic.active[_ngcontent-%COMP%]{background:#558ddf}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);box-shadow:0 -1px 0 rgba(0,0,0,.03);color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:#c4efdf;border-color:rgba(0,0,0,.05);min-height:40px;padding-top:8px;padding-bottom:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:24px;padding:2px 8px;border-color:#f8f8f8;border-radius:3px;background-color:#000}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:24px;padding:0 8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:16px;color:#000}@media (min-width:990px){.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.select-specific-data[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:left;color:var(--color-white);text-transform:uppercase;margin-bottom:7px}ul.submenus[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--color-dark-rgb),.5);margin-bottom:10px;box-shadow:0 0 0 1px rgba(var(--color-white-rgb),.1);margin-bottom:20PX}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]{position:relative;display:block;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{position:relative;padding:15px 24px 15px 15px;min-height:44px;color:#fff}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:14px;text-align:left;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;background:#171e28;border:2px solid #fff;content:'';position:absolute;right:16px;top:50%;margin-top:-8px;border-radius:8px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{width:8px;height:8px;background:0 0;transform:scale(0);content:\"\";left:2px;top:2px;position:absolute;border-radius:50%}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]{color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{border-color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{background:var(--color-active);transform:scale(1)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:0!important;max-height:0;overflow-y:auto;padding-left:15px;padding-right:15px;margin-bottom:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body.active[_ngcontent-%COMP%]{max-height:600px;padding-top:15px;padding-bottom:15px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;text-align:left;color:#99a9be;margin-bottom:5px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%] + .assosiated-layer[_ngcontent-%COMP%]{margin-top:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:0;display:flex;align-items:center}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:.85rem;padding-left:2rem;position:relative}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:50%;transform:translateY(-50%);left:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:not(:checked) + .custom-control-label[_ngcontent-%COMP%]:before{background:var(--color-text-inactive);border:var(--color-dark-border) solid 1px}app-extreme-weather[_ngcontent-%COMP%]{z-index:999}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:400!important;font-size:14px!important}.card.card-filter[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #3f474e;border-radius:.25rem}.card.card-filter[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff}.form-control-sm[_ngcontent-%COMP%]{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], lib-data-table.dark-view[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff;padding:0}  .card.card-filter .input-group.date{background:0 0;border:none;margin:0;width:100%}  .card.card-filter .input-group.date input{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group.date .input-group-addon{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group>.custom-select:not(:last-child),   .card.card-filter .input-group>.form-control:not(:last-child){max-height:24px!important;color:#fff;padding:0 10px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]{border-color:#007bff}.sidebar-bg-form[_ngcontent-%COMP%]{background:#26282d;border:1px solid #414349}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:2px dotted #888989}.custom-input[_ngcontent-%COMP%]{position:relative;top:4px;right:5px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#2d99ff;border-radius:20px}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;color:#898989;font-size:14px}.font-sm[_ngcontent-%COMP%]{font-size:14px}.border-custom[_ngcontent-%COMP%]{border:1px solid #646769}  .inner_content .datepicker .form-control{height:32px!important;background-color:#343a40!important;color:#fff!important;border-color:#3c3e42!important}  .inner_content .datepicker .input-group-addon{height:32px!important;background-color:#343a40!important;color:#fff!important;border-color:#3c3e42!important;width:30px;text-align:center;line-height:30px}"]],data:{}});function Lu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function Ou(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,n.context.$implicit.isDisabled),t(n,3,0,n.context.$implicit.value)})}function Au(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Tu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function Du(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Pu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function xu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonYear=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Du)),c.Ab(12,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Pu)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Year",e.selectedFilterParams.seasonYear),t(n,12,0,e.seasonYearList),t(n,14,0,!e.validation[4])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function wu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,0==n.context.$implicit.show),t(n,3,0,n.context.$implicit.value)})}function ku(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season is not selected"]))],null,null)}function Iu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Season"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonType=e)&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,wu)),c.Ab(12,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,ku)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Season",e.selectedFilterParams.seasonType),t(n,12,0,e.seasonTypeList),t(n,14,0,!e.validation[5])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Eu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Nu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Fu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Bu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type is not selected"]))],null,null)}function Uu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,107,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,96,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(15,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(17,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,18).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(20,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(22,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Lu)),c.Ab(24,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(25,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Heat Map "])),(t()(),c.Bb(28,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(30,0,null,null,7,"select",[["class","form-control form-control-sm w-100"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,31).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,31).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.heatMap=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHeatMapchange()&&l),l},null,null)),c.Ab(31,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(33,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(35,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Ou)),c.Ab(37,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(38,0,null,null,69,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,40).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,40).onReset()&&l),l},null,null)),c.Ab(39,16384,null,0,Ft.D,[],null,null),c.Ab(40,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(42,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(43,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(44,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(46,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(48,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,49).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,49).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(49,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(51,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(53,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Au)),c.Ab(55,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Tu)),c.Ab(57,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(58,0,null,null,21,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(59,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(61,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(63,0,null,null,16,"select",[["class","form-control form-control-sm"],["name","Timestep"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(64,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(65,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(66,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(68,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(69,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(70,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(72,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(73,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(74,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.Bb(76,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(77,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(78,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Season"])),(t()(),c.sb(16777216,null,null,1,null,xu)),c.Ab(81,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Iu)),c.Ab(83,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Eu)),c.Ab(85,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Nu)),c.Ab(87,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(88,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(89,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type "])),(t()(),c.Bb(91,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(93,0,null,null,9,"select",[["class","form-control form-control-sm"],["name","Aggregation Type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,96).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,96).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.aggreType=e)&&l),l},null,null)),c.Ab(94,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(95,{"border-color":0}),c.Ab(96,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(98,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(100,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Fu)),c.Ab(102,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Bu)),c.Ab(104,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(105,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(106,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,20,0,"Source",e.selectedFilterParams.location),t(n,24,0,e.locationList),t(n,33,0,"Source",e.selectedFilterParams.heatMap),t(n,37,0,e.heatMapList),t(n,51,0,"Source",e.selectedFilterParams.source),t(n,55,0,e.sourceList),t(n,57,0,!e.validation[0]),t(n,65,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,66,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,69,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,70,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,73,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,74,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,77,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.SEASON,"")),t(n,78,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.SEASON,"")),t(n,81,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,83,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,85,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,87,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON);var l=t(n,95,0,e.validation[6]?"":"#e40e0e");t(n,94,0,l),t(n,98,0,"Aggregation Type",e.selectedFilterParams.aggreType),t(n,102,0,e.aggregationTypeList),t(n,104,0,!e.validation[6])},function(t,n){var e=n.component;t(n,17,0,c.Lb(n,22).ngClassUntouched,c.Lb(n,22).ngClassTouched,c.Lb(n,22).ngClassPristine,c.Lb(n,22).ngClassDirty,c.Lb(n,22).ngClassValid,c.Lb(n,22).ngClassInvalid,c.Lb(n,22).ngClassPending),t(n,30,0,c.Lb(n,35).ngClassUntouched,c.Lb(n,35).ngClassTouched,c.Lb(n,35).ngClassPristine,c.Lb(n,35).ngClassDirty,c.Lb(n,35).ngClassValid,c.Lb(n,35).ngClassInvalid,c.Lb(n,35).ngClassPending),t(n,38,0,c.Lb(n,42).ngClassUntouched,c.Lb(n,42).ngClassTouched,c.Lb(n,42).ngClassPristine,c.Lb(n,42).ngClassDirty,c.Lb(n,42).ngClassValid,c.Lb(n,42).ngClassInvalid,c.Lb(n,42).ngClassPending),t(n,48,0,c.Lb(n,53).ngClassUntouched,c.Lb(n,53).ngClassTouched,c.Lb(n,53).ngClassPristine,c.Lb(n,53).ngClassDirty,c.Lb(n,53).ngClassValid,c.Lb(n,53).ngClassInvalid,c.Lb(n,53).ngClassPending),t(n,64,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,68,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,72,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR),t(n,76,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,93,0,c.Lb(n,100).ngClassUntouched,c.Lb(n,100).ngClassTouched,c.Lb(n,100).ngClassPristine,c.Lb(n,100).ngClassDirty,c.Lb(n,100).ngClassValid,c.Lb(n,100).ngClassInvalid,c.Lb(n,100).ngClassPending)})}function Ru(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-groundwater-sidebar",[],null,null,null,Uu,_u)),c.Ab(1,245760,null,0,Tt,[O.a,T.a,Mt.a,Mt.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Vu=c.xb("app-groundwater-sidebar",Tt,Ru,{},{},[]),ju=c.zb({encapsulation:0,styles:[["#Daily-Rainfall[_ngcontent-%COMP%]{height:300px}.noDataCell[_ngcontent-%COMP%]{text-align:center;padding:2em;font-size:1.5em}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function Gu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No. of Stations"])),(t()(),c.Bb(5,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""]))],null,function(t,n){var e=n.component;t(n,6,0,null!=e.kpi.tns?e.kpi.tns:"-")})}function Yu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"]))],null,null)}function Wu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Depth to Water"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Yu)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.dtwl)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.dtwl?e.kpi.dtwl:"- ")})}function zu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"]))],null,null)}function Hu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Change Since Start of Water Year"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,zu)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.css)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.css?e.kpi.css:"- ")})}function qu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["m"]))],null,null)}function Ku(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Change Since Last Year"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,qu)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.csly)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.csly?e.kpi.csly:"- ")})}function Xu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stackchart",[["style","width: 100%;"]],null,null,null,jr,Vr)),c.Ab(1,638976,[[1,4]],0,Rr,[],{options:[0,"options"]},null)],function(t,n){t(n,1,0,n.component.chart.chartOptions)},null)}function Ju(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["id","Daily-Rainfall"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"spinner",[["id","GroundWaterChart"]],null,null,null,Ll.b,Ll.a)),c.Ab(2,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Xu)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"GroundWaterChart",e.throbbarForChart),t(n,4,0,e.chart.visibility.renderChart)},null)}function $u(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function Qu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,33,"table",[["class","table table-text-sm table-dark m-0 table-bordered text-white text-left "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,32,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Station Name"])),(t()(),c.Bb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.Bb(7,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(11,null,["",""])),(t()(),c.Bb(12,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(16,null,["",""])),c.Ob(17,1),(t()(),c.Bb(18,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["State"])),(t()(),c.Bb(21,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(22,null,["",""])),c.Ob(23,1),(t()(),c.Bb(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Lat, Long"])),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(28,null,["",", ",""])),(t()(),c.Bb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Level (m)"])),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(33,null,["",""]))],null,function(t,n){var e=n.component;t(n,6,0,e.tableData.name?e.tableData.name:"-"),t(n,11,0,e.selectedParams.srcName);var l=e.tableData.bn?c.Tb(n,16,0,t(n,17,0,c.Lb(n.parent,0),e.tableData.bn)):"-";t(n,16,0,l);var a=e.tableData.st?c.Tb(n,22,0,t(n,23,0,c.Lb(n.parent,0),e.tableData.st)):"-";t(n,22,0,a),t(n,28,0,e.tableData.lat?e.visibilityService.getDecimalFixed(e.tableData.lat):"-",e.tableData.lng?e.visibilityService.getDecimalFixed(e.tableData.lng):"-"),t(n,33,0,e.tableData.level?e.visibilityService.getDecimalFixed(e.tableData.level):"-")})}function Zu(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function tc(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(671088640,1,{_charts:1}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,29,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,9,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Gu)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Wu)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Hu)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ku)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(26,0,null,null,3,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,2,"div",[["class","card-body p-0 chart-content card shadow-none border"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ju)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(30,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,8,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,1,"spinner",[["id","rainfalldTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(34,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,$u)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Qu)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Zu)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,19,0,!e.isStation&&"TNGWD"==e.selectedParams.src),t(n,21,0,!e.isStation),t(n,23,0,!e.isStation),t(n,25,0,!e.isStation),t(n,29,0,e.chart.visibility.showChart),t(n,34,0,"rainfalldTableSpinner",e.rainfallTableSpinner),t(n,36,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,38,0,e.isStation&&null!=e.tableData),t(n,40,0,!e.rainfallTableSpinner&&e.showErrorMsgForTable)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="RIVER_GAUGE"==e.selectedParams.pType?"Rivergauge":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"Ground Water Information")})}function nc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-groundwater-infobox",[],null,null,null,tc,ju)),c.Ab(1,245760,null,0,Lt,[T.a,X,Mt.a,J.a,O.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var ec=c.xb("app-groundwater-infobox",Lt,nc,{},{},[]),lc=c.zb({encapsulation:0,styles:[[".leaflet-tooltip.distText{color:#505d6f!important;opacity:0;border:0;font-weight:900;background:0 0;box-shadow:none;font-size:13px;left:1px;font-family:roboto;font-style:bold;z-index:800}"]],data:{}});function ac(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","miTanksHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"miTanksHeatMapSpinner",e.miTanksHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function ic(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-mitanks-map",[],null,null,null,ac,lc)),c.Ab(1,245760,null,0,qt,[b.a,jt],null,null)],function(t,n){t(n,1,0)},null)}var rc=c.xb("app-mitanks-map",qt,ic,{},{},[]),oc=c.zb({encapsulation:0,styles:[[".slide-box[_ngcontent-%COMP%]{background:0 0;width:230px;color:#858796!important;position:relative;height:100vh;overflow:auto;overflow-x:hidden;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;top:0}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]{width:100%;min-width:250px;position:sticky;top:0;z-index:9;background:#007dc9}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{text-shadow:none;color:#fff;font-size:15px;cursor:pointer;transition:all .3s ease}.slide-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#000;border:1px solid #2f2e2e;color:#8e8e8e}.slide-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.35rem}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding:0;font-weight:500}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:24px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.3;font-size:24px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{background:#f5ffff}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover:active{background:#b9f1ff}@media (min-width:990px){.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:5px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;border-radius:5px;background:rgba(78,95,110,.055);color:#4e5f6e}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:rgba(78,95,110,.123)}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:#4e5f6e;color:#fff}.nav.overview-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.custom-control-input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.custom-control-input[_ngcontent-%COMP%]::before, .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;border-color:#558ddf;background-color:#558ddf}.custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]::before{box-shadow:0 0 0 .2rem rgba(85,141,223,.25)}.custom-control-input[_ngcontent-%COMP%]:focus:not(:checked) ~ .custom-control-label[_ngcontent-%COMP%]::before{border-color:#c0d5f3}.custom-control-input[_ngcontent-%COMP%]:not(:disabled):active ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;background-color:#ebf2fb;border-color:#ebf2fb}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]{color:#858796}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#eaecf4}.card[_ngcontent-%COMP%]{border-radius:3px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.15);border:none;overflow:visible}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:30px}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:22px;color:#000;margin:0}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7d7d7d;line-height:1.1}.card.card-statistic[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;background:#fff;box-shadow:0 -1px 0 rgba(0,0,0,.03);border:none;font-size:12px;color:#7d7d7d;padding-top:0;padding-bottom:0;height:30px;position:absolute;bottom:0;left:0;right:0;color:var(--dark) strong}.card.card-statistic.active[_ngcontent-%COMP%]{background:#558ddf}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);box-shadow:0 -1px 0 rgba(0,0,0,.03);color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:#c4efdf;border-color:rgba(0,0,0,.05);min-height:40px;padding-top:8px;padding-bottom:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:24px;padding:2px 8px;border-color:#f8f8f8;border-radius:3px;background-color:#000}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:24px;padding:0 8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:16px;color:#000}@media (min-width:990px){.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.select-specific-data[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:left;color:var(--color-white);text-transform:uppercase;margin-bottom:7px}ul.submenus[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--color-dark-rgb),.5);margin-bottom:10px;box-shadow:0 0 0 1px rgba(var(--color-white-rgb),.1);margin-bottom:20PX}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]{position:relative;display:block;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{position:relative;padding:15px 24px 15px 15px;min-height:44px;color:#fff}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:14px;text-align:left;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;background:#171e28;border:2px solid #fff;content:'';position:absolute;right:16px;top:50%;margin-top:-8px;border-radius:8px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{width:8px;height:8px;background:0 0;transform:scale(0);content:\"\";left:2px;top:2px;position:absolute;border-radius:50%}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]{color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{border-color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{background:var(--color-active);transform:scale(1)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:0!important;max-height:0;overflow-y:auto;padding-left:15px;padding-right:15px;margin-bottom:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body.active[_ngcontent-%COMP%]{max-height:600px;padding-top:15px;padding-bottom:15px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;text-align:left;color:#99a9be;margin-bottom:5px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%] + .assosiated-layer[_ngcontent-%COMP%]{margin-top:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:0;display:flex;align-items:center}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:.85rem;padding-left:2rem;position:relative}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:50%;transform:translateY(-50%);left:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:not(:checked) + .custom-control-label[_ngcontent-%COMP%]:before{background:var(--color-text-inactive);border:var(--color-dark-border) solid 1px}app-extreme-weather[_ngcontent-%COMP%]{z-index:999}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:400!important;font-size:14px!important}.card.card-filter[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #3f474e;border-radius:.25rem}.card.card-filter[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff}.form-control-sm[_ngcontent-%COMP%]{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], lib-data-table.dark-view[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff;padding:0}  .card.card-filter .input-group.date{background:0 0;border:none;margin:0;width:100%}  .card.card-filter .input-group.date input{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group.date .input-group-addon{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group>.custom-select:not(:last-child),   .card.card-filter .input-group>.form-control:not(:last-child){max-height:24px!important;color:#fff;padding:0 10px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]{border-color:#007bff}.sidebar-bg-form[_ngcontent-%COMP%]{background:#26282d;border:1px solid #414349}.custom-input[_ngcontent-%COMP%]{position:relative;top:4px;right:5px}.font-sm[_ngcontent-%COMP%]{font-size:14px}.border-custom[_ngcontent-%COMP%]{border:1px solid #646769}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:2px dotted #888989}"]],data:{}});function sc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function uc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,n.context.$implicit.isDisabled),t(n,3,0,n.context.$implicit.value)})}function cc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function hc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,107,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,104,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(9,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,10).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,10).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(10,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(12,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(14,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,sc)),c.Ab(16,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(17,0,null,null,22,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" View "])),(t()(),c.Bb(20,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(22,0,null,null,17,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,23).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,23).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.view=e)&&l),"ngModelChange"===n&&(l=!1!==a.onViewChange()&&l),l},null,null)),c.Ab(23,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(25,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(27,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(28,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(29,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(30,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(-1,null,[" Admin "])),(t()(),c.Bb(32,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(33,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(34,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(-1,null,[" Project "])),(t()(),c.Bb(36,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(37,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(38,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(-1,null,[" Basin "])),(t()(),c.Bb(40,0,null,null,67,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,42).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,42).onReset()&&l),l},null,null)),c.Ab(41,16384,null,0,Ft.D,[],null,null),c.Ab(42,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(44,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(45,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(46,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(48,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(50,0,null,null,9,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,53).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,53).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(51,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(52,{"border-color":0}),c.Ab(53,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(55,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(57,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,uc)),c.Ab(59,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,cc)),c.Ab(61,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(62,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(63,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(65,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(67,0,null,null,12,"select",[["class","form-control form-control-sm"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(68,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(69,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(70,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(72,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(73,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(74,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(76,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(77,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(78,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.Bb(80,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(81,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(83,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(85,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,86).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,91).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(86,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(88,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(90,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(91,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(92,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(93,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(95,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(97,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,98).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,103).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(98,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(100,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(102,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(103,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(104,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),c.Bb(105,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(106,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,12,0,"Source",e.selectedFilterParams.location),t(n,16,0,e.locationList),t(n,25,0,"Source",e.selectedFilterParams.view),t(n,29,0,e.constants.VIEWS.ADMIN),t(n,30,0,e.constants.VIEWS.ADMIN),t(n,33,0,e.constants.VIEWS.PROJECT),t(n,34,0,e.constants.VIEWS.PROJECT),t(n,37,0,e.constants.VIEWS.BASIN),t(n,38,0,e.constants.VIEWS.BASIN);var l=t(n,52,0,e.validation[0]?"":"#e40e0e");t(n,51,0,l),t(n,55,0,"Source",e.selectedFilterParams.source),t(n,59,0,e.sourceList),t(n,61,0,!e.validation[0]),t(n,69,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,70,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,73,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,74,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,77,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,78,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,86,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,88,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,98,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,100,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){var e=n.component;t(n,9,0,c.Lb(n,14).ngClassUntouched,c.Lb(n,14).ngClassTouched,c.Lb(n,14).ngClassPristine,c.Lb(n,14).ngClassDirty,c.Lb(n,14).ngClassValid,c.Lb(n,14).ngClassInvalid,c.Lb(n,14).ngClassPending),t(n,22,0,c.Lb(n,27).ngClassUntouched,c.Lb(n,27).ngClassTouched,c.Lb(n,27).ngClassPristine,c.Lb(n,27).ngClassDirty,c.Lb(n,27).ngClassValid,c.Lb(n,27).ngClassInvalid,c.Lb(n,27).ngClassPending),t(n,28,0,e.checkView(e.constants.VIEWS.ADMIN)),t(n,32,0,e.checkView(e.constants.VIEWS.PROJECT)),t(n,36,0,e.checkView(e.constants.VIEWS.BASIN)),t(n,40,0,c.Lb(n,44).ngClassUntouched,c.Lb(n,44).ngClassTouched,c.Lb(n,44).ngClassPristine,c.Lb(n,44).ngClassDirty,c.Lb(n,44).ngClassValid,c.Lb(n,44).ngClassInvalid,c.Lb(n,44).ngClassPending),t(n,50,0,c.Lb(n,57).ngClassUntouched,c.Lb(n,57).ngClassTouched,c.Lb(n,57).ngClassPristine,c.Lb(n,57).ngClassDirty,c.Lb(n,57).ngClassValid,c.Lb(n,57).ngClassInvalid,c.Lb(n,57).ngClassPending),t(n,68,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,72,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,76,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR),t(n,85,0,c.Lb(n,90).ngClassUntouched,c.Lb(n,90).ngClassTouched,c.Lb(n,90).ngClassPristine,c.Lb(n,90).ngClassDirty,c.Lb(n,90).ngClassValid,c.Lb(n,90).ngClassInvalid,c.Lb(n,90).ngClassPending),t(n,97,0,c.Lb(n,102).ngClassUntouched,c.Lb(n,102).ngClassTouched,c.Lb(n,102).ngClassPristine,c.Lb(n,102).ngClassDirty,c.Lb(n,102).ngClassValid,c.Lb(n,102).ngClassInvalid,c.Lb(n,102).ngClassPending)})}function dc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-mitanks-sidebar",[],null,null,null,hc,oc)),c.Ab(1,245760,null,0,Ht,[T.a,O.a,Et.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var pc=c.xb("app-mitanks-sidebar",Ht,dc,{},{},[]),gc=c.zb({encapsulation:0,styles:[[""]],data:{}});function mc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" ",""]))],null,function(t,n){var e=n.component;t(n,1,0,null!=e.kpiStorageUnit.val?e.kpiStorageUnit.val:"-")})}function bc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null!=e.kpi.unit?e.kpi.unit:"-")})}function fc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Km"])),(t()(),c.Bb(2,0,null,null,1,"sup",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["2"]))],null,null)}function yc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" % "]))],null,null)}function vc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,54,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,53,"div",[["class","row flex-lg-nowrap mb-2"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No. of Tanks"])),(t()(),c.Bb(7,0,null,null,3,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(9,null,["",""])),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,10,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Storage"])),(t()(),c.Bb(16,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(18,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,mc)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(21,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,10,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity"])),(t()(),c.Bb(27,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(29,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,bc)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(32,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,10,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(34,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(36,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Water spread Area"])),(t()(),c.Bb(38,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(39,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(40,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,fc)),c.Ab(42,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(43,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null)),(t()(),c.Bb(44,0,null,null,10,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(46,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(47,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Fill Percent"])),(t()(),c.Bb(49,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(50,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(51,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,yc)),c.Ab(53,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(54,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,20,0,null!=e.kpi.st),t(n,31,0,null!=e.kpi.tc),t(n,42,0,null!=e.kpi.wa),t(n,53,0,null!=e.kpi.fp)},function(t,n){var e=n.component;t(n,9,0,null!=e.kpi.cnt?e.kpi.cnt:"- "),t(n,18,0,null!=e.kpi.st?e.kpi.st:"- "),t(n,29,0,null!=e.kpi.tc?e.kpi.tc:"- "),t(n,40,0,null!=e.kpi.wa?e.kpi.wa:"- "),t(n,51,0,null!=e.kpi.fp?e.kpi.fp:"- ")})}function Cc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Sc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,12,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,11,"select",[["class","form-control col-md-12 mx-2 mt-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"change"===n&&(l=!1!==a.changeChart()&&l),"ngModelChange"===n&&(l=!1!==(a.chartOptions.selectedChart=e)&&l),l},null,null)),c.Ab(3,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(8,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(9,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(10,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select"])),(t()(),c.sb(16777216,null,null,1,null,Cc)),c.Ab(13,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,5,0,e.chartOptions.selectedChart),t(n,9,0,""),t(n,10,0,""),t(n,13,0,e.chartOptions.dropdown)},function(t,n){t(n,2,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending)})}function Mc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["class","card-body p-0"],["id","Daily-Rainfall"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"vl-stock-chart",[["style","width: 100%;"]],null,null,null,Zs,Es)),c.Ab(2,245760,null,0,Is,[Xo,wo,Ql.C,b.p,b.a,Al.d,Ko,zo,os],{stockChartConfig:[0,"stockChartConfig"]},null)],function(t,n){t(n,2,0,n.component.stockChartConfig)},null)}function _c(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function Lc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,33,"table",[["class","table m-0 table-bordered table-sm"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,32,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["MI Tank Name (MITank Id)"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Ayacut Area (acre)"])),(t()(),c.Bb(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,[" "," "])),(t()(),c.Bb(18,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin (Lat,Long)"])),(t()(),c.Bb(21,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(22,null,[""," (",", ",") "])),c.Ob(23,1),(t()(),c.Bb(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(26,null,["Storage/Capacity (",") (Fill %) "])),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(28,null,[""," / "," (",") "])),(t()(),c.Bb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["WSA(Current/Max) (km\xb2)"])),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(33,null,[" ","/"," "]))],null,function(t,n){var e=n.component,l=e.tableData.nm?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.nm)):"-";t(n,6,0,l,e.tableData.md&&e.tableData.md.ext?e.tableData.md.ext:"-"),t(n,12,0,e.selectedParams.srcName),t(n,17,0,e.tableData.md&&e.tableData.md.tay?e.visibilityUtils.getTwoDecimalFixed(e.tableData.md.tay):"-");var a=e.tableData.md&&e.tableData.md.bnm?c.Tb(n,22,0,t(n,23,0,c.Lb(n.parent,0),e.tableData.md.bnm)):"-";t(n,22,0,a,e.tableData.md&&e.tableData.md.lt?e.visibilityUtils.getFourDecimalFixed(e.tableData.md.lt):"-",e.tableData.md&&e.tableData.md.lg?e.visibilityUtils.getFourDecimalFixed(e.tableData.md.lg):"-"),t(n,26,0,e.tableCapacityUnit&&null!=e.tableCapacityUnit.val?e.tableCapacityUnit.val:"-"),t(n,28,0,e.tableData.st?e.visibilityUtils.getDecimalFixed(e.tableData.st):"-",e.tableCapacityUnit&&e.tableCapacityUnit.key?e.tableCapacityUnit.key:"-",e.tableData.fp?e.visibilityUtils.getDecimalFixed(e.tableData.fp):"-"),t(n,33,0,e.tableData.wa?e.visibilityUtils.getTwoDecimalFixed(e.tableData.wa):"-",e.tableData.md&&e.tableData.md.sma?e.visibilityUtils.getTwoDecimalFixed(e.tableData.md.sma):"-")})}function Oc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function Ac(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.key)})}function Tc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,23,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","form-check p-0"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"input",[["id","dropdown"],["name","dropdown"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.checked)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.dropdown=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHistoryCheckboxClick()&&l),l},null,null)),c.Ab(3,16384,null,0,Ft.b,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.b]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.Bb(9,0,null,null,1,"label",[["class","form-check-label"],["for","flexCheckIndeterminate"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Choose From Previous Versions "])),(t()(),c.Bb(11,0,null,null,12,"select",[["class","form-control form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,12).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.historyDataKey=e)&&l),"ngModelChange"===n&&(l=!1!==a.onDropDownChange()&&l),l},null,null)),c.Ab(12,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(14,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(16,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(17,0,null,null,3,"option",[["default","true"],["disabled",""],["value","-1"]],null,null,null,null,null)),c.Ab(18,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(19,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Version TimeStamp "])),(t()(),c.sb(16777216,null,null,2,null,Ac)),c.Ab(22,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,5,0,"dropdown",e.dropdown),t(n,14,0,"Source",!e.dropdown,e.historyDataKey),t(n,18,0,"-1"),t(n,19,0,"-1"),t(n,22,0,c.Tb(n,22,0,c.Lb(n,23).transform(e.historyData)))},function(t,n){t(n,2,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending),t(n,11,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending)})}function Dc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.key)})}function Pc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,23,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","form-check p-0"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"input",[["id","dropdown"],["name","dropdown"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.checked)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.dropdown=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHistoryCheckboxClick()&&l),l},null,null)),c.Ab(3,16384,null,0,Ft.b,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.b]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.Bb(9,0,null,null,1,"label",[["class","form-check-label"],["for","flexCheckIndeterminate"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Choose From Previous Versions "])),(t()(),c.Bb(11,0,null,null,12,"select",[["class","form-control form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,12).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.historyDataKey=e)&&l),"ngModelChange"===n&&(l=!1!==a.onDropDownChange()&&l),l},null,null)),c.Ab(12,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(14,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(16,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(17,0,null,null,3,"option",[["default","true"],["disabled",""],["value","-1"]],null,null,null,null,null)),c.Ab(18,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(19,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Version TimeStamp "])),(t()(),c.sb(16777216,null,null,2,null,Dc)),c.Ab(22,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,5,0,"dropdown",e.dropdown),t(n,14,0,"Source",!e.dropdown,e.historyDataKey),t(n,18,0,"-1"),t(n,19,0,"-1"),t(n,22,0,c.Tb(n,22,0,c.Lb(n,23).transform(e.historyData)))},function(t,n){t(n,2,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending),t(n,11,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending)})}function xc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-warning"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Save"]))],null,function(t,n){t(n,0,0,!n.component.addTankForm.valid)})}function wc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.cancel()&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Cancel"]))],null,null)}function kc(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(402653184,1,{deviationTemplate:0}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,32,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,vc)),c.Ab(17,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(18,0,null,null,4,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Sc)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Mc)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(23,0,null,null,10,"div",[["class","col-12 mt-3"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,8,"div",[["class","table-responsive mt-3"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,1,"spinner",[["id","miTanksTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(27,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,_c)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Lc)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Oc)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Tc)),c.Ab(35,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Pc)),c.Ab(37,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(38,0,null,null,5,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,xc)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,["\xa0\xa0\xa0 "])),(t()(),c.sb(16777216,null,null,1,null,wc)),c.Ab(43,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,17,0,!e.isStation),t(n,20,0,e.chartOptions.showChartDropdown),t(n,22,0,e.showStockChart),t(n,27,0,"miTanksTableSpinner",e.rainfallTableSpinner),t(n,29,0,!e.isStation&&null!=e.tableData&&e.tableData.length>0),t(n,31,0,e.isStation&&null!=e.tableData),t(n,33,0,e.showErrorMsgForTable&&!e.rainfallTableSpinner),t(n,35,0,e.isFormActive&&e.isEditing),t(n,37,0,e.isFormActive&&e.isEditing),t(n,40,0,e.isFormActive),t(n,43,0,e.isFormActive)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="MITANK"==e.selectedParams.pType?"MI Tank":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"MI Tank Information")})}function Ic(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-mitanks-infobox",[],null,null,null,kc,gc)),c.Ab(1,245760,null,0,Yt,[T.a,O.a,Et.a,Et.a,D.a,J.a,X,w.a,Ft.f,$l.j,jt],null,null)],function(t,n){t(n,1,0)},null)}var Ec=c.xb("app-mitanks-infobox",Yt,Ic,{},{editAction:"editAction"},[]),Nc=c.zb({encapsulation:0,styles:[[""]],data:{}});function Fc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","reservoirHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"reservoirHeatMapSpinner",e.reservoirHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Bc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-reservoir-map",[],null,null,null,Fc,Nc)),c.Ab(1,114688,null,0,en,[b.a,T.a,O.a],null,null)],function(t,n){t(n,1,0)},null)}var Uc=c.xb("app-reservoir-map",en,Bc,{},{},[]),Rc=c.zb({encapsulation:0,styles:[[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.slide-box[_ngcontent-%COMP%]{background:0 0;width:230px;color:#858796!important;position:relative;height:100vh;overflow:auto;overflow-x:hidden;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;top:0}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]{width:100%;min-width:250px;position:sticky;top:0;z-index:9;background:#007dc9}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{text-shadow:none;color:#fff;font-size:15px;cursor:pointer;transition:all .3s ease}.slide-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#000;border:1px solid #2f2e2e;color:#8e8e8e}.slide-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.35rem}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding:0;font-weight:500}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:24px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.3;font-size:24px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{background:#f5ffff}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover:active{background:#b9f1ff}@media (min-width:990px){.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:5px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;border-radius:5px;background:rgba(78,95,110,.055);color:#4e5f6e}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:rgba(78,95,110,.123)}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:#4e5f6e;color:#fff}.nav.overview-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.custom-control-input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.custom-control-input[_ngcontent-%COMP%]::before, .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;border-color:#558ddf;background-color:#558ddf}.custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]::before{box-shadow:0 0 0 .2rem rgba(85,141,223,.25)}.custom-control-input[_ngcontent-%COMP%]:focus:not(:checked) ~ .custom-control-label[_ngcontent-%COMP%]::before{border-color:#c0d5f3}.custom-control-input[_ngcontent-%COMP%]:not(:disabled):active ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;background-color:#ebf2fb;border-color:#ebf2fb}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]{color:#858796}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#eaecf4}.card[_ngcontent-%COMP%]{border-radius:3px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.15);border:none;overflow:visible}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:30px}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:22px;color:#000;margin:0}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7d7d7d;line-height:1.1}.card.card-statistic[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;background:#fff;box-shadow:0 -1px 0 rgba(0,0,0,.03);border:none;font-size:12px;color:#7d7d7d;padding-top:0;padding-bottom:0;height:30px;position:absolute;bottom:0;left:0;right:0;color:var(--dark) strong}.card.card-statistic.active[_ngcontent-%COMP%]{background:#558ddf}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);box-shadow:0 -1px 0 rgba(0,0,0,.03);color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:#c4efdf;border-color:rgba(0,0,0,.05);min-height:40px;padding-top:8px;padding-bottom:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:24px;padding:2px 8px;border-color:#f8f8f8;border-radius:3px;background-color:#000}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:24px;padding:0 8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:16px;color:#000}@media (min-width:990px){.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.select-specific-data[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:left;color:var(--color-white);text-transform:uppercase;margin-bottom:7px}ul.submenus[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--color-dark-rgb),.5);margin-bottom:10px;box-shadow:0 0 0 1px rgba(var(--color-white-rgb),.1);margin-bottom:20PX}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]{position:relative;display:block;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{position:relative;padding:15px 24px 15px 15px;min-height:44px;color:#fff}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:14px;text-align:left;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;background:#171e28;border:2px solid #fff;content:'';position:absolute;right:16px;top:50%;margin-top:-8px;border-radius:8px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{width:8px;height:8px;background:0 0;transform:scale(0);content:\"\";left:2px;top:2px;position:absolute;border-radius:50%}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]{color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{border-color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{background:var(--color-active);transform:scale(1)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:0!important;max-height:0;overflow-y:auto;padding-left:15px;padding-right:15px;margin-bottom:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body.active[_ngcontent-%COMP%]{max-height:600px;padding-top:15px;padding-bottom:15px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;text-align:left;color:#99a9be;margin-bottom:5px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%] + .assosiated-layer[_ngcontent-%COMP%]{margin-top:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:0;display:flex;align-items:center}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:.85rem;padding-left:2rem;position:relative}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:50%;transform:translateY(-50%);left:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:not(:checked) + .custom-control-label[_ngcontent-%COMP%]:before{background:var(--color-text-inactive);border:var(--color-dark-border) solid 1px}app-extreme-weather[_ngcontent-%COMP%]{z-index:999}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:400!important;font-size:14px!important}.card.card-filter[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #3f474e;border-radius:.25rem}.card.card-filter[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff}.form-control-sm[_ngcontent-%COMP%]{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], lib-data-table.dark-view[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff;padding:0}  .card.card-filter .input-group.date{background:0 0;border:none;margin:0;width:100%}  .card.card-filter .input-group.date input{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group.date .input-group-addon{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group>.custom-select:not(:last-child),   .card.card-filter .input-group>.form-control:not(:last-child){max-height:24px!important;padding:0 10px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]{border-color:#007bff}.sidebar-bg-form[_ngcontent-%COMP%]{background:#26282d;border:1px solid #414349}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:2px dotted #888989}.custom-input[_ngcontent-%COMP%]{position:relative;top:4px;right:5px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#2d99ff;border-radius:20px}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;color:#898989;font-size:14px}.font-sm[_ngcontent-%COMP%]{font-size:14px}.border-custom[_ngcontent-%COMP%]{border:1px solid #646769}"]],data:{}});function Vc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function jc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Gc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function Yc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Wc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type is not selected"]))],null,null)}function zc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,108,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,97,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(15,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(17,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,18).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(20,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(22,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Vc)),c.Ab(24,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(25,0,null,null,83,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,27).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,27).onReset()&&l),l},null,null)),c.Ab(26,16384,null,0,Ft.D,[],null,null),c.Ab(27,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(29,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(30,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(33,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(35,0,null,null,9,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,38).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,38).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(36,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(37,{"border-color":0}),c.Ab(38,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(40,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(42,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,jc)),c.Ab(44,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Gc)),c.Ab(46,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(47,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(48,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(50,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(52,0,null,null,12,"select",[["class","form-control form-control-sm"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(53,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(54,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(55,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(57,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(58,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(59,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly "])),(t()(),c.Bb(61,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(62,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(63,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly "])),(t()(),c.Bb(65,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(66,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(68,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(70,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,71).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,76).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(71,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(73,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(75,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(76,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(77,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(78,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(80,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(82,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,83).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,88).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(83,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(85,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(87,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(88,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(89,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(90,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type "])),(t()(),c.Bb(92,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(94,0,null,null,9,"select",[["class","form-control form-control-sm"],["name","Aggregation Type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,97).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,97).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.aggreType=e)&&l),l},null,null)),c.Ab(95,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(96,{"border-color":0}),c.Ab(97,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(99,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(101,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Yc)),c.Ab(103,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Wc)),c.Ab(105,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(106,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(107,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,20,0,"Source",e.selectedFilterParams.location),t(n,24,0,e.locationList);var l=t(n,37,0,e.validation[0]?"":"#e40e0e");t(n,36,0,l),t(n,40,0,"Source",e.selectedFilterParams.source),t(n,44,0,e.sourceList),t(n,46,0,!e.validation[0]),t(n,54,0,c.Db(1,"",e.dateType.DAY,"")),t(n,55,0,c.Db(1,"",e.dateType.DAY,"")),t(n,58,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,59,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,62,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,63,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,71,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,73,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,83,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,85,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value);var a=t(n,96,0,e.validation[4]?"":"#e40e0e");t(n,95,0,a),t(n,99,0,"Aggregation Type",e.selectedFilterParams.aggreType),t(n,103,0,e.aggregationTypeList),t(n,105,0,!e.validation[4])},function(t,n){var e=n.component;t(n,17,0,c.Lb(n,22).ngClassUntouched,c.Lb(n,22).ngClassTouched,c.Lb(n,22).ngClassPristine,c.Lb(n,22).ngClassDirty,c.Lb(n,22).ngClassValid,c.Lb(n,22).ngClassInvalid,c.Lb(n,22).ngClassPending),t(n,25,0,c.Lb(n,29).ngClassUntouched,c.Lb(n,29).ngClassTouched,c.Lb(n,29).ngClassPristine,c.Lb(n,29).ngClassDirty,c.Lb(n,29).ngClassValid,c.Lb(n,29).ngClassInvalid,c.Lb(n,29).ngClassPending),t(n,35,0,c.Lb(n,42).ngClassUntouched,c.Lb(n,42).ngClassTouched,c.Lb(n,42).ngClassPristine,c.Lb(n,42).ngClassDirty,c.Lb(n,42).ngClassValid,c.Lb(n,42).ngClassInvalid,c.Lb(n,42).ngClassPending),t(n,53,0,e.selectedFilterParams.format==e.dateType.DAY),t(n,57,0,e.selectedFilterParams.format==e.dateType.MONTH),t(n,61,0,e.selectedFilterParams.format==e.dateType.YEAR),t(n,70,0,c.Lb(n,75).ngClassUntouched,c.Lb(n,75).ngClassTouched,c.Lb(n,75).ngClassPristine,c.Lb(n,75).ngClassDirty,c.Lb(n,75).ngClassValid,c.Lb(n,75).ngClassInvalid,c.Lb(n,75).ngClassPending),t(n,82,0,c.Lb(n,87).ngClassUntouched,c.Lb(n,87).ngClassTouched,c.Lb(n,87).ngClassPristine,c.Lb(n,87).ngClassDirty,c.Lb(n,87).ngClassValid,c.Lb(n,87).ngClassInvalid,c.Lb(n,87).ngClassPending),t(n,94,0,c.Lb(n,101).ngClassUntouched,c.Lb(n,101).ngClassTouched,c.Lb(n,101).ngClassPristine,c.Lb(n,101).ngClassDirty,c.Lb(n,101).ngClassValid,c.Lb(n,101).ngClassInvalid,c.Lb(n,101).ngClassPending)})}function Hc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-reservoir-sidebar",[],null,null,null,zc,Rc)),c.Ab(1,245760,null,0,tn,[T.a,O.a,Kt.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var qc=c.xb("app-reservoir-sidebar",tn,Hc,{},{},[]),Kc=c.zb({encapsulation:0,styles:[["#Reservoir[_ngcontent-%COMP%]{height:200px}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function Xc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"div",[["class","col-lg-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No. of Reservoirs"])),(t()(),c.Bb(5,0,null,null,3,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],null,function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.nRes?e.kpi.nRes:"- ")})}function Jc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" MCFT "]))],null,null)}function $c(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-lg-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Current Storage"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Jc)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.tSt)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.tSt?e.kpi.tSt:"- ")})}function Qc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" % "]))],null,null)}function Zc(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-lg-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Fill Percentage"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Qc)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.pfill)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.pfill?e.kpi.pfill:"- ")})}function th(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" MCFT "]))],null,null)}function nh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-lg-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Reservoir Storage"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,th)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.tca)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.tca?e.kpi.tca:"- ")})}function eh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,18,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,17,"select",[["class","form-control col-md-12 mx-2 mt-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"change"===n&&(l=!1!==a.changeChart()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedChartType=e)&&l),l},null,null)),c.Ab(3,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(8,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(9,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(10,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select"])),(t()(),c.Bb(12,0,null,null,3,"option",[["value","storage"]],null,null,null,null,null)),c.Ab(13,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(14,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Storage"])),(t()(),c.Bb(16,0,null,null,3,"option",[["value","level"]],null,null,null,null,null)),c.Ab(17,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(18,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Level"]))],function(t,n){t(n,5,0,n.component.selectedChartType),t(n,9,0,""),t(n,10,0,""),t(n,13,0,"storage"),t(n,14,0,"storage"),t(n,17,0,"level"),t(n,18,0,"level")},function(t,n){t(n,2,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending)})}function lh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["id","Reservoir"],["style","position: relative !important "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"vl-stock-chart",[],null,null,null,Zs,Es)),c.Ab(2,245760,null,0,Is,[Xo,wo,Ql.C,b.p,b.a,Al.d,Ko,zo,os],{stockChartConfig:[0,"stockChartConfig"]},null)],function(t,n){t(n,2,0,n.component.stockChartConfig)},null)}function ah(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,null,null,Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},null)],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function ih(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,58,"table",[["class","table table-text-sm table-dark m-0 table-bordered text-dark text-left"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,57,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Reservoir"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(16,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,[""," "])),c.Ob(18,1),(t()(),c.Bb(19,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Lat, Long"])),(t()(),c.Bb(22,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(23,null,["",", ",""])),(t()(),c.Bb(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Inflow (Cusec)"])),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(28,null,[""," "])),(t()(),c.Bb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Outflow (Cusec)"])),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(33,null,[""," "])),(t()(),c.Bb(34,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Catchment Area(Sq Km)"])),(t()(),c.Bb(37,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(38,null,[""," "])),(t()(),c.Bb(39,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (MCFT)"])),(t()(),c.Bb(42,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(43,null,["",""])),(t()(),c.Bb(44,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Storage (MCFT)"])),(t()(),c.Bb(47,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(48,null,["",""])),(t()(),c.Bb(49,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(50,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Fill Percentage(%)"])),(t()(),c.Bb(52,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(53,null,["",""])),(t()(),c.Bb(54,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(55,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["FRL (Feet)"])),(t()(),c.Bb(57,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(58,null,[""," "]))],null,function(t,n){var e=n.component,l=e.tableData.ln?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.ln)):"-";t(n,6,0,l),t(n,12,0,e.selectedParams.srcName);var a=e.tableData.basinName?c.Tb(n,17,0,t(n,18,0,c.Lb(n.parent,0),e.tableData.basinName)):"-";t(n,17,0,a),t(n,23,0,e.tableData.lat?e.visibilityUtils.getDecimalFixed(e.tableData.lat):"-",e.tableData.lng?e.visibilityUtils.getDecimalFixed(e.tableData.lng):"-"),t(n,28,0,e.tableData.inf?e.visibilityUtils.getDecimalFixed(e.tableData.inf):"-"),t(n,33,0,e.tableData.ofl?e.visibilityUtils.getDecimalFixed(e.tableData.ofl):"-"),t(n,38,0,e.tableData.cArea?e.visibilityUtils.getTwoDecimalFixed(e.tableData.cArea):"-"),t(n,43,0,e.tableData.tca?e.visibilityUtils.getDecimalFixed(e.tableData.tca):"-"),t(n,48,0,e.tableData.tSt?e.visibilityUtils.getDecimalFixed(e.tableData.tSt):"-"),t(n,53,0,e.tableData.pfill?e.visibilityUtils.getDecimalFixed(e.tableData.pfill):"-"),t(n,58,0,e.tableData.frl?e.visibilityUtils.getDecimalFixed(e.tableData.frl):"-")})}function rh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function oh(t){return c.Ub(0,[c.Mb(0,m.B,[]),(t()(),c.Bb(1,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(4,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(5,null,[""," (",")"])),c.Ob(6,1),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(9,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,31,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(13,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(14,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,9,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Xc)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,$c)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Zc)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,nh)),c.Ab(24,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(25,0,null,null,5,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,4,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,eh)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,lh)),c.Ab(30,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(31,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,8,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(34,0,null,null,1,"spinner",[["id","reservoirTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(35,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,ah)),c.Ab(37,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ih)),c.Ab(39,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,rh)),c.Ab(41,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,13,0,e.inputForBreadcrumb),t(n,18,0,!e.isStation),t(n,20,0,!e.isStation),t(n,22,0,!e.isStation),t(n,24,0,!e.isStation),t(n,28,0,e.selectedParams.pType==e.locationType.RESERVOIR),t(n,30,0,e.showStockChart),t(n,35,0,"reservoirTableSpinner",e.reservoirTableSpinner),t(n,37,0,!e.isReservoir&&null!=e.tableData&&e.tableData.length>0),t(n,39,0,e.isReservoir&&null!=e.tableData),t(n,41,0,e.showErrorMsgForTable&&!e.reservoirTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,5,0,t(n,6,0,c.Lb(n,0),e.selectedParams.locName)),a="RESERVOIR"==e.selectedParams.pType?"Reservoir":c.Tb(n,5,1,t(n,7,0,c.Lb(n,0),e.selectedParams.pType));t(n,5,0,l,a),t(n,11,0,e.title?e.title:"Reservoir Information")})}function sh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-reservoir-infobox",[],null,null,null,oh,Kc)),c.Ab(1,245760,null,0,$t,[O.a,X,Kt.a,J.a,T.a,at.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var uh=c.xb("app-reservoir-infobox",$t,sh,{},{},[]),ch=c.zb({encapsulation:0,styles:[[""]],data:{}});function hh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","rivergaugeHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"rivergaugeHeatMapSpinner",e.rivergaugeHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function dh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-riverguage-map",[],null,null,null,hh,ch)),c.Ab(1,114688,null,0,Xn,[b.a,T.a,O.a],null,null)],function(t,n){t(n,1,0)},null)}var ph=c.xb("app-riverguage-map",Xn,dh,{},{},[]),gh=c.zb({encapsulation:0,styles:[[""]],data:{}});function mh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function bh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function fh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function yh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function vh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type is not selected"]))],null,null)}function Ch(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,100,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,97,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location "])),(t()(),c.Bb(7,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(9,0,null,null,7,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,10).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,10).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(10,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(12,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(14,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,mh)),c.Ab(16,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(17,0,null,null,83,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,19).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,19).onReset()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.D,[],null,null),c.Ab(19,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(21,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(22,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(25,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(27,0,null,null,9,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,30).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,30).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(28,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(29,{"border-color":0}),c.Ab(30,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(32,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(34,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,bh)),c.Ab(36,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,fh)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(39,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(42,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(44,0,null,null,12,"select",[["class","form-control"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(45,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(46,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(47,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(49,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(50,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(51,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly "])),(t()(),c.Bb(53,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(54,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(55,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly "])),(t()(),c.Bb(57,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(58,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(60,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(62,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,63).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,68).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(63,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(65,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(67,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(68,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(69,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(70,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(72,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(74,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,75).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,80).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(75,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(77,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(79,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(80,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(81,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(82,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Aggregation Type "])),(t()(),c.Bb(84,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(86,0,null,null,9,"select",[["class","form-control"],["name","Aggregation Type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,89).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,89).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.aggreType=e)&&l),l},null,null)),c.Ab(87,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(88,{"border-color":0}),c.Ab(89,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(91,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(93,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,yh)),c.Ab(95,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,vh)),c.Ab(97,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(98,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(99,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,12,0,"Source",e.selectedFilterParams.location),t(n,16,0,e.locationList);var l=t(n,29,0,e.validation[0]?"":"#e40e0e");t(n,28,0,l),t(n,32,0,"Source",e.selectedFilterParams.source),t(n,36,0,e.sourceList),t(n,38,0,!e.validation[0]),t(n,46,0,c.Db(1,"",e.dateType.DAY,"")),t(n,47,0,c.Db(1,"",e.dateType.DAY,"")),t(n,50,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,51,0,c.Db(1,"",e.dateType.MONTH,"")),t(n,54,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,55,0,c.Db(1,"",e.dateType.YEAR,"")),t(n,63,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,65,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,75,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,77,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value);var a=t(n,88,0,e.validation[4]?"":"#e40e0e");t(n,87,0,a),t(n,91,0,"Aggregation Type",e.selectedFilterParams.aggreType),t(n,95,0,e.aggregationTypeList),t(n,97,0,!e.validation[4])},function(t,n){var e=n.component;t(n,9,0,c.Lb(n,14).ngClassUntouched,c.Lb(n,14).ngClassTouched,c.Lb(n,14).ngClassPristine,c.Lb(n,14).ngClassDirty,c.Lb(n,14).ngClassValid,c.Lb(n,14).ngClassInvalid,c.Lb(n,14).ngClassPending),t(n,17,0,c.Lb(n,21).ngClassUntouched,c.Lb(n,21).ngClassTouched,c.Lb(n,21).ngClassPristine,c.Lb(n,21).ngClassDirty,c.Lb(n,21).ngClassValid,c.Lb(n,21).ngClassInvalid,c.Lb(n,21).ngClassPending),t(n,27,0,c.Lb(n,34).ngClassUntouched,c.Lb(n,34).ngClassTouched,c.Lb(n,34).ngClassPristine,c.Lb(n,34).ngClassDirty,c.Lb(n,34).ngClassValid,c.Lb(n,34).ngClassInvalid,c.Lb(n,34).ngClassPending),t(n,45,0,e.selectedFilterParams.format==e.dateType.DAY),t(n,49,0,e.selectedFilterParams.format==e.dateType.MONTH),t(n,53,0,e.selectedFilterParams.format==e.dateType.YEAR),t(n,62,0,c.Lb(n,67).ngClassUntouched,c.Lb(n,67).ngClassTouched,c.Lb(n,67).ngClassPristine,c.Lb(n,67).ngClassDirty,c.Lb(n,67).ngClassValid,c.Lb(n,67).ngClassInvalid,c.Lb(n,67).ngClassPending),t(n,74,0,c.Lb(n,79).ngClassUntouched,c.Lb(n,79).ngClassTouched,c.Lb(n,79).ngClassPristine,c.Lb(n,79).ngClassDirty,c.Lb(n,79).ngClassValid,c.Lb(n,79).ngClassInvalid,c.Lb(n,79).ngClassPending),t(n,86,0,c.Lb(n,93).ngClassUntouched,c.Lb(n,93).ngClassTouched,c.Lb(n,93).ngClassPristine,c.Lb(n,93).ngClassDirty,c.Lb(n,93).ngClassValid,c.Lb(n,93).ngClassInvalid,c.Lb(n,93).ngClassPending)})}function Sh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-riverguage-sidebar",[],null,null,null,Ch,gh)),c.Ab(1,245760,null,0,qn,[T.a,O.a,Un.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Mh=c.xb("app-riverguage-sidebar",qn,Sh,{},{},[]),_h=c.zb({encapsulation:0,styles:[[""]],data:{}});function Lh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,6,"div",[["class","col-12 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No. of Rivergauges"])),(t()(),c.Bb(6,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""]))],null,function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.nRG?e.kpi.nRG:"- ")})}function Oh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function Ah(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,9,"div",[["class","chart-content card shadow-none border"],["id","Rivergauge"]],null,null,null,null,null)),(t()(),c.Bb(1,0,[[1,0],["chartContainer",1]],null,4,"div",[["class","w-100"]],[[8,"hidden",0]],null,null,null,null)),c.Ab(2,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(3,{height:0}),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,Oh)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component,l=t(n,3,0,e.chartheight);t(n,2,0,l),t(n,7,0,c.Tb(n,7,0,c.Lb(n,8).transform(e.chartData))==c.Tb(n,7,0,c.Lb(n,9).transform(c.ob)))},function(t,n){var e=n.component;t(n,1,0,c.Tb(n,1,0,c.Lb(n,4).transform(e.chartData))==c.Tb(n,1,0,c.Lb(n,5).transform(c.ob)))})}function Th(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function Dh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,48,"table",[["class","table m-0 table-bordered table-sm"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,47,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Rivergauge"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(16,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,[""," "])),c.Ob(18,1),(t()(),c.Bb(19,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Lat, Long"])),(t()(),c.Bb(22,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(23,null,["",", ",""])),(t()(),c.Bb(24,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Level (m)"])),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(28,null,[""," "])),(t()(),c.Bb(29,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flow (Cusec)"])),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(33,null,[""," "])),(t()(),c.Bb(34,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Trend"])),(t()(),c.Bb(37,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(38,null,[""," "])),(t()(),c.Bb(39,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Depth (m)"])),(t()(),c.Bb(42,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(43,null,[""," "])),(t()(),c.Bb(44,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Discharge"])),(t()(),c.Bb(47,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(48,null,[""," "]))],null,function(t,n){var e=n.component,l=e.tableData.n?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.n)):"-";t(n,6,0,l),t(n,12,0,e.selectedParams.srcName);var a=e.tableData.md.b?c.Tb(n,17,0,t(n,18,0,c.Lb(n.parent,0),e.tableData.md.b)):"-";t(n,17,0,a),t(n,23,0,e.tableData.md.la?e.visibilityUtils.getDecimalFixed(e.tableData.md.la):"-",e.tableData.md.lg?e.visibilityUtils.getDecimalFixed(e.tableData.md.lg):"-"),t(n,28,0,e.tableData.l?e.visibilityUtils.getDecimalFixed(e.tableData.l):"-"),t(n,33,0,e.tableData.f?e.visibilityUtils.getDecimalFixed(e.tableData.f):"-"),t(n,38,0,e.tableData.trnd?e.tableData.trnd:"-"),t(n,43,0,e.tableData.d?e.visibilityUtils.getDecimalFixed(e.tableData.d):"-"),t(n,48,0,e.tableData.f?e.visibilityUtils.getDecimalFixed(e.tableData.f):"-")})}function Ph(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function xh(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(671088640,1,{chartContainer:0}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,22,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,2,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Lh)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(19,0,null,null,3,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,2,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ah)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(23,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,1,"spinner",[["id","rivergaugeTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(26,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Th)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(29,0,null,null,4,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Dh)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ph)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,18,0,!e.isRivergauge),t(n,22,0,e.isRivergauge),t(n,26,0,"rivergaugeTableSpinner",e.rivergaugeTableSpinner),t(n,28,0,!e.isRivergauge&&null!=e.tableData&&e.tableData.length>0),t(n,31,0,e.isRivergauge&&null!=e.tableData),t(n,33,0,e.showErrorMsgForTable&&!e.rivergaugeTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="RIVER_GAUGE"==e.selectedParams.pType?"Rivergauge":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"Rivergauge Information")})}function wh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-riverguage-infobox",[],null,null,null,xh,_h)),c.Ab(1,245760,null,0,Wn,[O.a,X,Un.a,J.a,T.a,at.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var kh=c.xb("app-riverguage-infobox",Wn,wh,{},{},[]),Ih=c.zb({encapsulation:0,styles:[[""]],data:{}});function Eh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(1,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{tableDataComponent:[0,"tableDataComponent"],sidebarComponent:[1,"sidebarComponent"],otherOptions:[2,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Nh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-water-audit-map",[],null,null,null,Eh,Ih)),c.Ab(1,114688,null,0,se,[b.a],null,null)],function(t,n){t(n,1,0)},null)}var Fh=c.xb("app-water-audit-map",se,Nh,{},{},[]),Bh=c.zb({encapsulation:0,styles:[[""]],data:{}});function Uh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap)},null)}function Rh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){t(n,1,0,n.context.rowData[n.context.index].values)})}function Vh(t){return c.Ub(0,[c.Qb(402653184,1,{changeInStorageTemplate:0}),(t()(),c.Bb(1,0,null,null,4,"div",[["class","modal-header d-flex"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,1,"h5",[["class","modal-title flex-fill"],["id","modal-basic-title"]],null,null,null,null,null)),(t()(),c.Sb(3,null,["",""])),(t()(),c.Bb(4,0,null,null,1,"button",[["aria-label","Close"],["class","btn icon-only"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closeModal()&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,0,"i",[["aria-hidden","true"],["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,6,"div",[["class","modal-body p-0 position-relative"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,4,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,3,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Uh)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,[[1,2],["rsc",2]],null,0,null,Rh))],function(t,n){var e=n.component;t(n,11,0,null!=e.tableData&&e.tableData.length>0)},function(t,n){t(n,3,0,n.component.title)})}function jh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-water-audit-popup",[],null,null,null,Vh,Bh)),c.Ab(1,114688,null,0,Qn,[Ql.d],null,null)],function(t,n){t(n,1,0)},null)}var Gh=c.xb("app-water-audit-popup",Qn,jh,{tableData:"tableData",tableConfiguration:"tableConfiguration",columnConfig:"columnConfig",title:"title"},{},[]),Yh=c.zb({encapsulation:0,styles:[[""]],data:{}});function Wh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,61,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,50,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,49,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,14).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,14).onReset()&&l),l},null,null)),c.Ab(13,16384,null,0,Ft.D,[],null,null),c.Ab(14,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(16,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(17,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(20,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(22,0,null,null,12,"select",[["class","form-control form-control-sm"],["name","Timestep"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(23,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(24,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(25,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(27,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(28,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(29,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(31,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(32,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(33,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.Bb(35,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(36,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(38,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(40,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,41).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,46).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(41,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(43,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(45,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(46,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(47,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(48,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(50,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(52,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,53).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,58).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(53,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(55,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(57,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(58,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(59,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(60,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,24,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,25,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,28,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,29,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,32,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,33,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,41,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,43,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,53,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,55,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){var e=n.component;t(n,12,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending),t(n,23,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,27,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,31,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR),t(n,40,0,c.Lb(n,45).ngClassUntouched,c.Lb(n,45).ngClassTouched,c.Lb(n,45).ngClassPristine,c.Lb(n,45).ngClassDirty,c.Lb(n,45).ngClassValid,c.Lb(n,45).ngClassInvalid,c.Lb(n,45).ngClassPending),t(n,52,0,c.Lb(n,57).ngClassUntouched,c.Lb(n,57).ngClassTouched,c.Lb(n,57).ngClassPristine,c.Lb(n,57).ngClassDirty,c.Lb(n,57).ngClassValid,c.Lb(n,57).ngClassInvalid,c.Lb(n,57).ngClassPending)})}function zh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-water-audit-sidebar",[],null,null,null,Wh,Yh)),c.Ab(1,245760,null,0,le,[T.a,O.a,Jn.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Hh=c.xb("app-water-audit-sidebar",le,zh,{},{},[]),qh=c.zb({encapsulation:0,styles:[[".accordion[_ngcontent-%COMP%]{border-radius:.5rem;margin-top:1rem;background:#3d8bfd}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#cfe2ff}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;color:#212529;font-weight:500}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:0 0;box-shadow:none;padding:0}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:#fff}.accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-striped[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:.5rem}.mouseover[_ngcontent-%COMP%]{cursor:pointer;color:#3d8bfd}"]],data:{}});function Kh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function Xh(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){t(n,1,0,n.context.rowData[n.context.index].values)})}function Jh(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(402653184,1,{changeInStorageTemplate:0}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,108,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,104,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,96,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,21,"div",[["class","accordion"],["id","accordion1"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,4,"div",[["aria-controls","collapseOne"],["aria-expanded","false"],["class","card-header d-flex justify-content-between border-0 p-3 mouseover"],["data-target","#collapseOne"],["data-toggle","collapse"],["id","headingOne"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"h5",[["class","mb-0 d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Sb(21,null,[" Total Inflows: "," (MCFT) "])),(t()(),c.Bb(22,0,null,null,1,"button",[["class","btn btn-link collapsed"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,0,"i",[["class","bi bi-chevron-down"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,14,"div",[["aria-labelledby","headingOne"],["class","collapse"],["data-parent","#accordion1"],["id","collapseOne"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,13,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,12,"div",[["_ngcontent-xru-c49",""],["class","table-container"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,11,"table",[["_ngcontent-xru-c49",""],["class","w-100 table table-striped tank-master-data mb-0"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,10,"tbody",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("rf","Rainfall")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Rainfall"])),(t()(),c.Bb(32,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(33,null,[" "," (MCFT) "])),(t()(),c.Bb(34,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Inflow From Streams"])),(t()(),c.Bb(37,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(38,null,[" "," (MCFT) "])),(t()(),c.Bb(39,0,null,null,31,"div",[["class","accordion"],["id","accordion2"]],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,30,"div",[["class","card"]],null,null,null,null,null)),(t()(),c.Bb(41,0,null,null,4,"div",[["aria-controls","collapseThree"],["aria-expanded","false"],["class","card-header d-flex justify-content-between border-0 p-3 mouseover"],["data-target","#collapseThree"],["data-toggle","collapse"],["id","headingThree"]],null,null,null,null,null)),(t()(),c.Bb(42,0,null,null,1,"h5",[["class","mb-0 d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Sb(43,null,[" Change In Storage: "," (MCFT) "])),(t()(),c.Bb(44,0,null,null,1,"button",[["class","btn btn-link collapsed"]],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,0,"i",[["class","bi bi-chevron-down"]],null,null,null,null,null)),(t()(),c.Bb(46,0,null,null,24,"div",[["aria-labelledby","headingThree"],["class","collapse"],["data-parent","#accordion2"],["id","collapseThree"]],null,null,null,null,null)),(t()(),c.Bb(47,0,null,null,23,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.Bb(48,0,null,null,22,"div",[["_ngcontent-xru-c49",""],["class","table-container"]],null,null,null,null,null)),(t()(),c.Bb(49,0,null,null,21,"table",[["_ngcontent-xru-c49",""],["class","w-100 table table-striped tank-master-data mb-0"]],null,null,null,null,null)),(t()(),c.Bb(50,0,null,null,20,"tbody",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(51,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(52,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("rsc","Reservoirs")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Reservoirs"])),(t()(),c.Bb(54,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(55,null,[" "," (MCFT) "])),(t()(),c.Bb(56,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(57,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("mitank","MI Tanks ")&&l),l},null,null)),(t()(),c.Sb(-1,null,["MI Tanks"])),(t()(),c.Bb(59,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(60,null,[" "," (MCFT) "])),(t()(),c.Bb(61,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(62,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("smc","Soil Moisture ")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Soil Moisture"])),(t()(),c.Bb(64,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(65,null,[" "," (MCFT) "])),(t()(),c.Bb(66,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(67,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("gwc","Ground Water ")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Ground Water"])),(t()(),c.Bb(69,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(70,null,[" "," (MCFT) "])),(t()(),c.Bb(71,0,null,null,41,"div",[["class","accordion"],["id","accordion3"]],null,null,null,null,null)),(t()(),c.Bb(72,0,null,null,40,"div",[["class","card"]],null,null,null,null,null)),(t()(),c.Bb(73,0,null,null,4,"div",[["aria-controls","collapseTwo"],["aria-expanded","false"],["class","card-header d-flex justify-content-between border-0 p-3 mouseover"],["data-target","#collapseTwo"],["data-toggle","collapse"],["id","headingTwo"]],null,null,null,null,null)),(t()(),c.Bb(74,0,null,null,1,"h5",[["class","mb-0 d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Sb(75,null,[" Total Outflows: "," (MCFT) "])),(t()(),c.Bb(76,0,null,null,1,"button",[["class","btn btn-link collapsed"]],null,null,null,null,null)),(t()(),c.Bb(77,0,null,null,0,"i",[["class","bi bi-chevron-down"]],null,null,null,null,null)),(t()(),c.Bb(78,0,null,null,34,"div",[["aria-labelledby","headingTwo"],["class","collapse"],["data-parent","#accordion3"],["id","collapseTwo"]],null,null,null,null,null)),(t()(),c.Bb(79,0,null,null,33,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.Bb(80,0,null,null,32,"div",[["_ngcontent-xru-c49",""],["class","table-container"]],null,null,null,null,null)),(t()(),c.Bb(81,0,null,null,31,"table",[["_ngcontent-xru-c49",""],["class","w-100 table table-striped tank-master-data mb-0"]],null,null,null,null,null)),(t()(),c.Bb(82,0,null,null,30,"tbody",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(83,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(84,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("et","Evapotranspiration")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Evapotranspiration"])),(t()(),c.Bb(86,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(87,null,[" "," (MCFT) "])),(t()(),c.Bb(88,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(89,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Outflow streams from this region"])),(t()(),c.Bb(91,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(92,null,[" "," (MCFT) "])),(t()(),c.Bb(93,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(94,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("domUtil","Utilization - Domestic")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Utilization - Domestic"])),(t()(),c.Bb(96,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(97,null,[" "," (MCFT) "])),(t()(),c.Bb(98,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(99,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Utilization - Agriculture"])),(t()(),c.Bb(101,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(102,null,[" "," (MCFT) "])),(t()(),c.Bb(103,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(104,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Utilization - Industries"])),(t()(),c.Bb(106,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(107,null,[" "," (MCFT) "])),(t()(),c.Bb(108,0,null,null,4,"tr",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Bb(109,0,null,null,1,"td",[["_ngcontent-xru-c49",""],["class","mouseover"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openModal("ssf","Surface and Sub-Surface Outflow")&&l),l},null,null)),(t()(),c.Sb(-1,null,["Surface and Sub-Surface Outflow"])),(t()(),c.Bb(111,0,null,null,1,"td",[["_ngcontent-xru-c49",""]],null,null,null,null,null)),(t()(),c.Sb(112,null,[" "," (MCFT) "])),(t()(),c.Bb(113,0,null,null,0,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(114,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(115,0,null,null,4,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(116,0,null,null,3,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Kh)),c.Ab(118,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(0,[[1,2],["tc",2]],null,0,null,Xh))],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,118,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="WATERAUDIT"==e.selectedParams.pType?"Water Audit":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"Water Audit Information"),t(n,21,0,e.formatNumber(e.componentList.ti)),t(n,33,0,e.componentList.rf?e.formatNumber(e.componentList.rf.a):"-"),t(n,38,0,e.formatNumber(e.componentList.iosIfs)),t(n,43,0,e.formatNumber(e.componentList.tc)),t(n,55,0,e.formatNumber(e.componentList.rscf)),t(n,60,0,e.componentList.mt?e.formatNumber(e.componentList.mt.st):"-"),t(n,65,0,e.formatNumber(e.componentList.smc)),t(n,70,0,e.componentList.gwc?e.formatNumber(e.componentList.gwc.sc):"-"),t(n,75,0,e.formatNumber(e.componentList.to)),t(n,87,0,e.componentList.et?e.formatNumber(e.componentList.et.st):"-"),t(n,92,0,e.formatNumber(e.componentList.iosOfs)),t(n,97,0,e.componentList.util?e.formatNumber(e.componentList.util.domUtil):"-"),t(n,102,0,e.componentList.util?e.formatNumber(e.componentList.util.agriUtil):"-"),t(n,107,0,e.componentList.util?e.formatNumber(e.componentList.util.indusUtil):"-"),t(n,112,0,e.formatNumber(e.componentList.ssf))})}function $h(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-water-audit-infobox",[],null,null,null,Jh,qh)),c.Ab(1,245760,null,0,te,[O.a,X,Ql.C,Jn.a,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Qh=c.xb("app-water-audit-infobox",te,$h,{},{},[]),Zh=c.zb({encapsulation:0,styles:[[""]],data:{}});function td(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","soilMoistureHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"soilMoistureHeatMapSpinner",e.soilMoistureHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function nd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-soilmoisture-map",[],null,null,null,td,Zh)),c.Ab(1,245760,null,0,gn,[b.a,pn],null,null)],function(t,n){t(n,1,0)},null)}var ed=c.xb("app-soilmoisture-map",gn,nd,{},{},[]),ld=c.zb({encapsulation:0,styles:[[""]],data:{}});function ad(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function id(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,n.context.$implicit.isDisabled),t(n,3,0,n.context.$implicit.value)})}function rd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function od(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function sd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function ud(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function cd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonYear=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,sd)),c.Ab(12,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,ud)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Year",e.selectedFilterParams.seasonYear),t(n,12,0,e.seasonYearList),t(n,14,0,!e.validation[4])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function hd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,0==n.context.$implicit.show),t(n,3,0,n.context.$implicit.value)})}function dd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season is not selected"]))],null,null)}function pd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,18,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,11,"select",[["class","form-control form-control-sm"],["name","Season"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonType=e)&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(11,0,null,null,3,"option",[["default","true"],["disabled",""],["value","null"]],null,null,null,null,null)),c.Ab(12,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(13,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Season "])),(t()(),c.sb(16777216,null,null,1,null,hd)),c.Ab(16,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,dd)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Season",e.selectedFilterParams.seasonType),t(n,12,0,"null"),t(n,13,0,"null"),t(n,16,0,e.seasonTypeList),t(n,18,0,!e.validation[5])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function gd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function md(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function bd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,86,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,75,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(15,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(17,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,18).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(20,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(22,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,ad)),c.Ab(24,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(25,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Heat Map "])),(t()(),c.Bb(28,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(30,0,null,null,7,"select",[["class","form-control form-control-sm w-100"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,31).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,31).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.heatMap=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHeatMapchange()&&l),l},null,null)),c.Ab(31,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(33,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(35,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,id)),c.Ab(37,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(38,0,null,null,48,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,40).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,40).onReset()&&l),l},null,null)),c.Ab(39,16384,null,0,Ft.D,[],null,null),c.Ab(40,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(42,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(43,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(44,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(46,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(48,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,49).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,49).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(49,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(51,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(53,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,rd)),c.Ab(55,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,od)),c.Ab(57,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(58,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(59,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(61,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(63,0,null,null,12,"select",[["class","form-control form-control-sm"],["name","Timestep"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(64,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(65,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(66,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(68,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(69,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(70,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(72,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(73,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(74,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.sb(16777216,null,null,1,null,cd)),c.Ab(77,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,pd)),c.Ab(79,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,gd)),c.Ab(81,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,md)),c.Ab(83,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(84,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(85,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,20,0,"Source",e.selectedFilterParams.location),t(n,24,0,e.locationList),t(n,33,0,"Source",e.selectedFilterParams.heatMap),t(n,37,0,e.heatMapList),t(n,51,0,"Source",e.selectedFilterParams.source),t(n,55,0,e.sourceList),t(n,57,0,!e.validation[0]),t(n,65,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,66,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,69,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,70,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,73,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,74,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,77,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,79,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,81,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,83,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON)},function(t,n){var e=n.component;t(n,17,0,c.Lb(n,22).ngClassUntouched,c.Lb(n,22).ngClassTouched,c.Lb(n,22).ngClassPristine,c.Lb(n,22).ngClassDirty,c.Lb(n,22).ngClassValid,c.Lb(n,22).ngClassInvalid,c.Lb(n,22).ngClassPending),t(n,30,0,c.Lb(n,35).ngClassUntouched,c.Lb(n,35).ngClassTouched,c.Lb(n,35).ngClassPristine,c.Lb(n,35).ngClassDirty,c.Lb(n,35).ngClassValid,c.Lb(n,35).ngClassInvalid,c.Lb(n,35).ngClassPending),t(n,38,0,c.Lb(n,42).ngClassUntouched,c.Lb(n,42).ngClassTouched,c.Lb(n,42).ngClassPristine,c.Lb(n,42).ngClassDirty,c.Lb(n,42).ngClassValid,c.Lb(n,42).ngClassInvalid,c.Lb(n,42).ngClassPending),t(n,48,0,c.Lb(n,53).ngClassUntouched,c.Lb(n,53).ngClassTouched,c.Lb(n,53).ngClassPristine,c.Lb(n,53).ngClassDirty,c.Lb(n,53).ngClassValid,c.Lb(n,53).ngClassInvalid,c.Lb(n,53).ngClassPending),t(n,64,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,68,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,72,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR)})}function fd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-soilmoisture-sidebar",[],null,null,null,bd,ld)),c.Ab(1,245760,null,0,cn,[T.a,O.a,ln.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var yd=c.xb("app-soilmoisture-sidebar",cn,fd,{},{},[]),vd=c.zb({encapsulation:0,styles:[["#SoilMoisture[_ngcontent-%COMP%]{height:200px}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function Cd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["%"]))],null,null)}function Sd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["VSM (%)"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Cd)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.vsmPerc)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.vsmPerc?e.kpi.vsmPerc:"- ")})}function Md(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["%"]))],null,null)}function _d(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["ASM (%)"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Md)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.asmPerc)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.asmPerc?e.kpi.asmPerc:"- ")})}function Ld(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["mm"]))],null,null)}function Od(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["ASM (mm)"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Ld)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.asmLevel)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.asmLevel?e.kpi.asmLevel:"- ")})}function Ad(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"div",[["id","Daily-Soilmoisture"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"vl-stock-chart",[["style","width: 100%;"]],null,null,null,Zs,Es)),c.Ab(2,245760,null,0,Is,[Xo,wo,Ql.C,b.p,b.a,Al.d,Ko,zo,os],{stockChartConfig:[0,"stockChartConfig"]},null)],function(t,n){t(n,2,0,n.component.stockChartConfig)},null)}function Td(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function Dd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,22,"table",[["class","table table-text-sm table-dark m-0 table-bordered text-dark text-left "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,21,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location Name"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Available Soil Moisture (%)"])),(t()(),c.Bb(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,["",""])),(t()(),c.Bb(18,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Volumetric Soil Moisture (%)"])),(t()(),c.Bb(21,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(22,null,["",""]))],null,function(t,n){var e=n.component,l=e.tableData.name?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.name)):"-";t(n,6,0,l),t(n,12,0,e.selectedParams.srcName),t(n,17,0,e.tableData.asmPerc?e.visibilityUtils.getDecimalFixed(e.tableData.asmPerc):"-"),t(n,22,0,e.tableData.vsmPerc?e.visibilityUtils.getDecimalFixed(e.tableData.vsmPerc):"-")})}function Pd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function xd(t){return c.Ub(0,[c.Mb(0,m.B,[]),(t()(),c.Bb(1,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(4,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(5,null,[""," (",")"])),c.Ob(6,1),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(9,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,28,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(13,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(14,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,7,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Sd)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,_d)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Od)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(23,0,null,null,4,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,3,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,2,"div",[["class","card-body p-0 chart-content card shadow-none border"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ad)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(28,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,8,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,1,"spinner",[["id","soilMoistureTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(32,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Td)),c.Ab(34,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Dd)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Pd)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,13,0,e.inputForBreadcrumb),t(n,18,0,!e.isStation),t(n,20,0,!e.isStation),t(n,22,0,!e.isStation),t(n,27,0,e.showStockChart),t(n,32,0,"soilMoistureTableSpinner",e.soilMoistureTableSpinner),t(n,34,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,36,0,e.isStation&&null!=e.tableData),t(n,38,0,e.showErrorMsgForTable&&!e.soilMoistureTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,5,0,t(n,6,0,c.Lb(n,0),e.selectedParams.locName)),a="SOILMOISTURE"==e.selectedParams.pType?"Soil Moisture":c.Tb(n,5,1,t(n,7,0,c.Lb(n,0),e.selectedParams.pType));t(n,5,0,l,a),t(n,11,0,e.title?e.title:"Soil Moisture Information")})}function wd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-soilmoisture-infobox",[],null,null,null,xd,vd)),c.Ab(1,245760,null,0,on,[O.a,X,ln.a,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var kd=c.xb("app-soilmoisture-infobox",on,wd,{},{},[]),Id=c.zb({encapsulation:0,styles:[[""]],data:{}});function Ed(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","domesticdemandHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"domesticdemandHeatMapSpinner",e.domesticdemandHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Nd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-domesticdemand-map",[],null,null,null,Ed,Id)),c.Ab(1,245760,null,0,On,[b.a,Mn],null,null)],function(t,n){t(n,1,0)},null)}var Fd=c.xb("app-domesticdemand-map",On,Nd,{},{},[]),Bd=c.zb({encapsulation:0,styles:[[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.slide-box[_ngcontent-%COMP%]{background:0 0;width:230px;color:#858796!important;position:relative;height:100vh;overflow:auto;overflow-x:hidden;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;top:0}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]{width:100%;min-width:250px;position:sticky;top:0;z-index:9;background:#007dc9}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{text-shadow:none;color:#fff;font-size:15px;cursor:pointer;transition:all .3s ease}.slide-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#000;border:1px solid #2f2e2e;color:#8e8e8e}.slide-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.35rem}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding:0;font-weight:500}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:24px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.3;font-size:24px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{background:#f5ffff}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover:active{background:#b9f1ff}@media (min-width:990px){.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:5px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;border-radius:5px;background:rgba(78,95,110,.055);color:#4e5f6e}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:rgba(78,95,110,.123)}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:#4e5f6e;color:#fff}.nav.overview-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.custom-control-input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.custom-control-input[_ngcontent-%COMP%]::before, .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;border-color:#558ddf;background-color:#558ddf}.custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]::before{box-shadow:0 0 0 .2rem rgba(85,141,223,.25)}.custom-control-input[_ngcontent-%COMP%]:focus:not(:checked) ~ .custom-control-label[_ngcontent-%COMP%]::before{border-color:#c0d5f3}.custom-control-input[_ngcontent-%COMP%]:not(:disabled):active ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;background-color:#ebf2fb;border-color:#ebf2fb}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]{color:#858796}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#eaecf4}.card[_ngcontent-%COMP%]{border-radius:3px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.15);border:none;overflow:visible}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:30px}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:22px;color:#000;margin:0}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7d7d7d;line-height:1.1}.card.card-statistic[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;background:#fff;box-shadow:0 -1px 0 rgba(0,0,0,.03);border:none;font-size:12px;color:#7d7d7d;padding-top:0;padding-bottom:0;height:30px;position:absolute;bottom:0;left:0;right:0;color:var(--dark) strong}.card.card-statistic.active[_ngcontent-%COMP%]{background:#558ddf}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);box-shadow:0 -1px 0 rgba(0,0,0,.03);color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:#c4efdf;border-color:rgba(0,0,0,.05);min-height:40px;padding-top:8px;padding-bottom:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:24px;padding:2px 8px;border-color:#f8f8f8;border-radius:3px;background-color:#000}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:24px;padding:0 8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:16px;color:#000}@media (min-width:990px){.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.select-specific-data[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:left;color:var(--color-white);text-transform:uppercase;margin-bottom:7px}ul.submenus[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--color-dark-rgb),.5);margin-bottom:10px;box-shadow:0 0 0 1px rgba(var(--color-white-rgb),.1);margin-bottom:20PX}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]{position:relative;display:block;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{position:relative;padding:15px 24px 15px 15px;min-height:44px;color:#fff}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:14px;text-align:left;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;background:#171e28;border:2px solid #fff;content:'';position:absolute;right:16px;top:50%;margin-top:-8px;border-radius:8px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{width:8px;height:8px;background:0 0;transform:scale(0);content:\"\";left:2px;top:2px;position:absolute;border-radius:50%}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]{color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{border-color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{background:var(--color-active);transform:scale(1)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:0!important;max-height:0;overflow-y:auto;padding-left:15px;padding-right:15px;margin-bottom:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body.active[_ngcontent-%COMP%]{max-height:600px;padding-top:15px;padding-bottom:15px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;text-align:left;color:#99a9be;margin-bottom:5px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%] + .assosiated-layer[_ngcontent-%COMP%]{margin-top:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:0;display:flex;align-items:center}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:.85rem;padding-left:2rem;position:relative}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:50%;transform:translateY(-50%);left:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:not(:checked) + .custom-control-label[_ngcontent-%COMP%]:before{background:var(--color-text-inactive);border:var(--color-dark-border) solid 1px}app-extreme-weather[_ngcontent-%COMP%]{z-index:999}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:400!important;font-size:14px!important}.card.card-filter[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #3f474e;border-radius:.25rem}.card.card-filter[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff}.form-control-sm[_ngcontent-%COMP%]{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], lib-data-table.dark-view[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff;padding:0}  .card.card-filter .input-group.date{background:0 0;border:none;margin:0;width:100%}  .card.card-filter .input-group.date input{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group.date .input-group-addon{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group>.custom-select:not(:last-child),   .card.card-filter .input-group>.form-control:not(:last-child){max-height:24px!important;color:#fff;padding:0 10px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]{border-color:#007bff}.sidebar-bg-form[_ngcontent-%COMP%]{background:#26282d;border:1px solid #414349}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:2px dotted #888989}.custom-input[_ngcontent-%COMP%]{position:relative;top:4px;right:5px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#2d99ff;border-radius:20px}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;color:#898989;font-size:14px}.font-sm[_ngcontent-%COMP%]{font-size:14px}.border-custom[_ngcontent-%COMP%]{border:1px solid #646769}"]],data:{}});function Ud(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Rd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,49,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,46,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,45,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,6).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,6).onReset()&&l),l},null,null)),c.Ab(5,16384,null,0,Ft.D,[],null,null),c.Ab(6,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(8,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(9,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year "])),(t()(),c.Bb(12,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(14,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,15).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,15).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.year=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(15,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(17,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(19,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Ud)),c.Ab(21,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(22,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(25,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(27,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,28).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,33).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(28,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(30,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(32,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(33,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(34,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(37,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(39,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,40).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,45).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(40,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(42,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(44,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(45,16384,null,0,po.a,[Ft.p],null,null),(t()(),c.Bb(46,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),c.Bb(47,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(48,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,17,0,"Year",e.selectedFilterParams.year),t(n,21,0,e.yearList),t(n,28,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,30,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value),t(n,40,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,42,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){t(n,4,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,14,0,c.Lb(n,19).ngClassUntouched,c.Lb(n,19).ngClassTouched,c.Lb(n,19).ngClassPristine,c.Lb(n,19).ngClassDirty,c.Lb(n,19).ngClassValid,c.Lb(n,19).ngClassInvalid,c.Lb(n,19).ngClassPending),t(n,27,0,c.Lb(n,32).ngClassUntouched,c.Lb(n,32).ngClassTouched,c.Lb(n,32).ngClassPristine,c.Lb(n,32).ngClassDirty,c.Lb(n,32).ngClassValid,c.Lb(n,32).ngClassInvalid,c.Lb(n,32).ngClassPending),t(n,39,0,c.Lb(n,44).ngClassUntouched,c.Lb(n,44).ngClassTouched,c.Lb(n,44).ngClassPristine,c.Lb(n,44).ngClassDirty,c.Lb(n,44).ngClassValid,c.Lb(n,44).ngClassInvalid,c.Lb(n,44).ngClassPending)})}function Vd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-domesticdemand-sidebar",[],null,null,null,Rd,Bd)),c.Ab(1,245760,null,0,vn,[T.a,O.a,bn,D.a],null,null)],function(t,n){t(n,1,0)},null)}var jd=c.xb("app-domesticdemand-sidebar",vn,Vd,{},{},[]),Gd=c.zb({encapsulation:0,styles:[["#Domesticdemand[_ngcontent-%COMP%]{height:200px}#domesticDemand[_ngcontent-%COMP%]{height:300px}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function Yd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Nos "]))],null,null)}function Wd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Population"])),(t()(),c.Bb(5,0,null,null,6,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,2,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),c.Ob(8,2),(t()(),c.sb(16777216,null,null,1,null,Yd)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(11,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,10,0,e.kpiData.tp&&null!=e.kpiData.tp)},function(t,n){var e=n.component,l=e.kpiData.tp&&null!=e.kpiData.tp?c.Tb(n,7,0,t(n,8,0,c.Lb(n.parent,1),e.kpiData.tp,"1.0-1"))+" ":"-";t(n,7,0,l)})}function zd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["MCFT"]))],null,null)}function Hd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Population Water Demand ( 55 lpcd )"])),(t()(),c.Bb(5,0,null,null,6,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,2,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),c.Ob(8,2),(t()(),c.sb(16777216,null,null,1,null,zd)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(11,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,10,0,e.kpiData.twd&&null!=e.kpiData.twd)},function(t,n){var e=n.component,l=e.kpiData.twd&&null!=e.kpiData.twd?c.Tb(n,7,0,t(n,8,0,c.Lb(n.parent,1),e.kpiData.twd,"1.0-1"))+" ":"-";t(n,7,0,l)})}function qd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Nos"]))],null,null)}function Kd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Livestock "])),(t()(),c.Bb(5,0,null,null,6,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,2,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),c.Ob(8,2),(t()(),c.sb(16777216,null,null,1,null,qd)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(11,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,10,0,e.kpiData.tlp&&null!=e.kpiData.tlp)},function(t,n){var e=n.component,l=e.kpiData.tlp&&null!=e.kpiData.tlp?c.Tb(n,7,0,t(n,8,0,c.Lb(n.parent,1),e.kpiData.tlp,"1.0-1"))+" ":"-";t(n,7,0,l)})}function Xd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["MCFT"]))],null,null)}function Jd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Livestock Water Demand"])),(t()(),c.Bb(5,0,null,null,6,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,2,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),c.Ob(8,2),(t()(),c.sb(16777216,null,null,1,null,Xd)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(11,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,10,0,e.kpiData.tlwd&&null!=e.kpiData.tlwd)},function(t,n){var e=n.component,l=e.kpiData.tlwd&&null!=e.kpiData.tlwd?c.Tb(n,7,0,t(n,8,0,c.Lb(n.parent,1),e.kpiData.tlwd,"1.0-1"))+" ":"-";t(n,7,0,l)})}function $d(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stackchart",[["style","width: 100%;"]],null,null,null,jr,Vr)),c.Ab(1,638976,null,0,Rr,[],{options:[0,"options"]},null)],function(t,n){t(n,1,0,n.component.chartOptions.stackbarChart)},null)}function Qd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["id","domesticDemand"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"spinner",[["id","DomesticChartComponentStackChart"]],null,null,null,Ll.b,Ll.a)),c.Ab(2,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,$d)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"DomesticChartComponentStackChart",e.throbberForStackChart),t(n,4,0,e.showStackChart.renderChart)},null)}function Zd(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function tp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,42,"table",[["class","table m-0 table-bordered table-sm"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,41,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location Name"])),(t()(),c.Bb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(12,null,["",""])),(t()(),c.Bb(13,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Annual Domestic Demand"])),(t()(),c.Bb(16,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(17,null,[" "," "])),c.Ob(18,2),(t()(),c.Bb(19,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Population"])),(t()(),c.Bb(22,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(23,null,["",""])),c.Ob(24,2),(t()(),c.Bb(25,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Water Demand"])),(t()(),c.Bb(28,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(29,null,["",""])),c.Ob(30,2),(t()(),c.Bb(31,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Livestock"])),(t()(),c.Bb(34,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(35,null,["",""])),c.Ob(36,2),(t()(),c.Bb(37,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(38,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Livestock Demand"])),(t()(),c.Bb(40,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(41,null,["",""])),c.Ob(42,2)],null,function(t,n){var e=n.component,l=e.tableData.locName?c.Tb(n,6,0,t(n,7,0,c.Lb(n.parent,0),e.tableData.locName)):"-";t(n,6,0,l),t(n,12,0,e.selectedParams.srcName);var a=e.kpiData.dwd&&null!=e.kpiData.dwd?c.Tb(n,17,0,t(n,18,0,c.Lb(n.parent,1),e.kpiData.dwd,"1.0-1"))+" MCFT":"-";t(n,17,0,a);var i=e.kpiData.tp&&null!=e.kpiData.tp?c.Tb(n,23,0,t(n,24,0,c.Lb(n.parent,1),e.kpiData.tp,"1.0-1"))+" Nos":"-";t(n,23,0,i);var r=e.kpiData.twd&&null!=e.kpiData.twd?c.Tb(n,29,0,t(n,30,0,c.Lb(n.parent,1),e.kpiData.twd,"1.0-1"))+" MCFT":"-";t(n,29,0,r);var o=e.kpiData.tlp&&null!=e.kpiData.tlp?c.Tb(n,35,0,t(n,36,0,c.Lb(n.parent,1),e.kpiData.tlp,"1.0-1"))+" Nos":"-";t(n,35,0,o);var s=e.kpiData.tlwd&&null!=e.kpiData.tlwd?c.Tb(n,41,0,t(n,42,0,c.Lb(n.parent,1),e.kpiData.tlwd,"1.0-1"))+" MCFT":"-";t(n,41,0,s)})}function np(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function ep(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Mb(0,m.f,[c.z]),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,31,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"div",[["class","alert alert-warning mb-3 mt-2"]],null,null,null,null,null)),(t()(),c.Sb(13,null,[" "," "])),(t()(),c.Bb(14,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(15,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(16,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,10,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,4,"div",[["class","row flex-lg-nowrap mb-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Wd)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Hd)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(23,0,null,null,4,"div",[["class","row flex-lg-nowrap mb-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Kd)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Jd)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(28,0,null,null,3,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,2,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Qd)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(32,0,null,null,10,"div",[["class","col-12 mt-3"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(34,0,null,null,8,"div",[["class","table-responsive mt-3"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"spinner",[["id","domesticdemandTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(36,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Zd)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,tp)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,np)),c.Ab(42,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,15,0,e.inputForBreadcrumb),t(n,20,0,!e.isStation),t(n,22,0,!e.isStation),t(n,25,0,!e.isStation),t(n,27,0,!e.isStation),t(n,31,0,e.showStackChart.showChart),t(n,36,0,"domesticdemandTableSpinner",e.domesticdemandTableSpinner),t(n,38,0,!e.isStation&&null!=e.tableData&&e.tableData.length>0),t(n,40,0,e.isStation&&null!=e.tableData),t(n,42,0,e.showErrorMsgForTable&&!e.domesticdemandTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a=c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,13,0,e.title?e.title:"Domestic Demand Information")})}function lp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-domesticdemand-infobox",[],null,null,null,ep,Gd)),c.Ab(1,245760,null,0,Ln,[O.a,X,bn,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var ap=c.xb("app-domesticdemand-infobox",Ln,lp,{},{},[]),ip=c.zb({encapsulation:0,styles:[[""]],data:{}});function rp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","industrialdemandHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"industrialdemandHeatMapSpinner",e.industrialdemandHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function op(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-industrialdemand-map",[],null,null,null,rp,ip)),c.Ab(1,245760,null,0,Bn,[b.a,En],null,null)],function(t,n){t(n,1,0)},null)}var sp=c.xb("app-industrialdemand-map",Bn,op,{},{},[]),up=c.zb({encapsulation:0,styles:[["#Industrialdemand[_ngcontent-%COMP%]{height:200px}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:.5rem;width:60px;height:60px;margin-left:auto;margin-right:auto;display:flex;align-items:center;border-radius:50%;justify-content:center}.kpis-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px;display:block}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:1rem 0 0;color:#fff;font-weight:500;font-size:14px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:60%}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:1rem 1rem .5rem;opacity:.3;background:#d4dadc!important}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#fff;font-weight:500}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:18px}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .devider[_ngcontent-%COMP%]{margin:0 .5rem}.kpis-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .yoy[_ngcontent-%COMP%]{font-size:16px}.para[_ngcontent-%COMP%]{color:#fff!important;font-size:14px;padding:10px 10px 0 20px}.table.table-text-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;vertical-align:middle;padding-left:8px;padding-right:8px;text-align:left}"]],data:{}});function cp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function hp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Micro"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,cp)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.micro)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.micro?e.kpi.micro:"- ")})}function dp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function pp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Medium"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,dp)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.medium)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.medium?e.kpi.medium:"- ")})}function gp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" TMC "]))],null,null)}function mp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Large"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,gp)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.large)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.large?e.kpi.large:"- ")})}function bp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stackchart",[["style","width: 100%;"]],null,null,null,jr,Vr)),c.Ab(1,638976,null,0,Rr,[],{options:[0,"options"]},null)],function(t,n){t(n,1,0,n.component.chartOptions.donutChart)},null)}function fp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["id","industrialDemand"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"spinner",[["id","IndustrialChartComponentDountChart"]],null,null,null,Ll.b,Ll.a)),c.Ab(2,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,bp)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,"IndustrialChartComponentDountChart",e.throbberForDonutChart),t(n,4,0,e.showDonutChart.renderChart)},null)}function yp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function vp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,16,"table",[["class","table table-text-sm table-dark m-0 table-bordered text-white text-left "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,15,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location Name"])),(t()(),c.Bb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.Bb(7,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Source"])),(t()(),c.Bb(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(11,null,["",""])),(t()(),c.Bb(12,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Water Demand"])),(t()(),c.Bb(15,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(16,null,["",""]))],null,function(t,n){var e=n.component;t(n,6,0,e.selectedParams.locName),t(n,11,0,e.selectedParams.srcName),t(n,16,0,e.tableData.waterDemand)})}function Cp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function Sp(t){return c.Ub(0,[c.Mb(0,m.B,[]),(t()(),c.Bb(1,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(4,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(5,null,[""," (",")"])),c.Ob(6,1),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(9,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,28,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"div",[["class","alert alert-warning mb-3 mt-2"]],null,null,null,null,null)),(t()(),c.Sb(12,null,[" "," "])),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,7,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,hp)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,pp)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,mp)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(24,0,null,null,3,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,2,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,fp)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(28,0,null,null,10,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,9,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,8,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,1,"spinner",[["id","industrialdemandTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(32,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,yp)),c.Ab(34,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,vp)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Cp)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,19,0,!e.isStation),t(n,21,0,!e.isStation),t(n,23,0,!e.isStation),t(n,27,0,e.showDonutChart.showChart),t(n,32,0,"industrialdemandTableSpinner",e.industrialdemandTableSpinner),t(n,34,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,36,0,e.isStation&&null!=e.tableData),t(n,38,0,!e.industrialdemandTableSpinner&&e.showErrorMsgForTable)},function(t,n){var e=n.component,l=c.Tb(n,5,0,t(n,6,0,c.Lb(n,0),e.selectedParams.locName)),a="INDUSTRY"==e.selectedParams.pType?"Industrial":c.Tb(n,5,1,t(n,7,0,c.Lb(n,0),e.selectedParams.pType));t(n,5,0,l,a),t(n,12,0,e.title?e.title:"Industrial Information")})}function Mp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-industrialdemand-infobox",[],null,null,null,Sp,up)),c.Ab(1,245760,null,0,Fn,[O.a,X,Dn,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var _p=c.xb("app-industrialdemand-infobox",Fn,Mp,{},{},[]),Lp=c.zb({encapsulation:0,styles:[[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.slide-box[_ngcontent-%COMP%]{background:0 0;width:230px;color:#858796!important;position:relative;height:100vh;overflow:auto;overflow-x:hidden;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;top:0}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]{width:100%;min-width:250px;position:sticky;top:0;z-index:9;background:#007dc9}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.slide-box[_ngcontent-%COMP%]   .slide-box-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{text-shadow:none;color:#fff;font-size:15px;cursor:pointer;transition:all .3s ease}.slide-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#000;border:1px solid #2f2e2e;color:#8e8e8e}.slide-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:.35rem}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{padding:0;font-weight:500}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:24px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:16px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.3;font-size:24px}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover{background:#f5ffff}.nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:not(.active):hover:active{background:#b9f1ff}@media (min-width:990px){.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-left:5px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;border-radius:5px;background:rgba(78,95,110,.055);color:#4e5f6e}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:rgba(78,95,110,.123)}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:#4e5f6e;color:#fff}.nav.overview-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px}}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.custom-control-input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.custom-control-input[_ngcontent-%COMP%]::before, .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;border-color:#558ddf;background-color:#558ddf}.custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]::before{box-shadow:0 0 0 .2rem rgba(85,141,223,.25)}.custom-control-input[_ngcontent-%COMP%]:focus:not(:checked) ~ .custom-control-label[_ngcontent-%COMP%]::before{border-color:#c0d5f3}.custom-control-input[_ngcontent-%COMP%]:not(:disabled):active ~ .custom-control-label[_ngcontent-%COMP%]::before{color:#fff;background-color:#ebf2fb;border-color:#ebf2fb}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]{color:#858796}.custom-control-input[_ngcontent-%COMP%]:disabled ~ .custom-control-label[_ngcontent-%COMP%]::before{background-color:#eaecf4}.card[_ngcontent-%COMP%]{border-radius:3px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.15);border:none;overflow:visible}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:30px}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:22px;color:#000;margin:0}.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#7d7d7d;line-height:1.1}.card.card-statistic[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;background:#fff;box-shadow:0 -1px 0 rgba(0,0,0,.03);border:none;font-size:12px;color:#7d7d7d;padding-top:0;padding-bottom:0;height:30px;position:absolute;bottom:0;left:0;right:0;color:var(--dark) strong}.card.card-statistic.active[_ngcontent-%COMP%]{background:#558ddf}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.card.card-statistic.active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);box-shadow:0 -1px 0 rgba(0,0,0,.03);color:#fff}.card.card-statistic.active[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.7}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:#c4efdf;border-color:rgba(0,0,0,.05);min-height:40px;padding-top:8px;padding-bottom:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:24px;padding:2px 8px;border-color:#f8f8f8;border-radius:3px;background-color:#000}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-header-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:24px;padding:0 8px}.card.card-charts[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:16px;color:#000}@media (min-width:990px){.card.card-statistic[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.arrow[_ngcontent-%COMP%]{border:solid #fff;border-width:0 3px 3px 0;display:inline-block;padding:3px}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.select-specific-data[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:left;color:var(--color-white);text-transform:uppercase;margin-bottom:7px}ul.submenus[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:5px;background:rgba(var(--color-dark-rgb),.5);margin-bottom:10px;box-shadow:0 0 0 1px rgba(var(--color-white-rgb),.1);margin-bottom:20PX}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]{position:relative;display:block;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{position:relative;padding:15px 24px 15px 15px;min-height:44px;color:#fff}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:14px;text-align:left;margin:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{width:16px;height:16px;background:#171e28;border:2px solid #fff;content:'';position:absolute;right:16px;top:50%;margin-top:-8px;border-radius:8px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{width:8px;height:8px;background:0 0;transform:scale(0);content:\"\";left:2px;top:2px;position:absolute;border-radius:50%}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]{color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]{border-color:var(--color-active)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label.custom-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + .radio-container[_ngcontent-%COMP%]   .radio-checkbox[_ngcontent-%COMP%]:before{background:var(--color-active);transform:scale(1)}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding-top:0!important;max-height:0;overflow-y:auto;padding-left:15px;padding-right:15px;margin-bottom:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body.active[_ngcontent-%COMP%]{max-height:600px;padding-top:15px;padding-bottom:15px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;text-align:left;color:#99a9be;margin-bottom:5px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]{cursor:pointer}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:3px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .assosiated-layer[_ngcontent-%COMP%] + .assosiated-layer[_ngcontent-%COMP%]{margin-top:10px}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:0;display:flex;align-items:center}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:.85rem;padding-left:2rem;position:relative}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:50%;transform:translateY(-50%);left:0}ul.submenus[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .assosiated-layers[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:not(:checked) + .custom-control-label[_ngcontent-%COMP%]:before{background:var(--color-text-inactive);border:var(--color-dark-border) solid 1px}app-extreme-weather[_ngcontent-%COMP%]{z-index:999}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:400!important;font-size:14px!important}.card.card-filter[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #3f474e;border-radius:.25rem}.card.card-filter[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff}.form-control-sm[_ngcontent-%COMP%]{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.card.card-filter[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], lib-data-table.dark-view[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#343a40;border-color:#6c757d;color:#fff;padding:0}  .card.card-filter .input-group.date{background:0 0;border:none;margin:0;width:100%}  .card.card-filter .input-group.date input{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group.date .input-group-addon{background:0 0!important;border:none!important;margin:0}  .card.card-filter .input-group>.custom-select:not(:last-child),   .card.card-filter .input-group>.form-control:not(:last-child){max-height:24px!important;color:#fff;padding:0 10px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]{border-color:#007bff}.sidebar-bg-form[_ngcontent-%COMP%]{background:#26282d;border:1px solid #414349}hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:2px dotted #888989}.custom-input[_ngcontent-%COMP%]{position:relative;top:4px;right:5px}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#2d99ff;border-radius:20px}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;color:#898989;font-size:14px}.font-sm[_ngcontent-%COMP%]{font-size:14px}.border-custom[_ngcontent-%COMP%]{border:1px solid #646769}  .inner_content .datepicker .form-control{height:32px!important;background-color:#343a40!important;color:#fff!important;border-color:#3c3e42!important}  .inner_content .datepicker .input-group-addon{height:32px!important;background-color:#343a40!important;color:#fff!important;border-color:#3c3e42!important;width:30px;text-align:center;line-height:30px}"]],data:{}});function Op(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Ap(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function Tp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,36,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,25,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,24,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,14).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,14).onReset()&&l),l},null,null)),c.Ab(13,16384,null,0,Ft.D,[],null,null),c.Ab(14,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(16,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(17,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Year"])),(t()(),c.Bb(20,0,null,null,11,"select",[["class","form-control form-control-sm"],["name","YEAR"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,21).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,21).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.year=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(21,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(23,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(25,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(26,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(27,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(28,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Year "])),(t()(),c.sb(16777216,null,null,1,null,Op)),c.Ab(31,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ap)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(34,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,23,0,"YEAR",e.selectedFilterParams.year),t(n,27,0,""),t(n,28,0,""),t(n,31,0,e.yearList),t(n,33,0,!e.validation[0])},function(t,n){t(n,12,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending),t(n,20,0,c.Lb(n,25).ngClassUntouched,c.Lb(n,25).ngClassTouched,c.Lb(n,25).ngClassPristine,c.Lb(n,25).ngClassDirty,c.Lb(n,25).ngClassValid,c.Lb(n,25).ngClassInvalid,c.Lb(n,25).ngClassPending)})}function Dp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-industrialdemand-sidebar",[],null,null,null,Tp,Lp)),c.Ab(1,245760,null,0,wn,[T.a,O.a,Dn],null,null)],function(t,n){t(n,1,0)},null)}var Pp=c.xb("app-industrialdemand-sidebar",wn,Dp,{},{},[]),xp={SOURCES_LIST_WATERSPREAD:["SENTINEL_1","SENTINEL_2"],WATER_SPREAD_AREA_LAYERS:{MI_Tanks:{displayName:"MI Tanks",name:"MI_Tanks",visible:!0,layeroptions_show_on_selector:!0,layeroptions_name:"kaleshwaram:corewris_mitanks_polygon_1.0",layer_name:"MI_Tanks",layeroptions_pane:"WA",layeroptions_min_zoom:13,layeroptions_max_zoom:18,group:"miTanks",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},Depth_Class:{displayName:"Depth Layer",name:"Depth_Class",visible:!0,layeroptions_show_on_selector:!0,layeroptions_name:"VASSARLABS:mitanks_depth_layer_view",layer_name:"Depth_Class",layeroptions_pane:"district",layeroptions_min_zoom:8,layeroptions_max_zoom:18,group:"miTanks",grup_type:"radio-deselect",layerServiceType:"WMS",type:"WMS",key:"Depth_Class",cql_filter:"source='SENTINEL_1'"},Depth_Class_Sentinel2:{displayName:"Depth Class Sentinel 2 ",name:"Depth_Class_Sentinel2",visible:!1,layeroptions_show_on_selector:!0,layeroptions_name:"VASSARLABS:mitanks_depth_layer_view",layer_name:"Depth_Class",layeroptions_pane:"district",layeroptions_min_zoom:8,layeroptions_max_zoom:18,group:"miTanks",grup_type:"radio-deselect",layerServiceType:"WMS",type:"WMS",key:"Depth_Class2",cql_filter:"source='SENTINEL_2'"},"MI Tanks Geojson":{displayName:"MI Tanks Geojson",name:"MI Tanks Geojson",visible:!0,layeroptions_show_on_selector:!0,layeroptions_name:"kaleshwaram:corewris_mitanks_polygon_1.0",layer_name:"MI Tanks Geojson",layeroptions_pane:"WA",layeroptions_min_zoom:13,layeroptions_max_zoom:18,group:"miTanks",group_type:"radio-deselect",layerServiceType:"GEOJSON",type:"GEOJSON"},SRTM_DEM_30:{name:"SRTM_30",visible:!1,layeroptions_name:"kaleshwaram:SRTM_30",layeroptions_min_zoom:1,layeroptions_max_zoom:18,layeroptions_show_on_selector:!1,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null},BASELAYER_METADATA:{name:"BASELAYER_METADATA",visible:!1,layeroptions_name:"kaleshwaram:baselayer_metadata",layeroptions_min_zoom:1,layeroptions_max_zoom:18,layeroptions_show_on_selector:!1,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null},"Telangana Metadata":{name:"telangana_metadata",visible:!1,layeroptions_name:"kaleshwaram:corewris_kwaram_ts_mandal",layeroptions_min_zoom:1,layeroptions_max_zoom:18,layeroptions_show_on_selector:!1,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null},"Telangana Basin Metadata":{name:"telangana_metadata",visible:!1,layeroptions_name:"kaleshwaram:corewris_telangana_subbasin_1.0",layeroptions_min_zoom:1,layeroptions_max_zoom:18,layeroptions_show_on_selector:!1,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null}}},wp={chart:{backgroundColor:"#171e28"},exporting:{enabled:!1},title:{text:""},accessibility:{announceNewData:{enabled:!0}},xAxis:{categories:[],labels:{style:{color:"#fff"}},title:{text:"Dates",style:{color:"#fff"}}},yAxis:{allowDecimals:!0,labels:{style:{color:"#fff",fontWeight:"bold"}},title:{text:"Calculated Volume (mcft)",style:{color:"#fff"}}},legend:{enabled:!0,itemStyle:{color:"#fff"},itemHiddenStyle:{color:"#808080"}},tooltip:{headerFormat:'<span style="font-weight: bold"></span><span style="font-weight:bold"></span><br/>',pointFormat:'<span style="font-weight: bold">Date</span> : <span style="font-weight:bold">{point.date}</span><br/><span style="font-weight: bold">Volume</span> : <span style="font-weight:bold">{point.y:.4f}</span><br/>'},credits:{enabled:!1},plotOptions:{line:{dataLabels:{enabled:!1,style:{textOutline:"0px",fontSize:"10px",color:"white"}}}},series:[{name:"Storage",data:[],type:"line",color:"#33D2FF"},{name:"Remaining storage capacity",data:[],type:"line",color:"#FF6666"}]},kp=function(){function t(t){this.expandmodal=t,this.Highcharts=Vn,this.chartConstructor="chart",this.chartOptions=wp,this.showChart=!1}return t.prototype.ngOnInit=function(){var t,n=this;for(var e in this.chartOptions.xAxis.categories=[],this.chartOptions.series[0].data=[],(t=this.chartOptions.xAxis.categories).push.apply(t,this.datesArray),this.dateVolumeMap)this.chartOptions.series[0].data.push({date:e,y:this.dateVolumeMap[e]});setTimeout(function(){n.showChart=!0,n.waterSpreadChartObj=n.Highcharts.chart(n.waterSpreadModalChart.nativeElement,n.chartOptions)},200)},t.prototype.closeModal=function(){this.expandmodal.dismiss()},t.prototype.downloadJPG=function(){this.waterSpreadChartObj.options.title.text="Date to Volume Chart",this.waterSpreadChartObj.options.title.style.fontSize="10px",this.waterSpreadChartObj.exportChart({type:"image/jpeg"})},t}(),Ip=function(){return(Ip=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},Ep=function(){function t(t,n,e,l,a){this.modalSrv=t,this.dataService=n,this.mitankEditingSrv=e,this.formBuilder=l,this.toastrSrv=a,this.onClose=new c.q,this.dates=[],this.date=this.dates[0],this.Highcharts=Vn,this.chartConstructor="chart",this.chartOptions=wp,this.datePipe=new m.e("en-US"),this.datesArray=[],this.volumeArray=[],this.calc_volume=0,this.dateVolumeMap={},this.showChart=!1,this.isEditing=!1,this.editAction=new c.q,this.isFormActive=!1,this.locationMetaData={},this.tankDetailsFormData={},this.someLocationInfo={},this.historyData={},this.dropdown=!1}return t.prototype.ngOnInit=function(){this.createForm(),this.wfst=this.mitankEditingSrv.getCurrentWfst(),this.drawnLayer=this.mitankEditingSrv.getCurrentDrawnLayer(),Object(M.isNullOrUndefined)(this.wfst)||Object(M.isNullOrUndefined)(this.drawnLayer)||(this.isFormActive=!0,this.updateFormData("draw")),this.subscribeEvents()},t.prototype.subscribeEvents=function(){var t=this;this.wfstSub=this.mitankEditingSrv.wfstObject.subscribe(function(n){n&&(t.wfst=n,t.drawnLayer=t.mitankEditingSrv.getCurrentDrawnLayer(),t.updateFormData())})},t.prototype.ngOnChanges=function(){var t=this,n=this.formPostDataForChart();this.resetvalues(),this.dataService.getChartDataForSentinelMiTanks(n).subscribe(function(n){if("object"==typeof n&&null!==n&&Object.keys(n).length>0){var e=n;for(var l in e)t.dateVolumeMap[t.datePipe.transform(l,"dd-MM-yyyy")]=e[l]["Current Storage"],t.datesArray.push(t.datePipe.transform(l,"dd-MM-yyyy")),t.volumeArray.push(e[l]["Current Storage"]);t.dates=Object.keys(t.dateVolumeMap),t.date=t.dates[t.dates.length-1],t.date.split("-"),t.date.split("-"),t.date.split("-"),t.calc_volume=t.dateVolumeMap[t.datesArray[t.datesArray.length-1]].toFixed(4)}t.formatChart()})},t.prototype.chooseDate=function(t){this.calc_volume=this.dateVolumeMap[this.date].toFixed(4),this.date.split("-"),this.date.split("-"),this.date.split("-")},t.prototype.formPostDataForChart=function(){var t=this.datePipe.transform(new Date,"yyyyMMdd"),n="927b67e9-a2aa-46e9-99bc-41cf8c502668";return this.tankDetails.hasOwnProperty("uuid")&&(n=this.tankDetails.uuid),{sDate:"20200401",eDate:t,pUUID:n,pType:"MITANK",format:"DAILY",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",src:this.source.replace("_","")}},t.prototype.formatChart=function(){var t,n=this;for(var e in this.chartOptions.series[0].data=[],this.chartOptions.series[1].data=[],(t=this.chartOptions.xAxis.categories).push.apply(t,this.datesArray),this.dateVolumeMap)this.chartOptions.series[0].data.push({date:e,y:this.dateVolumeMap[e]}),this.chartOptions.series[1].data.push({date:e,y:this.tankDetails.capacity-this.dateVolumeMap[e]});setTimeout(function(){n.showChart=!0,n.waterSpreadChartObj=n.Highcharts.chart(n.waterSpreadChart.nativeElement,n.chartOptions)},300)},t.prototype.resetvalues=function(){this.showChart=!1,this.chartOptions.xAxis.categories=[],this.chartOptions.series[0].data=[],this.chartOptions.series[1].data=[],this.datesArray=[],this.volumeArray=[],this.dateVolumeMap={},this.date=this.dates[0]},t.prototype.close=function(){this.onClose.emit()},t.prototype.openInFull=function(){var t=this.modalSrv.open(kp,{size:"lg",backdrop:!0,centered:!0,windowClass:"chart-dark-modal"});t.componentInstance.tankDetails=this.tankDetails,t.componentInstance.datesArray=this.datesArray,t.componentInstance.dateVolumeMap=this.dateVolumeMap},t.prototype.downloadJPG=function(){this.waterSpreadChartObj.options.title.text="Date to Volume Chart",this.waterSpreadChartObj.options.title.style.fontSize="10px",this.waterSpreadChartObj.exportChart({type:"image/jpeg"})},t.prototype.showDepthClassLayer=function(t,n){this.map.hasLayer(this.layers.overlaylayers.Depth_Class)&&this.map.removeLayer(this.layers.overlaylayers.Depth_Class),this.layers.overlaylayers.Depth_Class.wmsParams.cql_filter="mitank_id="+t+" AND date="+n,this.map.addLayer(this.layers.overlaylayers.Depth_Class)},t.prototype.editMiTankBoundary=function(){this.editAction.emit({action:"edit",tank_geoid:this.tankDetails.tank_geoid}),this.isEditing=!0,this.isFormActive=!0,this.updateFormData("update"),this.getMiTanksHistoryData(this.tankDetails.tank_geoid)},t.prototype.createForm=function(){this.addTankForm=this.formBuilder.group({tank_name:new Ft.g(null,[Ft.z.required]),tank_geoid:new Ft.g(null,[Ft.z.required]),capacity:new Ft.g(null,[Ft.z.required]),mandal_nam:new Ft.g(null,[Ft.z.required]),ba_name:new Ft.g(null,[Ft.z.required])})},t.prototype.updateFormData=function(t){return n=this,void 0,l=function(){var n,e,l,a;return function(t,n){var e,l,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,l&&(a=2&i[0]?l.return:i[0]?l.throw||((a=l.return)&&a.call(l),0):l.next)&&!(a=a.call(l,i[1])).done)return a;switch(l=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,l=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(t,r)}catch(o){i=[6,o],l=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,function(i){switch(i.label){case 0:return Object(M.isNullOrUndefined)(this.wfst)||Object(M.isNullOrUndefined)(this.drawnLayer)||this.isEditing?[3,2]:(this.someLocationInfo.centroid=this.mitankEditingSrv.getCentroid(this.drawnLayer.toGeoJSON().geometry.coordinates),this.locationMetaData.tank_geoid=this.mitankEditingSrv.getTankGeoId(this.someLocationInfo.centroid),n=this,l=(e=Object).assign,a=[{},this.locationMetaData],[4,this.mitankEditingSrv.getLocationMetaData(this.drawnLayer.getBounds().getCenter(),this.layers,this.map)]);case 1:n.locationMetaData=l.apply(e,a.concat([i.sent()])),i.label=2;case 2:return"draw"!=t&&this.isEditing?"update"==t?(console.log(this.tankDetails),this.addTankForm.setValue({mandal_nam:this.tankDetails.mandal_nam||null,ba_name:this.tankDetails.ba_name||null,tank_name:this.tankDetails.tank_name||null,tank_geoid:this.tankDetails.tank_geoid||null,capacity:this.tankDetails.capacity||null})):"history"==t&&(console.log("history",this.historyData[this.historyDataKey]),this.addTankForm.setValue({mandal_nam:this.historyData[this.historyDataKey].properties.mandal_nam||null,ba_name:this.historyData[this.historyDataKey].properties.ba_name||null,tank_name:this.historyData[this.historyDataKey].properties.tank_name||null,tank_geoid:this.historyData[this.historyDataKey].properties.tank_geoid||null,capacity:this.historyData[this.historyDataKey].properties.capacity||null})):this.addTankForm.setValue({mandal_nam:this.locationMetaData.mandal_nam||null,ba_name:this.locationMetaData.ba_name||null,tank_name:null,tank_geoid:this.locationMetaData.tank_geoid||null,capacity:null}),[2]}})},new((e=void 0)||(e=Promise))(function(t,a){function i(t){try{o(l.next(t))}catch(n){a(n)}}function r(t){try{o(l.throw(t))}catch(n){a(n)}}function o(n){n.done?t(n.value):new e(function(t){t(n.value)}).then(i,r)}o((l=l.apply(n,[])).next())});var n,e,l},t.prototype.submit=function(){if(this.addTankForm.valid&&window.confirm("Are you sure you want to save this alert?")){if(this.tankDetailsFormData=this.addTankForm.value,this.isFormActive=!1,this.tankDetailsFormData.new_tank=this.isEditing?2:1,this.addTankForm.reset(),this.isEditing||this.dropdown){if(this.isEditing&&!this.dropdown)this.mitankEditingSrv.saveLayer(this.wfst,this.drawnLayer,this.tankDetailsFormData,this.locationMetaData),this.mitankEditingSrv.savePreviousLayer(this.mitankEditingSrv.getPreviousWFST(),this.mitankEditingSrv.getPreviousLayer());else if(this.isEditing&&this.dropdown){!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&(console.log("here save history"),this.map.removeLayer(this.historyLayer),console.log(this.map.hasLayer(this.historyLayer))),this.historyLayer=this.historyLayer.toGeoJSON();var t=S.GeoJSON.geometryToLayer(this.historyLayer,null);this.historyLayer.properties=Ip({},this.historyData[this.historyDataKey].properties),t.feature=this.historyLayer,this.historyLayer=t;var n=Object.assign({},this.historyLayer);n.feature.id="corewris_mitanks_polygon_1.0_history_test."+n.feature.properties.gid,delete this.historyLayer.feature.properties.gid,this.mitankEditingSrv.saveHistoryLayer(this.wfst,this.historyLayer,this.tankDetailsFormData,this.locationMetaData,this.drawnLayer),this.mitankEditingSrv.savePreviousLayer(this.mitankEditingSrv.getPreviousWFST(),this.mitankEditingSrv.getPreviousLayer()),this.mitankEditingSrv.removeEntryFromHistoryLayer(this.mitankEditingSrv.getPreviousWFST(),n)}}else this.mitankEditingSrv.saveLayer(this.wfst,this.drawnLayer,this.tankDetailsFormData,this.locationMetaData);this.resetDataAndMap(),this.map.removeLayer(this.layers.overlaylayers["MI Tanks Geojson"]),this.map.addLayer(this.layers.overlaylayers["MI Tanks Geojson"]),this.updateTableDataAfterSubmission(),this.mitankEditingSrv.closeMitanksTool(!0)}},t.prototype.resetDataAndMap=function(){this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer),this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.isEditing=!1,this.dropdown=!1,this.isFormActive=!1},t.prototype.updateTableDataAfterSubmission=function(){this.tankDetails=Ip({},this.tankDetails,this.tankDetailsFormData,this.locationMetaData),Object(M.isNullOrUndefined)(this.someLocationInfo.centroid)||this.map.setView([this.someLocationInfo.centroid[1],this.someLocationInfo.centroid[0]],15)},t.prototype.deleteTank=function(){window.confirm("Are you sure you want to delete this alert?")&&(this.mitankEditingSrv.deleteLayer(this.wfst,this.drawnLayer),this.tankDetails={},this.close(),this.toastrSrv.success("Tank Deleted Successfully"),this.map.setZoom(this.map.getZoom()-2),this.map.removeLayer(this.layers.overlaylayers["MI Tanks Geojson"]),this.map.addLayer(this.layers.overlaylayers["MI Tanks Geojson"]))},t.prototype.getMiTanksHistoryData=function(t){var n=this;this.mitankEditingSrv.getTanksHistoryDataURL(t).subscribe(function(t){t&&t.features&&(n.historyData=n.formatHistoryData(t.features),console.log(n.historyData))})},t.prototype.formatHistoryData=function(t){var n={};return t.forEach(function(t){var e=t.properties.timestamp;console.log(n),n[e]=t}),n},t.prototype.onDropDownChange=function(){!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.historyLayer=new S.polygon(this.reverseCoordinates(this.historyData[this.historyDataKey].geometry.coordinates[0])),this.map.addLayer(this.historyLayer),this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer),this.updateFormData("history")},t.prototype.reverseCoordinates=function(t){for(var n=[],e=0,l=t=t[0];e<l.length;e++){var a=l[e];n.push([a[1],a[0]])}return[n]},t.prototype.onHistoryCheckboxClick=function(){console.log("Drop Down",this.dropdown),1==this.dropdown?this.map.hasLayer(this.drawnLayer)&&this.map.removeLayer(this.drawnLayer):(!Object(M.isNullOrUndefined)(this.historyLayer)&&this.map.hasLayer(this.historyLayer)&&this.map.removeLayer(this.historyLayer),this.map.addLayer(this.drawnLayer),this.drawnLayer.enableEdit(),this.updateFormData("update"))},t.prototype.cancel=function(){this.resetDataAndMap(),this.map.addLayer(this.layers.overlaylayers["MI Tanks Geojson"]),this.isFormActive=!1,this.isEditing||this.close(),this.mitankEditingSrv.closeMitanksTool(!0)},t.prototype.ngOnDestroy=function(){this.wfstSub.unsubscribe(),this.tankDetails={},this.tankDetailsFormData={},this.isFormActive=!1,this.locationMetaData={},this.someLocationInfo={},this.addTankForm.reset(),this.wfst=null,this.drawnLayer=null,this.mitankEditingSrv.setCurrentWfst(null),this.mitankEditingSrv.setCurrentDrawnLayer(null),this.mitankEditingSrv.updateGeometry(null,null)},t}(),Np=c.zb({encapsulation:0,styles:[[""]],data:{}});function Fp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-warning"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.editMiTankBoundary()&&l),l},null,null))],null,null)}function Bp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.deleteTank()&&l),l},null,null))],null,null)}function Up(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null==e.tankDetails?null:e.tankDetails.tank_name)})}function Rp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"input",[["class","form-control"],["formControlName","tank_name"],["id","tank_name"],["maxlength","50"],["placeholder","Tank Name"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(3,540672,null,0,Ft.m,[],{maxlength:[0,"maxlength"]},null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ft.m]),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(6,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,3,0,"50"),t(n,6,0,"tank_name")},function(t,n){t(n,1,0,c.Lb(n,3).maxlength?c.Lb(n,3).maxlength:null,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function Vp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null==e.tankDetails?null:e.tankDetails.tank_geoid)})}function jp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"input",[["class","form-control"],["formControlName","tank_geoid"],["id","tank_geoid"],["placeholder","Tank Geoid"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(4,671744,null,0,Ft.i,[[3,Ft.c],[8,null],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(6,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,4,0,"tank_geoid")},function(t,n){t(n,1,0,c.Lb(n,6).ngClassUntouched,c.Lb(n,6).ngClassTouched,c.Lb(n,6).ngClassPristine,c.Lb(n,6).ngClassDirty,c.Lb(n,6).ngClassValid,c.Lb(n,6).ngClassInvalid,c.Lb(n,6).ngClassPending)})}function Gp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null==e.tankDetails?null:e.tankDetails.mandal_nam)})}function Yp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"input",[["class","form-control"],["formControlName","mandal_nam"],["id","mandal"],["placeholder","Mandal Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(4,671744,null,0,Ft.i,[[3,Ft.c],[8,null],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(6,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,4,0,"mandal_nam")},function(t,n){t(n,1,0,c.Lb(n,6).ngClassUntouched,c.Lb(n,6).ngClassTouched,c.Lb(n,6).ngClassPristine,c.Lb(n,6).ngClassDirty,c.Lb(n,6).ngClassValid,c.Lb(n,6).ngClassInvalid,c.Lb(n,6).ngClassPending)})}function Wp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null==e.tankDetails?null:e.tankDetails.ba_name)})}function zp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"input",[["class","form-control"],["formControlName","ba_name"],["id","basin"],["placeholder","Basin Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(4,671744,null,0,Ft.i,[[3,Ft.c],[8,null],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(6,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,4,0,"ba_name")},function(t,n){t(n,1,0,c.Lb(n,6).ngClassUntouched,c.Lb(n,6).ngClassTouched,c.Lb(n,6).ngClassPristine,c.Lb(n,6).ngClassDirty,c.Lb(n,6).ngClassValid,c.Lb(n,6).ngClassInvalid,c.Lb(n,6).ngClassPending)})}function Hp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,1,0,null==e.tankDetails?null:e.tankDetails.village)})}function qp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Village"])),(t()(),c.sb(16777216,null,null,1,null,Hp)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,4,0,!n.component.isFormActive)},null)}function Kp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.tankDetails?null:e.tankDetails.max_area,"1.1-4"));t(n,1,0,l)})}function Xp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Maximum Area (sqkm)"])),(t()(),c.sb(16777216,null,null,1,null,Kp)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,4,0,!n.component.isFormActive)},null)}function Jp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[" "," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.tankDetails?null:e.tankDetails.govt_capacity,"1.1-4"))||"-";t(n,1,0,l)})}function $p(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"input",[["class","form-control"],["formControlName","capacity"],["id","capacity"],["maxlength","10"],["placeholder","Capacity in mcft"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(3,540672,null,0,Ft.m,[],{maxlength:[0,"maxlength"]},null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ft.m]),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(6,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,3,0,"10"),t(n,6,0,"capacity")},function(t,n){t(n,1,0,c.Lb(n,3).maxlength?c.Lb(n,3).maxlength:null,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function Qp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (By Dept. in mcft)"])),(t()(),c.sb(16777216,null,null,1,null,Jp)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,$p)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,!e.isFormActive),t(n,6,0,e.isFormActive)},null)}function Zp(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,8,"td",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,7,"input",[["class","form-control"],["formControlName","capacity"],["id","capacity"],["maxlength","10"],["placeholder","Capacity in mcft"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0;return"input"===n&&(l=!1!==c.Lb(t,2)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,2).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,2)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,2)._compositionEnd(e.target.value)&&l),l},null,null)),c.Ab(2,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(3,540672,null,0,Ft.m,[],{maxlength:[0,"maxlength"]},null),c.Pb(1024,null,Ft.n,function(t){return[t]},[Ft.m]),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.d]),c.Ab(6,671744,null,0,Ft.i,[[3,Ft.c],[6,Ft.n],[8,null],[6,Ft.o],[2,Ft.F]],{name:[0,"name"]},null),c.Pb(2048,null,Ft.p,null,[Ft.i]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null)],function(t,n){t(n,3,0,"10"),t(n,6,0,"capacity")},function(t,n){t(n,1,0,c.Lb(n,3).maxlength?c.Lb(n,3).maxlength:null,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function tg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (in mcft)"])),(t()(),c.sb(16777216,null,null,1,null,Zp)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,4,0,n.component.isFormActive)},null)}function ng(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (Calculated in mcft)"])),(t()(),c.Bb(3,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(4,null,[" "," "])),c.Ob(5,2)],null,function(t,n){var e=n.component,l=c.Tb(n,4,0,t(n,5,0,c.Lb(n.parent,0),null==e.tankDetails?null:e.tankDetails.capacity,"1.1-4"))||"-";t(n,4,0,l)})}function eg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.key)})}function lg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,23,"div",[["class","form-group d-flex justify-content-between m-0 mt-3"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","form-check p-0"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"input",[["id","dropdown"],["name","dropdown"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,3).onChange(e.target.checked)&&l),"blur"===n&&(l=!1!==c.Lb(t,3).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.dropdown=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHistoryCheckboxClick()&&l),l},null,null)),c.Ab(3,16384,null,0,Ft.b,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.b]),c.Ab(5,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(7,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.Bb(9,0,null,null,1,"label",[["class","form-check-label"],["for","flexCheckIndeterminate"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Choose From Previous Versions "])),(t()(),c.Bb(11,0,null,null,12,"select",[["class","form-control form-control-sm"],["name","Source"],["style","width: 160px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,12).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,12).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.historyDataKey=e)&&l),"ngModelChange"===n&&(l=!1!==a.onDropDownChange()&&l),l},null,null)),c.Ab(12,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(14,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(16,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(17,0,null,null,3,"option",[["default","true"],["disabled",""],["value","-1"]],null,null,null,null,null)),c.Ab(18,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(19,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Version TimeStamp "])),(t()(),c.sb(16777216,null,null,2,null,eg)),c.Ab(22,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y])],function(t,n){var e=n.component;t(n,5,0,"dropdown",e.dropdown),t(n,14,0,"Source",!e.dropdown,e.historyDataKey),t(n,18,0,"-1"),t(n,19,0,"-1"),t(n,22,0,c.Tb(n,22,0,c.Lb(n,23).transform(e.historyData)))},function(t,n){t(n,2,0,c.Lb(n,7).ngClassUntouched,c.Lb(n,7).ngClassTouched,c.Lb(n,7).ngClassPristine,c.Lb(n,7).ngClassDirty,c.Lb(n,7).ngClassValid,c.Lb(n,7).ngClassInvalid,c.Lb(n,7).ngClassPending),t(n,11,0,c.Lb(n,16).ngClassUntouched,c.Lb(n,16).ngClassTouched,c.Lb(n,16).ngClassPristine,c.Lb(n,16).ngClassDirty,c.Lb(n,16).ngClassValid,c.Lb(n,16).ngClassInvalid,c.Lb(n,16).ngClassPending)})}function ag(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-warning"]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Save"]))],null,function(t,n){t(n,0,0,!n.component.addTankForm.valid)})}function ig(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.cancel()&&l),l},null,null)),(t()(),c.Sb(-1,null,[" Cancel"]))],null,null)}function rg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"highcharts-chart",[["class","highcharts-chart"]],null,null,null,Pr.b,Pr.a)),c.Ab(1,704512,null,0,xr.a,[c.n,c.F],{Highcharts:[0,"Highcharts"],constructorType:[1,"constructorType"],oneToOne:[2,"oneToOne"],options:[3,"options"]},null)],function(t,n){var e=n.component;t(n,1,0,e.Highcharts,e.chartConstructor,!0,e.chartOptions)},null)}function og(t){return c.Ub(0,[c.Mb(0,m.f,[c.z]),c.Qb(402653184,1,{waterSpreadChart:0}),(t()(),c.Bb(2,0,null,null,78,"div",[["class","right-container vh-100 d-flex flex-column card border-0 rounded-0"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,4,"div",[["class","card-header rounded-0 d-flex align-items-center flex-nowrap py-2"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(5,null,["Tank Name : "," "])),(t()(),c.Bb(6,0,null,null,1,"button",[["class","btn btn-sm btn-close text-light toggleRightDataTab"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,0,"i",[["class","mi-close"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.close()&&l),l},null,null)),(t()(),c.Bb(8,0,null,null,72,"div",[["class","flex-fill overflow-auto card-body"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Fp)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,["\xa0\xa0 "])),(t()(),c.sb(16777216,null,null,1,null,Bp)),c.Ab(13,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(14,0,null,null,66,"div",[["class","card bg-dark overflow-hidden shadow-sm p-2 mt-2"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,45,"div",[["class","mt-0 table-responsive p-0"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,18).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,18).onReset()&&l),l},null,null)),c.Ab(17,16384,null,0,Ft.D,[],null,null),c.Ab(18,540672,null,0,Ft.k,[[8,null],[8,null]],{form:[0,"form"]},null),c.Pb(2048,null,Ft.c,null,[Ft.k]),c.Ab(20,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(21,0,null,null,39,"table",[["class","table table-text-sm table-dark-mis table-sm table-dark m-0 table-bordered text-nowrap"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,38,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Tank Name"])),(t()(),c.sb(16777216,null,null,1,null,Up)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Rp)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(30,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Tank Geo-id"])),(t()(),c.sb(16777216,null,null,1,null,Vp)),c.Ab(34,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,jp)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(37,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),c.Bb(38,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Mandal"])),(t()(),c.sb(16777216,null,null,1,null,Gp)),c.Ab(41,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Yp)),c.Ab(43,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(44,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.sb(16777216,null,null,1,null,Wp)),c.Ab(48,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,zp)),c.Ab(50,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,qp)),c.Ab(52,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Xp)),c.Ab(54,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Qp)),c.Ab(56,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,tg)),c.Ab(58,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ng)),c.Ab(60,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,lg)),c.Ab(62,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(63,0,null,null,5,"div",[["class","form-group d-flex justify-content-start mt-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ag)),c.Ab(65,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,["\xa0\xa0\xa0 "])),(t()(),c.sb(16777216,null,null,1,null,ig)),c.Ab(68,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(69,0,null,null,8,"div",[["class","filter mt-3"]],null,null,null,null,null)),(t()(),c.Bb(70,0,null,null,7,"div",[["class","card-header py-1 d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(71,0,null,null,1,"h6",[["class","m-0 flex-fill text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Water Spread"])),(t()(),c.Bb(73,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(t()(),c.Bb(74,0,null,null,1,"button",[["class","btn btn-sm btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.downloadJPG()&&l),l},null,null)),(t()(),c.Bb(75,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(t()(),c.Bb(76,0,null,null,1,"button",[["class","btn btn-sm btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openInFull()&&l),l},null,null)),(t()(),c.Bb(77,0,null,null,0,"i",[["class","fas fa-expand"]],null,null,null,null,null)),(t()(),c.Bb(78,0,[[1,0],["waterSpreadChart",1]],null,2,"div",[["id","waterSpreadChart"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,rg)),c.Ab(80,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,10,0,!e.isFormActive),t(n,13,0,e.isEditing),t(n,18,0,e.addTankForm),t(n,27,0,!e.isFormActive),t(n,29,0,e.isFormActive),t(n,34,0,!e.isFormActive),t(n,36,0,e.isFormActive),t(n,41,0,!e.isFormActive),t(n,43,0,e.isFormActive),t(n,48,0,!e.isFormActive),t(n,50,0,e.isFormActive),t(n,52,0,!e.isFormActive&&(null==e.tankDetails?null:e.tankDetails.village)),t(n,54,0,!e.isFormActive),t(n,56,0,!e.isFormActive&&(null==e.tankDetails?null:e.tankDetails.govt_capacity)),t(n,58,0,e.isFormActive),t(n,60,0,!e.isFormActive&&(null==e.tankDetails?null:e.tankDetails.capacity)),t(n,62,0,e.isFormActive&&e.isEditing),t(n,65,0,e.isFormActive),t(n,68,0,e.isFormActive),t(n,80,0,e.showChart)},function(t,n){var e=n.component;t(n,5,0,null==e.tankDetails?null:e.tankDetails.tank_name),t(n,16,0,c.Lb(n,20).ngClassUntouched,c.Lb(n,20).ngClassTouched,c.Lb(n,20).ngClassPristine,c.Lb(n,20).ngClassDirty,c.Lb(n,20).ngClassValid,c.Lb(n,20).ngClassInvalid,c.Lb(n,20).ngClassPending)})}e("Gliu"),e("18sg");var sg=e("XQuM"),ug=function(){return(ug=Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)},cg=function(){function t(t,n,e,l,a,i,r,o){this.mapService=t,this.gisDataService=n,this.gisUtilServ=e,this.route=l,this.router=a,this.dataService=i,this.commonVisibilityService=r,this.mitanksEditingService=o,this.layers={overlaylayers:{},baselayers:{}},this.dataTabToggleVal=!1,this.mapZoom=0,this.params={component:"WATER_SPREAD"},this.dates=[],this.sourceWiseAvailableDates=new Map,this.datePipe=new m.e("en-US"),this.depthLayer={},this.source=xp.SOURCES_LIST_WATERSPREAD[0],this.isInitExecute=!0,this.minmaxFlag=!0,this.showPlayBar=!1,this.playBarOptions={},this.prevValue=0,this.value=1,this.nextValue=0,this.isPlay=!1,this.rangeValue=0,this.locationMetaData={},this.saveButtonEnabled=!1}return t.prototype.ngOnInit=function(){var t=this;this.gisUtilServ.setSelectedParams(this.params),this.initMap(),this.revalidateMap(),this.mitanksEditingService.openDTObject.subscribe(function(n){Object(M.isNullOrUndefined)(n)||(t.dataTabToggleVal=!(!n||t.dataTabToggleVal))})},t.prototype.createPanes=function(){var t=this;sg.a.PANE_LIST.forEach(function(n){t.map.createPane(n.name),t.map.getPane(n.name).style.zIndex=n.zindex})},t.prototype.initMap=function(){var t=this;this.map=new S.map("map",{minZoom:8,maxZoom:20,zoomControl:!1,doubleClickZoom:!1,editable:!0});var n=this;this.map.setView([18.75216,78.69885],13),this.mapZoom=this.map.getZoom(),this.addZoomBar(),this.createPanes(),this.addLegend(),this.coordinateReadout(),this.map.on("zoomend",function(e){n.mapZoom=e.sourceTarget._zoom,t.showPlayBar&&(t.resetPlayBar(),t.commonVisibilityService.hideAllLayers(n.source),t.commonVisibilityService.showDepthClassLayer(t.sourceWiseAvailableDates.get(t.source)[0],t.source,t.prevValue,t.value,t,v.m.LOCATIONS.MITANK))}),this.layers.baselayers=Object.assign({},this.layers.baselayers,this.addBaseLayers(v.a[v.d.TILE_LAYER]));var e=this.gisDataService.getApplicationBasedLayer(v.a[v.d.WMS_LAYER],"WMS");this.layers.baselayers=Object.assign({},this.layers.baselayers,this.gisDataService.setWMSOverlays(this.map,e)),this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setWMSOverlays(this.map,this.gisDataService.getApplicationBasedLayer(xp.WATER_SPREAD_AREA_LAYERS,"WMS",this.map))),this.layers.overlaylayers=Object.assign({},this.layers.overlaylayers,this.gisDataService.setGeojsonOverlaysUsinguGeoJSONLayer(this.map,this.gisDataService.getApplicationBasedLayer(xp.WATER_SPREAD_AREA_LAYERS,"GEOJSON",this.map))),this.wfstOptions=this.gisDataService.getWFSTOptions("kaleshwaram","corewris_mitanks_polygon_1.0"),this.wfstHistoryOptions=this.gisDataService.getWFSTOptions("kaleshwaram","corewris_mitanks_polygon_1.0_history_test"),this.clickOnMiTanksLayer(),xp.SOURCES_LIST_WATERSPREAD.forEach(function(n){t.getAvailableDates(n)}),this.gisDataService.updateSourceName$.subscribe(function(n){t.showPlayBar=!1,t.resetPlayBar(),t.source=n.newSource,t.showPlayProgressBar(),t.addLegend()})},t.prototype.save=function(){this.wfst.save()},t.prototype.toggleShow=function(){this.minmaxFlag=!this.minmaxFlag},t.prototype.coordinateReadout=function(){var t=this;this.map.on("mousemove",function(n){t.coordinates=n.latlng.lat.toFixed(4)+","+n.latlng.lng.toFixed(4),clearTimeout(t.timer),t.timer=setTimeout(function(){t.elevationReadout(n.latlng)},2e4),t.timer=setTimeout(function(){t.dateReadOut(n.latlng)},2e4)})},t.prototype.elevationReadout=function(t){var n=this;this.gisDataService.getFeatureInfo(t,this.layers.overlaylayers.SRTM_DEM_30,this.map).subscribe(function(t){t&&t.features.length>0&&(n.elevation=t.features[0].properties.GRAY_INDEX+"m")})},t.prototype.dateReadOut=function(t){var n=this;L.a.selectedSource?(this.layers.overlaylayers.BASELAYER_METADATA.options.cql_filter="source='"+L.a.selectedSource+"'",this.layers.overlaylayers.BASELAYER_METADATA.wmsParams.cql_filter="source='"+L.a.selectedSource+"'",this.gisDataService.getFeatureInfo(t,this.layers.overlaylayers.BASELAYER_METADATA,this.map).subscribe(function(t){n.date=t&&t.features.length>=1&&t.features[0].properties.latest_date&&t.features[0].properties.latest_date.split("T").length>0?t.features[0].properties.latest_date.split("T")[0]:null})):this.date=null},t.prototype.addZoomBar=function(){(new S.control.zoomBar).addTo(this.map)},t.prototype.revalidateMap=function(){var t=this;window.dispatchEvent(new Event("resize")),this.map&&setTimeout(function(){t.map.invalidateSize()},200)},t.prototype.addBaseLayers=function(t){var n={};for(var e in t){var l=t[e];if("Base"==l.type&&"TILELAYER"===l.layerServiceType){var a=this.gisDataService.addTileLayer(l);n[l.name]=a,"Google Satellite"==l.name&&this.map.addLayer(a)}}return n},t.prototype.dataTabToggle=function(){this.revalidateMap(),this.dataTabToggleVal=!this.dataTabToggleVal,this.gisUtilServ.setCurrentComponent(this.router.url.split("/")[2]),this.dataTabToggleVal?document.getElementById("MapContainer").offsetWidth<1600&&(document.documentElement.style.setProperty("--opacite","none"),document.documentElement.style.setProperty("--lPercent","70%")):(document.documentElement.style.setProperty("--opacite","display"),document.documentElement.style.setProperty("--lPercent","50%"))},t.prototype.clickOnMiTanksLayer=function(){var t=this;this.layers.overlaylayers["MI Tanks Geojson"].on({click:function(n){t.tankDetails=n.sourceTarget.feature.properties,t.dataTabToggleVal=!0,t.map.setView([n.latlng.lat,n.latlng.lng],15)}}),t.revalidateMap()},t.prototype.addLegend=function(){var t=this,n=S.control({position:"bottomright"});n.onAdd=function(){var n=S.DomUtil.get("info-legend");return null!=n&&null!=n||((n=S.DomUtil.create("div","info")).id="info-legend"),"SENTINEL_2"==t.source?(n.innerHTML="",n.innerHTML+='<p class="bg-white font-weight-bold text-dark text-center my-0">Water Spread</p',n.innerHTML+='<p class="my-0 font-weight-bold text-center" style="background-color:#05C3DE ;min-height:25px; color:#000"></p>'):(n.innerHTML="",n.innerHTML+='<p class="bg-white font-weight-bold text-dark text-center my-0">Category</p',n.innerHTML+='<p class="my-0 font-weight-bold text-center" style="background-color:rgba(255,147,147,0.5) ; color:#000">Empty</p>',n.innerHTML+='<p class="my-0 font-weight-bold text-center" style="background-color:#fae098 ; color:#000">Shallow</p>',n.innerHTML+='<p class="my-0 font-weight-bold text-center" style="background-color:#91cc9e ; color:#000">Medium</p>',n.innerHTML+='<p class="my-0 font-weight-bold text-center" style="background-color:#15f4ee ; color:#000">Deep</p>'),n},n.addTo(this.map)},t.prototype.createLegend=function(){return new S.Control.HtmlLegend({position:"bottomright",collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1})},t.prototype.getLegendData=function(){var t={name:"Depth",layer:this.layers.overlaylayers.MI_Tanks,elements:[]};return t.elements.push({html:"<p class=\"font-weight-bold text-center\" style='height:21px;margin:0px;padding:4px;color:black;background-color:#fae098'>Shallow</p><p class=\"font-weight-bold text-center\" style='height:21px;margin:0px;padding:4px;color:black;background-color:#91cc9e'>Medium</p><p class=\"font-weight-bold text-center\" style='height:21px;margin:0px;padding:4px;color:black;background-color:#15f4ee'>Deep</p>"}),t},t.prototype.formPostDataForChart=function(t){return{aggr:"LATEST",cType:"NONE",eDate:this.datePipe.transform(new Date,"yyyyMMdd"),format:"DAILY",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",pType:"STATE",pUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",sDate:"20210101",src:t.replace("_",""),view:"ADMIN",viewPEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668"}},t.prototype.getAvailableDates=function(t){var n=this;null==this.sourceWiseAvailableDates.get(t)&&this.sourceWiseAvailableDates.set(t,[]);var e=this.formPostDataForChart(t);this.dataService.getChartDataForSentinelMiTanks(e).subscribe(function(e){var l=e;for(var a in l)n.sourceWiseAvailableDates.get(t).push(n.datePipe.transform(a,"dd-MM-yyyy"));n.sourceWiseAvailableDates.set(t,n.sourceWiseAvailableDates.get(t).reverse()),t==n.source&&n.showPlayProgressBar()})},t.prototype.showPlayProgressBar=function(){this.loadDepthLayers(),this.playBarOptions=this.commonVisibilityService.getPlayBarOptions(this.sourceWiseAvailableDates.get(this.source)),this.showPlayBar=!0},t.prototype.preLoadDepthLayers=function(){var t=this;console.log(this.sourceWiseAvailableDates,this.source),xp.SOURCES_LIST_WATERSPREAD.forEach(function(n){var e={},l=sg.a.SOURCE_DEPTH_LAYER_MAP[n];e[l]=xp.WATER_SPREAD_AREA_LAYERS[l],console.log(e,n,l),t.commonVisibilityService.loadDepthLayers(t.map,n,t.sourceWiseAvailableDates.get(n),e,v.m.LOCATIONS.MITANK,e[l].cql_filter)})},t.prototype.loadDepthLayers=function(){var t=sg.a.SOURCE_DEPTH_LAYER_MAP[this.source],n={};n[t]=xp.WATER_SPREAD_AREA_LAYERS[t],this.commonVisibilityService.loadDepthLayers(this.map,this.source,this.sourceWiseAvailableDates.get(this.source),n,v.m.LOCATIONS.MITANK,n[t].cql_filter),this.commonVisibilityService.showDepthClassLayer(this.sourceWiseAvailableDates.get(this.source)[0],this.source,this.prevValue,this.value,this,v.m.LOCATIONS.MITANK)},t.prototype.valueChanged=function(t){this.rangeValue=0},t.prototype.onUserChangeStart=function(t){this.onPause()},t.prototype.onUserChange=function(t){this.commonVisibilityService.onUserChange(this.value,this.source,this.prevValue,this,v.m.LOCATIONS.MITANK)},t.prototype.onPlay=function(){this.isPlay=!0,this.commonVisibilityService.onPlay(this,this.source)},t.prototype.onPause=function(){this.isPlay=!1,this.commonVisibilityService.onPause(this)},t.prototype.animationValueChange=function(t){this.commonVisibilityService.animationValueChange(this.rangeValue,this.source,this.value,this.prevValue,this)},t.prototype.formatDate=function(t){return t.split("-")[2]+t.split("-")[1]+t.split("-")[0]},t.prototype.resetPlayBar=function(){this.isPlay=!1,this.value=1,this.prevValue=0,this.nextValue=0,clearInterval(this.interval),clearInterval(this.animateInterval)},t.prototype.actionOnEdit=function(t){var n=this;"edit"==t.action?(this.wfstOptions.filter=new S.Filter.EQ("tank_geoid",t.tank_geoid,!1),this.wfst=new S.wfst(this.wfstOptions),this.wfstHistory=new S.wfst(this.wfstHistoryOptions),this.wfst.addTo(this.map).once("load",function(){n.map.removeLayer(n.layers.overlaylayers["MI Tanks Geojson"]),n.wfst.eachLayer(function(t){t.enableEdit(),n.mitanksEditingService.updateGeometry(n.wfst,t),n.mitanksEditingService.setPreviousWFSTLayer(n.wfstHistory,n.getConfiguredLayerForHistory(t))})}),this.map.on("editable:editing",function(t){n.wfst.editLayer(t.layer),n.mitanksEditingService.updateGeometry(n.wfst,t.layer)})):(this.map.removeLayer(this.wfst),this.map.addLayer(n.layers.overlaylayers["MI Tanks Geojson"]))},t.prototype.getConfiguredLayerForHistory=function(t){for(var n=[],e=t.getLatLngs(),l=0;l<e[0][0].length;l++)n.push([e[0][0][l].lat,e[0][0][l].lng]);var a=new S.polygon([[n]]).toGeoJSON(),i=S.GeoJSON.geometryToLayer(a,null);return a.properties=ug({},t.feature.properties),a.properties.timestamp=new Date,i.feature=a,i},t}(),hg=c.zb({encapsulation:0,styles:[["[_ngcontent-%COMP%]:root{--opacite:1.0;--lPercent:50%}.map-container[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;background-color:#fff}#fit-window[_ngcontent-%COMP%]{position:absolute;width:100%;height:100vh;overflow:hidden}.mapBlock[_ngcontent-%COMP%]{height:100vh;width:100%;position:absolute;left:0;top:0}.show-hide[_ngcontent-%COMP%]{position:fixed;bottom:83px;left:80px;z-index:1000}.time-menu-tabs[_ngcontent-%COMP%]{position:absolute;top:20px;left:50%;z-index:999;transform:translateX(-50%)}app-side-bar[_ngcontent-%COMP%]{position:relative;z-index:99999999}app-rightside-panel[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}.map-topbar[_ngcontent-%COMP%]{position:absolute;z-index:999;top:20px;left:1rem}  .ng-select .ng-select-container .ng-value-label{color:#5d5d5d!important}#heading[_ngcontent-%COMP%]{text-align:center;padding:20px;background:#333;color:#ccc}a[_ngcontent-%COMP%]{color:#38f}#map[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;z-index:99}.leaflet-canvas-layer[_ngcontent-%COMP%]{opacity:.55}.btn.btn-play[_ngcontent-%COMP%]{width:32px;height:32px;background:#fff;box-shadow:0 3px 6px rgba(0,0,0,.16);padding:0;display:flex;align-items:center;justify-content:center;border-radius:50%;text-indent:3px;font-size:14px;color:var(--color-active);z-index:999;bottom:20px;left:20px}.map-with-detailstable[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.map-with-detailstable[_ngcontent-%COMP%]   .map-and-control[_ngcontent-%COMP%]{position:relative;flex:1 1 auto}.map-with-detailstable[_ngcontent-%COMP%]   .location-detail-table[_ngcontent-%COMP%]{position:relative;z-index:1050;flex:0 0 0;max-height:0;transition:all ease .1s;-webkit-transition:.1s;-moz-transition:.1s;-ms-transition:all ease .1s;-o-transition:.1s}.map-with-detailstable[_ngcontent-%COMP%]   .location-detail-table[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:26px;width:26px;height:26px;padding:0;font-style:20px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;border-radius:0}.map-with-detailstable[_ngcontent-%COMP%]   .location-detail-table.active[_ngcontent-%COMP%]{max-height:220px;flex:0 0 220px}.map-with-detailstable[_ngcontent-%COMP%]   .location-detail-table.active[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{top:-26px}.map-with-detailstable[_ngcontent-%COMP%]   .location-detail-table[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{max-height:220px}app-bottombar-menu[_ngcontent-%COMP%]{position:absolute;bottom:70px;left:0;right:0;z-index:999}.popupCustom[_ngcontent-%COMP%]   .leaflet-popup-content-wrapper[_ngcontent-%COMP%], .popupCustom[_ngcontent-%COMP%]   .leaflet-popup-tip[_ngcontent-%COMP%]{background:#e0e0e0;color:#234c5e}.dot[_ngcontent-%COMP%]{height:15px;width:15px;border-radius:50%;display:inline-block}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .highcharts-figure[_ngcontent-%COMP%]{min-width:320px;max-width:800px;margin:1em auto}#container1[_ngcontent-%COMP%]{height:550px;z-index:9999999}.highcharts-data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:Verdana,sans-serif;border-collapse:collapse;border:1px solid #ebebeb;margin:10px auto;text-align:center;width:100%;max-width:500px}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1.2em;color:#555}.highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.highcharts-data-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5em}.highcharts-data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#f8f8f8}.highcharts-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f1f7ff}  td.mat-cell{border-bottom-width:0!important}.leaflet-popup-tip[_ngcontent-%COMP%]{position:relative;border-left:2px solid rgba(68,65,65,.84)!important;height:125px;cursor:move}.leaflet-popup-content-wrapper[_ngcontent-%COMP%]{position:absolute;left:2px;top:0;cursor:move;white-space:nowrap;color:#fff;background-color:rgba(68,65,65,.84);border-top-right-radius:20px;border-bottom-right-radius:20px}  .ngx-slider .ngx-slider-tick-legend{font-size:10px;font-weight:200;color:#fff;letter-spacing:0;transform:rotate(-45deg)!important;left:-40px;top:30px!important;text-shadow:0 0 #000}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:22px!important;height:22px!important;top:-9px!important;background-color:red!important;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer::after{display:none!important}  .ngx-slider .ngx-slider-selection{background:#26a74a!important}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#fc7167!important}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px!important;height:10px!important;background:#fc7167!important;border-radius:50%;position:absolute;top:-1px!important;left:0;margin-left:0!important}  .ngx-slider .ngx-slider-pointer:focus{outline:0}.bottom_paly_bar[_ngcontent-%COMP%]{position:absolute;bottom:0;z-index:9999;left:0;width:100%}.range[_ngcontent-%COMP%]{position:absolute;width:100%;right:0;top:55px;z-index:9999}.ws_coordinates[_ngcontent-%COMP%]{position:absolute;right:45px;bottom:0;z-index:1050;font-size:12px;margin:0;padding:2px 6px;background:rgba(255,255,255,.3);color:#000}"]],data:{}});function dg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-square"]],null,null,null,null,null))],null,null)}function pg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-minus-square"]],null,null,null,null,null))],null,null)}function gg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-play play_anim active"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onPause()&&l),l},null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-pause"]],null,null,null,null,null))],null,null)}function mg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"button",[["class","btn btn-play play_anim"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onPlay()&&l),l},null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-play"]],null,null,null,null,null))],null,null)}function bg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"ngx-slider",[["class","ngx-slider"],["style","bottom:20px"]],[[2,"vertical",null],[2,"animate",null],[2,"with-legend",null],[1,"disabled",0]],[[null,"valueChange"],[null,"userChangeStart"],[null,"userChange"],["window","resize"]],function(t,n,e){var l=!0,a=t.component;return"window:resize"===n&&(l=!1!==c.Lb(t,2).onResize(e)&&l),"valueChange"===n&&(l=!1!==(a.value=e)&&l),"valueChange"===n&&(l=!1!==a.valueChanged(e)&&l),"userChangeStart"===n&&(l=!1!==a.onUserChangeStart(e)&&l),"userChange"===n&&(l=!1!==a.onUserChange(e)&&l),l},Fl.b,Fl.a)),c.Pb(5120,null,Ft.o,function(t){return[t]},[Bl.b]),c.Ab(2,4964352,null,1,Bl.b,[c.N,c.n,c.i,c.F],{value:[0,"value"],options:[1,"options"]},{valueChange:"valueChange",userChangeStart:"userChangeStart",userChange:"userChange"}),c.Qb(335544320,1,{tooltipTemplate:0})],function(t,n){var e=n.component;t(n,2,0,e.value,e.playBarOptions)},function(t,n){t(n,0,0,c.Lb(n,2).sliderElementVerticalClass,c.Lb(n,2).sliderElementAnimateClass,c.Lb(n,2).sliderElementWithLegendClass,c.Lb(n,2).sliderElementDisabledAttr)})}function fg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,9,"div",[["class","bottom_paly_bar"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,8,"div",[["class","d-flex justify-content-start"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"div",[["class",""],["style","width: 35px; height: 35px;margin-left: 10px;"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,gg)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,mg)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(7,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,bg)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,e.isPlay),t(n,6,0,!e.isPlay),t(n,9,0,e.showPlayBar)},null)}function yg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"as-split-area",[["class","datatab-container"],["maxSize","800"],["minSize","400"],["size","570"]],null,null,null,null,null)),c.Ab(1,212992,null,0,jl.b,[c.F,c.n,c.N,jl.c],{size:[0,"size"],minSize:[1,"minSize"],maxSize:[2,"maxSize"]},null),(t()(),c.Bb(2,0,null,null,1,"app-water-spread-datatab",[],null,[[null,"onClose"],[null,"editAction"]],function(t,n,e){var l=!0,a=t.component;return"onClose"===n&&(l=!1!==a.dataTabToggle()&&l),"editAction"===n&&(l=!1!==a.actionOnEdit(e)&&l),l},og,Np)),c.Ab(3,770048,null,0,Ep,[Ql.C,x.a,w.a,Ft.f,$l.j],{tankDetails:[0,"tankDetails"],layers:[1,"layers"],map:[2,"map"],source:[3,"source"]},{onClose:"onClose",editAction:"editAction"})],function(t,n){var e=n.component;t(n,1,0,"570","400","800"),t(n,3,0,e.tankDetails,e.layers,e.map,e.source)},null)}function vg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,50,"div",[["class","main-container"],["id","MapContainer"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"app-side-bar",[["class","app-sidebar"]],null,null,null,Zl.b,Zl.a)),c.Ab(2,4964352,null,0,ta.a,[Mt.a,at.a,b.p,D.a,b.a,T.a,na.a,T.a,Ql.C,gl.a,Jl.a,$l.j,ea.a,Ql.C,O.a,la.a,F.a,aa.a,ia.a],{mapobj:[0,"mapobj"],sidebarComponent:[1,"sidebarComponent"]},null),(t()(),c.Bb(3,0,null,null,47,"as-split",[["gutterSize","10"],["unit","pixel"]],null,[[null,"dragEnd"]],function(t,n,e){var l=!0;return"dragEnd"===n&&(l=!1!==t.component.revalidateMap()&&l),l},ra.b,ra.a)),c.Ab(4,4374528,[["splitEl",4]],0,jl.c,[c.F,c.n,c.i,c.N],{unit:[0,"unit"],gutterSize:[1,"gutterSize"]},{dragEnd:"dragEnd"}),(t()(),c.Bb(5,0,null,0,43,"as-split-area",[["minSize","500"],["size","200"]],null,null,null,null,null)),c.Ab(6,212992,null,0,jl.b,[c.F,c.n,c.N,jl.c],{size:[0,"size"],minSize:[1,"minSize"]},null),(t()(),c.Bb(7,0,null,null,41,"div",[["class","map-container"]],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,12,"div",[["class","right-side-buttons"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,11,"button",[["class","btn text-uppercase"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.dataTabToggle()&&l),l},null,null)),c.Ab(10,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(11,{datatabOpen:0}),(t()(),c.Bb(12,0,null,null,0,"i",[["class","fas fa-info-circle d-md-none"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,7,"span",[["class","d-none d-md-block m-n1"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["D"])),(t()(),c.Bb(15,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["A"])),(t()(),c.Bb(17,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["T"])),(t()(),c.Bb(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["A"])),(t()(),c.Bb(21,0,null,null,0,"link",[["href","https://d19vzq90twjlae.cloudfront.net/leaflet-0.7/leaflet.css"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,26,"div",[["class","map-with-detailstable"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,6,"div",[["class","map-and-control"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,3,"div",[["id","map"],["style","width: 100%; height: 100%;"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,0,"div",[["class","throbber"],["style","position: fixed; top: 40%; left: 50%;border-left: 1.1em solid blue; z-index: 9999999;"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,1,"div",[["style","position: fixed; top: 40%; left: 40%; z-index: 9999999;"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,0,"h1",[["style","text-align: center;"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,1,"pre",[["class","ws_coordinates"]],null,null,null,null,null)),(t()(),c.Sb(29,null,[" Image Date ","  ","   elev ",""])),(t()(),c.Bb(30,0,[["range",1]],null,6,"input",[["class","range"],["id","range"],["max","1.0"],["min","0"],["step","any"],["style","display: none;"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,31)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,31).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,31)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,31)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,32).onChange(e.target.value)&&l),"input"===n&&(l=!1!==c.Lb(t,32).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,32).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.rangeValue=e)&&l),"ngModelChange"===n&&(l=!1!==a.animationValueChange(e)&&l),l},null,null)),c.Ab(31,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(32,16384,null,0,Ft.C,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.C]),c.Ab(34,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(36,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(37,0,null,null,7,"div",[["class","show-hide"]],null,null,null,null,null)),(t()(),c.Bb(38,0,null,null,6,"button",[["class","btn btn-dark"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleShow()&&l),l},null,null)),(t()(),c.sb(16777216,null,null,1,null,dg)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,pg)),c.Ab(42,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Sb(-1,null,["\xa0"])),(t()(),c.Bb(44,0,null,null,0,"i",[["class","bi bi-play-circle-fill"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,fg)),c.Ab(46,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(47,0,null,null,1,"app-bottombar-menu",[],null,null,null,ar,$i)),c.Ab(48,114688,null,0,Ji,[w.a,O.a],{mapObj:[0,"mapObj"],layersList:[1,"layersList"]},null),(t()(),c.sb(16777216,null,0,1,null,yg)),c.Ab(50,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.map,e.sidebarComponent),t(n,4,0,"pixel","10"),t(n,6,0,"200","500");var l=t(n,11,0,e.dataTabToggleVal);t(n,10,0,"btn text-uppercase",l),t(n,34,0,e.rangeValue),t(n,40,0,!e.minmaxFlag),t(n,42,0,e.minmaxFlag),t(n,46,0,e.minmaxFlag),t(n,48,0,e.map,e.layers),t(n,50,0,e.dataTabToggleVal)},function(t,n){var e=n.component;t(n,29,0,e.date,e.coordinates,e.elevation),t(n,30,0,c.Lb(n,36).ngClassUntouched,c.Lb(n,36).ngClassTouched,c.Lb(n,36).ngClassPristine,c.Lb(n,36).ngClassDirty,c.Lb(n,36).ngClassValid,c.Lb(n,36).ngClassInvalid,c.Lb(n,36).ngClassPending)})}function Cg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-gis-water-spread",[],null,null,null,vg,hg)),c.Ab(1,114688,null,0,cg,[A.a,P.a,O.a,b.a,b.p,x.a,Bt,w.a],null,null)],function(t,n){t(n,1,0)},null)}var Sg=c.xb("app-gis-water-spread",cg,Cg,{},{},[]),Mg=c.zb({encapsulation:0,styles:[[""]],data:{}});function _g(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"highcharts-chart",[["class","highcharts-chart"]],null,null,null,Pr.b,Pr.a)),c.Ab(1,704512,null,0,xr.a,[c.n,c.F],{Highcharts:[0,"Highcharts"],constructorType:[1,"constructorType"],oneToOne:[2,"oneToOne"],options:[3,"options"]},null)],function(t,n){var e=n.component;t(n,1,0,e.Highcharts,e.chartConstructor,!0,e.chartOptions)},null)}function Lg(t){return c.Ub(0,[c.Mb(0,m.f,[c.z]),c.Qb(402653184,1,{waterSpreadModalChart:0}),(t()(),c.Bb(2,0,null,null,6,"div",[["class","modal-header d-flex"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"h5",[["class","modal-title flex-fill"],["id","modal-basic-title"]],null,null,null,null,null)),(t()(),c.Sb(4,null,["Tank Name: ",""])),(t()(),c.Bb(5,0,null,null,1,"button",[["class","btn btn-sm btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.downloadJPG()&&l),l},null,null)),(t()(),c.Bb(6,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closeModal()&&l),l},null,null)),(t()(),c.Bb(8,0,null,null,0,"i",[["aria-hidden","true"],["class","mi-close"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,37,"div",[["class","modal-body"],["style","min-height: 470px"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,36,"div",[["class","card bg-dark overflow-hidden shadow-sm"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,31,"div",[["class","table-responsive p-0"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,30,"table",[["class","table table-text-sm table-dark-mis table-sm table-dark m-0 table-bordered text-nowrap"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,13,"thead",[["class",""]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Tank Name"])),(t()(),c.Bb(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Tank Geo-id"])),(t()(),c.Bb(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Mandal"])),(t()(),c.Bb(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Village"])),(t()(),c.Bb(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Max Area"])),(t()(),c.Bb(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity"])),(t()(),c.Bb(27,0,null,null,15,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(30,null,[" "," "])),(t()(),c.Bb(31,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(32,null,[" "," "])),(t()(),c.Bb(33,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(34,null,[" "," "])),(t()(),c.Bb(35,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(36,null,[" "," "])),(t()(),c.Bb(37,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(38,null,[" "," "])),c.Ob(39,2),(t()(),c.Bb(40,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.Sb(41,null,[" "," "])),c.Ob(42,2),(t()(),c.Bb(43,0,null,null,3,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.Bb(44,0,[[1,0],["waterSpreadModalChart",1]],null,2,"div",[["class","systemChart card-body w-100 p-0"],["id","waterSpreadModalChart"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,_g)),c.Ab(46,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,46,0,n.component.showChart)},function(t,n){var e=n.component;t(n,4,0,null==e.tankDetails?null:e.tankDetails.tank_name),t(n,30,0,null==e.tankDetails?null:e.tankDetails.tank_name),t(n,32,0,null==e.tankDetails?null:e.tankDetails.tank_geoid),t(n,34,0,null==e.tankDetails?null:e.tankDetails.mandal),t(n,36,0,null==e.tankDetails?null:e.tankDetails.village);var l=c.Tb(n,38,0,t(n,39,0,c.Lb(n,0),null==e.tankDetails?null:e.tankDetails.max_area,"1.1-4"));t(n,38,0,l);var a=c.Tb(n,41,0,t(n,42,0,c.Lb(n,0),null==e.tankDetails?null:e.tankDetails.capacity,"1.1-4"));t(n,41,0,a)})}function Og(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-water-spread-modal",[],null,null,null,Lg,Mg)),c.Ab(1,114688,null,0,kp,[Ql.d],null,null)],function(t,n){t(n,1,0)},null)}var Ag=c.xb("app-water-spread-modal",kp,Og,{},{},[]),Tg=c.zb({encapsulation:0,styles:[[""]],data:{}});function Dg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","EtHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"EtHeatMapSpinner",e.EtHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Pg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-evapotranspiration-map",[],null,null,null,Dg,Tg)),c.Ab(1,245760,null,0,Oe,[b.a,Le],null,null)],function(t,n){t(n,1,0)},null)}var xg=c.xb("app-evapotranspiration-map",Oe,Pg,{},{},[]),wg=c.zb({encapsulation:0,styles:[[""]],data:{}});function kg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function Ig(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,n.context.$implicit.isDisabled),t(n,3,0,n.context.$implicit.value)})}function Eg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Ng(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function Fg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Bg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function Ug(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonYear=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Fg)),c.Ab(12,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Bg)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Year",e.selectedFilterParams.seasonYear),t(n,12,0,e.seasonYearList),t(n,14,0,!e.validation[4])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Rg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,0==n.context.$implicit.show),t(n,3,0,n.context.$implicit.value)})}function Vg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season is not selected"]))],null,null)}function jg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,18,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,11,"select",[["class","form-control form-control-sm"],["name","Season"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,6).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,6).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonType=e)&&l),l},null,null)),c.Ab(6,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(11,0,null,null,3,"option",[["default","true"],["disabled",""],["value","null"]],null,null,null,null,null)),c.Ab(12,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(13,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Season "])),(t()(),c.sb(16777216,null,null,1,null,Rg)),c.Ab(16,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Vg)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,8,0,"Season",e.selectedFilterParams.seasonType),t(n,12,0,"null"),t(n,13,0,"null"),t(n,16,0,e.seasonTypeList),t(n,18,0,!e.validation[5])},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Gg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Yg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End "])),(t()(),c.Bb(3,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(5,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,6).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,11).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(6,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(8,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(10,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(11,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,6,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,8,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){t(n,5,0,c.Lb(n,10).ngClassUntouched,c.Lb(n,10).ngClassTouched,c.Lb(n,10).ngClassPristine,c.Lb(n,10).ngClassDirty,c.Lb(n,10).ngClassValid,c.Lb(n,10).ngClassInvalid,c.Lb(n,10).ngClassPending)})}function Wg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,86,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,75,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(15,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(17,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,18).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(20,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(22,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,kg)),c.Ab(24,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(25,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Heat Map "])),(t()(),c.Bb(28,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(30,0,null,null,7,"select",[["class","form-control form-control-sm w-100"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,31).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,31).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.heatMap=e)&&l),"ngModelChange"===n&&(l=!1!==a.onHeatMapchange()&&l),l},null,null)),c.Ab(31,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(33,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(35,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Ig)),c.Ab(37,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(38,0,null,null,48,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,40).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,40).onReset()&&l),l},null,null)),c.Ab(39,16384,null,0,Ft.D,[],null,null),c.Ab(40,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(42,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(43,0,null,null,14,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(44,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(46,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(48,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,49).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,49).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(49,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(51,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(53,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Eg)),c.Ab(55,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ng)),c.Ab(57,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(58,0,null,null,17,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(59,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(61,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(63,0,null,null,12,"select",[["class","form-control form-control-sm"],["name","Timestep"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(64,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(65,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(66,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(68,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(69,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(70,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(72,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(73,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(74,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.sb(16777216,null,null,1,null,Ug)),c.Ab(77,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,jg)),c.Ab(79,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Gg)),c.Ab(81,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Yg)),c.Ab(83,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(84,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(85,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,20,0,"Source",e.selectedFilterParams.location),t(n,24,0,e.locationList),t(n,33,0,"Source",e.selectedFilterParams.heatMap),t(n,37,0,e.heatMapList),t(n,51,0,"Source",e.selectedFilterParams.source),t(n,55,0,e.sourceList),t(n,57,0,!e.validation[0]),t(n,65,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,66,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,69,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,70,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,73,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,74,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,77,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,79,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,81,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,83,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON)},function(t,n){var e=n.component;t(n,17,0,c.Lb(n,22).ngClassUntouched,c.Lb(n,22).ngClassTouched,c.Lb(n,22).ngClassPristine,c.Lb(n,22).ngClassDirty,c.Lb(n,22).ngClassValid,c.Lb(n,22).ngClassInvalid,c.Lb(n,22).ngClassPending),t(n,30,0,c.Lb(n,35).ngClassUntouched,c.Lb(n,35).ngClassTouched,c.Lb(n,35).ngClassPristine,c.Lb(n,35).ngClassDirty,c.Lb(n,35).ngClassValid,c.Lb(n,35).ngClassInvalid,c.Lb(n,35).ngClassPending),t(n,38,0,c.Lb(n,42).ngClassUntouched,c.Lb(n,42).ngClassTouched,c.Lb(n,42).ngClassPristine,c.Lb(n,42).ngClassDirty,c.Lb(n,42).ngClassValid,c.Lb(n,42).ngClassInvalid,c.Lb(n,42).ngClassPending),t(n,48,0,c.Lb(n,53).ngClassUntouched,c.Lb(n,53).ngClassTouched,c.Lb(n,53).ngClassPristine,c.Lb(n,53).ngClassDirty,c.Lb(n,53).ngClassValid,c.Lb(n,53).ngClassInvalid,c.Lb(n,53).ngClassPending),t(n,64,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,68,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,72,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR)})}function zg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-evapotranspiration-sidebar",[],null,null,null,Wg,wg)),c.Ab(1,245760,null,0,Se,[T.a,O.a,ue.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Hg=c.xb("app-evapotranspiration-sidebar",Se,zg,{},{},[]),qg=c.zb({encapsulation:0,styles:[[""]],data:{}});function Kg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["mm"]))],null,null)}function Xg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["ET Level"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Kg)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.etLevel)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.etLevel?e.kpi.etLevel:"- ")})}function Jg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["MCFT"]))],null,null)}function $g(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-3 col-sm-6 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["ET Volume"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Jg)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.etVolume)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.etVolume?e.kpi.etVolume:"- ")})}function Qg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function Zg(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function tm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","noDataCell text-white"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Table Data is not Available "]))],null,null)}function nm(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(402653184,1,{etChart:0}),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(5,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(6,null,[""," (",")"])),c.Ob(7,1),c.Ob(8,1),(t()(),c.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,31,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,5,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Xg)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,$g)),c.Ab(21,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(22,0,null,null,11,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(23,0,null,null,10,"div",[["class","card-body p-0"]],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,9,"div",[["class","chart-content card shadow-none border"]],null,null,null,null,null)),(t()(),c.Bb(25,0,[[1,0],["etChart",1]],null,4,"div",[["class","w-100"]],[[8,"hidden",0]],null,null,null,null)),c.Ab(26,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(27,{height:0}),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,Qg)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.Bb(34,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,7,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(36,0,null,null,6,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(37,0,null,null,1,"spinner",[["id","EtTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(38,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Zg)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,tm)),c.Ab(42,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,19,0,!e.isStation),t(n,21,0,!e.isStation);var l=t(n,27,0,e.chartheight);t(n,26,0,l),t(n,31,0,c.Tb(n,31,0,c.Lb(n,32).transform(e.etChartData))==c.Tb(n,31,0,c.Lb(n,33).transform(c.ob))),t(n,38,0,"EtTableSpinner",e.EtTableSpinner),t(n,40,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,42,0,e.showErrorMsgForTable&&!e.EtTableSpinner)},function(t,n){var e=n.component,l=c.Tb(n,6,0,t(n,7,0,c.Lb(n,0),e.selectedParams.locName)),a="EVAPOTRANSPIRATION"==e.selectedParams.pType?"evapotranspiration":c.Tb(n,6,1,t(n,8,0,c.Lb(n,0),e.selectedParams.pType));t(n,6,0,l,a),t(n,12,0,e.title?e.title:"Evapotranspiration Information"),t(n,25,0,c.Tb(n,25,0,c.Lb(n,28).transform(e.etChartData))==c.Tb(n,25,0,c.Lb(n,29).transform(c.ob)))})}function em(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-evapotranspiration-infobox",[],null,null,null,nm,qg)),c.Ab(1,245760,null,0,ye,[O.a,X,ue.a,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var lm=c.xb("app-evapotranspiration-infobox",ye,em,{},{},[]),am=c.zb({encapsulation:0,styles:[[""]],data:{}});function im(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","ndviHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"ndviHeatMapSpinner",e.ndviHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function rm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-ndvi-map",[],null,null,null,im,am)),c.Ab(1,245760,null,0,Be,[b.a,Fe],null,null)],function(t,n){t(n,1,0)},null)}var om=c.xb("app-ndvi-map",Be,rm,{},{},[]),sm=c.zb({encapsulation:0,styles:[[""]],data:{}});function um(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],customTemplates:[5,"customTemplates"],metaData:[6,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.columnsTemplateMap,e.metaData)},null)}function cm(t){return c.Ub(0,[c.Mb(0,m.B,[]),(t()(),c.Bb(1,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(4,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(5,null,[""," (",")"])),c.Ob(6,1),c.Ob(7,1),(t()(),c.Bb(8,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(9,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,35,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"div",[["class","alert alert-warning mb-3 mt-2"]],null,null,null,null,null)),(t()(),c.Sb(12,null,[" "," "])),(t()(),c.Bb(13,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(14,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(15,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,22,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,6,"div",[["class","col-3 col-sm-6 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Normal"])),(t()(),c.Bb(23,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(24,null,["",""])),(t()(),c.Bb(25,0,null,null,6,"div",[["class","col-3 col-sm-6 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Watch"])),(t()(),c.Bb(30,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(31,null,["",""])),(t()(),c.Bb(32,0,null,null,6,"div",[["class","col-3 col-sm-6 col-lg"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,5,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(34,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Alert"])),(t()(),c.Bb(37,0,null,null,1,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Sb(38,null,["",""])),(t()(),c.Bb(39,0,null,null,6,"div",[["class","col-12 mt-3"]],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,5,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(41,0,null,null,4,"div",[["class","table-responsive mt-3"]],null,null,null,null,null)),(t()(),c.Bb(42,0,null,null,1,"spinner",[["id","ndviTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(43,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,um)),c.Ab(45,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,14,0,e.inputForBreadcrumb),t(n,43,0,"ndviTableSpinner",e.ndviTableSpinner),t(n,45,0,null!=e.tableData&&e.tableData.length>0)},function(t,n){var e=n.component,l=c.Tb(n,5,0,t(n,6,0,c.Lb(n,0),e.selectedParams.locName)),a=c.Tb(n,5,1,t(n,7,0,c.Lb(n,0),e.selectedParams.pType));t(n,5,0,l,a),t(n,12,0,e.selectedParams.selectedndvi?e.selectedParams.selectedndvi+" ("+e.date+")":""),t(n,24,0,null!=e.kpiData.nc?e.kpiData.nc:"-"),t(n,31,0,null!=e.kpiData.wc?e.kpiData.wc:"-"),t(n,38,0,null!=e.kpiData.ac?e.kpiData.ac:"-")})}function hm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-ndvi-infobox",[],null,null,null,cm,sm)),c.Ab(1,245760,null,0,xe,[O.a,X,De,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var dm=c.xb("app-ndvi-infobox",xe,hm,{},{},[]),pm=c.zb({encapsulation:0,styles:[[""]],data:{}});function gm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,31,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,28,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,27,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,6).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,6).onReset()&&l),l},null,null)),c.Ab(5,16384,null,0,Ft.D,[],null,null),c.Ab(6,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(8,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(9,0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,3,"label",[["class","w-100"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Select "])),(t()(),c.Bb(12,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(14,0,null,null,13,"select",[["class","form-control form-control-sm w-100"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,15).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,15).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.selectedndvi=e)&&l),"ngModelChange"===n&&(l=!1!==a.ndviChange()&&l),l},null,null)),c.Ab(15,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(17,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(19,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(20,0,null,null,3,"option",[["default","true"],["value","NDVI"]],null,null,null,null,null)),c.Ab(21,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(22,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["NDVI "])),(t()(),c.Bb(24,0,null,null,3,"option",[["value","NDVI Deviation"]],null,null,null,null,null)),c.Ab(25,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(26,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["NDVI Deviation "])),(t()(),c.Bb(28,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(30,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){t(n,17,0,"Source",n.component.selectedFilterParams.selectedndvi),t(n,21,0,"NDVI"),t(n,22,0,"NDVI"),t(n,25,0,"NDVI Deviation"),t(n,26,0,"NDVI Deviation")},function(t,n){t(n,4,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,14,0,c.Lb(n,19).ngClassUntouched,c.Lb(n,19).ngClassTouched,c.Lb(n,19).ngClassPristine,c.Lb(n,19).ngClassDirty,c.Lb(n,19).ngClassValid,c.Lb(n,19).ngClassInvalid,c.Lb(n,19).ngClassPending)})}function mm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-ndvi-sidebar",[],null,null,null,gm,pm)),c.Ab(1,245760,null,0,Ie,[T.a,O.a,De,D.a],null,null)],function(t,n){t(n,1,0)},null)}var bm=c.xb("app-ndvi-sidebar",Ie,mm,{},{},[]),fm=c.zb({encapsulation:0,styles:[[""]],data:{}});function ym(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","SwqHeatMapSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"SwqHeatMapSpinner",e.SwqHeatMapSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function vm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-surface-water-quality-map",[],null,null,null,ym,fm)),c.Ab(1,245760,null,0,nl,[b.a,O.a,tl],null,null)],function(t,n){t(n,1,0)},null)}var Cm=c.xb("app-surface-water-quality-map",nl,vm,{},{},[]),Sm=c.zb({encapsulation:0,styles:[[""]],data:{}});function Mm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function _m(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","row"],["mb-2",""]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","col-12 col-sm-12 col-lg "]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["NUMBER OF MONITORED STATIONS"])),(t()(),c.Bb(6,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(8,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Mm)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(11,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,10,0,null!=n.component.kpi.nRiv)},function(t,n){var e=n.component;t(n,8,0,null!=e.kpi.nRiv?e.kpi.nRiv:"- ")})}function Lm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function Om(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["PH"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Lm)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.ph)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.ph?e.kpi.ph:"- ")})}function Am(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function Tm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["DO"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Am)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.disOxygen)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.disOxygen?e.kpi.disOxygen:"- ")})}function Dm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function Pm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["BOD"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Dm)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.bod)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.bod?e.kpi.bod:"- ")})}function xm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function wm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["COD"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,xm)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.cod)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.cod?e.kpi.cod:"- ")})}function km(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function Im(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Conductivity"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,km)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.conductivity)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.conductivity?e.kpi.conductivity:"- ")})}function Em(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"b",[],null,null,null,null,null))],null,null)}function Nm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","col-12 col-sm-4 col-lg-4 mt-2 mt-md-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,8,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Tubidity"])),(t()(),c.Bb(5,0,null,null,5,"h5",[["class","info"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","value value-custom"]],null,null,null,null,null)),(t()(),c.Sb(7,null,["",""])),(t()(),c.sb(16777216,null,null,1,null,Em)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(10,0,null,null,0,"span",[["class","devider"]],null,null,null,null,null))],function(t,n){t(n,9,0,null!=n.component.kpi.nRiv)},function(t,n){var e=n.component;t(n,7,0,null!=e.kpi.turbidity?e.kpi.turbidity:"- ")})}function Fm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(3,null,["",""]))],function(t,n){t(n,1,0,c.Db(1,"",n.context.$implicit,"")),t(n,2,0,c.Db(1,"",n.context.$implicit,""))},function(t,n){t(n,3,0,n.context.$implicit)})}function Bm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-stackchart",[],null,null,null,jr,Vr)),c.Ab(1,638976,null,0,Rr,[],{options:[0,"options"]},null)],function(t,n){t(n,1,0,n.component.StationchartOptions)},null)}function Um(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,17,"div",[["class","card top-cards"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,12,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,11,"select",[["class","form-control col-md-12 mx-2 mt-2"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"change"===n&&(l=!1!==a.changeLevelChart()&&l),"ngModelChange"===n&&(l=!1!==(a.seletedChartType=e)&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(10,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(11,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select"])),(t()(),c.sb(16777216,null,null,1,null,Fm)),c.Ab(14,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(15,0,null,null,2,"div",[["class","card-body p-2"],["id","container"],["style","height: 400px; margin-top: 1em"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Bm)),c.Ab(17,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,6,0,e.seletedChartType),t(n,10,0,""),t(n,11,0,""),t(n,14,0,e.keys),t(n,17,0,e.showChart)},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function Rm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,5,"div",[["class","card top-cards"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,2,"div",[["class","card-body p-2"],["style","height: 120px"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h5",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available"]))],null,null)}function Vm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"lib-data-table",[["tableId","demoTable"],["tableType","dataTable"]],null,[[null,"onRowClick"]],function(t,n,e){var l=!0;return"onRowClick"===n&&(l=!1!==t.component.handleLocationClick(e)&&l),l},Gr.b,Gr.a)),c.Ab(1,770048,null,0,Yr.a,[Wr.a,b.a,il.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableNameForDownload:[2,"tableNameForDownload"],tableType:[3,"tableType"],tableId:[4,"tableId"],metaData:[5,"metaData"]},{onRowClick:"onRowClick"})],function(t,n){var e=n.component;t(n,1,0,e.tableConfiguration,e.tableData,e.tableNameForDownload,"dataTable","demoTable",e.metaData)},null)}function jm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,195,"table",[["class","table table-text-sm table-dark m-0 table-bordered text-dark text-left "]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,5,"thead",[],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Location"])),(t()(),c.Bb(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(6,null,["",""])),(t()(),c.Bb(7,0,null,null,188,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Field Determinations"])),(t()(),c.Bb(10,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Conductivity (mhos/cm)"])),(t()(),c.Bb(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(14,null,[" "," "])),(t()(),c.Bb(15,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Temperature C"])),(t()(),c.Bb(18,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(19,null,[" "," "])),(t()(),c.Bb(20,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["pH"])),(t()(),c.Bb(23,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(24,null,[" "," "])),(t()(),c.Bb(25,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(26,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["DissolvedO2 mg/l"])),(t()(),c.Bb(28,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(29,null,[" "," "])),(t()(),c.Bb(30,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(31,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Colour_Code"])),(t()(),c.Bb(33,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(34,null,[" "," "])),(t()(),c.Bb(35,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(36,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Odour_Code"])),(t()(),c.Bb(38,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(39,null,[" "," "])),(t()(),c.Bb(40,0,null,null,1,"h1",[["style","font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" General"])),(t()(),c.Bb(42,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(43,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["DO_SAT %"])),(t()(),c.Bb(45,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(46,null,[" "," "])),(t()(),c.Bb(47,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(48,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["TDS (mg/L)"])),(t()(),c.Bb(50,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(51,null,[" "," "])),(t()(),c.Bb(52,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Nutrients"])),(t()(),c.Bb(54,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(55,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Nitrate N + Nitrite N mg/l"])),(t()(),c.Bb(57,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(58,null,[" "," "])),(t()(),c.Bb(59,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Org Matter"])),(t()(),c.Bb(61,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(62,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["BOD mg/l"])),(t()(),c.Bb(64,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(65,null,[" "," "])),(t()(),c.Bb(66,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Hardness"])),(t()(),c.Bb(68,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(69,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Har_Ca (mgCaCO3/L)"])),(t()(),c.Bb(71,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(72,null,[" "," "])),(t()(),c.Bb(73,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(74,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Har_Total (mgCaCO3/L)"])),(t()(),c.Bb(76,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(77,null,[" "," "])),(t()(),c.Bb(78,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Major Ions"])),(t()(),c.Bb(80,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(81,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Ca (mg/L)"])),(t()(),c.Bb(83,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(84,null,[" "," "])),(t()(),c.Bb(85,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(86,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Mg (mg/L)"])),(t()(),c.Bb(88,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(89,null,[" "," "])),(t()(),c.Bb(90,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(91,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Na (mg/L)"])),(t()(),c.Bb(93,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(94,null,[" "," "])),(t()(),c.Bb(95,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(96,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["K (mg/L)"])),(t()(),c.Bb(98,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(99,null,[" "," "])),(t()(),c.Bb(100,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(101,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Cl (mg/L)"])),(t()(),c.Bb(103,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(104,null,[" "," "])),(t()(),c.Bb(105,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(106,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["SO4 (mg/L)"])),(t()(),c.Bb(108,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(109,null,[" "," "])),(t()(),c.Bb(110,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(111,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["CO3 (mg/L)"])),(t()(),c.Bb(113,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(114,null,[" "," "])),(t()(),c.Bb(115,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(116,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["RSC"])),(t()(),c.Bb(118,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(119,null,[" "," "])),(t()(),c.Bb(120,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(121,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Na%"])),(t()(),c.Bb(123,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(124,null,[" "," "])),(t()(),c.Bb(125,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(126,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["SAR"])),(t()(),c.Bb(128,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(129,null,[" "," "])),(t()(),c.Bb(130,0,null,null,1,"h1",[["style"," font-size: 20px;"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Other Inorganics"])),(t()(),c.Bb(132,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(133,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["F (mg/L)"])),(t()(),c.Bb(135,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(136,null,[" "," "])),(t()(),c.Bb(137,0,null,null,1,"h1",[["style"," font-size: 20px;"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Coliforms"])),(t()(),c.Bb(139,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(140,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Fecal Coliform MPN/100ML(Max)"])),(t()(),c.Bb(142,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(143,null,[" "," "])),(t()(),c.Bb(144,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(145,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Total Coliform MPN/100ML(Max)"])),(t()(),c.Bb(147,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(148,null,[" "," "])),(t()(),c.Bb(149,0,null,null,1,"h1",[["style"," font-size: 20px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Others"])),(t()(),c.Bb(151,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(152,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Alk-Phen (mgCaCO3/L)"])),(t()(),c.Bb(154,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(155,null,[" "," "])),(t()(),c.Bb(156,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(157,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["HCO3 (mg/L)"])),(t()(),c.Bb(159,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(160,null,[" "," "])),(t()(),c.Bb(161,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(162,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Alk-TOT (mgCaCO3/L)"])),(t()(),c.Bb(164,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(165,null,[" "," "])),(t()(),c.Bb(166,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(167,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["sodiumAbsRatio"])),(t()(),c.Bb(169,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(170,null,[" "," "])),(t()(),c.Bb(171,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(172,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["rsc"])),(t()(),c.Bb(174,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(175,null,[" "," "])),(t()(),c.Bb(176,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(177,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["alkalinity"])),(t()(),c.Bb(179,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(180,null,[" "," "])),(t()(),c.Bb(181,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(182,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["sulphate"])),(t()(),c.Bb(184,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(185,null,[" "," "])),(t()(),c.Bb(186,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(187,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["carbonate"])),(t()(),c.Bb(189,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(190,null,[" "," "])),(t()(),c.Bb(191,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),c.Bb(192,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["bicarbonate"])),(t()(),c.Bb(194,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(195,null,[" "," "]))],null,function(t,n){var e=n.component;t(n,6,0,e.stationData&&e.stationData[0].ln?e.stationData[0].ln:"-"),t(n,14,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.conductivity?e.stationData[0].swQuality.conductivity:"-"),t(n,19,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.temp?e.stationData[0].swQuality.temp:"-"),t(n,24,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.ph?e.stationData[0].swQuality.ph:"-"),t(n,29,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.disOxygen?e.stationData[0].swQuality.Oxygen:"-"),t(n,34,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.colour_cod?e.stationData[0].swQuality.colour_cod:"-"),t(n,39,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.odour_code?e.stationData[0].swQuality.odour_code:"-"),t(n,46,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.do_sat_percent?e.stationData[0].swQuality.do_sat_percent:"-"),t(n,51,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.tds?e.stationData[0].swQuality.tds:"-"),t(n,58,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.no2_no3?e.stationData[0].swQuality.no2_no3:"-"),t(n,65,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.bod?e.stationData[0].swQuality.bod:"-"),t(n,72,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.har_ca?e.stationData[0].swQuality.har_ca:"-"),t(n,77,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.har_total?e.stationData[0].swQuality.har_total:"-"),t(n,84,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.ca?e.stationData[0].swQuality.ca:"-"),t(n,89,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.mg?e.stationData[0].swQuality.mg:"-"),t(n,94,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.na?e.stationData[0].swQuality.na:"-"),t(n,99,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.k?e.stationData[0].swQuality.k:"-"),t(n,104,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.chloride?e.stationData[0].swQuality.chloride:"-"),t(n,109,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.sulphate?e.stationData[0].swQuality.sulphate:"-"),t(n,114,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.carbonate?e.stationData[0].swQuality.carbonate:"-"),t(n,119,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.rsc?e.stationData[0].swQuality.rsc:"-"),t(n,124,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.na_percent?e.stationData[0].swQuality.na_percent:"-"),t(n,129,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.sodiumAbsRatio?e.stationData[0].swQuality.sodiumAbsRatio:"-"),t(n,136,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.fluoride?e.stationData[0].swQuality.fluoride:"-"),t(n,143,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.fcol_mpn?e.stationData[0].swQuality.fcol_mpn:"-"),t(n,148,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.tcol_mpn?e.stationData[0].swQuality.tcol_mpn:"-"),t(n,155,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.alk_phen?e.stationData[0].swQuality.alk_phen:"-"),t(n,160,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.bicarbonate?e.stationData[0].swQuality.bicarbonate:"-"),t(n,165,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.alkalinity?e.stationData[0].swQuality.alkalinity:"-"),t(n,170,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.sodiumAbsRatio?e.stationData[0].swQuality.sodiumAbsRatio:"-"),t(n,175,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.rsc?e.stationData[0].swQuality.rsc:"-"),t(n,180,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.alkalinity?e.stationData.alkalinity:"-"),t(n,185,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.sulphate?e.stationData[0].swQuality.sulphate:"-"),t(n,190,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.carbonate?e.stationData[0].swQuality.carbonate:"-"),t(n,195,0,e.stationData&&e.stationData[0].swQuality&&e.stationData[0].swQuality.bicarbonate?e.stationData[0].swQuality.bicarbonate:"-")})}function Gm(t){return c.Ub(0,[c.Mb(0,m.B,[]),c.Qb(402653184,1,{_charts:0}),c.Qb(402653184,2,{wqChart:0}),(t()(),c.Bb(3,0,null,null,8,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,5,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Area of Focus: "])),(t()(),c.Bb(6,0,null,null,3,"b",[],null,null,null,null,null)),(t()(),c.Sb(7,null,[""," (",")"])),c.Ob(8,1),c.Ob(9,1),(t()(),c.Bb(10,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(11,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,34,"div",[["class","card-body info-box"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,0,"div",[["class","alert alert-warning mb-3 mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"app-visibility-breadcrumb",[],null,[[null,"eventEmitter"]],function(t,n,e){var l=!0;return"eventEmitter"===n&&(l=!1!==t.component.handleEventFromBreadcrumb(e)&&l),l},zr.b,zr.a)),c.Ab(15,638976,null,0,Hr.a,[],{inputData:[0,"inputData"]},{eventEmitter:"eventEmitter"}),(t()(),c.Bb(16,0,null,null,30,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,29,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,_m)),c.Ab(19,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(20,0,null,null,6,"div",[["class","row mb-4"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Om)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Tm)),c.Ab(24,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Pm)),c.Ab(26,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,wm)),c.Ab(29,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Im)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Nm)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Um)),c.Ab(35,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Rm)),c.Ab(37,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(38,0,null,null,8,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(39,0,null,null,7,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(40,0,null,null,6,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(41,0,null,null,1,"spinner",[["id","SWQTableSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(42,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.sb(16777216,null,null,1,null,Vm)),c.Ab(44,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,jm)),c.Ab(46,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,15,0,e.inputForBreadcrumb),t(n,19,0,!e.isStation),t(n,22,0,e.isStation),t(n,24,0,e.isStation),t(n,26,0,e.isStation),t(n,29,0,e.isStation),t(n,31,0,e.isStation),t(n,33,0,e.isStation),t(n,35,0,e.isStation&&e.isChartData),t(n,37,0,e.isStation&&!e.isChartData),t(n,42,0,"SWQTableSpinner",e.SWQTableSpinner),t(n,44,0,!e.isStation&&!e.isLastLevel&&null!=e.tableData&&e.tableData.length>0),t(n,46,0,e.isStation&&null!=e.stationData)},function(t,n){var e=n.component,l=c.Tb(n,7,0,t(n,8,0,c.Lb(n,0),e.selectedParams.locName)),a="SURFACEWATERQUALITY"==e.selectedParams.pType?"surfacewaterquality":c.Tb(n,7,1,t(n,9,0,c.Lb(n,0),e.selectedParams.pType));t(n,7,0,l,a),t(n,13,0,e.title?e.title:" Surface Water Quality Information")})}function Ym(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-surface-water-quality-infobox",[],null,null,null,Gm,Sm)),c.Ab(1,245760,null,0,Ke,[O.a,X,We,J.a,T.a,D.a],null,null)],function(t,n){t(n,1,0)},null)}var Wm=c.xb("app-surface-water-quality-infobox",Ke,Ym,{},{},[]),zm=c.zb({encapsulation:0,styles:[[""]],data:{}});function Hm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.NAME)})}function qm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Km(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function Xm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Jm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year is not selected"]))],null,null)}function $m(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Year"])),(t()(),c.Bb(3,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonYear=e)&&l),"ngModelChange"===n&&(l=!1!==a.onYearChange()&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Xm)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Jm)),c.Ab(12,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,6,0,"Year",e.selectedFilterParams.seasonYear),t(n,10,0,e.seasonYearList),t(n,12,0,!e.validation[4])},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function Qm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,0==n.context.$implicit.show),t(n,3,0,n.context.$implicit.value)})}function Zm(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season is not selected"]))],null,null)}function tb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Season"])),(t()(),c.Bb(3,0,null,null,11,"select",[["class","form-control form-control-sm"],["name","Season"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.seasonType=e)&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,3,"option",[["default","true"],["disabled",""],["value","null"]],null,null,null,null,null)),c.Ab(10,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(11,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Season "])),(t()(),c.sb(16777216,null,null,1,null,Qm)),c.Ab(14,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Zm)),c.Ab(16,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,6,0,"Season",e.selectedFilterParams.seasonType),t(n,10,0,"null"),t(n,11,0,"null"),t(n,14,0,e.seasonTypeList),t(n,16,0,!e.validation[5])},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function nb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,9,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Start"])),(t()(),c.Bb(3,0,null,null,6,"datepicker",[["class","datepicker"],["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"toChange"],[null,"disabledChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,4).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,9).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.format=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(4,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(6,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(9,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,4,0,"from",e.minDate,e.maxDate,e.selectedFilterParams.format,"Select from date",!e.selectedFilterParams.format,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,6,0,"from",!e.selectedFilterParams.format,e.selectedFilterParams.sDate.value)},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function eb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,9,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["End"])),(t()(),c.Bb(3,0,null,null,6,"datepicker",[["class","datepicker"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"disabledChange"],[null,"validationChange"],[null,"fromChange"],[null,"toChange"],[null,"calendarFormatChange"],[null,"minDateChange"],[null,"maxDateChange"],["document","click"],[null,"input"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,4).onClick(e)&&l),"input"===n&&(l=!1!==c.Lb(t,9).onInput(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"disabledChange"===n&&(l=0!=!(a.selectedFilterParams.sDate.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"fromChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"toChange"===n&&(l=!1!==(a.selectedFilterParams.eDate.value=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.selectedFilterParams.format=e)&&l),"minDateChange"===n&&(l=!1!==(a.selectedFilterParams.sDate.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),l},co.b,co.a)),c.Ab(4,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],disabled:[5,"disabled"],validation:[6,"validation"],from:[7,"from"],to:[8,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(6,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),c.Ab(9,16384,null,0,po.a,[Ft.p],null,null)],function(t,n){var e=n.component;t(n,4,0,"to",e.selectedFilterParams.sDate.value,e.maxDate,e.selectedFilterParams.format,"Select to date",!e.selectedFilterParams.sDate.value,e.validation,e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value),t(n,6,0,"to",!e.selectedFilterParams.sDate.value,e.selectedFilterParams.eDate.value)},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending)})}function lb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,71,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onViewChange(e)&&l),l},null,null)),(t()(),c.Bb(5,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Admin"])),(t()(),c.Bb(8,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Basin"])),(t()(),c.Bb(11,0,null,null,60,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,10,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location"])),(t()(),c.Bb(15,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,16).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,16).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),"ngModelChange"===n&&(l=!1!==a.onLocationChange()&&l),l},null,null)),c.Ab(16,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(18,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(20,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,Hm)),c.Ab(22,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(23,0,null,null,48,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,25).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,25).onReset()&&l),l},null,null)),c.Ab(24,16384,null,0,Ft.D,[],null,null),c.Ab(25,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(27,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(28,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(29,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source"])),(t()(),c.Bb(31,0,null,null,7,"select",[["class","form-control form-control-sm"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,32).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,32).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(32,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(34,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(36,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,qm)),c.Ab(38,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,Km)),c.Ab(40,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(41,0,null,null,19,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(42,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep"])),(t()(),c.Bb(44,0,null,null,16,"select",[["class","form-control form-control-sm"],["name","Timestep"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.onFormatChange(e.target.value)&&l),l},null,null)),(t()(),c.Bb(45,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(46,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(47,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Realtime"])),(t()(),c.Bb(49,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(50,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(51,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Daily"])),(t()(),c.Bb(53,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(54,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(55,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Monthly"])),(t()(),c.Bb(57,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(58,147456,null,0,Ft.u,[c.n,c.N,[8,null]],{value:[0,"value"]},null),c.Ab(59,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Yearly"])),(t()(),c.sb(16777216,null,null,1,null,$m)),c.Ab(62,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,tb)),c.Ab(64,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,nb)),c.Ab(66,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,eb)),c.Ab(68,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(69,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(70,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,18,0,"Source",e.selectedFilterParams.location),t(n,22,0,e.locationList),t(n,34,0,"Source",e.selectedFilterParams.source),t(n,38,0,e.sourceList),t(n,40,0,!e.validation[0]),t(n,46,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.Realtime,"")),t(n,47,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.Realtime,"")),t(n,50,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,51,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.DAY,"")),t(n,54,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,55,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.MONTH,"")),t(n,58,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,59,0,c.Db(1,"",e.constants.DATEPICKER_DATE_FORMAT.YEAR,"")),t(n,62,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,64,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.SEASON),t(n,66,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON&&e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.Realtime),t(n,68,0,e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.SEASON&&e.selectedFilterParams.format!=e.constants.DATEPICKER_DATE_FORMAT.Realtime)},function(t,n){var e=n.component;t(n,15,0,c.Lb(n,20).ngClassUntouched,c.Lb(n,20).ngClassTouched,c.Lb(n,20).ngClassPristine,c.Lb(n,20).ngClassDirty,c.Lb(n,20).ngClassValid,c.Lb(n,20).ngClassInvalid,c.Lb(n,20).ngClassPending),t(n,23,0,c.Lb(n,27).ngClassUntouched,c.Lb(n,27).ngClassTouched,c.Lb(n,27).ngClassPristine,c.Lb(n,27).ngClassDirty,c.Lb(n,27).ngClassValid,c.Lb(n,27).ngClassInvalid,c.Lb(n,27).ngClassPending),t(n,31,0,c.Lb(n,36).ngClassUntouched,c.Lb(n,36).ngClassTouched,c.Lb(n,36).ngClassPristine,c.Lb(n,36).ngClassDirty,c.Lb(n,36).ngClassValid,c.Lb(n,36).ngClassInvalid,c.Lb(n,36).ngClassPending),t(n,45,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.Realtime),t(n,49,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.DAY),t(n,53,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.MONTH),t(n,57,0,e.selectedFilterParams.format==e.constants.DATEPICKER_DATE_FORMAT.YEAR)})}function ab(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-surface-water-quality-sidebar",[],null,null,null,lb,zm)),c.Ab(1,245760,null,0,$e,[T.a,O.a,We,D.a],null,null)],function(t,n){t(n,1,0)},null)}var ib=c.xb("app-surface-water-quality-sidebar",$e,ab,{},{},[]),rb=c.zb({encapsulation:0,styles:[[".close[_ngcontent-%COMP%]   .tnw-close[_ngcontent-%COMP%]{font-size:.75rem}"]],data:{}});function ob(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (MCFT)"]))],null,null)}function sb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Dead Storage (MCFT)"]))],null,null)}function ub(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Full Storage (MCFT)"]))],null,null)}function cb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["FRL (m)"]))],null,null)}function hb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Warning Level (m)"]))],null,null)}function db(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Danger Level (m)"]))],null,null)}function pb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["High Flood Level (m)"]))],null,null)}function gb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.cap.toFixed(2),"0.0-2"));t(n,1,0,l)})}function mb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function bb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,gb)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,mb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.cap)&&(null==e.arData?null:e.arData.cap)>0),t(n,4,0,null==(null==e.arData?null:e.arData.cap)||(null==e.arData?null:e.arData.cap)<=0)},null)}function fb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.ds.toFixed(2),"0.0-2"));t(n,1,0,l)})}function yb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function vb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,fb)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,yb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.ds)&&(null==e.arData?null:e.arData.ds)>0),t(n,4,0,null==(null==e.arData?null:e.arData.ds)||(null==e.arData?null:e.arData.ds)<=0)},null)}function Cb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.fstcp.toFixed(2),"0.0-2"));t(n,1,0,l)})}function Sb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Mb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Cb)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Sb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.fstcp)&&(null==e.arData?null:e.arData.fstcp)>0),t(n,4,0,null==(null==e.arData?null:e.arData.fstcp)||(null==e.arData?null:e.arData.fstcp)<=0)},null)}function _b(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.frl,"0.0-2"));t(n,1,0,l)})}function Lb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Ob(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,_b)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Lb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.frl)&&(null==e.arData?null:e.arData.frl)>0),t(n,4,0,null==(null==e.arData?null:e.arData.frl)||(null==e.arData?null:e.arData.frl)<=0)},null)}function Ab(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,["",""])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.wl,"0.0-2"));t(n,1,0,l)})}function Tb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Db(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ab)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Tb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.wl)&&(null==e.arData?null:e.arData.wl)>0),t(n,4,0,null==(null==e.arData?null:e.arData.wl)||(null==e.arData?null:e.arData.wl)<=0)},null)}function Pb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.dl,"0.0-0"));t(n,1,0,l)})}function xb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function wb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Pb)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,xb)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.dl)&&(null==e.arData?null:e.arData.dl)>0),t(n,4,0,null==(null==e.arData?null:e.arData.dl)||(null==e.arData?null:e.arData.dl)<=0)},null)}function kb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.hfl,"0.0-0"));t(n,1,0,l)})}function Ib(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Eb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,kb)),c.Ab(2,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ib)),c.Ab(4,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,null!=(null==e.arData?null:e.arData.hfl)&&(null==e.arData?null:e.arData.hfl)>0),t(n,4,0,null==(null==e.arData?null:e.arData.hfl)||(null==e.arData?null:e.arData.hfl)<=0)},null)}function Nb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,["",""])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.arData?null:e.arData.cst,"0.0-2"));t(n,1,0,l)})}function Fb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Bb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,["",""])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.arData?null:e.arData.dn,"0.0-2"));t(n,1,0,l)})}function Ub(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Rb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Vb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function jb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,91,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,47,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,46,"table",[["class","table table-text-sm table-bordered"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,19,"thead",[],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,18,"tr",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ob)),c.Ab(6,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,sb)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ub)),c.Ab(10,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,cb)),c.Ab(12,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,hb)),c.Ab(14,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,db)),c.Ab(16,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,pb)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Time to Travel (Hrs)"])),(t()(),c.Bb(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Distance (Km)"])),(t()(),c.Bb(23,0,null,null,25,"tbody",[],null,null,null,null,null)),(t()(),c.Bb(24,0,null,null,24,"tr",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,bb)),c.Ab(26,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,vb)),c.Ab(28,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Mb)),c.Ab(30,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ob)),c.Ab(32,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Db)),c.Ab(34,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,wb)),c.Ab(36,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Eb)),c.Ab(38,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(39,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Nb)),c.Ab(41,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Fb)),c.Ab(43,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(44,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Bb)),c.Ab(46,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ub)),c.Ab(48,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(49,0,null,null,30,"div",[["class","d-flex justify-content-between mt-3 row"]],null,null,null,null,null)),(t()(),c.Bb(50,0,null,null,6,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(51,0,null,null,5,"datepicker",[["name","date"],["placeHolder","Select date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"maxDateChange"],[null,"minDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,52).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.currestartDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(52,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],from:[5,"from"],to:[6,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(54,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(56,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(57,0,null,null,9,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(58,0,null,null,8,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,59).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,59).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedCurrentModel=e)&&l),"ngModelChange"===n&&(l=!1!==a.currentChange(a.selectedEnsembleModel)&&l),l},null,null)),c.Ab(59,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(61,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(63,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,2,null,Rb)),c.Ab(65,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(67,0,null,null,3,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(68,0,null,null,2,"button",[["class","btn btn-warning"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.updateCurrentGraph()&&l),l},null,null)),(t()(),c.Bb(69,0,null,null,0,"i",[["class","fas fa-sync-alt mr-2"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Update "])),(t()(),c.Bb(71,0,null,null,8,"div",[["class","float-right mr-5"]],null,null,null,null,null)),(t()(),c.Bb(72,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(73,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.currtoggleFlowRainfall(e)&&l),l},null,null)),(t()(),c.Bb(74,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(75,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flow"])),(t()(),c.Bb(77,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(78,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Rainfall"])),(t()(),c.Bb(80,0,null,null,11,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(81,0,null,null,10,"div",[["class","card-container"]],null,null,null,null,null)),(t()(),c.Bb(82,0,null,null,9,"div",[["class","systemChart card-body w-100 p-0"]],null,null,null,null,null)),(t()(),c.Bb(83,0,null,null,1,"spinner",[],null,null,null,Ll.b,Ll.a)),c.Ab(84,638976,null,0,Ol.a,[Al.d],{show:[0,"show"]},null),(t()(),c.Bb(85,0,[[1,0],["forecastChartModal",1]],null,2,"div",[["style","width: auto;"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,Vb)),c.Ab(89,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,6,0,"RESERVOIR"==e.urlParams.pointType),t(n,8,0,"RESERVOIR"==e.urlParams.pointType),t(n,10,0,"RESERVOIR"==e.urlParams.pointType),t(n,12,0,"RESERVOIR"==e.urlParams.pointType),t(n,14,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,16,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,18,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,26,0,"RESERVOIR"==e.urlParams.pointType),t(n,28,0,"RESERVOIR"==e.urlParams.pointType),t(n,30,0,"RESERVOIR"==e.urlParams.pointType),t(n,32,0,"RESERVOIR"==e.urlParams.pointType),t(n,34,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,36,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,38,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,41,0,null!=(null==e.arData?null:e.arData.cst)&&(null==e.arData?null:e.arData.cst)>0),t(n,43,0,null==(null==e.arData?null:e.arData.cst)||(null==e.arData?null:e.arData.cst)<=0),t(n,46,0,null!=(null==e.arData?null:e.arData.dn)&&(null==e.arData?null:e.arData.dn)>0),t(n,48,0,null==(null==e.arData?null:e.arData.dn)||(null==e.arData?null:e.arData.dn)<=0),t(n,52,0,"date",e.minDate,e.maxDate,e.calender.value,"Select date",e.startDate,e.endDate),t(n,54,0,"date",e.currestartDate),t(n,61,0,e.selectedCurrentModel),t(n,65,0,c.Tb(n,65,0,c.Lb(n,66).transform(e.currentChartDropDownList))),t(n,84,0,e.forecastSpinner),t(n,89,0,c.Tb(n,89,0,c.Lb(n,90).transform(e.forecastChartData))==c.Tb(n,89,0,c.Lb(n,91).transform(c.ob))&&!e.forecastSpinner)},function(t,n){var e=n.component;t(n,51,0,c.Lb(n,56).ngClassUntouched,c.Lb(n,56).ngClassTouched,c.Lb(n,56).ngClassPristine,c.Lb(n,56).ngClassDirty,c.Lb(n,56).ngClassValid,c.Lb(n,56).ngClassInvalid,c.Lb(n,56).ngClassPending),t(n,58,0,c.Lb(n,63).ngClassUntouched,c.Lb(n,63).ngClassTouched,c.Lb(n,63).ngClassPristine,c.Lb(n,63).ngClassDirty,c.Lb(n,63).ngClassValid,c.Lb(n,63).ngClassInvalid,c.Lb(n,63).ngClassPending),t(n,85,0,c.Tb(n,85,0,c.Lb(n,86).transform(e.forecastChartData))==c.Tb(n,85,0,c.Lb(n,87).transform(c.ob))&&!e.forecastSpinner&&e.loadCurentChartData)})}function Gb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function Yb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","ensembleChartModal"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null)],function(t,n){t(n,1,0,"ensembleChartModal",n.component.ensembleSpinner)},null)}function Wb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function zb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,51,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,29,"div",[["class","d-flex justify-content-between mt-3 row"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"datepicker",[["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"maxDateChange"],[null,"minDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,4).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.ensembleFromDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maxDate=e)&&l),"minDateChange"===n&&(l=!1!==(a.minDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(4,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],from:[5,"from"],to:[6,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,6,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,5,"datepicker",[["class","form-control p-0"],["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"maxDateChange"],[null,"minDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,11).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.ensembleToDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"maxDateChange"===n&&(l=!1!==(a.ensembleTomaximumDate=e)&&l),"minDateChange"===n&&(l=!1!==(a.minimumDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(11,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],from:[5,"from"],to:[6,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(13,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(15,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(16,0,null,null,9,"div",[["class","form-group col"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,8,"select",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,18).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,18).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedEnsembleModel=e)&&l),"ngModelChange"===n&&(l=!1!==a.ensembleChange(a.selectedEnsembleModel)&&l),l},null,null)),c.Ab(18,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(20,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{model:[0,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(22,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,2,null,Gb)),c.Ab(24,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(26,0,null,null,4,"div",[["class","form-group col-auto"]],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,2,"button",[["class","btn btn-warning "]],[[8,"disabled",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.updateEnsembleGraph()&&l),l},null,null)),(t()(),c.Bb(29,0,null,null,0,"i",[["class","fas fa-sync-alt mr-2"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Update "])),(t()(),c.Bb(31,0,null,null,8,"div",[["class","float-right mr-5 tmb-20"]],null,null,null,null,null)),(t()(),c.Bb(32,0,null,null,7,"label",[["class","custom-switch"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,[[null,"change"]],function(t,n,e){var l=!0;return"change"===n&&(l=!1!==t.component.ensembleForecast(e)&&l),l},null,null)),(t()(),c.Bb(34,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(t()(),c.Bb(35,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flow"])),(t()(),c.Bb(37,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(t()(),c.Bb(38,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Rainfall"])),(t()(),c.Bb(40,0,null,null,11,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.Bb(41,0,null,null,10,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.Bb(42,0,null,null,9,"div",[["class","systemChart card-body w-100 p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Yb)),c.Ab(44,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(45,0,[[2,0],["ensembleChartModal",1]],null,2,"div",[["style","height:400px"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,Wb)),c.Ab(49,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,4,0,"from",e.minDate,e.maxDate,e.calender.value,"Select from date",e.startDate,e.endDate),t(n,6,0,"from",e.ensembleFromDate),t(n,11,0,"to",e.minimumDate,e.ensembleTomaximumDate,e.calender.value,"Select to date",e.startDate,e.endDate),t(n,13,0,"to",e.ensembleToDate),t(n,20,0,e.selectedEnsembleModel),t(n,24,0,c.Tb(n,24,0,c.Lb(n,25).transform(e.ensembleChartDropDownList))),t(n,44,0,e.ensembleSpinner),t(n,49,0,c.Tb(n,49,0,c.Lb(n,50).transform(e.ensembleChartData))==c.Tb(n,49,0,c.Lb(n,51).transform(c.ob))&&!e.ensembleSpinner)},function(t,n){var e=n.component;t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,10,0,c.Lb(n,15).ngClassUntouched,c.Lb(n,15).ngClassTouched,c.Lb(n,15).ngClassPristine,c.Lb(n,15).ngClassDirty,c.Lb(n,15).ngClassValid,c.Lb(n,15).ngClassInvalid,c.Lb(n,15).ngClassPending),t(n,17,0,c.Lb(n,22).ngClassUntouched,c.Lb(n,22).ngClassTouched,c.Lb(n,22).ngClassPristine,c.Lb(n,22).ngClassDirty,c.Lb(n,22).ngClassValid,c.Lb(n,22).ngClassInvalid,c.Lb(n,22).ngClassPending),t(n,28,0,e.updateButtonEnsemble),t(n,45,0,c.Tb(n,45,0,c.Lb(n,46).transform(e.ensembleChartData))==c.Tb(n,45,0,c.Lb(n,47).transform(c.ob)))})}function Hb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function qb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"div",[["class","systemChart card-body w-100 p-0"]],null,null,null,null,null)),(t()(),c.Bb(1,0,[[1,0],["forecastChartModal",1]],null,2,"div",[["style","width: auto;"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,Hb)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,5,0,c.Tb(n,5,0,c.Lb(n,6).transform(e.forecastChartData))==c.Tb(n,5,0,c.Lb(n,7).transform(c.ob))&&!e.forecastSpinner)},function(t,n){var e=n.component;t(n,1,0,c.Tb(n,1,0,c.Lb(n,2).transform(e.forecastChartData))==c.Tb(n,1,0,c.Lb(n,3).transform(c.ob))&&!e.forecastSpinner)})}function Kb(t){return c.Ub(0,[c.Mb(0,m.f,[c.z]),c.Qb(671088640,1,{forecastChartModal:0}),c.Qb(671088640,2,{ensembleChartModal:0}),(t()(),c.Bb(3,0,null,null,6,"div",[["class","modal-header d-flex"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,1,"h5",[["class","modal-title flex-fill"],["id","modal-basic-title"]],null,null,null,null,null)),(t()(),c.Sb(5,null,[" "," ( "," )"])),(t()(),c.Bb(6,0,null,null,1,"button",[["class","btn btn-sm btn-link btn-warning text-dark"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.downloadJPG()&&l),l},null,null)),(t()(),c.Bb(7,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(t()(),c.Bb(8,0,null,null,1,"button",[["aria-label","Close"],["class","close text-dark"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closeModal()&&l),l},null,null)),(t()(),c.Bb(9,0,null,null,0,"i",[["aria-hidden","true"],["class","icon tnw-close"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,6,"div",[["class","card-header py-1 d-flex align-items-center btn-group btn-group-warning border-0"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,2,"button",[["class","flex-fill forecastButton"],["style","font-size: 12px"]],[[8,"hidden",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleChart("current")&&l),l},null,null)),c.Ab(12,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["CURRENT FORECAST"])),(t()(),c.Bb(14,0,null,null,2,"button",[["class","flex-fill forecastButton"],["style","font-size: 12px"]],[[8,"hidden",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleChart("ensemble")&&l),l},null,null)),c.Ab(15,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["ENSEMBLE FORECAST"])),(t()(),c.Bb(17,0,null,null,10,"div",[["class","card bg-light overflow-hidden shadow-sm"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,9,"div",[["class","card-container"]],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,8,"div",[["class","card m-3"]],null,null,null,null,null)),(t()(),c.Bb(20,0,null,null,4,"div",[["class","card-body p-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,jb)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,zb)),c.Ab(24,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(25,0,null,null,2,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,qb)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,12,0,"flex-fill forecastButton","current"==e.inflowForecastChartType?"btn active":"btn btn-sm "),t(n,15,0,"flex-fill forecastButton","ensemble"==e.inflowForecastChartType?"btn active":"btn btn-sm"),t(n,22,0,"current"==e.inflowForecastChartType),t(n,24,0,"ensemble"==e.inflowForecastChartType),t(n,27,0,"rainfallForecast"==e.tabType&&null==e.selectedTab)},function(t,n){var e=n.component;t(n,5,0,e.pointData.name,e.pointData.basin),t(n,11,0,null==e.selectedTab),t(n,14,0,null==e.selectedTab)})}function Xb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-inflow-forecast-expand-chart-modal",[],null,null,null,Kb,rb)),c.Ab(1,114688,null,0,ul,[Ql.d,T.a,k.a],null,null)],function(t,n){t(n,1,0)},null)}var Jb=c.xb("app-inflow-forecast-expand-chart-modal",ul,Xb,{},{},[]),$b=c.zb({encapsulation:0,styles:[[""]],data:{}});function Qb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","inflowForecastSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),c.Bb(2,0,null,null,1,"app-gis-map",[],null,null,null,yr,ir)),c.Ab(3,4440064,null,0,X,[O.a,A.a,b.a,k.a,z,b.p,c.v,P.a,x.a,T.a,D.a,w.a],{layerList:[0,"layerList"],tableDataComponent:[1,"tableDataComponent"],sidebarComponent:[2,"sidebarComponent"],otherOptions:[3,"otherOptions"]},null)],function(t,n){var e=n.component;t(n,1,0,"inflowForecastSpinner",e.inflowForecastSpinner),t(n,3,0,e.layerList,e.tableDataComponent,e.sidebarComponent,e.otherOptions)},null)}function Zb(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-inflow-forecast-map",[],null,null,null,Qb,$b)),c.Ab(1,114688,null,0,dl,[b.a,T.a,O.a],null,null)],function(t,n){t(n,1,0)},null)}var tf=c.xb("app-inflow-forecast-map",dl,Zb,{},{},[]),nf=c.zb({encapsulation:0,styles:[[".font-size[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.advanced-filter[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function ef(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit)})}function lf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(3,null,[" "," "])),c.Ob(4,1)],function(t,n){t(n,1,0,n.context.$implicit.lUUID),t(n,2,0,n.context.$implicit.lUUID)},function(t,n){var e=c.Tb(n,3,0,t(n,4,0,c.Lb(n.parent,0),n.context.$implicit.ln));t(n,3,0,e)})}function af(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function rf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit)})}function of(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function sf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,3,0,n.context.$implicit)})}function uf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source is not selected"]))],null,null)}function cf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit),t(n,2,0,n.context.$implicit)},function(t,n){t(n,0,0,n.context.$implicit==n.component.selectedFilterParams.timestep),t(n,3,0,n.context.$implicit)})}function hf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,[" "," "]))],function(t,n){t(n,1,0,n.context.$implicit.locName+"##"+n.context.$implicit.locUUID+"##"+n.context.$implicit.pointType+"##"+n.context.$implicit.catchmentUUID),t(n,2,0,n.context.$implicit.locName+"##"+n.context.$implicit.locUUID+"##"+n.context.$implicit.pointType+"##"+n.context.$implicit.catchmentUUID)},function(t,n){t(n,3,0,n.context.$implicit.locName)})}function df(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,13,"select",[["class","form-control"],["name","reservoirs"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==a.selectedPoint(e)&&l),"ngModelChange"===n&&(l=!1!==(a.selectedPoints=e)&&l),l},null,null)),c.Ab(2,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(3,{"border-color":0}),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,3,"option",[["disabled",""],["selected",""],["value","undefined"]],null,null,null,null,null)),c.Ab(10,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(11,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(12,null,["Select ",""])),(t()(),c.sb(16777216,null,null,1,null,hf)),c.Ab(14,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component,l=t(n,3,0,e.validation[0]?"":"#e40e0e");t(n,2,0,l),t(n,6,0,"reservoirs",e.selectedPoints),t(n,10,0,"undefined"),t(n,11,0,"undefined"),t(n,14,0,e.reservoirRiverGaugeList)},function(t,n){var e=n.component;t(n,1,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,12,0,e.typeMapping[e.advanceOption])})}function pf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,25,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,10,"div",[["class","col-sm-12 col-lg-6"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,6,"input",[["checked","checked"],["class","form-check-input mt-2"],["id","reservoir"],["name","advanceOption"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,4)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,4)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,4)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,5).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,5).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.advanceOption=e)&&l),"change"===n&&(l=!1!==a.triggerAdvanceFilter(a.advanceOption)&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(5,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(7,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(9,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(10,0,null,null,1,"label",[["class","form-check-label"],["for","reservoir"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Reservoir "])),(t()(),c.Bb(12,0,null,null,10,"div",[["class","col-sm-12 col-lg-6"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,9,"div",[["class","form-check"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,6,"input",[["class","form-check-input mt-2"],["id","revergauge"],["name","advanceOption"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,a=t.component;return"input"===n&&(l=!1!==c.Lb(t,15)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,15).onTouched()&&l),"compositionstart"===n&&(l=!1!==c.Lb(t,15)._compositionStart()&&l),"compositionend"===n&&(l=!1!==c.Lb(t,15)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==c.Lb(t,16).onChange()&&l),"blur"===n&&(l=!1!==c.Lb(t,16).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.advanceOption=e)&&l),"change"===n&&(l=!1!==a.triggerAdvanceFilter(a.advanceOption)&&l),l},null,null)),c.Ab(15,16384,null,0,Ft.d,[c.N,c.n,[2,Ft.a]],null,null),c.Ab(16,212992,null,0,Ft.v,[c.N,c.n,Ft.E,c.v],{name:[0,"name"],value:[1,"value"]},null),c.Pb(1024,null,Ft.o,function(t,n){return[t,n]},[Ft.d,Ft.v]),c.Ab(18,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(20,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(21,0,null,null,1,"label",[["class","form-check-label"],["for","revergauge"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" River Gauge "])),(t()(),c.Bb(23,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,df)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,"advanceOption",1),t(n,7,0,"advanceOption",e.advanceOption),t(n,16,0,"advanceOption",0),t(n,18,0,"advanceOption",e.advanceOption),t(n,25,0,1==e.advanceOption||0==e.advanceOption)},function(t,n){t(n,3,0,c.Lb(n,9).ngClassUntouched,c.Lb(n,9).ngClassTouched,c.Lb(n,9).ngClassPristine,c.Lb(n,9).ngClassDirty,c.Lb(n,9).ngClassValid,c.Lb(n,9).ngClassInvalid,c.Lb(n,9).ngClassPending),t(n,14,0,c.Lb(n,20).ngClassUntouched,c.Lb(n,20).ngClassTouched,c.Lb(n,20).ngClassPristine,c.Lb(n,20).ngClassDirty,c.Lb(n,20).ngClassValid,c.Lb(n,20).ngClassInvalid,c.Lb(n,20).ngClassPending)})}function gf(t){return c.Ub(0,[c.Mb(0,m.B,[]),(t()(),c.Bb(1,0,null,null,111,"div",[["class","sidebar-option-container"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,0,"div",[["class","title"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,108,"div",[["class","body"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,16,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Location "])),(t()(),c.Bb(8,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(10,0,null,null,11,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,11).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,11).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.location=e)&&l),l},null,null)),c.Ab(11,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(13,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(15,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(16,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(17,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(18,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Location "])),(t()(),c.sb(16777216,null,null,1,null,ef)),c.Ab(21,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(22,0,null,null,90,"form",[["name","filterForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0;return"submit"===n&&(l=!1!==c.Lb(t,24).onSubmit(e)&&l),"reset"===n&&(l=!1!==c.Lb(t,24).onReset()&&l),l},null,null)),c.Ab(23,16384,null,0,Ft.D,[],null,null),c.Ab(24,4210688,null,0,Ft.s,[[8,null],[8,null]],null,null),c.Pb(2048,null,Ft.c,null,[Ft.s]),c.Ab(26,16384,null,0,Ft.r,[[4,Ft.c]],null,null),(t()(),c.Bb(27,0,null,null,20,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(28,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Basin "])),(t()(),c.Bb(30,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(32,0,null,null,13,"select",[["class","form-control"],["name","basin"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,35).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,35).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.basin=e)&&l),"ngModelChange"===n&&(l=!1!==a.changeBasin(e)&&l),l},null,null)),c.Ab(33,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(34,{"border-color":0}),c.Ab(35,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(37,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(39,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(40,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(41,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(42,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Basin "])),(t()(),c.sb(16777216,null,null,1,null,lf)),c.Ab(45,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,af)),c.Ab(47,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(48,0,null,null,20,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(49,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Model "])),(t()(),c.Bb(51,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(53,0,null,null,13,"select",[["class","form-control"],["name","Model"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,56).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,56).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.model=e)&&l),"ngModelChange"===n&&(l=!1!==a.onModelChange()&&l),l},null,null)),c.Ab(54,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(55,{"border-color":0}),c.Ab(56,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(58,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(60,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(61,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(62,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(63,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Model "])),(t()(),c.sb(16777216,null,null,1,null,rf)),c.Ab(66,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,of)),c.Ab(68,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(69,0,null,null,20,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(70,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Source "])),(t()(),c.Bb(72,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(74,0,null,null,13,"select",[["class","form-control"],["name","Source"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,77).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,77).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.source=e)&&l),"ngModelChange"===n&&(l=!1!==a.onSourceChange()&&l),l},null,null)),c.Ab(75,278528,null,0,m.t,[c.y,c.n,c.N],{ngStyle:[0,"ngStyle"]},null),c.Nb(76,{"border-color":0}),c.Ab(77,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(79,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(81,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(82,0,null,null,3,"option",[["default","true"],["disabled",""],["value",""]],null,null,null,null,null)),c.Ab(83,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(84,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["Select Source "])),(t()(),c.sb(16777216,null,null,1,null,sf)),c.Ab(87,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.sb(16777216,null,null,1,null,uf)),c.Ab(89,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(90,0,null,null,12,"div",[["class","form-group floating-label"]],null,null,null,null,null)),(t()(),c.Bb(91,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Timestep "])),(t()(),c.Bb(93,0,null,null,1,"span",[["class","mandatory-asterisk"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["*"])),(t()(),c.Bb(95,0,null,null,7,"select",[["class","form-control"],["name","timstep"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,96).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,96).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedFilterParams.timestep=e)&&l),l},null,null)),c.Ab(96,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(98,671744,null,0,Ft.t,[[2,Ft.c],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(100,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,1,null,cf)),c.Ab(102,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),(t()(),c.Bb(103,0,null,null,4,"div",[["class","mb-2 advanced-filter d-flex justify-content-center"]],null,null,null,null,null)),(t()(),c.Bb(104,0,null,null,3,"a",[["class","font-size text-decoration-none text-warning"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleAdvanceFilter()&&l),l},null,null)),(t()(),c.Sb(-1,null,["Advanced Filter "])),(t()(),c.Bb(106,0,null,null,1,"i",[["_ngcontent-twx-c28",""],["aria-hidden","true"],["class","bi bi-funnel-fill text-warning"]],null,null,null,null,null)),c.Ab(107,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.sb(16777216,null,null,1,null,pf)),c.Ab(109,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(110,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),c.Bb(111,0,null,null,1,"button",[["class","btn btn-warning btn-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.requestHeatMap(!0)&&l),l},null,null)),(t()(),c.Sb(-1,null,["SUBMIT"]))],function(t,n){var e=n.component;t(n,13,0,"Source",e.selectedFilterParams.location),t(n,17,0,""),t(n,18,0,""),t(n,21,0,e.locationList);var l=t(n,34,0,e.validation[0]?"":"#e40e0e");t(n,33,0,l),t(n,37,0,"basin",e.selectedFilterParams.basin),t(n,41,0,""),t(n,42,0,""),t(n,45,0,e.basinListDropdown),t(n,47,0,!e.validation[0]);var a=t(n,55,0,e.validation[0]?"":"#e40e0e");t(n,54,0,a),t(n,58,0,"Model",e.selectedFilterParams.model),t(n,62,0,""),t(n,63,0,""),t(n,66,0,e.modelDropdownList),t(n,68,0,!e.validation[0]);var i=t(n,76,0,e.validation[0]?"":"#e40e0e");t(n,75,0,i),t(n,79,0,"Source",e.selectedFilterParams.source),t(n,83,0,""),t(n,84,0,""),t(n,87,0,e.sourceDropdownList),t(n,89,0,!e.validation[0]),t(n,98,0,"timstep",e.selectedFilterParams.timestep),t(n,102,0,e.timestepDropdownlist),t(n,107,0,"bi bi-funnel-fill text-warning","text-primary"),t(n,109,0,e.isShowAdvanceFilter)},function(t,n){t(n,10,0,c.Lb(n,15).ngClassUntouched,c.Lb(n,15).ngClassTouched,c.Lb(n,15).ngClassPristine,c.Lb(n,15).ngClassDirty,c.Lb(n,15).ngClassValid,c.Lb(n,15).ngClassInvalid,c.Lb(n,15).ngClassPending),t(n,22,0,c.Lb(n,26).ngClassUntouched,c.Lb(n,26).ngClassTouched,c.Lb(n,26).ngClassPristine,c.Lb(n,26).ngClassDirty,c.Lb(n,26).ngClassValid,c.Lb(n,26).ngClassInvalid,c.Lb(n,26).ngClassPending),t(n,32,0,c.Lb(n,39).ngClassUntouched,c.Lb(n,39).ngClassTouched,c.Lb(n,39).ngClassPristine,c.Lb(n,39).ngClassDirty,c.Lb(n,39).ngClassValid,c.Lb(n,39).ngClassInvalid,c.Lb(n,39).ngClassPending),t(n,53,0,c.Lb(n,60).ngClassUntouched,c.Lb(n,60).ngClassTouched,c.Lb(n,60).ngClassPristine,c.Lb(n,60).ngClassDirty,c.Lb(n,60).ngClassValid,c.Lb(n,60).ngClassInvalid,c.Lb(n,60).ngClassPending),t(n,74,0,c.Lb(n,81).ngClassUntouched,c.Lb(n,81).ngClassTouched,c.Lb(n,81).ngClassPristine,c.Lb(n,81).ngClassDirty,c.Lb(n,81).ngClassValid,c.Lb(n,81).ngClassInvalid,c.Lb(n,81).ngClassPending),t(n,95,0,c.Lb(n,100).ngClassUntouched,c.Lb(n,100).ngClassTouched,c.Lb(n,100).ngClassPristine,c.Lb(n,100).ngClassDirty,c.Lb(n,100).ngClassValid,c.Lb(n,100).ngClassInvalid,c.Lb(n,100).ngClassPending)})}function mf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-inflow-forecast-sidebar",[],null,null,null,gf,nf)),c.Ab(1,245760,null,0,hl,[T.a,O.a,k.a],null,null)],function(t,n){t(n,1,0)},null)}var bf=c.xb("app-inflow-forecast-sidebar",hl,mf,{},{},[]),ff=e("flh0"),yf=e("CYUB"),vf=e("8gHh"),Cf=e("JKE8"),Sf=c.zb({encapsulation:0,styles:[[".highlight[_ngcontent-%COMP%]{background-color:#d3d3d3}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem;padding:.5rem;color:#fff;border-bottom:0;font-size:.75rem;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.5rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;font-size:.75rem;font-weight:400}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;padding:0;font-size:.75rem;font-weight:500}.bg-red[_ngcontent-%COMP%]{background:#e83e8c}.card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;padding-left:1rem}.card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .bi-arrow-left[_ngcontent-%COMP%]{font-size:1.5rem}.rainfalldrop[_ngcontent-%COMP%]{color:#000;margin-right:300px}"]],data:{}});function Mf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,11,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center justify-content-between"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,8,"nav",[["class","nav nav-pills nav-pills-warning nav-fill"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,2,"a",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleRiverGaugeReservoirs("riverGauges")&&l),l},null,null)),c.Ab(4,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{ngClass:[0,"ngClass"]},null),(t()(),c.Sb(-1,null,["River Gauges"])),(t()(),c.Bb(6,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),c.Bb(7,0,null,null,2,"a",[["class","nav-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleRiverGaugeReservoirs("reservoirs")&&l),l},null,null)),c.Ab(8,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c.Sb(-1,null,["Reservoirs"])),(t()(),c.Bb(10,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.closePanel()&&l),l},null,null)),(t()(),c.Bb(11,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,4,0,"RIVER_GAUGE"==e.reservoirRiverGuageSwitch?"nav-link active":"nav-link"),t(n,8,0,"nav-link","RESERVOIR"==e.reservoirRiverGuageSwitch?"nav-link active":"nav-link")},null)}function _f(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,4,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"button",[["class","btn icon-only btn-sidemenu-option-close"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.buttonBreadCrumb()&&l),l},null,null)),(t()(),c.Bb(2,0,null,null,0,"i",[["class","bi bi-arrow-left"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,1,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),c.Sb(4,null,["Area of Focus: "," (",")"]))],null,function(t,n){var e=n.component;t(n,4,0,e.clickProperties.name,e.clickProperties.basin)})}function Lf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.cap.toFixed(2),"0.0-2"));t(n,1,0,l)})}function Of(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Af(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Capacity (MCFT)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Lf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Of)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.cap)&&(null==e.arData?null:e.arData.cap)>0),t(n,7,0,null==(null==e.arData?null:e.arData.cap)||(null==e.arData?null:e.arData.cap)<=0)},null)}function Tf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.ds.toFixed(2),"0.0-2"));t(n,1,0,l)})}function Df(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Pf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Dead Storage (MCFT)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Tf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Df)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.ds)&&(null==e.arData?null:e.arData.ds)>0),t(n,7,0,null==(null==e.arData?null:e.arData.ds)||(null==e.arData?null:e.arData.ds)<=0)},null)}function xf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.fstcp.toFixed(2),"0.0-2"));t(n,1,0,l)})}function wf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function kf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Full Storage (MCFT)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,xf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,wf)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.fstcp)&&(null==e.arData?null:e.arData.fstcp)>0),t(n,7,0,null==(null==e.arData?null:e.arData.fstcp)||(null==e.arData?null:e.arData.fstcp)<=0)},null)}function If(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.frl,"0.0-2"));t(n,1,0,l)})}function Ef(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Nf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["FRL (m)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,If)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Ef)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.frl)&&(null==e.arData?null:e.arData.frl)>0),t(n,7,0,null==(null==e.arData?null:e.arData.frl)||(null==e.arData?null:e.arData.frl)<=0)},null)}function Ff(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Bf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Warning Level (m)"])),(t()(),c.Bb(3,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Ff)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null==(null==e.arData?null:e.arData.wl)||(null==e.arData?null:e.arData.wl)<=0)},null)}function Uf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.dl,"0.0-0"));t(n,1,0,l)})}function Rf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Vf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Danger Level (m)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Uf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Rf)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.dl)&&(null==e.arData?null:e.arData.dl)>0),t(n,7,0,null==(null==e.arData?null:e.arData.dl)||(null==e.arData?null:e.arData.dl)<=0)},null)}function jf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,[""," "])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent.parent,0),null==e.arData?null:e.arData.hfl,"0.0-0"));t(n,1,0,l)})}function Gf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Yf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["High Flood Level (m)"])),(t()(),c.Bb(3,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,jf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Gf)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,null!=(null==e.arData?null:e.arData.hfl)&&(null==e.arData?null:e.arData.hfl)>0),t(n,7,0,null==(null==e.arData?null:e.arData.hfl)||(null==e.arData?null:e.arData.hfl)<=0)},null)}function Wf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,["",""])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.arData?null:e.arData.cst,"0.0-2"));t(n,1,0,l)})}function zf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Hf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),c.Sb(1,null,["",""])),c.Ob(2,2)],null,function(t,n){var e=n.component,l=c.Tb(n,1,0,t(n,2,0,c.Lb(n.parent.parent,0),null==e.arData?null:e.arData.dn,"0.0-2"));t(n,1,0,l)})}function qf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["-"]))],null,null)}function Kf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,33,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,32,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,31,"table",[["class","table table-text-sm table-sm m-0 table-bordered text-nowrap"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,30,"tbody",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Af)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Pf)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,kf)),c.Ab(9,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Nf)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Bf)),c.Ab(13,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Vf)),c.Ab(15,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Yf)),c.Ab(17,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(18,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(19,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Time to Travel (Hrs)"])),(t()(),c.Bb(21,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Wf)),c.Ab(23,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,zf)),c.Ab(25,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(26,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),c.Bb(27,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Distance (Km)"])),(t()(),c.Bb(29,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Hf)),c.Ab(31,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,qf)),c.Ab(33,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,"RESERVOIR"==e.urlParams.pointType),t(n,7,0,"RESERVOIR"==e.urlParams.pointType),t(n,9,0,"RESERVOIR"==e.urlParams.pointType),t(n,11,0,"RESERVOIR"==e.urlParams.pointType),t(n,13,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,15,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,17,0,"RIVER_GAUGE"==e.urlParams.pointType),t(n,23,0,null!=(null==e.arData?null:e.arData.cst)&&(null==e.arData?null:e.arData.cst)>0),t(n,25,0,null==(null==e.arData?null:e.arData.cst)||(null==e.arData?null:e.arData.cst)<=0),t(n,31,0,null!=(null==e.arData?null:e.arData.dn)&&(null==e.arData?null:e.arData.dn)>0),t(n,33,0,null==(null==e.arData?null:e.arData.dn)||(null==e.arData?null:e.arData.dn)<=0)},null)}function Xf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,17,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,16,"div",[["class","row g-2"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,7,"div",[["class","col-12 col-lg-6 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,6,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Current Level (m)"])),(t()(),c.Bb(8,0,null,null,1,"h4",[["class","count"]],null,null,null,null,null)),(t()(),c.Sb(9,null,["",""])),(t()(),c.Bb(10,0,null,null,7,"div",[["class","col-12 col-lg-6 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,6,"div",[["class","card card-datatab-kpi h-100"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Current Flow (Cusecs)"])),(t()(),c.Bb(16,0,null,null,1,"h4",[["class","count"]],null,null,null,null,null)),(t()(),c.Sb(17,null,["",""]))],null,function(t,n){var e=n.component;t(n,9,0,e.currentFlowAndLevel.level||0==e.currentFlowAndLevel.level?e.currentFlowAndLevel.level:"-"),t(n,17,0,e.currentFlowAndLevel.flow||0==e.currentFlowAndLevel.flow?e.currentFlowAndLevel.flow:"-")})}function Jf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),c.Ab(1,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{ngValue:[0,"ngValue"]},null),c.Ab(2,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),c.Sb(3,null,["",""]))],function(t,n){t(n,1,0,n.context.$implicit.key),t(n,2,0,n.context.$implicit.key)},function(t,n){t(n,3,0,n.context.$implicit.value)})}function $f(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,[" Chart data is not available."]))],null,null)}function Qf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,22,"div",[["class","border border-secondary rounded"],["style","padding: 10px;"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,13,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,9,"div",[["class","form-group rainfalldrop"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,8,"select",[["class","form-control"],["name","rfSrc"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,4).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,4).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.selectedRainfallFilter=e)&&l),"ngModelChange"===n&&(l=!1!==a.rainfallChartTypeChanged()&&l),l},null,null)),c.Ab(4,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.sb(16777216,null,null,2,null,Jf)),c.Ab(10,278528,null,0,m.p,[c.Y,c.V,c.x],{ngForOf:[0,"ngForOf"]},null),c.Mb(0,m.j,[c.y]),(t()(),c.Bb(12,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(t()(),c.Bb(13,0,null,null,1,"button",[["class","btn bg-transparent shadow-none"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openRainfallInFull("rainfallForecast")&&l),l},null,null)),(t()(),c.Bb(14,0,null,null,0,"i",[["class","fas fa-expand"]],null,null,null,null,null)),(t()(),c.Bb(15,0,null,null,7,"div",[["class","systemChart card-body w-100 p-0"]],null,null,null,null,null)),(t()(),c.Bb(16,0,[[3,0],["forecastRainfall",1]],null,2,"div",[["style","height:400px"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,$f)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,6,0,"rfSrc",e.selectedRainfallFilter),t(n,10,0,c.Tb(n,10,0,c.Lb(n,11).transform(e.rainfallForecastdd))),t(n,20,0,c.Tb(n,20,0,c.Lb(n,21).transform(e.rainfallData))==c.Tb(n,20,0,c.Lb(n,22).transform(c.ob)))},function(t,n){var e=n.component;t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,16,0,c.Tb(n,16,0,c.Lb(n,17).transform(e.rainfallData))==c.Tb(n,16,0,c.Lb(n,18).transform(c.ob)))})}function Zf(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","forecastChartModal"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null)],function(t,n){t(n,1,0,"forecastChartModal",n.component.forecastSpinner)},null)}function ty(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function ny(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,22,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"datepicker",[["class","form-control p-0"],["name","date"],["placeHolder","Select date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"maxDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,4).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.currestartDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"maxDateChange"===n&&(l=!1!==(a.maximumDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(4,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],maxDate:[1,"maxDate"],calendarFormat:[2,"calendarFormat"],placeHolder:[3,"placeHolder"],validation:[4,"validation"],from:[5,"from"],to:[6,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,9,"select",[["class","form-control"],["name","vic"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,n,e){var l=!0,a=t.component;return"change"===n&&(l=!1!==c.Lb(t,11).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==c.Lb(t,11).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(a.dropdowntext=e)&&l),"change"===n&&(l=!1!==a.datatabDropdownList(e)&&l),l},null,null)),c.Ab(11,16384,null,0,Ft.y,[c.N,c.n],null,null),c.Pb(1024,null,Ft.o,function(t){return[t]},[Ft.y]),c.Ab(13,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(15,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(16,0,null,null,3,"option",[["value","hms_hybrid_flow1"]],null,null,null,null,null)),c.Ab(17,147456,null,0,Ft.u,[c.n,c.N,[2,Ft.y]],{value:[0,"value"]},null),c.Ab(18,147456,null,0,Ft.G,[c.n,c.N,[8,null]],{value:[0,"value"]},null),(t()(),c.Sb(-1,null,["HEC-HMS"])),(t()(),c.Bb(20,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,2,"button",[["class","btn btn-warning"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.updateCurrentGraph()&&l),l},null,null)),(t()(),c.Bb(22,0,null,null,0,"i",[["class","fas fa-sync-alt mr-2"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Update "])),(t()(),c.Bb(24,0,null,null,10,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.Bb(25,0,null,null,9,"div",[["class","systemChart card-body w-100 p-0"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Zf)),c.Ab(27,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(28,0,[[1,0],["forecastChartModal",1]],null,2,"div",[["style","width: 100%;"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,ty)),c.Ab(32,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,4,0,"date",e.maximumDate,e.calender.value,"Select date",e.validation,e.startDate,e.endDate),t(n,6,0,"date",e.currestartDate),t(n,13,0,"vic",e.dropdowntext),t(n,17,0,"hms_hybrid_flow1"),t(n,18,0,"hms_hybrid_flow1"),t(n,27,0,e.forecastSpinner),t(n,32,0,c.Tb(n,32,0,c.Lb(n,33).transform(e.forecastChartData))==c.Tb(n,32,0,c.Lb(n,34).transform(c.ob))&&!e.forecastSpinner)},function(t,n){var e=n.component;t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,10,0,c.Lb(n,15).ngClassUntouched,c.Lb(n,15).ngClassTouched,c.Lb(n,15).ngClassPristine,c.Lb(n,15).ngClassDirty,c.Lb(n,15).ngClassValid,c.Lb(n,15).ngClassInvalid,c.Lb(n,15).ngClassPending),t(n,28,0,c.Tb(n,28,0,c.Lb(n,29).transform(e.forecastChartData))==c.Tb(n,28,0,c.Lb(n,30).transform(c.ob)))})}function ey(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","ensembleChartModal"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null)],function(t,n){t(n,1,0,"ensembleChartModal",n.component.ensembleSpinner)},null)}function ly(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"div",[["class","p-4 text-center"],["style","color: indigo; height:400px"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Chart data is not available."]))],null,null)}function ay(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,10,"div",[["class","card-container mt-3"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,9,"div",[["class","systemChart card-body w-100"],["style","width:100px"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ey)),c.Ab(3,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(4,0,[[2,0],["ensembleChartModal",1]],null,2,"div",[["style","height:400px"]],[[8,"hidden",0]],null,null,null,null)),c.Mb(0,m.i,[]),c.Mb(0,m.i,[]),(t()(),c.sb(16777216,null,null,3,null,ly)),c.Ab(8,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),c.Mb(0,m.i,[]),c.Mb(0,m.i,[])],function(t,n){var e=n.component;t(n,3,0,e.ensembleSpinner),t(n,8,0,c.Tb(n,8,0,c.Lb(n,9).transform(e.ensembleChartData))==c.Tb(n,8,0,c.Lb(n,10).transform(c.ob))&&!e.ensembleSpinner)},function(t,n){var e=n.component;t(n,4,0,c.Tb(n,4,0,c.Lb(n,5).transform(e.ensembleChartData))==c.Tb(n,4,0,c.Lb(n,6).transform(c.ob)))})}function iy(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,22,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,6,"div",[["class","form-group col-sm-4"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,5,"datepicker",[["name","from"],["placeHolder","Select from date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"maxDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,4).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.ensembleFromDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"maxDateChange"===n&&(l=!1!==(a.ensembleFrommaximumDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(4,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],maxDate:[1,"maxDate"],calendarFormat:[2,"calendarFormat"],placeHolder:[3,"placeHolder"],validation:[4,"validation"],from:[5,"from"],to:[6,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(6,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(8,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(9,0,null,null,6,"div",[["class","form-group col-sm-4"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,5,"datepicker",[["name","to"],["placeHolder","Select to date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"calendarFormatChange"],[null,"validationChange"],[null,"maxDateChange"],[null,"minDateChange"],[null,"fromChange"],[null,"toChange"],["document","click"]],function(t,n,e){var l=!0,a=t.component;return"document:click"===n&&(l=!1!==c.Lb(t,11).onClick(e)&&l),"ngModelChange"===n&&(l=!1!==(a.ensembleToDate=e)&&l),"calendarFormatChange"===n&&(l=!1!==(a.calender.value=e)&&l),"validationChange"===n&&(l=!1!==(a.validation=e)&&l),"maxDateChange"===n&&(l=!1!==(a.ensembleFrommaximumDate=e)&&l),"minDateChange"===n&&(l=!1!==(a.minimumDate=e)&&l),"fromChange"===n&&(l=!1!==(a.startDate=e)&&l),"toChange"===n&&(l=!1!==(a.endDate=e)&&l),l},co.b,co.a)),c.Ab(11,638976,null,0,ho.a,[c.n,T.a],{name:[0,"name"],minDate:[1,"minDate"],maxDate:[2,"maxDate"],calendarFormat:[3,"calendarFormat"],placeHolder:[4,"placeHolder"],validation:[5,"validation"],from:[6,"from"],to:[7,"to"]},null),c.Pb(1024,null,Ft.o,function(t){return[t]},[ho.a]),c.Ab(13,671744,null,0,Ft.t,[[8,null],[8,null],[8,null],[6,Ft.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),c.Pb(2048,null,Ft.p,null,[Ft.t]),c.Ab(15,16384,null,0,Ft.q,[[4,Ft.p]],null,null),(t()(),c.Bb(16,0,null,null,4,"div",[["class","form-group col-sm-4"]],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),c.Bb(18,0,null,null,2,"button",[["class","btn btn-warning"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.updateEnsembleGraph()&&l),l},null,null)),(t()(),c.Bb(19,0,null,null,0,"i",[["class","fas fa-sync-alt mr-2"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Update "])),(t()(),c.sb(16777216,null,null,1,null,ay)),c.Ab(22,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,4,0,"from",e.ensembleFrommaximumDate,e.calender.value,"Select from date",e.validation,e.startDate,e.endDate),t(n,6,0,"from",e.ensembleFromDate),t(n,11,0,"to",e.minimumDate,e.ensembleFrommaximumDate,e.calender.value,"Select to date",e.validation,e.startDate,e.endDate),t(n,13,0,"to",e.ensembleToDate),t(n,22,0,2==e.tabType)},function(t,n){t(n,3,0,c.Lb(n,8).ngClassUntouched,c.Lb(n,8).ngClassTouched,c.Lb(n,8).ngClassPristine,c.Lb(n,8).ngClassDirty,c.Lb(n,8).ngClassValid,c.Lb(n,8).ngClassInvalid,c.Lb(n,8).ngClassPending),t(n,10,0,c.Lb(n,15).ngClassUntouched,c.Lb(n,15).ngClassTouched,c.Lb(n,15).ngClassPristine,c.Lb(n,15).ngClassDirty,c.Lb(n,15).ngClassValid,c.Lb(n,15).ngClassInvalid,c.Lb(n,15).ngClassPending)})}function ry(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,20,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,19,"div",[["class","card shadow-none bg-transparent border border-secondary rounded my-2"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,18,"div",[["class","card-body p-2"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,12,"div",[["class","card-header d-flex justify-content-between bg-transparent"]],null,null,null,null,null)),(t()(),c.Bb(4,0,null,null,6,"div",[["class","btn-group btn-group-warning"]],null,null,null,null,null)),(t()(),c.Bb(5,0,null,null,2,"button",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleForecast("current")&&l),l},null,null)),c.Ab(6,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{ngClass:[0,"ngClass"]},null),(t()(),c.Sb(-1,null,["Current Forecast"])),(t()(),c.Bb(8,0,null,null,2,"button",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleForecast("ensemble")&&l),l},null,null)),c.Ab(9,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{ngClass:[0,"ngClass"]},null),(t()(),c.Sb(-1,null,[" Ensemble Forecast"])),(t()(),c.Bb(11,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(t()(),c.Bb(12,0,null,null,1,"button",[["class","btn btn-sm btn-link text-dark btn-warning mr-2"],["data-bs-placement","bottom"],["data-bs-toggle","tooltip"],["title","Download"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.downloadJPG()&&l),l},null,null)),(t()(),c.Bb(13,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(t()(),c.Bb(14,0,null,null,1,"button",[["class","btn btn-sm btn-link text-dark btn-warning"],["data-bs-placement","bottom"],["data-bs-toggle","tooltip"],["title","Fullscreen"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.openInFullScreen()&&l),l},null,null)),(t()(),c.Bb(15,0,null,null,0,"i",[["class","fas fa-expand"]],null,null,null,null,null)),(t()(),c.Bb(16,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,ny)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,iy)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,6,0,1==e.tabType?"btn active":"btn btn-sm"),t(n,9,0,2==e.tabType?"btn active":"btn btn-sm"),t(n,18,0,1==e.tabType),t(n,20,0,2==e.tabType)},null)}function oy(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"spinner",[["id","widgetSpinner"]],null,null,null,Ll.b,Ll.a)),c.Ab(1,638976,null,0,Ol.a,[Al.d],{id:[0,"id"],show:[1,"show"]},null)],function(t,n){t(n,1,0,"widgetSpinner",n.component.widgetSpinner)},null)}function sy(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,84,"div",[],null,null,null,null,null)),(t()(),c.Bb(1,0,null,null,83,"div",[["class","card"]],null,null,null,null,null)),(t()(),c.Bb(2,0,null,null,82,"div",[["class","card-body p-2"]],null,null,null,null,null)),(t()(),c.Bb(3,0,null,null,75,"div",[["class","form-row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,oy)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(6,0,null,null,12,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("No.of Locations","",1)&&l),l},null,null)),c.Ab(7,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(8,{"card-hghlght":0}),(t()(),c.Bb(9,0,null,null,9,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(10,0,null,null,2,"div",[["class","card-header bg-secondary"]],null,null,null,null,null)),(t()(),c.Bb(11,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No.of Locations "])),(t()(),c.Bb(13,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(14,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(15,{highlight:0}),(t()(),c.Bb(16,0,null,null,0,"p",[],null,null,null,null,null)),(t()(),c.Bb(17,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(18,null,[" "," "])),(t()(),c.Bb(19,0,null,null,11,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("Severe Flood Warnings","severe_flood_warnings",2)&&l),l},null,null)),(t()(),c.Bb(20,0,null,null,10,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(21,0,null,null,2,"div",[["class","card-header bg-danger"]],null,null,null,null,null)),(t()(),c.Bb(22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Severe Flood Warnings "])),(t()(),c.Bb(24,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(25,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(26,{highlight:0}),(t()(),c.Bb(27,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["SEVERE FLOODING - DANGER TO LIFE"])),(t()(),c.Bb(29,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(30,null,[" "," "])),(t()(),c.Bb(31,0,null,null,11,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("Flood Warnings","flood_warnings",3)&&l),l},null,null)),(t()(),c.Bb(32,0,null,null,10,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(33,0,null,null,2,"div",[["class","card-header bg-orange"]],null,null,null,null,null)),(t()(),c.Bb(34,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flood Warnings "])),(t()(),c.Bb(36,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(37,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(38,{highlight:0}),(t()(),c.Bb(39,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flooding is Expected - Immediate Action required"])),(t()(),c.Bb(41,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(42,null,[" "," "])),(t()(),c.Bb(43,0,null,null,11,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("Flood Alerts","flood_alerts",4)&&l),l},null,null)),(t()(),c.Bb(44,0,null,null,10,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(45,0,null,null,2,"div",[["class","card-header bg-warning"]],null,null,null,null,null)),(t()(),c.Bb(46,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flood Alerts "])),(t()(),c.Bb(48,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(49,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(50,{highlight:0}),(t()(),c.Bb(51,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Flooding is possible - be prepared"])),(t()(),c.Bb(53,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(54,null,[" "," "])),(t()(),c.Bb(55,0,null,null,11,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("Warnings Ended","warnings_ended",5)&&l),l},null,null)),(t()(),c.Bb(56,0,null,null,10,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(57,0,null,null,2,"div",[["class","card-header bg-primary"]],null,null,null,null,null)),(t()(),c.Bb(58,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Warnings Ended "])),(t()(),c.Bb(60,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(61,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(62,{highlight:0}),(t()(),c.Bb(63,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["Warnings removed in last 24 hours"])),(t()(),c.Bb(65,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(66,null,[" "," "])),(t()(),c.Bb(67,0,null,null,11,"div",[["class","col-sm-12 col-lg-4 mb-2"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.getSummaryTableData("All Clear","all_clear",6)&&l),l},null,null)),(t()(),c.Bb(68,0,null,null,10,"div",[["class","card text-center card-statistic h-100"]],null,null,null,null,null)),(t()(),c.Bb(69,0,null,null,2,"div",[["class","card-header bg-success"]],null,null,null,null,null)),(t()(),c.Bb(70,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tint icon"]],null,null,null,null,null)),(t()(),c.Sb(-1,null,["All Clear "])),(t()(),c.Bb(72,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),c.Ab(73,278528,null,0,m.n,[c.x,c.y,c.n,c.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c.Nb(74,{highlight:0}),(t()(),c.Bb(75,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),c.Sb(-1,null,["No flood warnings and alerts"])),(t()(),c.Bb(77,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),c.Sb(78,null,[" "," "])),(t()(),c.Bb(79,0,null,null,5,"div",[["class","col-12 mb-2"]],null,null,null,null,null)),(t()(),c.Bb(80,0,null,null,4,"div",[["class","card-body px-2 py-0"]],null,null,null,null,null)),(t()(),c.Bb(81,0,null,null,3,"div",[["id","tabledatewise"]],null,null,null,null,null)),(t()(),c.Bb(82,0,null,null,2,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),c.Bb(83,0,null,null,1,"lib-data-table",[["tableType","dataTable"]],null,null,null,ff.b,ff.a)),c.Ab(84,770048,null,0,yf.a,[vf.a,Cf.a],{tableConfig:[0,"tableConfig"],data:[1,"data"],tableType:[2,"tableType"],tableId:[3,"tableId"]},null)],function(t,n){var e=n.component;t(n,5,0,e.widgetSpinner);var l=t(n,8,0,e.checkIfCardIsClicked(1));t(n,7,0,"col-sm-12 col-lg-4 mb-2",l);var a=t(n,15,0,e.checkIfCardIsClicked(1));t(n,14,0,"card-body",a);var i=t(n,26,0,e.checkIfCardIsClicked(2));t(n,25,0,"card-body",i);var r=t(n,38,0,e.checkIfCardIsClicked(3));t(n,37,0,"card-body",r);var o=t(n,50,0,e.checkIfCardIsClicked(4));t(n,49,0,"card-body",o);var s=t(n,62,0,e.checkIfCardIsClicked(5));t(n,61,0,"card-body",s);var u=t(n,74,0,e.checkIfCardIsClicked(6));t(n,73,0,"card-body",u),t(n,84,0,e.inflowForecastTableConsts.options,e.inflowForecastTableConsts.data,"dataTable",e.tableId)},function(t,n){var e=n.component;t(n,18,0,e.widgetData.numOfStations?e.widgetData.numOfStations:0),t(n,30,0,e.widgetData.severe_flood_warnings?e.widgetData.severe_flood_warnings:0),t(n,42,0,e.widgetData.flood_warnings?e.widgetData.flood_warnings:0),t(n,54,0,e.widgetData.flood_alerts?e.widgetData.flood_alerts:0),t(n,66,0,e.widgetData.warnings_ended?e.widgetData.warnings_ended:0),t(n,78,0,e.widgetData.all_clear?e.widgetData.all_clear:0)})}function uy(t){return c.Ub(0,[c.Mb(0,m.f,[c.z]),c.Qb(671088640,1,{forecastChartModal:0}),c.Qb(671088640,2,{ensembleChartModal:0}),c.Qb(671088640,3,{forecastRainfall:0}),(t()(),c.sb(16777216,null,null,1,null,Mf)),c.Ab(5,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,_f)),c.Ab(7,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(8,0,null,null,3,"div",[["class","col-12 "]],null,null,null,null,null)),(t()(),c.Bb(9,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Kf)),c.Ab(11,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,Xf)),c.Ab(13,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.Bb(14,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),c.sb(16777216,null,null,1,null,Qf)),c.Ab(16,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,ry)),c.Ab(18,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null),(t()(),c.sb(16777216,null,null,1,null,sy)),c.Ab(20,16384,null,0,m.q,[c.Y,c.V],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,5,0,!e.urlParams.clickPoint&&!e.urlParams.advanceFilters),t(n,7,0,(e.urlParams.clickPoint||e.urlParams.advanceFilters)&&""!=e.urlParams.lUUID),t(n,11,0,(e.urlParams.clickPoint||e.urlParams.advanceFilters)&&""!=e.urlParams.lUUID),t(n,13,0,(e.urlParams.clickPoint||e.urlParams.advanceFilters)&&""!=e.urlParams.lUUID),t(n,16,0,(e.urlParams.clickPoint||e.urlParams.advanceFilters)&&""!=e.urlParams.lUUID),t(n,18,0,(e.urlParams.clickPoint||e.urlParams.advanceFilters)&&""!=e.urlParams.lUUID),t(n,20,0,!e.urlParams.clickPoint&&!e.urlParams.advanceFilters)},null)}function cy(t){return c.Ub(0,[(t()(),c.Bb(0,0,null,null,1,"app-inflow-forecast-infobox",[],null,null,null,uy,Sf)),c.Ab(1,245760,null,0,cl,[k.a,O.a,T.a,Ql.C,il.a,F.a,k.a,X,T.a],null,null)],function(t,n){t(n,1,0)},null)}var hy=c.xb("app-inflow-forecast-infobox",cl,cy,{},{},[]),dy=e("I5r7"),py=e("xkgV"),gy=e("uBvM"),my=e("eDkP"),by=e("Fzqc"),fy=e("4tE/"),yy=e("M2Lx"),vy=e("Wf4p"),Cy=e("NJnL"),Sy=e("lqqz"),My=e("ARl4"),_y=e("0LeU"),Ly=e("LUGh"),Oy=e("dU2b"),Ay=e("sAfe"),Ty=e("dENO"),Dy=e("dWZg"),Py=e("4c35"),xy=e("qAlS"),wy=e("/VYK"),ky=e("seP3"),Iy=e("b716"),Ey=e("FpXt"),Ny=function(){return function(){}}(),Fy=e("1IPl"),By=e("WUO2"),Uy=e("Psxf"),Ry=e("xqne"),Vy=e("XnQA"),jy=e("Rb+X"),Gy=e("OgQW"),Yy=e("fKFW"),Wy=e("Jcvy"),zy=e("6fg7"),Hy=e("dEIs"),qy=e("I6yV"),Ky=e("FTix"),Xy=e("cZPp"),Jy=e("tIxg"),$y=e("t9UD"),Qy=e("E6Y+"),Zy=e("0ofK"),tv=e("Cc63"),nv=e("IL3j"),ev=e("ThRk"),lv=e("O6dt"),av=function(){return function(){}}(),iv=function(){return function(){}}(),rv=function(){return function(){}}(),ov=function(){return function(){}}(),sv=function(){return function(){}}(),uv=function(){return function(){}}(),cv=function(){return function(){}}(),hv=function(){return function(){}}(),dv=function(){return function(){}}(),pv=function(){return function(){}}(),gv=function(){return function(){}}(),mv=function(){return function(){}}(),bv=function(){return function(){}}(),fv=function(){return function(){}}(),yv=function(){return function(){}}(),vv=function(){return function(){}}();e.d(n,"VisibilityDashboardModuleNgFactory",function(){return Cv});var Cv=c.yb(h,[],function(t){return c.Ib([c.Jb(512,c.l,c.lb,[[8,[d.a,d.b,d.j,d.k,d.g,d.h,d.i,p.a,g.a,g.b,g.c,vl,Cl.a,Sl.a,Ml.a,_l.a,Mr,Dr,io,uo,_o,yu,Mu,Vu,ec,rc,pc,Ec,Uc,qc,uh,ph,Mh,kh,Fh,Gh,Hh,Qh,ed,yd,kd,Fd,jd,ap,sp,_p,Pp,Sg,Ag,xg,Hg,lm,om,dm,bm,Cm,Wm,ib,Jb,tf,bf,hy]],[3,c.l],c.D]),c.Jb(4608,m.s,m.r,[c.z,[2,m.L]]),c.Jb(4608,Ft.E,Ft.E,[]),c.Jb(4608,Ql.C,Ql.C,[c.l,c.v,Ql.sb,Ql.D]),c.Jb(4608,Ft.f,Ft.f,[]),c.Jb(4608,j.j,j.p,[m.d,c.I,j.n]),c.Jb(4608,j.q,j.q,[j.j,j.o]),c.Jb(5120,j.a,function(t){return[t]},[j.q]),c.Jb(4608,j.m,j.m,[]),c.Jb(6144,j.k,null,[j.m]),c.Jb(4608,j.i,j.i,[j.k]),c.Jb(6144,j.b,null,[j.i]),c.Jb(4608,j.f,j.l,[j.b,c.v]),c.Jb(4608,j.c,j.c,[j.f]),c.Jb(4608,dy.b,dy.b,[]),c.Jb(4608,py.e,py.e,[]),c.Jb(4608,gy.a,gy.a,[]),c.Jb(4608,vf.a,vf.a,[]),c.Jb(4608,my.a,my.a,[my.g,my.c,c.l,my.f,my.d,c.v,c.F,m.d,by.b,[2,m.l]]),c.Jb(5120,my.h,my.i,[my.a]),c.Jb(5120,fy.b,fy.c,[my.a]),c.Jb(4608,yy.c,yy.c,[]),c.Jb(4608,vy.b,vy.b,[]),c.Jb(4608,Cy.a,Cy.a,[c.O]),c.Jb(4608,Sy.a,Sy.a,[c.l,c.F,c.v,Cy.a,c.g]),c.Jb(4608,My.w,My.w,[]),c.Jb(4608,My.y,My.y,[]),c.Jb(4608,My.a,My.a,[]),c.Jb(4608,My.e,My.e,[]),c.Jb(4608,My.c,My.c,[]),c.Jb(4608,My.f,My.f,[]),c.Jb(4608,My.x,My.x,[My.y,My.f]),c.Jb(4608,_y.a,_y.a,[]),c.Jb(4608,Mi.d,Mi.d,[]),c.Jb(4608,Ly.a,Ly.a,[]),c.Jb(4608,m.e,m.e,[c.z]),c.Jb(6144,"CropdemandMapService",null,[f.a]),c.Jb(6144,"RainfallMapActualService",null,[vt.a]),c.Jb(6144,"GroundwaterMapService",null,[kt]),c.Jb(6144,"MitanksMapService",null,[jt]),c.Jb(6144,"ReservoirMapService",null,[nn.a]),c.Jb(6144,"RiverguageMapService",null,[Kn.a]),c.Jb(6144,"WaterAuditMapService",null,[oe]),c.Jb(6144,"SoilmoistureMapService",null,[pn]),c.Jb(6144,"DomesticdemandMapService",null,[Mn]),c.Jb(6144,"IndustrialdemandMapService",null,[En]),c.Jb(6144,"EvapotranspirationMapService",null,[Le]),c.Jb(6144,"NdviMapService",null,[Fe]),c.Jb(6144,"SurfaceWaterQualityMapService",null,[tl]),c.Jb(6144,"InflowForecastMapService",null,[z]),c.Jb(1073742336,m.c,m.c,[]),c.Jb(1073742336,Al.b,Al.b,[]),c.Jb(1073742336,Ql.c,Ql.c,[]),c.Jb(1073742336,Ql.g,Ql.g,[]),c.Jb(1073742336,Ql.h,Ql.h,[]),c.Jb(1073742336,Ql.l,Ql.l,[]),c.Jb(1073742336,Ql.m,Ql.m,[]),c.Jb(1073742336,Ft.A,Ft.A,[]),c.Jb(1073742336,Ft.l,Ft.l,[]),c.Jb(1073742336,Ql.s,Ql.s,[]),c.Jb(1073742336,Ql.y,Ql.y,[]),c.Jb(1073742336,Ql.E,Ql.E,[]),c.Jb(1073742336,Ql.I,Ql.I,[]),c.Jb(1073742336,Ql.L,Ql.L,[]),c.Jb(1073742336,Ql.O,Ql.O,[]),c.Jb(1073742336,Ql.R,Ql.R,[]),c.Jb(1073742336,Ql.X,Ql.X,[]),c.Jb(1073742336,Ql.bb,Ql.bb,[]),c.Jb(1073742336,Ql.eb,Ql.eb,[]),c.Jb(1073742336,Ql.fb,Ql.fb,[]),c.Jb(1073742336,Ql.F,Ql.F,[]),c.Jb(1073742336,Ft.w,Ft.w,[]),c.Jb(1073742336,j.e,j.e,[]),c.Jb(1073742336,j.d,j.d,[]),c.Jb(1073742336,b.r,b.r,[[2,b.x],[2,b.p]]),c.Jb(1073742336,My.d,My.d,[]),c.Jb(1073742336,xr.b,xr.b,[]),c.Jb(1073742336,dy.a,dy.a,[]),c.Jb(1073742336,py.a,py.a,[]),c.Jb(1073742336,Oy.a,Oy.a,[]),c.Jb(1073742336,Ay.a,Ay.a,[]),c.Jb(1073742336,Ty.a,Ty.a,[]),c.Jb(1073742336,Oo.c,Oo.c,[]),c.Jb(1073742336,by.a,by.a,[]),c.Jb(1073742336,vy.j,vy.j,[[2,vy.c],[2,Ds.g]]),c.Jb(1073742336,Dy.b,Dy.b,[]),c.Jb(1073742336,vy.t,vy.t,[]),c.Jb(1073742336,vy.r,vy.r,[]),c.Jb(1073742336,vy.o,vy.o,[]),c.Jb(1073742336,Py.b,Py.b,[]),c.Jb(1073742336,xy.b,xy.b,[]),c.Jb(1073742336,my.e,my.e,[]),c.Jb(1073742336,fy.e,fy.e,[]),c.Jb(1073742336,wy.c,wy.c,[]),c.Jb(1073742336,yy.d,yy.d,[]),c.Jb(1073742336,ky.d,ky.d,[]),c.Jb(1073742336,Iy.b,Iy.b,[]),c.Jb(1073742336,Ey.a,Ey.a,[]),c.Jb(1073742336,Ny,Ny,[]),c.Jb(1073742336,Fy.a,Fy.a,[]),c.Jb(1073742336,J.a,J.a,[]),c.Jb(1073742336,By.a,By.a,[]),c.Jb(1073742336,Uy.a,Uy.a,[]),c.Jb(1073742336,Ry.a,Ry.a,[]),c.Jb(1073742336,Mi.c,Mi.c,[]),c.Jb(1073742336,Vy.a,Vy.a,[]),c.Jb(1073742336,jy.a,jy.a,[]),c.Jb(1073742336,Gy.a,Gy.a,[]),c.Jb(1073742336,Yy.a,Yy.a,[]),c.Jb(1073742336,Wy.a,Wy.a,[]),c.Jb(1073742336,zy.a,zy.a,[]),c.Jb(1073742336,$l.i,$l.i,[]),c.Jb(1073742336,Hy.a,Hy.a,[]),c.Jb(1073742336,qy.a,qy.a,[]),c.Jb(1073742336,Ky.a,Ky.a,[]),c.Jb(1073742336,Xy.a,Xy.a,[]),c.Jb(1073742336,Jy.a,Jy.a,[]),c.Jb(1073742336,$y.a,$y.a,[]),c.Jb(1073742336,Qy.a,Qy.a,[]),c.Jb(1073742336,Bl.a,Bl.a,[]),c.Jb(1073742336,jl.a,jl.a,[]),c.Jb(1073742336,Zy.a,Zy.a,[]),c.Jb(1073742336,oa.b,oa.b,[]),c.Jb(1073742336,tv.a,tv.a,[]),c.Jb(1073742336,nv.a,nv.a,[]),c.Jb(1073742336,ev.a,ev.a,[]),c.Jb(1073742336,lv.a,lv.a,[]),c.Jb(1073742336,av,av,[]),c.Jb(1073742336,iv,iv,[]),c.Jb(1073742336,rv,rv,[]),c.Jb(1073742336,ov,ov,[]),c.Jb(1073742336,sv,sv,[]),c.Jb(1073742336,uv,uv,[]),c.Jb(1073742336,cv,cv,[]),c.Jb(1073742336,hv,hv,[]),c.Jb(1073742336,dv,dv,[]),c.Jb(1073742336,pv,pv,[]),c.Jb(1073742336,gv,gv,[]),c.Jb(1073742336,mv,mv,[]),c.Jb(1073742336,bv,bv,[]),c.Jb(1073742336,fv,fv,[]),c.Jb(1073742336,yv,yv,[]),c.Jb(1073742336,vv,vv,[]),c.Jb(1073742336,h,h,[]),c.Jb(256,j.n,"XSRF-TOKEN",[]),c.Jb(256,j.o,"X-XSRF-TOKEN",[]),c.Jb(256,Oo.d,Oo.e,[]),c.Jb(256,Al.h,{fgsType:"ball-spin",overlayColor:"rgba(255,255,255,0.5)",fgsSize:40,pbThickness:2,hasProgressBar:!1,pbColor:"#0000FF"},[]),c.Jb(1024,b.n,function(){return[[],[{path:"",component:pl}],[],[],[{path:"",redirectTo:"actualweather/cropdemand",pathMatch:"full"},{path:"",children:[{path:"actualweather/cropdemand",component:lt}]}],[{path:"",redirectTo:"actualweather/rainfall-actual",pathMatch:"full"},{path:"",children:[{path:"actualweather/rainfall-actual",component:Ct}]}],[{path:"",redirectTo:"actualweather/groundwater",pathMatch:"full"},{path:"",children:[{path:"actualweather/groundwater",component:It}]}],[{path:"",redirectTo:"actualweather/mitanks",pathMatch:"full"},{path:"",children:[{path:"actualweather/mitanks",component:qt}]}],[{path:"",redirectTo:"actualweather/reservoir",pathMatch:"full"},{path:"",children:[{path:"actualweather/reservoir",component:en}]}],[{path:"",redirectTo:"actualweather/rivergauge",pathMatch:"full"},{path:"",children:[{path:"actualweather/rivergauge",component:Xn}]}],[{path:"",redirectTo:"actualweather/wateraudit",pathMatch:"full"},{path:"",children:[{path:"actualweather/wateraudit",component:se}]}],[{path:"",redirectTo:"actualweather/soilmoisture",pathMatch:"full"},{path:"",children:[{path:"actualweather/soilmoisture",component:gn}]}],[{path:"",redirectTo:"actualweather/domesticdemand",pathMatch:"full"},{path:"",children:[{path:"actualweather/domesticdemand",component:On}]}],[{path:"",redirectTo:"actualweather/industrialdemand",pathMatch:"full"},{path:"",children:[{path:"actualweather/industrialdemand",component:Bn}]}],[{path:"kaleshwaram/visibility/waterSpread",component:cg}],[{path:"",redirectTo:"actualweather/evapotranspiration",pathMatch:"full"},{path:"",children:[{path:"actualweather/evapotranspiration",component:Oe}]}],[{path:"",redirectTo:"actualweather/ndvi",pathMatch:"full"},{path:"",children:[{path:"actualweather/ndvi",component:Be}]}],[{path:"",redirectTo:"actualweather/surfacewaterquality",pathMatch:"full"},{path:"",children:[{path:"actualweather/surfacewaterquality",component:nl}]}],[{path:"",redirectTo:"actualweather/rainfall-actual",pathMatch:"full"},{path:"",children:[{path:"actualweather/rainfall-actual",component:Ct}]}]]},[]),c.Jb(256,$l.b,{default:$l.a,config:{}},[])])})},"B/RK":function(t,n,e){"use strict";var l=e("vn/o");function a(t){for(var n=t.length;--n>=0;)t[n]=0}var i=0,r=256,o=r+1+29,s=30,u=19,c=2*o+1,h=15,d=16,p=256,g=16,m=17,b=18,f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(o+2));a(S);var M=new Array(2*s);a(M);var _=new Array(512);a(_);var L=new Array(256);a(L);var O=new Array(29);a(O);var A,T,D,P=new Array(s);function x(t,n,e,l,a){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=l,this.max_length=a,this.has_stree=t&&t.length}function w(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}function k(t){return t<256?_[t]:_[256+(t>>>7)]}function I(t,n){t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255}function E(t,n,e){t.bi_valid>d-e?(t.bi_buf|=n<<t.bi_valid&65535,I(t,t.bi_buf),t.bi_buf=n>>d-t.bi_valid,t.bi_valid+=e-d):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)}function N(t,n,e){E(t,e[2*n],e[2*n+1])}function F(t,n){var e=0;do{e|=1&t,t>>>=1,e<<=1}while(--n>0);return e>>>1}function B(t,n,e){var l,a,i=new Array(h+1),r=0;for(l=1;l<=h;l++)i[l]=r=r+e[l-1]<<1;for(a=0;a<=n;a++){var o=t[2*a+1];0!==o&&(t[2*a]=F(i[o]++,o))}}function U(t){var n;for(n=0;n<o;n++)t.dyn_ltree[2*n]=0;for(n=0;n<s;n++)t.dyn_dtree[2*n]=0;for(n=0;n<u;n++)t.bl_tree[2*n]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function R(t){t.bi_valid>8?I(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function V(t,n,e,l){var a=2*n,i=2*e;return t[a]<t[i]||t[a]===t[i]&&l[n]<=l[e]}function j(t,n,e){for(var l=t.heap[e],a=e<<1;a<=t.heap_len&&(a<t.heap_len&&V(n,t.heap[a+1],t.heap[a],t.depth)&&a++,!V(n,l,t.heap[a],t.depth));)t.heap[e]=t.heap[a],e=a,a<<=1;t.heap[e]=l}function G(t,n,e){var l,a,i,o,s=0;if(0!==t.last_lit)do{l=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],a=t.pending_buf[t.l_buf+s],s++,0===l?N(t,a,n):(N(t,(i=L[a])+r+1,n),0!==(o=f[i])&&E(t,a-=O[i],o),N(t,i=k(--l),e),0!==(o=y[i])&&E(t,l-=P[i],o))}while(s<t.last_lit);N(t,p,n)}function Y(t,n){var e,l,a,i=n.dyn_tree,r=n.stat_desc.static_tree,o=n.stat_desc.has_stree,s=n.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=c,e=0;e<s;e++)0!==i[2*e]?(t.heap[++t.heap_len]=u=e,t.depth[e]=0):i[2*e+1]=0;for(;t.heap_len<2;)i[2*(a=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[a]=0,t.opt_len--,o&&(t.static_len-=r[2*a+1]);for(n.max_code=u,e=t.heap_len>>1;e>=1;e--)j(t,i,e);a=s;do{e=t.heap[1],t.heap[1]=t.heap[t.heap_len--],j(t,i,1),l=t.heap[1],t.heap[--t.heap_max]=e,t.heap[--t.heap_max]=l,i[2*a]=i[2*e]+i[2*l],t.depth[a]=(t.depth[e]>=t.depth[l]?t.depth[e]:t.depth[l])+1,i[2*e+1]=i[2*l+1]=a,t.heap[1]=a++,j(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,n){var e,l,a,i,r,o,s=n.dyn_tree,u=n.max_code,d=n.stat_desc.static_tree,p=n.stat_desc.has_stree,g=n.stat_desc.extra_bits,m=n.stat_desc.extra_base,b=n.stat_desc.max_length,f=0;for(i=0;i<=h;i++)t.bl_count[i]=0;for(s[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<c;e++)(i=s[2*s[2*(l=t.heap[e])+1]+1]+1)>b&&(i=b,f++),s[2*l+1]=i,l>u||(t.bl_count[i]++,r=0,l>=m&&(r=g[l-m]),t.opt_len+=(o=s[2*l])*(i+r),p&&(t.static_len+=o*(d[2*l+1]+r)));if(0!==f){do{for(i=b-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[b]--,f-=2}while(f>0);for(i=b;0!==i;i--)for(l=t.bl_count[i];0!==l;)(a=t.heap[--e])>u||(s[2*a+1]!==i&&(t.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),l--)}}(t,n),B(i,u,t.bl_count)}function W(t,n,e){var l,a,i=-1,r=n[1],o=0,s=7,u=4;for(0===r&&(s=138,u=3),n[2*(e+1)+1]=65535,l=0;l<=e;l++)a=r,r=n[2*(l+1)+1],++o<s&&a===r||(o<u?t.bl_tree[2*a]+=o:0!==a?(a!==i&&t.bl_tree[2*a]++,t.bl_tree[2*g]++):o<=10?t.bl_tree[2*m]++:t.bl_tree[2*b]++,o=0,i=a,0===r?(s=138,u=3):a===r?(s=6,u=3):(s=7,u=4))}function z(t,n,e){var l,a,i=-1,r=n[1],o=0,s=7,u=4;for(0===r&&(s=138,u=3),l=0;l<=e;l++)if(a=r,r=n[2*(l+1)+1],!(++o<s&&a===r)){if(o<u)do{N(t,a,t.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(N(t,a,t.bl_tree),o--),N(t,g,t.bl_tree),E(t,o-3,2)):o<=10?(N(t,m,t.bl_tree),E(t,o-3,3)):(N(t,b,t.bl_tree),E(t,o-11,7));o=0,i=a,0===r?(s=138,u=3):a===r?(s=6,u=3):(s=7,u=4)}}a(P);var H=!1;function q(t,n,e,a){E(t,(i<<1)+(a?1:0),3),function(t,n,e,a){R(t),I(t,e),I(t,~e),l.arraySet(t.pending_buf,t.window,n,e,t.pending),t.pending+=e}(t,n,e)}n._tr_init=function(t){H||(function(){var t,n,e,l,a,i=new Array(h+1);for(e=0,l=0;l<28;l++)for(O[l]=e,t=0;t<1<<f[l];t++)L[e++]=l;for(L[e-1]=l,a=0,l=0;l<16;l++)for(P[l]=a,t=0;t<1<<y[l];t++)_[a++]=l;for(a>>=7;l<s;l++)for(P[l]=a<<7,t=0;t<1<<y[l]-7;t++)_[256+a++]=l;for(n=0;n<=h;n++)i[n]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,i[8]++;for(;t<=255;)S[2*t+1]=9,t++,i[9]++;for(;t<=279;)S[2*t+1]=7,t++,i[7]++;for(;t<=287;)S[2*t+1]=8,t++,i[8]++;for(B(S,o+1,i),t=0;t<s;t++)M[2*t+1]=5,M[2*t]=F(t,5);A=new x(S,f,r+1,o,h),T=new x(M,y,0,s,h),D=new x(new Array(0),v,0,u,7)}(),H=!0),t.l_desc=new w(t.dyn_ltree,A),t.d_desc=new w(t.dyn_dtree,T),t.bl_desc=new w(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,U(t)},n._tr_stored_block=q,n._tr_flush_block=function(t,n,e,l){var a,i,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var n,e=4093624447;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(n=32;n<r;n++)if(0!==t.dyn_ltree[2*n])return 1;return 0}(t)),Y(t,t.l_desc),Y(t,t.d_desc),o=function(t){var n;for(W(t,t.dyn_ltree,t.l_desc.max_code),W(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),n=u-1;n>=3&&0===t.bl_tree[2*C[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n}(t),(i=t.static_len+3+7>>>3)<=(a=t.opt_len+3+7>>>3)&&(a=i)):a=i=e+5,e+4<=a&&-1!==n?q(t,n,e,l):4===t.strategy||i===a?(E(t,2+(l?1:0),3),G(t,S,M)):(E(t,4+(l?1:0),3),function(t,n,e,l){var a;for(E(t,n-257,5),E(t,e-1,5),E(t,l-4,4),a=0;a<l;a++)E(t,t.bl_tree[2*C[a]+1],3);z(t,t.dyn_ltree,n-1),z(t,t.dyn_dtree,e-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),G(t,t.dyn_ltree,t.dyn_dtree)),U(t),l&&R(t)},n._tr_tally=function(t,n,e){return t.pending_buf[t.d_buf+2*t.last_lit]=n>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&n,t.pending_buf[t.l_buf+t.last_lit]=255&e,t.last_lit++,0===n?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(L[e]+r+1)]++,t.dyn_dtree[2*k(n)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){E(t,2,3),N(t,p,S),function(t){16===t.bi_valid?(I(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},CzIQ:function(t,n,e){"use strict";function l(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}l.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=l},Dyft:function(t,n,e){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var l=new ArrayBuffer(0);try{n.blob=0===new Blob([l],{type:"application/zip"}).size}catch(i){try{var a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);a.append(l),n.blob=0===a.getBlob("application/zip").size}catch(i){n.blob=!1}}}},GZc8:function(t,n,e){"use strict";var l=e("qMe+");function a(t,n){if(!(this instanceof a))return new a(t,n);this.files={},this.comment=null,this.root="",t&&this.load(t,n),this.clone=function(){var t=new a;for(var n in this)"function"!=typeof this[n]&&(t[n]=this[n]);return t}}(a.prototype=e("a5XB")).load=e("mfCZ"),a.support=e("Dyft"),a.defaults=e("p8uC"),a.utils=e("eaNQ"),a.base64={encode:function(t){return l.encode(t)},decode:function(t){return l.decode(t)}},a.compressions=e("iQUn"),t.exports=a},HuDP:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Mixins/IndicatorRequired.js",[t["Core/Utilities.js"]],function(t){var n=t.error;return{isParentLoaded:function(t,e,l,a,i){return t?!a||a(t):(n(i||this.generateMessage(l,e)),!1)},generateMessage:function(t,n){return'Error: "'+t+'" indicator type requires "'+n+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+t}}}),n(t,"Stock/Indicators/SMAIndicator.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Mixins/IndicatorRequired.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=t.seriesTypes,i=l.addEvent,r=l.error,o=l.extend,s=l.isArray,u=l.pick,c=l.splat,h=n.Series,d=a.ohlc.prototype,p=e.generateMessage;i(n.Series,"init",function(t){(t=t.options).useOhlcData&&"highcharts-navigator-series"!==t.id&&o(this,{pointValKey:d.pointValKey,keys:d.keys,pointArrayMap:d.pointArrayMap,toYData:d.toYData})}),i(h,"afterSetOptions",function(t){var n=(t=t.options).dataGrouping;n&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(n.approximation="ohlc")}),t.seriesType("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var t=this.options.compareToMain,n=this.linkedParent;h.prototype.processData.apply(this,arguments),n&&n.compareValue&&t&&(this.compareValue=n.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(n){a[n]?a[n].prototype.requireIndicators():(t.allLoaded=!1,t.needed=n)}),t},init:function(t,n){function e(){var t=l.points||[],n=(l.xData||[]).length,e=l.getValues(l.linkedParent,l.options.params)||{values:[],xData:[],yData:[]},a=[],i=!0;if(n&&!l.hasGroupedData&&l.visible&&l.points)if(l.cropped){if(l.xAxis)var r=l.xAxis.min,o=l.xAxis.max;for(n=l.cropData(e.xData,e.yData,r,o),r=0;r<n.xData.length;r++)a.push([n.xData[r]].concat(c(n.yData[r])));n=e.xData.indexOf(l.xData[0]),r=e.xData.indexOf(l.xData[l.xData.length-1]),-1===n&&r===e.xData.length-2&&a[0][0]===t[0].x&&a.shift(),l.updateData(a)}else e.xData.length!==n-1&&e.xData.length!==n+1&&(i=!1,l.updateData(e.values));i&&(l.xData=e.xData,l.yData=e.yData,l.options.data=e.values),!1===l.bindTo.series&&(delete l.processedXData,l.isDirty=!0,l.redraw()),l.isDirtyData=!1}var l=this,a=l.requireIndicators();if(!a.allLoaded)return r(p(l.type,a.needed));if(h.prototype.init.call(l,t,n),t.linkSeries(),l.dataEventsToUnbind=[],!l.linkedParent)return r("Series "+l.options.linkedTo+" not found! Check `linkedTo`.",!1,t);if(l.dataEventsToUnbind.push(i(l.bindTo.series?l.linkedParent:l.linkedParent.xAxis,l.bindTo.eventName,e)),"init"===l.calculateOn)e();else var o=i(l.chart,l.calculateOn,function(){e(),o()});return l},getName:function(){var t=this.name,n=[];return t||((this.nameComponents||[]).forEach(function(t,e){n.push(this.options.params[t]+u(this.nameSuffixes[e],""))},this),t=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+n.join(", ")+")":"")),t},getValues:function(t,n){var e=n.period,l=t.xData,a=(t=t.yData).length,i=0,r=0,o=[],u=[],c=[],h=-1;if(!(l.length<e)){for(s(t[0])&&(h=n.index?n.index:0);i<e-1;)r+=0>h?t[i]:t[i][h],i++;for(n=i;n<a;n++){var d=[l[n],(r+=0>h?t[n]:t[n][h])/e];o.push(d),u.push(d[0]),c.push(d[1]),r-=0>h?t[n-i]:t[n-i][h]}return{values:o,xData:u,yData:c}}},destroy:function(){this.dataEventsToUnbind.forEach(function(t){t()}),h.prototype.destroy.apply(this,arguments)}})}),n(t,"masters/indicators/indicators.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F"),e("N9ju")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},IIQG:function(t,n,e){"use strict";var l=e("7irK"),a=e("Z2WY"),i=e("1y+q"),r=e("Ua6E"),o=e("dBNe"),s=e("cfuv"),u=e("ybsz"),c=e("Dyft");function h(t,n){this.files=[],this.loadOptions=n,t&&this.load(t)}e("a5XB"),h.prototype={checkSignature:function(t){var n=this.reader.readString(4);if(n!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(n)+", expected "+o.pretty(t)+")")},isSignature:function(t,n){var e=this.reader.index;this.reader.setIndex(t);var l=this.reader.readString(4)===n;return this.reader.setIndex(e),l},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),n=o.transformTo(c.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,n,e,l=this.zip64EndOfCentralSize-44;0<l;)t=this.reader.readInt(2),n=this.reader.readInt(4),e=this.reader.readString(n),this.zip64ExtensibleData[t]={id:t,length:n,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,n;for(t=0;t<this.files.length;t++)this.reader.setIndex((n=this.files[t]).localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===s.CENTRAL_FILE_HEADER;)(t=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var n=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var l=n-e;if(l>0)this.isSignature(n,s.CENTRAL_FILE_HEADER)||(this.reader.zero=l);else if(l<0)throw new Error("Corrupted zip: missing "+Math.abs(l)+" bytes.")},prepareReader:function(t){var n=o.getTypeOf(t);if(o.checkSupport(n),"string"!==n||c.uint8array)if("nodebuffer"===n)this.reader=new a(t);else if(c.uint8array)this.reader=new i(o.transformTo("uint8array",t));else{if(!c.array)throw new Error("Unexpected error: unsupported type '"+n+"'");this.reader=new r(o.transformTo("array",t))}else this.reader=new l(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},IZ5B:function(t,n,e){"use strict";var l=e("3j3K");function a(){}var i={},r=["REJECTED"],o=["FULFILLED"],s=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,t!==a&&p(this,t)}function c(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function h(t,n,e){l(function(){var l;try{l=n(e)}catch(a){return i.reject(t,a)}l===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,l)})}function d(t){var n=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof n)return function(){n.apply(t,arguments)}}function p(t,n){var e=!1;function l(n){e||(e=!0,i.reject(t,n))}function a(n){e||(e=!0,i.resolve(t,n))}var r=g(function(){n(a,l)});"error"===r.status&&l(r.value)}function g(t,n){var e={};try{e.value=t(n),e.status="success"}catch(l){e.status="error",e.value=l}return e}t.exports=u,u.prototype.finally=function(t){if("function"!=typeof t)return this;var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,n){if("function"!=typeof t&&this.state===o||"function"!=typeof n&&this.state===r)return this;var e=new this.constructor(a);return this.state!==s?h(e,this.state===o?t:n,this.outcome):this.queue.push(new c(e,t,n)),e},c.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){i.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},i.resolve=function(t,n){var e=g(d,n);if("error"===e.status)return i.reject(t,e.value);var l=e.value;if(l)p(t,l);else{t.state=o,t.outcome=n;for(var a=-1,r=t.queue.length;++a<r;)t.queue[a].callFulfilled(n)}return t},i.reject=function(t,n){t.state=r,t.outcome=n;for(var e=-1,l=t.queue.length;++e<l;)t.queue[e].callRejected(n);return t},u.resolve=function(t){return t instanceof this?t:i.resolve(new this(a),t)},u.reject=function(t){var n=new this(a);return i.reject(n,t)},u.all=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,l=!1;if(!e)return this.resolve([]);for(var r=new Array(e),o=0,s=-1,u=new this(a);++s<e;)c(t[s],s);return u;function c(t,a){n.resolve(t).then(function(t){r[a]=t,++o!==e||l||(l=!0,i.resolve(u,r))},function(t){l||(l=!0,i.reject(u,t))})}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,e=!1;if(!n)return this.resolve([]);for(var l=-1,r=new this(a);++l<n;)this.resolve(t[l]).then(function(t){e||(e=!0,i.resolve(r,t))},function(t){e||(e=!0,i.reject(r,t))});return r}},LOvY:function(t,n,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},MQ6a:function(t,n,e){"use strict";var l=e("p5/s");l.default&&(l=l.default);var a=e("UiC3"),i=e("m0vG"),r=e("NlTZ"),o=e("zrwd"),s=e("IZ5B"),u=e("38aT"),c=e("tjlA").Buffer,h=new u({max:20});function d(t){if(!t)throw new Error("forgot to pass buffer");return c.isBuffer(t)?t:t instanceof global.ArrayBuffer?c.from(t):t.buffer instanceof global.ArrayBuffer?c.from(1===t.BYTES_PER_ELEMENT?t:t.buffer):void 0}function p(t,n){return"string"==typeof t&&h.has(t)?s.resolve(h.get(t)):p.getShapefile(t,n).then(function(n){return"string"==typeof t&&h.set(t,n),n})}p.combine=function(t){for(var n={type:"FeatureCollection",features:[]},e=0,l=t[0].length;e<l;)n.features.push({type:"Feature",geometry:t[0][e],properties:t[1][e]}),e++;return n},p.parseZip=function(t,n){var e;t=d(t);var i=a(t),s=[];for(e in n=n||[],i)-1===e.indexOf("__MACOSX")&&("shp"===e.slice(-3).toLowerCase()?(s.push(e.slice(0,-4)),i[e.slice(0,-3)+e.slice(-3).toLowerCase()]=i[e]):"prj"===e.slice(-3).toLowerCase()?i[e.slice(0,-3)+e.slice(-3).toLowerCase()]=l(i[e]):"json"===e.slice(-4).toLowerCase()||n.indexOf(e.split(".").pop())>-1?s.push(e.slice(0,-3)+e.slice(-3).toLowerCase()):"dbf"!==e.slice(-3).toLowerCase()&&"cpg"!==e.slice(-3).toLowerCase()||(i[e.slice(0,-3)+e.slice(-3).toLowerCase()]=i[e]));if(!s.length)throw new Error("no layers founds");var u=s.map(function(t){var e,l,a=t.lastIndexOf(".");return a>-1&&t.slice(a).indexOf("json")>-1?(e=JSON.parse(i[t])).fileName=t.slice(0,a):n.indexOf(t.slice(a+1))>-1?(e=i[t]).fileName=t:(i[t+".dbf"]&&(l=o(i[t+".dbf"],i[t+".cpg"])),(e=p.combine([r(i[t+".shp"],i[t+".prj"]),l])).fileName=t),e});return 1===u.length?u[0]:u},p.getShapefile=function(t,n){return"string"==typeof t?".zip"===t.slice(-4).toLowerCase()?function(t,n){return i(t).then(function(t){return p.parseZip(t,n)})}(t,n):s.all([s.all([i(t+".shp"),i(t+".prj")]).then(function(t){var n=!1;try{t[1]&&(n=l(t[1]))}catch(e){n=!1}return r(t[0],n)}),s.all([i(t+".dbf"),i(t+".cpg")]).then(function(t){return o(t[0],t[1])})]).then(p.combine):new s(function(n){n(p.parseZip(t))})},p.parseShp=function(t,n){if(t=d(t),c.isBuffer(n)&&(n=n.toString()),"string"==typeof n)try{n=l(n)}catch(e){n=!1}return r(t,n)},p.parseDbf=function(t,n){return t=d(t),o(t,n)},t.exports=p},N9ju:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Core/Axis/NavigatorAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n){var e=t.isTouchDevice,l=n.addEvent,a=n.correctFloat,i=n.defined,r=n.isNumber,o=n.pick,s=function(){function t(t){this.axis=t}return t.prototype.destroy=function(){this.axis=void 0},t.prototype.toFixedRange=function(t,n,e,l){var s=this.axis,u=s.chart;u=u&&u.fixedRange;var c=(s.pointRange||0)/2;return t=o(e,s.translate(t,!0,!s.horiz)),n=o(l,s.translate(n,!0,!s.horiz)),s=u&&(n-t)/u,i(e)||(t=a(t+c)),i(l)||(n=a(n-c)),.7<s&&1.3>s&&(l?t=n-u:n=t+u),r(t)&&r(n)||(t=n=void 0),{min:t,max:n}},t}();return function(){function t(){}return t.compose=function(t){t.keepProps.push("navigatorAxis"),l(t,"init",function(){this.navigatorAxis||(this.navigatorAxis=new s(this))}),l(t,"zoom",function(t){var n=this.chart.options,l=n.navigator,a=this.navigatorAxis,r=n.chart.pinchType,o=n.rangeSelector;n=n.chart.zoomType,this.isXAxis&&(l&&l.enabled||o&&o.enabled)&&("y"===n?t.zoomed=!1:(!e&&"xy"===n||e&&"xy"===r)&&this.options.range&&(l=a.previousZoom,i(t.newMin)?a.previousZoom=[this.min,this.max]:l&&(t.newMin=l[0],t.newMax=l[1],a.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()})},t.AdditionsClass=s,t}()}),n(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n){var e=n.addEvent,l=n.defined,a=n.pick;return function(){function n(){}return n.compose=function(n,i){e(n,"afterInit",function(){var n=this;n.options&&n.options.scrollbar&&n.options.scrollbar.enabled&&(n.options.scrollbar.vertical=!n.horiz,n.options.startOnTick=n.options.endOnTick=!1,n.scrollbar=new i(n.chart.renderer,n.options.scrollbar,n.chart),e(n.scrollbar,"changed",function(e){var i=a(n.options&&n.options.min,n.min),r=a(n.options&&n.options.max,n.max),o=l(n.dataMin)?Math.min(i,n.min,n.dataMin):i,s=(l(n.dataMax)?Math.max(r,n.max,n.dataMax):r)-o;l(i)&&l(r)&&(n.horiz&&!n.reversed||!n.horiz&&n.reversed?(i=o+s*this.to,o+=s*this.from):(i=o+s*(1-this.from),o+=s*(1-this.to)),a(this.options.liveRedraw,t.svg&&!t.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===e.DOMType||!l(e.DOMType)?n.setExtremes(o,i,!0,"mousemove"!==e.DOMType,e):this.setRange(this.from,this.to))}))}),e(n,"afterRender",function(){var t=Math.min(a(this.options.min,this.min),this.min,a(this.dataMin,this.min)),n=Math.max(a(this.options.max,this.max),this.max,a(this.dataMax,this.max)),e=this.scrollbar,i=this.axisTitleMargin+(this.titleOffset||0),r=this.chart.scrollbarsOffsets,o=this.options.margin||0;e&&(this.horiz?(this.opposite||(r[1]+=i),e.position(this.left,this.top+this.height+2+r[1]-(this.opposite?o:0),this.width,this.height),this.opposite||(r[1]+=o),i=1):(this.opposite&&(r[0]+=i),e.position(this.left+this.width+2+r[0]-(this.opposite?0:o),this.top,this.width,this.height),this.opposite&&(r[0]+=o),i=0),r[i]+=e.size+e.options.margin,isNaN(t)||isNaN(n)||!l(this.min)||!l(this.max)||this.min===this.max?e.setRange(0,1):(r=(this.min-t)/(n-t),t=(this.max-t)/(n-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(r,t):e.setRange(1-t,1-r)))}),e(n,"afterGetOffset",function(){var t=this.horiz?2:1,n=this.scrollbar;n&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=n.size+n.options.margin)})},n}()}),n(t,"Core/Scrollbar.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Core/Utilities.js"],t["Core/Options.js"]],function(t,n,e,l,a){var i=l.addEvent,r=l.correctFloat,o=l.defined,s=l.destroyObjectProperties,u=l.fireEvent,c=l.merge,h=l.pick,d=l.removeEvent;l=a.defaultOptions;var p=n.hasTouch,g=n.isTouchDevice,m=n.swapXY=function(t,n){return n&&t.forEach(function(t){for(var n,e=t.length,l=0;l<e;l+=2)"number"==typeof(n=t[l+1])&&(t[l+1]=t[l+2],t[l+2]=n)}),t};return a=function(){function t(t,n,e){this._events=[],this.from=this.chartY=this.chartX=0,this.scrollbar=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions={},this.y=this.x=0,this.chart=e,this.options=n,this.renderer=e.renderer,this.init(t,n,e)}return t.prototype.addEvents=function(){var t=this.options.inverted?[1,0]:[0,1],n=this.scrollbarButtons,e=this.scrollbarGroup.element,l=this.track.element,a=this.mouseDownHandler.bind(this),r=this.mouseMoveHandler.bind(this),o=this.mouseUpHandler.bind(this);t=[[n[t[0]].element,"click",this.buttonToMinClick.bind(this)],[n[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[l,"click",this.trackClick.bind(this)],[e,"mousedown",a],[e.ownerDocument,"mousemove",r],[e.ownerDocument,"mouseup",o]],p&&t.push([e,"touchstart",a],[e.ownerDocument,"touchmove",r],[e.ownerDocument,"touchend",o]),t.forEach(function(t){i.apply(null,t)}),this._events=t},t.prototype.buttonToMaxClick=function(t){var n=(this.to-this.from)*h(this.options.step,.2);this.updatePosition(this.from+n,this.to+n),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},t.prototype.buttonToMinClick=function(t){var n=r(this.to-this.from)*h(this.options.step,.2);this.updatePosition(r(this.from-n),r(this.to-n)),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},t.prototype.cursorToScrollbarPosition=function(t){var n=this.options;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-(n=n.minWidth>this.calculatedWidth?n.minWidth:0)),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-n)}},t.prototype.destroy=function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,s(t.scrollbarButtons))},t.prototype.drawScrollbarButton=function(t){var n=this.renderer,e=this.scrollbarButtons,l=this.options,a=this.size,i=n.g().add(this.group);e.push(i),i=n.rect().addClass("highcharts-scrollbar-button").add(i),this.chart.styledMode||i.attr({stroke:l.buttonBorderColor,"stroke-width":l.buttonBorderWidth,fill:l.buttonBackgroundColor}),i.attr(i.crisp({x:-.5,y:-.5,width:a+1,height:a+1,r:l.buttonBorderRadius},i.strokeWidth())),i=n.path(m([["M",a/2+(t?-1:1),a/2-3],["L",a/2+(t?-1:1),a/2+3],["L",a/2+(t?2:-2),a/2]],l.vertical)).addClass("highcharts-scrollbar-arrow").add(e[t]),this.chart.styledMode||i.attr({fill:l.buttonArrowColor})},t.prototype.init=function(n,e,l){this.scrollbarButtons=[],this.renderer=n,this.userOptions=e,this.options=c(t.defaultOptions,e),this.chart=l,this.size=h(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())},t.prototype.mouseDownHandler=function(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t),this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},t.prototype.mouseMoveHandler=function(t){var n=this.chart.pointer.normalize(t),e=this.options.vertical?"chartY":"chartX",l=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][e]||(e=(n=this.cursorToScrollbarPosition(n)[e])-(e=this[e]),this.hasDragged=!0,this.updatePosition(l[0]+e,l[1]+e),this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},t.prototype.mouseUpHandler=function(t){this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},t.prototype.position=function(t,n,e,l){var a=this.options.vertical,i=0,r=this.rendered?"animate":"attr";this.x=t,this.y=n+this.trackBorderWidth,this.width=e,this.xOffset=this.height=l,this.yOffset=i,a?(this.width=this.yOffset=e=i=this.size,this.xOffset=n=0,this.barWidth=l-2*e,this.x=t+=this.options.margin):(this.height=this.xOffset=l=n=this.size,this.barWidth=e-2*l,this.y+=this.options.margin),this.group[r]({translateX:t,translateY:this.y}),this.track[r]({width:e,height:l}),this.scrollbarButtons[1][r]({translateX:a?0:e-n,translateY:a?l-i:0})},t.prototype.removeEvents=function(){this._events.forEach(function(t){d.apply(null,t)}),this._events.length=0},t.prototype.render=function(){var t,n=this.renderer,e=this.options,l=this.size,a=this.chart.styledMode;this.group=t=n.g("scrollbar").attr({zIndex:e.zIndex,translateY:-99999}).add(),this.track=n.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:e.trackBorderRadius||0,height:l,width:l}).add(t),a||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=n.g().add(t),this.scrollbar=n.rect().addClass("highcharts-scrollbar-thumb").attr({height:l,width:l,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=n.path(m([["M",-3,l/4],["L",-3,2*l/3],["M",0,l/4],["L",0,2*l/3],["M",3,l/4],["L",3,2*l/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),a||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},t.prototype.setRange=function(t,n){var e,l=this.options,a=l.vertical,i=l.minWidth,s=this.barWidth,u=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(o(s)){t=Math.max(t,0);var c=Math.ceil(s*t);this.calculatedWidth=e=r(s*Math.min(n,1)-c),e<i&&(c=(s-i+e)*t,e=i),i=Math.floor(c+this.xOffset+this.yOffset),s=e/2-.5,this.from=t,this.to=n,a?(this.scrollbarGroup[u]({translateY:i}),this.scrollbar[u]({height:e}),this.scrollbarRifles[u]({translateY:s}),this.scrollbarTop=i,this.scrollbarLeft=0):(this.scrollbarGroup[u]({translateX:i}),this.scrollbar[u]({width:e}),this.scrollbarRifles[u]({translateX:s}),this.scrollbarLeft=i,this.scrollbarTop=0),12>=e?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===l.showFull&&(0>=t&&1<=n?this.group.hide():this.group.show()),this.rendered=!0}},t.prototype.trackClick=function(t){var n=this.chart.pointer.normalize(t),e=this.to-this.from;this.options.vertical&&n.chartY>this.y+this.scrollbarTop||!this.options.vertical&&n.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+e,this.to+e):this.updatePosition(this.from-e,this.to-e),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})},t.prototype.update=function(t){this.destroy(),this.init(this.chart.renderer,c(!0,this.options,t),this.chart)},t.prototype.updatePosition=function(t,n){1<n&&(t=r(1-r(n-t)),n=1),0>t&&(n=r(n-t),t=0),this.from=t,this.to=n},t.defaultOptions={height:g?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1},t}(),n.Scrollbar||(l.scrollbar=c(!0,a.defaultOptions,l.scrollbar),n.Scrollbar=a,e.compose(t,a)),n.Scrollbar}),n(t,"Core/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Series/Series.js"],t["Core/Chart/Chart.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Series/LineSeries.js"],t["Core/Axis/NavigatorAxis.js"],t["Core/Options.js"],t["Core/Scrollbar.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r,o,s,u){var c=a.hasTouch,h=a.isTouchDevice,d=o.defaultOptions,p=u.addEvent,g=u.clamp,m=u.correctFloat,b=u.defined,f=u.destroyObjectProperties,y=u.erase,v=u.extend,C=u.find,S=u.isArray,M=u.isNumber,_=u.merge,L=u.pick,O=u.removeEvent,A=u.splat,T=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if((n=[].filter.call(n,M)).length)return Math[t].apply(0,n)};n=void 0===n.seriesTypes.areaspline?"line":"areaspline",v(d,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:(l=l.parse)("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:n,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),a.Renderer.prototype.symbols["navigator-handle"]=function(t,n,e,l,a){return t=(a&&a.width||0)/2,n=Math.round(t/3)+.5,[["M",-t-1,.5],["L",t,.5],["L",t,(a=a&&a.height||0)+.5],["L",-t-1,a+.5],["L",-t-1,.5],["M",-n,4],["L",-n,a-3],["M",n-1,4],["L",n-1,a-3]]};var D=function(){function n(t){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(t)}return n.prototype.drawHandle=function(t,n,e,l){var a=this.navigatorOptions.handles.height;this.handles[n][l](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-a)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-a/2-1)})},n.prototype.drawOutline=function(t,n,e,l){var a=this.navigatorOptions.maskInside,i=this.outline.strokeWidth(),r=i/2,o=i%2/2;i=this.outlineHeight;var s=this.scrollbarHeight||0,u=this.size,c=this.left-s,h=this.top;e?(o=[["M",(c-=r)+i,h-s-o],["L",c+i,e=h+n+o],["L",c,e],["L",c,n=h+t+o],["L",c+i,n],["L",c+i,h+u+s]],a&&o.push(["M",c+i,e-r],["L",c+i,n+r])):(o=[["M",c,h+=r],["L",t+=c+s-o,h],["L",t,h+i],["L",n+=c+s-o,h+i],["L",n,h],["L",c+u+2*s,h]],a&&o.push(["M",t-r,h],["L",n+r,h])),this.outline[l]({d:o})},n.prototype.drawMasks=function(t,n,e,l){var a=this.left,i=this.top,r=this.height;if(e)var o=[a,a,a],s=[i,i+t,i+n],u=[r,r,r],c=[t,n-t,this.size-n];else o=[a,a+t,a+n],s=[i,i,i],u=[t,n-t,this.size-n],c=[r,r,r];this.shades.forEach(function(t,n){t[l]({x:o[n],y:s[n],width:u[n],height:c[n]})})},n.prototype.renderElements=function(){var t,n=this,e=n.navigatorOptions,l=e.maskInside,a=n.chart,i=a.renderer,r={cursor:a.inverted?"ns-resize":"ew-resize"};n.navigatorGroup=t=i.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!l,l,!l].forEach(function(l,o){n.shades[o]=i.rect().addClass("highcharts-navigator-mask"+(1===o?"-inside":"-outside")).add(t),a.styledMode||n.shades[o].attr({fill:l?e.maskFill:"rgba(0,0,0,0)"}).css(1===o&&r)}),n.outline=i.path().addClass("highcharts-navigator-outline").add(t),a.styledMode||n.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles.enabled&&[0,1].forEach(function(l){if(e.handles.inverted=a.inverted,n.handles[l]=i.symbol(e.handles.symbols[l],-e.handles.width/2-1,0,e.handles.width,e.handles.height,e.handles),n.handles[l].attr({zIndex:7-l}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][l]).add(t),!a.styledMode){var o=e.handles;n.handles[l].attr({fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.lineWidth}).css(r)}})},n.prototype.update=function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),_(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},n.prototype.render=function(t,n,e,l){var a,i,r=this.chart,o=this.scrollbarHeight,s=this.xAxis,u=s.pointRange||0,c=s.navigatorAxis.fake?r.xAxis[0]:s,h=this.navigatorEnabled,d=this.rendered,p=r.inverted,f=r.xAxis[0].minRange,y=r.xAxis[0].options.maxRange;if(!this.hasDragged||b(e)){if(t=m(t-u/2),n=m(n+u/2),!M(t)||!M(n)){if(!d)return;e=0,l=L(s.width,c.width)}this.left=L(s.left,r.plotLeft+o+(p?r.plotWidth:0)),this.size=i=a=L(s.len,(p?r.plotHeight:r.plotWidth)-2*o),r=p?o:a+2*o,e=L(e,s.toPixels(t,!0)),l=L(l,s.toPixels(n,!0)),M(e)&&1/0!==Math.abs(e)||(e=0,l=r),t=s.toValue(e,!0),n=s.toValue(l,!0);var v=Math.abs(m(n-t));v<f?this.grabbedLeft?e=s.toPixels(n-f-u,!0):this.grabbedRight&&(l=s.toPixels(t+f+u,!0)):b(y)&&m(v-u)>y&&(this.grabbedLeft?e=s.toPixels(n-y-u,!0):this.grabbedRight&&(l=s.toPixels(t+y+u,!0))),this.zoomedMax=g(Math.max(e,l),0,i),this.zoomedMin=g(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,l),0,i),this.range=this.zoomedMax-this.zoomedMin,i=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),h&&(this.navigatorGroup.attr({visibility:"visible"}),this.drawMasks(e,i,p,d=d&&!this.hasDragged?"animate":"attr"),this.drawOutline(e,i,p,d),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,p,d),this.drawHandle(i,1,p,d))),this.scrollbar&&(p?(p=this.top-o,c=this.left-o+(h||!c.opposite?0:(c.titleOffset||0)+c.axisTitleMargin),o=a+2*o):(p=this.top+(h?this.height:-o),c=this.left-o),this.scrollbar.position(c,p,r,o),this.scrollbar.setRange(this.zoomedMin/(a||1),this.zoomedMax/(a||1))),this.rendered=!0}},n.prototype.addMouseEvents=function(){var t,n,e=this,l=e.chart,a=l.container,i=[];e.mouseMoveHandler=t=function(t){e.onMouseMove(t)},e.mouseUpHandler=n=function(t){e.onMouseUp(t)},(i=e.getPartsEvents("mousedown")).push(p(l.renderTo,"mousemove",t),p(a.ownerDocument,"mouseup",n)),c&&(i.push(p(l.renderTo,"touchmove",t),p(a.ownerDocument,"touchend",n)),i.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=i,e.series&&e.series[0]&&i.push(p(e.series[0].xAxis,"foundExtremes",function(){l.navigator.modifyNavigatorAxisExtremes()}))},n.prototype.getPartsEvents=function(t){var n=this,e=[];return["shades","handles"].forEach(function(l){n[l].forEach(function(a,i){e.push(p(a.element,t,function(t){n[l+"Mousedown"](t,i)}))})}),e},n.prototype.shadesMousedown=function(t,n){t=this.chart.pointer.normalize(t);var e=this.chart,l=this.xAxis,a=this.zoomedMin,i=this.left,r=this.size,o=this.range,s=t.chartX;if(e.inverted&&(s=t.chartY,i=this.top),1===n)this.grabbedCenter=s,this.fixedWidth=o,this.dragOffset=s-a;else{if(t=s-i-o/2,0===n)t=Math.max(0,t);else if(2===n&&t+o>=r)if(t=r-o,this.reversedExtremes){t-=o;var u=this.getUnionExtremes().dataMin}else var c=this.getUnionExtremes().dataMax;t!==a&&(this.fixedWidth=o,n=l.navigatorAxis.toFixedRange(t,t+o,u,c),b(n.min)&&e.xAxis[0].setExtremes(Math.min(n.min,n.max),Math.max(n.min,n.max),!0,null,{trigger:"navigator"}))}},n.prototype.handlesMousedown=function(t,n){this.chart.pointer.normalize(t);var e=(t=this.chart).xAxis[0],l=this.reversedExtremes;0===n?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=l?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=l?e.max:e.min),t.fixedRange=null},n.prototype.onMouseMove=function(t){var n=this,e=n.chart,l=n.left,i=n.navigatorSize,r=n.range,o=n.dragOffset,s=e.inverted;t.touches&&0===t.touches[0].pageX||(t=e.pointer.normalize(t),e=t.chartX,s&&(l=n.top,e=t.chartY),n.grabbedLeft?(n.hasDragged=!0,n.render(0,0,e-l,n.otherHandlePos)):n.grabbedRight?(n.hasDragged=!0,n.render(0,0,n.otherHandlePos,e-l)):n.grabbedCenter&&(n.hasDragged=!0,e<o?e=o:e>i+o-r&&(e=i+o-r),n.render(0,0,e-o,e-o+r)),n.hasDragged&&n.scrollbar&&L(n.scrollbar.options.liveRedraw,a.svg&&!h&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){n.onMouseUp(t)},0)))},n.prototype.onMouseUp=function(t){var n=this.chart,e=this.xAxis,l=this.scrollbar,a=t.DOMEvent||t,i=n.inverted,r=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!l||!l.hasDragged)||"scrollbar"===t.trigger){if(l=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var o=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var s=this.fixedExtreme;this.zoomedMax===this.size&&(s=this.reversedExtremes?l.dataMin:l.dataMax),0===this.zoomedMin&&(o=this.reversedExtremes?l.dataMax:l.dataMin),e=e.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,o,s),b(e.min)&&n.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:a})}"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&M(this.zoomedMin)&&M(this.zoomedMax)&&(n=Math.round(this.zoomedMin),t=Math.round(this.zoomedMax),this.shades&&this.drawMasks(n,t,i,r),this.outline&&this.drawOutline(n,t,i,r),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(n,0,i,r),this.drawHandle(t,1,i,r)))},n.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},n.prototype.removeBaseSeriesEvents=function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){O(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&O(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},n.prototype.init=function(n){var e=n.options,l=e.navigator,a=l.enabled,i=e.scrollbar,o=i.enabled;e=a?l.height:0;var u=o?i.height:0;this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=e,this.scrollbarHeight=u,this.scrollbarEnabled=o,this.navigatorEnabled=a,this.navigatorOptions=l,this.scrollbarOptions=i,this.outlineHeight=e+u,this.opposite=L(l.opposite,!(a||!n.inverted));var c=this;i=n.xAxis.length,o=n.yAxis.length;var h=(a=c.baseSeries)&&a[0]&&a[0].xAxis||n.xAxis[0]||{options:{}};n.isDirtyBox=!0,c.navigatorEnabled?(c.xAxis=new t(n,_({breaks:h.options.breaks,ordinal:h.options.ordinal},l.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:i,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},n.inverted?{offsets:[u,0,-u,0],width:e}:{offsets:[0,-u,0,u],height:e})),c.yAxis=new t(n,_(l.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:o,isInternal:!0,reversed:L(l.yAxis&&l.yAxis.reversed,n.yAxis[0]&&n.yAxis[0].reversed,!1),zoomEnabled:!1},n.inverted?{width:e}:{height:e})),a||l.series.data?c.updateNavigatorSeries(!1):0===n.series.length&&(c.unbindRedraw=p(n,"beforeRedraw",function(){0<n.series.length&&!c.series&&(c.setBaseSeries(),c.unbindRedraw())})),c.reversedExtremes=n.inverted&&!c.xAxis.reversed||!n.inverted&&c.xAxis.reversed,c.renderElements(),c.addMouseEvents()):(c.xAxis={chart:n,navigatorAxis:{fake:!0},translate:function(t,e){var l=n.xAxis[0],a=l.getExtremes(),i=l.len-2*u,r=T("min",l.options.min,a.dataMin);return l=T("max",l.options.max,a.dataMax)-r,e?t*l/i+r:i*(t-r)/l},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},c.xAxis.navigatorAxis.axis=c.xAxis,c.xAxis.navigatorAxis.toFixedRange=r.AdditionsClass.prototype.toFixedRange.bind(c.xAxis.navigatorAxis)),n.options.scrollbar.enabled&&(n.scrollbar=c.scrollbar=new s(n.renderer,_(n.options.scrollbar,{margin:c.navigatorEnabled?0:10,vertical:n.inverted}),n),p(c.scrollbar,"changed",function(t){var e=c.size,l=e*this.to;e*=this.from,c.hasDragged=c.scrollbar.hasDragged,c.render(0,0,e,l),(n.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){c.onMouseUp(t)})})),c.addBaseSeriesEvents(),c.addChartEvents()},n.prototype.getUnionExtremes=function(t){var n,e=this.chart.xAxis[0],l=this.xAxis,a=l.options,i=e.options;return t&&null===e.dataMin||(n={dataMin:L(a&&a.min,T("min",i.min,e.dataMin,l.dataMin,l.min)),dataMax:L(a&&a.max,T("max",i.max,e.dataMax,l.dataMax,l.max))}),n},n.prototype.setBaseSeries=function(t,n){var e=this.chart,l=this.baseSeries=[];t=t||e.options&&e.options.navigator.baseSeries||(e.series.length?C(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(n,e){n.options.isInternal||!n.options.showInNavigator&&(e!==t&&n.options.id!==t||!1===n.options.showInNavigator)||l.push(n)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,n)},n.prototype.updateNavigatorSeries=function(t,n){var e,l,a,i=this,r=i.chart,o=i.baseSeries,s=i.navigatorOptions.series,u={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},c=i.series=(i.series||[]).filter(function(t){var n=t.baseSeries;return!(0>o.indexOf(n)&&(n&&(O(n,"updatedData",i.updatedDataHandler),delete n.navigatorSeries),t.chart&&t.destroy(),1))});o&&o.length&&o.forEach(function(t){var h=t.navigatorSeries,p=v({color:t.color,visible:t.visible},S(s)?d.navigator.series:s);h&&!1===i.navigatorOptions.adaptToUpdatedData||(u.name="Navigator "+o.length,(l=_(e=t.options||{},u,p,a=e.navigatorOptions||{})).pointRange=L(p.pointRange,a.pointRange,d.plotOptions[l.type||"line"].pointRange),p=a.data||p.data,i.hasNavigatorData=i.hasNavigatorData||!!p,l.data=p||e.data&&e.data.slice(0),h&&h.options?h.update(l,n):(t.navigatorSeries=r.initSeries(l),t.navigatorSeries.baseSeries=t,c.push(t.navigatorSeries)))}),(!s.data||o&&o.length)&&!S(s)||(i.hasNavigatorData=!1,(s=A(s)).forEach(function(t,n){u.name="Navigator "+(c.length+1),(l=_(d.navigator.series,{color:r.series[n]&&!r.series[n].options.isInternal&&r.series[n].color||r.options.colors[n]||r.options.colors[0]},u,t)).data=t.data,l.data&&(i.hasNavigatorData=!0,c.push(r.initSeries(l)))})),t&&this.addBaseSeriesEvents()},n.prototype.addBaseSeriesEvents=function(){var t=this,n=t.baseSeries||[];n[0]&&n[0].xAxis&&p(n[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),n.forEach(function(n){p(n,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),p(n,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&n.xAxis&&p(n,"updatedData",this.updatedDataHandler),p(n,"remove",function(){this.navigatorSeries&&(y(t.series,this.navigatorSeries),b(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},n.prototype.getBaseSeriesMin=function(t){return this.baseSeries.reduce(function(t,n){return Math.min(t,n.xData?n.xData[0]:t)},t)},n.prototype.modifyNavigatorAxisExtremes=function(){var t,n=this.xAxis;void 0!==n.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===n.min&&t.dataMax===n.max||(n.min=t.dataMin,n.max=t.dataMax))},n.prototype.modifyBaseAxisExtremes=function(){var t=this.chart.navigator,n=this.getExtremes(),e=n.dataMin,l=n.dataMax;n=n.max-n.min;var a=t.stickToMin,i=t.stickToMax,r=L(this.options.overscroll,0),o=t.series&&t.series[0],s=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(a)var u=e,c=e+n;i&&(c=l+r,a||(u=Math.max(e,c-n,t.getBaseSeriesMin(o&&o.xData?o.xData[0]:-Number.MAX_VALUE)))),s&&(a||i)&&M(u)&&(this.min=this.userMin=u,this.max=this.userMax=c)}t.stickToMin=t.stickToMax=null},n.prototype.updatedDataHandler=function(){var t=this.chart.navigator,n=this.navigatorSeries,e=t.getBaseSeriesMin(this.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=M(this.xAxis.min)&&this.xAxis.min<=e&&(!this.chart.fixedRange||!t.stickToMax),n&&!t.hasNavigatorData&&(n.options.pointStart=this.xData[0],n.setData(this.options.data,!1,null,!1))},n.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(p(this.chart,"redraw",function(){var t=this.navigator,n=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);n&&t.render(n.min,n.max)}),p(this.chart,"getMargins",function(){var t=this.navigator,n=t.opposite?"plotTop":"marginBottom";this.inverted&&(n=t.opposite?"marginRight":"plotLeft"),this[n]=(this[n]||0)+(t.navigatorEnabled||!this.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},n.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(y(this.chart.xAxis,this.xAxis),y(this.chart.axes,this.xAxis)),this.yAxis&&(y(this.chart.yAxis,this.yAxis),y(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){f(t)},this)},n}();return a.Navigator||(a.Navigator=D,r.compose(t),p(e,"beforeShowResetZoom",function(){var t=this.options,n=t.navigator,e=t.rangeSelector;if((n&&n.enabled||e&&e.enabled)&&(!h&&"x"===t.chart.zoomType||h&&"x"===t.chart.pinchType))return!1}),p(e,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new D(this))}),p(e,"afterSetChartSize",function(){var t=this.legend,n=this.navigator;if(n){var e=t&&t.options,l=n.xAxis,a=n.yAxis,i=n.scrollbarHeight;this.inverted?(n.left=n.opposite?this.chartWidth-i-n.height:this.spacing[3]+i,n.top=this.plotTop+i):(n.left=this.plotLeft+i,n.top=n.navigatorOptions.top||this.chartHeight-n.height-i-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&"proximate"!==e.layout&&e.enabled&&!e.floating?t.legendHeight+L(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),l&&a&&(this.inverted?l.options.left=a.options.left=n.left:l.options.top=a.options.top=n.top,l.setAxisSize(),a.setAxisSize())}}),p(e,"update",function(t){var n=t.options.navigator||{},e=t.options.scrollbar||{};this.navigator||this.scroller||!n.enabled&&!e.enabled||(_(!0,this.options.navigator,n),_(!0,this.options.scrollbar,e),delete t.options.navigator,delete t.options.scrollbar)}),p(e,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new D(this),L(t.redraw,!0)&&this.redraw(t.animation))}),p(e,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),p(i,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),e.prototype.callbacks.push(function(t){var n=t.navigator;n&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),n.render(t.min,t.max))})),a.Navigator=D,a.Navigator}),n(t,"Core/Axis/OrdinalAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Series/CartesianSeries.js"],t["Core/Utilities.js"],t["Core/Chart/Chart.js"]],function(t,n,e,l,a){var i,r=l.addEvent,o=l.css,s=l.defined,u=l.pick,c=l.timeUnits;return function(t){var l=function(){function t(t){this.index={},this.axis=t}return t.prototype.beforeSetTickPositions=function(){var t,n,e=this.axis,l=e.ordinal,a=[],i=!1,r=e.getExtremes(),o=r.min,s=r.max,c=e.isXAxis&&!!e.options.breaks;r=e.options.ordinal;var h,d=Number.MAX_VALUE,p=e.chart.options.chart.ignoreHiddenSeries;if(r||c){e.series.forEach(function(n,e){if(t=[],!(p&&!1===n.visible||!1===n.takeOrdinalPosition&&!c)&&(a=a.concat(n.processedXData),g=a.length,a.sort(function(t,n){return t-n}),d=Math.min(d,u(n.closestPointRange,d)),g)){for(e=0;e<g-1;)a[e]!==a[e+1]&&t.push(a[e+1]),e++;t[0]!==a[0]&&t.unshift(a[0]),a=t}n.isSeriesBoosting&&(h=!0)}),h&&(a.length=0);var g=a.length;if(2<g){var m=a[1]-a[0];for(n=g-1;n--&&!i;)a[n+1]-a[n]!==m&&(i=!0);!e.options.keepOrdinalPadding&&(a[0]-o>m||s-a[a.length-1]>m)&&(i=!0)}else e.options.overscroll&&(2===g?d=a[1]-a[0]:1===g?a=[a[0],a[0]+(d=e.options.overscroll)]:d=l.overscrollPointsRange);i?(e.options.overscroll&&(l.overscrollPointsRange=d,a=a.concat(l.getOverscrollPositions())),l.positions=a,m=e.ordinal2lin(Math.max(o,a[0]),!0),n=Math.max(e.ordinal2lin(Math.min(s,a[a.length-1]),!0),1),l.slope=s=(s-o)/(n-m),l.offset=o-m*s):(l.overscrollPointsRange=u(e.closestPointRange,l.overscrollPointsRange),l.positions=e.ordinal.slope=l.offset=void 0)}e.isOrdinal=r&&i,l.groupIntervalFactor=null},t.prototype.getExtendedPositions=function(){var t,l=this,a=l.axis,i=a.constructor.prototype,r=a.chart,o=a.series[0].currentDataGrouping,s=l.index,u=o?o.count+o.unitName:"raw",c=a.options.overscroll,h=a.getExtremes();if(s||(s=l.index={}),!s[u]){var d={series:[],chart:r,getExtremes:function(){return{min:h.dataMin,max:h.dataMax+c}},options:{ordinal:!0},ordinal:{},ordinal2lin:i.ordinal2lin,val2lin:i.val2lin};d.ordinal.axis=d,a.series.forEach(function(a){(t={xAxis:d,xData:a.xData.slice(),chart:r,destroyGroupedData:n.noop,getProcessedData:e.prototype.getProcessedData}).xData=t.xData.concat(l.getOverscrollPositions()),t.options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}},a.processData.apply(t),d.series.push(t)}),a.ordinal.beforeSetTickPositions.apply({axis:d}),s[u]=d.ordinal.positions}return s[u]},t.prototype.getGroupIntervalFactor=function(t,n,e){var l=(e=e.processedXData).length,a=[],i=this.groupIntervalFactor;if(!i){for(i=0;i<l-1;i++)a[i]=e[i+1]-e[i];a.sort(function(t,n){return t-n}),a=a[Math.floor(l/2)],t=Math.max(t,e[0]),n=Math.min(n,e[l-1]),this.groupIntervalFactor=i=l*a/(n-t)}return i},t.prototype.getOverscrollPositions=function(){var t=this.axis,n=t.options.overscroll,e=this.overscrollPointsRange,l=[],a=t.dataMax;if(s(e))for(l.push(a);a<=t.dataMax+n;)l.push(a+=e);return l},t.prototype.postProcessTickInterval=function(t){var n=this.axis,e=this.slope;return e?n.options.breaks?n.closestPointRange||t:t/(e/n.closestPointRange):t},t}();t.Composition=l,t.compose=function(n,e,l){n.keepProps.push("ordinal");var a=n.prototype;n.prototype.getTimeTicks=function(t,n,e,l,a,i,r){void 0===a&&(a=[]),void 0===i&&(i=0);var o,u,h=0,d={},p=[],g=-Number.MAX_VALUE,m=this.options.tickPixelInterval,b=this.chart.time,f=[];if(!this.options.ordinal&&!this.options.breaks||!a||3>a.length||void 0===n)return b.getTimeTicks.apply(b,arguments);var y=a.length;for(o=0;o<y;o++){var v=o&&a[o-1]>e;if(a[o]<n&&(h=o),o===y-1||a[o+1]-a[o]>5*i||v){if(a[o]>g){for(u=b.getTimeTicks(t,a[h],a[o],l);u.length&&u[0]<=g;)u.shift();u.length&&(g=u[u.length-1]),f.push(p.length),p=p.concat(u)}h=o+1}if(v)break}if(u=u.info,r&&u.unitRange<=c.hour){for(o=p.length-1,h=1;h<o;h++)if(b.dateFormat("%d",p[h])!==b.dateFormat("%d",p[h-1])){d[p[h]]="day";var C=!0}C&&(d[p[0]]="day"),u.higherRanks=d}if(u.segmentStarts=f,p.info=u,r&&s(m)){var S;for(h=f=p.length,C=[],b=[];h--;)o=this.translate(p[h]),S&&(b[h]=S-o),C[h]=S=o;for(b.sort(),(b=b[Math.floor(b.length/2)])<.6*m&&(b=null),h=p[f-1]>e?f-1:f,S=void 0;h--;)o=C[h],f=Math.abs(S-o),S&&f<.8*m&&(null===b||f<.8*b)?(d[p[h]]&&!d[p[h+1]]?(f=h+1,S=o):f=h,p.splice(f,1)):S=o}return p},a.lin2val=function(t,n){var e=this.ordinal,l=e.positions;if(l){var a=e.slope,i=e.offset;if(e=l.length-1,n)if(0>t)t=l[0];else if(t>e)t=l[e];else var r=t-(e=Math.floor(t));else for(;e--;)if(t>=(n=a*e+i)){r=(t-n)/((a=a*(e+1)+i)-n);break}return void 0!==r&&void 0!==l[e]?l[e]+(r?r*(l[e+1]-l[e]):0):t}return t},a.val2lin=function(t,n){var e=this.ordinal,l=e.positions;if(l){var a,i=l.length;for(a=i;a--;)if(l[a]===t){var r=a;break}for(a=i-1;a--;)if(t>l[a]||0===a){r=a+(t=(t-l[a])/(l[a+1]-l[a]));break}n=n?r:e.slope*(r||0)+e.offset}else n=t;return n},a.ordinal2lin=a.val2lin,r(n,"afterInit",function(){this.ordinal||(this.ordinal=new t.Composition(this))}),r(n,"foundExtremes",function(){this.isXAxis&&s(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&s(this.userMin)&&(this.min+=this.options.overscroll))}),r(n,"afterSetScale",function(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}),r(n,"initialAxisTranslation",function(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}),r(e,"pan",function(t){var n=this.xAxis[0],e=n.options.overscroll,l=t.originalEvent.chartX,a=this.options.chart&&this.options.chart.panning,i=!1;if(a&&"y"!==a.type&&n.options.ordinal&&n.series.length){var r=this.mouseDownX,s=n.getExtremes(),u=s.dataMax,c=s.min,h=s.max,d=this.hoverPoints,p=n.closestPointRange||n.ordinal&&n.ordinal.overscrollPointsRange;r=(r-l)/(n.translationSlope*(n.ordinal.slope||p));var g={ordinal:{positions:n.ordinal.getExtendedPositions()}};p=n.lin2val;var m=n.val2lin;if(g.ordinal.positions){if(1<Math.abs(r)){if(d&&d.forEach(function(t){t.setState()}),0>r){d=g;var b=n.ordinal.positions?n:g}else d=n.ordinal.positions?n:g,b=g;u>(g=b.ordinal.positions)[g.length-1]&&g.push(u),this.fixedRange=h-c,(r=n.navigatorAxis.toFixedRange(null,null,p.apply(d,[m.apply(d,[c,!0])+r,!0]),p.apply(b,[m.apply(b,[h,!0])+r,!0]))).min>=Math.min(s.dataMin,c)&&r.max<=Math.max(u,h)+e&&n.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=l,o(this.container,{cursor:"move"})}}else i=!0}else i=!0;i||a&&/y/.test(a.type)?e&&(n.max=n.dataMax+e):t.preventDefault()}),r(l,"updatedData",function(){var t=this.xAxis;t&&t.options.ordinal&&delete t.ordinal.index})}}(i||(i={})),i.compose(t,a,e),i}),n(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Axis.js"],t["Series/LineSeries.js"],t["Extensions/Stacking.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=l.addEvent,i=l.find,r=l.fireEvent,o=l.isArray,s=l.isNumber,u=l.pick,c=function(){function n(t){this.hasBreaks=!1,this.axis=t}return n.isInBreak=function(t,n){var e=t.repeat||1/0,l=t.from,a=t.to-t.from;return n=n>=l?(n-l)%e:e-(l-n)%e,t.inclusive?n<=a:n<a&&0!==n},n.lin2Val=function(t){var e,l=this.brokenAxis;if(!(l=l&&l.breakArray))return t;for(e=0;e<l.length;e++){var a=l[e];if(a.from>=t)break;a.to<t?t+=a.len:n.isInBreak(a,t)&&(t+=a.len)}return t},n.val2Lin=function(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray))return t;var l,a=t;for(l=0;l<e.length;l++){var i=e[l];if(i.to<=t)a-=i.len;else{if(i.from>=t)break;if(n.isInBreak(i,t)){a-=t-i.from;break}}}return a},n.prototype.findBreakAt=function(t,n){return i(n,function(n){return n.from<t&&t<n.to})},n.prototype.isInAnyBreak=function(t,e){var l,a=this.axis,i=a.options.breaks,r=i&&i.length;if(r){for(;r--;)if(n.isInBreak(i[r],t)){var o=!0;l||(l=u(i[r].showPoints,!a.isXAxis))}var s=o&&e?o&&!l:o}return s},n.prototype.setBreaks=function(e,l){var a=this,i=a.axis,s=o(e)&&!!e.length;i.isDirty=a.hasBreaks!==s,a.hasBreaks=s,i.options.breaks=i.userOptions.breaks=e,i.forceRedraw=!0,i.series.forEach(function(t){t.isDirty=!0}),s||i.val2lin!==n.val2Lin||(delete i.val2lin,delete i.lin2val),s&&(i.userOptions.ordinal=!1,i.lin2val=n.lin2Val,i.val2lin=n.val2Lin,i.setExtremes=function(n,e,l,i,r){if(a.hasBreaks){for(var o,s=this.options.breaks;o=a.findBreakAt(n,s);)n=o.to;for(;o=a.findBreakAt(e,s);)e=o.from;e<n&&(e=n)}t.prototype.setExtremes.call(this,n,e,l,i,r)},i.setAxisTranslation=function(e){if(t.prototype.setAxisTranslation.call(this,e),a.unitLength=null,a.hasBreaks){e=i.options.breaks||[];var l,o,s=[],c=[],h=0,d=i.userMin||i.min,p=i.userMax||i.max,g=u(i.pointRangePadding,0);e.forEach(function(t){l=t.repeat||1/0,n.isInBreak(t,d)&&(d+=t.to%l-d%l),n.isInBreak(t,p)&&(p-=p%l-t.from%l)}),e.forEach(function(t){for(b=t.from,l=t.repeat||1/0;b-l>d;)b-=l;for(;b<d;)b+=l;for(o=b;o<p;o+=l)s.push({value:o,move:"in"}),s.push({value:o+(t.to-t.from),move:"out",size:t.breakSize})}),s.sort(function(t,n){return t.value===n.value?("in"===t.move?0:1)-("in"===n.move?0:1):t.value-n.value});var m=0,b=d;s.forEach(function(t){1===(m+="in"===t.move?1:-1)&&"in"===t.move&&(b=t.value),0===m&&(c.push({from:b,to:t.value,len:t.value-b-(t.size||0)}),h+=t.value-b-(t.size||0))}),i.breakArray=a.breakArray=c,a.unitLength=p-d-h+g,r(i,"afterBreaks"),i.staticScale?i.transA=i.staticScale:a.unitLength&&(i.transA*=(p-i.min+g)/a.unitLength),g&&(i.minPixelPadding=i.transA*i.minPointOffset),i.min=d,i.max=p}}),u(l,!0)&&i.chart.redraw()},n}();return(l=function(){function t(){}return t.compose=function(t,l){t.keepProps.push("brokenAxis");var i=n.prototype;i.drawBreaks=function(t,n){var e,l,a,i,o=this,c=o.points;if(t&&t.brokenAxis&&t.brokenAxis.hasBreaks){var h=t.brokenAxis;n.forEach(function(n){e=h&&h.breakArray||[],l=t.isXAxis?t.min:u(o.options.threshold,t.min),c.forEach(function(o){i=u(o["stack"+n.toUpperCase()],o[n]),e.forEach(function(n){s(l)&&s(i)&&(a=!1,l<n.from&&i>n.to||l>n.from&&i<n.from?a="pointBreak":(l<n.from&&i>n.from&&i<n.to||l>n.from&&i>n.to&&i<n.from)&&(a="pointInBreak"),a&&r(t,a,{point:o,brk:n}))})})})}},i.gappedPath=function(){var t=this.currentDataGrouping,n=t&&t.gapSize;t=this.options.gapSize;var l,a=this.points.slice(),i=a.length-1,r=this.yAxis;if(t&&0<i)for("value"!==this.options.gapUnit&&(t*=this.basePointRange),n&&n>t&&n>=this.basePointRange&&(t=n),l=void 0;i--;)l&&!1!==l.visible||(l=a[i+1]),n=a[i],!1!==l.visible&&!1!==n.visible&&(l.x-n.x>t&&(a.splice(i+1,0,{isNull:!0,x:l=(n.x+l.x)/2}),r.stacking&&this.options.stacking&&((l=r.stacking.stacks[this.stackKey][l]=new e(r,r.options.stackLabels,!1,l,this.stack)).total=0)),l=n);return this.getGraphPath(a)},a(t,"init",function(){this.brokenAxis||(this.brokenAxis=new c(this))}),a(t,"afterInit",function(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}),a(t,"afterSetTickPositions",function(){var t=this.brokenAxis;if(t&&t.hasBreaks){var n,e=this.tickPositions,l=this.tickPositions.info,a=[];for(n=0;n<e.length;n++)t.isInAnyBreak(e[n])||a.push(e[n]);this.tickPositions=a,this.tickPositions.info=l}}),a(t,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}),a(l,"afterGeneratePoints",function(){var t=this.options.connectNulls,n=this.points,e=this.xAxis,l=this.yAxis;if(this.isDirty)for(var a=n.length;a--;){var i=n[a],r=!(null===i.y&&!1===t)&&(e&&e.brokenAxis&&e.brokenAxis.isInAnyBreak(i.x,!0)||l&&l.brokenAxis&&l.brokenAxis.isInAnyBreak(i.y,!0));i.visible=!r&&!1!==i.options.visible}}),a(l,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,u(this.pointArrayMap,["y"]))})},t}()).compose(t,n),l}),n(t,"masters/modules/broken-axis.src.js",[],function(){}),n(t,"Extensions/DataGrouping.js",[t["Core/Axis/Axis.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Globals.js"],t["Core/Options.js"],t["Core/Series/Point.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r){var o=r.addEvent,s=r.arrayMax,u=r.arrayMin,c=r.correctFloat,h=r.defined,d=r.error,p=r.extend,g=r.format,m=r.isNumber,b=r.merge,f=r.pick;r=e.Series;var y=e.approximations={sum:function(t){var n=t.length;if(!n&&t.hasNulls)var e=null;else if(n)for(e=0;n--;)e+=t[n];return e},average:function(t){var n=t.length;return t=y.sum(t),m(t)&&n&&(t=c(t/n)),t},averages:function(){var t=[];return[].forEach.call(arguments,function(n){t.push(y.average(n))}),void 0===t[0]?void 0:t},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?s(t):t.hasNulls?null:void 0},low:function(t){return t.length?u(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,n,e,l){if(t=y.open(t),n=y.high(n),e=y.low(e),l=y.close(l),m(t)||m(n)||m(e)||m(l))return[t,n,e,l]},range:function(t,n){return t=y.low(t),n=y.high(n),m(t)||m(n)?[t,n]:null===t&&null===n?null:void 0}},v=function(t,n,e,l){var a,i=this,r=i.data,o=i.options&&i.options.data,s=[],u=[],c=[],d=t.length,p=!!n,g=[],f=i.pointArrayMap,v=f&&f.length,C=["x"].concat(f||["y"]),S=0,M=0;l="function"==typeof l?l:y[l]?y[l]:y[i.getDGApproximation&&i.getDGApproximation()||"average"],v?f.forEach(function(){g.push([])}):g.push([]);var _=v||1;for(a=0;a<=d&&!(t[a]>=e[0]);a++);for(;a<=d;a++){for(;void 0!==e[S+1]&&t[a]>=e[S+1]||a===d;){var L=e[S];i.dataGroupInfo={start:i.cropStart+M,length:g[0].length};var O=l.apply(i,g);for(i.pointClass&&!h(i.dataGroupInfo.options)&&(i.dataGroupInfo.options=b(i.pointClass.prototype.optionsToObject.call({series:i},i.options.data[i.cropStart+M])),C.forEach(function(t){delete i.dataGroupInfo.options[t]})),void 0!==O&&(s.push(L),u.push(O),c.push(i.dataGroupInfo)),M=a,L=0;L<_;L++)g[L].length=0,g[L].hasNulls=!1;if(S+=1,a===d)break}if(a===d)break;if(f)for(L=i.cropStart+a,O=r&&r[L]||i.pointClass.prototype.applyOptions.apply({series:i},[o[L]]),L=0;L<v;L++){var A=O[f[L]];m(A)?g[L].push(A):null===A&&(g[L].hasNulls=!0)}else m(L=p?n[a]:null)?g[0].push(L):null===L&&(g[0].hasNulls=!0)}return{groupedXData:s,groupedYData:u,groupMap:c}},C={approximations:y,groupData:v},S=r.prototype,M=S.processData,_=S.generatePoints,L={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},O={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},A=e.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return S.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("column")?"sum":"average"},S.groupData=v,S.processData=function(){var t,e=this.chart,l=this.options.dataGrouping,a=!1!==this.allowDG&&l&&f(l.enabled,e.options.isStock),i=this.visible||!e.options.chart.ignoreHiddenSeries,r=this.currentDataGrouping,o=!1;if(this.forceCrop=a,this.groupPixelWidth=null,this.hasProcessed=!0,a&&!this.requireSorting&&(this.requireSorting=o=!0),a=!1===M.apply(this,arguments)||!a,o&&(this.requireSorting=!1),!a){this.destroyGroupedData(),a=l.groupAll?this.xData:this.processedXData;var s=l.groupAll?this.yData:this.processedYData,u=e.plotSizeX,c=(e=this.xAxis).options.ordinal,d=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth();if(d){this.isDirty=t=!0,this.points=null;var p=(o=e.getExtremes()).min;o=o.max,c=c&&e.ordinal&&e.ordinal.getGroupIntervalFactor(p,o,this)||1,u=e.getTimeTicks(n.AdditionsClass.prototype.normalizeTimeTickInterval(d=d*(o-p)/u*c,l.units||A),Math.min(p,a[0]),Math.max(o,a[a.length-1]),e.options.startOfWeek,a,this.closestPointRange),a=(s=S.groupData.apply(this,[a,s,u,l.approximation])).groupedXData,c=s.groupedYData;var g=0;if(l.smoothed&&a.length){var m=a.length-1;for(a[m]=Math.min(a[m],o);m--&&0<m;)a[m]+=d/2;a[0]=Math.max(a[0],p)}for(m=1;m<u.length;m++)u.info.segmentStarts&&-1!==u.info.segmentStarts.indexOf(m)||(g=Math.max(u[m]-u[m-1],g));(p=u.info).gapSize=g,this.closestPointRange=u.info.totalRange,this.groupMap=s.groupMap,h(a[0])&&a[0]<e.min&&i&&((!h(e.options.min)&&e.min<=e.dataMin||e.min===e.dataMin)&&(e.min=Math.min(a[0],e.min)),e.dataMin=Math.min(a[0],e.dataMin)),l.groupAll&&(a=(l=this.cropData(a,c,e.min,e.max,1)).xData,c=l.yData),this.processedXData=a,this.processedYData=c}else this.groupMap=null;this.hasGroupedData=t,this.currentDataGrouping=p,this.preventGraphAnimation=(r&&r.totalRange)!==(p&&p.totalRange)}},S.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,n){t&&(this.groupedData[n]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},S.generatePoints=function(){_.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},o(a,"update",function(){if(this.dataGroup)return d(24,!1,this.series.chart),!1}),o(i,"headerFormatter",function(t){var n=this.chart,e=n.time,l=t.labelConfig,a=l.series,i=a.tooltipOptions,r=a.options.dataGrouping,o=i.xDateFormat,s=a.xAxis,u=i[(t.isFooter?"footer":"header")+"Format"];if(s&&"datetime"===s.options.type&&r&&m(l.key)){var c=a.currentDataGrouping;if(r=r.dateTimeLabelFormats||L.dateTimeLabelFormats,c)if(i=r[c.unitName],1===c.count)o=i[0];else{o=i[1];var h=i[2]}else!o&&r&&(o=this.getXDateFormat(l,i,s));o=e.dateFormat(o,l.key),h&&(o+=e.dateFormat(h,l.key+c.totalRange-1)),a.chart.styledMode&&(u=this.styledModeFormat(u)),t.text=g(u,{point:p(l.point,{key:o}),series:a},n),t.preventDefault()}}),o(r,"destroy",S.destroyGroupedData),o(r,"afterSetOptions",function(t){t=t.options;var n=this.type,e=this.chart.options.plotOptions,a=l.defaultOptions.plotOptions[n].dataGrouping,i=this.useCommonDataGrouping&&L;(O[n]||i)&&(a||(a=b(L,O[n])),t.dataGrouping=b(i,a,e.series&&e.series.dataGrouping,e[n].dataGrouping,this.userOptions.dataGrouping))}),o(t,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),t.prototype.getGroupPixelWidth=function(){var t,n,e=this.series,l=e.length,a=0,i=!1;for(t=l;t--;)(n=e[t].options.dataGrouping)&&(a=Math.max(a,f(n.groupPixelWidth,L.groupPixelWidth)));for(t=l;t--;)(n=e[t].options.dataGrouping)&&e[t].hasProcessed&&(l=(e[t].processedXData||e[t].data).length,e[t].groupPixelWidth||l>this.chart.plotSizeX/a||l&&n.forced)&&(i=!0);return i?a:0},t.prototype.setDataGrouping=function(n,e){var l;if(e=f(e,!0),n||(n={forced:!1,units:null}),this instanceof t)for(l=this.series.length;l--;)this.series[l].update({dataGrouping:n},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping=n},!1);this.ordinal&&(this.ordinal.slope=void 0),e&&this.chart.redraw()},e.dataGrouping=C,C}),n(t,"Series/OHLCSeries.js",[t["Core/Series/Series.js"],t["Core/Series/Point.js"]],function(t,n){var e=t.seriesTypes;t.seriesType("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},init:function(){e.column.prototype.init.apply(this,arguments),this.options.stacking=void 0},pointAttribs:function(t,n){n=e.column.prototype.pointAttribs.call(this,t,n);var l=this.options;return delete n.fill,!t.options.color&&l.upColor&&t.open<t.close&&(n.stroke=l.upColor),n},translate:function(){var t=this,n=t.yAxis,l=!!t.modifyValue,a=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];e.column.prototype.translate.apply(t),t.points.forEach(function(e){[e.open,e.high,e.low,e.close,e.low].forEach(function(i,r){null!==i&&(l&&(i=t.modifyValue(i)),e[a[r]]=n.toPixels(i,!0))}),e.tooltipPos[1]=e.plotHigh+n.pos-t.chart.plotTop})},drawPoints:function(){var t=this,n=t.chart,e=function(t,n,e){var l=t[0];t=t[1],"number"==typeof l[2]&&(l[2]=Math.max(e+n,l[2])),"number"==typeof t[2]&&(t[2]=Math.min(e-n,t[2]))};t.points.forEach(function(l){var a=l.graphic,i=!a;if(void 0!==l.plotY){a||(l.graphic=a=n.renderer.path().add(t.group)),n.styledMode||a.attr(t.pointAttribs(l,l.selected&&"select"));var r=a.strokeWidth(),o=r%2/2,s=Math.round(l.plotX)-o,u=Math.round(l.shapeArgs.width/2),c=[["M",s,Math.round(l.yBottom)],["L",s,Math.round(l.plotHigh)]];if(null!==l.open){var h=Math.round(l.plotOpen)+o;c.push(["M",s,h],["L",s-u,h]),e(c,r/2,h)}null!==l.close&&(h=Math.round(l.plotClose)+o,c.push(["M",s,h],["L",s+u,h]),e(c,r/2,h)),a[i?"attr":"animate"]({d:c}).addClass(l.getClassName(),!0)}})},animate:null},{getClassName:function(){return n.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}),n(t,"Series/CandlestickSeries.js",[t["Core/Series/Series.js"],t["Core/Options.js"],t["Core/Utilities.js"]],function(t,n,e){var l=t.seriesTypes.column.prototype;t.seriesType("candlestick","ohlc",(e=e.merge)((n=n.defaultOptions).plotOptions.column,{states:{hover:{lineWidth:2}},tooltip:n.plotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(t,n){var e=l.pointAttribs.call(this,t,n),a=this.options,i=t.open<t.close,r=a.lineColor||this.color;return e["stroke-width"]=a.lineWidth,e.fill=t.options.color||i&&a.upColor||this.color,e.stroke=t.options.lineColor||i&&a.upLineColor||r,n&&(e.fill=(t=a.states[n]).color||e.fill,e.stroke=t.lineColor||e.stroke,e["stroke-width"]=t.lineWidth||e["stroke-width"]),e},drawPoints:function(){var t=this,n=t.chart,e=t.yAxis.reversed;t.points.forEach(function(l){var a=l.graphic,i=!a;if(void 0!==l.plotY){a||(l.graphic=a=n.renderer.path().add(t.group)),t.chart.styledMode||a.attr(t.pointAttribs(l,l.selected&&"select")).shadow(t.options.shadow);var r=a.strokeWidth()%2/2,o=Math.round(l.plotX)-r,s=l.plotOpen,u=l.plotClose,c=Math.min(s,u);s=Math.max(s,u);var h=Math.round(l.shapeArgs.width/2);u=e?s!==l.yBottom:Math.round(c)!==Math.round(l.plotHigh);var d=e?Math.round(c)!==Math.round(l.plotHigh):s!==l.yBottom;c=Math.round(c)+r,s=Math.round(s)+r,(r=[]).push(["M",o-h,s],["L",o-h,c],["L",o+h,c],["L",o+h,s],["Z"],["M",o,c],["L",o,u?Math.round(e?l.yBottom:l.plotHigh):c],["M",o,s],["L",o,d?Math.round(e?l.plotHigh:l.yBottom):s]),a[i?"attr":"animate"]({d:r}).addClass(l.getClassName(),!0)}})}})}),n(t,"Mixins/OnSeries.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n){var e=n.defined,l=n.stableSort,a=t.seriesTypes;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){a.column.prototype.translate.apply(this);var t,n=this,i=n.options,r=n.chart,o=n.points,s=o.length-1,u=i.onSeries;u=u&&r.get(u),i=i.onKey||"y";var c,h=u&&u.options.step,d=u&&u.points,p=d&&d.length,g=r.inverted,m=n.xAxis,b=n.yAxis,f=0;if(u&&u.visible&&p){f=(u.pointXOffset||0)+(u.barW||0)/2;var y=d[p-1].x+((r=u.currentDataGrouping)?r.totalRange:0);for(l(o,function(t,n){return t.x-n.x}),i="plot"+i[0].toUpperCase()+i.substr(1);p--&&o[s];){var v=d[p];if((r=o[s]).y=v.y,v.x<=r.x&&void 0!==v[i]){if(r.x<=y&&(r.plotY=v[i],v.x<r.x&&!h&&(c=d[p+1])&&void 0!==c[i])){var C=(r.x-v.x)/(c.x-v.x);r.plotY+=C*(c[i]-v[i]),r.y+=C*(c.y-v.y)}if(p++,0>--s)break}}}o.forEach(function(l,a){if(l.plotX+=f,(void 0===l.plotY||g)&&(0<=l.plotX&&l.plotX<=m.len?g?(l.plotY=m.translate(l.x,0,1,0,1),l.plotX=e(l.y)?b.translate(l.y,0,0,0,1):0):l.plotY=(m.opposite?0:n.yAxis.len)+m.offset:l.shapeArgs={}),(t=o[a-1])&&t.plotX===l.plotX){void 0===t.stackIndex&&(t.stackIndex=0);var i=t.stackIndex+1}l.stackIndex=i}),this.onSeries=u}}}),n(t,"Series/FlagsSeries.js",[t["Core/Series/Series.js"],t["Core/Globals.js"],t["Mixins/OnSeries.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i){function r(t){f[t+"pin"]=function(n,e,l,a,i){var r=i&&i.anchorX;i=i&&i.anchorY,"circle"===t&&a>l&&(n-=Math.round((a-l)/2),l=a);var o=f[t](n,e,l,a);if(r&&i){var s=r;"circle"===t?s=n+l/2:(l=o[1],"M"===(n=o[0])[0]&&"L"===l[0]&&(s=(n[1]+l[1])/2)),o.push(["M",s,e>i?e:e+a],["L",r,i]),o=o.concat(f.circle(r-1,i-1,2,2))}return o}}var o=n.noop,s=i.addEvent,u=i.defined,c=i.isNumber,h=i.merge,d=i.objectEach,p=i.wrap;i=n.Renderer;var g=n.Series,m=n.TrackerMixin,b=n.VMLRenderer,f=a.prototype.symbols;t.seriesType("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:g.prototype.init,pointAttribs:function(t,n){var e=this.options,l=t&&t.color||this.color,a=e.lineColor,i=t&&t.lineWidth;return t=t&&t.fillColor||e.fillColor,n&&(t=e.states[n].fillColor,a=e.states[n].lineColor,i=e.states[n].lineWidth),{fill:t||l,stroke:a||l,"stroke-width":i||e.lineWidth||0}},translate:e.translate,getPlotBox:e.getPlotBox,drawPoints:function(){var t,e=this.points,a=this.chart,i=a.renderer,r=a.inverted,o=this.options,s=o.y,c=this.yAxis,g={},m=[];for(t=e.length;t--;){var b=e[t],f=(r?b.plotY:b.plotX)>this.xAxis.len,y=b.plotX,v=b.stackIndex,C=b.options.shape||o.shape,S=b.plotY;void 0!==S&&(S=b.plotY+s-(void 0!==v&&v*o.stackDistance)),b.anchorX=v?void 0:b.plotX;var M=v?void 0:b.plotY,_="flag"!==C;v=b.graphic,void 0!==S&&0<=y&&!f?(v||(v=b.graphic=i.label("",null,null,C,null,null,o.useHTML),a.styledMode||v.attr(this.pointAttribs(b)).css(h(o.style,b.style)),v.attr({align:_?"center":"left",width:o.width,height:o.height,"text-align":o.textAlign}).addClass("highcharts-point").add(this.markerGroup),b.graphic.div&&(b.graphic.div.point=b),a.styledMode||v.shadow(o.shadow),v.isNew=!0),0<y&&(y-=v.strokeWidth()%2),C={y:S,anchorY:M},o.allowOverlapX&&(C.x=y,C.anchorX=b.anchorX),v.attr({text:b.options.title||o.title||"A"})[v.isNew?"attr":"animate"](C),o.allowOverlapX||(g[b.plotX]?g[b.plotX].size=Math.max(g[b.plotX].size,v.width):g[b.plotX]={align:_?.5:0,size:v.width,target:y,anchorX:y}),b.tooltipPos=[y,S+c.pos-a.plotTop]):v&&(b.graphic=v.destroy())}o.allowOverlapX||(d(g,function(t){t.plotX=t.anchorX,m.push(t)}),n.distribute(m,r?c.len:this.xAxis.len,100),e.forEach(function(t){var n=t.graphic&&g[t.plotX];n&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:n.pos+n.align*n.size,anchorX:t.anchorX}),u(n.pos)?t.graphic.isNew=!1:(t.graphic.attr({x:-9999,anchorX:-9999}),t.graphic.isNew=!0))})),o.useHTML&&p(this.markerGroup,"on",function(t){return l.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var t=this.points;m.drawTrackerPoint.apply(this),t.forEach(function(n){var e=n.graphic;e&&s(e.element,"mouseover",function(){0<n.stackIndex&&!n.raised&&(n._y=e.y,e.attr({y:n._y-8}),n.raised=!0),t.forEach(function(t){t!==n&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:function(t){t&&this.setClip()},setClip:function(){g.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])},buildKDTree:o,invertGroups:o},{isValid:function(){return c(this.y)||void 0===this.y}}),f.flag=function(t,n,e,l,a){var i=a&&a.anchorX||t,r=f.circle(i-1,(a=a&&a.anchorY||n)-1,2,2);return r.push(["M",i,a],["L",t,n+l],["L",t,n],["L",t+e,n],["L",t+e,n+l],["L",t,n+l],["Z"]),r},r("circle"),r("square"),i===b&&["circlepin","flag","squarepin"].forEach(function(t){b.prototype.symbols[t]=f[t]})}),n(t,"Extensions/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Options.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i){var r=l.defaultOptions,o=i.addEvent,s=i.createElement,u=i.css,c=i.defined,h=i.destroyObjectProperties,d=i.discardElement,p=i.extend,g=i.fireEvent,m=i.isNumber,b=i.merge,f=i.objectEach,y=i.pick,v=i.pInt,C=i.splat;p(r,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),r.lang=b(r.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});var S=function(){function n(t){this.buttons=void 0,this.buttonOptions=n.prototype.defaultButtons,this.options=void 0,this.chart=t,this.init(t)}return n.prototype.clickButton=function(n,e){var l=this.chart,a=this.buttonOptions[n],i=l.xAxis[0],r=l.scroller&&l.scroller.getUnionExtremes()||i||{},s=r.dataMin,u=r.dataMax,h=i&&Math.round(Math.min(i.max,y(u,i.max))),d=a.type;r=a._range;var p,g=a.dataGrouping;if(null!==s&&null!==u){if(l.fixedRange=r,g&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(i||{chart:this.chart},g,!1),this.frozenStates=a.preserveDataGrouping),"month"===d||"year"===d)if(i){var b=i.minFromRange.call(d={range:a,max:h,chart:l,dataMin:s,dataMax:u});m(d.newMax)&&(h=d.newMax)}else r=a;else if(r)b=Math.max(h-r,s),h=Math.min(b+r,u);else if("ytd"===d){if(!i)return void(this.deferredYTDClick=n);void 0===u&&(s=Number.MAX_VALUE,u=Number.MIN_VALUE,l.series.forEach(function(t){t=t.xData,s=Math.min(t[0],s),u=Math.max(t[t.length-1],u)}),e=!1),b=p=(h=this.getYTDExtremes(u,s,l.time.useUTC)).min,h=h.max}else"all"===d&&i&&(b=s,h=u);if(c(b)&&(b+=a._offsetMin),c(h)&&(h+=a._offsetMax),this.setSelected(n),i)i.setExtremes(b,h,y(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:a});else{var f=C(l.options.xAxis)[0],v=f.range;f.range=r;var S=f.min;f.min=p,o(l,"load",function(){f.range=v,f.min=S})}}},n.prototype.setSelected=function(t){this.selected=this.options.selected=t},n.prototype.init=function(t){var n=this,e=t.options.rangeSelector,l=e.buttons||n.defaultButtons.slice(),a=e.selected,i=function(){var t=n.minInput,e=n.maxInput;t&&t.blur&&g(t,"blur"),e&&e.blur&&g(e,"blur")};n.chart=t,n.options=e,n.buttons=[],n.buttonOptions=l,this.unMouseDown=o(t.container,"mousedown",i),this.unResize=o(t,"resize",i),l.forEach(n.computeButtonRange),void 0!==a&&l[a]&&this.clickButton(a,!1),o(t,"load",function(){t.xAxis&&t.xAxis[0]&&o(t.xAxis[0],"setExtremes",function(e){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==e.trigger&&"updatedData"!==e.trigger&&n.forcedDataGrouping&&!n.frozenStates&&this.setDataGrouping(!1,!1)})})},n.prototype.updateButtonStates=function(){var t=this,n=this.chart,e=n.xAxis[0],l=Math.round(e.max-e.min),a=!e.hasVisibleSeries,i=n.scroller&&n.scroller.getUnionExtremes()||e,r=i.dataMin,o=i.dataMax,s=(n=t.getYTDExtremes(o,r,n.time.useUTC)).min,u=n.max,c=t.selected,h=m(c),d=t.options.allButtonsEnabled,p=t.buttons;t.buttonOptions.forEach(function(n,i){var g=n._range,m=n.type,b=n.count||1,f=p[i],y=0,v=n._offsetMax-n._offsetMin;n=i===c;var C=g>o-r,S=g<e.minRange,M=!1,_=!1;g=g===l,("month"===m||"year"===m)&&l+36e5>=864e5*{month:28,year:365}[m]*b-v&&l-36e5<=864e5*{month:31,year:366}[m]*b+v?g=!0:"ytd"===m?(g=u-s+v===l,M=!n):"all"===m&&(g=e.max-e.min>=o-r,_=!n&&h&&g),b=n&&g||g&&!h&&!M||n&&t.frozenStates,(m=!d&&(C||S||_||a))?y=3:b&&(h=!0,y=2),f.state!==y&&(f.setState(y),0===y&&c===i&&t.setSelected(null))})},n.prototype.computeButtonRange=function(t){var n=t.type,e=t.count||1,l={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};l[n]?t._range=l[n]*e:"month"!==n&&"year"!==n||(t._range=864e5*{month:30,year:365}[n]*e),t._offsetMin=y(t.offsetMin,0),t._offsetMax=y(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},n.prototype.setInputValue=function(t,n){var e=this.chart.options.rangeSelector,l=this.chart.time,a=this[t+"Input"];c(n)&&(a.previousValue=a.HCTime,a.HCTime=n),a.value=l.dateFormat(e.inputEditDateFormat||"%Y-%m-%d",a.HCTime),this[t+"DateBox"].attr({text:l.dateFormat(e.inputDateFormat||"%b %e, %Y",a.HCTime)})},n.prototype.showInput=function(t){var n=this.inputGroup,e=this[t+"DateBox"];u(this[t+"Input"],{left:n.translateX+e.x+"px",top:n.translateY+"px",width:e.width-2+"px",height:e.height-2+"px",border:"2px solid silver"})},n.prototype.hideInput=function(t){u(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},n.prototype.defaultInputDateParser=function(t,n){var l=new Date;return e.isSafari?Date.parse(t.split(" ").join("T")):n?Date.parse(t+"Z"):Date.parse(t)-6e4*l.getTimezoneOffset()},n.prototype.drawInput=function(t){function n(){var t=l.value,n=o.xAxis[0],e=o.scroller&&o.scroller.xAxis?o.scroller.xAxis:n,a=e.dataMin,r=e.dataMax;(e=(d.inputDateParser||C)(t,o.time.useUTC))!==l.previousValue&&(l.previousValue=e,m(e)||(e=t.split("-"),e=Date.UTC(v(e[0]),v(e[1])-1,v(e[2]))),m(e)&&(o.time.useUTC||(e+=6e4*(new Date).getTimezoneOffset()),f?e>i.maxInput.HCTime?e=void 0:e<a&&(e=a):e<i.minInput.HCTime?e=void 0:e>r&&(e=r),void 0!==e&&n.setExtremes(f?e:n.min,f?n.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}var l,a,i=this,o=i.chart,c=o.renderer.style||{},h=o.renderer,d=o.options.rangeSelector,g=i.div,f="min"===t,y=this.inputGroup,C=this.defaultInputDateParser;this[t+"Label"]=a=h.label(r.lang[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(y),y.offset+=a.width+5,this[t+"DateBox"]=h=h.label("",y.offset).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth||90,height:d.inputBoxHeight||17,"text-align":"center"}).on("click",function(){i.showInput(t),i[t+"Input"].focus()}),o.styledMode||h.attr({stroke:d.inputBoxBorderColor||"#cccccc","stroke-width":1}),h.add(y),y.offset+=h.width+(f?10:0),this[t+"Input"]=l=s("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:o.plotTop+"px"},g),o.styledMode||(a.css(b(c,d.labelStyle)),h.css(b({color:"#333333"},c,d.inputStyle)),u(l,p({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:"-9999em"},d.inputStyle))),l.onfocus=function(){i.showInput(t)},l.onblur=function(){l===e.doc.activeElement&&n(),i.hideInput(t),l.blur()},l.onchange=n,l.onkeypress=function(t){13===t.keyCode&&n()}},n.prototype.getPosition=function(){var t=this.chart,n=t.options.rangeSelector;return{buttonTop:(t="top"===n.verticalAlign?t.plotTop-t.axisOffset[0]:0)+n.buttonPosition.y,inputTop:t+n.inputPosition.y-10}},n.prototype.getYTDExtremes=function(t,n,e){var l=this.chart.time,a=new l.Date(t),i=l.get("FullYear",a);return e=e?l.Date.UTC(i,0,1):+new l.Date(i,0,1),n=Math.max(n||0,e),a=a.getTime(),{max:Math.min(t||a,a),min:n}},n.prototype.render=function(t,n){var e=this,l=e.chart,a=l.renderer,i=l.container,o=l.options,u=o.exporting&&!1!==o.exporting.enabled&&o.navigation&&o.navigation.buttonOptions,c=r.lang,h=e.div,d=o.rangeSelector,p=y(o.chart.style&&o.chart.style.zIndex,0)+1;o=d.floating;var g=e.buttons;h=e.inputGroup;var m,b=d.buttonTheme,f=d.buttonPosition,v=d.inputPosition,C=d.inputEnabled,S=b&&b.states,M=l.plotLeft,_=e.buttonGroup,L=e.options.verticalAlign,O=l.legend,A=O&&O.options,T=f.y,D=v.y,P=l.hasLoaded,x=P?"animate":"attr",w=0,k=0;if(!1!==d.enabled){e.rendered||(e.group=m=a.g("range-selector-group").attr({zIndex:7}).add(),e.buttonGroup=_=a.g("range-selector-buttons").add(m),e.zoomText=a.text(c.rangeSelectorZoom,0,15).add(_),l.styledMode||(e.zoomText.css(d.labelStyle),b["stroke-width"]=y(b["stroke-width"],0)),e.buttonOptions.forEach(function(t,n){g[n]=a.button(t.text,0,0,function(l){var a,i=t.events&&t.events.click;i&&(a=i.call(t,l)),!1!==a&&e.clickButton(n),e.isActive=!0},b,S&&S.hover,S&&S.select,S&&S.disabled).attr({"text-align":"center"}).add(_)}),!1!==C&&(e.div=h=s("div",null,{position:"relative",height:0,zIndex:p}),i.parentNode.insertBefore(h,i),e.inputGroup=h=a.g("input-group").add(m),h.offset=0,e.drawInput("min"),e.drawInput("max"))),e.zoomText[x]({x:y(M+f.x,M)});var I=y(M+f.x,M)+e.zoomText.getBBox().width+5;e.buttonOptions.forEach(function(t,n){g[n][x]({x:I}),I+=g[n].width+y(d.buttonSpacing,5)}),M=l.plotLeft-l.spacing[3],e.updateButtonStates(),u&&this.titleCollision(l)&&"top"===L&&"right"===f.align&&f.y+_.getBBox().height-12<(u.y||0)+u.height&&(w=-40),i=f.x-l.spacing[3],"right"===f.align?i+=w-M:"center"===f.align&&(i-=M/2),_.align({y:f.y,width:_.getBBox().width,align:f.align,x:i},!0,l.spacingBox),e.group.placed=P,e.buttonGroup.placed=P,!1!==C&&(w=u&&this.titleCollision(l)&&"top"===L&&"right"===v.align&&v.y-h.getBBox().height-12<(u.y||0)+u.height+l.spacing[0]?-40:0,"left"===v.align?i=M:"right"===v.align&&(i=-Math.max(l.axisOffset[1],-w)),h.align({y:v.y,width:h.getBBox().width,align:v.align,x:v.x+i-2},!0,l.spacingBox),u=h.alignAttr.translateX+h.alignOptions.x-w+h.getBBox().x+2,i=h.alignOptions.width,c=_.alignAttr.translateX+_.getBBox().x,M=_.getBBox().width+20,(v.align===f.align||c+M>u&&u+i>c&&T<D+h.getBBox().height)&&h.attr({translateX:h.alignAttr.translateX+(l.axisOffset[1]>=-w?0:-w),translateY:h.alignAttr.translateY+_.getBBox().height+10}),e.setInputValue("min",t),e.setInputValue("max",n),e.inputGroup.placed=P),e.group.align({verticalAlign:L},!0,l.spacingBox),t=e.group.getBBox().height+20,n=e.group.alignAttr.translateY,"bottom"===L&&(k=n-(t=t+(O=A&&"bottom"===A.verticalAlign&&A.enabled&&!A.floating?O.legendHeight+y(A.margin,10):0)-20)-(o?0:d.y)-(l.titleOffset?l.titleOffset[2]:0)-10),"top"===L?(o&&(k=0),l.titleOffset&&l.titleOffset[0]&&(k=l.titleOffset[0]),k+=l.margin[0]-l.spacing[0]||0):"middle"===L&&(D===T?k=0>D?n+void 0:n:(D||T)&&(k=0>D||0>T?k-Math.min(D,T):n-t+NaN)),e.group.translate(d.x,d.y+Math.floor(k)),!1!==C&&(e.minInput.style.marginTop=e.group.translateY+"px",e.maxInput.style.marginTop=e.group.translateY+"px"),e.rendered=!0}},n.prototype.getHeight=function(){var t=this.options,n=this.group,e=t.y,l=t.buttonPosition.y,a=t.inputPosition.y;return t.height?t.height:(t=n?n.getBBox(!0).height+13+e:0,n=Math.min(a,l),(0>a&&0>l||0<a&&0<l)&&(t+=Math.abs(n)),t)},n.prototype.titleCollision=function(t){return!(t.options.title.text||t.options.subtitle.text)},n.prototype.update=function(t){var n=this.chart;b(!0,n.options.rangeSelector,t),this.destroy(),this.init(n),n.rangeSelector.render()},n.prototype.destroy=function(){var t=this,e=t.minInput,l=t.maxInput;t.unMouseDown(),t.unResize(),h(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),l&&(l.onfocus=l.onblur=l.onchange=null),f(t,function(e,l){e&&"chart"!==l&&(e instanceof a?e.destroy():e instanceof window.HTMLElement&&d(e)),e!==n.prototype[l]&&(t[l]=null)},this)},n}();return S.prototype.defaultButtons=[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],t.prototype.minFromRange=function(){var t=this.range,n=t.type,e=this.max,l=this.chart.time,a=function(t,e){var a="year"===n?"FullYear":"Month",i=new l.Date(t),r=l.get(a,i);return l.set(a,i,r+e),r===l.get(a,i)&&l.set("Date",i,0),i.getTime()-t};if(m(t))var i=e-t,r=t;else i=e+a(e,-t.count),this.chart&&(this.chart.fixedRange=e-i);var o=y(this.dataMin,Number.MIN_VALUE);return m(i)||(i=o),i<=o&&(i=o,void 0===r&&(r=a(i,t.count)),this.newMax=Math.min(i+r,this.dataMax)),m(e)||(i=void 0),i},e.RangeSelector||(o(n,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new S(this))}),o(n,"beforeRender",function(){var t=this.axes,n=this.rangeSelector;n&&(m(n.deferredYTDClick)&&(n.clickButton(n.deferredYTDClick),delete n.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),n.render(),t=n.options.verticalAlign,n.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),o(n,"update",function(t){var n=t.options.rangeSelector;t=this.rangeSelector;var e=this.extraBottomMargin,l=this.extraTopMargin;n&&n.enabled&&!c(t)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new S(this)),this.extraTopMargin=this.extraBottomMargin=!1,t&&(t.render(),n=n&&n.verticalAlign||t.options&&t.options.verticalAlign,t.options.floating||("bottom"===n?this.extraBottomMargin=!0:"middle"!==n&&(this.extraTopMargin=!0)),this.extraBottomMargin!==e||this.extraTopMargin!==l)&&(this.isDirtyBox=!0)}),o(n,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),o(n,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),n.prototype.callbacks.push(function(t){function n(){e=t.xAxis[0].getExtremes(),l=t.legend,i=null==r?void 0:r.options.verticalAlign,m(e.min)&&r.render(e.min,e.max),r&&l.display&&"top"===i&&i===l.options.verticalAlign&&((a=b(t.spacingBox)).y="vertical"===l.options.layout?t.plotTop:a.y+r.getHeight(),l.group.placed=!1,l.align(a))}var e,l,a,i,r=t.rangeSelector;if(r){var s=o(t.xAxis[0],"afterSetExtremes",function(t){r.render(t.min,t.max)}),u=o(t,"redraw",n);n()}o(t,"destroy",function(){r&&(u(),s())})}),e.RangeSelector=S),e.RangeSelector}),n(t,"Core/Chart/StockChart.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Series/LineSeries.js"],t["Core/Series/Point.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r){var o=r.addEvent,s=r.arrayMax,u=r.arrayMin,c=r.clamp,h=r.defined,d=r.extend,p=r.find,g=r.format,m=r.getOptions,b=r.isNumber,f=r.isString,y=r.merge,v=r.pick,C=r.splat,S=(r=l.prototype).init,M=r.processData,_=a.prototype.tooltipFormatter;e.StockChart=e.stockChart=function(t,e,l){var a,i=f(t)||t.nodeName,r=arguments[i?1:0],o=r,s=r.series,u=m(),c=v(r.navigator&&r.navigator.enabled,u.navigator.enabled,!0);return r.xAxis=C(r.xAxis||{}).map(function(t,n){return y({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},u.xAxis,u.xAxis&&u.xAxis[n],t,{type:"datetime",categories:null},c?{startOnTick:!1,endOnTick:!1}:null)}),r.yAxis=C(r.yAxis||{}).map(function(t,n){return a=v(t.opposite,!0),y({labels:{y:-2},opposite:a,showLastLabel:!(!t.categories&&"category"!==t.type),title:{text:null}},u.yAxis,u.yAxis&&u.yAxis[n],t)}),r.series=null,(r=y({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:c},scrollbar:{enabled:v(u.scrollbar.enabled,!0)},rangeSelector:{enabled:v(u.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:v(u.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},r,{isStock:!0})).series=o.series=s,i?new n(t,r,l):new n(r,e)},o(l,"setOptions",function(t){var n;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?n={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(n={marker:{enabled:!1,radius:2}}),n&&(t.plotOptions[this.type]=y(t.plotOptions[this.type],n)))}),o(t,"autoLabelAlign",function(t){var n=this.chart,e=this.options;n=n._labelPanes=n._labelPanes||{};var l=this.options.labels;this.chart.options.isStock&&"yAxis"===this.coll&&!n[e=e.top+","+e.height]&&l.enabled&&(15===l.x&&(l.x=0),void 0===l.align&&(l.align="right"),n[e]=this,t.align="right",t.preventDefault())}),o(t,"destroy",function(){var t=this.chart,n=this.options&&this.options.top+","+this.options.height;n&&t._labelPanes&&t._labelPanes[n]===this&&delete t._labelPanes[n]}),o(t,"getPlotLinePath",function(t){var n,e,l,a,i=this,r=this.isLinked&&!this.series?this.linkedParent.series:this.series,o=i.chart,s=o.renderer,u=i.left,d=i.top,g=[],m=[],y=t.translatedValue,C=t.value,S=t.force;if(o.options.isStock&&!1!==t.acrossPanes&&"xAxis"===i.coll||"yAxis"===i.coll){t.preventDefault(),m=function(t){var n="xAxis"===t?"yAxis":"xAxis";return b(t=i.options[n])?[o[n][t]]:f(t)?[o.get(t)]:r.map(function(t){return t[n]})}(i.coll),(i.isXAxis?o.yAxis:o.xAxis).forEach(function(t){if(!h(t.options.id)||-1===t.options.id.indexOf("navigator")){var n=t.isXAxis?"yAxis":"xAxis";n=h(t.options[n])?o[n][t.options[n]]:o[n][0],i===n&&m.push(t)}});var M=m.length?[]:[i.isXAxis?o.yAxis[0]:o.xAxis[0]];m.forEach(function(t){-1!==M.indexOf(t)||p(M,function(n){return n.pos===t.pos&&n.len===t.len})||M.push(t)});var _=v(y,i.translate(C,null,null,t.old));b(_)&&M.forEach(i.horiz?function(t){var r;a=(e=t.pos)+t.len,n=l=Math.round(_+i.transB),"pass"!==S&&(n<u||n>u+i.width)&&(S?n=l=c(n,u,u+i.width):r=!0),r||g.push(["M",n,e],["L",l,a])}:function(t){var r;l=(n=t.pos)+t.len,e=a=Math.round(d+i.height-_),"pass"!==S&&(e<d||e>d+i.height)&&(S?e=a=c(e,d,d+i.height):r=!0),r||g.push(["M",n,e],["L",l,a])}),t.path=0<g.length?s.crispPolyLine(g,t.lineWidth||1):null}}),i.prototype.crispPolyLine=function(t,n){for(var e=0;e<t.length;e+=2){var l=t[e],a=t[e+1];l[1]===a[1]&&(l[1]=a[1]=Math.round(l[1])-n%2/2),l[2]===a[2]&&(l[2]=a[2]=Math.round(l[2])+n%2/2)}return t},o(t,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),o(t,"afterDrawCrosshair",function(t){var n,e;if(h(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var l=this.chart,a=this.logarithmic,i=this.options.crosshair.label,r=this.horiz,o=this.opposite,s=this.left,u=this.top,c=this.crossLabel,p=i.format,m="",f="inside"===this.options.tickPosition,y=!1!==this.crosshair.snap,C=0,S=t.e||this.cross&&this.cross.e,M=t.point;t=this.min;var _=this.max;a&&(t=a.lin2log(t),_=a.lin2log(_)),a=r?"center":o?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",c||(c=this.crossLabel=l.renderer.label(null,null,null,i.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:i.align||a,padding:v(i.padding,8),r:v(i.borderRadius,3),zIndex:2}).add(this.labelGroup),l.styledMode||c.attr({fill:i.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:i.borderColor||"","stroke-width":i.borderWidth||0}).css(d({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},i.style))),r?(a=y?M.plotX+s:S.chartX,u+=o?0:this.height):(a=o?this.width+s:0,u=y?M.plotY+u:S.chartY),p||i.formatter||(this.dateTime&&(m="%b %d, %Y"),p="{value"+(m?":"+m:"")+"}"),m=y?M[this.isXAxis?"x":"y"]:this.toValue(r?S.chartX:S.chartY),c.attr({text:p?g(p,{value:m},l):i.formatter.call(this,m),x:a,y:u,visibility:m<t||m>_?"hidden":"visible"}),i=c.getBBox(),b(c.y)&&(r?(f&&!o||!f&&o)&&(u=c.y-i.height):u=c.y-i.height/2),r?(n=s-i.x,e=s+this.width-i.x):(n="left"===this.labelAlign?s:0,e="right"===this.labelAlign?s+this.width:l.chartWidth),c.translateX<n&&(C=n-c.translateX),c.translateX+i.width>=e&&(C=-(c.translateX+i.width-e)),c.attr({x:a+C,y:u,anchorX:r?a:this.opposite?0:l.chartWidth,anchorY:r?this.opposite?l.chartHeight:0:u+i.height/2})}}),r.init=function(){S.apply(this,arguments),this.setCompare(this.options.compare)},r.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(n,e){var l=this.compareValue;return void 0!==n&&void 0!==l?(n="value"===t?n-l:n/l*100-(100===this.options.compareBase?0:100),e&&(e.change=n),n):0}:null,this.userOptions.compare=t,this.chart.hasRendered&&(this.isDirty=!0)},r.processData=function(t){var n,e=-1,l=!0===this.options.compareStart?0:1;if(M.apply(this,arguments),this.xAxis&&this.processedYData){var a=this.processedXData,i=this.processedYData,r=i.length;for(this.pointArrayMap&&(e=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),n=0;n<r-l;n++){var o=i[n]&&-1<e?i[n][e]:i[n];if(b(o)&&a[n+l]>=this.xAxis.min&&0!==o){this.compareValue=o;break}}}},o(l,"afterGetExtremes",function(t){if(t=t.dataExtremes,this.modifyValue&&t){var n=[this.modifyValue(t.dataMin),this.modifyValue(t.dataMax)];t.dataMin=u(n),t.dataMax=s(n)}}),t.prototype.setCompare=function(t,n){this.isXAxis||(this.series.forEach(function(n){n.setCompare(t)}),v(n,!0)&&this.chart.redraw())},a.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(0<this.change?"+":"")+(0,this.series.chart.numberFormatter)(this.change,v(this.series.tooltipOptions.changeDecimals,2))),_.apply(this,[t])},o(l,"render",function(){var t=this.chart;if(!(t.is3d&&t.is3d()||t.polar)&&this.xAxis&&!this.xAxis.isRadial){var n=this.yAxis.len;if(this.xAxis.axisLine){var e=t.plotTop+t.plotHeight-this.yAxis.pos-this.yAxis.len,l=Math.floor(this.xAxis.axisLine.strokeWidth()/2);0<=e&&(n-=Math.max(l-e,0))}this.clipBox||t.hasRendered?t[this.sharedClipKey]&&(t[this.sharedClipKey].animate({width:this.xAxis.len,height:n}),t[this.sharedClipKey+"m"]&&t[this.sharedClipKey+"m"].animate({width:this.xAxis.len})):(this.clipBox=y(t.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=n)}}),o(n,"update",function(t){"scrollbar"in(t=t.options)&&this.navigator&&(y(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({},!1),delete t.scrollbar)})}),n(t,"masters/modules/stock.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},NEWP:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Extensions/PriceIndication.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n){var e=n.isArray,l=n.merge;(0,n.addEvent)(t.Series,"afterRender",function(){var t=this.options,n=t.pointRange,a=t.lastVisiblePrice,i=t.lastPrice;if((a||i)&&"highcharts-navigator-series"!==t.id){var r=this.xAxis,o=this.yAxis,s=o.crosshair,u=o.cross,c=o.crossLabel,h=this.points,d=h.length,p=this.xData[this.xData.length-1],g=this.yData[this.yData.length-1];i&&i.enabled&&(o.crosshair=o.options.crosshair=t.lastPrice,o.cross=this.lastPrice,i=e(g)?g[3]:g,o.drawCrosshair(null,{x:p,y:i,plotX:r.toPixels(p,!0),plotY:o.toPixels(i,!0)}),this.yAxis.cross&&(this.lastPrice=this.yAxis.cross,this.lastPrice.y=i)),a&&a.enabled&&0<d&&(n=h[d-1].x===p||null===n?1:2,o.crosshair=o.options.crosshair=l({color:"transparent"},t.lastVisiblePrice),o.cross=this.lastVisiblePrice,t=h[d-n],this.crossLabel&&(this.crossLabel.destroy(),delete o.crossLabel),o.drawCrosshair(null,t),o.cross&&(this.lastVisiblePrice=o.cross,"number"==typeof t.y&&(this.lastVisiblePrice.y=t.y)),this.crossLabel=o.crossLabel),o.crosshair=s,o.cross=u,o.crossLabel=c}})}),n(t,"masters/modules/price-indicator.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F"),e("N9ju")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},NlTZ:function(t,n,e){"use strict";function l(t,n){return!function(t){for(var n,e,l=0,a=1,i=t.length;a<i;)n=e||t[0],l+=((e=t[a])[0]-n[0])*(e[1]+n[1]),a++;return l>0}(n)&&t.length?t[t.length-1].push(n):t.push([n]),t}i.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}},i.prototype.parseZPoint=function(t){var n=this.parsePoint(t);return n.coordinates.push(t.readDoubleLE(16)),n},i.prototype.parsePointArray=function(t,n,e){for(var l=[],a=0;a<e;)l.push(this.parseCoord(t,n)),n+=16,a++;return l},i.prototype.parseZPointArray=function(t,n,e,l){for(var a=0;a<e;)l[a].push(t.readDoubleLE(n)),a++,n+=8;return l},i.prototype.parseArrayGroup=function(t,n,e,l,a){for(var i,r,o=[],s=0,u=0;s<l;)i=u,(r=(u=++s===l?a:t.readInt32LE(e+=4))-i)&&(o.push(this.parsePointArray(t,n,r)),n+=r<<4);return o},i.prototype.parseZArrayGroup=function(t,n,e,l){for(var a=0;a<e;)l[a]=this.parseZPointArray(t,n,l[a].length,l[a]),n+=l[a].length<<3,a++;return l},i.prototype.parseMultiPoint=function(t){var n={},e=this.parseCoord(t,0),l=this.parseCoord(t,16);n.bbox=[e[0],e[1],l[0],l[1]];var a=t.readInt32LE(32,!0);return 1===a?(n.type="Point",n.coordinates=this.parseCoord(t,36)):(n.type="MultiPoint",n.coordinates=this.parsePointArray(t,36,a)),n},i.prototype.parseZMultiPoint=function(t){var n,e=this.parseMultiPoint(t);return"Point"===e.type?(e.coordinates.push(t.readDoubleLE(72)),e):(e.coordinates=this.parseZPointArray(t,52+((n=e.coordinates.length)<<4),n,e.coordinates),e)},i.prototype.parsePolyline=function(t){var n={},e=this.parseCoord(t,0),l=this.parseCoord(t,16);n.bbox=[e[0],e[1],l[0],l[1]];var a=t.readInt32LE(32),i=t.readInt32LE(36);return 1===a?(n.type="LineString",n.coordinates=this.parsePointArray(t,44,i)):(n.type="MultiLineString",n.coordinates=this.parseArrayGroup(t,40+(a<<2),40,a,i)),n},i.prototype.parseZPolyline=function(t){var n=this.parsePolyline(t),e=n.coordinates.length;if("LineString"===n.type)return n.coordinates=this.parseZPointArray(t,60+(e<<4),e,n.coordinates),n;var l=n.coordinates.reduce(function(t,n){return t+n.length},0);return n.coordinates=this.parseZArrayGroup(t,56+(l<<4)+(e<<2),e,n.coordinates),n},i.prototype.polyFuncs=function(t){return"LineString"===t.type?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(l,[]),1===t.coordinates.length?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t))},i.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))},i.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var a={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function i(t,n){if(!(this instanceof i))return new i(t,n);this.buffer=t,this.shpFuncs(n),this.rows=this.getRows()}i.prototype.shpFuncs=function(t){var n,e=this.getShpCode();if(e>20&&(e-=20),!(e in a))throw new Error("I don't know that shp type");this.parseFunc=this[a[e]],this.parseCoord=(n=t)?function(t,e){return n.inverse([t.readDoubleLE(e),t.readDoubleLE(e+8)])}:function(t,n){return[t.readDoubleLE(n),t.readDoubleLE(n+8)]}},i.prototype.getShpCode=function(){return this.parseHeader().shpCode},i.prototype.parseHeader=function(){var t=this.buffer.slice(0,100);return{length:t.readInt32BE(24),version:t.readInt32LE(28),shpCode:t.readInt32LE(32),bbox:[t.readDoubleLE(36),t.readDoubleLE(44),t.readDoubleLE(52),t.readDoubleLE(52)]}},i.prototype.getRows=function(){for(var t,n=100,e=this.buffer.byteLength,l=[];n<e;)t=this.getRow(n),n+=8,n+=t.len,l.push(t.type?this.parseFunc(t.data):null);return l},i.prototype.getRow=function(t){var n=this.buffer.slice(t,t+12),e=n.readInt32BE(4)<<1,l=this.buffer.slice(t+12,t+e+8);return{id:n.readInt32BE(0),len:e,data:l,type:n.readInt32LE(8)}},t.exports=function(t,n){return new i(t,n).rows}},QSbz:function(t,n,e){"use strict";var l=e("oXfm"),a=e("vn/o"),i=e("eydS"),r=e("Tcbo"),o=e("iTZm"),s=Object.prototype.toString,u=0,c=-1,h=0,d=8;function p(t){if(!(this instanceof p))return new p(t);this.options=a.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var e=l.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==u)throw new Error(r[e]);if(n.header&&l.deflateSetHeader(this.strm,n.header),n.dictionary){var g;if(g="string"==typeof n.dictionary?i.string2buf(n.dictionary):"[object ArrayBuffer]"===s.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(e=l.deflateSetDictionary(this.strm,g))!==u)throw new Error(r[e]);this._dict_set=!0}}function g(t,n){var e=new p(n);if(e.push(t,!0),e.err)throw e.msg||r[e.err];return e.result}p.prototype.push=function(t,n){var e,r,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;r=n===~~n?n:!0===n?4:0,o.input="string"==typeof t?i.string2buf(t):"[object ArrayBuffer]"===s.call(t)?new Uint8Array(t):t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(c),o.next_out=0,o.avail_out=c),1!==(e=l.deflate(o,r))&&e!==u)return this.onEnd(e),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||this.onData("string"===this.options.to?i.buf2binstring(a.shrinkBuf(o.output,o.next_out)):a.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==e);return 4===r?(e=l.deflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===u):2!==r||(this.onEnd(u),o.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=p,n.deflate=g,n.deflateRaw=function(t,n){return(n=n||{}).raw=!0,g(t,n)},n.gzip=function(t,n){return(n=n||{}).gzip=!0,g(t,n)}},R4yR:function(t,n,e){"use strict";var l=e("IZ5B"),a=e("tjlA").Buffer;t.exports=function(t){return new l(function(n,e){var l=t.slice(-3),i=new XMLHttpRequest;i.open("GET",t,!0),"prj"!==l&&"cpg"!==l&&(i.responseType="arraybuffer"),i.addEventListener("load",function(){return i.status>399?"prj"===l||"cpg"===l?n(!1):e(new Error(i.status)):n("prj"!==l&&"cpg"!==l?a.from(i.response):i.response)},!1),i.send()})}},RoFX:function(t,n,e){"use strict";var l=e("dBNe"),a=function(){this.data=[]};a.prototype={append:function(t){t=l.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=a},T9b0:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l={COMPONENT:{MITANKS:"MITANK"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN",PROJECT:"PROJECT"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"mi/aggregated ",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",CHART:"mi/timeseries"},LOCATION_LEVEL:{STATION:"Station",GODAVARI:"Godavari",TELANGANA:"Telangana",TAMILNADU:"TAMILNADU",KALESHWARAM:"Kaleshwaram",BASIN:"BASIN",SUBBASIN:"SUBBASIN",RAINFALL:"RAINFALL",STATE:"STATE"},LOCATIONS:{TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}},TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},PROJECT:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY"}}},TDo4:function(t,n){},Tcbo:function(t,n,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},Ua6E:function(t,n,e){"use strict";var l=e("45pY");function a(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var n=0;n<this.data.length;n++)t[n]=255&t[n]}}(a.prototype=new l).byteAt=function(t){return this.data[this.zero+t]},a.prototype.lastIndexOfSignature=function(t){for(var n=t.charCodeAt(0),e=t.charCodeAt(1),l=t.charCodeAt(2),a=t.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===n&&this.data[i+1]===e&&this.data[i+2]===l&&this.data[i+3]===a)return i-this.zero;return-1},a.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,n},t.exports=a},UiC3:function(t,n,e){"use strict";var l=e("GZc8");t.exports=function(t){var n=new l(t).file(/.+/),e={};return n.forEach(function(t){e[t.name]="shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?t.asNodeBuffer():t.asText()}),e}},UkVQ:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Extensions/DragPanes.js",[t["Core/Globals.js"],t["Core/Axis/Axis.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=t.hasTouch,i=l.addEvent,r=l.clamp,o=l.isNumber,s=l.merge,u=l.objectEach,c=l.relativeLength;l=l.wrap;var h=function(){function t(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}return t.prototype.init=function(t,n){this.axis=t,this.options=t.options.resize,this.render(),n||this.addMouseEvents()},t.prototype.render=function(){var t=this.axis,n=t.chart,e=this.options,l=e.x||0,a=e.y,i=r(t.top+t.height+a,n.plotTop,n.plotTop+n.plotHeight),o={};n.styledMode||(o={cursor:e.cursor,stroke:e.lineColor,"stroke-width":e.lineWidth,dashstyle:e.lineDashStyle}),this.lastPos=i-a,this.controlLine||(this.controlLine=n.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),e=n.styledMode?this.controlLine.strokeWidth():e.lineWidth,o.d=n.renderer.crispLine([["M",t.left+l,i],["L",t.left+t.width+l,i]],e),this.controlLine.attr(o)},t.prototype.addMouseEvents=function(){var t,n,e,l=this,r=l.controlLine.element,o=l.axis.chart.container,s=[];l.mouseMoveHandler=t=function(t){l.onMouseMove(t)},l.mouseUpHandler=n=function(t){l.onMouseUp(t)},l.mouseDownHandler=e=function(t){l.onMouseDown(t)},s.push(i(o,"mousemove",t),i(o.ownerDocument,"mouseup",n),i(r,"mousedown",e)),a&&s.push(i(o,"touchmove",t),i(o.ownerDocument,"touchend",n),i(r,"touchstart",e)),l.eventsToUnbind=s},t.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},t.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},t.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},t.prototype.updateAxes=function(t){var n=this,e=n.axis.chart,l=n.options.controlledAxis,a=0===l.next.length?[e.yAxis.indexOf(n.axis)+1]:l.next;l=[n.axis].concat(l.prev);var i=[],s=!1,u=e.plotTop,h=e.plotHeight,d=u+h,p=(t=r(t,u,d))-n.lastPos;1>p*p||([l,a].forEach(function(l,a){l.forEach(function(l,g){var m=(l=o(l)?e.yAxis[l]:a||g?e.get(l):l)&&l.options;if(m&&"navigator-y-axis"!==m.id){g=l.top;var b=Math.round(c(m.minLength,h)),f=Math.round(c(m.maxLength,h));a?(p=t-n.lastPos,m=Math.round(r(l.len-p,b,f)),(g=l.top+p)+m>d&&(t+=f=d-m-g,g+=f),g<u&&(g=u)+m>d&&(m=h),m===b&&(s=!0),i.push({axis:l,options:{top:100*(g-u)/h+"%",height:100*m/h+"%"}})):((m=Math.round(r(t-g,b,f)))===f&&(s=!0),t=g+m,i.push({axis:l,options:{height:100*m/h+"%"}}))}})}),s||(i.forEach(function(t){t.axis.update(t.options,!1)}),e.redraw(!1)))},t.prototype.destroy=function(){var t=this;delete t.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),t.controlLine.destroy(),u(t,function(n,e){t[e]=null})},t.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},t}();return n.keepProps.push("resizer"),i(n,"afterRender",function(){var t=this.resizer,n=this.options.resize;n&&(n=!1!==n.enabled,t?n?t.init(this,!0):t.destroy():n&&(this.resizer=new h(this)))}),i(n,"destroy",function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}),l(e.prototype,"runPointActions",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),l(e.prototype,"drag",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),s(!0,n.defaultYAxisOptions,h.resizerOptions),t.AxisResizer=h,t.AxisResizer}),n(t,"masters/modules/drag-panes.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F"),e("N9ju")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},XiEd:function(t,n,e){"use strict";var l,a,i;!function(r,o){a=[e("4R65")],void 0===(i="function"==typeof(l=r)?l.apply(n,a):l)||(t.exports=i),void 0!==o&&o.L&&r(o.L)}(function(t){t.Editable=t.Evented.extend({statics:{FORWARD:1,BACKWARD:-1},options:{zIndex:1e3,polygonClass:t.Polygon,polylineClass:t.Polyline,markerClass:t.Marker,rectangleClass:t.Rectangle,circleClass:t.Circle,drawingCSSClass:"leaflet-editable-drawing",drawingCursor:"crosshair",editLayer:void 0,featuresLayer:void 0,polylineEditorClass:void 0,polygonEditorClass:void 0,markerEditorClass:void 0,rectangleEditorClass:void 0,circleEditorClass:void 0,lineGuideOptions:{},skipMiddleMarkers:!1},initialize:function(n,e){t.setOptions(this,e),this._lastZIndex=this.options.zIndex,this.map=n,this.editLayer=this.createEditLayer(),this.featuresLayer=this.createFeaturesLayer(),this.forwardLineGuide=this.createLineGuide(),this.backwardLineGuide=this.createLineGuide()},fireAndForward:function(t,n){(n=n||{}).editTools=this,this.fire(t,n),this.map.fire(t,n)},createLineGuide:function(){var n=t.extend({dashArray:"5,10",weight:1,interactive:!1},this.options.lineGuideOptions);return t.polyline([],n)},createVertexIcon:function(n){return t.Browser.mobile&&t.Browser.touch?new t.Editable.TouchVertexIcon(n):new t.Editable.VertexIcon(n)},createEditLayer:function(){return this.options.editLayer||(new t.LayerGroup).addTo(this.map)},createFeaturesLayer:function(){return this.options.featuresLayer||(new t.LayerGroup).addTo(this.map)},moveForwardLineGuide:function(t){this.forwardLineGuide._latlngs.length&&(this.forwardLineGuide._latlngs[1]=t,this.forwardLineGuide._bounds.extend(t),this.forwardLineGuide.redraw())},moveBackwardLineGuide:function(t){this.backwardLineGuide._latlngs.length&&(this.backwardLineGuide._latlngs[1]=t,this.backwardLineGuide._bounds.extend(t),this.backwardLineGuide.redraw())},anchorForwardLineGuide:function(t){this.forwardLineGuide._latlngs[0]=t,this.forwardLineGuide._bounds.extend(t),this.forwardLineGuide.redraw()},anchorBackwardLineGuide:function(t){this.backwardLineGuide._latlngs[0]=t,this.backwardLineGuide._bounds.extend(t),this.backwardLineGuide.redraw()},attachForwardLineGuide:function(){this.editLayer.addLayer(this.forwardLineGuide)},attachBackwardLineGuide:function(){this.editLayer.addLayer(this.backwardLineGuide)},detachForwardLineGuide:function(){this.forwardLineGuide.setLatLngs([]),this.editLayer.removeLayer(this.forwardLineGuide)},detachBackwardLineGuide:function(){this.backwardLineGuide.setLatLngs([]),this.editLayer.removeLayer(this.backwardLineGuide)},blockEvents:function(){this._oldTargets||(this._oldTargets=this.map._targets,this.map._targets={})},unblockEvents:function(){this._oldTargets&&(this.map._targets=t.extend(this.map._targets,this._oldTargets),delete this._oldTargets)},registerForDrawing:function(n){this._drawingEditor&&this.unregisterForDrawing(this._drawingEditor),this.blockEvents(),n.reset(),this._drawingEditor=n,this.map.on("mousemove touchmove",n.onDrawingMouseMove,n),this.map.on("mousedown",this.onMousedown,this),this.map.on("mouseup",this.onMouseup,this),t.DomUtil.addClass(this.map._container,this.options.drawingCSSClass),this.defaultMapCursor=this.map._container.style.cursor,this.map._container.style.cursor=this.options.drawingCursor},unregisterForDrawing:function(n){this.unblockEvents(),t.DomUtil.removeClass(this.map._container,this.options.drawingCSSClass),this.map._container.style.cursor=this.defaultMapCursor,(n=n||this._drawingEditor)&&(this.map.off("mousemove touchmove",n.onDrawingMouseMove,n),this.map.off("mousedown",this.onMousedown,this),this.map.off("mouseup",this.onMouseup,this),n===this._drawingEditor&&(delete this._drawingEditor,n._drawing&&n.cancelDrawing()))},onMousedown:function(t){1==t.originalEvent.which&&(this._mouseDown=t,this._drawingEditor.onDrawingMouseDown(t))},onMouseup:function(n){if(this._mouseDown){var e=this._drawingEditor,l=this._mouseDown;if(this._mouseDown=null,e.onDrawingMouseUp(n),this._drawingEditor!==e)return;var a=t.point(l.originalEvent.clientX,l.originalEvent.clientY),i=t.point(n.originalEvent.clientX,n.originalEvent.clientY).distanceTo(a);Math.abs(i)<9*(window.devicePixelRatio||1)&&this._drawingEditor.onDrawingClick(n)}},drawing:function(){return this._drawingEditor&&this._drawingEditor.drawing()},stopDrawing:function(){this.unregisterForDrawing()},commitDrawing:function(t){this._drawingEditor&&this._drawingEditor.commitDrawing(t)},connectCreatedToMap:function(t){return this.featuresLayer.addLayer(t)},startPolyline:function(t,n){var e=this.createPolyline([],n);return e.enableEdit(this.map).newShape(t),e},startPolygon:function(t,n){var e=this.createPolygon([],n);return e.enableEdit(this.map).newShape(t),e},startMarker:function(t,n){t=t||this.map.getCenter().clone();var e=this.createMarker(t,n);return e.enableEdit(this.map).startDrawing(),e},startRectangle:function(n,e){var l=n||t.latLng([0,0]),a=new t.LatLngBounds(l,l),i=this.createRectangle(a,e);return i.enableEdit(this.map).startDrawing(),i},startCircle:function(t,n){t=t||this.map.getCenter().clone();var e=this.createCircle(t,n);return e.enableEdit(this.map).startDrawing(),e},startHole:function(t,n){t.newHole(n)},createLayer:function(n,e,l){var a=new n(e,l=t.Util.extend({editOptions:{editTools:this}},l));return this.fireAndForward("editable:created",{layer:a}),a},createPolyline:function(t,n){return this.createLayer(n&&n.polylineClass||this.options.polylineClass,t,n)},createPolygon:function(t,n){return this.createLayer(n&&n.polygonClass||this.options.polygonClass,t,n)},createMarker:function(t,n){return this.createLayer(n&&n.markerClass||this.options.markerClass,t,n)},createRectangle:function(t,n){return this.createLayer(n&&n.rectangleClass||this.options.rectangleClass,t,n)},createCircle:function(t,n){return this.createLayer(n&&n.circleClass||this.options.circleClass,t,n)}}),t.extend(t.Editable,{makeCancellable:function(t){t.cancel=function(){t._cancelled=!0}}}),t.Map.mergeOptions({editToolsClass:t.Editable,editable:!1,editOptions:{}}),t.Map.addInitHook(function(){this.whenReady(function(){this.options.editable&&(this.editTools=new this.options.editToolsClass(this,this.options.editOptions))})}),t.Editable.VertexIcon=t.DivIcon.extend({options:{iconSize:new t.Point(8,8)}}),t.Editable.TouchVertexIcon=t.Editable.VertexIcon.extend({options:{iconSize:new t.Point(20,20)}}),t.Editable.VertexMarker=t.Marker.extend({options:{draggable:!0,className:"leaflet-div-icon leaflet-vertex-icon"},initialize:function(n,e,l,a){this.latlng=n,this.latlngs=e,this.editor=l,t.Marker.prototype.initialize.call(this,n,a),this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className}),this.latlng.__vertex=this,this.editor.editLayer.addLayer(this),this.setZIndexOffset(l.tools._lastZIndex+1)},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),this.on("drag",this.onDrag),this.on("dragstart",this.onDragStart),this.on("dragend",this.onDragEnd),this.on("mouseup",this.onMouseup),this.on("click",this.onClick),this.on("contextmenu",this.onContextMenu),this.on("mousedown touchstart",this.onMouseDown),this.on("mouseover",this.onMouseOver),this.on("mouseout",this.onMouseOut),this.addMiddleMarkers()},onRemove:function(n){this.middleMarker&&this.middleMarker.delete(),delete this.latlng.__vertex,this.off("drag",this.onDrag),this.off("dragstart",this.onDragStart),this.off("dragend",this.onDragEnd),this.off("mouseup",this.onMouseup),this.off("click",this.onClick),this.off("contextmenu",this.onContextMenu),this.off("mousedown touchstart",this.onMouseDown),this.off("mouseover",this.onMouseOver),this.off("mouseout",this.onMouseOut),t.Marker.prototype.onRemove.call(this,n)},onDrag:function(n){n.vertex=this,this.editor.onVertexMarkerDrag(n);var e=t.DomUtil.getPosition(this._icon),l=this._map.layerPointToLatLng(e);this.latlng.update(l),this._latlng=this.latlng,this.editor.refresh(),this.middleMarker&&this.middleMarker.updateLatLng();var a=this.getNext();a&&a.middleMarker&&a.middleMarker.updateLatLng()},onDragStart:function(t){t.vertex=this,this.editor.onVertexMarkerDragStart(t)},onDragEnd:function(t){t.vertex=this,this.editor.onVertexMarkerDragEnd(t)},onClick:function(t){t.vertex=this,this.editor.onVertexMarkerClick(t)},onMouseup:function(n){t.DomEvent.stop(n),n.vertex=this,this.editor.map.fire("mouseup",n)},onContextMenu:function(t){t.vertex=this,this.editor.onVertexMarkerContextMenu(t)},onMouseDown:function(t){t.vertex=this,this.editor.onVertexMarkerMouseDown(t)},onMouseOver:function(t){t.vertex=this,this.editor.onVertexMarkerMouseOver(t)},onMouseOut:function(t){t.vertex=this,this.editor.onVertexMarkerMouseOut(t)},delete:function(){var t=this.getNext();this.latlngs.splice(this.getIndex(),1),this.editor.editLayer.removeLayer(this),this.editor.onVertexDeleted({latlng:this.latlng,vertex:this}),this.latlngs.length||this.editor.deleteShape(this.latlngs),t&&t.resetMiddleMarker(),this.editor.refresh()},getIndex:function(){return this.latlngs.indexOf(this.latlng)},getLastIndex:function(){return this.latlngs.length-1},getPrevious:function(){if(!(this.latlngs.length<2)){var t=this.getIndex(),n=t-1;0===t&&this.editor.CLOSED&&(n=this.getLastIndex());var e=this.latlngs[n];return e?e.__vertex:void 0}},getNext:function(){if(!(this.latlngs.length<2)){var t=this.getIndex(),n=t+1;t===this.getLastIndex()&&this.editor.CLOSED&&(n=0);var e=this.latlngs[n];return e?e.__vertex:void 0}},addMiddleMarker:function(t){this.editor.hasMiddleMarkers()&&(t=t||this.getPrevious())&&!this.middleMarker&&(this.middleMarker=this.editor.addMiddleMarker(t,this,this.latlngs,this.editor))},addMiddleMarkers:function(){if(this.editor.hasMiddleMarkers()){var t=this.getPrevious();t&&this.addMiddleMarker(t);var n=this.getNext();n&&n.resetMiddleMarker()}},resetMiddleMarker:function(){this.middleMarker&&this.middleMarker.delete(),this.addMiddleMarker()},split:function(){this.editor.splitShape&&this.editor.splitShape(this.latlngs,this.getIndex())},continue:function(){if(this.editor.continueBackward){var t=this.getIndex();0===t?this.editor.continueBackward(this.latlngs):t===this.getLastIndex()&&this.editor.continueForward(this.latlngs)}}}),t.Editable.mergeOptions({vertexMarkerClass:t.Editable.VertexMarker}),t.Editable.MiddleMarker=t.Marker.extend({options:{opacity:.5,className:"leaflet-div-icon leaflet-middle-icon",draggable:!0},initialize:function(n,e,l,a,i){this.left=n,this.right=e,this.editor=a,this.latlngs=l,t.Marker.prototype.initialize.call(this,this.computeLatLng(),i),this._opacity=this.options.opacity,this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className}),this.editor.editLayer.addLayer(this),this.setVisibility()},setVisibility:function(){var n=this._map.latLngToContainerPoint(this.left.latlng),e=this._map.latLngToContainerPoint(this.right.latlng),l=t.point(this.options.icon.options.iconSize);n.distanceTo(e)<3*l.x?this.hide():this.show()},show:function(){this.setOpacity(this._opacity)},hide:function(){this.setOpacity(0)},updateLatLng:function(){this.setLatLng(this.computeLatLng()),this.setVisibility()},computeLatLng:function(){var t=this.editor.map.latLngToContainerPoint(this.left.latlng),n=this.editor.map.latLngToContainerPoint(this.right.latlng);return this.editor.map.containerPointToLatLng([(t.x+n.x)/2,(t.y+n.y)/2])},onAdd:function(n){t.Marker.prototype.onAdd.call(this,n),t.DomEvent.on(this._icon,"mousedown touchstart",this.onMouseDown,this),n.on("zoomend",this.setVisibility,this)},onRemove:function(n){delete this.right.middleMarker,t.DomEvent.off(this._icon,"mousedown touchstart",this.onMouseDown,this),n.off("zoomend",this.setVisibility,this),t.Marker.prototype.onRemove.call(this,n)},onMouseDown:function(n){var e=t.DomUtil.getPosition(this._icon);if(n={originalEvent:n,latlng:this.editor.map.layerPointToLatLng(e)},0!==this.options.opacity&&(t.Editable.makeCancellable(n),this.editor.onMiddleMarkerMouseDown(n),!n._cancelled)){this.latlngs.splice(this.index(),0,n.latlng),this.editor.refresh();var l=this._icon,a=this.editor.addVertexMarker(n.latlng,this.latlngs);this.editor.onNewVertex(a);var i=a._icon.parentNode;i.removeChild(a._icon),a._icon=l,i.appendChild(a._icon),a._initIcon(),a._initInteraction(),a.setOpacity(1),t.Draggable._dragging=!1,a.dragging._draggable._onDown(n.originalEvent),this.delete()}},delete:function(){this.editor.editLayer.removeLayer(this)},index:function(){return this.latlngs.indexOf(this.right.latlng)}}),t.Editable.mergeOptions({middleMarkerClass:t.Editable.MiddleMarker}),t.Editable.BaseEditor=t.Handler.extend({initialize:function(n,e,l){t.setOptions(this,l),this.map=n,this.feature=e,this.feature.editor=this,this.editLayer=new t.LayerGroup,this.tools=this.options.editTools||n.editTools},addHooks:function(){this.isConnected()?this.onFeatureAdd():this.feature.once("add",this.onFeatureAdd,this),this.onEnable(),this.feature.on(this._getEvents(),this)},removeHooks:function(){this.feature.off(this._getEvents(),this),this.feature.dragging&&this.feature.dragging.disable(),this.editLayer.clearLayers(),this.tools.editLayer.removeLayer(this.editLayer),this.onDisable(),this._drawing&&this.cancelDrawing()},drawing:function(){return!!this._drawing},reset:function(){},onFeatureAdd:function(){this.tools.editLayer.addLayer(this.editLayer),this.feature.dragging&&this.feature.dragging.enable()},hasMiddleMarkers:function(){return!this.options.skipMiddleMarkers&&!this.tools.options.skipMiddleMarkers},fireAndForward:function(t,n){(n=n||{}).layer=this.feature,this.feature.fire(t,n),this.tools.fireAndForward(t,n)},onEnable:function(){this.fireAndForward("editable:enable")},onDisable:function(){this.fireAndForward("editable:disable")},onEditing:function(){this.fireAndForward("editable:editing")},onStartDrawing:function(){this.fireAndForward("editable:drawing:start")},onEndDrawing:function(){this.fireAndForward("editable:drawing:end")},onCancelDrawing:function(){this.fireAndForward("editable:drawing:cancel")},onCommitDrawing:function(t){this.fireAndForward("editable:drawing:commit",t)},onDrawingMouseDown:function(t){this.fireAndForward("editable:drawing:mousedown",t)},onDrawingMouseUp:function(t){this.fireAndForward("editable:drawing:mouseup",t)},startDrawing:function(){this._drawing||(this._drawing=t.Editable.FORWARD),this.tools.registerForDrawing(this),this.onStartDrawing()},commitDrawing:function(t){this.onCommitDrawing(t),this.endDrawing()},cancelDrawing:function(){t.Draggable._dragging=!1,this.onCancelDrawing(),this.endDrawing()},endDrawing:function(){this._drawing=!1,this.tools.unregisterForDrawing(this),this.onEndDrawing()},onDrawingClick:function(n){this.drawing()&&(t.Editable.makeCancellable(n),this.fireAndForward("editable:drawing:click",n),n._cancelled||(this.isConnected()||this.connect(n),this.processDrawingClick(n)))},isConnected:function(){return this.map.hasLayer(this.feature)},connect:function(){this.tools.connectCreatedToMap(this.feature),this.tools.editLayer.addLayer(this.editLayer)},onMove:function(t){this.fireAndForward("editable:drawing:move",t)},onDrawingMouseMove:function(t){this.onMove(t)},_getEvents:function(){return{dragstart:this.onDragStart,drag:this.onDrag,dragend:this.onDragEnd,remove:this.disable}},onDragStart:function(t){this.onEditing(),this.fireAndForward("editable:dragstart",t)},onDrag:function(t){this.onMove(t),this.fireAndForward("editable:drag",t)},onDragEnd:function(t){this.fireAndForward("editable:dragend",t)}}),t.Editable.MarkerEditor=t.Editable.BaseEditor.extend({onDrawingMouseMove:function(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n),this._drawing&&this.feature.setLatLng(n.latlng)},processDrawingClick:function(t){this.fireAndForward("editable:drawing:clicked",t),this.commitDrawing(t)},connect:function(n){n&&(this.feature._latlng=n.latlng),t.Editable.BaseEditor.prototype.connect.call(this,n)}}),t.Editable.PathEditor=t.Editable.BaseEditor.extend({CLOSED:!1,MIN_VERTEX:2,addHooks:function(){return t.Editable.BaseEditor.prototype.addHooks.call(this),this.feature&&this.initVertexMarkers(),this},initVertexMarkers:function(t){if(this.enabled())if(t=t||this.getLatLngs(),s(t))this.addVertexMarkers(t);else for(var n=0;n<t.length;n++)this.initVertexMarkers(t[n])},getLatLngs:function(){return this.feature.getLatLngs()},reset:function(){this.editLayer.clearLayers(),this.initVertexMarkers()},addVertexMarker:function(t,n){return new this.tools.options.vertexMarkerClass(t,n,this)},onNewVertex:function(t){this.fireAndForward("editable:vertex:new",{latlng:t.latlng,vertex:t})},addVertexMarkers:function(t){for(var n=0;n<t.length;n++)this.addVertexMarker(t[n],t)},refreshVertexMarkers:function(t){t=t||this.getDefaultLatLngs();for(var n=0;n<t.length;n++)t[n].__vertex.update()},addMiddleMarker:function(t,n,e){return new this.tools.options.middleMarkerClass(t,n,e,this)},onVertexMarkerClick:function(n){if(t.Editable.makeCancellable(n),this.fireAndForward("editable:vertex:click",n),!(n._cancelled||this.tools.drawing()&&this.tools._drawingEditor!==this)){var e,l=n.vertex.getIndex();n.originalEvent.ctrlKey?this.onVertexMarkerCtrlClick(n):n.originalEvent.altKey?this.onVertexMarkerAltClick(n):n.originalEvent.shiftKey?this.onVertexMarkerShiftClick(n):n.originalEvent.metaKey?this.onVertexMarkerMetaKeyClick(n):l===n.vertex.getLastIndex()&&this._drawing===t.Editable.FORWARD?l>=this.MIN_VERTEX-1&&(e=!0):0===l&&this._drawing===t.Editable.BACKWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX?e=!0:0===l&&this._drawing===t.Editable.FORWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX&&this.CLOSED?e=!0:this.onVertexRawMarkerClick(n),this.fireAndForward("editable:vertex:clicked",n),e&&this.commitDrawing(n)}},onVertexRawMarkerClick:function(t){this.fireAndForward("editable:vertex:rawclick",t),t._cancelled||this.vertexCanBeDeleted(t.vertex)&&t.vertex.delete()},vertexCanBeDeleted:function(t){return t.latlngs.length>this.MIN_VERTEX},onVertexDeleted:function(t){this.fireAndForward("editable:vertex:deleted",t)},onVertexMarkerCtrlClick:function(t){this.fireAndForward("editable:vertex:ctrlclick",t)},onVertexMarkerShiftClick:function(t){this.fireAndForward("editable:vertex:shiftclick",t)},onVertexMarkerMetaKeyClick:function(t){this.fireAndForward("editable:vertex:metakeyclick",t)},onVertexMarkerAltClick:function(t){this.fireAndForward("editable:vertex:altclick",t)},onVertexMarkerContextMenu:function(t){this.fireAndForward("editable:vertex:contextmenu",t)},onVertexMarkerMouseDown:function(t){this.fireAndForward("editable:vertex:mousedown",t)},onVertexMarkerMouseOver:function(t){this.fireAndForward("editable:vertex:mouseover",t)},onVertexMarkerMouseOut:function(t){this.fireAndForward("editable:vertex:mouseout",t)},onMiddleMarkerMouseDown:function(t){this.fireAndForward("editable:middlemarker:mousedown",t)},onVertexMarkerDrag:function(t){this.onMove(t),this.feature._bounds&&this.extendBounds(t),this.fireAndForward("editable:vertex:drag",t)},onVertexMarkerDragStart:function(t){this.fireAndForward("editable:vertex:dragstart",t)},onVertexMarkerDragEnd:function(t){this.fireAndForward("editable:vertex:dragend",t)},setDrawnLatLngs:function(t){this._drawnLatLngs=t||this.getDefaultLatLngs()},startDrawing:function(){this._drawnLatLngs||this.setDrawnLatLngs(),t.Editable.BaseEditor.prototype.startDrawing.call(this)},startDrawingForward:function(){this.startDrawing()},endDrawing:function(){this.tools.detachForwardLineGuide(),this.tools.detachBackwardLineGuide(),this._drawnLatLngs&&this._drawnLatLngs.length<this.MIN_VERTEX&&this.deleteShape(this._drawnLatLngs),t.Editable.BaseEditor.prototype.endDrawing.call(this),delete this._drawnLatLngs},addLatLng:function(n){this._drawing===t.Editable.FORWARD?this._drawnLatLngs.push(n):this._drawnLatLngs.unshift(n),this.feature._bounds.extend(n);var e=this.addVertexMarker(n,this._drawnLatLngs);this.onNewVertex(e),this.refresh()},newPointForward:function(t){this.addLatLng(t),this.tools.attachForwardLineGuide(),this.tools.anchorForwardLineGuide(t)},newPointBackward:function(t){this.addLatLng(t),this.tools.anchorBackwardLineGuide(t)},push:function(n){if(!n)return console.error("L.Editable.PathEditor.push expect a valid latlng as parameter");this._drawing===t.Editable.FORWARD?this.newPointForward(n):this.newPointBackward(n)},removeLatLng:function(t){t.__vertex.delete(),this.refresh()},pop:function(){var n;if(!(this._drawnLatLngs.length<=1))return this.removeLatLng(n=this._drawing===t.Editable.FORWARD?this._drawnLatLngs[this._drawnLatLngs.length-1]:this._drawnLatLngs[0]),this.tools.anchorForwardLineGuide(this._drawing===t.Editable.FORWARD?this._drawnLatLngs[this._drawnLatLngs.length-1]:this._drawnLatLngs[0]),n},processDrawingClick:function(n){n.vertex&&n.vertex.editor===this||(this._drawing===t.Editable.FORWARD?this.newPointForward(n.latlng):this.newPointBackward(n.latlng),this.fireAndForward("editable:drawing:clicked",n))},onDrawingMouseMove:function(n){t.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,n),this._drawing&&(this.tools.moveForwardLineGuide(n.latlng),this.tools.moveBackwardLineGuide(n.latlng))},refresh:function(){this.feature.redraw(),this.onEditing()},newShape:function(t){var n=this.addNewEmptyShape();n&&(this.setDrawnLatLngs(n[0]||n),this.startDrawingForward(),this.fireAndForward("editable:shape:new",{shape:n}),t&&this.newPointForward(t))},deleteShape:function(n,e){var l={shape:n};if(t.Editable.makeCancellable(l),this.fireAndForward("editable:shape:delete",l),!l._cancelled)return n=this._deleteShape(n,e),this.ensureNotFlat&&this.ensureNotFlat(),this.feature.setLatLngs(this.getLatLngs()),this.refresh(),this.reset(),this.fireAndForward("editable:shape:deleted",{shape:n}),n},_deleteShape:function(t,n){if((n=n||this.getLatLngs()).length){var e=this,l=function(t,n){return t.splice(t.indexOf(n),1),t.length||e._deleteShape(t),n};if(n===t)return function(t,n){return t.splice(0,Number.MAX_VALUE)}(n);for(var a=0;a<n.length;a++){if(n[a]===t)return l(n,t);if(-1!==n[a].indexOf(t))return l(n[a],t)}}},deleteShapeAt:function(t){var n=this.feature.shapeAt(t);if(n)return this.deleteShape(n)},appendShape:function(t){this.insertShape(t)},prependShape:function(t){this.insertShape(t,0)},insertShape:function(t,n){this.ensureMulti(),t=this.formatShape(t),void 0===n&&(n=this.feature._latlngs.length),this.feature._latlngs.splice(n,0,t),this.feature.redraw(),this._enabled&&this.reset()},extendBounds:function(t){this.feature._bounds.extend(t.vertex.latlng)},onDragStart:function(n){this.editLayer.clearLayers(),t.Editable.BaseEditor.prototype.onDragStart.call(this,n)},onDragEnd:function(n){this.initVertexMarkers(),t.Editable.BaseEditor.prototype.onDragEnd.call(this,n)}}),t.Editable.PolylineEditor=t.Editable.PathEditor.extend({startDrawingBackward:function(){this._drawing=t.Editable.BACKWARD,this.startDrawing()},continueBackward:function(t){this.drawing()||(t=t||this.getDefaultLatLngs(),this.setDrawnLatLngs(t),t.length>0&&(this.tools.attachBackwardLineGuide(),this.tools.anchorBackwardLineGuide(t[0])),this.startDrawingBackward())},continueForward:function(t){this.drawing()||(t=t||this.getDefaultLatLngs(),this.setDrawnLatLngs(t),t.length>0&&(this.tools.attachForwardLineGuide(),this.tools.anchorForwardLineGuide(t[t.length-1])),this.startDrawingForward())},getDefaultLatLngs:function(n){return!(n=n||this.feature._latlngs).length||n[0]instanceof t.LatLng?n:this.getDefaultLatLngs(n[0])},ensureMulti:function(){this.feature._latlngs.length&&s(this.feature._latlngs)&&(this.feature._latlngs=[this.feature._latlngs])},addNewEmptyShape:function(){if(this.feature._latlngs.length){var t=[];return this.appendShape(t),t}return this.feature._latlngs},formatShape:function(t){return s(t)?t:t[0]?this.formatShape(t[0]):void 0},splitShape:function(n,e){if(e&&!(e>=n.length-1)){this.ensureMulti();var l=this.feature._latlngs.indexOf(n);if(-1!==l){var a=n.slice(0,e+1),i=n.slice(e);i[0]=t.latLng(i[0].lat,i[0].lng,i[0].alt),this.feature._latlngs.splice(l,1,a,i),this.refresh(),this.reset()}}}}),t.Editable.PolygonEditor=t.Editable.PathEditor.extend({CLOSED:!0,MIN_VERTEX:3,newPointForward:function(n){t.Editable.PathEditor.prototype.newPointForward.call(this,n),this.tools.backwardLineGuide._latlngs.length||this.tools.anchorBackwardLineGuide(n),2===this._drawnLatLngs.length&&this.tools.attachBackwardLineGuide()},addNewEmptyHole:function(t){this.ensureNotFlat();var n=this.feature.shapeAt(t);if(n){var e=[];return n.push(e),e}},newHole:function(t){var n=this.addNewEmptyHole(t);n&&(this.setDrawnLatLngs(n),this.startDrawingForward(),t&&this.newPointForward(t))},addNewEmptyShape:function(){if(this.feature._latlngs.length&&this.feature._latlngs[0].length){var t=[];return this.appendShape(t),t}return this.feature._latlngs},ensureMulti:function(){this.feature._latlngs.length&&s(this.feature._latlngs[0])&&(this.feature._latlngs=[this.feature._latlngs])},ensureNotFlat:function(){this.feature._latlngs.length&&!s(this.feature._latlngs)||(this.feature._latlngs=[this.feature._latlngs])},vertexCanBeDeleted:function(n){var e=this.feature.parentShape(n.latlngs);return t.Util.indexOf(e,n.latlngs)>0||t.Editable.PathEditor.prototype.vertexCanBeDeleted.call(this,n)},getDefaultLatLngs:function(){return this.feature._latlngs.length||this.feature._latlngs.push([]),this.feature._latlngs[0]},formatShape:function(t){return!s(t)||t[0]&&0===t[0].length?t:[t]}}),t.Editable.RectangleEditor=t.Editable.PathEditor.extend({CLOSED:!0,MIN_VERTEX:4,options:{skipMiddleMarkers:!0},extendBounds:function(n){var e=n.vertex.getIndex(),l=n.vertex.getNext(),a=n.vertex.getPrevious(),i=n.vertex.latlngs[(e+2)%4],r=new t.LatLngBounds(n.latlng,i);a.latlng.update([n.latlng.lat,i.lng]),l.latlng.update([i.lat,n.latlng.lng]),this.updateBounds(r),this.refreshVertexMarkers()},onDrawingMouseDown:function(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n),this.connect();var e=this.getDefaultLatLngs();3===e.length&&e.push(n.latlng);var l=new t.LatLngBounds(n.latlng,n.latlng);this.updateBounds(l),this.updateLatLngs(l),this.refresh(),this.reset(),n.originalEvent._simulated=!1,this.map.dragging._draggable._onUp(n.originalEvent),e[3].__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function(n){this.commitDrawing(n),n.originalEvent._simulated=!1,t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function(n){n.originalEvent._simulated=!1,t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},getDefaultLatLngs:function(t){return t||this.feature._latlngs[0]},updateBounds:function(t){this.feature._bounds=t},updateLatLngs:function(t){for(var n=this.getDefaultLatLngs(),e=this.feature._boundsToLatLngs(t),l=0;l<n.length;l++)n[l].update(e[l])}}),t.Editable.CircleEditor=t.Editable.PathEditor.extend({MIN_VERTEX:2,options:{skipMiddleMarkers:!0},initialize:function(n,e,l){t.Editable.PathEditor.prototype.initialize.call(this,n,e,l),this._resizeLatLng=this.computeResizeLatLng()},computeResizeLatLng:function(){var t=(this.feature._radius||this.feature._mRadius)*Math.cos(Math.PI/4),n=this.map.project(this.feature._latlng);return this.map.unproject([n.x+t,n.y-t])},updateResizeLatLng:function(){this._resizeLatLng.update(this.computeResizeLatLng()),this._resizeLatLng.__vertex.update()},getLatLngs:function(){return[this.feature._latlng,this._resizeLatLng]},getDefaultLatLngs:function(){return this.getLatLngs()},onVertexMarkerDrag:function(n){1===n.vertex.getIndex()?this.resize(n):this.updateResizeLatLng(n),t.Editable.PathEditor.prototype.onVertexMarkerDrag.call(this,n)},resize:function(t){var n=this.feature._latlng.distanceTo(t.latlng);this.feature.setRadius(n)},onDrawingMouseDown:function(n){t.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,n),this._resizeLatLng.update(n.latlng),this.feature._latlng.update(n.latlng),this.connect(),n.originalEvent._simulated=!1,this.map.dragging._draggable._onUp(n.originalEvent),this._resizeLatLng.__vertex.dragging._draggable._onDown(n.originalEvent)},onDrawingMouseUp:function(n){this.commitDrawing(n),n.originalEvent._simulated=!1,t.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,n)},onDrawingMouseMove:function(n){n.originalEvent._simulated=!1,t.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,n)},onDrag:function(n){t.Editable.PathEditor.prototype.onDrag.call(this,n),this.feature.dragging.updateLatLng(this._resizeLatLng)}});var n={createEditor:function(t){t=t||this._map;var n=(this.options.editOptions||{}).editTools||t.editTools;if(!n)throw Error("Unable to detect Editable instance.");return new(this.options.editorClass||this.getEditorClass(n))(t,this,this.options.editOptions)},enableEdit:function(t){return this.editor||this.createEditor(t),this.editor.enable(),this.editor},editEnabled:function(){return this.editor&&this.editor.enabled()},disableEdit:function(){this.editor&&(this.editor.disable(),delete this.editor)},toggleEdit:function(){this.editEnabled()?this.disableEdit():this.enableEdit()},_onEditableAdd:function(){this.editor&&this.enableEdit()}},e={getEditorClass:function(n){return n&&n.options.polylineEditorClass?n.options.polylineEditorClass:t.Editable.PolylineEditor},shapeAt:function(t,n){var e=null;if(!(n=n||this._latlngs).length)return e;if(s(n)&&this.isInLatLngs(t,n))e=n;else for(var l=0;l<n.length;l++)if(this.isInLatLngs(t,n[l]))return n[l];return e},isInLatLngs:function(n,e){if(!e)return!1;var l,a,i,r,o=[],s=this._clickTolerance();if(this._projectLatlngs(e,o,this._pxBounds),o=o[0],r=this._map.latLngToLayerPoint(n),!this._pxBounds.contains(r))return!1;for(l=1,i=o.length,a=0;l<i;a=l++)if(t.LineUtil.pointToSegmentDistance(r,o[a],o[l])<=s)return!0;return!1}},l={getEditorClass:function(n){return n&&n.options.polygonEditorClass?n.options.polygonEditorClass:t.Editable.PolygonEditor},shapeAt:function(t,n){var e=null;if(!(n=n||this._latlngs).length)return e;if(s(n)&&this.isInLatLngs(t,n))e=n;else if(s(n[0])&&this.isInLatLngs(t,n[0]))e=n;else for(var l=0;l<n.length;l++)if(this.isInLatLngs(t,n[l][0]))return n[l];return e},isInLatLngs:function(t,n){var e,l,a,i,r,o=!1;for(a=0,i=(r=n.length)-1;a<r;i=a++)(e=n[a]).lat>t.lat!=(l=n[i]).lat>t.lat&&t.lng<(l.lng-e.lng)*(t.lat-e.lat)/(l.lat-e.lat)+e.lng&&(o=!o);return o},parentShape:function(n,e){if(e=e||this._latlngs){var l=t.Util.indexOf(e,n);if(-1!==l)return e;for(var a=0;a<e.length;a++)if(-1!==(l=t.Util.indexOf(e[a],n)))return e[a]}}},a={getEditorClass:function(n){return n&&n.options.markerEditorClass?n.options.markerEditorClass:t.Editable.MarkerEditor}},i={getEditorClass:function(n){return n&&n.options.rectangleEditorClass?n.options.rectangleEditorClass:t.Editable.RectangleEditor}},r={getEditorClass:function(n){return n&&n.options.circleEditorClass?n.options.circleEditorClass:t.Editable.CircleEditor}},o=function(){this.on("add",this._onEditableAdd)},s=t.LineUtil.isFlat||t.LineUtil._flat||t.Polyline._flat;t.Polyline&&(t.Polyline.include(n),t.Polyline.include(e),t.Polyline.addInitHook(o)),t.Polygon&&(t.Polygon.include(n),t.Polygon.include(l)),t.Marker&&(t.Marker.include(n),t.Marker.include(a),t.Marker.addInitHook(o)),t.Rectangle&&(t.Rectangle.include(n),t.Rectangle.include(i)),t.Circle&&(t.Circle.include(n),t.Circle.include(r)),t.LatLng.prototype.update=function(n){n=t.latLng(n),this.lat=n.lat,this.lng=n.lng}},window)},Xkpr:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("MCLT"),a=e("RShD"),i=function(){function t(t){this.ngControl=t,Object(l.isNullOrUndefined)(this.allowedDecimal)&&(this.allowedDecimal=4),Object(l.isNullOrUndefined)(this.allowedNumbers)&&(this.allowedNumbers=16),Object(l.isNullOrUndefined)(this.validator)&&(this.validator="decimal"),Object(a.d)(this.minValue)&&(this.minValue=-1e22),Object(a.d)(this.maxValue)&&(this.maxValue=1e22)}return t.prototype.onInput=function(t){Object(a.d)(this.minValue)&&(this.minValue=-1e22),Object(a.d)(this.maxValue)&&(this.maxValue=1e22);var n="";if("number"===this.validator?n=t.replace(/[^0-9]/g,""):"decimal"===this.validator?n=t.replace(/[^0-9\.]/g,""):"alphabetic"===this.validator?n=t.replace(/[^a-zA-Z]/g,""):"alphaNumeric"===this.validator?n=t.replace(/[^a-zA-Z0-9_]/g,""):"alphabeticWithSpace"===this.validator&&(n=t.replace(/[^a-zA-Z ]/g,"")),!isNaN(parseFloat(t))&&parseInt(t).toString().length>=parseInt(this.minValue.toString()).toString().length&&parseFloat(t)<parseFloat(this.minValue.toString())&&(console.log("coming to min value logic"),n=this.minValue.toString()),!isNaN(parseFloat(t))&&parseFloat(t)>parseFloat(this.maxValue.toString())&&(n=this.maxValue.toString()),"decimal"===this.validator){var e=n.split(".");Object(l.isNullOrUndefined)(e[1])?n=n.substr(0,this.allowedNumbers):(e[1]=e[1].slice(0,this.allowedDecimal),e[0]=e[0].slice(0,this.allowedNumbers),(Object(l.isNullOrUndefined)(e[0])||""===e[0])&&(e[0]="0"),n=e[0]+"."+e[1])}this.ngControl.control.patchValue(n,{emitEvent:!0})},t}()},Y7wS:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Extensions/FullScreen.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n,e){var l=e.addEvent;return e=function(){function t(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"==typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return t.prototype.close=function(){var t=this.chart;this.isOpen&&this.browserProps&&t.container.ownerDocument instanceof Document&&t.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},t.prototype.open=function(){var t=this,n=t.chart;if(t.browserProps){t.unbindFullscreenEvent=l(n.container.ownerDocument,t.browserProps.fullscreenChange,function(){t.isOpen?(t.isOpen=!1,t.close()):(t.isOpen=!0,t.setButtonText())});var e=n.renderTo[t.browserProps.requestFullscreen]();e&&e.catch(function(){alert("Full screen is not supported inside a frame.")}),l(n,"destroy",t.unbindFullscreenEvent)}},t.prototype.setButtonText=function(){var t,n=this.chart,e=n.exportDivElements,l=n.options.exporting,a=null===(t=null==l?void 0:l.buttons)||void 0===t?void 0:t.contextButton.menuItems;t=n.options.lang,null!=l&&l.menuItemDefinitions&&null!=t&&t.exitFullscreen&&t.viewFullscreen&&a&&e&&e.length&&(e[a.indexOf("viewFullscreen")].innerHTML=this.isOpen?t.exitFullscreen:l.menuItemDefinitions.viewFullscreen.text||t.viewFullscreen)},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t}(),n.Fullscreen=e,l(t,"beforeRender",function(){this.fullscreen=new n.Fullscreen(this)}),n.Fullscreen}),n(t,"masters/modules/full-screen.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},Z2WY:function(t,n,e){"use strict";var l=e("1y+q");function a(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}(a.prototype=new l).readData=function(t){this.checkOffset(t);var n=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,n},t.exports=a},a5XB:function(t,n,e){"use strict";var l=e("Dyft"),a=e("dBNe"),i=e("tMII"),r=e("cfuv"),o=e("p8uC"),s=e("qMe+"),u=e("iQUn"),c=e("CzIQ"),h=e("9yBy"),d=e("e3uL"),p=e("RoFX"),g=e("6PEv"),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===a.getTypeOf(t._data))){var n=t._data;t._data=new Uint8Array(n.length),0!==n.length&&t._data.set(n,0)}return t._data},b=function(t){var n=m(t);return"string"===a.getTypeOf(n)?!t.options.binary&&l.nodebuffer?h(n,"utf-8"):t.asBinary():n},f=function(t){var n=m(this);return null==n?"":(this.options.base64&&(n=s.decode(n)),n=t&&this.options.binary?A.utf8decode(n):a.transformTo("string",n),t||this.options.binary||(n=a.transformTo("string",A.utf8encode(n))),n)},y=function(t,n,e){this.name=t,this.dir=e.dir,this.date=e.date,this.comment=e.comment,this.unixPermissions=e.unixPermissions,this.dosPermissions=e.dosPermissions,this._data=n,this.options=e,this._initialMetadata={dir:e.dir,date:e.date}};y.prototype={asText:function(){return f.call(this,!0)},asBinary:function(){return f.call(this,!1)},asNodeBuffer:function(){var t=b(this);return a.transformTo("nodebuffer",t)},asUint8Array:function(){var t=b(this);return a.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var v=function(t,n){var e,l="";for(e=0;e<n;e++)l+=String.fromCharCode(255&t),t>>>=8;return l},C=function(t,n,e){var l,i=a.getTypeOf(n);if("string"==typeof(e=function(t){return!0===(t=t||{}).base64&&null==t.binary&&(t.binary=!0),(t=a.extend(t,o)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(e)).unixPermissions&&(e.unixPermissions=parseInt(e.unixPermissions,8)),e.unixPermissions&&16384&e.unixPermissions&&(e.dir=!0),e.dosPermissions&&16&e.dosPermissions&&(e.dir=!0),e.dir&&(t=M(t)),e.createFolders&&(l=S(t))&&_.call(this,l,!0),e.dir||null==n)e.base64=!1,e.binary=!1,n=null,i=null;else if("string"===i)e.binary&&!e.base64&&!0!==e.optimizedBinaryString&&(n=a.string2binary(n));else{if(e.base64=!1,e.binary=!0,!(i||n instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===i&&(n=a.transformTo("uint8array",n))}var r=new y(t,n,e);return this.files[t]=r,r},S=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var n=t.lastIndexOf("/");return n>0?t.substring(0,n):""},M=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},_=function(t,n){return n=void 0!==n&&n,t=M(t),this.files[t]||C.call(this,t,null,{dir:!0,createFolders:n}),this.files[t]},L=function(t,n,e){var l,r=new c;return t._data instanceof c?(r.uncompressedSize=t._data.uncompressedSize,r.crc32=t._data.crc32,0===r.uncompressedSize||t.dir?(n=u.STORE,r.compressedContent="",r.crc32=0):t._data.compressionMethod===n.magic?r.compressedContent=t._data.getCompressedContent():(l=t._data.getContent(),r.compressedContent=n.compress(a.transformTo(n.compressInputType,l),e))):((l=b(t))&&0!==l.length&&!t.dir||(n=u.STORE,l=""),r.uncompressedSize=l.length,r.crc32=i(l),r.compressedContent=n.compress(a.transformTo(n.compressInputType,l),e)),r.compressedSize=r.compressedContent.length,r.compressionMethod=n.magic,r},O=function(t,n,e,l,o,s){var u,c,h,p,g,m,b=s!==d.utf8encode,f=a.transformTo("string",s(n.name)),y=a.transformTo("string",d.utf8encode(n.name)),C=n.comment||"",S=a.transformTo("string",s(C)),M=a.transformTo("string",d.utf8encode(C)),_=y.length!==n.name.length,L=M.length!==C.length,O=n.options,A="",T="",D="",P=0,x=0;(h=n._initialMetadata.dir!==n.dir?n.dir:O.dir)&&(P|=16),"UNIX"===o?(x=798,P|=(m=g=n.unixPermissions,g||(m=h?16893:33204),(65535&m)<<16)):(x=20,P|=63&(n.dosPermissions||0)),u=(p=n._initialMetadata.date!==n.date?n.date:O.date).getHours(),u<<=6,u|=p.getMinutes(),u<<=5,u|=p.getSeconds()/2,c=p.getFullYear()-1980,c<<=4,c|=p.getMonth()+1,c<<=5,c|=p.getDate(),_&&(T=v(1,1)+v(i(f),4)+y,A+="up"+v(T.length,2)+T),L&&(D=v(1,1)+v(this.crc32(S),4)+M,A+="uc"+v(D.length,2)+D);var w="";return w+="\n\0",w+=b||!_&&!L?"\0\0":"\0\b",w+=e.compressionMethod,w+=v(u,2),w+=v(c,2),w+=v(e.crc32,4),w+=v(e.compressedSize,4),w+=v(e.uncompressedSize,4),w+=v(f.length,2),w+=v(A.length,2),{fileRecord:r.LOCAL_FILE_HEADER+w+f+A,dirRecord:r.CENTRAL_FILE_HEADER+v(x,2)+w+v(S.length,2)+"\0\0\0\0"+v(P,4)+v(l,4)+f+A+S,compressedObject:e}},A={load:function(t,n){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var n,e,l,i,r=[];for(n in this.files)this.files.hasOwnProperty(n)&&(i=new y((l=this.files[n]).name,l._data,a.extend(l.options)),e=n.slice(this.root.length,n.length),n.slice(0,this.root.length)===this.root&&t(e,i)&&r.push(i));return r},file:function(t,n,e){if(1===arguments.length){if(a.isRegExp(t)){var l=t;return this.filter(function(t,n){return!n.dir&&l.test(t)})}return this.filter(function(n,e){return!e.dir&&n===t})[0]||null}return C.call(this,t=this.root+t,n,e),this},folder:function(t){if(!t)return this;if(a.isRegExp(t))return this.filter(function(n,e){return e.dir&&t.test(n)});var n=_.call(this,this.root+t),e=this.clone();return e.root=n.name,e},remove:function(t){var n=this.files[t=this.root+t];if(n||("/"!=t.slice(-1)&&(t+="/"),n=this.files[t]),n&&!n.dir)delete this.files[t];else for(var e=this.filter(function(n,e){return e.name.slice(0,t.length)===t}),l=0;l<e.length;l++)delete this.files[e[l].name];return this},generate:function(t){t=a.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),a.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var n,e,l,i=[],o=0,c=0,h=a.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var m in this.files)if(this.files.hasOwnProperty(m)){var b=this.files[m],f=b.options.compression||t.compression.toUpperCase(),y=u[f];if(!y)throw new Error(f+" is not a valid compression method !");var C=L.call(this,b,y,b.options.compressionOptions||t.compressionOptions||{}),S=O.call(this,m,b,C,o,t.platform,t.encodeFileName);o+=S.fileRecord.length+C.compressedSize,c+=S.dirRecord.length,i.push(S)}l=r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(i.length,2)+v(i.length,2)+v(c,4)+v(o,4)+v(h.length,2)+h;var M=t.type.toLowerCase();for(n="uint8array"===M||"arraybuffer"===M||"blob"===M||"nodebuffer"===M?new g(o+c+l.length):new p(o+c+l.length),e=0;e<i.length;e++)n.append(i[e].fileRecord),n.append(i[e].compressedObject.compressedContent);for(e=0;e<i.length;e++)n.append(i[e].dirRecord);n.append(l);var _=n.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return a.transformTo(t.type.toLowerCase(),_);case"blob":return a.arrayBuffer2Blob(a.transformTo("arraybuffer",_),t.mimeType);case"base64":return t.base64?s.encode(_):_;default:return _}},crc32:function(t,n){return i(t,n)},utf8encode:function(t){return a.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};t.exports=A},aFNf:function(t,n,e){"use strict";var l=e("vn/o"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,n,e,s,u,c,h,d){var p,g,m,b,f,y,v,C,S,M=d.bits,_=0,L=0,O=0,A=0,T=0,D=0,P=0,x=0,w=0,k=0,I=null,E=0,N=new l.Buf16(16),F=new l.Buf16(16),B=null,U=0;for(_=0;_<=15;_++)N[_]=0;for(L=0;L<s;L++)N[n[e+L]]++;for(T=M,A=15;A>=1&&0===N[A];A--);if(T>A&&(T=A),0===A)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(O=1;O<A&&0===N[O];O++);for(T<O&&(T=O),x=1,_=1;_<=15;_++)if(x<<=1,(x-=N[_])<0)return-1;if(x>0&&(0===t||1!==A))return-1;for(F[1]=0,_=1;_<15;_++)F[_+1]=F[_]+N[_];for(L=0;L<s;L++)0!==n[e+L]&&(h[F[n[e+L]]++]=L);if(0===t?(I=B=h,y=19):1===t?(I=a,E-=257,B=i,U-=257,y=256):(I=r,B=o,y=-1),k=0,L=0,_=O,f=c,D=T,P=0,m=-1,b=(w=1<<T)-1,1===t&&w>852||2===t&&w>592)return 1;for(;;){v=_-P,h[L]<y?(C=0,S=h[L]):h[L]>y?(C=B[U+h[L]],S=I[E+h[L]]):(C=96,S=0),p=1<<_-P,O=g=1<<D;do{u[f+(k>>P)+(g-=p)]=v<<24|C<<16|S|0}while(0!==g);for(p=1<<_-1;k&p;)p>>=1;if(0!==p?(k&=p-1,k+=p):k=0,L++,0==--N[_]){if(_===A)break;_=n[e+h[L]]}if(_>T&&(k&b)!==m){for(0===P&&(P=T),f+=O,x=1<<(D=_-P);D+P<A&&!((x-=N[D+P])<=0);)D++,x<<=1;if(w+=1<<D,1===t&&w>852||2===t&&w>592)return 1;u[m=k&b]=T<<24|D<<16|f-c|0}}return 0!==k&&(u[f+k]=_-P<<24|64<<16|0),d.bits=T,0}},cX6o:function(t,n,e){"use strict";var l=e("nm4c"),a=e("vn/o"),i=e("eydS"),r=e("LOvY"),o=e("Tcbo"),s=e("iTZm"),u=e("gBP8"),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),!(n.windowBits>=0&&n.windowBits<16)||t&&t.windowBits||(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var e=l.inflateInit2(this.strm,n.windowBits);if(e!==r.Z_OK)throw new Error(o[e]);if(this.header=new u,l.inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=i.string2buf(n.dictionary):"[object ArrayBuffer]"===c.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=l.inflateSetDictionary(this.strm,n.dictionary))!==r.Z_OK))throw new Error(o[e])}function d(t,n){var e=new h(n);if(e.push(t,!0),e.err)throw e.msg||o[e.err];return e.result}h.prototype.push=function(t,n){var e,o,s,u,h,d=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;o=n===~~n?n:!0===n?r.Z_FINISH:r.Z_NO_FLUSH,d.input="string"==typeof t?i.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new a.Buf8(p),d.next_out=0,d.avail_out=p),(e=l.inflate(d,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&g&&(e=l.inflateSetDictionary(this.strm,g)),e===r.Z_BUF_ERROR&&!0===m&&(e=r.Z_OK,m=!1),e!==r.Z_STREAM_END&&e!==r.Z_OK)return this.onEnd(e),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&e!==r.Z_STREAM_END&&(0!==d.avail_in||o!==r.Z_FINISH&&o!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(s=i.utf8border(d.output,d.next_out),u=d.next_out-s,h=i.buf2string(d.output,s),d.next_out=u,d.avail_out=p-u,u&&a.arraySet(d.output,d.output,s,u,0),this.onData(h)):this.onData(a.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&e!==r.Z_STREAM_END);return e===r.Z_STREAM_END&&(o=r.Z_FINISH),o===r.Z_FINISH?(e=l.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===r.Z_OK):o!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===r.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(t,n){return(n=n||{}).raw=!0,d(t,n)},n.ungzip=d},cfuv:function(t,n,e){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},dBNe:function(t,n,e){"use strict";var l=e("Dyft"),a=e("iQUn"),i=e("9yBy");function r(t){return t}function o(t,n){for(var e=0;e<t.length;++e)n[e]=255&t.charCodeAt(e);return n}function s(t){var e=65536,l=[],a=t.length,r=n.getTypeOf(t),o=0,s=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,i(0))}}catch(h){s=!1}if(!s){for(var u="",c=0;c<t.length;c++)u+=String.fromCharCode(t[c]);return u}for(;o<a&&e>1;)try{l.push("array"===r||"nodebuffer"===r?String.fromCharCode.apply(null,t.slice(o,Math.min(o+e,a))):String.fromCharCode.apply(null,t.subarray(o,Math.min(o+e,a)))),o+=e}catch(h){e=Math.floor(e/2)}return l.join("")}function u(t,n){for(var e=0;e<t.length;e++)n[e]=t[e];return n}n.string2binary=function(t){for(var n="",e=0;e<t.length;e++)n+=String.fromCharCode(255&t.charCodeAt(e));return n},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(a){try{var l=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return l.append(t),l.getBlob(e)}catch(a){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=s;var c={};c.string={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,i(t.length))}},c.array={string:s,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i(t)}},c.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return u(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i(new Uint8Array(t))}},c.uint8array={string:s,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return i(t)}},c.nodebuffer={string:s,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:r},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var l=n.getTypeOf(e);return c[l][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&i.test(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var n,e,l="";for(e=0;e<(t||"").length;e++)l+="\\x"+((n=t.charCodeAt(e))<16?"0":"")+n.toString(16).toUpperCase();return l},n.findCompression=function(t){for(var n in a)if(a.hasOwnProperty(n)&&a[n].magic===t)return a[n];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.extend=function(){var t,n,e={};for(t=0;t<arguments.length;t++)for(n in arguments[t])arguments[t].hasOwnProperty(n)&&void 0===e[n]&&(e[n]=arguments[t][n]);return e}},e3uL:function(t,n,e){"use strict";for(var l=e("dBNe"),a=e("Dyft"),i=e("9yBy"),r=new Array(256),o=0;o<256;o++)r[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;r[254]=r[254]=1;var s=function(t,n){var e;for((n=n||t.length)>t.length&&(n=t.length),e=n-1;e>=0&&128==(192&t[e]);)e--;return e<0?n:0===e?n:e+r[t[e]]>n?e:n},u=function(t){var n,e,a,i,o=t.length,s=new Array(2*o);for(e=0,n=0;n<o;)if((a=t[n++])<128)s[e++]=a;else if((i=r[a])>4)s[e++]=65533,n+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&n<o;)a=a<<6|63&t[n++],i--;i>1?s[e++]=65533:a<65536?s[e++]=a:(s[e++]=55296|(a-=65536)>>10&1023,s[e++]=56320|1023&a)}return s.length!==e&&(s.subarray?s=s.subarray(0,e):s.length=e),l.applyFromCharCode(s)};n.utf8encode=function(t){return a.nodebuffer?i(t,"utf-8"):function(t){var n,e,l,i,r,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(e=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(l=t.charCodeAt(i+1)))&&(e=65536+(e-55296<<10)+(l-56320),i++),s+=e<128?1:e<2048?2:e<65536?3:4;for(n=a.uint8array?new Uint8Array(s):new Array(s),r=0,i=0;r<s;i++)55296==(64512&(e=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(l=t.charCodeAt(i+1)))&&(e=65536+(e-55296<<10)+(l-56320),i++),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|63&e):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|63&e):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|63&e);return n}(t)},n.utf8decode=function(t){if(a.nodebuffer)return l.transformTo("nodebuffer",t).toString("utf-8");for(var n=[],e=0,i=(t=l.transformTo(a.uint8array?"uint8array":"array",t)).length;e<i;){var r=s(t,Math.min(e+65536,i));n.push(u(a.uint8array?t.subarray(e,r):t.slice(e,r))),e=r}return n.join("")}},eaNQ:function(t,n,e){"use strict";var l=e("dBNe");n.string2binary=function(t){return l.string2binary(t)},n.string2Uint8Array=function(t){return l.transformTo("uint8array",t)},n.uint8Array2String=function(t){return l.transformTo("string",t)},n.string2Blob=function(t){var n=l.transformTo("arraybuffer",t);return l.arrayBuffer2Blob(n)},n.arrayBuffer2Blob=function(t){return l.arrayBuffer2Blob(t)},n.transformTo=function(t,n){return l.transformTo(t,n)},n.getTypeOf=function(t){return l.getTypeOf(t)},n.checkSupport=function(t){return l.checkSupport(t)},n.MAX_VALUE_16BITS=l.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=l.MAX_VALUE_32BITS,n.pretty=function(t){return l.pretty(t)},n.findCompression=function(t){return l.findCompression(t)},n.isRegExp=function(t){return l.isRegExp(t)}},eydS:function(t,n,e){"use strict";var l=e("vn/o"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(u){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){i=!1}for(var r=new l.Buf8(256),o=0;o<256;o++)r[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function s(t,n){if(n<65534&&(t.subarray&&i||!t.subarray&&a))return String.fromCharCode.apply(null,l.shrinkBuf(t,n));for(var e="",r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}r[254]=r[254]=1,n.string2buf=function(t){var n,e,a,i,r,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(e=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=t.charCodeAt(i+1)))&&(e=65536+(e-55296<<10)+(a-56320),i++),s+=e<128?1:e<2048?2:e<65536?3:4;for(n=new l.Buf8(s),r=0,i=0;r<s;i++)55296==(64512&(e=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(a=t.charCodeAt(i+1)))&&(e=65536+(e-55296<<10)+(a-56320),i++),e<128?n[r++]=e:e<2048?(n[r++]=192|e>>>6,n[r++]=128|63&e):e<65536?(n[r++]=224|e>>>12,n[r++]=128|e>>>6&63,n[r++]=128|63&e):(n[r++]=240|e>>>18,n[r++]=128|e>>>12&63,n[r++]=128|e>>>6&63,n[r++]=128|63&e);return n},n.buf2binstring=function(t){return s(t,t.length)},n.binstring2buf=function(t){for(var n=new l.Buf8(t.length),e=0,a=n.length;e<a;e++)n[e]=t.charCodeAt(e);return n},n.buf2string=function(t,n){var e,l,a,i,o=n||t.length,u=new Array(2*o);for(l=0,e=0;e<o;)if((a=t[e++])<128)u[l++]=a;else if((i=r[a])>4)u[l++]=65533,e+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&e<o;)a=a<<6|63&t[e++],i--;i>1?u[l++]=65533:a<65536?u[l++]=a:(u[l++]=55296|(a-=65536)>>10&1023,u[l++]=56320|1023&a)}return s(u,l)},n.utf8border=function(t,n){var e;for((n=n||t.length)>t.length&&(n=t.length),e=n-1;e>=0&&128==(192&t[e]);)e--;return e<0?n:0===e?n:e+r[t[e]]>n?e:n}},frGm:function(t,n,e){"use strict";t.exports=function(t,n){var e,l,a,i,r,o,s,u,c,h,d,p,g,m,b,f,y,v,C,S,M,_,L,O,A;O=t.input,a=(l=t.next_in)+(t.avail_in-5),A=t.output,r=(i=t.next_out)-(n-t.avail_out),o=i+(t.avail_out-257),s=(e=t.state).dmax,u=e.wsize,c=e.whave,h=e.wnext,d=e.window,p=e.hold,g=e.bits,m=e.lencode,b=e.distcode,f=(1<<e.lenbits)-1,y=(1<<e.distbits)-1;t:do{g<15&&(p+=O[l++]<<g,p+=O[l++]<<(g+=8),g+=8),v=m[p&f];n:for(;;){if(p>>>=C=v>>>24,g-=C,0==(C=v>>>16&255))A[i++]=65535&v;else{if(!(16&C)){if(0==(64&C)){v=m[(65535&v)+(p&(1<<C)-1)];continue n}if(32&C){e.mode=12;break t}t.msg="invalid literal/length code",e.mode=30;break t}S=65535&v,(C&=15)&&(g<C&&(p+=O[l++]<<g,g+=8),S+=p&(1<<C)-1,p>>>=C,g-=C),g<15&&(p+=O[l++]<<g,p+=O[l++]<<(g+=8),g+=8),v=b[p&y];e:for(;;){if(p>>>=C=v>>>24,g-=C,!(16&(C=v>>>16&255))){if(0==(64&C)){v=b[(65535&v)+(p&(1<<C)-1)];continue e}t.msg="invalid distance code",e.mode=30;break t}if(M=65535&v,g<(C&=15)&&(p+=O[l++]<<g,(g+=8)<C&&(p+=O[l++]<<g,g+=8)),(M+=p&(1<<C)-1)>s){t.msg="invalid distance too far back",e.mode=30;break t}if(p>>>=C,g-=C,M>(C=i-r)){if((C=M-C)>c&&e.sane){t.msg="invalid distance too far back",e.mode=30;break t}if(_=0,L=d,0===h){if(_+=u-C,C<S){S-=C;do{A[i++]=d[_++]}while(--C);_=i-M,L=A}}else if(h<C){if(_+=u+h-C,(C-=h)<S){S-=C;do{A[i++]=d[_++]}while(--C);if(_=0,h<S){S-=C=h;do{A[i++]=d[_++]}while(--C);_=i-M,L=A}}}else if(_+=h-C,C<S){S-=C;do{A[i++]=d[_++]}while(--C);_=i-M,L=A}for(;S>2;)A[i++]=L[_++],A[i++]=L[_++],A[i++]=L[_++],S-=3;S&&(A[i++]=L[_++],S>1&&(A[i++]=L[_++]))}else{_=i-M;do{A[i++]=A[_++],A[i++]=A[_++],A[i++]=A[_++],S-=3}while(S>2);S&&(A[i++]=A[_++],S>1&&(A[i++]=A[_++]))}break}}break}}while(l<a&&i<o);p&=(1<<(g-=(S=g>>3)<<3))-1,t.next_in=l-=S,t.next_out=i,t.avail_in=l<a?a-l+5:5-(l-a),t.avail_out=i<o?o-i+257:257-(i-o),e.hold=p,e.bits=g}},gBP8:function(t,n,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},hKtO:function(t,n,e){"use strict";var l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,a=e("16wW");n.uncompressInputType=l?"uint8array":"array",n.compressInputType=l?"uint8array":"array",n.magic="\b\0",n.compress=function(t,n){return a.deflateRaw(t,{level:n.level||-1})},n.uncompress=function(t){return a.inflateRaw(t)}},iQUn:function(t,n,e){"use strict";n.STORE={magic:"\0\0",compress:function(t,n){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("hKtO")},iTZm:function(t,n,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},m0vG:function(t,n,e){"use strict";var l=e("R4yR"),a=e("tjlA").Buffer;t.exports=async function(t){if(!global.fetch)return l(t);var n=t.slice(-3).toLowerCase(),e="prj"===n||"cpg"===n;try{if((i=await fetch(t)).status>399)throw new Error(i.statusText);if(e)return i.text();var i=await i.arrayBuffer();return a.from(i)}catch(r){if(e)return!1;throw r}}},mfCZ:function(t,n,e){"use strict";var l=e("qMe+"),a=e("e3uL"),i=e("dBNe"),r=e("IIQG");t.exports=function(t,n){var e,o,s,u;for((n=i.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode})).base64&&(t=l.decode(t)),e=(o=new r(t,n)).files,s=0;s<e.length;s++)this.file((u=e[s]).fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:n.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},nc8d:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}n(t=t?t._modules:{},"Extensions/Annotations/Mixins/EventEmitterMixin.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n){var e=n.addEvent,l=n.fireEvent,a=n.objectEach,i=n.pick,r=n.removeEvent;return{addEvents:function(){var n=this,i=function(l){e(l,t.isTouchDevice?"touchstart":"mousedown",function(t){n.onMouseDown(t)})};if(i(this.graphic.element),(n.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&i(t.graphic.text.element)}),a(n.options.events,function(t,l){var a=function(e){"click"===l&&n.cancelClick||t.call(n,n.chart.pointer.normalize(e),n.target)};-1===(n.nonDOMEvents||[]).indexOf(l)?n.graphic.on(l,a):e(n,l,a)}),n.options.draggable&&(e(n,"drag",n.onDrag),!n.graphic.renderer.styledMode)){var r={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[n.options.draggable]};n.graphic.css(r),(n.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(r)})}n.isUpdating||l(n,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(n){var a=this,r=a.chart.pointer;if(n.preventDefault&&n.preventDefault(),2!==n.button){var o=(n=r.normalize(n)).chartX,s=n.chartY;a.cancelClick=!1,a.chart.hasDraggedAnnotation=!0,a.removeDrag=e(t.doc,t.isTouchDevice?"touchmove":"mousemove",function(t){a.hasDragged=!0,(t=r.normalize(t)).prevChartX=o,t.prevChartY=s,l(a,"drag",t),o=t.chartX,s=t.chartY}),a.removeMouseUp=e(t.doc,t.isTouchDevice?"touchend":"mouseup",function(t){a.cancelClick=a.hasDragged,a.hasDragged=!1,a.chart.hasDraggedAnnotation=!1,l(i(a.target,a),"afterUpdate"),a.onMouseUp(t)})}},onMouseUp:function(t){var n=this.chart,e=n.options.annotations;n=n.annotations.indexOf(t=this.target||this),this.removeDocEvents(),e[n]=t.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)){var n=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(n.y=0),"y"===this.options.draggable&&(n.x=0),this.points.length?this.translate(n.x,n.y):(this.shapes.forEach(function(t){t.translate(n.x,n.y)}),this.labels.forEach(function(t){t.translate(n.x,n.y)})),this.redraw(!1)}},mouseMoveToRadians:function(t,n,e){var l=t.prevChartY-e,a=t.prevChartX-n;return e=t.chartY-e,t=t.chartX-n,this.chart.inverted&&(n=a,a=l,l=n,n=t,t=e,e=n),Math.atan2(e,t)-Math.atan2(l,a)},mouseMoveToTranslation:function(t){var n=t.chartX-t.prevChartX;if(t=t.chartY-t.prevChartY,this.chart.inverted){var e=t;t=n,n=e}return{x:n,y:t}},mouseMoveToScale:function(t,n,e){return n=(t.chartX-n||1)/(t.prevChartX-n||1),t=(t.chartY-e||1)/(t.prevChartY-e||1),this.chart.inverted&&(e=t,t=n,n=e),{x:n,y:t}},destroy:function(){this.removeDocEvents(),r(this),this.hcEvents=null}}}),n(t,"Extensions/Annotations/ControlPoint.js",[t["Core/Utilities.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(t,n){var e=t.merge,l=t.pick;return function(){function t(t,e,a,i){this.addEvents=n.addEvents,this.graphic=void 0,this.mouseMoveToRadians=n.mouseMoveToRadians,this.mouseMoveToScale=n.mouseMoveToScale,this.mouseMoveToTranslation=n.mouseMoveToTranslation,this.onDrag=n.onDrag,this.onMouseDown=n.onMouseDown,this.onMouseUp=n.onMouseUp,this.removeDocEvents=n.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=e,this.options=a,this.index=l(a.index,i)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,n=this.options;this.graphic=t.renderer.symbol(n.symbol,0,0,n.width,n.height).add(t.controlPointsGroup).css(n.style),this.setVisibility(n.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){n.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},t.prototype.update=function(t){var n=this.chart,l=this.target,a=this.index;t=e(!0,this.options,t),this.destroy(),this.constructor(n,l,t,a),this.render(n.controlPointsGroup),this.redraw()},t}()}),n(t,"Extensions/Annotations/MockPoint.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Core/Axis/Axis.js"]],function(t,n,e){var l=n.defined,a=n.fireEvent;return function(){function n(n,e,l){this.y=this.x=this.plotY=this.plotX=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:n,getPlotBox:t.Series.prototype.getPlotBox},this.target=e||null,this.options=l,this.applyOptions(this.getOptions())}return n.fromPoint=function(t){return new n(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},n.pointToPixels=function(t,n){var e=t.series,l=e.chart,a=t.plotX,i=t.plotY;return l.inverted&&(t.mock?(a=t.plotY,i=t.plotX):(a=l.plotWidth-t.plotY,i=l.plotHeight-t.plotX)),e&&!n&&(a+=(t=e.getPlotBox()).translateX,i+=t.translateY),{x:a,y:i}},n.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},n.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},n.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},n.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},n.prototype.setAxis=function(t,n){var a=this.series.chart;this.series[n+="Axis"]=(t=t[n])instanceof e?t:l(t)?a[n][t]||a.get(t):null},n.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},n.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},n.prototype.isInsidePlot=function(){var t=this.plotX,n=this.plotY,e=this.series.xAxis,i=this.series.yAxis,r={x:t,y:n,isInsidePlot:!0};return e&&(r.isInsidePlot=l(t)&&0<=t&&t<=e.len),i&&(r.isInsidePlot=r.isInsidePlot&&l(n)&&0<=n&&n<=i.len),a(this.series.chart,"afterIsInsidePlot",r),r.isInsidePlot},n.prototype.refresh=function(){var t=this.series,n=t.xAxis;t=t.yAxis;var e=this.getOptions();n?(this.x=e.x,this.plotX=n.toPixels(e.x,!0)):(this.x=null,this.plotX=e.x),t?(this.y=e.y,this.plotY=t.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y),this.isInside=this.isInsidePlot()},n.prototype.translate=function(t,n,e,l){this.hasDynamicOptions()||(this.plotX+=e,this.plotY+=l,this.refreshOptions())},n.prototype.scale=function(t,n,e,l){if(!this.hasDynamicOptions()){var a=this.plotY*l;this.plotX=(1-e)*t+this.plotX*e,this.plotY=(1-l)*n+a,this.refreshOptions()}},n.prototype.rotate=function(t,n,e){if(!this.hasDynamicOptions()){var l=Math.cos(e);e=Math.sin(e);var a=this.plotX,i=this.plotY;this.plotX=(a-=t)*l-(i-=n)*e+t,this.plotY=a*e+i*l+n,this.refreshOptions()}},n.prototype.refreshOptions=function(){var t=this.series,n=t.xAxis;t=t.yAxis,this.x=this.options.x=n?this.options.x=n.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},n}()}),n(t,"Extensions/Annotations/Mixins/ControllableMixin.js",[t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=l.isObject,i=l.isString,r=l.merge,o=l.splat;return{init:function(t,n,e){this.annotation=t,this.chart=t.chart,this.options=n,this.points=[],this.controlPoints=[],this.index=e,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&o(t.point)},attrsFromOptions:function(t){var n,e=this.constructor.attrsMap,l={},a=this.chart.styledMode;for(n in t){var i=e[n];!i||a&&-1!==["fill","stroke","stroke-width"].indexOf(i)||(l[i]=t[n])}return l},anchor:function(t){var n=t.series.getPlotBox(),l=t.series.chart,a=t.mock?t.toAnchor():e.prototype.getAnchor.call({chart:t.series.chart},t);return{relativePosition:a={x:a[0]+(this.options.x||0),y:a[1]+(this.options.y||0),height:a[2]||0,width:a[3]||0},absolutePosition:r(a,{x:a.x+(t.mock?n.translateX:l.plotLeft),y:a.y+(t.mock?n.translateY:l.plotTop)})}},point:function(t,e){return t&&t.series?t:(e&&null!==e.series||(a(t)?e=new n(this.chart,this,t):i(t)?e=this.chart.get(t)||null:"function"==typeof t&&(e=(e=t.call(e,this)).series?e:new n(this.chart,this,t))),e)},linkPoints:function(){var t,n=this.getPointsOptions(),e=this.points,l=n&&n.length||0;for(t=0;t<l;t++){var a=this.point(n[t],e[t]);if(!a)return void(e.length=0);a.mock&&a.refresh(),e[t]=a}return e},addControlPoints:function(){var n=this.options.controlPoints;(n||[]).forEach(function(e,l){(e=r(this.options.controlPointOptions,e)).index||(e.index=l),n[l]=e,this.controlPoints.push(new t(this.chart,this,e))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach(function(t){t.render()})},redraw:function(t){this.controlPoints.forEach(function(n){n.redraw(t)})},transform:function(t,n,e,l,a){if(this.chart.inverted){var i=n;n=e,e=i}this.points.forEach(function(i,r){this.transformPoint(t,n,e,l,a,r)},this)},transformPoint:function(t,e,l,a,i,r){var o=this.points[r];o.mock||(o=this.points[r]=n.fromPoint(o)),o[t](e,l,a,i)},translate:function(t,n){this.transform("translate",null,null,t,n)},translatePoint:function(t,n,e){this.transformPoint("translate",null,null,t,n,e)},translateShape:function(t,n){var e=this.annotation.chart,l=this.annotation.userOptions,a=e.annotations.indexOf(this.annotation);e=e.options.annotations[a],this.translatePoint(t,n,0),e[this.collection][this.index].point=this.options.point,l[this.collection][this.index].point=this.options.point},rotate:function(t,n,e){this.transform("rotate",t,n,e)},scale:function(t,n,e,l){this.transform("scale",t,n,e,l)},setControlPointsVisibility:function(t){this.controlPoints.forEach(function(n){n.setVisibility(t)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(t){t.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var n=this.annotation;t=r(!0,this.options,t);var e=this.graphic.parentGroup;this.destroy(),this.constructor(n,t),this.render(e),this.redraw()}}}),n(t,"Extensions/Annotations/Mixins/MarkerMixin.js",[t["Core/Chart/Chart.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,n,e){function l(t){return function(n){this.attr(t,"url(#"+n+")")}}var a=e.addEvent,i=e.defined,r=e.merge,o=e.objectEach,s=e.uniqueKey,u={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};return n.prototype.addMarker=function(t,n){var e={id:t},l={stroke:n.color||"none",fill:n.color||"rgba(0, 0, 0, 0.75)"};return e.children=n.children.map(function(t){return r(l,t)}),(n=this.definition(r(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},n,e))).id=t,n},n={markerEndSetter:l("marker-end"),markerStartSetter:l("marker-start"),setItemMarkers:function(t){var n=t.options,e=t.chart,l=e.options.defs,a=n.fill,o=i(a)&&"none"!==a?a:n.stroke;["markerStart","markerEnd"].forEach(function(a){var i,u=n[a];if(u){for(i in l){var c=l[i];if(u===c.id&&"marker"===c.tagName){var h=c;break}}h&&(u=t[a]=e.renderer.addMarker((n.id||s())+"-"+h.id,r(h,{color:o})),t.attr(a,u.attr("id")))}})}},a(t,"afterGetContainer",function(){this.options.defs=r(u,this.options.defs||{}),o(this.options.defs,function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)},this)}),n}),n(t,"Extensions/Annotations/Controllables/ControllablePath.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/Mixins/MarkerMixin.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=l.extend,i="rgba(192,192,192,"+(n.svg?1e-4:.002)+")";return function(){function n(n,l,a){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=e.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(n,l,a),this.collection="shapes"}return n.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var n=(t=this.points).length,e=n,l=t[0],a=e&&this.anchor(l).absolutePosition,i=0,r=[];if(a)for(r.push(["M",a.x,a.y]);++i<n&&e;)e=(l=t[i]).command||"L",a=this.anchor(l).absolutePosition,"M"===e?r.push([e,a.x,a.y]):"L"===e?r.push([e,a.x,a.y]):"Z"===e&&r.push([e]),e=l.series.visible;return e?this.chart.renderer.crispLine(r,this.graphic.strokeWidth()):null},n.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||!!this.options.d},n.prototype.render=function(n){var l=this.options,r=this.attrsFromOptions(l);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(r).add(n),l.className&&this.graphic.addClass(l.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(n),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:i,fill:i,"stroke-width":this.graphic.strokeWidth()+2*l.snap}),t.render.call(this),a(this.graphic,{markerStartSetter:e.markerStartSetter,markerEndSetter:e.markerEndSetter}),this.setMarkers(this)},n.prototype.redraw=function(n){var e=this.toD(),l=n?"animate":"attr";e?(this.graphic[l]({d:e}),this.tracker[l]({d:e})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!e,t.redraw.call(this,n)},n.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},n}()}),n(t,"Extensions/Annotations/Controllables/ControllableRect.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],function(t,n,e){var l=e.merge;return function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(n,e,l),this.collection="shapes"}return e.prototype.render=function(n){var e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(e).add(n),t.render.call(this)},e.prototype.redraw=function(n){var e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[n?"animate":"attr"]({x:e.x,y:e.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!e,t.redraw.call(this,n)},e.attrsMap=l(n.attrsMap,{width:"width",height:"height"}),e}()}),n(t,"Extensions/Annotations/Controllables/ControllableCircle.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Core/Utilities.js"]],function(t,n,e){var l=e.merge;return function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(n,e,l),this.collection="shapes"}return e.prototype.render=function(n){var e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(e).add(n),t.render.call(this)},e.prototype.redraw=function(n){var e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[n?"animate":"attr"]({x:e.x,y:e.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!e,t.redraw.call(this,n)},e.prototype.setRadius=function(t){this.options.r=t},e.attrsMap=l(n.attrsMap,{r:"r"}),e}()}),n(t,"Extensions/Annotations/Controllables/ControllableLabel.js",[t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Tooltip.js"],t["Core/Utilities.js"]],function(t,n,e,l,a){var i=a.extend,r=a.format,o=a.isNumber,s=a.pick;return a=function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(n,e,l),this.collection="labels"}return e.alignedPosition=function(t,n){var e,l,a=t.align,i=t.verticalAlign,r=(n.x||0)+(t.x||0),o=(n.y||0)+(t.y||0);return"right"===a?e=1:"center"===a&&(e=2),e&&(r+=(n.width-(t.width||0))/e),"bottom"===i?l=1:"middle"===i&&(l=2),l&&(o+=(n.height-(t.height||0))/l),{x:Math.round(r),y:Math.round(o)}},e.justifiedOptions=function(t,n,e,l){var a=e.align,i=e.verticalAlign,r=n.box?0:n.padding||0,o=n.getBBox();n={align:a,verticalAlign:i,x:e.x,y:e.y,width:n.width,height:n.height};var s=l.y-t.plotTop;return 0>(l=(e=l.x-t.plotLeft)+r)&&("right"===a?n.align="left":n.x=-l),(l=e+o.width-r)>t.plotWidth&&("left"===a?n.align="right":n.x=t.plotWidth-l),0>(l=s+r)&&("bottom"===i?n.verticalAlign="top":n.y=-l),(l=s+o.height-r)>t.plotHeight&&("top"===i?n.verticalAlign="bottom":n.y=t.plotHeight-l),n},e.prototype.translatePoint=function(n,e){t.translatePoint.call(this,n,e,0)},e.prototype.translate=function(t,n){var e=this.annotation.chart,l=this.annotation.userOptions,a=e.annotations.indexOf(this.annotation);a=e.options.annotations[a],e.inverted&&(e=t,t=n,n=e),this.options.x+=t,this.options.y+=n,a[this.collection][this.index].x=this.options.x,a[this.collection][this.index].y=this.options.y,l[this.collection][this.index].x=this.options.x,l[this.collection][this.index].y=this.options.y},e.prototype.render=function(n){var l=this.options,a=this.attrsFromOptions(l),i=l.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,l.shape,null,null,l.useHTML,null,"annotation-label").attr(a).add(n),this.annotation.chart.styledMode||("contrast"===i.color&&(i.color=this.annotation.chart.renderer.getContrast(-1<e.shapesWithoutBackground.indexOf(l.shape)?"#FFFFFF":l.backgroundColor)),this.graphic.css(l.style).shadow(l.shadow)),l.className&&this.graphic.addClass(l.className),this.graphic.labelrank=l.labelrank,t.render.call(this)},e.prototype.redraw=function(n){var e=this.options,l=this.text||e.format||e.text,a=this.graphic,i=this.points[0];a.attr({text:l?r(l,i.getLabelConfig(),this.annotation.chart):e.formatter.call(i,this)}),e=this.anchor(i),(l=this.position(e))?(a.alignAttr=l,l.anchorX=e.absolutePosition.x,l.anchorY=e.absolutePosition.y,a[n?"animate":"attr"](l)):a.attr({x:0,y:-9999}),a.placed=!!l,t.redraw.call(this,n)},e.prototype.anchor=function(n){var e=t.anchor.apply(this,arguments),l=this.options.x||0,a=this.options.y||0;return e.absolutePosition.x-=l,e.absolutePosition.y-=a,e.relativePosition.x-=l,e.relativePosition.y-=a,e},e.prototype.position=function(t){var a=this.graphic,r=this.annotation.chart,o=this.points[0],u=this.options,c=t.absolutePosition,h=t.relativePosition;if(t=o.series.visible&&n.prototype.isInsidePlot.call(o)){if(u.distance)var d=l.prototype.getPosition.call({chart:r,distance:s(u.distance,16)},a.width,a.height,{plotX:h.x,plotY:h.y,negative:o.negative,ttBelow:o.ttBelow,h:h.height||h.width});else u.positioner?d=u.positioner.call(this):(o={x:c.x,y:c.y,width:0,height:0},d=e.alignedPosition(i(u,{width:a.width,height:a.height}),o),"justify"===this.options.overflow&&(d=e.alignedPosition(e.justifiedOptions(r,a,u,d),o)));u.crop&&(t=r.isInsidePlot(u=d.x-r.plotLeft,o=d.y-r.plotTop)&&r.isInsidePlot(u+a.width,o+a.height))}return t?d:null},e.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},e.shapesWithoutBackground=["connector"],e}(),e.prototype.symbols.connector=function(t,n,e,l,a){var i=a&&a.anchorX;a=a&&a.anchorY;var r=e/2;if(o(i)&&o(a)){var s=[["M",i,a]],u=n-a;0>u&&(u=-l-u),u<e&&(r=i<t+e/2?u:e-u),a>n+l?s.push(["L",t+r,n+l]):a<n?s.push(["L",t+r,n]):i<t?s.push(["L",t,n+l/2]):i>t+e&&s.push(["L",t+e,n+l/2])}return s||[]},a}),n(t,"Extensions/Annotations/Controllables/ControllableImage.js",[t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(t,n){return function(){function e(t,e,l){this.addControlPoints=n.addControlPoints,this.anchor=n.anchor,this.attr=n.attr,this.attrsFromOptions=n.attrsFromOptions,this.destroy=n.destroy,this.getPointsOptions=n.getPointsOptions,this.init=n.init,this.linkPoints=n.linkPoints,this.point=n.point,this.rotate=n.rotate,this.scale=n.scale,this.setControlPointsVisibility=n.setControlPointsVisibility,this.shouldBeDrawn=n.shouldBeDrawn,this.transform=n.transform,this.transformPoint=n.transformPoint,this.translatePoint=n.translatePoint,this.translateShape=n.translateShape,this.update=n.update,this.type="image",this.translate=n.translateShape,this.init(t,e,l),this.collection="shapes"}return e.prototype.render=function(t){var e=this.attrsFromOptions(this.options),l=this.options;this.graphic=this.annotation.chart.renderer.image(l.src,0,-9e9,l.width,l.height).attr(e).add(t),this.graphic.width=l.width,this.graphic.height=l.height,n.render.call(this)},e.prototype.redraw=function(e){var l=this.anchor(this.points[0]);(l=t.prototype.position.call(this,l))?this.graphic[e?"animate":"attr"]({x:l.x,y:l.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!l,n.redraw.call(this,e)},e.attrsMap={width:"width",height:"height",zIndex:"zIndex"},e}()}),n(t,"Extensions/Annotations/Annotations.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Extensions/Annotations/Mixins/ControllableMixin.js"],t["Extensions/Annotations/Controllables/ControllableRect.js"],t["Extensions/Annotations/Controllables/ControllableCircle.js"],t["Extensions/Annotations/Controllables/ControllablePath.js"],t["Extensions/Annotations/Controllables/ControllableImage.js"],t["Extensions/Annotations/Controllables/ControllableLabel.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Mixins/EventEmitterMixin.js"],t["Core/Globals.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,n,e,l,a,i,r,o,s,u,c,h,d,p){var g=t.getDeferredAnimation;t=n.prototype;var m=p.addEvent,b=p.defined,f=p.destroyObjectProperties,y=p.erase;n=p.extend;var v=p.find,C=p.fireEvent,S=p.merge,M=p.pick,_=p.splat;p=p.wrap;var L=function(){function t(t,n){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=S(this.defaultOptions,n),this.userOptions=n,n=this.getLabelsAndShapesOptions(this.options,n),this.options.labels=n.labels,this.options.shapes=n.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,n=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=g(t,n)},t.prototype.getLabelsAndShapesOptions=function(t,n){var e={};return["labels","shapes"].forEach(function(l){t[l]&&(e[l]=_(n[l]).map(function(n,e){return S(t[l][e],n)}))}),e},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(t,n){t=this.initShape(t,n),S(!0,this.options.shapes[n],t.options)},this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(t,n){t=this.initLabel(t,n),S(!0,this.options.labels[n],t.options)},this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,n=this.chart.yAxis,e=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(e,l){return[t[l&&l.point&&l.point.xAxis]||e[0],n[l&&l.point&&l.point.yAxis]||e[1]]},[]);this.clipXAxis=e[0],this.clipYAxis=e[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce(function(t,n){return n.options.allowOverlap||t.push(n.graphic),t},[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=S(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),e.redraw.call(this,t)},t.prototype.redrawItems=function(t,n){for(var e=t.length;e--;)this.redrawItem(t[e],n)},t.prototype.renderItems=function(t){for(var n=t.length;n--;)this.renderItem(t[n])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),e.render.call(this)},t.prototype.setVisibility=function(t){var n=this.options;t=M(t,!n.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||this.setControlPointsVisibility(!1),n.visible=t},t.prototype.setControlPointsVisibility=function(t){var n=function(n){n.setControlPointsVisibility(t)};e.setControlPointsVisibility.call(this,t),this.shapes.forEach(n),this.labels.forEach(n)},t.prototype.destroy=function(){var t=this.chart,n=function(t){t.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipYAxis=this.clipXAxis=null,y(t.labelCollectors,this.labelCollector),u.destroy.call(this),e.destroy.call(this),f(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,n){var e=this.chart,l=this.getLabelsAndShapesOptions(this.userOptions,t),a=e.annotations.indexOf(this);(t=S(!0,this.userOptions,t)).labels=l.labels,t.shapes=l.shapes,this.destroy(),this.constructor(e,t),e.options.annotations[a]=t,this.isUpdating=!0,M(n,!0)&&e.redraw(),C(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(n,e){return n=S(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},n),(e=new t.shapesMap[n.type](this,n,e)).itemType="shape",this.shapes.push(e),e},t.prototype.initLabel=function(t,n){return t=S(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(n=new o(this,t,n)).itemType="label",this.labels.push(n),n},t.prototype.redrawItem=function(t,n){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(M(n,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var n=!1,e=t.graphic;t.points.forEach(function(t){!1!==t.series.visible&&!1!==t.visible&&(n=!0)}),n?"hidden"===e.visibility&&e.show():e.hide()},t.prototype.destroyItem=function(t){y(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=s,t.MockPoint=h,t.shapesMap={rect:l,circle:a,path:i,image:r},t.types={},t}();return S(!0,L.prototype,e,u,S(L.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return b(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),c.extendAnnotation=function(t,n,e,l){S(!0,t.prototype,(n=n||L).prototype,e),t.prototype.defaultOptions=S(t.prototype.defaultOptions,l||{})},n(t,{initAnnotation:function(t){return t=new(L.types[t.type]||L)(this,t),this.annotations.push(t),t},addAnnotation:function(t,n){return t=this.initAnnotation(t),this.options.annotations.push(t.options),M(n,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(t){var n=this.annotations,e="annotations"===t.coll?t:v(n,function(n){return n.options.id===t});e&&(C(e,"remove"),y(this.options.annotations,e.options),y(n,e),e.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)})}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],t.callbacks.push(function(t){t.annotations=[],t.options.annotations||(t.options.annotations=[]),t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach(function(n,e){n=t.initAnnotation(n),t.options.annotations[e]=n.options}),t.drawAnnotations(),m(t,"redraw",t.drawAnnotations),m(t,"destroy",function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()}),m(t,"exportData",function(n){var e,l,a,i,r,o,s,u,c=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,h=!n.dataRows[1].xValues,d=null===(l=null===(e=t.options.lang)||void 0===e?void 0:e.exportData)||void 0===l?void 0:l.annotationHeader;e=function(t){if(c){var n=c(t);if(!1!==n)return n}return n=d+" "+t,h?{columnTitle:n,topLevelColumnTitle:n}:n};var p=n.dataRows[0].length,g=null===(r=null===(i=null===(a=t.options.exporting)||void 0===a?void 0:a.csv)||void 0===i?void 0:i.annotations)||void 0===r?void 0:r.itemDelimiter,m=null===(u=null===(s=null===(o=t.options.exporting)||void 0===o?void 0:o.csv)||void 0===s?void 0:s.annotations)||void 0===u?void 0:u.join;t.annotations.forEach(function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach(function(t){if(t.options.text){var e=t.options.text;t.points.forEach(function(t){var l=t.x,a=t.series.xAxis?t.series.xAxis.options.index:-1,i=!1;if(-1===a){t=n.dataRows[0].length;for(var r=Array(t),o=0;o<t;++o)r[o]="";r.push(e),r.xValues=[],r.xValues[a]=l,n.dataRows.push(r),i=!0}if(i||n.dataRows.forEach(function(t,n){!i&&t.xValues&&void 0!==a&&l===t.xValues[a]&&(m&&t.length>p?t[t.length-1]+=g+e:t.push(e),i=!0)}),!i){for(t=n.dataRows[0].length,r=Array(t),o=0;o<t;++o)r[o]="";r[0]=l,r.push(e),r.xValues=[],void 0!==a&&(r.xValues[a]=l),n.dataRows.push(r)}})}})});var b=0;for(n.dataRows.forEach(function(t){b=Math.max(b,t.length)}),a=b-n.dataRows[0].length,i=0;i<a;i++)r=e(i+1),h?(n.dataRows[0].push(r.topLevelColumnTitle),n.dataRows[1].push(r.columnTitle)):n.dataRows[0].push(r)})}),p(d.prototype,"onContainerMouseDown",function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}),c.Annotation=L}),n(t,"Extensions/Annotations/Types/BasicAnnotation.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e){var l=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}();e=e.merge;var a=function(e){function a(t,n){return e.call(this,t,n)||this}return l(a,e),a.prototype.addControlPoints=function(){var t=this.options,n=a.basicControlPoints,e=this.basicType;(t.labels||t.shapes).forEach(function(t){t.controlPoints=n[e]})},a.prototype.init=function(){var n=this.options;n.shapes?(delete n.labelOptions,this.basicType="circle"===n.shapes[0].type?"circle":"rectangle"):(delete n.shapes,this.basicType="label"),t.prototype.init.apply(this,arguments)},a.basicControlPoints={label:[{symbol:"triangle-down",positioner:function(t){return t.graphic.placed?{x:(t=n.pointToPixels(t.points[0])).x-this.graphic.width/2,y:t.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,n){t=this.mouseMoveToTranslation(t),n.translatePoint(t.x,t.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}},{symbol:"square",positioner:function(t){return t.graphic.placed?{x:t.graphic.alignAttr.x-this.graphic.width/2,y:t.graphic.alignAttr.y-this.graphic.height/2}:{x:0,y:-9e7}},events:{drag:function(t,n){t=this.mouseMoveToTranslation(t),n.translate(t.x,t.y),n.annotation.userOptions.labels[0].point=n.options.point,n.redraw(!1)}}}],rectangle:[{positioner:function(t){return{x:(t=n.pointToPixels(t.points[2])).x-4,y:t.y-4}},events:{drag:function(t,n){var e=n.annotation,l=this.chart.pointer.getCoordinates(t);t=l.xAxis[0].value,l=l.yAxis[0].value;var a=n.options.points;a[1].x=t,a[2].x=t,a[2].y=l,a[3].y=l,e.userOptions.shapes[0].points=n.options.points,e.redraw(!1)}}}],circle:[{positioner:function(t){var e=n.pointToPixels(t.points[0]);return{x:e.x+(t=t.options.r)*Math.cos(Math.PI/4)-this.graphic.width/2,y:e.y+t*Math.sin(Math.PI/4)-this.graphic.height/2}},events:{drag:function(t,n){var e=n.annotation;t=this.mouseMoveToTranslation(t),n.setRadius(Math.max(n.options.r+t.y/Math.sin(Math.PI/4),5)),e.userOptions.shapes[0].r=n.options.r,e.userOptions.shapes[0].point=n.options.point,n.redraw(!1)}}}]},a}(t);return a.prototype.defaultOptions=e(t.prototype.defaultOptions,{}),t.types.basicAnnotation=a}),n(t,"Extensions/Annotations/Types/CrookedLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),i=l.merge;return(l=function(t){function e(n,e){return t.call(this,n,e)||this}return a(e,t),e.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},e.prototype.getPointsOptions=function(){var t=this.options.typeOptions;return(t.points||[]).map(function(n){return n.xAxis=t.xAxis,n.yAxis=t.yAxis,n})},e.prototype.getControlPointsOptions=function(){return this.getPointsOptions()},e.prototype.addControlPoints=function(){this.getControlPointsOptions().forEach(function(t,e){e=new n(this.chart,this,i(this.options.controlPointOptions,t.controlPoint),e),this.controlPoints.push(e),t.controlPoint=e.options},this)},e.prototype.addShapes=function(){var t=this.options.typeOptions,n=this.initShape(i(t.line,{type:"path",points:this.points.map(function(t,n){return function(t){return t.annotation.points[n]}})}),!1);t.line=n.options},e}(t)).prototype.defaultOptions=i(t.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,line:{fill:"none"}},controlPointOptions:{positioner:function(t){var n=this.graphic;return{x:(t=e.pointToPixels(t.points[this.index])).x-n.width/2,y:t.y-n.height/2}},events:{drag:function(t,n){n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop)&&(t=this.mouseMoveToTranslation(t),n.translatePoint(t.x,t.y,this.index),n.options.typeOptions.points[this.index].x=n.points[this.index].x,n.options.typeOptions.points[this.index].y=n.points[this.index].y,n.redraw(!1))}}}}),t.types.crookedLine=l}),n(t,"Extensions/Annotations/Types/ElliottWave.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Core/Utilities.js"]],function(t,n,e){var l=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),a=e.merge;return(e=function(t){function n(n,e){return t.call(this,n,e)||this}return l(n,t),n.prototype.addLabels=function(){this.getPointsOptions().forEach(function(t,n){var e=this.initLabel(a(t.label,{text:this.options.typeOptions.labels[n],point:function(t){return t.annotation.points[n]}}),!1);t.label=e.options},this)},n}(n)).prototype.defaultOptions=a(n.prototype.defaultOptions,{typeOptions:{labels:"(0) (A) (B) (C) (D) (E)".split(" "),line:{strokeWidth:1}},labelOptions:{align:"center",allowOverlap:!0,crop:!0,overflow:"none",type:"rect",backgroundColor:"none",borderWidth:0,y:-5}}),t.types.elliottWave=e}),n(t,"Extensions/Annotations/Types/Tunnel.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e,l,a){var i,r=this&&this.__extends||(i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),o=a.merge;return(a=function(t){function a(n,e){return t.call(this,n,e)||this}return r(a,t),a.prototype.getPointsOptions=function(){var t=e.prototype.getPointsOptions.call(this);return t[2]=this.heightPointOptions(t[1]),t[3]=this.heightPointOptions(t[0]),t},a.prototype.getControlPointsOptions=function(){return this.getPointsOptions().slice(0,2)},a.prototype.heightPointOptions=function(t){return(t=o(t)).y+=this.options.typeOptions.height,t},a.prototype.addControlPoints=function(){e.prototype.addControlPoints.call(this);var t=this.options,l=t.typeOptions;t=new n(this.chart,this,o(t.controlPointOptions,l.heightControlPoint),2),this.controlPoints.push(t),l.heightControlPoint=t.options},a.prototype.addShapes=function(){this.addLine(),this.addBackground()},a.prototype.addLine=function(){var t=this.initShape(o(this.options.typeOptions.line,{type:"path",points:[this.points[0],this.points[1],function(t){return(t=l.pointToOptions(t.annotation.points[2])).command="M",t},this.points[3]]}),!1);this.options.typeOptions.line=t.options},a.prototype.addBackground=function(){var t=this.initShape(o(this.options.typeOptions.background,{type:"path",points:this.points.slice()}));this.options.typeOptions.background=t.options},a.prototype.translateSide=function(t,n,e){var l=0===(e=Number(e))?3:2;this.translatePoint(t,n,e),this.translatePoint(t,n,l)},a.prototype.translateHeight=function(t){this.translatePoint(0,t,2),this.translatePoint(0,t,3),this.options.typeOptions.height=this.points[3].y-this.points[0].y},a}(e)).prototype.defaultOptions=o(e.prototype.defaultOptions,{typeOptions:{xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},line:{strokeWidth:1},height:-2,heightControlPoint:{positioner:function(t){var n=l.pointToPixels(t.points[2]);t=l.pointToPixels(t.points[3]);var e=(n.x+t.x)/2;return{x:e-this.graphic.width/2,y:(t.y-n.y)/(t.x-n.x)*(e-n.x)+n.y-this.graphic.height/2}},events:{drag:function(t,n){n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop)&&(n.translateHeight(this.mouseMoveToTranslation(t).y),n.redraw(!1))}}}},controlPointOptions:{events:{drag:function(t,n){n.chart.isInsidePlot(t.chartX-n.chart.plotLeft,t.chartY-n.chart.plotTop)&&(t=this.mouseMoveToTranslation(t),n.translateSide(t.x,t.y,this.index),n.redraw(!1))}}}}),t.types.tunnel=a}),n(t,"Extensions/Annotations/Types/InfinityLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/CrookedLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),i=l.merge;return(l=function(t){function n(n,e){return t.call(this,n,e)||this}return a(n,t),n.edgePoint=function(t,l){return function(a){var i=(a=a.annotation).points,r=a.options.typeOptions.type;return"horizontalLine"===r?i=[i[0],new e(a.chart,i[0].target,{x:i[0].x+1,y:i[0].y,xAxis:i[0].options.xAxis,yAxis:i[0].options.yAxis})]:"verticalLine"===r&&(i=[i[0],new e(a.chart,i[0].target,{x:i[0].x,y:i[0].y+1,xAxis:i[0].options.xAxis,yAxis:i[0].options.yAxis})]),n.findEdgePoint(i[t],i[l])}},n.findEdgeCoordinate=function(t,n,e,l){var a="x"===e?"y":"x";return(n[e]-t[e])*(l-t[a])/(n[a]-t[a])+t[e]},n.findEdgePoint=function(t,l){var a=t.series.xAxis,i=l.series.yAxis,r=e.pointToPixels(t),o=e.pointToPixels(l),s=o.x-r.x,u=o.y-r.y,c=(l=a.left)+a.width;i=(a=i.top)+i.height;var h=0>s?l:c,d=0>u?a:i;return c={x:0===s?r.x:h,y:0===u?r.y:d},0!==s&&0!==u&&(s=n.findEdgeCoordinate(r,o,"y",h),r=n.findEdgeCoordinate(r,o,"x",d),s>=a&&s<=i?(c.x=h,c.y=s):(c.x=r,c.y=d)),c.x-=l,c.y-=a,t.series.chart.inverted&&(t=c.x,c.x=c.y,c.y=t),c},n.prototype.addShapes=function(){var t=this.options.typeOptions,e=[this.points[0],n.endEdgePoint];t.type.match(/Line/g)&&(e[0]=n.startEdgePoint),e=this.initShape(i(t.line,{type:"path",points:e}),!1),t.line=e.options},n.endEdgePoint=n.edgePoint(0,1),n.startEdgePoint=n.edgePoint(1,0),n}(n)).prototype.defaultOptions=i(n.prototype.defaultOptions,{}),t.types.infinityLine=l}),n(t,"Extensions/Annotations/Types/Fibonacci.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Extensions/Annotations/Types/Tunnel.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a,i=this&&this.__extends||(a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),r=l.merge,o=function(t,n){return function(){var e=this.annotation,l=this.anchor(e.startRetracements[t]).absolutePosition,a=this.anchor(e.endRetracements[t]).absolutePosition;return l=[["M",Math.round(l.x),Math.round(l.y)],["L",Math.round(a.x),Math.round(a.y)]],n&&(a=this.anchor(e.endRetracements[t-1]).absolutePosition,e=this.anchor(e.startRetracements[t-1]).absolutePosition,l.push(["L",Math.round(a.x),Math.round(a.y)],["L",Math.round(e.x),Math.round(e.y)])),l}};return(l=function(t){function e(n,e){return t.call(this,n,e)||this}return i(e,t),e.prototype.linkPoints=function(){t.prototype.linkPoints.call(this),this.linkRetracementsPoints()},e.prototype.linkRetracementsPoints=function(){var t=this.points,n=t[0].y-t[3].y,l=t[1].y-t[2].y,a=t[0].x,i=t[1].x;e.levels.forEach(function(e,r){var o=t[0].y-n*e;e=t[1].y-l*e,this.startRetracements=this.startRetracements||[],this.endRetracements=this.endRetracements||[],this.linkRetracementPoint(r,a,o,this.startRetracements),this.linkRetracementPoint(r,i,e,this.endRetracements)},this)},e.prototype.linkRetracementPoint=function(t,e,l,a){var i=a[t],r=this.options.typeOptions;i?(i.options.x=e,i.options.y=l,i.refresh()):a[t]=new n(this.chart,this,{x:e,y:l,xAxis:r.xAxis,yAxis:r.yAxis})},e.prototype.addShapes=function(){e.levels.forEach(function(t,n){this.initShape({type:"path",d:o(n)},!1),0<n&&this.initShape({type:"path",fill:this.options.typeOptions.backgroundColors[n-1],strokeWidth:0,d:o(n,!0)})},this)},e.prototype.addLabels=function(){e.levels.forEach(function(t,e){var l=this.options.typeOptions;t=this.initLabel(r(l.labels[e],{point:function(t){return n.pointToOptions(t.annotation.startRetracements[e])},text:t.toString()})),l.labels[e]=t.options},this)},e.levels=[0,.236,.382,.5,.618,.786,1],e}(e)).prototype.defaultOptions=r(e.prototype.defaultOptions,{typeOptions:{height:2,backgroundColors:"rgba(130, 170, 255, 0.4);rgba(139, 191, 216, 0.4);rgba(150, 216, 192, 0.4);rgba(156, 229, 161, 0.4);rgba(162, 241, 130, 0.4);rgba(169, 255, 101, 0.4)".split(";"),lineColor:"grey",lineColors:[],labels:[]},labelOptions:{allowOverlap:!0,align:"right",backgroundColor:"none",borderWidth:0,crop:!1,overflow:"none",shape:"rect",style:{color:"grey"},verticalAlign:"middle",y:0}}),t.types.fibonacci=l}),n(t,"Extensions/Annotations/Types/Pitchfork.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/Types/InfinityLine.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),i=l.merge;return(l=function(t){function l(n,e){return t.call(this,n,e)||this}return a(l,t),l.outerLineEdgePoint=function(t){return function(n){var a=n.annotation,i=a.points;return l.findEdgePoint(i[t],i[0],new e(a.chart,n,a.midPointOptions()))}},l.findEdgePoint=function(t,n,e){return n=Math.atan2(e.plotY-n.plotY,e.plotX-n.plotX),{x:t.plotX+1e7*Math.cos(n),y:t.plotY+1e7*Math.sin(n)}},l.middleLineEdgePoint=function(t){var l=t.annotation;return n.findEdgePoint(l.points[0],new e(l.chart,t,l.midPointOptions()))},l.prototype.midPointOptions=function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},l.prototype.addShapes=function(){this.addLines(),this.addBackgrounds()},l.prototype.addLines=function(){this.initShape({type:"path",points:[this.points[0],l.middleLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[1],l.topLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[2],l.bottomLineEdgePoint]},!1)},l.prototype.addBackgrounds=function(){var t=this.shapes,n=this.options.typeOptions,e=this.initShape(i(n.innerBackground,{type:"path",points:[function(t){var n=t.annotation;return t=n.points,n=n.midPointOptions(),{x:(t[1].x+n.x)/2,y:(t[1].y+n.y)/2,xAxis:n.xAxis,yAxis:n.yAxis}},t[1].points[1],t[2].points[1],function(t){var n=t.annotation;return t=n.points,{x:((n=n.midPointOptions()).x+t[2].x)/2,y:(n.y+t[2].y)/2,xAxis:n.xAxis,yAxis:n.yAxis}}]}));t=this.initShape(i(n.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]})),n.innerBackground=e.options,n.outerBackground=t.options},l.topLineEdgePoint=l.outerLineEdgePoint(1),l.bottomLineEdgePoint=l.outerLineEdgePoint(0),l}(n)).prototype.defaultOptions=i(n.prototype.defaultOptions,{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),t.types.pitchfork=l}),n(t,"Extensions/Annotations/Types/VerticalLine.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/MockPoint.js"],t["Core/Utilities.js"]],function(t,n,e){var l=this&&this.__extends||function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function l(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),a=e.merge;return(e=function(t){function e(n,e){return t.call(this,n,e)||this}return l(e,t),e.connectorFirstPoint=function(t){var e=(t=t.annotation).points[0],l=n.pointToPixels(e,!0),a=l.y;return t.chart.inverted&&(a=l.x),{x:e.x,xAxis:e.series.xAxis,y:a+t.options.typeOptions.label.offset}},e.connectorSecondPoint=function(t){var e=t.annotation,l=e.points[0],a=(t=e.options.typeOptions).yOffset;return e=n.pointToPixels(l,!0)[e.chart.inverted?"x":"y"],0>t.label.offset&&(a*=-1),{x:l.x,xAxis:l.series.xAxis,y:e+a}},e.prototype.getPointsOptions=function(){return[this.options.typeOptions.point]},e.prototype.addShapes=function(){var t=this.options.typeOptions,n=this.initShape(a(t.connector,{type:"path",points:[e.connectorFirstPoint,e.connectorSecondPoint]}),!1);t.connector=n.options},e.prototype.addLabels=function(){var t=this.options.typeOptions,n=t.label,e=0,l=n.offset,i=0>n.offset?"bottom":"top",r="center";this.chart.inverted&&(e=n.offset,l=0,i="middle",r=0>n.offset?"right":"left"),n=this.initLabel(a(n,{verticalAlign:i,align:r,x:e,y:l})),t.label=n.options},e}(t)).prototype.defaultOptions=a(t.prototype.defaultOptions,{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),t.types.verticalLine=e}),n(t,"Extensions/Annotations/Types/Measure.js",[t["Extensions/Annotations/Annotations.js"],t["Extensions/Annotations/ControlPoint.js"],t["Core/Utilities.js"]],function(t,n,e){var l,a=this&&this.__extends||(l=function(t,n){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}l(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=e.extend,r=e.isNumber,o=e.merge,s=function(e){function l(t,n){return e.call(this,t,n)||this}return a(l,e),l.prototype.init=function(n,e,a){t.prototype.init.call(this,n,e,a),this.resizeY=this.resizeX=this.offsetY=this.offsetX=0,l.calculations.init.call(this),this.addValues(),this.addShapes()},l.prototype.setClipAxes=function(){this.clipXAxis=this.chart.xAxis[this.options.typeOptions.xAxis],this.clipYAxis=this.chart.yAxis[this.options.typeOptions.yAxis]},l.prototype.pointsOptions=function(){return this.options.points},l.prototype.shapePointsOptions=function(){var t=this.options.typeOptions,n=t.xAxis;return[{x:this.xAxisMin,y:this.yAxisMin,xAxis:n,yAxis:t=t.yAxis},{x:this.xAxisMax,y:this.yAxisMin,xAxis:n,yAxis:t},{x:this.xAxisMax,y:this.yAxisMax,xAxis:n,yAxis:t},{x:this.xAxisMin,y:this.yAxisMax,xAxis:n,yAxis:t}]},l.prototype.addControlPoints=function(){var t=this.options.typeOptions.selectType,e=new n(this.chart,this,this.options.controlPointOptions,0);this.controlPoints.push(e),"xy"!==t&&(e=new n(this.chart,this,this.options.controlPointOptions,1),this.controlPoints.push(e))},l.prototype.addValues=function(t){var n=this.options.typeOptions,e=n.label.formatter;l.calculations.recalculate.call(this,t),n.label.enabled&&(0<this.labels.length?this.labels[0].text=e&&e.call(this)||l.calculations.defaultFormatter.call(this):this.initLabel(i({shape:"rect",backgroundColor:"none",color:"black",borderWidth:0,dashStyle:"dash",overflow:"none",align:"left",vertical:"top",crop:!0,point:function(t){var e=(t=t.annotation).chart,l=e.inverted,a=e.yAxis[n.yAxis],i=e.plotTop,r=e.plotLeft;return{x:(l?i:10)+e.xAxis[n.xAxis].toPixels(t.xAxisMin,!l),y:(l?10-r:i)+a.toPixels(t.yAxisMin)}},text:e&&e.call(this)||l.calculations.defaultFormatter.call(this)},n.label)))},l.prototype.addShapes=function(){this.addCrosshairs(),this.addBackground()},l.prototype.addBackground=function(){void 0!==this.shapePointsOptions()[0].x&&this.initShape(i({type:"path",points:this.shapePointsOptions()},this.options.typeOptions.background),!1)},l.prototype.addCrosshairs=function(){var t=this.chart,n=this.options.typeOptions,e=this.options.typeOptions.point,l=t.xAxis[n.xAxis],a=t.yAxis[n.yAxis],r=t.inverted;t=l.toPixels(this.xAxisMin),l=l.toPixels(this.xAxisMax);var s=a.toPixels(this.yAxisMin),u=a.toPixels(this.yAxisMax),c={point:e,type:"path"};e=[],a=[],r&&(r=t,t=s,s=r,r=l,l=u,u=r),n.crosshairX.enabled&&(e=[["M",t,s+(u-s)/2],["L",l,s+(u-s)/2]]),n.crosshairY.enabled&&(a=[["M",t+(l-t)/2,s],["L",t+(l-t)/2,u]]),0<this.shapes.length?(this.shapes[0].options.d=e,this.shapes[1].options.d=a):(t=o(c,n.crosshairX),n=o(c,n.crosshairY),this.initShape(i({d:e},t),!1),this.initShape(i({d:a},n),!1))},l.prototype.onDrag=function(t){var n=this.mouseMoveToTranslation(t),e=this.options.typeOptions.selectType;this.translate(t="y"===e?0:n.x,n="x"===e?0:n.y),this.offsetX+=t,this.offsetY+=n,this.redraw(!1,!1,!0)},l.prototype.resize=function(t,n,e,a){var i=this.shapes[2];"x"===a?0===e?(i.translatePoint(t,0,0),i.translatePoint(t,n,3)):(i.translatePoint(t,0,1),i.translatePoint(t,n,2)):"y"===a?0===e?(i.translatePoint(0,n,0),i.translatePoint(0,n,1)):(i.translatePoint(0,n,2),i.translatePoint(0,n,3)):(i.translatePoint(t,0,1),i.translatePoint(t,n,2),i.translatePoint(0,n,3)),l.calculations.updateStartPoints.call(this,!1,!0,e,t,n),this.options.typeOptions.background.height=Math.abs(this.startYMax-this.startYMin),this.options.typeOptions.background.width=Math.abs(this.startXMax-this.startXMin)},l.prototype.redraw=function(t,n,e){this.linkPoints(),this.graphic||this.render(),e&&l.calculations.updateStartPoints.call(this,!0,!1),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.addValues(n),this.addCrosshairs(),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),this.controlPoints.forEach(function(t){t.redraw()})},l.prototype.translate=function(t,n){this.shapes.forEach(function(e){e.translate(t,n)}),this.options.typeOptions.point.x=this.startXMin,this.options.typeOptions.point.y=this.startYMin},l.calculations={init:function(){var t=this.options.typeOptions,n=this.chart,e=l.calculations.getPointPos,a=n.inverted,i=n.xAxis[t.xAxis];n=n.yAxis[t.yAxis];var o=t.background,s=a?o.height:o.width;o=a?o.width:o.height;var u=t.selectType,c=a?i.left:n.top;a=a?n.top:i.left,this.startXMin=t.point.x,this.startYMin=t.point.y,this.startXMax=r(s)?this.startXMin+s:e(i,this.startXMin,parseFloat(s)),this.startYMax=r(o)?this.startYMin-o:e(n,this.startYMin,parseFloat(o)),"x"===u?(this.startYMin=n.toValue(c),this.startYMax=n.toValue(c+n.len)):"y"===u&&(this.startXMin=i.toValue(a),this.startXMax=i.toValue(a+i.len))},recalculate:function(t){var n=l.calculations,e=this.options.typeOptions,a=this.chart.xAxis[e.xAxis];e=this.chart.yAxis[e.yAxis];var i=l.calculations.getPointPos,r=this.offsetX,o=this.offsetY;this.xAxisMin=i(a,this.startXMin,r),this.xAxisMax=i(a,this.startXMax,r),this.yAxisMin=i(e,this.startYMin,o),this.yAxisMax=i(e,this.startYMax,o),this.min=n.min.call(this),this.max=n.max.call(this),this.average=n.average.call(this),this.bins=n.bins.call(this),t&&this.resize(0,0)},getPointPos:function(t,n,e){return t.toValue(t.toPixels(n)+e)},updateStartPoints:function(t,n,e,a,i){var r=this.options.typeOptions,o=r.selectType,s=this.chart.xAxis[r.xAxis];r=this.chart.yAxis[r.yAxis];var u=l.calculations.getPointPos,c=this.startXMin,h=this.startXMax,d=this.startYMin,p=this.startYMax,g=this.offsetX,m=this.offsetY;n&&("x"===o?0===e?this.startXMin=u(s,c,a):this.startXMax=u(s,h,a):"y"===o?0===e?this.startYMin=u(r,d,i):this.startYMax=u(r,p,i):(this.startXMax=u(s,h,a),this.startYMax=u(r,p,i))),t&&(this.startXMin=u(s,c,g),this.startXMax=u(s,h,g),this.startYMin=u(r,d,m),this.startYMax=u(r,p,m),this.offsetY=this.offsetX=0)},defaultFormatter:function(){return"Min: "+this.min+"<br>Max: "+this.max+"<br>Average: "+this.average+"<br>Bins: "+this.bins},getExtremes:function(t,n,e,l){return{xAxisMin:Math.min(n,t),xAxisMax:Math.max(n,t),yAxisMin:Math.min(l,e),yAxisMax:Math.max(l,e)}},min:function(){var t=1/0,n=this.chart.series,e=l.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return n.forEach(function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach(function(n){!n.isNull&&n.y<t&&n.x>e.xAxisMin&&n.x<=e.xAxisMax&&n.y>e.yAxisMin&&n.y<=e.yAxisMax&&(t=n.y,a=!0)})}),a||(t=""),t},max:function(){var t=-1/0,n=this.chart.series,e=l.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return n.forEach(function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach(function(n){!n.isNull&&n.y>t&&n.x>e.xAxisMin&&n.x<=e.xAxisMax&&n.y>e.yAxisMin&&n.y<=e.yAxisMax&&(t=n.y,a=!0)})}),a||(t=""),t},average:function(){var t="";return""!==this.max&&""!==this.min&&(t=(this.max+this.min)/2),t},bins:function(){var t=0,n=this.chart.series,e=l.calculations.getExtremes(this.xAxisMin,this.xAxisMax,this.yAxisMin,this.yAxisMax),a=!1;return n.forEach(function(n){n.visible&&"highcharts-navigator-series"!==n.options.id&&n.points.forEach(function(n){!n.isNull&&n.x>e.xAxisMin&&n.x<=e.xAxisMax&&n.y>e.yAxisMin&&n.y<=e.yAxisMax&&(t++,a=!0)})}),a||(t=""),t}},l}(t);return s.prototype.defaultOptions=o(t.prototype.defaultOptions,{typeOptions:{selectType:"xy",xAxis:0,yAxis:0,background:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0,stroke:void 0},crosshairX:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},crosshairY:{enabled:!0,zIndex:6,dashStyle:"Dash",markerEnd:"arrow"},label:{enabled:!0,style:{fontSize:"11px",color:"#666666"},formatter:void 0}},controlPointOptions:{positioner:function(t){var n=this.index,e=t.chart,l=t.options,a=l.typeOptions,i=a.selectType;l=l.controlPointOptions;var r=e.inverted,o=e.xAxis[a.xAxis];e=e.yAxis[a.yAxis],a=t.xAxisMax;var u=t.yAxisMax,c=s.calculations.getExtremes(t.xAxisMin,t.xAxisMax,t.yAxisMin,t.yAxisMax);return"x"===i&&(u=(c.yAxisMax-c.yAxisMin)/2,0===n&&(a=t.xAxisMin)),"y"===i&&(a=c.xAxisMin+(c.xAxisMax-c.xAxisMin)/2,0===n&&(u=t.yAxisMin)),r?(t=e.toPixels(u),n=o.toPixels(a)):(t=o.toPixels(a),n=e.toPixels(u)),{x:t-l.width/2,y:n-l.height/2}},events:{drag:function(t,n){var e=this.mouseMoveToTranslation(t),l="y"===(t=n.options.typeOptions.selectType)?0:e.x;n.resize(l,e="x"===t?0:e.y,this.index,t),n.resizeX+=l,n.resizeY+=e,n.redraw(!1,!0)}}}}),t.types.measure=s}),n(t,"Mixins/Navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,n){this.updates.forEach(function(e){e.update.call(e.context,t,n)})}})},addUpdate:function(t,n){n.navigation||this.initUpdate(n),n.navigation.updates.push({update:t,context:n})}}}),n(t,"Extensions/Annotations/NavigationBindings.js",[t["Extensions/Annotations/Annotations.js"],t["Core/Chart/Chart.js"],t["Mixins/Navigation.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,n,e,l,a){function i(t){var n=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;g(!0,t.prototype.defaultOptions.events,{click:function(t){var e=this,l=e.chart.navigationBindings,a=l.activeAnnotation;n&&n.call(e,t),a!==e?(l.deselectAnnotation(),l.activeAnnotation=e,e.setControlPointsVisibility(!0),u(l,"showPopup",{annotation:e,formType:"annotation-toolbar",options:l.annotationToFields(e),onSubmit:function(t){var n={};"remove"===t.actionType?(l.activeAnnotation=!1,l.chart.removeAnnotation(e)):(l.fieldsToOptions(t.fields,n),l.deselectAnnotation(),t=n.typeOptions,"measure"===e.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),e.update(n))}})):(l.deselectAnnotation(),u(l,"closePopup")),t.activeAnnotation=!0}})}var r=a.addEvent,o=a.attr,s=a.format,u=a.fireEvent,c=a.isArray,h=a.isFunction,d=a.isNumber,p=a.isObject,g=a.merge,m=a.objectEach,b=a.pick;a=a.setOptions;var f=l.doc,y=l.win,v=function(){function t(t,n){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=n,this.eventsToUnbind=[],this.container=f.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,n=t.chart,e=t.container,a=t.options;t.boundClassNames={},m(a.bindings||{},function(n){t.boundClassNames[n.className]=n}),[].forEach.call(e,function(n){t.eventsToUnbind.push(r(n,"click",function(e){var l=t.getButtonEvents(n,e);l&&t.bindingsButtonClick(l.button,l.events,e)}))}),m(a.events||{},function(n,e){h(n)&&t.eventsToUnbind.push(r(t,e,n))}),t.eventsToUnbind.push(r(n.container,"click",function(e){!n.cancelClick&&n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&t.bindingsChartClick(this,e)})),t.eventsToUnbind.push(r(n.container,l.isTouchDevice?"touchmove":"mousemove",function(n){t.bindingsContainerMouseMove(this,n)}))},t.prototype.initUpdate=function(){var t=this;e.addUpdate(function(n){t.update(n)},this.chart)},t.prototype.bindingsButtonClick=function(t,n,e){var l=this.chart;this.selectedButtonElement&&(u(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&l.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=n,this.selectedButtonElement=t,u(this,"selectButton",{button:t}),n.init&&n.init.call(this,t,e),(n.start||n.steps)&&l.renderer.boxWrapper.addClass("highcharts-draw-mode")},t.prototype.bindingsChartClick=function(t,n){var e,l=this.selectedButton;if(t=(t=this.chart).renderer.boxWrapper,e=this.activeAnnotation&&!n.activeAnnotation&&n.target.parentNode){t:{e=n.target;var a=y.Element.prototype,i=a.matches||a.msMatchesSelector||a.webkitMatchesSelector,r=null;if(a.closest)r=a.closest.call(e,".highcharts-popup");else do{if(i.call(e,".highcharts-popup"))break t;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);e=r}e=!e}e&&(u(this,"closePopup"),this.deselectAnnotation()),l&&l.start&&(this.nextEvent?(this.nextEvent(n,this.currentUserDetails),this.steps&&(this.stepIndex++,l.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=l.steps[this.stepIndex]:(u(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),l.end&&l.end.call(this,n,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=l.start.call(this,n),l.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=l.steps[this.stepIndex]):(u(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,l.end&&l.end.call(this,n,this.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,n){this.mouseMoveEvent&&this.mouseMoveEvent(n,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,n){return m(t,function(t,e){var l=parseFloat(t),a=e.split("."),i=n,r=a.length-1;!d(l)||t.match(/px/g)||e.match(/format/g)||(t=l),""!==t&&"undefined"!==t&&a.forEach(function(n,e){var l=b(a[e+1],"");r===e?i[n]=t:(i[n]||(i[n]=l.match(/\d/g)?[]:{}),i=i[n])})}),n},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(n){function e(t,l,a,o){if(a&&t&&-1===u.indexOf(l)&&(0<=(a.indexOf&&a.indexOf(l))||a[l]||!0===a))if(c(t))o[l]=[],t.forEach(function(t,n){p(t)?(o[l][n]={},m(t,function(t,a){e(t,a,i[l],o[l][n])})):e(t,0,i[l],o[l])});else if(p(t)){var h={};c(o)?(o.push(h),h[l]={},h=h[l]):o[l]=h,m(t,function(t,n){e(t,n,0===l?a:i[l],h)})}else"format"===l?o[l]=[s(t,n.labels[0].points[0]).toString(),"text"]:c(o)?o.push([t,r(t)]):o[l]=[t,r(t)]}var l=n.options,a=t.annotationsEditable,i=a.nestedOptions,r=this.utils.getFieldType,o=b(l.type,l.shapes&&l.shapes[0]&&l.shapes[0].type,l.labels&&l.labels[0]&&l.labels[0].itemType,"label"),u=t.annotationsNonEditable[l.langKey]||[],h={langKey:l.langKey,type:o};return m(l,function(t,n){"typeOptions"===n?(h[n]={},m(l[n],function(t,l){e(t,l,i,h[n])})):e(t,n,a[o],h)}),h},t.prototype.getClickedClassNames=function(t,n){var e,l=n.target;for(n=[];l&&((e=o(l,"class"))&&(n=n.concat(e.split(" ").map(function(t){return[t,l]}))),(l=l.parentNode)!==t););return n},t.prototype.getButtonEvents=function(t,n){var e,l=this;return this.getClickedClassNames(t,n).forEach(function(t){l.boundClassNames[t[0]]&&!e&&(e={events:l.boundClassNames[t[0]],button:t[1]})}),e},t.prototype.update=function(t){this.options=g(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},t}();return v.prototype.utils={updateRectSize:function(t,n){var e=n.chart,l=n.options.typeOptions,a=e.pointer.getCoordinates(t);t=a.xAxis[0].value-l.point.x,l=l.point.y-a.yAxis[0].value,n.update({typeOptions:{background:{width:e.inverted?l:t,height:e.inverted?t:l}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},n.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new v(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},r(n,"load",function(){this.initNavigationBindings()}),r(n,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),r(v,"deselectButton",function(){this.selectedButtonElement=null}),r(t,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),l.Annotation&&(i(t),m(t.types,function(t){i(t)})),a({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return this.chart.addAnnotation(g({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,n){var e=n.options.shapes[0].point,l=this.chart.xAxis[0].toPixels(e.x);e=this.chart.yAxis[0].toPixels(e.y);var a=this.chart.inverted;n.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(a?e-t.chartX:l-t.chartX,2)+Math.pow(a?l-t.chartY:e-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),e=n.xAxis[0].value;return this.chart.addAnnotation(g({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:e,y:n=n.yAxis[0].value},{xAxis:0,yAxis:0,x:e,y:n},{xAxis:0,yAxis:0,x:e,y:n},{xAxis:0,yAxis:0,x:e,y:n}]}]},(t=this.chart.options.navigation).annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,n){var e=n.options.shapes[0].points,l=this.chart.pointer.getCoordinates(t);t=l.xAxis[0].value,l=l.yAxis[0].value,e[1].x=t,e[2].x=t,e[2].y=l,e[3].y=l,n.update({shapes:[{points:e}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return this.chart.addAnnotation(g({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),v}),n(t,"Extensions/Annotations/Popup.js",[t["Core/Globals.js"],t["Extensions/Annotations/NavigationBindings.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],function(t,n,e,l){var a=l.addEvent,i=l.createElement,r=l.defined,o=l.getOptions,s=l.isArray,u=l.isObject,c=l.isString,h=l.objectEach,d=l.pick,p=/\d/g;(l=l.wrap)(e.prototype,"onContainerMouseDown",function(t,n){var e=n.target&&n.target.className;c(e)&&0<=e.indexOf("highcharts-popup-field")||t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Popup=function(t,n){this.init(t,n)},t.Popup.prototype={init:function(t,n){this.container=i("div",{className:"highcharts-popup"},null,t),this.lang=this.getLangpack(),this.iconsURL=n,this.addCloseBtn()},addCloseBtn:function(){var t=this,n=i("div",{className:"highcharts-popup-close"},null,this.container);n.style["background-image"]="url("+this.iconsURL+"close.svg)",["click","touchstart"].forEach(function(e){a(n,e,function(){t.closePopup()})})},addColsContainer:function(t){var n=i("div",{className:"highcharts-popup-lhs-col"},null,t);return t=i("div",{className:"highcharts-popup-rhs-col"},null,t),i("div",{className:"highcharts-popup-rhs-col-wrapper"},null,t),{lhsCol:n,rhsCol:t}},addInput:function(t,n,e,l){var a=t.split("."),r=this.lang;(n="highcharts-"+n+"-"+(a=a[a.length-1])).match(p)||i("label",{innerHTML:r[a]||a,htmlFor:n},null,e),i("input",{name:n,value:l[0],type:l[1],className:"highcharts-popup-field"},null,e).setAttribute("highcharts-data-name",t)},addButton:function(t,n,e,l,r){var o=this,s=this.closePopup,u=this.getFields,c=i("button",{innerHTML:n},null,t);return["click","touchstart"].forEach(function(t){a(c,t,function(){return s.call(o),l(u(r,e))})}),c},getFields:function(t,n){var e,l=t.querySelectorAll("input"),a=t.querySelectorAll("#highcharts-select-series > option:checked")[0];t=t.querySelectorAll("#highcharts-select-volume > option:checked")[0];var i={actionType:n,linkedTo:a&&a.getAttribute("value"),fields:{}};return[].forEach.call(l,function(t){e=t.getAttribute("highcharts-data-name"),t.getAttribute("highcharts-data-series-id")?i.seriesId=t.value:e?i.fields[e]=t.value:i.type=t.value}),t&&(i.fields["params.volumeSeriesID"]=t.getAttribute("value")),i},showPopup:function(){var t=this.container,n=t.querySelectorAll(".highcharts-popup-close")[0];t.innerHTML="",0<=t.className.indexOf("highcharts-annotation-toolbar")&&(t.classList.remove("highcharts-annotation-toolbar"),t.removeAttribute("style")),t.appendChild(n),t.style.display="block"},closePopup:function(){this.popup.container.style.display="none"},showForm:function(t,n,e,l){this.popup=n.navigationBindings.popup,this.showPopup(),"indicators"===t&&this.indicators.addForm.call(this,n,e,l),"annotation-toolbar"===t&&this.annotations.addToolbar.call(this,n,e,l),"annotation-edit"===t&&this.annotations.addForm.call(this,n,e,l),"flag"===t&&this.annotations.addForm.call(this,n,e,l,!0)},getLangpack:function(){return o().lang.navigation.popup},annotations:{addToolbar:function(t,n,e){var l=this,a=this.lang,r=this.popup.container,o=this.showForm;-1===r.className.indexOf("highcharts-annotation-toolbar")&&(r.className+=" highcharts-annotation-toolbar"),r.style.top=t.plotTop+10+"px",i("span",{innerHTML:d(a[n.langKey]||n.langKey,n.shapes&&n.shapes[0].type)},null,r);var s=this.addButton(r,a.removeButton||"remove","remove",e,r);s.className+=" highcharts-annotation-remove-button",s.style["background-image"]="url("+this.iconsURL+"destroy.svg)",(s=this.addButton(r,a.editButton||"edit","edit",function(){o.call(l,"annotation-edit",t,n,e)},r)).className+=" highcharts-annotation-edit-button",s.style["background-image"]="url("+this.iconsURL+"edit.svg)"},addForm:function(t,n,e,l){var a=this.popup.container,r=this.lang;i("h2",{innerHTML:r[n.langKey]||n.langKey,className:"highcharts-popup-main-title"},null,a);var o=i("div",{className:"highcharts-popup-lhs-col highcharts-popup-lhs-full"},null,a),s=i("div",{className:"highcharts-popup-bottom-row"},null,a);this.annotations.addFormFields.call(this,o,t,"",n,[],!0),this.addButton(s,l?r.addButton||"add":r.saveButton||"save",l?"add":"save",e,a)},addFormFields:function(t,n,e,l,a,r){var o,c,d=this,g=this.annotations.addFormFields,m=this.addInput,b=this.lang;h(l,function(l,i){o=""!==e?e+"."+i:i,u(l)&&(!s(l)||s(l)&&u(l[0])?((c=b[i]||i).match(p)||a.push([!0,c,t]),g.call(d,t,n,o,l,a,!1)):a.push([d,o,"annotation",t,l]))}),r&&(a=a.sort(function(t){return t[1].match(/format/g)?-1:1})).forEach(function(t){!0===t[0]?i("span",{className:"highcharts-annotation-title",innerHTML:t[1]},null,t[2]):m.apply(t[0],t.splice(1))})}},indicators:{addForm:function(t,n,e){var l=this.indicators,a=this.lang;this.tabs.init.call(this,t),n=this.popup.container.querySelectorAll(".highcharts-tab-item-content"),this.addColsContainer(n[0]),l.addIndicatorList.call(this,t,n[0],"add");var i=n[0].querySelectorAll(".highcharts-popup-rhs-col")[0];this.addButton(i,a.addButton||"add","add",e,i),this.addColsContainer(n[1]),l.addIndicatorList.call(this,t,n[1],"edit"),i=n[1].querySelectorAll(".highcharts-popup-rhs-col")[0],this.addButton(i,a.saveButton||"save","edit",e,i),this.addButton(i,a.removeButton||"remove","remove",e,i)},addIndicatorList:function(t,n,e){var l=this,r=n.querySelectorAll(".highcharts-popup-lhs-col")[0];n=n.querySelectorAll(".highcharts-popup-rhs-col")[0];var o,s="edit"===e,u=s?t.series:t.options.plotOptions,c=this.indicators.addFormFields,d=i("ul",{className:"highcharts-indicator-list"},null,r),p=n.querySelectorAll(".highcharts-popup-rhs-col-wrapper")[0];h(u,function(n,e){var r=n.options;if(n.params||r&&r.params){var h=l.indicators.getNameType(n,e),g=h.type;o=i("li",{className:"highcharts-indicator-list",innerHTML:h.name},null,d),["click","touchstart"].forEach(function(e){a(o,e,function(){c.call(l,t,s?n:u[g],h.type,p),s&&n.options&&i("input",{type:"hidden",name:"highcharts-id-"+g,value:n.options.id},null,p).setAttribute("highcharts-data-series-id",n.options.id)})})}}),0<d.childNodes.length&&d.childNodes[0].click()},getNameType:function(n,e){var l=n.options,a=t.seriesTypes;return a=a[e]&&a[e].prototype.nameBase||e.toUpperCase(),l&&l.type&&(e=n.options.type,a=n.name),{name:a,type:e}},listAllSeries:function(t,n,e,l,a){var o;i("label",{innerHTML:this.lang[n]||n,htmlFor:t="highcharts-"+n+"-type-"+t},null,l);var s=i("select",{name:t,className:"highcharts-popup-field"},null,l);s.setAttribute("id","highcharts-select-"+n),e.series.forEach(function(t){!(o=t.options).params&&o.id&&"highcharts-navigator-series"!==o.id&&i("option",{innerHTML:o.name||o.id,value:o.id},null,s)}),r(a)&&(s.value=a)},addFormFields:function(t,n,e,l){var a=n.params||n.options.params,r=this.indicators.getNameType;l.innerHTML="",i("h3",{className:"highcharts-indicator-title",innerHTML:r(n,e).name},null,l),i("input",{type:"hidden",name:"highcharts-type-"+e,value:e},null,l),this.indicators.listAllSeries.call(this,e,"series",t,l,n.linkedParent&&a.volumeSeriesID),a.volumeSeriesID&&this.indicators.listAllSeries.call(this,e,"volume",t,l,n.linkedParent&&n.linkedParent.options.id),this.indicators.addParamInputs.call(this,t,"params",a,e,l)},addParamInputs:function(t,n,e,l,a){var i,r=this,o=this.indicators.addParamInputs,s=this.addInput;h(e,function(e,c){i=n+"."+c,u(e)?o.call(r,t,i,e,l,a):"params.volumeSeriesID"!==i&&s.call(r,i,l,a,[e,"text"])})},getAmount:function(){var t=0;return this.series.forEach(function(n){var e=n.options;(n.params||e&&e.params)&&t++}),t}},tabs:{init:function(t){var n=this.tabs;t=this.indicators.getAmount.call(t);var e=n.addMenuItem.call(this,"add");n.addMenuItem.call(this,"edit",t),n.addContentItem.call(this,"add"),n.addContentItem.call(this,"edit"),n.switchTabs.call(this,t),n.selectTab.call(this,e,0)},addMenuItem:function(t,n){var e="highcharts-tab-item";return 0===n&&(e+=" highcharts-tab-disabled"),(n=i("span",{innerHTML:this.lang[t+"Button"]||t,className:e},null,this.popup.container)).setAttribute("highcharts-data-tab-type",t),n},addContentItem:function(){return i("div",{className:"highcharts-tab-item-content"},null,this.popup.container)},switchTabs:function(t){var n=this;this.popup.container.querySelectorAll(".highcharts-tab-item").forEach(function(e,l){"edit"===e.getAttribute("highcharts-data-tab-type")&&0===t||["click","touchstart"].forEach(function(t){a(e,t,function(){n.tabs.deselectAll.call(n),n.tabs.selectTab.call(n,this,l)})})})},selectTab:function(t,n){var e=this.popup.container.querySelectorAll(".highcharts-tab-item-content");t.className+=" highcharts-tab-item-active",e[n].className+=" highcharts-tab-item-show"},deselectAll:function(){var t,n=this.popup.container,e=n.querySelectorAll(".highcharts-tab-item");for(n=n.querySelectorAll(".highcharts-tab-item-content"),t=0;t<e.length;t++)e[t].classList.remove("highcharts-tab-item-active"),n[t].classList.remove("highcharts-tab-item-show")}}},a(n,"showPopup",function(n){this.popup||(this.popup=new t.Popup(this.chart.container,this.chart.options.navigation.iconsURL||this.chart.options.stockTools&&this.chart.options.stockTools.gui.iconsURL||"https://code.highcharts.com/8.2.2/gfx/stock-icons/")),this.popup.showForm(n.formType,this.chart,n.options,n.onSubmit)}),a(n,"closePopup",function(){this.popup&&this.popup.closePopup()})}),n(t,"masters/modules/annotations-advanced.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},nm4c:function(t,n,e){"use strict";var l=e("vn/o"),a=e("yDR0"),i=e("7tol"),r=e("frGm"),o=e("aFNf"),s=1,u=2,c=0,h=-2,d=1,p=852,g=592;function m(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var n;return t&&t.state?(t.total_in=t.total_out=(n=t.state).total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=d,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new l.Buf32(p),n.distcode=n.distdyn=new l.Buf32(g),n.sane=1,n.back=-1,c):h}function y(t){var n;return t&&t.state?((n=t.state).wsize=0,n.whave=0,n.wnext=0,f(t)):h}function v(t,n){var e,l;return t&&t.state?(n<0?(e=0,n=-n):(e=1+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?h:(null!==(l=t.state).window&&l.wbits!==n&&(l.window=null),l.wrap=e,l.wbits=n,y(t))):h}function C(t,n){var e,l;return t?(l=new b,t.state=l,l.window=null,(e=v(t,n))!==c&&(t.state=null),e):h}var S,M,_=!0;function L(t){if(_){var n;for(S=new l.Buf32(512),M=new l.Buf32(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(o(s,t.lens,0,288,S,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;o(u,t.lens,0,32,M,0,t.work,{bits:5}),_=!1}t.lencode=S,t.lenbits=9,t.distcode=M,t.distbits=5}function O(t,n,e,a){var i,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new l.Buf8(r.wsize)),a>=r.wsize?(l.arraySet(r.window,n,e-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((i=r.wsize-r.wnext)>a&&(i=a),l.arraySet(r.window,n,e-a,i,r.wnext),(a-=i)?(l.arraySet(r.window,n,e-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0}n.inflateReset=y,n.inflateReset2=v,n.inflateResetKeep=f,n.inflateInit=function(t){return C(t,15)},n.inflateInit2=C,n.inflate=function(t,n){var e,p,g,b,f,y,v,C,S,M,_,A,T,D,P,x,w,k,I,E,N,F,B,U,R=0,V=new l.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return h;12===(e=t.state).mode&&(e.mode=13),f=t.next_out,g=t.output,b=t.next_in,p=t.input,C=e.hold,S=e.bits,M=y=t.avail_in,_=v=t.avail_out,F=c;t:for(;;)switch(e.mode){case d:if(0===e.wrap){e.mode=13;break}for(;S<16;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(2&e.wrap&&35615===C){e.check=0,V[0]=255&C,V[1]=C>>>8&255,e.check=i(e.check,V,2,0),C=0,S=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&C)<<8)+(C>>8))%31){t.msg="incorrect header check",e.mode=30;break}if(8!=(15&C)){t.msg="unknown compression method",e.mode=30;break}if(S-=4,N=8+(15&(C>>>=4)),0===e.wbits)e.wbits=N;else if(N>e.wbits){t.msg="invalid window size",e.mode=30;break}e.dmax=1<<N,t.adler=e.check=1,e.mode=512&C?10:12,C=0,S=0;break;case 2:for(;S<16;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(e.flags=C,8!=(255&e.flags)){t.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=C>>8&1),512&e.flags&&(V[0]=255&C,V[1]=C>>>8&255,e.check=i(e.check,V,2,0)),C=0,S=0,e.mode=3;case 3:for(;S<32;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.head&&(e.head.time=C),512&e.flags&&(V[0]=255&C,V[1]=C>>>8&255,V[2]=C>>>16&255,V[3]=C>>>24&255,e.check=i(e.check,V,4,0)),C=0,S=0,e.mode=4;case 4:for(;S<16;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.head&&(e.head.xflags=255&C,e.head.os=C>>8),512&e.flags&&(V[0]=255&C,V[1]=C>>>8&255,e.check=i(e.check,V,2,0)),C=0,S=0,e.mode=5;case 5:if(1024&e.flags){for(;S<16;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.length=C,e.head&&(e.head.extra_len=C),512&e.flags&&(V[0]=255&C,V[1]=C>>>8&255,e.check=i(e.check,V,2,0)),C=0,S=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&((A=e.length)>y&&(A=y),A&&(e.head&&(N=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),l.arraySet(e.head.extra,p,b,A,N)),512&e.flags&&(e.check=i(e.check,p,A,b)),y-=A,b+=A,e.length-=A),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===y)break t;A=0;do{N=p[b+A++],e.head&&N&&e.length<65536&&(e.head.name+=String.fromCharCode(N))}while(N&&A<y);if(512&e.flags&&(e.check=i(e.check,p,A,b)),y-=A,b+=A,N)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===y)break t;A=0;do{N=p[b+A++],e.head&&N&&e.length<65536&&(e.head.comment+=String.fromCharCode(N))}while(N&&A<y);if(512&e.flags&&(e.check=i(e.check,p,A,b)),y-=A,b+=A,N)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;S<16;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(C!==(65535&e.check)){t.msg="header crc mismatch",e.mode=30;break}C=0,S=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=12;break;case 10:for(;S<32;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}t.adler=e.check=m(C),C=0,S=0,e.mode=11;case 11:if(0===e.havedict)return t.next_out=f,t.avail_out=v,t.next_in=b,t.avail_in=y,e.hold=C,e.bits=S,2;t.adler=e.check=1,e.mode=12;case 12:if(5===n||6===n)break t;case 13:if(e.last){C>>>=7&S,S-=7&S,e.mode=27;break}for(;S<3;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}switch(e.last=1&C,S-=1,3&(C>>>=1)){case 0:e.mode=14;break;case 1:if(L(e),e.mode=20,6===n){C>>>=2,S-=2;break t}break;case 2:e.mode=17;break;case 3:t.msg="invalid block type",e.mode=30}C>>>=2,S-=2;break;case 14:for(C>>>=7&S,S-=7&S;S<32;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if((65535&C)!=(C>>>16^65535)){t.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&C,C=0,S=0,e.mode=15,6===n)break t;case 15:e.mode=16;case 16:if(A=e.length){if(A>y&&(A=y),A>v&&(A=v),0===A)break t;l.arraySet(g,p,b,A,f),y-=A,b+=A,v-=A,f+=A,e.length-=A;break}e.mode=12;break;case 17:for(;S<14;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(e.nlen=257+(31&C),S-=5,e.ndist=1+(31&(C>>>=5)),S-=5,e.ncode=4+(15&(C>>>=5)),C>>>=4,S-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;S<3;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.lens[j[e.have++]]=7&C,C>>>=3,S-=3}for(;e.have<19;)e.lens[j[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,F=o(0,e.lens,0,19,e.lencode,0,e.work,B={bits:e.lenbits}),e.lenbits=B.bits,F){t.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;x=(R=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,w=65535&R,!((P=R>>>24)<=S);){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(w<16)C>>>=P,S-=P,e.lens[e.have++]=w;else{if(16===w){for(U=P+2;S<U;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(C>>>=P,S-=P,0===e.have){t.msg="invalid bit length repeat",e.mode=30;break}N=e.lens[e.have-1],A=3+(3&C),C>>>=2,S-=2}else if(17===w){for(U=P+3;S<U;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}S-=P,N=0,A=3+(7&(C>>>=P)),C>>>=3,S-=3}else{for(U=P+7;S<U;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}S-=P,N=0,A=11+(127&(C>>>=P)),C>>>=7,S-=7}if(e.have+A>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=30;break}for(;A--;)e.lens[e.have++]=N}}if(30===e.mode)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,F=o(s,e.lens,0,e.nlen,e.lencode,0,e.work,B={bits:e.lenbits}),e.lenbits=B.bits,F){t.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,F=o(u,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B={bits:e.distbits}),e.distbits=B.bits,F){t.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===n)break t;case 20:e.mode=21;case 21:if(y>=6&&v>=258){t.next_out=f,t.avail_out=v,t.next_in=b,t.avail_in=y,e.hold=C,e.bits=S,r(t,_),f=t.next_out,g=t.output,v=t.avail_out,b=t.next_in,p=t.input,y=t.avail_in,C=e.hold,S=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;x=(R=e.lencode[C&(1<<e.lenbits)-1])>>>16&255,w=65535&R,!((P=R>>>24)<=S);){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(x&&0==(240&x)){for(k=P,I=x,E=w;x=(R=e.lencode[E+((C&(1<<k+I)-1)>>k)])>>>16&255,w=65535&R,!(k+(P=R>>>24)<=S);){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}C>>>=k,S-=k,e.back+=k}if(C>>>=P,S-=P,e.back+=P,e.length=w,0===x){e.mode=26;break}if(32&x){e.back=-1,e.mode=12;break}if(64&x){t.msg="invalid literal/length code",e.mode=30;break}e.extra=15&x,e.mode=22;case 22:if(e.extra){for(U=e.extra;S<U;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.length+=C&(1<<e.extra)-1,C>>>=e.extra,S-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;x=(R=e.distcode[C&(1<<e.distbits)-1])>>>16&255,w=65535&R,!((P=R>>>24)<=S);){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(0==(240&x)){for(k=P,I=x,E=w;x=(R=e.distcode[E+((C&(1<<k+I)-1)>>k)])>>>16&255,w=65535&R,!(k+(P=R>>>24)<=S);){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}C>>>=k,S-=k,e.back+=k}if(C>>>=P,S-=P,e.back+=P,64&x){t.msg="invalid distance code",e.mode=30;break}e.offset=w,e.extra=15&x,e.mode=24;case 24:if(e.extra){for(U=e.extra;S<U;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}e.offset+=C&(1<<e.extra)-1,C>>>=e.extra,S-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===v)break t;if(e.offset>(A=_-v)){if((A=e.offset-A)>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=30;break}T=A>e.wnext?e.wsize-(A-=e.wnext):e.wnext-A,A>e.length&&(A=e.length),D=e.window}else D=g,T=f-e.offset,A=e.length;A>v&&(A=v),v-=A,e.length-=A;do{g[f++]=D[T++]}while(--A);0===e.length&&(e.mode=21);break;case 26:if(0===v)break t;g[f++]=e.length,v--,e.mode=21;break;case 27:if(e.wrap){for(;S<32;){if(0===y)break t;y--,C|=p[b++]<<S,S+=8}if(t.total_out+=_-=v,e.total+=_,_&&(t.adler=e.check=e.flags?i(e.check,g,_,f-_):a(e.check,g,_,f-_)),_=v,(e.flags?C:m(C))!==e.check){t.msg="incorrect data check",e.mode=30;break}C=0,S=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;S<32;){if(0===y)break t;y--,C+=p[b++]<<S,S+=8}if(C!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=30;break}C=0,S=0}e.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return h}return t.next_out=f,t.avail_out=v,t.next_in=b,t.avail_in=y,e.hold=C,e.bits=S,(e.wsize||_!==t.avail_out&&e.mode<30&&(e.mode<27||4!==n))&&O(t,t.output,t.next_out,_-t.avail_out)?(e.mode=31,-4):(_-=t.avail_out,t.total_in+=M-=t.avail_in,t.total_out+=_,e.total+=_,e.wrap&&_&&(t.adler=e.check=e.flags?i(e.check,g,_,t.next_out-_):a(e.check,g,_,t.next_out-_)),t.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===M&&0===_||4===n)&&F===c&&(F=-5),F)},n.inflateEnd=function(t){if(!t||!t.state)return h;var n=t.state;return n.window&&(n.window=null),t.state=null,c},n.inflateGetHeader=function(t,n){var e;return t&&t.state?0==(2&(e=t.state).wrap)?h:(e.head=n,n.done=!1,c):h},n.inflateSetDictionary=function(t,n){var e,l=n.length;return t&&t.state?0!==(e=t.state).wrap&&11!==e.mode?h:11===e.mode&&a(1,n,l,0)!==e.check?-3:O(t,n,l,l)?(e.mode=31,-4):(e.havedict=1,c):h},n.inflateInfo="pako inflate (from Nodeca project)"},nrUO:function(t,n,e){var l,a,i;i=function(t){function n(t,n,e,l){t.hasOwnProperty(n)||(t[n]=l.apply(null,e))}var e=t?t._modules:{};n(e,"Extensions/Annotations/Mixins/EventEmitterMixin.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,n){var e=n.addEvent,l=n.fireEvent,a=n.objectEach,i=n.pick,r=n.removeEvent;return{addEvents:function(){var n=this,i=function(l){e(l,t.isTouchDevice?"touchstart":"mousedown",function(t){n.onMouseDown(t)})};if(i(this.graphic.element),(n.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&i(t.graphic.text.element)}),a(n.options.events,function(t,l){var a=function(e){"click"===l&&n.cancelClick||t.call(n,n.chart.pointer.normalize(e),n.target)};-1===(n.nonDOMEvents||[]).indexOf(l)?n.graphic.on(l,a):e(n,l,a)}),n.options.draggable&&(e(n,"drag",n.onDrag),!n.graphic.renderer.styledMode)){var r={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[n.options.draggable]};n.graphic.css(r),(n.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(r)})}n.isUpdating||l(n,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(n){var a=this,r=a.chart.pointer;if(n.preventDefault&&n.preventDefault(),2!==n.button){var o=(n=r.normalize(n)).chartX,s=n.chartY;a.cancelClick=!1,a.chart.hasDraggedAnnotation=!0,a.removeDrag=e(t.doc,t.isTouchDevice?"touchmove":"mousemove",function(t){a.hasDragged=!0,(t=r.normalize(t)).prevChartX=o,t.prevChartY=s,l(a,"drag",t),o=t.chartX,s=t.chartY}),a.removeMouseUp=e(t.doc,t.isTouchDevice?"touchend":"mouseup",function(t){a.cancelClick=a.hasDragged,a.hasDragged=!1,a.chart.hasDraggedAnnotation=!1,l(i(a.target,a),"afterUpdate"),a.onMouseUp(t)})}},onMouseUp:function(t){var n=this.chart,e=n.options.annotations;n=n.annotations.indexOf(t=this.target||this),this.removeDocEvents(),e[n]=t.options},onDrag:function(t){if(this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)){var n=this.mouseMoveToTranslation(t);"x"===this.options.draggable&&(n.y=0),"y"===this.options.draggable&&(n.x=0),this.points.length?this.translate(n.x,n.y):(this.shapes.forEach(function(t){t.translate(n.x,n.y)}),this.labels.forEach(function(t){t.translate(n.x,n.y)})),this.redraw(!1)}},mouseMoveToRadians:function(t,n,e){var l=t.prevChartY-e,a=t.prevChartX-n;return e=t.chartY-e,t=t.chartX-n,this.chart.inverted&&(n=a,a=l,l=n,n=t,t=e,e=n),Math.atan2(e,t)-Math.atan2(l,a)},mouseMoveToTranslation:function(t){var n=t.chartX-t.prevChartX;if(t=t.chartY-t.prevChartY,this.chart.inverted){var e=t;t=n,n=e}return{x:n,y:t}},mouseMoveToScale:function(t,n,e){return n=(t.chartX-n||1)/(t.prevChartX-n||1),t=(t.chartY-e||1)/(t.prevChartY-e||1),this.chart.inverted&&(e=t,t=n,n=e),{x:n,y:t}},destroy:function(){this.removeDocEvents(),r(this),this.hcEvents=null}}}),n(e,"Extensions/Annotations/ControlPoint.js",[e["Core/Utilities.js"],e["Extensions/Annotations/Mixins/EventEmitterMixin.js"]],function(t,n){var e=t.merge,l=t.pick;return function(){function t(t,e,a,i){this.addEvents=n.addEvents,this.graphic=void 0,this.mouseMoveToRadians=n.mouseMoveToRadians,this.mouseMoveToScale=n.mouseMoveToScale,this.mouseMoveToTranslation=n.mouseMoveToTranslation,this.onDrag=n.onDrag,this.onMouseDown=n.onMouseDown,this.onMouseUp=n.onMouseUp,this.removeDocEvents=n.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=e,this.options=a,this.index=l(a.index,i)}return t.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},t.prototype.render=function(){var t=this.chart,n=this.options;this.graphic=t.renderer.symbol(n.symbol,0,0,n.width,n.height).add(t.controlPointsGroup).css(n.style),this.setVisibility(n.visible),this.addEvents()},t.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},t.prototype.destroy=function(){n.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},t.prototype.update=function(t){var n=this.chart,l=this.target,a=this.index;t=e(!0,this.options,t),this.destroy(),this.constructor(n,l,t,a),this.render(n.controlPointsGroup),this.redraw()},t}()}),n(e,"Extensions/Annotations/MockPoint.js",[e["Core/Globals.js"],e["Core/Utilities.js"],e["Core/Axis/Axis.js"]],function(t,n,e){var l=n.defined,a=n.fireEvent;return function(){function n(n,e,l){this.y=this.x=this.plotY=this.plotX=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:n,getPlotBox:t.Series.prototype.getPlotBox},this.target=e||null,this.options=l,this.applyOptions(this.getOptions())}return n.fromPoint=function(t){return new n(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},n.pointToPixels=function(t,n){var e=t.series,l=e.chart,a=t.plotX,i=t.plotY;return l.inverted&&(t.mock?(a=t.plotY,i=t.plotX):(a=l.plotWidth-t.plotY,i=l.plotHeight-t.plotX)),e&&!n&&(a+=(t=e.getPlotBox()).translateX,i+=t.translateY),{x:a,y:i}},n.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},n.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},n.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},n.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},n.prototype.setAxis=function(t,n){var a=this.series.chart;this.series[n+="Axis"]=(t=t[n])instanceof e?t:l(t)?a[n][t]||a.get(t):null},n.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},n.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},n.prototype.isInsidePlot=function(){var t=this.plotX,n=this.plotY,e=this.series.xAxis,i=this.series.yAxis,r={x:t,y:n,isInsidePlot:!0};return e&&(r.isInsidePlot=l(t)&&0<=t&&t<=e.len),i&&(r.isInsidePlot=r.isInsidePlot&&l(n)&&0<=n&&n<=i.len),a(this.series.chart,"afterIsInsidePlot",r),r.isInsidePlot},n.prototype.refresh=function(){var t=this.series,n=t.xAxis;t=t.yAxis;var e=this.getOptions();n?(this.x=e.x,this.plotX=n.toPixels(e.x,!0)):(this.x=null,this.plotX=e.x),t?(this.y=e.y,this.plotY=t.toPixels(e.y,!0)):(this.y=null,this.plotY=e.y),this.isInside=this.isInsidePlot()},n.prototype.translate=function(t,n,e,l){this.hasDynamicOptions()||(this.plotX+=e,this.plotY+=l,this.refreshOptions())},n.prototype.scale=function(t,n,e,l){if(!this.hasDynamicOptions()){var a=this.plotY*l;this.plotX=(1-e)*t+this.plotX*e,this.plotY=(1-l)*n+a,this.refreshOptions()}},n.prototype.rotate=function(t,n,e){if(!this.hasDynamicOptions()){var l=Math.cos(e);e=Math.sin(e);var a=this.plotX,i=this.plotY;this.plotX=(a-=t)*l-(i-=n)*e+t,this.plotY=a*e+i*l+n,this.refreshOptions()}},n.prototype.refreshOptions=function(){var t=this.series,n=t.xAxis;t=t.yAxis,this.x=this.options.x=n?this.options.x=n.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=t?t.toValue(this.plotY,!0):this.plotY},n}()}),n(e,"Extensions/Annotations/Mixins/ControllableMixin.js",[e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Tooltip.js"],e["Core/Utilities.js"]],function(t,n,e,l){var a=l.isObject,i=l.isString,r=l.merge,o=l.splat;return{init:function(t,n,e){this.annotation=t,this.chart=t.chart,this.options=n,this.points=[],this.controlPoints=[],this.index=e,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&o(t.point)},attrsFromOptions:function(t){var n,e=this.constructor.attrsMap,l={},a=this.chart.styledMode;for(n in t){var i=e[n];!i||a&&-1!==["fill","stroke","stroke-width"].indexOf(i)||(l[i]=t[n])}return l},anchor:function(t){var n=t.series.getPlotBox(),l=t.series.chart,a=t.mock?t.toAnchor():e.prototype.getAnchor.call({chart:t.series.chart},t);return{relativePosition:a={x:a[0]+(this.options.x||0),y:a[1]+(this.options.y||0),height:a[2]||0,width:a[3]||0},absolutePosition:r(a,{x:a.x+(t.mock?n.translateX:l.plotLeft),y:a.y+(t.mock?n.translateY:l.plotTop)})}},point:function(t,e){return t&&t.series?t:(e&&null!==e.series||(a(t)?e=new n(this.chart,this,t):i(t)?e=this.chart.get(t)||null:"function"==typeof t&&(e=(e=t.call(e,this)).series?e:new n(this.chart,this,t))),e)},linkPoints:function(){var t,n=this.getPointsOptions(),e=this.points,l=n&&n.length||0;for(t=0;t<l;t++){var a=this.point(n[t],e[t]);if(!a)return void(e.length=0);a.mock&&a.refresh(),e[t]=a}return e},addControlPoints:function(){var n=this.options.controlPoints;(n||[]).forEach(function(e,l){(e=r(this.options.controlPointOptions,e)).index||(e.index=l),n[l]=e,this.controlPoints.push(new t(this.chart,this,e))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach(function(t){t.render()})},redraw:function(t){this.controlPoints.forEach(function(n){n.redraw(t)})},transform:function(t,n,e,l,a){if(this.chart.inverted){var i=n;n=e,e=i}this.points.forEach(function(i,r){this.transformPoint(t,n,e,l,a,r)},this)},transformPoint:function(t,e,l,a,i,r){var o=this.points[r];o.mock||(o=this.points[r]=n.fromPoint(o)),o[t](e,l,a,i)},translate:function(t,n){this.transform("translate",null,null,t,n)},translatePoint:function(t,n,e){this.transformPoint("translate",null,null,t,n,e)},translateShape:function(t,n){var e=this.annotation.chart,l=this.annotation.userOptions,a=e.annotations.indexOf(this.annotation);e=e.options.annotations[a],this.translatePoint(t,n,0),e[this.collection][this.index].point=this.options.point,l[this.collection][this.index].point=this.options.point},rotate:function(t,n,e){this.transform("rotate",t,n,e)},scale:function(t,n,e,l){this.transform("scale",t,n,e,l)},setControlPointsVisibility:function(t){this.controlPoints.forEach(function(n){n.setVisibility(t)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(t){t.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var n=this.annotation;t=r(!0,this.options,t);var e=this.graphic.parentGroup;this.destroy(),this.constructor(n,t),this.render(e),this.redraw()}}}),n(e,"Extensions/Annotations/Mixins/MarkerMixin.js",[e["Core/Chart/Chart.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],function(t,n,e){function l(t){return function(n){this.attr(t,"url(#"+n+")")}}var a=e.addEvent,i=e.defined,r=e.merge,o=e.objectEach,s=e.uniqueKey,u={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};return n.prototype.addMarker=function(t,n){var e={id:t},l={stroke:n.color||"none",fill:n.color||"rgba(0, 0, 0, 0.75)"};return e.children=n.children.map(function(t){return r(l,t)}),(n=this.definition(r(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},n,e))).id=t,n},n={markerEndSetter:l("marker-end"),markerStartSetter:l("marker-start"),setItemMarkers:function(t){var n=t.options,e=t.chart,l=e.options.defs,a=n.fill,o=i(a)&&"none"!==a?a:n.stroke;["markerStart","markerEnd"].forEach(function(a){var i,u=n[a];if(u){for(i in l){var c=l[i];if(u===c.id&&"marker"===c.tagName){var h=c;break}}h&&(u=t[a]=e.renderer.addMarker((n.id||s())+"-"+h.id,r(h,{color:o})),t.attr(a,u.attr("id")))}})}},a(t,"afterGetContainer",function(){this.options.defs=r(u,this.options.defs||{}),o(this.options.defs,function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)},this)}),n}),n(e,"Extensions/Annotations/Controllables/ControllablePath.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Core/Globals.js"],e["Extensions/Annotations/Mixins/MarkerMixin.js"],e["Core/Utilities.js"]],function(t,n,e,l){var a=l.extend,i="rgba(192,192,192,"+(n.svg?1e-4:.002)+")";return function(){function n(n,l,a){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.setMarkers=e.setItemMarkers,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translate=t.translate,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="path",this.init(n,l,a),this.collection="shapes"}return n.prototype.toD=function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var n=(t=this.points).length,e=n,l=t[0],a=e&&this.anchor(l).absolutePosition,i=0,r=[];if(a)for(r.push(["M",a.x,a.y]);++i<n&&e;)e=(l=t[i]).command||"L",a=this.anchor(l).absolutePosition,"M"===e?r.push([e,a.x,a.y]):"L"===e?r.push([e,a.x,a.y]):"Z"===e&&r.push([e]),e=l.series.visible;return e?this.chart.renderer.crispLine(r,this.graphic.strokeWidth()):null},n.prototype.shouldBeDrawn=function(){return t.shouldBeDrawn.call(this)||!!this.options.d},n.prototype.render=function(n){var l=this.options,r=this.attrsFromOptions(l);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(r).add(n),l.className&&this.graphic.addClass(l.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(n),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:i,fill:i,"stroke-width":this.graphic.strokeWidth()+2*l.snap}),t.render.call(this),a(this.graphic,{markerStartSetter:e.markerStartSetter,markerEndSetter:e.markerEndSetter}),this.setMarkers(this)},n.prototype.redraw=function(n){var e=this.toD(),l=n?"animate":"attr";e?(this.graphic[l]({d:e}),this.tracker[l]({d:e})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!e,t.redraw.call(this,n)},n.attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},n}()}),n(e,"Extensions/Annotations/Controllables/ControllableRect.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Core/Utilities.js"]],function(t,n,e){var l=e.merge;return function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="rect",this.translate=t.translateShape,this.init(n,e,l),this.collection="shapes"}return e.prototype.render=function(n){var e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(e).add(n),t.render.call(this)},e.prototype.redraw=function(n){var e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[n?"animate":"attr"]({x:e.x,y:e.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!e,t.redraw.call(this,n)},e.attrsMap=l(n.attrsMap,{width:"width",height:"height"}),e}()}),n(e,"Extensions/Annotations/Controllables/ControllableCircle.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Core/Utilities.js"]],function(t,n,e){var l=e.merge;return function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.anchor=t.anchor,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translatePoint=t.translatePoint,this.translateShape=t.translateShape,this.update=t.update,this.type="circle",this.translate=t.translateShape,this.init(n,e,l),this.collection="shapes"}return e.prototype.render=function(n){var e=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(e).add(n),t.render.call(this)},e.prototype.redraw=function(n){var e=this.anchor(this.points[0]).absolutePosition;e?this.graphic[n?"animate":"attr"]({x:e.x,y:e.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!e,t.redraw.call(this,n)},e.prototype.setRadius=function(t){this.options.r=t},e.attrsMap=l(n.attrsMap,{r:"r"}),e}()}),n(e,"Extensions/Annotations/Controllables/ControllableLabel.js",[e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Tooltip.js"],e["Core/Utilities.js"]],function(t,n,e,l,a){var i=a.extend,r=a.format,o=a.isNumber,s=a.pick;return a=function(){function e(n,e,l){this.addControlPoints=t.addControlPoints,this.attr=t.attr,this.attrsFromOptions=t.attrsFromOptions,this.destroy=t.destroy,this.getPointsOptions=t.getPointsOptions,this.init=t.init,this.linkPoints=t.linkPoints,this.point=t.point,this.rotate=t.rotate,this.scale=t.scale,this.setControlPointsVisibility=t.setControlPointsVisibility,this.shouldBeDrawn=t.shouldBeDrawn,this.transform=t.transform,this.transformPoint=t.transformPoint,this.translateShape=t.translateShape,this.update=t.update,this.init(n,e,l),this.collection="labels"}return e.alignedPosition=function(t,n){var e,l,a=t.align,i=t.verticalAlign,r=(n.x||0)+(t.x||0),o=(n.y||0)+(t.y||0);return"right"===a?e=1:"center"===a&&(e=2),e&&(r+=(n.width-(t.width||0))/e),"bottom"===i?l=1:"middle"===i&&(l=2),l&&(o+=(n.height-(t.height||0))/l),{x:Math.round(r),y:Math.round(o)}},e.justifiedOptions=function(t,n,e,l){var a=e.align,i=e.verticalAlign,r=n.box?0:n.padding||0,o=n.getBBox();n={align:a,verticalAlign:i,x:e.x,y:e.y,width:n.width,height:n.height};var s=l.y-t.plotTop;return 0>(l=(e=l.x-t.plotLeft)+r)&&("right"===a?n.align="left":n.x=-l),(l=e+o.width-r)>t.plotWidth&&("left"===a?n.align="right":n.x=t.plotWidth-l),0>(l=s+r)&&("bottom"===i?n.verticalAlign="top":n.y=-l),(l=s+o.height-r)>t.plotHeight&&("top"===i?n.verticalAlign="bottom":n.y=t.plotHeight-l),n},e.prototype.translatePoint=function(n,e){t.translatePoint.call(this,n,e,0)},e.prototype.translate=function(t,n){var e=this.annotation.chart,l=this.annotation.userOptions,a=e.annotations.indexOf(this.annotation);a=e.options.annotations[a],e.inverted&&(e=t,t=n,n=e),this.options.x+=t,this.options.y+=n,a[this.collection][this.index].x=this.options.x,a[this.collection][this.index].y=this.options.y,l[this.collection][this.index].x=this.options.x,l[this.collection][this.index].y=this.options.y},e.prototype.render=function(n){var l=this.options,a=this.attrsFromOptions(l),i=l.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,l.shape,null,null,l.useHTML,null,"annotation-label").attr(a).add(n),this.annotation.chart.styledMode||("contrast"===i.color&&(i.color=this.annotation.chart.renderer.getContrast(-1<e.shapesWithoutBackground.indexOf(l.shape)?"#FFFFFF":l.backgroundColor)),this.graphic.css(l.style).shadow(l.shadow)),l.className&&this.graphic.addClass(l.className),this.graphic.labelrank=l.labelrank,t.render.call(this)},e.prototype.redraw=function(n){var e=this.options,l=this.text||e.format||e.text,a=this.graphic,i=this.points[0];a.attr({text:l?r(l,i.getLabelConfig(),this.annotation.chart):e.formatter.call(i,this)}),e=this.anchor(i),(l=this.position(e))?(a.alignAttr=l,l.anchorX=e.absolutePosition.x,l.anchorY=e.absolutePosition.y,a[n?"animate":"attr"](l)):a.attr({x:0,y:-9999}),a.placed=!!l,t.redraw.call(this,n)},e.prototype.anchor=function(n){var e=t.anchor.apply(this,arguments),l=this.options.x||0,a=this.options.y||0;return e.absolutePosition.x-=l,e.absolutePosition.y-=a,e.relativePosition.x-=l,e.relativePosition.y-=a,e},e.prototype.position=function(t){var a=this.graphic,r=this.annotation.chart,o=this.points[0],u=this.options,c=t.absolutePosition,h=t.relativePosition;if(t=o.series.visible&&n.prototype.isInsidePlot.call(o)){if(u.distance)var d=l.prototype.getPosition.call({chart:r,distance:s(u.distance,16)},a.width,a.height,{plotX:h.x,plotY:h.y,negative:o.negative,ttBelow:o.ttBelow,h:h.height||h.width});else u.positioner?d=u.positioner.call(this):(o={x:c.x,y:c.y,width:0,height:0},d=e.alignedPosition(i(u,{width:a.width,height:a.height}),o),"justify"===this.options.overflow&&(d=e.alignedPosition(e.justifiedOptions(r,a,u,d),o)));u.crop&&(t=r.isInsidePlot(u=d.x-r.plotLeft,o=d.y-r.plotTop)&&r.isInsidePlot(u+a.width,o+a.height))}return t?d:null},e.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},e.shapesWithoutBackground=["connector"],e}(),e.prototype.symbols.connector=function(t,n,e,l,a){var i=a&&a.anchorX;a=a&&a.anchorY;var r=e/2;if(o(i)&&o(a)){var s=[["M",i,a]],u=n-a;0>u&&(u=-l-u),u<e&&(r=i<t+e/2?u:e-u),a>n+l?s.push(["L",t+r,n+l]):a<n?s.push(["L",t+r,n]):i<t?s.push(["L",t,n+l/2]):i>t+e&&s.push(["L",t+e,n+l/2])}return s||[]},a}),n(e,"Extensions/Annotations/Controllables/ControllableImage.js",[e["Extensions/Annotations/Controllables/ControllableLabel.js"],e["Extensions/Annotations/Mixins/ControllableMixin.js"]],function(t,n){return function(){function e(t,e,l){this.addControlPoints=n.addControlPoints,this.anchor=n.anchor,this.attr=n.attr,this.attrsFromOptions=n.attrsFromOptions,this.destroy=n.destroy,this.getPointsOptions=n.getPointsOptions,this.init=n.init,this.linkPoints=n.linkPoints,this.point=n.point,this.rotate=n.rotate,this.scale=n.scale,this.setControlPointsVisibility=n.setControlPointsVisibility,this.shouldBeDrawn=n.shouldBeDrawn,this.transform=n.transform,this.transformPoint=n.transformPoint,this.translatePoint=n.translatePoint,this.translateShape=n.translateShape,this.update=n.update,this.type="image",this.translate=n.translateShape,this.init(t,e,l),this.collection="shapes"}return e.prototype.render=function(t){var e=this.attrsFromOptions(this.options),l=this.options;this.graphic=this.annotation.chart.renderer.image(l.src,0,-9e9,l.width,l.height).attr(e).add(t),this.graphic.width=l.width,this.graphic.height=l.height,n.render.call(this)},e.prototype.redraw=function(e){var l=this.anchor(this.points[0]);(l=t.prototype.position.call(this,l))?this.graphic[e?"animate":"attr"]({x:l.x,y:l.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!l,n.redraw.call(this,e)},e.attrsMap={width:"width",height:"height",zIndex:"zIndex"},e}()}),n(e,"Extensions/Annotations/Annotations.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Chart/Chart.js"],e["Extensions/Annotations/Mixins/ControllableMixin.js"],e["Extensions/Annotations/Controllables/ControllableRect.js"],e["Extensions/Annotations/Controllables/ControllableCircle.js"],e["Extensions/Annotations/Controllables/ControllablePath.js"],e["Extensions/Annotations/Controllables/ControllableImage.js"],e["Extensions/Annotations/Controllables/ControllableLabel.js"],e["Extensions/Annotations/ControlPoint.js"],e["Extensions/Annotations/Mixins/EventEmitterMixin.js"],e["Core/Globals.js"],e["Extensions/Annotations/MockPoint.js"],e["Core/Pointer.js"],e["Core/Utilities.js"]],function(t,n,e,l,a,i,r,o,s,u,c,h,d,p){var g=t.getDeferredAnimation;t=n.prototype;var m=p.addEvent,b=p.defined,f=p.destroyObjectProperties,y=p.erase;n=p.extend;var v=p.find,C=p.fireEvent,S=p.merge,M=p.pick,_=p.splat;p=p.wrap;var L=function(){function t(t,n){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.animationConfig=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=S(this.defaultOptions,n),this.userOptions=n,n=this.getLabelsAndShapesOptions(this.options,n),this.options.labels=n.labels,this.options.shapes=n.shapes,this.init(t,this.options)}return t.prototype.init=function(){var t=this.chart,n=this.options.animation;this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector(),this.animationConfig=g(t,n)},t.prototype.getLabelsAndShapesOptions=function(t,n){var e={};return["labels","shapes"].forEach(function(l){t[l]&&(e[l]=_(n[l]).map(function(n,e){return S(t[l][e],n)}))}),e},t.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(t,n){t=this.initShape(t,n),S(!0,this.options.shapes[n],t.options)},this)},t.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(t,n){t=this.initLabel(t,n),S(!0,this.options.labels[n],t.options)},this)},t.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},t.prototype.setClipAxes=function(){var t=this.chart.xAxis,n=this.chart.yAxis,e=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(e,l){return[t[l&&l.point&&l.point.xAxis]||e[0],n[l&&l.point&&l.point.yAxis]||e[1]]},[]);this.clipXAxis=e[0],this.clipYAxis=e[1]},t.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},t.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce(function(t,n){return n.options.allowOverlap||t.push(n.graphic),t},[])},t.chart.labelCollectors.push(t.labelCollector)},t.prototype.setOptions=function(t){this.options=S(this.defaultOptions,t)},t.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),e.redraw.call(this,t)},t.prototype.redrawItems=function(t,n){for(var e=t.length;e--;)this.redrawItem(t[e],n)},t.prototype.renderItems=function(t){for(var n=t.length;n--;)this.renderItem(t[n])},t.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({opacity:0,zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),e.render.call(this)},t.prototype.setVisibility=function(t){var n=this.options;t=M(t,!n.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||this.setControlPointsVisibility(!1),n.visible=t},t.prototype.setControlPointsVisibility=function(t){var n=function(n){n.setControlPointsVisibility(t)};e.setControlPointsVisibility.call(this,t),this.shapes.forEach(n),this.labels.forEach(n)},t.prototype.destroy=function(){var t=this.chart,n=function(t){t.destroy()};this.labels.forEach(n),this.shapes.forEach(n),this.clipYAxis=this.clipXAxis=null,y(t.labelCollectors,this.labelCollector),u.destroy.call(this),e.destroy.call(this),f(this,t)},t.prototype.remove=function(){return this.chart.removeAnnotation(this)},t.prototype.update=function(t,n){var e=this.chart,l=this.getLabelsAndShapesOptions(this.userOptions,t),a=e.annotations.indexOf(this);(t=S(!0,this.userOptions,t)).labels=l.labels,t.shapes=l.shapes,this.destroy(),this.constructor(e,t),e.options.annotations[a]=t,this.isUpdating=!0,M(n,!0)&&e.redraw(),C(this,"afterUpdate"),this.isUpdating=!1},t.prototype.initShape=function(n,e){return n=S(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},n),(e=new t.shapesMap[n.type](this,n,e)).itemType="shape",this.shapes.push(e),e},t.prototype.initLabel=function(t,n){return t=S(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(n=new o(this,t,n)).itemType="label",this.labels.push(n),n},t.prototype.redrawItem=function(t,n){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(M(n,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},t.prototype.adjustVisibility=function(t){var n=!1,e=t.graphic;t.points.forEach(function(t){!1!==t.series.visible&&!1!==t.visible&&(n=!0)}),n?"hidden"===e.visibility&&e.show():e.hide()},t.prototype.destroyItem=function(t){y(this[t.itemType+"s"],t),t.destroy()},t.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},t.ControlPoint=s,t.MockPoint=h,t.shapesMap={rect:l,circle:a,path:i,image:r},t.types={},t}();return S(!0,L.prototype,e,u,S(L.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,animation:{},draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return b(this.y)?this.y:"Annotation label"},includeInDataExport:!0,overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),c.extendAnnotation=function(t,n,e,l){S(!0,t.prototype,(n=n||L).prototype,e),t.prototype.defaultOptions=S(t.prototype.defaultOptions,l||{})},n(t,{initAnnotation:function(t){return t=new(L.types[t.type]||L)(this,t),this.annotations.push(t),t},addAnnotation:function(t,n){return t=this.initAnnotation(t),this.options.annotations.push(t.options),M(n,!0)&&(t.redraw(),t.graphic.attr({opacity:1})),t},removeAnnotation:function(t){var n=this.annotations,e="annotations"===t.coll?t:v(n,function(n){return n.options.id===t});e&&(C(e,"remove"),y(this.options.annotations,e.options),y(n,e),e.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(t){t.redraw(),t.graphic.animate({opacity:1},t.animationConfig)})}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],t.callbacks.push(function(t){t.annotations=[],t.options.annotations||(t.options.annotations=[]),t.plotBoxClip=this.renderer.clipRect(this.plotBox),t.controlPointsGroup=t.renderer.g("control-points").attr({zIndex:99}).clip(t.plotBoxClip).add(),t.options.annotations.forEach(function(n,e){n=t.initAnnotation(n),t.options.annotations[e]=n.options}),t.drawAnnotations(),m(t,"redraw",t.drawAnnotations),m(t,"destroy",function(){t.plotBoxClip.destroy(),t.controlPointsGroup.destroy()}),m(t,"exportData",function(n){var e,l,a,i,r,o,s,u,c=(this.options.exporting&&this.options.exporting.csv||{}).columnHeaderFormatter,h=!n.dataRows[1].xValues,d=null===(l=null===(e=t.options.lang)||void 0===e?void 0:e.exportData)||void 0===l?void 0:l.annotationHeader;e=function(t){if(c){var n=c(t);if(!1!==n)return n}return n=d+" "+t,h?{columnTitle:n,topLevelColumnTitle:n}:n};var p=n.dataRows[0].length,g=null===(r=null===(i=null===(a=t.options.exporting)||void 0===a?void 0:a.csv)||void 0===i?void 0:i.annotations)||void 0===r?void 0:r.itemDelimiter,m=null===(u=null===(s=null===(o=t.options.exporting)||void 0===o?void 0:o.csv)||void 0===s?void 0:s.annotations)||void 0===u?void 0:u.join;t.annotations.forEach(function(t){t.options.labelOptions.includeInDataExport&&t.labels.forEach(function(t){if(t.options.text){var e=t.options.text;t.points.forEach(function(t){var l=t.x,a=t.series.xAxis?t.series.xAxis.options.index:-1,i=!1;if(-1===a){t=n.dataRows[0].length;for(var r=Array(t),o=0;o<t;++o)r[o]="";r.push(e),r.xValues=[],r.xValues[a]=l,n.dataRows.push(r),i=!0}if(i||n.dataRows.forEach(function(t,n){!i&&t.xValues&&void 0!==a&&l===t.xValues[a]&&(m&&t.length>p?t[t.length-1]+=g+e:t.push(e),i=!0)}),!i){for(t=n.dataRows[0].length,r=Array(t),o=0;o<t;++o)r[o]="";r[0]=l,r.push(e),r.xValues=[],void 0!==a&&(r.xValues[a]=l),n.dataRows.push(r)}})}})});var b=0;for(n.dataRows.forEach(function(t){b=Math.max(b,t.length)}),a=b-n.dataRows[0].length,i=0;i<a;i++)r=e(i+1),h?(n.dataRows[0].push(r.topLevelColumnTitle),n.dataRows[1].push(r.columnTitle)):n.dataRows[0].push(r)})}),p(d.prototype,"onContainerMouseDown",function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}),c.Annotation=L}),n(e,"Mixins/Navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(t,n){this.updates.forEach(function(e){e.update.call(e.context,t,n)})}})},addUpdate:function(t,n){n.navigation||this.initUpdate(n),n.navigation.updates.push({update:t,context:n})}}}),n(e,"Extensions/Annotations/NavigationBindings.js",[e["Extensions/Annotations/Annotations.js"],e["Core/Chart/Chart.js"],e["Mixins/Navigation.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,n,e,l,a){function i(t){var n=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;g(!0,t.prototype.defaultOptions.events,{click:function(t){var e=this,l=e.chart.navigationBindings,a=l.activeAnnotation;n&&n.call(e,t),a!==e?(l.deselectAnnotation(),l.activeAnnotation=e,e.setControlPointsVisibility(!0),u(l,"showPopup",{annotation:e,formType:"annotation-toolbar",options:l.annotationToFields(e),onSubmit:function(t){var n={};"remove"===t.actionType?(l.activeAnnotation=!1,l.chart.removeAnnotation(e)):(l.fieldsToOptions(t.fields,n),l.deselectAnnotation(),t=n.typeOptions,"measure"===e.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),e.update(n))}})):(l.deselectAnnotation(),u(l,"closePopup")),t.activeAnnotation=!0}})}var r=a.addEvent,o=a.attr,s=a.format,u=a.fireEvent,c=a.isArray,h=a.isFunction,d=a.isNumber,p=a.isObject,g=a.merge,m=a.objectEach,b=a.pick;a=a.setOptions;var f=l.doc,y=l.win,v=function(){function t(t,n){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=n,this.eventsToUnbind=[],this.container=f.getElementsByClassName(this.options.bindingsClassName||"")}return t.prototype.initEvents=function(){var t=this,n=t.chart,e=t.container,a=t.options;t.boundClassNames={},m(a.bindings||{},function(n){t.boundClassNames[n.className]=n}),[].forEach.call(e,function(n){t.eventsToUnbind.push(r(n,"click",function(e){var l=t.getButtonEvents(n,e);l&&t.bindingsButtonClick(l.button,l.events,e)}))}),m(a.events||{},function(n,e){h(n)&&t.eventsToUnbind.push(r(t,e,n))}),t.eventsToUnbind.push(r(n.container,"click",function(e){!n.cancelClick&&n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)&&t.bindingsChartClick(this,e)})),t.eventsToUnbind.push(r(n.container,l.isTouchDevice?"touchmove":"mousemove",function(n){t.bindingsContainerMouseMove(this,n)}))},t.prototype.initUpdate=function(){var t=this;e.addUpdate(function(n){t.update(n)},this.chart)},t.prototype.bindingsButtonClick=function(t,n,e){var l=this.chart;this.selectedButtonElement&&(u(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&l.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=n,this.selectedButtonElement=t,u(this,"selectButton",{button:t}),n.init&&n.init.call(this,t,e),(n.start||n.steps)&&l.renderer.boxWrapper.addClass("highcharts-draw-mode")},t.prototype.bindingsChartClick=function(t,n){var e,l=this.selectedButton;if(t=(t=this.chart).renderer.boxWrapper,e=this.activeAnnotation&&!n.activeAnnotation&&n.target.parentNode){t:{e=n.target;var a=y.Element.prototype,i=a.matches||a.msMatchesSelector||a.webkitMatchesSelector,r=null;if(a.closest)r=a.closest.call(e,".highcharts-popup");else do{if(i.call(e,".highcharts-popup"))break t;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);e=r}e=!e}e&&(u(this,"closePopup"),this.deselectAnnotation()),l&&l.start&&(this.nextEvent?(this.nextEvent(n,this.currentUserDetails),this.steps&&(this.stepIndex++,l.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=l.steps[this.stepIndex]:(u(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),l.end&&l.end.call(this,n,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=l.start.call(this,n),l.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=l.steps[this.stepIndex]):(u(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,l.end&&l.end.call(this,n,this.currentUserDetails))))},t.prototype.bindingsContainerMouseMove=function(t,n){this.mouseMoveEvent&&this.mouseMoveEvent(n,this.currentUserDetails)},t.prototype.fieldsToOptions=function(t,n){return m(t,function(t,e){var l=parseFloat(t),a=e.split("."),i=n,r=a.length-1;!d(l)||t.match(/px/g)||e.match(/format/g)||(t=l),""!==t&&"undefined"!==t&&a.forEach(function(n,e){var l=b(a[e+1],"");r===e?i[n]=t:(i[n]||(i[n]=l.match(/\d/g)?[]:{}),i=i[n])})}),n},t.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},t.prototype.annotationToFields=function(n){function e(t,l,a,o){if(a&&t&&-1===u.indexOf(l)&&(0<=(a.indexOf&&a.indexOf(l))||a[l]||!0===a))if(c(t))o[l]=[],t.forEach(function(t,n){p(t)?(o[l][n]={},m(t,function(t,a){e(t,a,i[l],o[l][n])})):e(t,0,i[l],o[l])});else if(p(t)){var h={};c(o)?(o.push(h),h[l]={},h=h[l]):o[l]=h,m(t,function(t,n){e(t,n,0===l?a:i[l],h)})}else"format"===l?o[l]=[s(t,n.labels[0].points[0]).toString(),"text"]:c(o)?o.push([t,r(t)]):o[l]=[t,r(t)]}var l=n.options,a=t.annotationsEditable,i=a.nestedOptions,r=this.utils.getFieldType,o=b(l.type,l.shapes&&l.shapes[0]&&l.shapes[0].type,l.labels&&l.labels[0]&&l.labels[0].itemType,"label"),u=t.annotationsNonEditable[l.langKey]||[],h={langKey:l.langKey,type:o};return m(l,function(t,n){"typeOptions"===n?(h[n]={},m(l[n],function(t,l){e(t,l,i,h[n])})):e(t,n,a[o],h)}),h},t.prototype.getClickedClassNames=function(t,n){var e,l=n.target;for(n=[];l&&((e=o(l,"class"))&&(n=n.concat(e.split(" ").map(function(t){return[t,l]}))),(l=l.parentNode)!==t););return n},t.prototype.getButtonEvents=function(t,n){var e,l=this;return this.getClickedClassNames(t,n).forEach(function(t){l.boundClassNames[t[0]]&&!e&&(e={events:l.boundClassNames[t[0]],button:t[1]})}),e},t.prototype.update=function(t){this.options=g(!0,this.options,t),this.removeEvents(),this.initEvents()},t.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},t.prototype.destroy=function(){this.removeEvents()},t.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:["shapes","labelOptions"]},t.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},t}();return v.prototype.utils={updateRectSize:function(t,n){var e=n.chart,l=n.options.typeOptions,a=e.pointer.getCoordinates(t);t=a.xAxis[0].value-l.point.x,l=l.point.y-a.yAxis[0].value,n.update({typeOptions:{background:{width:e.inverted?l:t,height:e.inverted?t:l}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},n.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new v(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},r(n,"load",function(){this.initNavigationBindings()}),r(n,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),r(v,"deselectButton",function(){this.selectedButtonElement=null}),r(t,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),l.Annotation&&(i(t),m(t.types,function(t){i(t)})),a({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return this.chart.addAnnotation(g({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,n){var e=n.options.shapes[0].point,l=this.chart.xAxis[0].toPixels(e.x);e=this.chart.yAxis[0].toPixels(e.y);var a=this.chart.inverted;n.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(a?e-t.chartX:l-t.chartX,2)+Math.pow(a?l-t.chartY:e-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var n=this.chart.pointer.getCoordinates(t),e=n.xAxis[0].value;return this.chart.addAnnotation(g({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:e,y:n=n.yAxis[0].value},{xAxis:0,yAxis:0,x:e,y:n},{xAxis:0,yAxis:0,x:e,y:n},{xAxis:0,yAxis:0,x:e,y:n}]}]},(t=this.chart.options.navigation).annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,n){var e=n.options.shapes[0].points,l=this.chart.pointer.getCoordinates(t);t=l.xAxis[0].value,l=l.yAxis[0].value,e[1].x=t,e[2].x=t,e[2].y=l,e[3].y=l,n.update({shapes:[{points:e}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return this.chart.addAnnotation(g({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}}}),v}),n(e,"Stock/StockToolsBindings.js",[e["Core/Globals.js"],e["Extensions/Annotations/NavigationBindings.js"],e["Core/Utilities.js"]],function(n,e,l){var a=l.correctFloat,i=l.defined,r=l.extend,o=l.fireEvent,s=l.getOptions,u=l.isNumber,c=l.merge,h=l.pick,d=l.setOptions,p=l.uniqueKey,g=e.prototype.utils;g.addFlagFromForm=function(t){return function(n){var e=this,l=e.chart,a=l.stockTools,i=g.getFieldType,r={type:"flags",onSeries:(n=g.attractToPoint(n,l)).series.id,shape:t,data:[{x:n.x,y:n.y}],point:{events:{click:function(){var t=this,n=t.options;o(e,"showPopup",{point:t,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[n.title,i(n.title)],name:[n.name,i(n.name)]},onSubmit:function(n){"remove"===n.actionType?t.remove():t.update(e.fieldsToOptions(n.fields,{}))}})}}}};a&&a.guiEnabled||l.addSeries(r),o(e,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",i("A")],name:["Flag A",i("Flag A")]},onSubmit:function(t){e.fieldsToOptions(t.fields,r.data[0]),l.addSeries(r)}})}},g.manageIndicators=function(n){var e=this.chart,l={linkedTo:n.linkedTo,type:n.type},a="ad atr cci cmf macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr williamsr stochastic slowstochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle".split(" ");if("edit"===n.actionType)this.fieldsToOptions(n.fields,l),(n=e.get(n.seriesId))&&n.update(l,!1);else if("remove"===n.actionType){if(n=e.get(n.seriesId)){var r=n.yAxis;n.linkedSeries&&n.linkedSeries.forEach(function(t){t.remove(!1)}),n.remove(!1),0<=a.indexOf(n.type)&&(r.remove(!1),this.resizeYAxes())}}else{l.id=p(),this.fieldsToOptions(n.fields,l);var u=e.get(l.linkedTo),c=s().plotOptions;void 0!==u&&u instanceof t.Series&&"sum"===u.getDGApproximation()&&!i(c&&c[l.type]&&(null===(r=c.dataGrouping)||void 0===r?void 0:r.approximation))&&(l.dataGrouping={approximation:"sum"}),0<=a.indexOf(n.type)?(r=e.addAxis({id:p(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),l.yAxis=r.options.id,this.resizeYAxes()):l.yAxis=e.get(n.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(n.type)&&(l.params.volumeSeriesID=e.series.filter(function(t){return"column"===t.options.type})[0].options.id),e.addSeries(l,!1)}o(this,"deselectButton",{button:this.selectedButtonElement}),e.redraw()},g.updateHeight=function(t,n){n.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-n.options.typeOptions.points[1].y}})},g.attractToPoint=function(t,n){var e=(t=n.pointer.getCoordinates(t)).xAxis[0].value;t=t.yAxis[0].value;var l,a=Number.MAX_VALUE;return n.series.forEach(function(t){t.points.forEach(function(t){t&&a>Math.abs(t.x-e)&&(a=Math.abs(t.x-e),l=t)})}),{x:l.x,y:l.y,below:t<l.y,series:l.series,xAxis:l.series.xAxis.index||0,yAxis:l.series.yAxis.index||0}},g.isNotNavigatorYAxis=function(t){return"highcharts-navigator-yaxis"!==t.userOptions.className},g.updateNthPoint=function(t){return function(n,e){var l=e.options.typeOptions,a=(n=this.chart.pointer.getCoordinates(n)).xAxis[0].value,i=n.yAxis[0].value;l.points.forEach(function(n,e){e>=t&&(n.x=a,n.y=i)}),e.update({typeOptions:{points:l.points}})}},r(e.prototype,{getYAxisPositions:function(t,n,e){function l(t){return i(t)&&!u(t)&&t.match("%")}var r=0;return(t=t.map(function(t){var i=l(t.options.height)?parseFloat(t.options.height)/100:t.height/n;return t=l(t.options.top)?parseFloat(t.options.top)/100:a(t.top-t.chart.plotTop)/n,u(i)||(i=e/100),r=a(r+i),{height:100*i,top:100*t}})).allAxesHeight=r,t},getYAxisResizers:function(t){var n=[];return t.forEach(function(e,l){n[l]=(e=t[l+1])?{enabled:!0,controlledAxis:{next:[h(e.options.id,e.options.index)]}}:{enabled:!1}}),n},resizeYAxes:function(t){t=t||20;var n=this.chart,e=n.yAxis.filter(g.isNotNavigatorYAxis),l=e.length;n=this.getYAxisPositions(e,n.plotHeight,t);var i=this.getYAxisResizers(e),r=n.allAxesHeight,o=t;1<r?(6>l?(n[0].height=a(n[0].height-o),n=this.recalculateYAxisPositions(n,o)):n=this.recalculateYAxisPositions(n,(t=100/l)/(l-1),!0,-1),n[l-1]={top:a(100-t),height:t}):(o=100*a(1-r),5>l?(n[0].height=a(n[0].height+o),n=this.recalculateYAxisPositions(n,o)):n=this.recalculateYAxisPositions(n,o/l,!0,1)),n.forEach(function(t,n){e[n].update({height:t.height+"%",top:t.top+"%",resize:i[n]},!1)})},recalculateYAxisPositions:function(t,n,e,l){return t.forEach(function(i,r){i.top=(r=t[r-1])?a(r.height+r.top):0,e&&(i.height=a(i.height+l*n))}),t}}),l={segment:{className:"highcharts-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.segment.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.ray.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;t=c({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(t)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;t=c({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(t)}},crooked3:{className:"highcharts-crooked3",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateNthPoint(2),g.updateNthPoint(3),g.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateNthPoint(2),g.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateNthPoint(2),g.updateNthPoint(3),g.updateNthPoint(4),g.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.measureX.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.measureY.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},n.annotationsOptions,n.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},n.annotationsOptions,n.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){t=this.chart.pointer.getCoordinates(t);var n=this.chart.options.navigation;return t=c({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},n.annotationsOptions,n.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(t)},steps:[g.updateNthPoint(1),g.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){t=g.attractToPoint(t,this.chart);var n=this.chart.options.navigation,e=i(this.verticalCounter)?this.verticalCounter:0;t=c({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,text:e.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},n.annotationsOptions,n.bindings.verticalCounter.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){t=g.attractToPoint(t,this.chart);var n=this.chart.options.navigation;t=c({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},n.annotationsOptions,n.bindings.verticalLabel.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){t=g.attractToPoint(t,this.chart);var n=this.chart.options.navigation;t=c({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,format:" "},connector:{fill:"none",stroke:t.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},n.annotationsOptions,n.bindings.verticalArrow.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:g.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:g.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:g.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:g.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),o(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),o(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),o(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),o(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),o(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),o(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){this.chart.fullscreen.toggle(),o(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var n=this.chart,e=n.series[0],l=e.options,a=l.lastVisiblePrice&&l.lastVisiblePrice.enabled;l=l.lastPrice&&l.lastPrice.enabled;var i=(n=n.stockTools).getIconsURL();n&&n.guiEnabled&&(t.firstChild.style["background-image"]=l?'url("'+i+'current-price-show.svg")':'url("'+i+'current-price-hide.svg")'),e.update({lastPrice:{enabled:!l,color:"red"},lastVisiblePrice:{enabled:!a,label:{enabled:!0}}}),o(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var t=this;o(t,"showPopup",{formType:"indicators",options:{},onSubmit:function(n){t.utils.manageIndicators.call(t,n)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var n=this.chart,e=n.stockTools,l=e.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(n.annotations||[]).forEach(function(t){t.setVisibility(!this.toggledAnnotations)},this),e&&e.guiEnabled&&(t.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+l+'annotations-hidden.svg")':'url("'+l+'annotations-visible.svg")'),o(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(t){var e=this.chart,l=[],a=[],i=[],r=[];e.annotations.forEach(function(t,n){l[n]=t.userOptions}),e.series.forEach(function(t){t.is("sma")?a.push(t.userOptions):"flags"===t.type&&i.push(t.userOptions)}),e.yAxis.forEach(function(t){g.isNotNavigatorYAxis(t)&&r.push(t.options)}),n.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:l,indicators:a,flags:i,yAxes:r})),o(this,"deselectButton",{button:t})}}},d({navigation:{bindings:l}}),e.prototype.utils=c(g,e.prototype.utils)}),n(e,"Stock/StockToolsGui.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Extensions/Annotations/NavigationBindings.js"],e["Core/Utilities.js"]],function(t,n,e,l){var a=l.addEvent,i=l.createElement,r=l.css,o=l.extend,s=l.fireEvent,u=l.getStyle,c=l.isArray,h=l.merge,d=l.pick;(l=l.setOptions)({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),a(t,"afterGetContainer",function(){this.setStockTools()}),a(t,"getMargins",function(){var t=this.stockTools&&this.stockTools.listWrapper;(t=t&&(t.startWidth+u(t,"padding-left")+u(t,"padding-right")||t.offsetWidth))&&t<this.plotWidth&&(this.plotLeft+=t)}),a(t,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),a(t,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()});var p=function(){function t(t,n,e){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0,this.chart=e,this.options=t,this.lang=n,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=d(t.visible,!0),this.placed=d(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),s(this,"afterInit")}return t.prototype.init=function(){var t,n=this,e=this.lang,l=this.options,i=this.toolbar,r=n.addSubmenu,o=l.definitions,s=i.childNodes;l.buttons.forEach(function(l){t=n.addButton(i,o,l,e),n.eventsToUnbind.push(a(t.buttonWrapper,"click",function(){n.eraseActiveButtons(s,t.buttonWrapper)})),c(o[l].items)&&r.call(n,t,o[l])})},t.prototype.addSubmenu=function(t,n){var e,l=this,o=t.submenuArrow,s=t.buttonWrapper,c=u(s,"width"),h=this.wrapper,d=this.listWrapper,p=this.toolbar.childNodes,g=0;this.submenu=e=i("ul",{className:"highcharts-submenu-wrapper"},null,s),this.addSubmenuItems(s,n),l.eventsToUnbind.push(a(o,"click",function(t){t.stopPropagation(),l.eraseActiveButtons(p,s),0<=s.className.indexOf("highcharts-current")?(d.style.width=d.startWidth+"px",s.classList.remove("highcharts-current"),e.style.display="none"):(e.style.display="block",g=e.offsetHeight-s.offsetHeight-3,e.offsetHeight+s.offsetTop>h.offsetHeight&&s.offsetTop>g||(g=0),r(e,{top:-g+"px",left:c+3+"px"}),s.className+=" highcharts-current",d.startWidth=h.offsetWidth,d.style.width=d.startWidth+u(d,"padding-left")+e.offsetWidth+3+"px")}))},t.prototype.addSubmenuItems=function(t,n){var e,l=this,i=this.submenu,r=this.lang,o=this.listWrapper;n.items.forEach(function(s){e=l.addButton(i,n,s,r),l.eventsToUnbind.push(a(e.mainButton,"click",function(){l.switchSymbol(this,t,!0),o.style.width=o.startWidth+"px",i.style.display="none"}))});var s=i.querySelectorAll("li > .highcharts-menu-item-btn")[0];l.switchSymbol(s,!1)},t.prototype.eraseActiveButtons=function(t,n,e){[].forEach.call(t,function(t){t!==n&&(t.classList.remove("highcharts-current"),t.classList.remove("highcharts-active"),0<(e=t.querySelectorAll(".highcharts-submenu-wrapper")).length&&(e[0].style.display="none"))})},t.prototype.addButton=function(n,e,l,a){void 0===a&&(a={});var r=(e=e[l]).items,o=e.className||"";if(l=i("li",{className:d(t.prototype.classMapping[l],"")+" "+o,title:a[l]||l},null,n),n=i("span",{className:"highcharts-menu-item-btn"},null,l),r&&r.length){var s=i("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},null,l);s.style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)"}else n.style["background-image"]="url("+this.iconsURL+e.symbol+")";return{buttonWrapper:l,mainButton:n,submenuArrow:s}},t.prototype.addNavigation=function(){var t=this.wrapper;this.arrowWrapper=i("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=i("div",{className:"highcharts-arrow-up"},null,this.arrowWrapper),this.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=i("div",{className:"highcharts-arrow-down"},null,this.arrowWrapper),this.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.insertBefore(this.arrowWrapper,t.childNodes[0]),this.scrollButtons()},t.prototype.scrollButtons=function(){var t=0,n=this.wrapper,e=this.toolbar,l=.1*n.offsetHeight;this.eventsToUnbind.push(a(this.arrowUp,"click",function(){0<t&&(e.style["margin-top"]=-(t-=l)+"px")})),this.eventsToUnbind.push(a(this.arrowDown,"click",function(){n.offsetHeight+t<=e.offsetHeight+l&&(e.style["margin-top"]=-(t+=l)+"px")}))},t.prototype.createHTML=function(){var t=this.chart,n=this.options,e=t.container;this.wrapper=t=i("div",{className:"highcharts-stocktools-wrapper "+n.className+" "+((t=t.options.navigation)&&t.bindingsClassName)}),e.parentNode.insertBefore(t,e),this.toolbar=e=i("ul",{className:"highcharts-stocktools-toolbar "+n.toolbarClassName}),this.listWrapper=n=i("div",{className:"highcharts-menu-wrapper"}),t.insertBefore(n,t.childNodes[0]),n.insertBefore(e,n.childNodes[0]),this.showHideToolbar(),this.addNavigation()},t.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},t.prototype.showHideToolbar=function(){var t,n=this.chart,e=this.wrapper,l=this.listWrapper,r=this.submenu,o=this.visible;this.showhideBtn=t=i("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},null,e),t.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",o?(e.style.height="100%",t.style.top=u(l,"padding-top")+"px",t.style.left=e.offsetWidth+u(l,"padding-left")+"px"):(r&&(r.style.display="none"),t.style.left="0px",this.visible=o=!1,l.classList.add("highcharts-hide"),t.classList.toggle("highcharts-arrow-right"),e.style.height=t.offsetHeight+"px"),this.eventsToUnbind.push(a(t,"click",function(){n.update({stockTools:{gui:{visible:!o,placed:!0}}})}))},t.prototype.switchSymbol=function(t,n){var e=t.parentNode,l=e.classList.value;(e=e.parentNode.parentNode).className="",l&&e.classList.add(l.trim()),e.querySelectorAll(".highcharts-menu-item-btn")[0].style["background-image"]=t.style["background-image"],n&&this.selectButton(e)},t.prototype.selectButton=function(t){0<=t.className.indexOf("highcharts-active")?t.classList.remove("highcharts-active"):t.classList.add("highcharts-active")},t.prototype.unselectAllButtons=function(t){var n=t.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(n,function(n){n!==t&&n.classList.remove("highcharts-active")})},t.prototype.update=function(t){h(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},t.prototype.destroy=function(){var t=this.wrapper,n=t&&t.parentNode;this.eventsToUnbind.forEach(function(t){t()}),n&&n.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},t.prototype.redraw=function(){this.showHideNavigatorion()},t.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/8.2.2/gfx/stock-icons/"},t}();return p.prototype.classMapping={circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeCandlestick:"highcharts-series-type-candlestick",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},o(t.prototype,{setStockTools:function(t){var n=this.options,e=n.lang;t=h(n.stockTools&&n.stockTools.gui,t&&t.gui),this.stockTools=new p(t,e.stockTools&&e.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),a(e,"selectButton",function(t){var n=t.button,e=this.chart.stockTools;e&&e.guiEnabled&&(e.unselectAllButtons(t.button),0<=n.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(n=n.parentNode.parentNode),e.selectButton(n))}),a(e,"deselectButton",function(t){t=t.button;var n=this.chart.stockTools;n&&n.guiEnabled&&(0<=t.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(t=t.parentNode.parentNode),n.selectButton(t))}),n.Toolbar=p,n.Toolbar}),n(e,"masters/modules/stock-tools.src.js",[],function(){})},"object"==typeof t&&t.exports?(i.default=i,t.exports=i):(l=[e("6n/F"),e("N9ju")],void 0===(a=(function(t){return i(t),i.Highcharts=t,i}).apply(n,l))||(t.exports=a))},oXfm:function(t,n,e){"use strict";var l,a=e("vn/o"),i=e("B/RK"),r=e("yDR0"),o=e("7tol"),s=e("Tcbo"),u=0,c=4,h=0,d=-2,p=-1,g=1,m=4,b=2,f=8,y=9,v=286,C=30,S=19,M=2*v+1,_=15,L=3,O=258,A=O+L+1,T=42,D=113,P=1,x=2,w=3,k=4;function I(t,n){return t.msg=s[n],n}function E(t){return(t<<1)-(t>4?9:0)}function N(t){for(var n=t.length;--n>=0;)t[n]=0}function F(t){var n=t.state,e=n.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(a.arraySet(t.output,n.pending_buf,n.pending_out,e,t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,0===n.pending&&(n.pending_out=0))}function B(t,n){i._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,F(t.strm)}function U(t,n){t.pending_buf[t.pending++]=n}function R(t,n){t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n}function V(t,n){var e,l,a=t.max_chain_length,i=t.strstart,r=t.prev_length,o=t.nice_match,s=t.strstart>t.w_size-A?t.strstart-(t.w_size-A):0,u=t.window,c=t.w_mask,h=t.prev,d=t.strstart+O,p=u[i+r-1],g=u[i+r];t.prev_length>=t.good_match&&(a>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(e=n)+r]===g&&u[e+r-1]===p&&u[e]===u[i]&&u[++e]===u[i+1]){i+=2,e++;do{}while(u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&u[++i]===u[++e]&&i<d);if(l=O-(d-i),i=d-O,l>r){if(t.match_start=n,r=l,l>=o)break;p=u[i+r-1],g=u[i+r]}}}while((n=h[n&c])>s&&0!=--a);return r<=t.lookahead?r:t.lookahead}function j(t){var n,e,l,i,s,u,c,h,d,p,g=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-A)){a.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,n=e=t.hash_size;do{l=t.head[--n],t.head[n]=l>=g?l-g:0}while(--e);n=e=g;do{l=t.prev[--n],t.prev[n]=l>=g?l-g:0}while(--e);i+=g}if(0===t.strm.avail_in)break;if(c=t.window,h=t.strstart+t.lookahead,p=void 0,(p=(u=t.strm).avail_in)>(d=i)&&(p=d),e=0===p?0:(u.avail_in-=p,a.arraySet(c,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=r(u.adler,c,p,h):2===u.state.wrap&&(u.adler=o(u.adler,c,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=e,t.lookahead+t.insert>=L)for(t.ins_h=t.window[s=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+L-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<L)););}while(t.lookahead<A&&0!==t.strm.avail_in)}function G(t,n){for(var e,l;;){if(t.lookahead<A){if(j(t),t.lookahead<A&&n===u)return P;if(0===t.lookahead)break}if(e=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-A&&(t.match_length=V(t,e)),t.match_length>=L)if(l=i._tr_tally(t,t.strstart-t.match_start,t.match_length-L),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=L){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else l=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(l&&(B(t,!1),0===t.strm.avail_out))return P}return t.insert=t.strstart<L-1?t.strstart:L-1,n===c?(B(t,!0),0===t.strm.avail_out?w:k):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?P:x}function Y(t,n){for(var e,l,a;;){if(t.lookahead<A){if(j(t),t.lookahead<A&&n===u)return P;if(0===t.lookahead)break}if(e=0,t.lookahead>=L&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=L-1,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-A&&(t.match_length=V(t,e),t.match_length<=5&&(t.strategy===g||t.match_length===L&&t.strstart-t.match_start>4096)&&(t.match_length=L-1)),t.prev_length>=L&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-L,l=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-L),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+L-1])&t.hash_mask,e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=L-1,t.strstart++,l&&(B(t,!1),0===t.strm.avail_out))return P}else if(t.match_available){if((l=i._tr_tally(t,0,t.window[t.strstart-1]))&&B(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return P}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(l=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<L-1?t.strstart:L-1,n===c?(B(t,!0),0===t.strm.avail_out?w:k):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?P:x}function W(t,n,e,l,a){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=l,this.func=a}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*M),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*S+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(_+1),this.heap=new a.Buf16(2*v+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*v+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(t){var n;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(n=t.state).pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?T:D,t.adler=2===n.wrap?0:1,n.last_flush=u,i._tr_init(n),h):I(t,d)}function q(t){var n,e=H(t);return e===h&&((n=t.state).window_size=2*n.w_size,N(n.head),n.max_lazy_match=l[n.level].max_lazy,n.good_match=l[n.level].good_length,n.nice_match=l[n.level].nice_length,n.max_chain_length=l[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=L-1,n.match_available=0,n.ins_h=0),e}function K(t,n,e,l,i,r){if(!t)return d;var o=1;if(n===p&&(n=6),l<0?(o=0,l=-l):l>15&&(o=2,l-=16),i<1||i>y||e!==f||l<8||l>15||n<0||n>9||r<0||r>m)return I(t,d);8===l&&(l=9);var s=new z;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=l,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+L-1)/L),s.window=new a.Buf8(2*s.w_size),s.head=new a.Buf16(s.hash_size),s.prev=new a.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new a.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=n,s.strategy=r,s.method=e,q(t)}l=[new W(0,0,0,0,function(t,n){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&n===u)return P;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var l=t.block_start+e;if((0===t.strstart||t.strstart>=l)&&(t.lookahead=t.strstart-l,t.strstart=l,B(t,!1),0===t.strm.avail_out))return P;if(t.strstart-t.block_start>=t.w_size-A&&(B(t,!1),0===t.strm.avail_out))return P}return t.insert=0,n===c?(B(t,!0),0===t.strm.avail_out?w:k):(t.strstart>t.block_start&&B(t,!1),P)}),new W(4,4,8,4,G),new W(4,5,16,8,G),new W(4,6,32,32,G),new W(4,4,16,16,Y),new W(8,16,32,32,Y),new W(8,16,128,128,Y),new W(8,32,128,256,Y),new W(32,128,258,1024,Y),new W(32,258,258,4096,Y)],n.deflateInit=function(t,n){return K(t,n,f,15,8,0)},n.deflateInit2=K,n.deflateReset=q,n.deflateResetKeep=H,n.deflateSetHeader=function(t,n){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=n,h):d},n.deflate=function(t,n){var e,a,r,s;if(!t||!t.state||n>5||n<0)return t?I(t,d):d;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||666===a.status&&n!==c)return I(t,0===t.avail_out?-5:d);if(a.strm=t,e=a.last_flush,a.last_flush=n,a.status===T)if(2===a.wrap)t.adler=0,U(a,31),U(a,139),U(a,8),a.gzhead?(U(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),U(a,255&a.gzhead.time),U(a,a.gzhead.time>>8&255),U(a,a.gzhead.time>>16&255),U(a,a.gzhead.time>>24&255),U(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),U(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(U(a,255&a.gzhead.extra.length),U(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=o(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(U(a,0),U(a,0),U(a,0),U(a,0),U(a,0),U(a,9===a.level?2:a.strategy>=2||a.level<2?4:0),U(a,3),a.status=D);else{var p=f+(a.w_bits-8<<4)<<8;p|=(a.strategy>=2||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(p|=32),p+=31-p%31,a.status=D,R(a,p),0!==a.strstart&&(R(a,t.adler>>>16),R(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(r=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),F(t),r=a.pending,a.pending!==a.pending_buf_size));)U(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),F(t),r=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,U(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),0===s&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),F(t),r=a.pending,a.pending===a.pending_buf_size)){s=1;break}s=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,U(a,s)}while(0!==s);a.gzhead.hcrc&&a.pending>r&&(t.adler=o(t.adler,a.pending_buf,a.pending-r,r)),0===s&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&F(t),a.pending+2<=a.pending_buf_size&&(U(a,255&t.adler),U(a,t.adler>>8&255),t.adler=0,a.status=D)):a.status=D),0!==a.pending){if(F(t),0===t.avail_out)return a.last_flush=-1,h}else if(0===t.avail_in&&E(n)<=E(e)&&n!==c)return I(t,-5);if(666===a.status&&0!==t.avail_in)return I(t,-5);if(0!==t.avail_in||0!==a.lookahead||n!==u&&666!==a.status){var g=2===a.strategy?function(t,n){for(var e;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(n===u)return P;break}if(t.match_length=0,e=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(B(t,!1),0===t.strm.avail_out))return P}return t.insert=0,n===c?(B(t,!0),0===t.strm.avail_out?w:k):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?P:x}(a,n):3===a.strategy?function(t,n){for(var e,l,a,r,o=t.window;;){if(t.lookahead<=O){if(j(t),t.lookahead<=O&&n===u)return P;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=L&&t.strstart>0&&(l=o[a=t.strstart-1])===o[++a]&&l===o[++a]&&l===o[++a]){r=t.strstart+O;do{}while(l===o[++a]&&l===o[++a]&&l===o[++a]&&l===o[++a]&&l===o[++a]&&l===o[++a]&&l===o[++a]&&l===o[++a]&&a<r);t.match_length=O-(r-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=L?(e=i._tr_tally(t,1,t.match_length-L),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(B(t,!1),0===t.strm.avail_out))return P}return t.insert=0,n===c?(B(t,!0),0===t.strm.avail_out?w:k):t.last_lit&&(B(t,!1),0===t.strm.avail_out)?P:x}(a,n):l[a.level].func(a,n);if(g!==w&&g!==k||(a.status=666),g===P||g===w)return 0===t.avail_out&&(a.last_flush=-1),h;if(g===x&&(1===n?i._tr_align(a):5!==n&&(i._tr_stored_block(a,0,0,!1),3===n&&(N(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),F(t),0===t.avail_out))return a.last_flush=-1,h}return n!==c?h:a.wrap<=0?1:(2===a.wrap?(U(a,255&t.adler),U(a,t.adler>>8&255),U(a,t.adler>>16&255),U(a,t.adler>>24&255),U(a,255&t.total_in),U(a,t.total_in>>8&255),U(a,t.total_in>>16&255),U(a,t.total_in>>24&255)):(R(a,t.adler>>>16),R(a,65535&t.adler)),F(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?h:1)},n.deflateEnd=function(t){var n;return t&&t.state?(n=t.state.status)!==T&&69!==n&&73!==n&&91!==n&&103!==n&&n!==D&&666!==n?I(t,d):(t.state=null,n===D?I(t,-3):h):d},n.deflateSetDictionary=function(t,n){var e,l,i,o,s,u,c,p,g=n.length;if(!t||!t.state)return d;if(2===(o=(e=t.state).wrap)||1===o&&e.status!==T||e.lookahead)return d;for(1===o&&(t.adler=r(t.adler,n,g,0)),e.wrap=0,g>=e.w_size&&(0===o&&(N(e.head),e.strstart=0,e.block_start=0,e.insert=0),p=new a.Buf8(e.w_size),a.arraySet(p,n,g-e.w_size,e.w_size,0),n=p,g=e.w_size),s=t.avail_in,u=t.next_in,c=t.input,t.avail_in=g,t.next_in=0,t.input=n,j(e);e.lookahead>=L;){l=e.strstart,i=e.lookahead-(L-1);do{e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+L-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++}while(--i);e.strstart=l,e.lookahead=L-1,j(e)}return e.strstart+=e.lookahead,e.block_start=e.strstart,e.insert=e.lookahead,e.lookahead=0,e.match_length=e.prev_length=L-1,e.match_available=0,t.next_in=u,t.input=c,t.avail_in=s,e.wrap=o,h},n.deflateInfo="pako deflate (from Nodeca project)"},"p5/s":function(t,n,e){"use strict";e.r(n);var l=1,a=2,i=484813681109536e-20,r=Math.PI/2,o=.16666666666666666,s=.04722222222222222,u=.022156084656084655,c=1e-10,h=.017453292519943295,d=57.29577951308232,p=Math.PI/4,g=2*Math.PI,m=3.14159265359,b={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},f={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},y=/[\s_\-\/\(\)]/g;function v(t,n){if(t[n])return t[n];for(var e,l=Object.keys(t),a=n.toLowerCase().replace(y,""),i=-1;++i<l.length;)if((e=l[i]).toLowerCase().replace(y,"")===a)return t[e]}var C=function(t){var n,e,l,a={},i=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var e=n.split("=");return e.push(!0),t[e[0].toLowerCase()]=e[1],t},{}),r={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=t*h},lat_1:function(t){a.lat1=t*h},lat_2:function(t){a.lat2=t*h},lat_ts:function(t){a.lat_ts=t*h},lon_0:function(t){a.long0=t*h},lon_1:function(t){a.long1=t*h},lon_2:function(t){a.long2=t*h},alpha:function(t){a.alpha=parseFloat(t)*h},gamma:function(t){a.rectified_grid_angle=parseFloat(t)},lonc:function(t){a.longc=t*h},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t;var n=v(f,t);n&&(a.to_meter=n.to_meter)},from_greenwich:function(t){a.from_greenwich=t*h},pm:function(t){var n=v(b,t);a.from_greenwich=(n||parseFloat(t))*h},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(a.axis=t)},approx:function(){a.approx=!0}};for(n in i)e=i[n],n in r?"function"==typeof(l=r[n])?l(e):a[l]=e:a[n]=e;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a},S=1,M=/\s/,_=/[A-Za-z]/,L=/[A-Za-z84_]/,O=/[,\]]/,A=/[\d\.E\-\+]/;function T(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=S}function D(t,n,e){Array.isArray(n)&&(e.unshift(n),n=null);var l=e.reduce(function(t,n){return P(n,t),t},n?{}:t);n&&(t[n]=l)}function P(t,n){if(Array.isArray(t)){var e=t.shift();if("PARAMETER"===e&&(e=t.shift()),1===t.length)return Array.isArray(t[0])?(n[e]={},void P(t[0],n[e])):void(n[e]=t[0]);if(t.length)if("TOWGS84"!==e){if("AXIS"===e)return e in n||(n[e]=[]),void n[e].push(t);var l;switch(Array.isArray(e)||(n[e]={}),e){case"UNIT":case"PRIMEM":case"VERT_DATUM":return n[e]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&P(t[2],n[e]));case"SPHEROID":case"ELLIPSOID":return n[e]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&P(t[3],n[e]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void D(n,e,t);default:for(l=-1;++l<t.length;)if(!Array.isArray(t[l]))return P(t,n[e]);return D(n,e,t)}}else n[e]=t;else n[e]=!0}else n[t]=!0}T.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;M.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case S:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},T.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(O.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},T.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=S)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=S,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},T.prototype.number=function(t){if(!A.test(t)){if(O.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},T.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},T.prototype.keyword=function(t){if(L.test(t))this.word+=t;else{if("["===t){var n=[];return n.push(this.word),this.level++,null===this.root?this.root=n:this.currentObject.push(n),this.stack.push(this.currentObject),this.currentObject=n,void(this.state=S)}if(!O.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},T.prototype.neutral=function(t){if(_.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(A.test(t))return this.word=t,void(this.state=3);if(!O.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},T.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var x=.017453292519943295;function w(t){return t*x}var k=function(t){var n=new T(t).output(),e=n.shift(),l=n.shift();n.unshift(["name",l]),n.unshift(["type",e]);var a={};return P(n,a),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.AXIS){for(var n="",e=0,l=t.AXIS.length;e<l;++e){var a=[t.AXIS[e][0].toLowerCase(),t.AXIS[e][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?n+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?n+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?n+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(n+="w")}2===n.length&&(n+="u"),3===n.length&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;function r(n){return n*(t.to_meter||1)}"GEOGCS"===t.type&&(i=t),i&&(t.datumCode=i.DATUM?i.DATUM.name.toLowerCase():i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(t.datum_params=i.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",w],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",w],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",w],["lat0","latitude_of_origin",w],["lat0","standard_parallel_1",w],["lat1","standard_parallel_1",w],["lat2","standard_parallel_2",w],["azimuth","Azimuth"],["alpha","azimuth",w],["srsCode","name"]].forEach(function(n){return i=(l=n)[1],void(!((a=l[0])in(e=t))&&i in e&&(e[a]=e[i],3===l.length&&(e[a]=l[2](e[a]))));var e,l,a,i}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=w(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(a),a};function I(t){var n=this;if(2===arguments.length){var e=arguments[1];I[t]="string"==typeof e?"+"===e.charAt(0)?C(arguments[1]):k(arguments[1]):e}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?I.apply(n,t):I(t)});if("string"==typeof t){if(t in I)return I[t]}else"EPSG"in t?I["EPSG:"+t.EPSG]=t:"ESRI"in t?I["ESRI:"+t.ESRI]=t:"IAU2000"in t?I["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(I);var E=I,N=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],F=["3857","900913","3785","102113"],B=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in E}(t))return E[t];if(function(t){return N.some(function(n){return t.indexOf(n)>-1})}(t)){var n=k(t);if(function(t){var e=v(n,"authority");if(e){var l=v(e,"epsg");return l&&F.indexOf(l)>-1}}())return E["EPSG:3857"];var e=function(t){var e=v(n,"extension");if(e)return v(e,"proj4")}();return e?C(e):n}return function(t){return"+"===t[0]}(t)?C(t):void 0},U=function(t,n){var e,l;if(t=t||{},!n)return t;for(l in n)void 0!==(e=n[l])&&(t[l]=e);return t},R=function(t,n,e){var l=t*n;return e/Math.sqrt(1-l*l)},V=function(t){return t<0?-1:1},j=function(t){return Math.abs(t)<=m?t:t-V(t)*g},G=function(t,n,e){var l=t*e;return l=Math.pow((1-l)/(1+l),.5*t),Math.tan(.5*(r-n))/l},Y=function(t,n){for(var e,l,a=.5*t,i=r-2*Math.atan(n),o=0;o<=15;o++)if(e=t*Math.sin(i),i+=l=r-2*Math.atan(n*Math.pow((1-e)/(1+e),a))-i,Math.abs(l)<=1e-10)return i;return-9999};function W(t){return t}var z=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var n,e,l=t.x,a=t.y;if(a*d>90&&a*d<-90&&l*d>180&&l*d<-180)return null;if(Math.abs(Math.abs(a)-r)<=c)return null;if(this.sphere)n=this.x0+this.a*this.k0*j(l-this.long0),e=this.y0+this.a*this.k0*Math.log(Math.tan(p+.5*a));else{var i=Math.sin(a),o=G(this.e,a,i);n=this.x0+this.a*this.k0*j(l-this.long0),e=this.y0-this.a*this.k0*Math.log(o)}return t.x=n,t.y=e,t},inverse:function(t){var n,e,l=t.x-this.x0,a=t.y-this.y0;if(this.sphere)e=r-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var i=Math.exp(-a/(this.a*this.k0));if(-9999===(e=Y(this.e,i)))return null}return n=j(this.long0+l/(this.a*this.k0)),t.x=n,t.y=e,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:W,inverse:W,names:["longlat","identity"]}],H={},q=[];function K(t,n){var e=q.length;return t.names?(q[e]=t,t.names.forEach(function(t){H[t.toLowerCase()]=e}),this):(console.log(n),!0)}var X={start:function(){z.forEach(K)},add:K,get:function(t){if(!t)return!1;var n=t.toLowerCase();return void 0!==H[n]&&q[H[n]]?q[H[n]]:void 0}},J={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},$=J.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};J.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Q={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},Z=function(t,n,e,r,o,s,u){var c={};return c.datum_type=void 0===t||"none"===t?5:4,n&&(c.datum_params=n.map(parseFloat),0===c.datum_params[0]&&0===c.datum_params[1]&&0===c.datum_params[2]||(c.datum_type=l),c.datum_params.length>3&&(0===c.datum_params[3]&&0===c.datum_params[4]&&0===c.datum_params[5]&&0===c.datum_params[6]||(c.datum_type=a,c.datum_params[3]*=i,c.datum_params[4]*=i,c.datum_params[5]*=i,c.datum_params[6]=c.datum_params[6]/1e6+1))),u&&(c.datum_type=3,c.grids=u),c.a=e,c.b=r,c.es=o,c.ep2=s,c},tt={};function nt(t){if(0===t.length)return null;var n="@"===t[0];return n&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!n,grid:null,isNull:!0}:{name:t,mandatory:!n,grid:tt[t]||null,isNull:!1}}function et(t){return t/3600*Math.PI/180}function lt(t,n,e){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(n,e)))}function at(t){return t.map(function(t){return[et(t.longitudeShift),et(t.latitudeShift)]})}function it(t,n,e){return{name:lt(t,n+8,n+16).trim(),parent:lt(t,n+24,n+24+8).trim(),lowerLatitude:t.getFloat64(n+72,e),upperLatitude:t.getFloat64(n+88,e),lowerLongitude:t.getFloat64(n+104,e),upperLongitude:t.getFloat64(n+120,e),latitudeInterval:t.getFloat64(n+136,e),longitudeInterval:t.getFloat64(n+152,e),gridNodeCount:t.getInt32(n+168,e)}}function rt(t,n,e,l){for(var a=n+176,i=[],r=0;r<e.gridNodeCount;r++){var o={latitudeShift:t.getFloat32(a+16*r,l),longitudeShift:t.getFloat32(a+16*r+4,l),latitudeAccuracy:t.getFloat32(a+16*r+8,l),longitudeAccuracy:t.getFloat32(a+16*r+12,l)};i.push(o)}return i}function ot(t,n){if(!(this instanceof ot))return new ot(t);n=n||function(t){if(t)throw t};var e=B(t);if("object"==typeof e){var l=ot.projections.get(e.projName);if(l){if(e.datumCode&&"none"!==e.datumCode){var a=v(Q,e.datumCode);a&&(e.datum_params=e.datum_params||(a.towgs84?a.towgs84.split(","):null),e.ellps=a.ellipse,e.datumName=a.datumName?a.datumName:e.datumCode)}e.k0=e.k0||1,e.axis=e.axis||"enu",e.ellps=e.ellps||"wgs84",e.lat1=e.lat1||e.lat0;var i,r,h,d,p,g,m=function(t,n,l,a,i){if(!t){var r=v(J,e.ellps);r||(r=$),t=r.a,n=r.b,l=r.rf}return l&&!n&&(n=(1-1/l)*t),(0===l||Math.abs(t-n)<c)&&(i=!0,n=t),{a:t,b:n,rf:l,sphere:i}}(e.a,e.b,e.rf,0,e.sphere),b=(p=((h=(i=m.a)*i)-(d=(r=m.b)*r))/h,g=0,e.R_A?(h=(i*=1-p*(o+p*(s+p*u)))*i,p=0):g=Math.sqrt(p),{es:p,e:g,ep2:(h-d)/d}),f=function(t){return void 0===t?null:t.split(",").map(nt)}(e.nadgrids),y=e.datum||Z(e.datumCode,e.datum_params,m.a,m.b,b.es,b.ep2,f);U(this,e),U(this,l),this.a=m.a,this.b=m.b,this.rf=m.rf,this.sphere=m.sphere,this.es=b.es,this.e=b.e,this.ep2=b.ep2,this.datum=y,this.init(),n(null,this)}else n(t)}else n(t)}(ot.projections=X).start();var st=ot;function ut(t,n,e){var l,a,i,o=t.x,s=t.y,u=t.z?t.z:0;if(s<-r&&s>-1.001*r)s=-r;else if(s>r&&s<1.001*r)s=r;else{if(s<-r)return{x:-1/0,y:-1/0,z:t.z};if(s>r)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),a=Math.sin(s),i=Math.cos(s),{x:((l=e/Math.sqrt(1-n*(a*a)))+u)*i*Math.cos(o),y:(l+u)*i*Math.sin(o),z:(l*(1-n)+u)*a}}function ct(t,n,e,l){var a,i,r,o,s,u,c,h,d,p,g,m,b,f,y,v=t.x,C=t.y,S=t.z?t.z:0;if(a=Math.sqrt(v*v+C*C),i=Math.sqrt(v*v+C*C+S*S),a/e<1e-12){if(f=0,i/e<1e-12)return y=-l,{x:t.x,y:t.y,z:t.z}}else f=Math.atan2(C,v);r=S/i,h=(o=a/i)*(1-n)*(s=1/Math.sqrt(1-n*(2-n)*o*o)),d=r*s,b=0;do{b++,u=n*(c=e/Math.sqrt(1-n*d*d))/(c+(y=a*h+S*d-c*(1-n*d*d))),m=(g=r*(s=1/Math.sqrt(1-u*(2-u)*o*o)))*h-(p=o*(1-u)*s)*d,h=p,d=g}while(m*m>1e-24&&b<30);return{x:f,y:Math.atan(g/Math.abs(p)),z:y}}function ht(t){return t===l||t===a}var dt=function(t,n,e){if(function(t,n){return t.datum_type===n.datum_type&&!(t.a!==n.a||Math.abs(t.es-n.es)>5e-11)&&(t.datum_type===l?t.datum_params[0]===n.datum_params[0]&&t.datum_params[1]===n.datum_params[1]&&t.datum_params[2]===n.datum_params[2]:t.datum_type!==a||t.datum_params[0]===n.datum_params[0]&&t.datum_params[1]===n.datum_params[1]&&t.datum_params[2]===n.datum_params[2]&&t.datum_params[3]===n.datum_params[3]&&t.datum_params[4]===n.datum_params[4]&&t.datum_params[5]===n.datum_params[5]&&t.datum_params[6]===n.datum_params[6])}(t,n))return e;if(5===t.datum_type||5===n.datum_type)return e;var i=t.a,r=t.es;if(3===t.datum_type){if(0!==pt(t,!1,e))return;i=6378137,r=.0066943799901413165}var o=n.a,s=n.b,u=n.es;return 3===n.datum_type&&(o=6378137,s=6356752.314,u=.0066943799901413165),r!==u||i!==o||ht(t.datum_type)||ht(n.datum_type)?(e=ut(e,r,i),ht(t.datum_type)&&(e=function(t,n,i){if(n===l)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(n===a){var r=i[3],o=i[4],s=i[5],u=i[6];return{x:u*(e.x-s*e.y+o*e.z)+i[0],y:u*(s*e.x+e.y-r*e.z)+i[1],z:u*(-o*e.x+r*e.y+e.z)+i[2]}}}(0,t.datum_type,t.datum_params)),ht(n.datum_type)&&(e=function(t,n,i){if(n===l)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(n===a){var r=i[3],o=i[4],s=i[5],u=i[6],c=(e.x-i[0])/u,h=(e.y-i[1])/u,d=(e.z-i[2])/u;return{x:c+s*h-o*d,y:-s*c+h+r*d,z:o*c-r*h+d}}}(0,n.datum_type,n.datum_params)),e=ct(e,u,o,s),3!==n.datum_type||0===pt(n,!0,e)?e:void 0):e};function pt(t,n,e){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var l={x:-e.x,y:e.y},a={x:Number.NaN,y:Number.NaN},i=[],r=0;r<t.grids.length;r++){var o=t.grids[r];if(i.push(o.name),o.isNull){a=l;break}if(null!==o.grid){var s=o.grid.subgrids[0],u=(Math.abs(s.del[1])+Math.abs(s.del[0]))/1e4;if(!(s.ll[1]-u>l.y||s.ll[0]-u>l.x||s.ll[1]+(s.lim[1]-1)*s.del[1]+u<l.y||s.ll[0]+(s.lim[0]-1)*s.del[0]+u<l.x||(a=gt(l,n,s),isNaN(a.x))))break}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-l.x*d+" "+l.y*d+" tried: '"+i+"'"),-1):(e.x=-a.x,e.y=a.y,0)}function gt(t,n,e){var l={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return l;var a={x:t.x,y:t.y};a.x-=e.ll[0],a.y-=e.ll[1],a.x=j(a.x-Math.PI)+Math.PI;var i=mt(a,e);if(n){if(isNaN(i.x))return l;i.x=a.x-i.x,i.y=a.y-i.y;var r,o,s=9;do{if(o=mt(i,e),isNaN(o.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}i.x+=(r={x:a.x-(o.x+i.x),y:a.y-(o.y+i.y)}).x,i.y+=r.y}while(s--&&Math.abs(r.x)>1e-12&&Math.abs(r.y)>1e-12);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),l;l.x=j(i.x+e.ll[0]),l.y=i.y+e.ll[1]}else isNaN(i.x)||(l.x=t.x+i.x,l.y=t.y+i.y);return l}function mt(t,n){var e,l={x:t.x/n.del[0],y:t.y/n.del[1]},a=Math.floor(l.x),i=Math.floor(l.y),r=l.x-1*a,o=l.y-1*i,s={x:Number.NaN,y:Number.NaN};if(a<0||a>=n.lim[0])return s;if(i<0||i>=n.lim[1])return s;var u=n.cvs[e=i*n.lim[0]+a][0],c=n.cvs[e][1],h=n.cvs[++e][0],d=n.cvs[e][1],p=n.cvs[e+=n.lim[0]][0],g=n.cvs[e][1],m=n.cvs[--e][1],b=r*o,f=r*(1-o),y=(1-r)*(1-o),v=(1-r)*o;return s.x=y*u+f*h+v*n.cvs[e][0]+b*p,s.y=y*c+f*d+v*m+b*g,s}var bt=function(t,n,e){var l,a,i,r=e.x,o=e.y,s=e.z||0,u={};for(i=0;i<3;i++)if(!n||2!==i||void 0!==e.z)switch(0===i?(l=r,a=-1!=="ew".indexOf(t.axis[i])?"x":"y"):1===i?(l=o,a=-1!=="ns".indexOf(t.axis[i])?"y":"x"):(l=s,a="z"),t.axis[i]){case"e":u[a]=l;break;case"w":u[a]=-l;break;case"n":u[a]=l;break;case"s":u[a]=-l;break;case"u":void 0!==e[a]&&(u.z=l);break;case"d":void 0!==e[a]&&(u.z=-l);break;default:return null}return u},ft=function(t){var n={x:t[0],y:t[1]};return t.length>2&&(n.z=t[2]),t.length>3&&(n.m=t[3]),n},yt=function(t){vt(t.x),vt(t.y)};function vt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Ct(t,n,e,i){var r;if(Array.isArray(e)&&(e=ft(e)),yt(e),t.datum&&n.datum&&function(t,n){return(t.datum.datum_type===l||t.datum.datum_type===a)&&"WGS84"!==n.datumCode||(n.datum.datum_type===l||n.datum.datum_type===a)&&"WGS84"!==t.datumCode}(t,n)&&(e=Ct(t,r=new st("WGS84"),e,i),t=r),i&&"enu"!==t.axis&&(e=bt(t,!1,e)),"longlat"===t.projName)e={x:e.x*h,y:e.y*h,z:e.z||0};else if(t.to_meter&&(e={x:e.x*t.to_meter,y:e.y*t.to_meter,z:e.z||0}),!(e=t.inverse(e)))return;if(t.from_greenwich&&(e.x+=t.from_greenwich),e=dt(t.datum,n.datum,e))return n.from_greenwich&&(e={x:e.x-n.from_greenwich,y:e.y,z:e.z||0}),"longlat"===n.projName?e={x:e.x*d,y:e.y*d,z:e.z||0}:(e=n.forward(e),n.to_meter&&(e={x:e.x/n.to_meter,y:e.y/n.to_meter,z:e.z||0})),i&&"enu"!==n.axis?bt(n,!0,e):e}var St=st("WGS84");function Mt(t,n,e,l){var a,i,r;return Array.isArray(e)?(a=Ct(t,n,e,l)||{x:NaN,y:NaN},e.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==n.name&&"geocent"===n.name?"number"==typeof a.z?[a.x,a.y,a.z].concat(e.splice(3)):[a.x,a.y,e[2]].concat(e.splice(3)):[a.x,a.y].concat(e.splice(2)):[a.x,a.y]):(i=Ct(t,n,e,l),2===(r=Object.keys(e)).length?i:(r.forEach(function(l){if(void 0!==t.name&&"geocent"===t.name||void 0!==n.name&&"geocent"===n.name){if("x"===l||"y"===l||"z"===l)return}else if("x"===l||"y"===l)return;i[l]=e[l]}),i))}function _t(t){return t instanceof st?t:t.oProj?t.oProj:st(t)}var Lt=function(t,n,e){t=_t(t);var l,a=!1;return void 0===n?(n=t,t=St,a=!0):(void 0!==n.x||Array.isArray(n))&&(e=n,n=t,t=St,a=!0),n=_t(n),e?Mt(t,n,e):(l={forward:function(e,l){return Mt(t,n,e,l)},inverse:function(e,l){return Mt(n,t,e,l)}},a&&(l.oProj=n),l)},Ot=6,At="AJSAJS",Tt="AFAFAF",Dt=65,Pt=73,xt=79,wt=86,kt=90,It={forward:Et,inverse:function(t){var n=Ut(Vt(t.toUpperCase()));return n.lat&&n.lon?[n.lon,n.lat,n.lon,n.lat]:[n.left,n.bottom,n.right,n.top]},toPoint:Nt};function Et(t,n){return n=n||5,function(t,n){var e,l,a,i,r,o,s,u,c,h,d,p="00000"+t.easting,g="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(c=t.easting,h=t.northing,d=Rt(t.zoneNumber),e=Math.floor(c/1e5),l=Math.floor(h/1e5)%20,i=At.charCodeAt(a=d-1),r=Tt.charCodeAt(a),u=!1,(o=i+e-1)>kt&&(o=o-kt+Dt-1,u=!0),(o===Pt||i<Pt&&o>Pt||(o>Pt||i<Pt)&&u)&&o++,(o===xt||i<xt&&o>xt||(o>xt||i<xt)&&u)&&++o===Pt&&o++,o>kt&&(o=o-kt+Dt-1),(s=r+l)>wt?(s=s-wt+Dt-1,u=!0):u=!1,(s===Pt||r<Pt&&s>Pt||(s>Pt||r<Pt)&&u)&&s++,(s===xt||r<xt&&s>xt||(s>xt||r<xt)&&u)&&++s===Pt&&s++,s>wt&&(s=s-wt+Dt-1),String.fromCharCode(o)+String.fromCharCode(s))+p.substr(p.length-5,n)+g.substr(g.length-5,n)}(function(t){var n,e,l,a,i,r,o=t.lat,s=t.lon,u=6378137,c=Ft(o),h=Ft(s);r=Math.floor((s+180)/6)+1,180===s&&(r=60),o>=56&&o<64&&s>=3&&s<12&&(r=32),o>=72&&o<84&&(s>=0&&s<9?r=31:s>=9&&s<21?r=33:s>=21&&s<33?r=35:s>=33&&s<42&&(r=37)),i=Ft(6*(r-1)-180+3),n=u/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),e=Math.tan(c)*Math.tan(c),l=.006739496752268451*Math.cos(c)*Math.cos(c);var d,p,g=.9996*n*((a=Math.cos(c)*(h-i))+(1-e+l)*a*a*a/6+(5-18*e+e*e+72*l-.39089081163157013)*a*a*a*a*a/120)+5e5,m=.9996*(u*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+n*Math.tan(c)*(a*a/2+(5-e+9*l+4*l*l)*a*a*a*a/24+(61-58*e+e*e+600*l-2.2240339282485886)*a*a*a*a*a*a/720));return o<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(g),zoneNumber:r,zoneLetter:(d=o,p="Z",84>=d&&d>=72?p="X":72>d&&d>=64?p="W":64>d&&d>=56?p="V":56>d&&d>=48?p="U":48>d&&d>=40?p="T":40>d&&d>=32?p="S":32>d&&d>=24?p="R":24>d&&d>=16?p="Q":16>d&&d>=8?p="P":8>d&&d>=0?p="N":0>d&&d>=-8?p="M":-8>d&&d>=-16?p="L":-16>d&&d>=-24?p="K":-24>d&&d>=-32?p="J":-32>d&&d>=-40?p="H":-40>d&&d>=-48?p="G":-48>d&&d>=-56?p="F":-56>d&&d>=-64?p="E":-64>d&&d>=-72?p="D":-72>d&&d>=-80&&(p="C"),p)}}({lat:t[1],lon:t[0]}),n)}function Nt(t){var n=Ut(Vt(t.toUpperCase()));return n.lat&&n.lon?[n.lon,n.lat]:[(n.left+n.right)/2,(n.top+n.bottom)/2]}function Ft(t){return t*(Math.PI/180)}function Bt(t){return t/Math.PI*180}function Ut(t){var n=t.northing,e=t.easting,l=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var i,r,o,s,u,c,h,d,p=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=e-5e5,b=n;l<"N"&&(b-=1e7),c=6*(a-1)-180+3,d=(h=b/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*h)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*h)+151*g*g*g/96*Math.sin(6*h),i=p/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),r=Math.tan(d)*Math.tan(d),o=.006739496752268451*Math.cos(d)*Math.cos(d),s=.99330562*p/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),u=m/(.9996*i);var f=d-i*Math.tan(d)/s*(u*u/2-(5+3*r+10*o-4*o*o-.06065547077041606)*u*u*u*u/24+(61+90*r+298*o+45*r*r-1.6983531815716497-3*o*o)*u*u*u*u*u*u/720);f=Bt(f);var y,v=(u-(1+2*r+o)*u*u*u/6+(5-2*o+28*r-3*o*o+.05391597401814761+24*r*r)*u*u*u*u*u/120)/Math.cos(d);if(v=c+Bt(v),t.accuracy){var C=Ut({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:C.lat,right:C.lon,bottom:f,left:v}}else y={lat:f,lon:v};return y}function Rt(t){var n=t%Ot;return 0===n&&(n=Ot),n}function Vt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var n,e=t.length,l=null,a="",i=0;!/[A-Z]/.test(n=t.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+t;a+=n,i++}var r=parseInt(a,10);if(0===i||i+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(i++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+t;l=t.substring(i,i+=2);for(var s=Rt(r),u=function(t,n){for(var e=At.charCodeAt(n-1),l=1e5,a=!1;e!==t.charCodeAt(0);){if(++e===Pt&&e++,e===xt&&e++,e>kt){if(a)throw"Bad character: "+t;e=Dt,a=!0}l+=1e5}return l}(l.charAt(0),s),c=function(t,n){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var e=Tt.charCodeAt(n-1),l=0,a=!1;e!==t.charCodeAt(0);){if(++e===Pt&&e++,e===xt&&e++,e>wt){if(a)throw"Bad character: "+t;e=Dt,a=!0}l+=1e5}return l}(l.charAt(1),s);c<jt(o);)c+=2e6;var h=e-i;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,g,m=h/2,b=0,f=0;return m>0&&(d=1e5/Math.pow(10,m),p=t.substring(i,i+m),b=parseFloat(p)*d,g=t.substring(i+m),f=parseFloat(g)*d),{easting:b+u,northing:f+c,zoneLetter:o,zoneNumber:r,accuracy:d}}function jt(t){var n;switch(t){case"C":n=11e5;break;case"D":n=2e6;break;case"E":n=28e5;break;case"F":n=37e5;break;case"G":n=46e5;break;case"H":n=55e5;break;case"J":n=64e5;break;case"K":n=73e5;break;case"L":n=82e5;break;case"M":n=91e5;break;case"N":n=0;break;case"P":n=8e5;break;case"Q":n=17e5;break;case"R":n=26e5;break;case"S":n=35e5;break;case"T":n=44e5;break;case"U":n=53e5;break;case"V":n=62e5;break;case"W":n=7e6;break;case"X":n=79e5;break;default:n=-1}if(n>=0)return n;throw"Invalid zone letter: "+t}function Gt(t,n,e){if(!(this instanceof Gt))return new Gt(t,n,e);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===n){var l=t.split(",");this.x=parseFloat(l[0],10),this.y=parseFloat(l[1],10),this.z=parseFloat(l[2],10)||0}else this.x=t,this.y=n,this.z=e||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Gt.fromMGRS=function(t){return new Gt(Nt(t))},Gt.prototype.toMGRS=function(t){return Et([this.x,this.y],t)};var Yt=Gt,Wt=.01068115234375,zt=function(t){var n=[];n[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Wt))),n[1]=t*(.75-t*(.046875+t*(.01953125+t*Wt)));var e=t*t;return n[2]=e*(.46875-t*(.013020833333333334+.007120768229166667*t)),n[3]=(e*=t)*(.3645833333333333-.005696614583333333*t),n[4]=e*t*.3076171875,n},Ht=function(t,n,e,l){return l[0]*t-(e*=n)*(l[1]+(n*=n)*(l[2]+n*(l[3]+n*l[4])))},qt=function(t,n,e){for(var l=1/(1-n),a=t,i=20;i;--i){var r=Math.sin(a),o=1-n*r*r;if(a-=o=(Ht(a,r,Math.cos(a),e)-t)*(o*Math.sqrt(o))*l,Math.abs(o)<c)return a}return a},Kt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=zt(this.es),this.ml0=Ht(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var n,e,l,a=t.y,i=j(t.x-this.long0),r=Math.sin(a),o=Math.cos(a);if(this.es){var s=o*i,u=Math.pow(s,2),h=this.ep2*Math.pow(o,2),d=Math.pow(h,2),p=Math.abs(o)>c?Math.tan(a):0,g=Math.pow(p,2),m=Math.pow(g,2);n=1-this.es*Math.pow(r,2),s/=Math.sqrt(n);var b=Ht(a,r,o,this.en);e=this.a*(this.k0*s*(1+u/6*(1-g+h+u/20*(5-18*g+m+14*h-58*g*h+u/42*(61+179*m-m*g-479*g)))))+this.x0,l=this.a*(this.k0*(b-this.ml0+r*i*s/2*(1+u/12*(5-g+9*h+4*d+u/30*(61+m-58*g+270*h-330*g*h+u/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var f=o*Math.sin(i);if(Math.abs(Math.abs(f)-1)<c)return 93;if(e=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,l=o*Math.cos(i)/Math.sqrt(1-Math.pow(f,2)),(f=Math.abs(l))>=1){if(f-1>c)return 93;l=0}else l=Math.acos(l);a<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return t.x=e,t.y=l,t},inverse:function(t){var n,e,l,a,i=1/this.a*(t.x-this.x0),o=1/this.a*(t.y-this.y0);if(this.es)if(e=qt(n=this.ml0+o/this.k0,this.es,this.en),Math.abs(e)<r){var s=Math.sin(e),u=Math.cos(e),h=Math.abs(u)>c?Math.tan(e):0,d=this.ep2*Math.pow(u,2),p=Math.pow(d,2),g=Math.pow(h,2),m=Math.pow(g,2);n=1-this.es*Math.pow(s,2);var b=i*Math.sqrt(n)/this.k0,f=Math.pow(b,2);l=e-(n*=h)*f/(1-this.es)*.5*(1-f/12*(5+3*g-9*d*g+d-4*p-f/30*(61+90*g-252*d*g+45*m+46*d-f/56*(1385+3633*g+4095*m+1574*m*g)))),a=j(this.long0+b*(1-f/6*(1+2*g+d-f/20*(5+28*g+24*m+8*d*g+6*d-f/42*(61+662*g+1320*m+720*m*g))))/u)}else l=r*V(o),a=0;else{var y=Math.exp(i/this.k0),v=.5*(y-1/y),C=Math.cos(this.lat0+o/this.k0);n=Math.sqrt((1-Math.pow(C,2))/(1+Math.pow(v,2))),l=Math.asin(n),o<0&&(l=-l),a=0===v&&0===C?0:j(Math.atan2(v,C)+this.long0)}return t.x=a,t.y=l,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Xt=function(t){var n=Math.exp(t);return(n-1/n)/2},Jt=function(t,n){t=Math.abs(t),n=Math.abs(n);var e=Math.max(t,n),l=Math.min(t,n)/(e||1);return e*Math.sqrt(1+Math.pow(l,2))},$t=function(t,n){for(var e,l=2*Math.cos(2*n),a=t.length-1,i=t[a],r=0;--a>=0;)e=l*i-r+t[a],r=i,i=e;return n+e*Math.sin(2*n)},Qt=function(t,n,e){for(var l,a,i=Math.sin(n),r=Math.cos(n),o=Xt(e),s=function(t){var n=Math.exp(e);return(n+1/n)/2}(),u=2*r*s,c=-2*i*o,h=t.length-1,d=t[h],p=0,g=0,m=0;--h>=0;)l=g,a=p,d=u*(g=d)-l-c*(p=m)+t[h],m=c*g-a+u*p;return[(u=i*s)*d-(c=r*o)*m,u*m+c*d]},Zt={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Kt.init.apply(this),this.forward=Kt.forward,this.inverse=Kt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),n=t/(2-t),e=n;this.cgb[0]=n*(2+n*(-2/3+n*(n*(116/45+n*(26/45+n*(-2854/675)))-2))),this.cbg[0]=n*(n*(2/3+n*(4/3+n*(-82/45+n*(32/45+n*(4642/4725)))))-2),this.cgb[1]=(e*=n)*(7/3+n*(n*(-227/45+n*(2704/315+n*(2323/945)))-1.6)),this.cbg[1]=e*(5/3+n*(-16/15+n*(-13/9+n*(904/315+n*(-1522/945))))),this.cgb[2]=(e*=n)*(56/15+n*(-136/35+n*(-1262/105+n*(73814/2835)))),this.cbg[2]=e*(-26/15+n*(34/21+n*(1.6+n*(-12686/2835)))),this.cgb[3]=(e*=n)*(4279/630+n*(-332/35+n*(-399572/14175))),this.cbg[3]=e*(1237/630+n*(n*(-24832/14175)-2.4)),this.cgb[4]=(e*=n)*(4174/315+n*(-144838/6237)),this.cbg[4]=e*(-734/315+n*(109598/31185)),this.cgb[5]=(e*=n)*(601676/22275),this.cbg[5]=e*(444337/155925),e=Math.pow(n,2),this.Qn=this.k0/(1+n)*(1+e*(.25+e*(1/64+e/256))),this.utg[0]=n*(n*(2/3+n*(-37/96+n*(1/360+n*(81/512+n*(-96199/604800)))))-.5),this.gtu[0]=n*(.5+n*(-2/3+n*(5/16+n*(41/180+n*(-127/288+n*(7891/37800)))))),this.utg[1]=e*(-1/48+n*(-1/15+n*(437/1440+n*(-46/105+n*(1118711/3870720))))),this.gtu[1]=e*(13/48+n*(n*(557/1440+n*(281/630+n*(-1983433/1935360)))-.6)),this.utg[2]=(e*=n)*(-17/480+n*(37/840+n*(209/4480+n*(-5569/90720)))),this.gtu[2]=e*(61/240+n*(-103/140+n*(15061/26880+n*(167603/181440)))),this.utg[3]=(e*=n)*(-4397/161280+n*(11/504+n*(830251/7257600))),this.gtu[3]=e*(49561/161280+n*(-179/168+n*(6601661/7257600))),this.utg[4]=(e*=n)*(-4583/161280+n*(108847/3991680)),this.gtu[4]=e*(34729/80640+n*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(e*=n),this.gtu[5]=.6650675310896665*e;var l=$t(this.cbg,this.lat0);this.Zb=-this.Qn*(l+function(t,n){for(var e,l=2*Math.cos(n),a=t.length-1,i=t[a],r=0;--a>=0;)e=l*i-r+t[a],r=i,i=e;return Math.sin(n)*e}(this.gtu,2*l))},forward:function(t){var n=j(t.x-this.long0),e=t.y;e=$t(this.cbg,e);var l=Math.sin(e),a=Math.cos(e),i=Math.sin(n),r=Math.cos(n);e=Math.atan2(l,r*a),n=Math.atan2(i*a,Jt(l,a*r)),n=function(t){var n=Math.abs(t);return n=function(t){var n=1+t,e=n-1;return 0===e?t:t*Math.log(n)/e}(n*(1+n/(Jt(1,n)+1))),t<0?-n:n}(Math.tan(n));var o,s,u=Qt(this.gtu,2*e,2*n);return e+=u[0],n+=u[1],Math.abs(n)<=2.623395162778?(o=this.a*(this.Qn*n)+this.x0,s=this.a*(this.Qn*e+this.Zb)+this.y0):(o=1/0,s=1/0),t.x=o,t.y=s,t},inverse:function(t){var n,e,l=1/this.a*(t.x-this.x0),a=1/this.a*(t.y-this.y0);if(a=(a-this.Zb)/this.Qn,l/=this.Qn,Math.abs(l)<=2.623395162778){var i=Qt(this.utg,2*a,2*l);a+=i[0],l+=i[1],l=Math.atan(Xt(l));var r=Math.sin(a),o=Math.cos(a),s=Math.sin(l),u=Math.cos(l);a=Math.atan2(r*u,Jt(s,u*o)),l=Math.atan2(s,u*o),n=j(l+this.long0),e=$t(this.cgb,a)}else n=1/0,e=1/0;return t.x=n,t.y=e,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},tn={init:function(){var t=function(t,n){if(void 0===t){if((t=Math.floor(30*(j(n)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*h,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Zt.init.apply(this),this.forward=Zt.forward,this.inverse=Zt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},nn=function(t,n){return Math.pow((1-t)/(1+t),n)},en={init:function(){var t=Math.sin(this.lat0),n=Math.cos(this.lat0);n*=n,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*n*n/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+p)/(Math.pow(Math.tan(.5*this.lat0+p),this.C)*nn(this.e*t,this.ratexp))},forward:function(t){var n=t.x,e=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*e+p),this.C)*nn(this.e*Math.sin(e),this.ratexp))-r,t.x=this.C*n,t},inverse:function(t){for(var n=t.x/this.C,e=t.y,l=Math.pow(Math.tan(.5*e+p)/this.K,1/this.C),a=20;a>0&&(e=2*Math.atan(l*nn(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(e-t.y)<1e-14));--a)t.y=e;return a?(t.x=n,t.y=e,t):null},names:["gauss"]},ln={init:function(){en.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var n,e,l,a;return t.x=j(t.x-this.long0),en.forward.apply(this,[t]),n=Math.sin(t.y),e=Math.cos(t.y),l=Math.cos(t.x),t.x=(a=this.k0*this.R2/(1+this.sinc0*n+this.cosc0*e*l))*e*Math.sin(t.x),t.y=a*(this.cosc0*n-this.sinc0*e*l),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var n,e,l,a,i;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,i=Math.sqrt(t.x*t.x+t.y*t.y)){var r=2*Math.atan2(i,this.R2);n=Math.sin(r),e=Math.cos(r),a=Math.asin(e*this.sinc0+t.y*n*this.cosc0/i),l=Math.atan2(t.x*n,i*this.cosc0*e-t.y*this.sinc0*n)}else a=this.phic0,l=0;return t.x=l,t.y=a,en.inverse.apply(this,[t]),t.x=j(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},an={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*(1+V(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=c&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*this.cons*R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/G(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=R(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var n,e,l,a,i,o,s=t.x,u=t.y,h=Math.sin(u),d=Math.cos(u),p=j(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=c&&Math.abs(u+this.lat0)<=c?(t.x=NaN,t.y=NaN,t):this.sphere?(n=2*this.k0/(1+this.sinlat0*h+this.coslat0*d*Math.cos(p)),t.x=this.a*n*d*Math.sin(p)+this.x0,t.y=this.a*n*(this.coslat0*h-this.sinlat0*d*Math.cos(p))+this.y0,t):(e=2*Math.atan(this.ssfn_(u,h,this.e))-r,a=Math.cos(e),l=Math.sin(e),Math.abs(this.coslat0)<=c?(i=G(this.e,u*this.con,this.con*h),t.x=this.x0+(o=2*this.a*this.k0*i/this.cons)*Math.sin(s-this.long0),t.y=this.y0-this.con*o*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<c?(n=2*this.a*this.k0/(1+a*Math.cos(p)),t.y=n*l):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*a*Math.cos(p))),t.y=n*(this.cosX0*l-this.sinX0*a*Math.cos(p))+this.y0),t.x=n*a*Math.sin(p)+this.x0,t))},inverse:function(t){var n,e,l,a;t.x-=this.x0,t.y-=this.y0;var i=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(i/(2*this.a*this.k0));return n=this.long0,e=this.lat0,i<=c?(t.x=n,t.y=e,t):(e=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/i),n=Math.abs(this.coslat0)<c?j(this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y)):j(this.long0+Math.atan2(t.x*Math.sin(o),i*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=n,t.y=e,t)}if(Math.abs(this.coslat0)<=c){if(i<=c)return e=this.lat0,t.x=n=this.long0,t.y=e,t;t.x*=this.con,t.y*=this.con,e=this.con*Y(this.e,i*this.cons/(2*this.a*this.k0)),n=this.con*j(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else l=2*Math.atan(i*this.cosX0/(2*this.a*this.k0*this.ms1)),n=this.long0,i<=c?a=this.X0:(a=Math.asin(Math.cos(l)*this.sinX0+t.y*Math.sin(l)*this.cosX0/i),n=j(this.long0+Math.atan2(t.x*Math.sin(l),i*this.cosX0*Math.cos(l)-t.y*this.sinX0*Math.sin(l)))),e=-1*Y(this.e,Math.tan(.5*(r+a)));return t.x=n,t.y=e,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,n,e){return n*=e,Math.tan(.5*(r+t))*Math.pow((1-n)/(1+n),.5*e)}},rn={init:function(){var t=this.lat0;this.lambda0=this.long0;var n=Math.sin(t),e=this.a,l=1/this.rf,a=2*l-Math.pow(l,2),i=this.e=Math.sqrt(a);this.R=this.k0*e*Math.sqrt(1-a)/(1-a*Math.pow(n,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(n/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),s=Math.log((1+i*n)/(1-i*n));this.K=r-this.alpha*o+this.alpha*i/2*s},forward:function(t){var n=Math.log(Math.tan(Math.PI/4-t.y/2)),e=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),l=2*(Math.atan(Math.exp(-this.alpha*(n+e)+this.K))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),i=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(l)+Math.cos(this.b0)*Math.cos(a))),r=Math.asin(Math.cos(this.b0)*Math.sin(l)-Math.sin(this.b0)*Math.cos(l)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*i+this.x0,t},inverse:function(t){for(var n=(t.x-this.x0)/this.R,e=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),l=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(e))),i=this.lambda0+a/this.alpha,r=0,o=l,s=-1e3,u=0;Math.abs(o-s)>1e-7;){if(++u>20)return;r=1/this.alpha*(Math.log(Math.tan(Math.PI/4+l/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(o))/2)),s=o,o=2*Math.atan(Math.exp(r))-Math.PI/2}return t.x=i,t.y=o,t},names:["somerc"]},on={init:function(){var t,n,e,l,a,i,o,s,u,d,m,b,f,y=0,v=0,C=0,S=0,M=0,_=0,L=0;this.no_off=(f="object"==typeof(b=this).PROJECTION?Object.keys(b.PROJECTION)[0]:b.PROJECTION,"no_uoff"in b||"no_off"in b||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(f)),this.no_rot="no_rot"in this;var O=!1;"alpha"in this&&(O=!0);var A=!1;if("rectified_grid_angle"in this&&(A=!0),O&&(L=this.alpha),A&&(y=this.rectified_grid_angle*h),O||A)v=this.longc;else if(C=this.long1,M=this.lat1,S=this.long2,_=this.lat2,Math.abs(M-_)<=1e-7||(t=Math.abs(M))<=1e-7||Math.abs(t-r)<=1e-7||Math.abs(Math.abs(this.lat0)-r)<=1e-7||Math.abs(Math.abs(_)-r)<=1e-7)throw new Error;var T=1-this.es;n=Math.sqrt(T),Math.abs(this.lat0)>c?(s=Math.sin(this.lat0),e=Math.cos(this.lat0),t=1-this.es*s*s,this.B=e*e,this.B=Math.sqrt(1+this.es*this.B*this.B/T),this.A=this.B*this.k0*n/t,(a=(l=this.B*n/(e*Math.sqrt(t)))*l-1)<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=l,this.E*=Math.pow(G(this.e,this.lat0,s),this.B)):(this.B=1/n,this.A=this.k0,this.E=l=a=1),O||A?(O?(m=Math.asin(Math.sin(L)/l),A||(y=L)):(m=y,L=Math.asin(l*Math.sin(m))),this.lam0=v-Math.asin(.5*(a-1/a)*Math.tan(m))/this.B):(i=Math.pow(G(this.e,M,Math.sin(M)),this.B),o=Math.pow(G(this.e,_,Math.sin(_)),this.B),a=this.E/i,u=(o-i)/(o+i),d=((d=this.E*this.E)-o*i)/(d+o*i),(t=C-S)<-Math.pi?S-=g:t>Math.pi&&(S+=g),this.lam0=j(.5*(C+S)-Math.atan(d*Math.tan(.5*this.B*(C-S))/u)/this.B),m=Math.atan(2*Math.sin(this.B*j(C-this.lam0))/(a-1/a)),y=L=Math.asin(l*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(y),this.cosrot=Math.cos(y),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(l*l-1)/Math.cos(L))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(p-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(p+a))},forward:function(t){var n,e,l,a,i,o,s,u,h={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-r)>c){if(n=.5*((i=this.E/Math.pow(G(this.e,t.y,Math.sin(t.y)),this.B))-(o=1/i)),e=.5*(i+o),a=Math.sin(this.B*t.x),l=(n*this.singam-a*this.cosgam)/e,Math.abs(Math.abs(l)-1)<c)throw new Error;u=.5*this.ArB*Math.log((1-l)/(1+l)),o=Math.cos(this.B*t.x),s=Math.abs(o)<1e-7?this.A*t.x:this.ArB*Math.atan2(n*this.cosgam+a*this.singam,o)}else u=t.y>0?this.v_pole_n:this.v_pole_s,s=this.ArB*t.y;return this.no_rot?(h.x=s,h.y=u):(h.x=u*this.cosrot+(s-=this.u_0)*this.sinrot,h.y=s*this.cosrot-u*this.sinrot),h.x=this.a*h.x+this.x0,h.y=this.a*h.y+this.y0,h},inverse:function(t){var n,e,l,a,i,o,s,u={};if(t.x=1/this.a*(t.x-this.x0),t.y=1/this.a*(t.y-this.y0),this.no_rot?(e=t.y,n=t.x):(e=t.x*this.cosrot-t.y*this.sinrot,n=t.y*this.cosrot+t.x*this.sinrot+this.u_0),a=.5*((l=Math.exp(-this.BrA*e))-1/l),i=.5*(l+1/l),s=((o=Math.sin(this.BrA*n))*this.cosgam+a*this.singam)/i,Math.abs(Math.abs(s)-1)<c)u.x=0,u.y=s<0?-r:r;else{if(u.y=this.E/Math.sqrt((1+s)/(1-s)),u.y=Y(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(a*this.cosgam-o*this.singam,Math.cos(this.BrA*n))}return u.x+=this.lam0,u},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},sn={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<c)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var n=Math.sin(this.lat1),e=Math.cos(this.lat1),l=R(this.e,n,e),a=G(this.e,this.lat1,n),i=Math.sin(this.lat2),r=Math.cos(this.lat2),o=R(this.e,i,r),s=G(this.e,this.lat2,i),u=G(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>c?Math.log(l/o)/Math.log(a/s):n,isNaN(this.ns)&&(this.ns=n),this.f0=l/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var n=t.x,e=t.y;Math.abs(2*Math.abs(e)-Math.PI)<=c&&(e=V(e)*(r-2*c));var l,a,i=Math.abs(Math.abs(e)-r);if(i>c)l=G(this.e,e,Math.sin(e)),a=this.a*this.f0*Math.pow(l,this.ns);else{if((i=e*this.ns)<=0)return null;a=0}var o=this.ns*j(n-this.long0);return t.x=this.k0*(a*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(o))+this.y0,t},inverse:function(t){var n,e,l,a,i,o=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(n=Math.sqrt(o*o+s*s),e=1):(n=-Math.sqrt(o*o+s*s),e=-1);var u=0;if(0!==n&&(u=Math.atan2(e*o,e*s)),0!==n||this.ns>0){if(e=1/this.ns,l=Math.pow(n/(this.a*this.f0),e),-9999===(a=Y(this.e,l)))return null}else a=-r;return i=j(u/this.ns+this.long0),t.x=i,t.y=a,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},un={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var n,e,l,a,i,r,o,s=t.y,u=j(t.x-this.long0);return n=Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.alfa*this.e/2),e=2*(Math.atan(this.k*Math.pow(Math.tan(s/2+this.s45),this.alfa)/n)-this.s45),l=-u*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(e)+Math.sin(this.ad)*Math.cos(e)*Math.cos(l)),i=Math.asin(Math.cos(e)*Math.sin(l)/Math.cos(a)),r=this.n*i,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=o*Math.cos(r)/1,t.x=o*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var n,e,l,a,i,r,o,s=t.x;t.x=t.y,t.y=s,this.czech||(t.y*=-1,t.x*=-1),i=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x)/Math.sin(this.s0),l=2*(Math.atan(Math.pow(this.ro0/i,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),n=Math.asin(Math.cos(this.ad)*Math.sin(l)-Math.sin(this.ad)*Math.cos(l)*Math.cos(a)),e=Math.asin(Math.cos(l)*Math.sin(a)/Math.cos(n)),t.x=this.long0-e/this.alfa,r=n,o=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(n/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(o=1),r=t.y,u+=1}while(0===o&&u<15);return u>=15?null:t},names:["Krovak","krovak"]},cn=function(t,n,e,l,a){return t*a-n*Math.sin(2*a)+e*Math.sin(4*a)-l*Math.sin(6*a)},hn=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},dn=function(t){return.375*t*(1+.25*t*(1+.46875*t))},pn=function(t){return.05859375*t*t*(1+.75*t)},gn=function(t){return t*t*t*(35/3072)},mn=function(t,n,e){var l=n*e;return t/Math.sqrt(1-l*l)},bn=function(t){return Math.abs(t)<r?t:t-V(t)*Math.PI},fn=function(t,n,e,l,a){var i,r;i=t/n;for(var o=0;o<15;o++)if(i+=r=(t-(n*i-e*Math.sin(2*i)+l*Math.sin(4*i)-a*Math.sin(6*i)))/(n-2*e*Math.cos(2*i)+4*l*Math.cos(4*i)-6*a*Math.cos(6*i)),Math.abs(r)<=1e-10)return i;return NaN},yn={init:function(){this.sphere||(this.e0=hn(this.es),this.e1=dn(this.es),this.e2=pn(this.es),this.e3=gn(this.es),this.ml0=this.a*cn(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var n,e,l=t.x,a=t.y;if(l=j(l-this.long0),this.sphere)n=this.a*Math.asin(Math.cos(a)*Math.sin(l)),e=this.a*(Math.atan2(Math.tan(a),Math.cos(l))-this.lat0);else{var i=Math.sin(a),r=Math.cos(a),o=mn(this.a,this.e,i),s=Math.tan(a)*Math.tan(a),u=l*Math.cos(a),c=u*u,h=this.es*r*r/(1-this.es);n=o*u*(1-c*s*(1/6-(8-s+8*h)*c/120)),e=this.a*cn(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+o*i/r*c*(.5+(5-s+6*h)*c/24)}return t.x=n+this.x0,t.y=e+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n,e,l=t.x/this.a,a=t.y/this.a;if(this.sphere){var i=a+this.lat0;n=Math.asin(Math.sin(i)*Math.cos(l)),e=Math.atan2(Math.tan(l),Math.cos(i))}else{var o=fn(this.ml0/this.a+a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-r)<=c)return t.x=this.long0,t.y=r,a<0&&(t.y*=-1),t;var s=mn(this.a,this.e,Math.sin(o)),u=s*s*s/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(o),2),d=l*this.a/s,p=d*d;n=o-s*Math.tan(o)/u*d*d*(.5-(1+3*h)*d*d/24),e=d*(1-p*(h/3+(1+3*h)*h*p/15))/Math.cos(o)}return t.x=j(e+this.long0),t.y=bn(n),t},names:["Cassini","Cassini_Soldner","cass"]},vn=function(t,n){var e;return t>1e-7?(1-t*t)*(n/(1-(e=t*n)*e)-.5/t*Math.log((1-e)/(1+e))):2*n},Cn={init:function(){var t,n=Math.abs(this.lat0);if(this.mode=Math.abs(n-r)<c?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<c?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=vn(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var n,e=[];return e[0]=.3333333333333333*t,e[0]+=.17222222222222222*(n=t*t),e[1]=.06388888888888888*n,e[0]+=.10257936507936508*(n*=t),e[1]+=.0664021164021164*n,e[2]=.016415012942191543*n,e}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=vn(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var n,e,l,a,i,o,s,u,h,d,g=t.x,m=t.y;if(g=j(g-this.long0),this.sphere){if(i=Math.sin(m),d=Math.cos(m),l=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((e=this.mode===this.EQUIT?1+d*l:1+this.sinph0*i+this.cosph0*d*l)<=c)return null;n=(e=Math.sqrt(2/e))*d*Math.sin(g),e*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*d*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(m+this.lat0)<c)return null;e=p-.5*m,n=(e=2*(this.mode===this.S_POLE?Math.cos(e):Math.sin(e)))*Math.sin(g),e*=l}}else{switch(s=0,u=0,h=0,l=Math.cos(g),a=Math.sin(g),i=Math.sin(m),o=vn(this.e,i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*u*l;break;case this.EQUIT:h=1+u*l;break;case this.N_POLE:h=r+m,o=this.qp-o;break;case this.S_POLE:h=m-r,o=this.qp+o}if(Math.abs(h)<c)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),e=this.mode===this.OBLIQ?this.ymf*h*(this.cosb1*s-this.sinb1*u*l):(h=Math.sqrt(2/(1+u*l)))*s*this.ymf,n=this.xmf*h*u*a;break;case this.N_POLE:case this.S_POLE:o>=0?(n=(h=Math.sqrt(o))*a,e=l*(this.mode===this.S_POLE?h:-h)):n=e=0}}return t.x=this.a*n+this.x0,t.y=this.a*e+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n,e,l,a,i,o,s,u,h,d,p=t.x/this.a,g=t.y/this.a;if(this.sphere){var m,b=0,f=0;if((e=.5*(m=Math.sqrt(p*p+g*g)))>1)return null;switch(e=2*Math.asin(e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(e),b=Math.cos(e)),this.mode){case this.EQUIT:e=Math.abs(m)<=c?0:Math.asin(g*f/m),p*=f,g=b*m;break;case this.OBLIQ:e=Math.abs(m)<=c?this.lat0:Math.asin(b*this.sinph0+g*f*this.cosph0/m),p*=f*this.cosph0,g=(b-Math.sin(e)*this.sinph0)*m;break;case this.N_POLE:g=-g,e=r-e;break;case this.S_POLE:e-=r}n=0!==g||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(p,g):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(p/=this.dd,g*=this.dd,(o=Math.sqrt(p*p+g*g))<c)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*o/this.rq),l=Math.cos(a),p*=a=Math.sin(a),this.mode===this.OBLIQ?(i=this.qp*(s=l*this.sinb1+g*a*this.cosb1/o),g=o*this.cosb1*l-g*this.sinb1*a):(i=this.qp*(s=g*a/o),g=o*l)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(g=-g),!(i=p*p+g*g))return t.x=this.long0,t.y=this.lat0,t;s=1-i/this.qp,this.mode===this.S_POLE&&(s=-s)}n=Math.atan2(p,g),d=(u=Math.asin(s))+u,e=u+(h=this.apa)[0]*Math.sin(d)+h[1]*Math.sin(d+d)+h[2]*Math.sin(d+d+d)}return t.x=j(this.long0+n),t.y=e,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Sn=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},Mn={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=R(this.e3,this.sin_po,this.cos_po),this.qs1=vn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=R(this.e3,this.sin_po,this.cos_po),this.qs2=vn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=vn(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>c?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var n=t.x,e=t.y;this.sin_phi=Math.sin(e),this.cos_phi=Math.cos(e);var l=vn(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*l)/this.ns0,i=this.ns0*j(n-this.long0),r=a*Math.sin(i)+this.x0,o=this.rh-a*Math.cos(i)+this.y0;return t.x=r,t.y=o,t},inverse:function(t){var n,e,l,a,i;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1),l=0,0!==n&&(l=Math.atan2(e*t.x,e*t.y)),e=n*this.ns0/this.a,i=this.sphere?Math.asin((this.c-e*e)/(2*this.ns0)):this.phi1z(this.e3,(this.c-e*e)/this.ns0),a=j(l/this.ns0+this.long0),t.x=a,t.y=i,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,n){var e,l,a,i,r=Sn(.5*n);if(t<c)return r;for(var o=t*t,s=1;s<=25;s++)if(r+=i=.5*(a=1-(l=t*(e=Math.sin(r)))*l)*a/Math.cos(r)*(n/(1-o)-e/a+.5/t*Math.log((1-l)/(1+l))),Math.abs(i)<=1e-7)return r;return null}},_n={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var n,e,l,a,i,r,o,s=t.y;return l=j(t.x-this.long0),n=Math.sin(s),e=Math.cos(s),a=Math.cos(l),(i=this.sin_p14*n+this.cos_p14*e*a)>0||Math.abs(i)<=c?(r=this.x0+1*this.a*e*Math.sin(l)/i,o=this.y0+1*this.a*(this.cos_p14*n-this.sin_p14*e*a)/i):(r=this.x0+this.infinity_dist*e*Math.sin(l),o=this.y0+this.infinity_dist*(this.cos_p14*n-this.sin_p14*e*a)),t.x=r,t.y=o,t},inverse:function(t){var n,e,l,a,i,r;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(n=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(n,this.rc),e=Math.sin(a),l=Math.cos(a),r=Sn(l*this.sin_p14+t.y*e*this.cos_p14/n),i=Math.atan2(t.x*e,n*this.cos_p14*l-t.y*this.sin_p14*e),i=j(this.long0+i)):(r=this.phic0,i=0),t.x=i,t.y=r,t},names:["gnom"]},Ln={init:function(){this.sphere||(this.k0=R(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var n,e,l=t.y,a=j(t.x-this.long0);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),e=this.y0+this.a*Math.sin(l)/Math.cos(this.lat_ts);else{var i=vn(this.e,Math.sin(l));n=this.x0+this.a*this.k0*a,e=this.y0+this.a*i*.5/this.k0}return t.x=n,t.y=e,t},inverse:function(t){var n,e;return t.x-=this.x0,t.y-=this.y0,this.sphere?(n=j(this.long0+t.x/this.a/Math.cos(this.lat_ts)),e=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(e=function(t,n){var e=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(n)-e)<1e-6)return n<0?-1*r:r;for(var l,a,i,o,s=Math.asin(.5*n),u=0;u<30;u++)if(a=Math.sin(s),i=Math.cos(s),o=t*a,s+=l=Math.pow(1-o*o,2)/(2*i)*(n/(1-t*t)-a/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),Math.abs(l)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),n=j(this.long0+t.x/(this.a*this.k0))),t.x=n,t.y=e,t},names:["cea"]},On={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var n=t.y,e=j(t.x-this.long0),l=bn(n-this.lat0);return t.x=this.x0+this.a*e*this.rc,t.y=this.y0+this.a*l,t},inverse:function(t){var n=t.y;return t.x=j(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=bn(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},An={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hn(this.es),this.e1=dn(this.es),this.e2=pn(this.es),this.e3=gn(this.es),this.ml0=this.a*cn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var n,e,l,a=t.y,i=j(t.x-this.long0);if(l=i*Math.sin(a),this.sphere)Math.abs(a)<=c?(n=this.a*i,e=-1*this.a*this.lat0):(n=this.a*Math.sin(l)/Math.tan(a),e=this.a*(bn(a-this.lat0)+(1-Math.cos(l))/Math.tan(a)));else if(Math.abs(a)<=c)n=this.a*i,e=-1*this.ml0;else{var r=mn(this.a,this.e,Math.sin(a))/Math.tan(a);n=r*Math.sin(l),e=this.a*cn(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+r*(1-Math.cos(l))}return t.x=n+this.x0,t.y=e+this.y0,t},inverse:function(t){var n,e,l,a,i,r,o,s,u;if(l=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=c)n=j(l/this.a+this.long0),e=0;else{var h;for(o=l*l/this.a/this.a+(r=this.lat0+a/this.a)*r,s=r,i=20;i;--i)if(s+=u=-1*(r*(s*(h=Math.tan(s))+1)-s-.5*(s*s+o)*h)/((s-r)/h-1),Math.abs(u)<=c){e=s;break}n=j(this.long0+Math.asin(l*Math.tan(s)/this.a)/Math.sin(e))}else if(Math.abs(a+this.ml0)<=c)e=0,n=j(this.long0+l/this.a);else{var d,p,g,m,b;for(o=l*l/this.a/this.a+(r=(this.ml0+a)/this.a)*r,s=r,i=20;i;--i)if(b=this.e*Math.sin(s),d=Math.sqrt(1-b*b)*Math.tan(s),p=this.a*cn(this.e0,this.e1,this.e2,this.e3,s),g=this.e0-2*this.e1*Math.cos(2*s)+4*this.e2*Math.cos(4*s)-6*this.e3*Math.cos(6*s),s-=u=(r*(d*(m=p/this.a)+1)-m-.5*d*(m*m+o))/(this.es*Math.sin(2*s)*(m*m+o-2*r*m)/(4*d)+(r-m)*(d*g-2/Math.sin(2*s))-g),Math.abs(u)<=c){e=s;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(e),2))*Math.tan(e),n=j(this.long0+Math.asin(l*d/this.a)/Math.sin(e))}return t.x=n,t.y=e,t},names:["Polyconic","poly"]},Tn={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var n,e=(t.y-this.lat0)/i*1e-5,l=t.x-this.long0,a=1,r=0;for(n=1;n<=10;n++)r+=this.A[n]*(a*=e);var o,s=r,u=l,c=1,h=0,d=0,p=0;for(n=1;n<=6;n++)o=h*s+c*u,d=d+this.B_re[n]*(c=c*s-h*u)-this.B_im[n]*(h=o),p=p+this.B_im[n]*c+this.B_re[n]*h;return t.x=p*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var n,e,l=(t.y-this.y0)/this.a,a=(t.x-this.x0)/this.a,r=1,o=0,s=0,u=0;for(n=1;n<=6;n++)e=o*l+r*a,s=s+this.C_re[n]*(r=r*l-o*a)-this.C_im[n]*(o=e),u=u+this.C_im[n]*r+this.C_re[n]*o;for(var c=0;c<this.iterations;c++){var h,d=s,p=u,g=l,m=a;for(n=2;n<=6;n++)h=p*s+d*u,g+=(n-1)*(this.B_re[n]*(d=d*s-p*u)-this.B_im[n]*(p=h)),m+=(n-1)*(this.B_im[n]*d+this.B_re[n]*p);d=1,p=0;var b=this.B_re[1],f=this.B_im[1];for(n=2;n<=6;n++)h=p*s+d*u,b+=n*(this.B_re[n]*(d=d*s-p*u)-this.B_im[n]*(p=h)),f+=n*(this.B_im[n]*d+this.B_re[n]*p);var y=b*b+f*f;s=(g*b+m*f)/y,u=(m*b-g*f)/y}var v=s,C=u,S=1,M=0;for(n=1;n<=9;n++)M+=this.D[n]*(S*=v);var _=this.lat0+M*i*1e5;return t.x=this.long0+C,t.y=_,t},names:["New_Zealand_Map_Grid","nzmg"]},Dn={init:function(){},forward:function(t){var n=t.y,e=j(t.x-this.long0),l=this.x0+this.a*e,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=l,t.y=a,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n=j(this.long0+t.x/this.a),e=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=n,t.y=e,t},names:["Miller_Cylindrical","mill"]},Pn={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=zt(this.es)},forward:function(t){var n,e,l=t.x,a=t.y;if(l=j(l-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(a),r=20;r;--r){var o=(this.m*a+Math.sin(a)-i)/(this.m+Math.cos(a));if(a-=o,Math.abs(o)<c)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;n=this.a*this.C_x*l*(this.m+Math.cos(a)),e=this.a*this.C_y*a}else{var s=Math.sin(a),u=Math.cos(a);e=this.a*Ht(a,s,u,this.en),n=this.a*l*u/Math.sqrt(1-this.es*s*s)}return t.x=n,t.y=e,t},inverse:function(t){var n,e,l,a;return t.x-=this.x0,l=t.x/this.a,t.y-=this.y0,n=t.y/this.a,this.sphere?(n/=this.C_y,l/=this.C_x*(this.m+Math.cos(n)),this.m?n=Sn((this.m*n+Math.sin(n))/this.n):1!==this.n&&(n=Sn(Math.sin(n)/this.n)),l=j(l+this.long0),n=bn(n)):(n=qt(t.y/this.a,this.es,this.en),(a=Math.abs(n))<r?(a=Math.sin(n),e=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(n)),l=j(e)):a-c<r&&(l=this.long0)),t.x=l,t.y=n,t},names:["Sinusoidal","sinu"]},xn={init:function(){},forward:function(t){for(var n=t.y,e=j(t.x-this.long0),l=n,a=Math.PI*Math.sin(n);;){var i=-(l+Math.sin(l)-a)/(1+Math.cos(l));if(l+=i,Math.abs(i)<c)break}l/=2,Math.PI/2-Math.abs(n)<c&&(e=0);var r=.900316316158*this.a*e*Math.cos(l)+this.x0,o=1.4142135623731*this.a*Math.sin(l)+this.y0;return t.x=r,t.y=o,t},inverse:function(t){var n,e;t.x-=this.x0,t.y-=this.y0,e=t.y/(1.4142135623731*this.a),Math.abs(e)>.999999999999&&(e=.999999999999),n=Math.asin(e);var l=j(this.long0+t.x/(.900316316158*this.a*Math.cos(n)));l<-Math.PI&&(l=-Math.PI),l>Math.PI&&(l=Math.PI),e=(2*n+Math.sin(2*n))/Math.PI,Math.abs(e)>1&&(e=1);var a=Math.asin(e);return t.x=l,t.y=a,t},names:["Mollweide","moll"]},wn={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hn(this.es),this.e1=dn(this.es),this.e2=pn(this.es),this.e3=gn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=R(this.e,this.sinphi,this.cosphi),this.ml1=cn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=R(this.e,this.sinphi,this.cosphi),this.ml2=cn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=cn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var n,e=t.x,l=t.y;if(this.sphere)n=this.a*(this.g-l);else{var a=cn(this.e0,this.e1,this.e2,this.e3,l);n=this.a*(this.g-a)}var i=this.ns*j(e-this.long0),r=this.x0+n*Math.sin(i),o=this.y0+this.rh-n*Math.cos(i);return t.x=r,t.y=o,t},inverse:function(t){var n,e,l,a;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1);var i=0;return 0!==e&&(i=Math.atan2(n*t.x,n*t.y)),this.sphere?(a=j(this.long0+i/this.ns),l=bn(this.g-e/this.a),t.x=a,t.y=l,t):(l=fn(this.g-e/this.a,this.e0,this.e1,this.e2,this.e3),a=j(this.long0+i/this.ns),t.x=a,t.y=l,t)},names:["Equidistant_Conic","eqdc"]},kn={init:function(){this.R=this.a},forward:function(t){var n,e,l=t.y,a=j(t.x-this.long0);Math.abs(l)<=c&&(n=this.x0+this.R*a,e=this.y0);var i=Sn(2*Math.abs(l/Math.PI));(Math.abs(a)<=c||Math.abs(Math.abs(l)-r)<=c)&&(n=this.x0,e=l>=0?this.y0+Math.PI*this.R*Math.tan(.5*i):this.y0+Math.PI*this.R*-Math.tan(.5*i));var o=.5*Math.abs(Math.PI/a-a/Math.PI),s=o*o,u=Math.sin(i),h=Math.cos(i),d=h/(u+h-1),p=d*(2/u-1),g=p*p,m=Math.PI*this.R*(o*(d-g)+Math.sqrt(s*(d-g)*(d-g)-(g+s)*(d*d-g)))/(g+s);a<0&&(m=-m),n=this.x0+m;var b=s+d;return m=Math.PI*this.R*(p*b-o*Math.sqrt((g+s)*(s+1)-b*b))/(g+s),e=l>=0?this.y0+m:this.y0-m,t.x=n,t.y=e,t},inverse:function(t){var n,e,l,a,i,r,o,s,u,h,d,p;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=(l=t.x/d)*l+(a=t.y/d)*a,d=3*(a*a/(s=-2*(r=-Math.abs(a)*(1+i))+1+2*a*a+i*i)+(2*(o=r-2*a*a+l*l)*o*o/s/s/s-9*r*o/s/s)/27)/(u=(r-o*o/3/s)/s)/(h=2*Math.sqrt(-u/3)),Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,e=t.y>=0?(-h*Math.cos(p+Math.PI/3)-o/3/s)*Math.PI:-(-h*Math.cos(p+Math.PI/3)-o/3/s)*Math.PI,n=Math.abs(l)<c?this.long0:j(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(l*l-a*a)+i*i))/2/l),t.x=n,t.y=e,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},In={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var n,e,l,a,i,o,s,u,h,d,p,g,m,b,f,y,v,C,S,M,_,L,O=t.x,A=t.y,T=Math.sin(t.y),D=Math.cos(t.y),P=j(O-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=c?(t.x=this.x0+this.a*(r-A)*Math.sin(P),t.y=this.y0-this.a*(r-A)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=c?(t.x=this.x0+this.a*(r+A)*Math.sin(P),t.y=this.y0+this.a*(r+A)*Math.cos(P),t):(C=this.sin_p12*T+this.cos_p12*D*Math.cos(P),v=(y=Math.acos(C))?y/Math.sin(y):1,t.x=this.x0+this.a*v*D*Math.sin(P),t.y=this.y0+this.a*v*(this.cos_p12*T-this.sin_p12*D*Math.cos(P)),t):(n=hn(this.es),e=dn(this.es),l=pn(this.es),a=gn(this.es),Math.abs(this.sin_p12-1)<=c?(i=this.a*cn(n,e,l,a,r),o=this.a*cn(n,e,l,a,A),t.x=this.x0+(i-o)*Math.sin(P),t.y=this.y0-(i-o)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=c?(i=this.a*cn(n,e,l,a,r),o=this.a*cn(n,e,l,a,A),t.x=this.x0+(i+o)*Math.sin(P),t.y=this.y0+(i+o)*Math.cos(P),t):(s=T/D,u=mn(this.a,this.e,this.sin_p12),h=mn(this.a,this.e,T),d=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(h*D)),S=0===(p=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(P)))?Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(p)-Math.PI)<=c?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(P)*Math.cos(d)/Math.sin(p)),g=this.e*this.sin_p12/Math.sqrt(1-this.es),m=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es),t.x=this.x0+(y=u*S*(1-(M=S*S)*(f=m*m)*(1-f)/6+(_=M*S)/8*(b=g*m)*(1-2*f)+(L=_*S)/120*(f*(4-7*f)-3*g*g*(1-7*f))-L*S/48*b))*Math.sin(p),t.y=this.y0+y*Math.cos(p),t))},inverse:function(t){var n,e,l,a,i,o,s,u,h,d,p,g,m,b,f,y,v,C,S,M,_,L,O;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((n=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return e=n/this.a,l=Math.sin(e),a=Math.cos(e),i=this.long0,Math.abs(n)<=c?o=this.lat0:(o=Sn(a*this.sin_p12+t.y*l*this.cos_p12/n),s=Math.abs(this.lat0)-r,i=Math.abs(s)<=c?j(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):j(this.long0+Math.atan2(t.x*l,n*this.cos_p12*a-t.y*this.sin_p12*l))),t.x=i,t.y=o,t}return u=hn(this.es),h=dn(this.es),d=pn(this.es),p=gn(this.es),Math.abs(this.sin_p12-1)<=c?(g=this.a*cn(u,h,d,p,r),n=Math.sqrt(t.x*t.x+t.y*t.y),o=fn((g-n)/this.a,u,h,d,p),i=j(this.long0+Math.atan2(t.x,-1*t.y)),t.x=i,t.y=o,t):Math.abs(this.sin_p12+1)<=c?(g=this.a*cn(u,h,d,p,r),n=Math.sqrt(t.x*t.x+t.y*t.y),o=fn((n-g)/this.a,u,h,d,p),i=j(this.long0+Math.atan2(t.x,t.y)),t.x=i,t.y=o,t):(n=Math.sqrt(t.x*t.x+t.y*t.y),f=Math.atan2(t.x,t.y),m=mn(this.a,this.e,this.sin_p12),y=Math.cos(f),S=3*this.es*(1-(C=-(v=this.e*this.cos_p12*y)*v/(1-this.es)))*this.sin_p12*this.cos_p12*y/(1-this.es),L=1-C*(_=(M=n/m)-C*(1+C)*Math.pow(M,3)/6-S*(1+3*C)*Math.pow(M,4)/24)*_/2-M*_*_*_/6,b=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*y),i=j(this.long0+Math.asin(Math.sin(f)*Math.sin(_)/Math.cos(b))),O=Math.sin(b),o=Math.atan2((O-this.es*L*this.sin_p12)*Math.tan(b),O*(1-this.es)),t.x=i,t.y=o,t)},names:["Azimuthal_Equidistant","aeqd"]},En={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var n,e,l,a,i,r,o,s=t.y;return l=j(t.x-this.long0),n=Math.sin(s),e=Math.cos(s),a=Math.cos(l),((i=this.sin_p14*n+this.cos_p14*e*a)>0||Math.abs(i)<=c)&&(r=1*this.a*e*Math.sin(l),o=this.y0+1*this.a*(this.cos_p14*n-this.sin_p14*e*a)),t.x=r,t.y=o,t},inverse:function(t){var n,e,l,a,i,o,s;return t.x-=this.x0,t.y-=this.y0,n=Math.sqrt(t.x*t.x+t.y*t.y),e=Sn(n/this.a),l=Math.sin(e),a=Math.cos(e),o=this.long0,Math.abs(n)<=c?(s=this.lat0,t.x=o,t.y=s,t):(s=Sn(a*this.sin_p14+t.y*l*this.cos_p14/n),i=Math.abs(this.lat0)-r,Math.abs(i)<=c?(o=j(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=s,t):(o=j(this.long0+Math.atan2(t.x*l,n*this.cos_p14*a-t.y*this.sin_p14*l)),t.x=o,t.y=s,t))},names:["ortho"]},Nn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Fn(t,n,e,l){var a;return t<c?(l.value=Nn.AREA_0,a=0):(a=Math.atan2(n,e),Math.abs(a)<=p?l.value=Nn.AREA_0:a>p&&a<=r+p?(l.value=Nn.AREA_1,a-=r):a>r+p||a<=-(r+p)?(l.value=Nn.AREA_2,a=a>=0?a-m:a+m):(l.value=Nn.AREA_3,a+=r)),a}function Bn(t,n){var e=t+n;return e<-m?e+=g:e>+m&&(e-=g),e}var Un,Rn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=r-p/2?5:this.lat0<=-(r-p/2)?6:Math.abs(this.long0)<=p?1:Math.abs(this.long0)<=r+p?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var n,e,l,a,i,o,s={x:0,y:0},u={value:0};if(t.x-=this.long0,n=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,e=t.x,5===this.face)a=r-n,e>=p&&e<=r+p?(u.value=Nn.AREA_0,l=e-r):e>r+p||e<=-(r+p)?(u.value=Nn.AREA_1,l=e>0?e-m:e+m):e>-(r+p)&&e<=-p?(u.value=Nn.AREA_2,l=e+r):(u.value=Nn.AREA_3,l=e);else if(6===this.face)a=r+n,e>=p&&e<=r+p?(u.value=Nn.AREA_0,l=-e+r):e<p&&e>=-p?(u.value=Nn.AREA_1,l=-e):e<-p&&e>=-(r+p)?(u.value=Nn.AREA_2,l=-e-r):(u.value=Nn.AREA_3,l=e>0?-e+m:-e-m);else{var c,h,d,g,b,f;2===this.face?e=Bn(e,+r):3===this.face?e=Bn(e,+m):4===this.face&&(e=Bn(e,-r)),g=Math.sin(n),b=Math.cos(n),f=Math.sin(e),c=b*Math.cos(e),h=b*f,d=g,1===this.face?l=Fn(a=Math.acos(c),d,h,u):2===this.face?l=Fn(a=Math.acos(h),d,-c,u):3===this.face?l=Fn(a=Math.acos(-c),d,-h,u):4===this.face?l=Fn(a=Math.acos(-h),d,c,u):(a=l=0,u.value=Nn.AREA_0)}return o=Math.atan(12/m*(l+Math.acos(Math.sin(l)*Math.cos(p))-r)),i=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(l))))),u.value===Nn.AREA_1?o+=r:u.value===Nn.AREA_2?o+=m:u.value===Nn.AREA_3&&(o+=1.5*m),s.x=i*Math.cos(o),s.y=i*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var n,e,l,a,i,o,s,u,c,h,d,p,g={lam:0,phi:0},b={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,e=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?b.value=Nn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(b.value=Nn.AREA_1,n-=r):t.x<0&&-t.x>=Math.abs(t.y)?(b.value=Nn.AREA_2,n=n<0?n+m:n-m):(b.value=Nn.AREA_3,n+=r),c=m/12*Math.tan(n),i=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),o=Math.atan(i),(s=1-(l=Math.cos(n))*l*(a=Math.tan(e))*a*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?s=-1:s>1&&(s=1),5===this.face)u=Math.acos(s),g.phi=r-u,g.lam=b.value===Nn.AREA_0?o+r:b.value===Nn.AREA_1?o<0?o+m:o-m:b.value===Nn.AREA_2?o-r:o;else if(6===this.face)u=Math.acos(s),g.phi=u-r,g.lam=b.value===Nn.AREA_0?-o+r:b.value===Nn.AREA_1?-o:b.value===Nn.AREA_2?-o-r:o<0?-o-m:-o+m;else{var f,y,v;c=(f=s)*f,y=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(o))*v)>=1?0:Math.sqrt(1-c),b.value===Nn.AREA_1?(c=y,y=-v,v=c):b.value===Nn.AREA_2?(y=-y,v=-v):b.value===Nn.AREA_3&&(c=y,y=v,v=-c),2===this.face?(c=f,f=-y,y=c):3===this.face?(f=-f,y=-y):4===this.face&&(c=f,f=y,y=-c),g.phi=Math.acos(-v)-r,g.lam=Math.atan2(y,f),2===this.face?g.lam=Bn(g.lam,-r):3===this.face?g.lam=Bn(g.lam,-m):4===this.face&&(g.lam=Bn(g.lam,+r))}return 0!==this.es&&(h=g.phi<0?1:0,d=Math.tan(g.phi),p=this.b/Math.sqrt(d*d+this.one_minus_f_squared),g.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),h&&(g.phi=-g.phi)),g.lam+=this.long0,t.x=g.lam,t.y=g.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Vn=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],jn=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Gn=d/5,Yn=1/Gn,Wn=function(t,n){return t[0]+n*(t[1]+n*(t[2]+n*t[3]))},zn={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var n=j(t.x-this.long0),e=Math.abs(t.y),l=Math.floor(e*Gn);l<0?l=0:l>=18&&(l=17);var a={x:Wn(Vn[l],e=d*(e-Yn*l))*n,y:Wn(jn[l],e)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*.8487+this.x0,a.y=a.y*this.a*1.3523+this.y0,a},inverse:function(t){var n={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(n.y>=1)n.x/=Vn[18][0],n.y=t.y<0?-r:r;else{var e=Math.floor(18*n.y);for(e<0?e=0:e>=18&&(e=17);;)if(jn[e][0]>n.y)--e;else{if(!(jn[e+1][0]<=n.y))break;++e}var l=jn[e],a=5*(n.y-l[0])/(jn[e+1][0]-l[0]);a=function(t,n,e,l){for(var i=a;l;--l){var r=t(i);if(i-=r,Math.abs(r)<e)break}return i}(function(t){return(Wn(l,t)-n.y)/function(t,n){return t[1]+n*(2*t[2]+3*n*t[3])}(l,t)},0,c,100),n.x/=Wn(Vn[e],a),n.y=(5*e+a)*h,t.y<0&&(n.y=-n.y)}return n.x=j(n.x+this.long0),n},names:["Robinson","robin"]},Hn={init:function(){this.name="geocent"},forward:function(t){return ut(t,this.es,this.a)},inverse:function(t){return ct(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},qn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},Kn={init:function(){if(Object.keys(qn).forEach((function(t){if(void 0===this[t])this[t]=qn[t].def;else{if(qn[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);qn[t].num&&(this[t]=parseFloat(this[t]))}qn[t].degrees&&(this[t]=this[t]*h)}).bind(this)),Math.abs(Math.abs(this.lat0)-r)<c?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<c?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,n=this.azi;this.cg=Math.cos(n),this.sg=Math.sin(n),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var n,e,l,a,i=Math.sin(t.y),r=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case 3:e=this.sinph0*i+this.cosph0*r*o;break;case 2:e=r*o;break;case 1:e=-i;break;case 0:e=i}switch(n=(e=this.pn1/(this.p-e))*r*Math.sin(t.x),this.mode){case 3:e*=this.cosph0*i-this.sinph0*r*o;break;case 2:e*=i;break;case 0:e*=-r*o;break;case 1:e*=r*o}return n=(n*this.cg-e*this.sg)*this.cw*(a=1/((l=e*this.cg+n*this.sg)*this.sw*this.h1+this.cw)),e=l*a,t.x=n*this.a,t.y=e*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var n,e,l,a={x:t.x,y:t.y};t.x=(n=this.pn1*t.x*(l=1/(this.pn1-t.y*this.sw)))*this.cg+(e=this.pn1*t.y*this.cw*l)*this.sg,t.y=e*this.cg-n*this.sg;var i=Jt(t.x,t.y);if(Math.abs(i)<c)a.x=0,a.y=t.y;else{var r,o;switch(o=1-i*i*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/i+i/this.pn1),r=Math.sqrt(1-o*o),this.mode){case 3:a.y=Math.asin(r*this.sinph0+t.y*o*this.cosph0/i),t.y=(r-this.sinph0*Math.sin(a.y))*i,t.x*=o*this.cosph0;break;case 2:a.y=Math.asin(t.y*o/i),t.y=r*i,t.x*=o;break;case 0:a.y=Math.asin(r),t.y=-t.y;break;case 1:a.y=-Math.asin(r)}a.x=Math.atan2(t.x,t.y)}return t.x=a.x+this.long0,t.y=a.y,t},names:["Tilted_Perspective","tpers"]};Lt.defaultDatum="WGS84",Lt.Proj=st,Lt.WGS84=new Lt.Proj("WGS84"),Lt.Point=Yt,Lt.toPoint=ft,Lt.defs=E,Lt.nadgrid=function(t,n){var e=new DataView(n),l=function(t){var n=t.getInt32(8,!1);return 11!==n&&(11!==(n=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(e),a=function(t,n){return{nFields:t.getInt32(8,n),nSubgridFields:t.getInt32(24,n),nSubgrids:t.getInt32(40,n),shiftType:lt(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,n),fromSemiMinorAxis:t.getFloat64(136,n),toSemiMajorAxis:t.getFloat64(152,n),toSemiMinorAxis:t.getFloat64(168,n)}}(e,l);a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var i={header:a,subgrids:function(t,n,e){for(var l=[],a=0;a<n.nSubgrids;a++){var i=it(t,176,e),r=rt(t,176,i,e),o=Math.round(1+(i.upperLongitude-i.lowerLongitude)/i.longitudeInterval),s=Math.round(1+(i.upperLatitude-i.lowerLatitude)/i.latitudeInterval);l.push({ll:[et(i.lowerLongitude),et(i.lowerLatitude)],del:[et(i.longitudeInterval),et(i.latitudeInterval)],lim:[o,s],count:i.gridNodeCount,cvs:at(r)})}return l}(e,a,l)};return tt[t]=i,i},Lt.transform=Ct,Lt.mgrs=It,Lt.version="__VERSION__",(Un=Lt).Proj.projections.add(Kt),Un.Proj.projections.add(Zt),Un.Proj.projections.add(tn),Un.Proj.projections.add(ln),Un.Proj.projections.add(an),Un.Proj.projections.add(rn),Un.Proj.projections.add(on),Un.Proj.projections.add(sn),Un.Proj.projections.add(un),Un.Proj.projections.add(yn),Un.Proj.projections.add(Cn),Un.Proj.projections.add(Mn),Un.Proj.projections.add(_n),Un.Proj.projections.add(Ln),Un.Proj.projections.add(On),Un.Proj.projections.add(An),Un.Proj.projections.add(Tn),Un.Proj.projections.add(Dn),Un.Proj.projections.add(Pn),Un.Proj.projections.add(xn),Un.Proj.projections.add(wn),Un.Proj.projections.add(kn),Un.Proj.projections.add(In),Un.Proj.projections.add(En),Un.Proj.projections.add(Rn),Un.Proj.projections.add(zn),Un.Proj.projections.add(Hn),Un.Proj.projections.add(Kn),n.default=Lt},p8uC:function(t,n,e){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},"qMe+":function(t,n,e){"use strict";var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t,n){for(var e,a,i,r,o,s,u,c="",h=0;h<t.length;)r=(e=t.charCodeAt(h++))>>2,o=(3&e)<<4|(a=t.charCodeAt(h++))>>4,s=(15&a)<<2|(i=t.charCodeAt(h++))>>6,u=63&i,isNaN(a)?s=u=64:isNaN(i)&&(u=64),c=c+l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(u);return c},n.decode=function(t,n){var e,a,i,r,o,s,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)i=l.indexOf(t.charAt(c++)),e=(15&(r=l.indexOf(t.charAt(c++))))<<4|(o=l.indexOf(t.charAt(c++)))>>2,a=(3&o)<<6|(s=l.indexOf(t.charAt(c++))),u+=String.fromCharCode(i<<2|r>>4),64!=o&&(u+=String.fromCharCode(e)),64!=s&&(u+=String.fromCharCode(a));return u}},tMII:function(t,n,e){"use strict";var l=e("dBNe"),a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,n){if(void 0===t||!t.length)return 0;var e="string"!==l.getTypeOf(t);void 0===n&&(n=0);var i=0;n^=-1;for(var r=0,o=t.length;r<o;r++)i=e?t[r]:t.charCodeAt(r),n=n>>>8^a[255&(n^i)];return-1^n}},u9gk:function(t,n){!function(t){function n(l){if(e[l])return e[l].exports;var a=e[l]={i:l,l:!1,exports:{}};return t[l].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,l){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:l})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/dist/",n(n.s=4)}([function(t,n,e){"use strict";function l(t,n,e){if(!c(e=e||{}))throw new Error("options is invalid");var l=e.bbox,a=e.id;if(void 0===t)throw new Error("geometry is required");if(n&&n.constructor!==Object)throw new Error("properties must be an Object");l&&h(l),a&&d(a);var i={type:"Feature"};return a&&(i.id=a),l&&(i.bbox=l),i.properties=n||{},i.geometry=t,i}function a(t,n,e){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!u(t[0])||!u(t[1]))throw new Error("coordinates must contain numbers");return l({type:"Point",coordinates:t},n,e)}function i(t,n,e){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!u(t[0][1])||!u(t[0][1]))throw new Error("coordinates must contain numbers");return l({type:"LineString",coordinates:t},n,e)}function r(t,n){if(!c(n=n||{}))throw new Error("options is invalid");var e=n.bbox,l=n.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");e&&h(e),l&&d(l);var a={type:"FeatureCollection"};return l&&(a.id=l),e&&(a.bbox=e),a.features=t,a}function o(t,n){if(null==t)throw new Error("radians is required");if(n&&"string"!=typeof n)throw new Error("units must be a string");var e=p[n||"kilometers"];if(!e)throw new Error(n+" units is invalid");return t*e}function s(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function u(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function c(t){return!!t&&t.constructor===Object}function h(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!u(t))throw new Error("bbox must only contain numbers")})}function d(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}e.d(n,"b",function(){return l}),e.d(n,"g",function(){return a}),e.d(n,"f",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"h",function(){return o}),e.d(n,"a",function(){return s}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return c});var p={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325}},function(t,n,e){"use strict";function l(t,n,e){if(null!==t)for(var a,i,r,o,s,u,c,h,d=0,p=0,g=t.type,m="FeatureCollection"===g,b="Feature"===g,f=m?t.features.length:1,y=0;y<f;y++){s=(h=!!(c=m?t.features[y].geometry:b?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<s;v++){var C=0,S=0;if(null!==(o=h?c.geometries[v]:c)){u=o.coordinates;var M=o.type;switch(d=!e||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":if(!1===n(u,p,y,C,S))return!1;p++,C++;break;case"LineString":case"MultiPoint":for(a=0;a<u.length;a++){if(!1===n(u[a],p,y,C,S))return!1;p++,"MultiPoint"===M&&C++}"LineString"===M&&C++;break;case"Polygon":case"MultiLineString":for(a=0;a<u.length;a++){for(i=0;i<u[a].length-d;i++){if(!1===n(u[a][i],p,y,C,S))return!1;p++}"MultiLineString"===M&&C++,"Polygon"===M&&S++}"Polygon"===M&&C++;break;case"MultiPolygon":for(a=0;a<u.length;a++){for("MultiPolygon"===M&&(S=0),i=0;i<u[a].length;i++){for(r=0;r<u[a][i].length-d;r++){if(!1===n(u[a][i][r],p,y,C,S))return!1;p++}S++}C++}break;case"GeometryCollection":for(a=0;a<o.geometries.length;a++)if(!1===l(o.geometries[a],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(t,n){if("Feature"===t.type)n(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==n(t.features[e],e);e++);}function i(t,n){var e,l,a,i,r,o,s,u,c,h,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,m=p?t.features.length:1;for(e=0;e<m;e++){for(u=p?t.features[e].properties:g?t.properties:{},c=p?t.features[e].bbox:g?t.bbox:void 0,h=p?t.features[e].id:g?t.id:void 0,r=(s=!!(o=p?t.features[e].geometry:g?t.geometry:t)&&"GeometryCollection"===o.type)?o.geometries.length:1,a=0;a<r;a++)if(null!==(i=s?o.geometries[a]:o))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(i,d,u,c,h))return!1;break;case"GeometryCollection":for(l=0;l<i.geometries.length;l++)if(!1===n(i.geometries[l],d,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,d,u,c,h))return!1;d++}}function r(t,n,e){var l=e;return i(t,function(t,a,i,r,o){l=0===a&&void 0===e?t:n(l,t,a,i,r,o)}),l}function o(t,n){!function(t,n){i(t,function(t,e,l,a,i){var r,o=null===t?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return!1!==n(Object(u.b)(t,l,{bbox:a,id:i}),e,0)&&void 0}switch(o){case"MultiPoint":r="Point";break;case"MultiLineString":r="LineString";break;case"MultiPolygon":r="Polygon"}for(var s=0;s<t.coordinates.length;s++){var c={type:r,coordinates:t.coordinates[s]};if(!1===n(Object(u.b)(c,l),e,s))return!1}})}(t,function(t,e,a){var i=0;if(t.geometry){var r,o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o)return!1!==l(t,function(l,o,s,c,h){if(void 0!==r){var d=Object(u.f)([r,l],t.properties);if(!1===n(d,e,a,h,i))return!1;i++,r=l}else r=l})&&void 0}})}function s(t,n,e){var l=e,a=!1;return o(t,function(t,i,r,o,s){l=!1===a&&void 0===e?t:n(l,t,i,r,o,s),a=!0}),l}e.d(n,"a",function(){return l}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return s});var u=e(0)},function(t,n,e){"use strict";var l=e(3),a=e(0);n.a=function(t,n,e){if(e=e||{},!Object(a.e)(e))throw new Error("options is invalid");var i=e.units,r=Object(l.a)(t),o=Object(l.a)(n),s=Object(a.a)(o[1]-r[1]),u=Object(a.a)(o[0]-r[0]),c=Object(a.a)(r[1]),h=Object(a.a)(o[1]),d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(h);return Object(a.h)(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),i)}},function(t,n,e){"use strict";function l(t){if(!t)throw new Error("coord is required");if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates;if(Array.isArray(t)&&t.length>=2&&void 0===t[0].length&&void 0===t[1].length)return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function a(t){if(!t)throw new Error("coords is required");if("Feature"===t.type&&null!==t.geometry)return t.geometry.coordinates;if(t.coordinates)return t.coordinates;if(Array.isArray(t))return t;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}e.d(n,"a",function(){return l}),e.d(n,"b",function(){return a}),e(0)},function(t,n,e){t.exports=e(5)},function(t,n,e){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}var a=l(e(6));e(13);var i=l(e(14)),r=l(e(15)),o=l(e(18));L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{position:"topleft",createButton:!0,measureUnit:"meters",measureArea:!1},getMeasureUnit:function(){return i.default[this.options.measureUnit]},initialize:function(t){L.setOptions(this,t)},onAdd:function(t){return this.measures=[],this._map=t,this._measureArea=this.options.measureArea,this._oldCursor=this._map._container.style.cursor,this._layer=L.layerGroup().addTo(this._map),this._container=L.DomUtil.create("div",this._className+" leaflet-bar"),this.options.createButton?this._createButton("&#8674;","Measure","leaflet-control-measure leaflet-bar-part leaflet-bar-part-top-and-bottom",this._container,this.toggleMeasure,this):this._container=L.DomUtil.create("div",this._className+"-disabled"),this._container},onRemove:function(t){this._clear(),this._layer.clearLayers(),t.removeLayer(this._layer)},_createButton:function(t,n,e,l,a,i){var r=L.DomUtil.create("a",e,l);return r.innerHTML=t,r.href="#",r.title=n,L.DomEvent.on(r,"click",L.DomEvent.stopPropagation).on(r,"click",L.DomEvent.preventDefault).on(r,"click",a,i).on(r,"dblclick",L.DomEvent.stopPropagation),r},_createTooltip:function(t,n){var e=L.divIcon({className:"leaflet-measure-tooltip",iconAnchor:[-5,-5]}),l=L.marker(t,{icon:e,clickable:!1});return n.addLayer(l),l},setMeasureArea:function(t){this._measureArea=t},startMeasuring:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{measureArea:!1,measurePoint:!1};this._measuring?this._finishPath():this._measuring=!0,this._points=[],this._clear(),this._layer.clearLayers(),"measureArea"in t&&this.setMeasureArea(t.measureArea),this._map._container.style.cursor="crosshair",L.DomUtil.addClass(this._container,"leaflet-control-measure-on"),this._doubleClickZoom=this._map.doubleClickZoom.enabled(),this._map.doubleClickZoom.disable(),t.measurePoint?L.DomEvent.on(this._map,"click",this._pointMeasure,this):L.DomEvent.on(this._map,"mousemove",this._mouseMove,this).on(this._map,"click",this._mouseClick,this).on(this._map,"dblclick",this._finishPath,this).on(document,"keydown",this._onKeyDown,this),this._map.fire("measure:measurestart",{measureArea:t.measureArea})},_pointMeasure:function(t){new L.Marker(t.latlng).addTo(this._layer),this._tooltipTemp=this._createTooltip(t.latlng,this._layer);var n="Lat : "+this._roundValue(t.latlng.lat)+", Long : "+this._roundValue(t.latlng.lng);this._tooltipTemp._icon.innerHTML=n,this._map.fire("measure:point",t.latlng)},stopMeasuring:function(){this._measuring&&this._finishPath(),this._measuring=!1,this._map._container.style.cursor=this._oldCursor,L.DomUtil.removeClass(this._container,"leaflet-control-measure-on"),L.DomEvent.off(document,"keydown",this._onKeyDown,this).off(this._map,"mousemove",this._mouseMove,this).off(this._map,"click",this._mouseClick,this).off(this._map,"dblclick",this._mouseClick,this).off(this._map,"click",this._pointMeasure,this),this._map.fire("measure:measurestop"),this._doubleClickZoom&&this._map.doubleClickZoom.enable(),this._layer&&this._layer.clearLayers(),this._restartPath()},toggleMeasure:function(){this._measuring=!this._measuring,this._measuring?this.startMeasuring():this.stopMeasuring()},_mouseMovePath:function(t){if(!this._layerPathTemp&&this._lastPoint)this._layerPathTemp=L.polyline([this._lastPoint,t.latlng],o.default.measurePathTemp).addTo(this._layer),this._tooltipTemp=this._createTooltip(t.latlng,this._layer);else{var n=this._layerPathTemp.getLatLngs();this._lastPoint&&n.pop(),this._layerPathTemp.setLatLngs([this._lastPoint,t.latlng])}if(this._tooltipTemp&&!this._measureArea){this._setTooltipPosition(this._tooltipTemp,t.latlng);var e=t.latlng.distanceTo(this._lastPoint),l=0;this._layerPath&&(l=(0,r.default)(this._layerPath.getLayers()[0]._latlngs).length),this.updateTooltipDistance(this._tooltipTemp,this._roundValue(l+e),this._roundValue(e))}},_mouseMoveArea:function(t){if(this._layerAreaTemp){var n=this._points.slice(0);if(n.push(t.latlng),this._layerAreaTemp.getLayers()[0].setLatLngs(n),this._tooltipTemp){this._setTooltipPosition(this._tooltipTemp,t.latlng);var e=(0,r.default)(n,!0),l=this.measureToUnits(e);this.updateTooltipArea(this._tooltipTemp,l.area)}}},_mouseMove:function(t){t.latlng&&this._lastPoint&&(this._measureArea?(this._mouseMoveArea(t),this._mouseMovePath(t)):this._mouseMovePath(t))},_mouseClickPath:function(t){if(this._lastPoint&&!this._layerPath&&(this._layerPath=L.layerGroup(),this._layer.addLayer(this._layerPath),this._layerPath.addLayer(L.polyline([this._lastPoint],o.default.measurePath))),this._layerPath){var n=this._layerPath.getLayers()[0];if(this._measureArea)n.addLatLng(t.latlng);else{var e=(0,r.default)(n._latlngs).length;n.addLatLng(t.latlng);var l=(0,r.default)(n._latlngs).length,a=l-e,i=this._createTooltip(t.latlng,this._layerPath);l=this._roundValue(l),a=this._roundValue(a),this.updateTooltipDistance(i,l,a)}}},_mouseClickArea:function(t){this._layerAreaTemp||2!=this._points.length||(this._layerAreaTemp=L.layerGroup(),this._layer.addLayer(this._layerAreaTemp),L.polygon(this._points,o.default.measureAreaTemp).addTo(this._layerAreaTemp)),this._measureArea&&this._layerAreaTemp&&this._points.length>3&&this._layerAreaTemp.getLayers()[0].addLatLng(t.latlng),!this._measureArea&&this._layerPath&&this._createTooltip(t.latlng,this._layer)},_mouseClick:function(t){if(t.latlng){this._points.push(t.latlng),this._measureArea?(this._mouseClickPath(t),this._mouseClickArea(t)):this._mouseClickPath(t),this._lastCircle&&this._layer.removeLayer(this._lastCircle);var n=o.default.lastCircle;n.clickable=!!this._lastCircle,this._lastCircle=new L.CircleMarker(t.latlng,n).addTo(this._layer),this._lastCircle.on("click",function(){this._finishPath()},this),this._lastPoint=t.latlng}},_finishPath:function(){if(this._lastCircle&&this._layer.removeLayer(this._lastCircle),this._tooltipTemp&&this._layer.removeLayer(this._tooltipTemp),this._layerPathTemp&&this._layer.removeLayer(this._layerPathTemp),this._layerAreaTemp){this._layer.removeLayer(this._layerPath),this._layer.removeLayer(this._layerAreaTemp);var t=null;if(this._points.length>2){t=L.layerGroup().addTo(this._layer);var n=L.polygon(this._points,o.default.measureArea).addTo(t),e=(0,a.default)(n.toGeoJSON()),l=L.latLng(e.geometry.coordinates.slice(0).reverse()),i=this._createTooltip(l,t).addTo(this._layer),s=(0,r.default)(this._points,!0),u=this.measureToUnits(s);this.updateTooltipArea(i,u.area);var c=Object.assign({layer:t,type:"area"},u);this.measures.push(c),c.layer.on("remove",this._removeMeasure,this),this._map.fire("measure:finishedpath",{measure:c})}}else if(this._layerPath){var h=this.measureToUnits((0,r.default)(this._points)),d=Object.assign({layer:this._layerPath,type:"path"},h);d.layer.on("remove",this._removeMeasure,this),this.measures.push(d),this._map.fire("measure:finishedpath",{measure:d})}this._restartPath()},_removeMeasure:function(t){var n=void 0;for(n in this.measures)this.measures[n].layer==t.target&&this.measures.splice(n,1)},_restartPath:function(){this._points=[],this._tooltipTemp=void 0,this._lastCircle=void 0,this._lastPoint=void 0,this._layerPath=void 0,this._layerPathTemp=void 0,this._layerAreaTemp=void 0},_clear:function(){this._lastCircle&&this._layer.removeLayer(this._lastCircle),this._tooltip&&this._layer.removeLayer(this._tooltip),this._layer&&this._layerPathTemp&&this._layer.removeLayer(this._layerPathTemp),this._layer&&this._layerAreaTemp&&this._layer.removeLayer(this._layerAreaTemp),this._restartPath()},_setTooltipPosition:function(t,n){t.setLatLng(n)},updateTooltipArea:function(t,n){var e='<div class="leaflet-measure-tooltip-total">';e+=n+" sq "+this.getMeasureUnit().display,t._icon.innerHTML=e+="</div>"},updateTooltipDistance:function(t,n,e){var l=this.getMeasureUnit().display,a='<div class="leaflet-measure-tooltip-total">';a+=" "+n+" "+l+"</div>",e>0&&n!=e&&(a+='<div class="leaflet-measure-tooltip-difference">(+',a+=e+" "+l+")</div>"),t._icon.innerHTML=a},measureToUnits:function(t){var n=this.getMeasureUnit(),e=this._roundValue(t.length*n.factor),l=null;return t.area&&(l=this._roundValue(t.area*n.factor)),{length_ori:t.length,area_ori:t.area,units:this.options.measureUnit,units_desc:n.display,length:e,area:l}},_roundValue:function(t){var n=this.getMeasureUnit().decimals;return t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})},_onKeyDown:function(t){27==t.keyCode&&(this._lastPoint?this._finishPath():this.stopMeasuring())}}),L.control.measure=function(t){return new L.Control.Measure(t)}},function(t,n,e){"use strict";function l(t,n,e,l,a,i){return Math.sqrt((a-e)*(a-e)+(i-l)*(i-l))===Math.sqrt((t-e)*(t-e)+(n-l)*(n-l))+Math.sqrt((a-t)*(a-t)+(i-n)*(i-n))}Object.defineProperty(n,"__esModule",{value:!0});var a=e(7),i=e(8),r=e(10),o=e(12),s=e(0);n.default=function(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?Object(s.c)([Object(s.b)(t)]):Object(s.c)([t]):t}(t),e=Object(i.a)(n),u=!1,c=0;!u&&c<n.features.length;){var h,d=n.features[c].geometry,p=!1;if("Point"===d.type)e.geometry.coordinates[0]===d.coordinates[0]&&e.geometry.coordinates[1]===d.coordinates[1]&&(u=!0);else if("MultiPoint"===d.type){var g=!1;for(h=0;!g&&h<d.coordinates.length;)e.geometry.coordinates[0]===d.coordinates[h][0]&&e.geometry.coordinates[1]===d.coordinates[h][1]&&(u=!0,g=!0),h++}else if("LineString"===d.type)for(h=0;!p&&h<d.coordinates.length-1;)l(e.geometry.coordinates[0],e.geometry.coordinates[1],d.coordinates[h][0],d.coordinates[h][1],d.coordinates[h+1][0],d.coordinates[h+1][1])&&(p=!0,u=!0),h++;else if("MultiLineString"===d.type)for(var m=0;m<d.coordinates.length;){p=!1,h=0;for(var b=d.coordinates[m];!p&&h<b.length-1;)l(e.geometry.coordinates[0],e.geometry.coordinates[1],b[h][0],b[h][1],b[h+1][0],b[h+1][1])&&(p=!0,u=!0),h++;m++}else"Polygon"!==d.type&&"MultiPolygon"!==d.type||Object(o.a)(e,d)&&(u=!0);c++}if(u)return e;var f=Object(s.c)([]);for(c=0;c<n.features.length;c++)f.features=f.features.concat(Object(a.a)(n.features[c]).features);return Object(s.g)(Object(r.a)(e,f).geometry.coordinates)}},function(t,n,e){"use strict";var l=e(1),a=e(0);n.a=function(t){var n=[];return"FeatureCollection"===t.type?Object(l.b)(t,function(t){Object(l.a)(t,function(e){n.push(Object(a.g)(e,t.properties))})}):Object(l.a)(t,function(e){n.push(Object(a.g)(e,t.properties))}),Object(a.c)(n)}},function(t,n,e){"use strict";var l=e(9),a=e(0);n.a=function(t,n){if(n=n||{},!Object(a.e)(n))throw new Error("options is invalid");var e=n.properties;if(!t)throw new Error("geojson is required");var i=Object(l.a)(t),r=(i[0]+i[2])/2,o=(i[1]+i[3])/2;return Object(a.g)([r,o],e)}},function(t,n,e){"use strict";var l=e(1);n.a=function(t){var n=[1/0,1/0,-1/0,-1/0];return Object(l.a)(t,function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])}),n}},function(t,n,e){"use strict";var l=e(11),a=e(2),i=e(1);n.a=function(t,n){if(!t)throw new Error("targetPoint is required");if(!n)throw new Error("points is required");var e,r=1/0;return Object(i.b)(n,function(n,i){var o=Object(a.a)(t,n);o<r&&((e=Object(l.a)(n)).properties.featureIndex=i,e.properties.distanceToPoint=o,r=o)}),e}},function(t,n,e){"use strict";function l(t){var n={type:"Feature"};return Object.keys(t).forEach(function(e){switch(e){case"type":case"properties":case"geometry":return;default:n[e]=t[e]}}),n.properties=function t(n){var e={};return n?(Object.keys(n).forEach(function(l){var a=n[l];e[l]="object"==typeof a?null===a?null:a.length?a.map(function(t){return t}):t(a):a}),e):e}(t.properties),n.geometry=a(t.geometry),n}function a(t){var n={type:t.type};return t.bbox&&(n.bbox=t.bbox),"GeometryCollection"===t.type?(n.geometries=t.geometries.map(function(t){return a(t)}),n):(n.coordinates=function t(n){return"object"!=typeof n[0]?n.slice():n.map(function(n){return t(n)})}(t.coordinates),n)}n.a=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return l(t);case"FeatureCollection":return function(t){var n={type:"FeatureCollection"};return Object.keys(t).forEach(function(e){switch(e){case"type":case"features":return;default:n[e]=t[e]}}),n.features=t.features.map(function(t){return l(t)}),n}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return a(t);default:throw new Error("unknown GeoJSON type")}}},function(t,n,e){"use strict";function l(t,n,e){var l=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var a=0,i=n.length-1;a<n.length;i=a++){var r=n[a][0],o=n[a][1],s=n[i][0],u=n[i][1];if(t[1]*(r-s)+o*(s-t[0])+u*(t[0]-r)==0&&(r-t[0])*(s-t[0])<=0&&(o-t[1])*(u-t[1])<=0)return!e;o>t[1]!=u>t[1]&&t[0]<(s-r)*(t[1]-o)/(u-o)+r&&(l=!l)}return l}var a=e(3);n.a=function(t,n,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var i=e.ignoreBoundary;if(!t)throw new Error("point is required");if(!n)throw new Error("polygon is required");var r=Object(a.a)(t),o=Object(a.b)(n),s=n.bbox;if(s&&0==(s[0]<=r[0]&&s[1]<=r[1]&&s[2]>=r[0]&&s[3]>=r[1]))return!1;"Polygon"===(n.geometry?n.geometry.type:n.type)&&(o=[o]);for(var u=0,c=!1;u<o.length&&!c;u++)if(l(r,o[u][0],i)){for(var h=!1,d=1;d<o[u].length&&!h;)l(r,o[u][d],!i)&&(h=!0),d++;h||(c=!0)}return c}},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:2},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:2},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:2},sqmeters:{factor:1,display:"sqmeters",decimals:2},sqmiles:{factor:3.86102e-7,display:"sqmiles",decimals:2}}},function(t,n,e){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.map(function(t){return[t.lat,t.lng]}),l=L.polyline(e);n&&l.addLatLng(t[0]);var r=1e3*(0,a.default)(l.toGeoJSON(),{units:"kilometers"}),o=null;if(n){var s=L.polygon(e);o=(0,i.default)(s.toGeoJSON())}return{length:r,area:o}};var a=l(e(16)),i=l(e(17))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e(2),a=e(1),i=e(0);n.default=function(t,n){if(n=n||{},!Object(i.e)(n))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return Object(a.d)(t,function(t,e){var a=e.geometry.coordinates;return t+Object(l.a)(a[0],a[1],n)},0)}},function(t,n,e){"use strict";function l(t){var n=0;if(t&&t.length>0){n+=Math.abs(a(t[0]));for(var e=1;e<t.length;e++)n-=Math.abs(a(t[e]))}return n}function a(t){var n,e,l,a,r,s,u=0,c=t.length;if(c>2){for(s=0;s<c;s++)s===c-2?(l=c-2,a=c-1,r=0):s===c-1?(l=c-1,a=0,r=1):(l=s,a=s+1,r=s+2),n=t[l],e=t[a],u+=(i(t[r][0])-i(n[0]))*Math.sin(i(e[1]));u=u*o*o/2}return u}function i(t){return t*Math.PI/180}Object.defineProperty(n,"__esModule",{value:!0});var r=e(1),o=6378137;n.default=function(t){return Object(r.c)(t,function(t,n){return t+function t(n){var e,a=0;switch(n.type){case"Polygon":return l(n.coordinates);case"MultiPolygon":for(e=0;e<n.coordinates.length;e++)a+=l(n.coordinates[e]);return a;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<n.geometries.length;e++)a+=t(n.geometries[e]);return a}}(n)},0)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={measurePathTemp:{color:"black",weight:2,clickable:!1,dashArray:"6,3",fill:!1},measurePath:{clickable:!1,color:"black",weight:2,opacity:1,fill:!1},measureAreaTemp:{color:"black",weight:0,opacity:0,fill:!0,fillOpacity:.3,clickable:!1},measureArea:{color:"black",weight:2,opacity:1,fill:!0,fillOpacity:.3,clickable:!1},lastCircle:{color:"orange",opacity:1,weight:1,fill:!0,fillOpacity:.5,radius:8,bubblingMouseEvents:!1}}}])},"vn/o":function(t,n,e){"use strict";var l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(t,n){return Object.prototype.hasOwnProperty.call(t,n)}n.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var l in e)a(e,l)&&(t[l]=e[l])}}return t},n.shrinkBuf=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};var i={arraySet:function(t,n,e,l,a){if(n.subarray&&t.subarray)t.set(n.subarray(e,e+l),a);else for(var i=0;i<l;i++)t[a+i]=n[e+i]},flattenChunks:function(t){var n,e,l,a,i,r;for(l=0,n=0,e=t.length;n<e;n++)l+=t[n].length;for(r=new Uint8Array(l),a=0,n=0,e=t.length;n<e;n++)r.set(i=t[n],a),a+=i.length;return r}},r={arraySet:function(t,n,e,l,a){for(var i=0;i<l;i++)t[a+i]=n[e+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(l)},w3eQ:function(t,n,e){e("AA26");var l=e("fXKp").StringDecoder;function a(t){var n=new l;return(n.write(t)+n.end()).replace(/\0/g,"").trim()}t.exports=function t(n,e){if(!n)return a;try{new TextDecoder(n.trim())}catch(r){var l=i.exec(n);return l&&!e?t("windows-"+l[1],!0):a}return function(t){var e=new TextDecoder(n);return(e.decode(t,{stream:!0})+e.decode()).replace(/\0/g,"").trim()}};var i=/^(?:ANSI\s)?(\d+)$/m},yDR0:function(t,n,e){"use strict";t.exports=function(t,n,e,l){for(var a=65535&t|0,i=t>>>16&65535|0,r=0;0!==e;){e-=r=e>2e3?2e3:e;do{i=i+(a=a+n[l++]|0)|0}while(--r);a%=65521,i%=65521}return a|i<<16|0}},ybsz:function(t,n,e){"use strict";var l=e("7irK"),a=e("dBNe"),i=e("CzIQ"),r=e("a5XB"),o=e("Dyft");function s(t,n){this.options=t,this.loadOptions=n}s.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,n,e){return function(){var l=t.index;t.setIndex(n);var a=t.readData(e);return t.setIndex(l),a}},prepareContent:function(t,n,e,l,i){return function(){var t=a.transformTo(l.uncompressInputType,this.getCompressedContent()),n=l.uncompress(t);if(n.length!==i)throw new Error("Bug : uncompressed data size mismatch");return n}},readLocalPart:function(t){var n,e;if(t.skip(22),this.fileNameLength=t.readInt(2),e=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(e),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(n=a.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");if(this.decompressed=new i,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,n),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,n,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=a.transformTo("string",this.decompressed.getContent()),r.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var n=new l(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(t){var n,e,l,a=t.index;for(this.extraFields=this.extraFields||{};t.index<a+this.extraFieldsLength;)n=t.readInt(2),e=t.readInt(2),l=t.readString(e),this.extraFields[n]={id:n,length:e,value:l}},handleUTF8:function(){var t=o.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=r.utf8decode(this.fileName),this.fileCommentStr=r.utf8decode(this.fileComment);else{var n=this.findExtraFieldUnicodePath();if(null!==n)this.fileNameStr=n;else{var e=a.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(e)}var l=this.findExtraFieldUnicodeComment();if(null!==l)this.fileCommentStr=l;else{var i=a.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var n=new l(t.value);return 1!==n.readInt(1)?null:r.crc32(this.fileName)!==n.readInt(4)?null:r.utf8decode(n.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var n=new l(t.value);return 1!==n.readInt(1)?null:r.crc32(this.fileComment)!==n.readInt(4)?null:r.utf8decode(n.readString(t.length-5))}return null}},t.exports=s},zrwd:function(t,n,e){var l=e("w3eQ");function a(t,n,e,l,a){var i=a(t.slice(n,n+e));switch(l){case"N":case"F":case"O":return parseFloat(i,10);case"D":return new Date(i.slice(0,4),parseInt(i.slice(4,6),10)-1,i.slice(6,8));case"L":return"y"===i.toLowerCase()||"t"===i.toLowerCase();default:return i}}function i(t,n,e,l){for(var i,r,o={},s=0,u=e.length;s<u;)i=a(t,n,(r=e[s]).len,r.dataType,l),n+=r.len,void 0!==i&&(o[r.name]=i),s++;return o}t.exports=function(t,n){for(var e=l(n),a=function(t){var n={};return n.lastUpdated=new Date(t.readUInt8(1)+1900,t.readUInt8(2),t.readUInt8(3)),n.records=t.readUInt32LE(4),n.headerLen=t.readUInt16LE(8),n.recLen=t.readUInt16LE(10),n}(t),r=function(t,n,e){for(var l=[],a=32;a<n&&(l.push({name:e(t.slice(a,a+11)),dataType:String.fromCharCode(t.readUInt8(a+11)),len:t.readUInt8(a+16),decimal:t.readUInt8(a+17)}),13!==t.readUInt8(a+32));)a+=32;return l}(t,a.headerLen-1,e),o=2+(r.length+1<<5),s=a.recLen,u=a.records,c=[];u;)c.push(i(t,o,r,e)),o+=s,u--;return c}}}]);