(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"E+45":function(e,t,a){"use strict";a.d(t,"a",function(){return d});var r=a("4R65"),i=a("XWfP"),n=a("2OP4"),o=a("Ip0R"),s=a("/+bW"),l=a("b67C"),u=a("6QN/"),c=a("Ex5H"),p=a("CcnG"),d=function(){function e(e,t,a){this.rivergaugeDataService=e,this.utilServ=t,this.utils=a,this.maxCapacity=313,this.minCapacity=.4,this.minRadius=3,this.maxRadius=30,this.datePipe=new o.e("en-US")}return e.prototype.getSrcWiseLayers=function(e){return t=this,void 0,r=function(){var t,a,r,i;return function(e,t){var a,r,i,n,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,r=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){o.label=n[1];break}if(6===n[0]&&o.label<i[1]){o.label=i[1],i=n;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(n);break}i[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(s){n=[6,s],r=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}(this,function(n){switch(n.label){case 0:if("filter"!=(t=e.params).actionType)return[3,2];for(r in a=[],s.c[t.dashboardView])a[r]=s.c[t.dashboardView][r];return i=this,[4,this.getRivergaugeData(e.params)];case 1:i.rivergaugeData=n.sent(),this.addSrcWiseGEOJSONLayers(a,e,t),this.addSrcWiseWMSLayers(a,e,t),e.otherOptions.legend=s.b[c.m.COMPONENT.RIVER_GAUGE],this.addLegend(e),e.manageLegend(),n.label=2;case 2:return[2]}})},new((a=void 0)||(a=Promise))(function(e,i){function n(e){try{s(r.next(e))}catch(t){i(t)}}function o(e){try{s(r.throw(e))}catch(t){i(t)}}function s(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,o)}s((r=r.apply(t,[])).next())});var t,a,r},e.prototype.getStationLayer=function(e){e.removeComponentWiseLayers(),this.getSrcWiseLayers(e)},e.prototype.getColorbyTrend=function(e){return"Falling"==e?"#f7cc39":"Steady"==e?"green":"Rising"==e?"#2853dc":"gray"},e.prototype.preProcessData=function(e){for(var t={},a=0,r=e;a<r.length;a++){var i=r[a],n=i.uid,o=this.rivergaugeDataService.getColumnValue("dsc",i),s=this.rivergaugeDataService.getColumnValue("l",i),l=i.f?this.rivergaugeDataService.getColumnValue("f",i):"-",u=this.rivergaugeDataService.getColumnValue("n",i),c=this.rivergaugeDataService.getColumnValue("trnd",i),p=this.rivergaugeDataService.getColumnValue("b",i.md),d=this.rivergaugeDataService.getColumnValue("la",i.md),m=this.rivergaugeDataService.getColumnValue("lg",i.md),y=this.getColorbyTrend(c);t[n]={discharge:o,name:u,color:y,level:s,flow:l,trend:c,basin:p,lat:d,long:m}}return t},e.prototype.getRivergaugeData=function(e){var t=this,a={},r=this.rivergaugeDataService.getPostDataForMap(e);return new Promise(function(e,i){t.rivergaugeDataService.post(s.d.API_MAPPING.TABLE,r).subscribe(function(r){r&&r.length>0&&(a=t.preProcessData(r)),e(a)})})},e.prototype.addLegend=function(e){for(var t in s.b)e.legendList[t]=s.b[t];e.manageLegend()},e.prototype.addSrcWiseWMSLayers=function(e,t,a){var r=t.gisDataService.getApplicationBasedLayer(e,c.d.WMS_LAYER);r=this.addSourceWiseLayers(t,r,a),t.addSrcWiseWMSLayers(r)},e.prototype.addSrcWiseGEOJSONLayers=function(e,t,a){var r=t.gisDataService.getApplicationBasedLayer(e,c.d.GEOJSON_LAYER);r=this.addSourceWiseLayers(t,r,a),t.addSrcWiseGEOJSONLayers(r)},e.prototype.addSourceWiseLayers=function(e,t,a){var r={};for(var i in t){if(r[i]=t[i],"Telangana District Mask"==t[i].layerOptions.layer_name)t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'";else if("Telangana Mandal Mask"==t[i].layerOptions.layer_name)t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'";else if("mitanks_structure"==t[i].layerOptions.layer_name){var n="uuid";a.pType==c.m.LOCATIONS.MANDAL?n="mandal_uui":a.pType==c.m.LOCATIONS.SUBBASIN&&(n="sub_bas_uu"),t[i].layerOptions.cql_filter=n+" ='"+a.pUUID+"'"}else"Telangana Basin Mask"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":"Telangana SUBBASIN Mask"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":"Water Bodies"==t[i].layerOptions.layer_name?(n="uuid",a.pType==c.m.LOCATIONS.MANDAL?n="man_uuid":a.pType==c.m.LOCATIONS.SUBBASIN&&(n="sub_bas_uu"),t[i].layerOptions.cql_filter=n+" ='"+a.pUUID+"'"):"mitanks_mandal_structure_count"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="dist_uuid ='"+a.pUUID+"'":"MI Tanks_SubBasin Structures Count"==t[i].layerOptions.layer_name&&(t[i].layerOptions.cql_filter="basin_uuid ='"+a.pUUID+"'");e.activeLayers[i]=t[i].layerOptions.visible}return r},e.prototype.getRadius=function(e){e=Number(e);var t=this.minRadius;return null!=e&&(t=this.minRadius+e/this.maxCapacity*(this.maxRadius-this.minRadius)),t},e.prototype.addRivergaugeMarkerLayer=function(e,t,a,n){var o,s=this,l={stroke:!0,fill:!0,color:"#ffffff",weight:1,opacity:1,fillColor:"#1F77B4",fillOpacity:.5,radius:10,pane:"popUp"},u=t.getZoom(),p=i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1}),d=new r.LayerGroup,m=this.rivergaugeData?this.rivergaugeData[e.properties.rivergauge]:void 0;o=[e.geometry.coordinates[1],e.geometry.coordinates[0]];var y=this.minRadius;e.properties.capacity&&(y=this.getRadius(e.properties.capacity)),l.radius=this.getCircleMarkerRadius(u,y);var g=r.circleMarker(o,l);d.addLayer(g);var f={stroke:!0,fill:!0,color:"white",weight:.5,fillColor:"#66ccff",fillOpacity:1,radius:5,pane:"popUp"},h=this.minRadius;f.radius=this.getCircleMarkerRadius(u,h),f.fillColor=m&&m.color?m.color:"gray";var S=r.circleMarker(o,f);return d.addLayer(S),S.on({mouseover:function(e){},mouseout:function(e){},click:function(t){p.setContent(s.setHtmlContentFoRivergauge(m,e.properties)),p.setLatLng(t.latlng),S.bindPopup(p).openPopup();var r=e.properties;a.locName=r.station_na,a.pUUID=r.rivergauge,a.pType=c.m.LOCATIONS.RIVER_GAUGE,a.cType=c.m.LOCATIONS.RIVER_GAUGE,a.actionType="sensorClick",s.utilServ.setSelectedParams(a)}}),t.on({zoomend:function(e){var a=t.getZoom();g.setRadius(s.getCircleMarkerRadius(a,y)),S.setRadius(s.getCircleMarkerRadius(a,h))}}),d},e.prototype.getCircleMarkerRadius=function(e,t){return t*e*.25},e.prototype.setHtmlContentFoRivergauge=function(e,t){void 0===t&&(t={});var a=null!=e.discharge?this.utils.getDecimalFixed(e.discharge):"-",r=null!=e.level?this.utils.getDecimalFixedWithRespectToDigit(e.level):" - ",i=e.flow,n=e.name,o=e.trend,s=e.basin,l=(null!=e.lat&&this.utils.getDecimalFixed(e.lat),null!=e.long&&this.utils.getDecimalFixed(e.long),"<html><body>");return l+='<div class="popup-table-section">',(l+='<div class="card-body p-0">\n       <table class="table table-sm m-0 table-bordered">')+"<tbody>\n       <tr>\n         <th>Rivergauge Name</th>\n         <td>"+(n||"-")+"</td>\n       </tr>\n       <tr>\n       <th> Basin Name</th>\n            <td>"+(s||"-")+"</td>\n        </tr>\n       <tr>\n       <th>Level (m)</th>\n       <td>"+r+"</td>\n      </tr>\n       <tr>\n       <th>Discharge </th>\n       <td>"+a+"</td>\n      </tr>\n      <tr>\n      <th>Flow (cusecs)</th>\n      <td>"+i+"</td>\n      </tr>\n      <tr>\n        <th>Trend </th>\n        <td>"+o+"</td>\n      </tr>\n     \n     </table>\n   </div>\n   </div>"},e.prototype.getFillColor=function(e){return(e=parseFloat(e))>=90?"#003399":e>=80?"#3399ff":e>=60?"#33cccc":e>=40?"#ff9f80":e>=20?"#ff6600":e<20?"#cc3300":e?void 0:"gray"},e.ngInjectableDef=p.cb({factory:function(){return new e(p.gb(n.a),p.gb(u.a),p.gb(l.a))},token:e,providedIn:"root"}),e}()},dup0:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var r,i,n=a("Ex5H"),o={PANE_LIST:[{name:"elev",zindex:"100"},{name:"base",zindex:"390"},{name:"WA",zindex:"400"},{name:"state",zindex:"401"},{name:"district",zindex:"402"},{name:"heatMap",zindex:"400"},{name:"marker",zindex:"600"},{name:"popUp",zindex:"602"},{name:"popUpGeoJson",zindex:"701"},{name:"mask",zindex:"700"}],HeatMapOptions:{type:"Time",time:"month",clip:!0,view:"Admin",serviceType:"HeatMap"},GW_LAYERLIST:{"Telangana GW Stations":{component:"groundwater",source:"STATE_STATIONS",displayName:"GW Stations",name:"GW Stations",visible:!0,view:"Telangana",layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:corewris_gw_telangana_1.0",layer_name:"gw_stations",layeroptions_pane:"popUp",layeroptions_min_zoom:6,layeroptions_max_zoom:18,group:"groundwater",group_type:"radio-deselect",layerServiceType:"GEOJSON",cqlfilter:null,type:"GEOJSON"},"Telangana Groundwater Heatmap":{component:"groundwater",displayName:"Groundwater Heatmap",name:"Groundwater Heatmap",visible:!0,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mitank_locations",layer_name:"Groundwater Heatmap",layeroptions_min_zoom:6,layeroptions_max_zoom:18,group:"Rainfall HeatMap",group_type:"radio-deselect",layerServiceType:"HEATMAP",cqlfilter:null,type:"HEATMAP"},"Godavari GW Stations":{component:"groundwater",source:"STATE_AND_CENTRAL_STATIONS",displayName:"GW Stations",name:"GW Stations",visible:!0,view:"Godavari",layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:corewris_cgwb_godavari ",layer_name:"gw_stations",layeroptions_pane:"popUp",layeroptions_min_zoom:6,layeroptions_max_zoom:18,group:"groundwater",group_type:"radio-deselect",layerServiceType:"GEOJSON",cqlfilter:null,type:"GEOJSON"}},GW_LAYERLIST2:(r={},r[n.m.LOCATIONS.TELANGANA]={},r[n.m.LOCATIONS.GODAVARI]={},r[n.m.LOCATIONS.ALL]={"GroundWater Heatmap":{component:n.m.COMPONENT.GROUNDWATER,source:n.m.SOURCES.ALL,displayName:"GW Heatmap",name:"GroundWater Heatmap",hasLegend:!0,visible:!0,view:n.m.VIEWS.ALL,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mitank_locations",layer_name:"GroundWater Heatmap",key:"GroundWater Heatmap",layeroptions_min_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MIN,layeroptions_max_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MAX,group:"groundwater",layeroptions_pane:"heatMap",group_type:"radio-deselect",layerServiceType:n.d.HEATMAP_LAYER,cqlfilter:null,type:n.d.HEATMAP_LAYER},"GW Stations (All Stations)":{component:n.m.COMPONENT.GROUNDWATER,source:n.m.SOURCES.ALL,view:n.m.VIEWS.ALL,layerFrom:n.m.SOURCES.BACKEND,displayName:"GW Stations (All Stations)",group:"groundwater",groupType:"radio-deselect",visible:!1,key:"GW Stations (All Stations)",layeroptions_min_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MIN,layeroptions_max_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MAX,pane:"marker",showOnSelector:!1,name:"GW Stations (All Stations)",layerServiceType:n.d.GEOJSON_LAYER,cqlfilter:null,type:n.d.GEOJSON_LAYER,includeAll:!0},"GW Stations (Reporting Stations)":{component:n.m.COMPONENT.GROUNDWATER,source:n.m.SOURCES.ALL,view:n.m.VIEWS.ALL,layerFrom:n.m.SOURCES.BACKEND,displayName:"GW Stations (Reporting Stations)",group:"groundwater",groupType:"radio-deselect",visible:!1,key:"GW Stations (Reporting Stations)",layeroptions_min_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MIN,layeroptions_max_zoom:n.g[n.m.LOCATIONS.GROUNDWATER].MAX,pane:"marker",showOnSelector:!1,name:"GW Stations (Reporting Stations)",layerServiceType:n.d.GEOJSON_LAYER,cqlfilter:null,type:n.d.GEOJSON_LAYER,includeAll:!1}},r),Legend:(i={},i[n.m.HEATMAP.ACTUAL]={Units:"Depth to Water(m bgl)",colorValues:[{backgroundColor:"#D4D7D9",color:"#000000",text:"No Data"},{backgroundColor:"#BAE4FE",color:"#000000",text:"0-3"},{backgroundColor:"#A5F8E5",color:"#000000",text:"3-8"},{backgroundColor:"#FCED67",color:"#000000",text:"8-20"},{backgroundColor:"#F9B5A0",color:"#000000",text:">20"}]},i[n.m.HEATMAP.FLUCTUATION_FROM_LAST_YEAR]={Units:"Fluctuation (m)",colorValues:[{backgroundColor:"#2077b4",color:"#000000",text:"Rise (+)>4"},{backgroundColor:"#cbea72",color:"#000000",text:"Rise (+)2-4"},{backgroundColor:"#4c730f",color:"#000000",text:"Rise (+)0-2"},{backgroundColor:"#ffd380",color:"#000000",text:"Fall (-)0-2"},{backgroundColor:"#fda67f",color:"#000000",text:"Fall (-)2-4"},{backgroundColor:"#f73c39",color:"#000000",text:"Fall (-)>4"}]},i[n.m.HEATMAP.FLUCTUATION_FROM_WATER_YEAR]={Units:"Fluctuation (m)",colorValues:[{backgroundColor:"#2077b4",color:"#000000",text:"Rise (+)>4"},{backgroundColor:"#cbea72",color:"#000000",text:"Rise (+)2-4"},{backgroundColor:"#4c730f",color:"#000000",text:"Rise (+)0-2"},{backgroundColor:"#ffd380",color:"#000000",text:"Fall (-)0-2"},{backgroundColor:"#fda67f",color:"#000000",text:"Fall (-)2-4"},{backgroundColor:"#f73c39",color:"#000000",text:"Fall (-)>4"}]},i)}},"e/Cc":function(e,t,a){"use strict";a.d(t,"a",function(){return d});var r=a("4R65"),i=a("XWfP"),n=a("h5/M"),o=a("Ip0R"),s=a("AQdI"),l=a("b67C"),u=a("6QN/"),c=a("Ex5H"),p=a("CcnG"),d=function(){function e(e,t,a){this.resDataService=e,this.utilServ=t,this.utils=a,this.maxCapacity=1e5,this.minCapacity=.4,this.minRadius=4,this.maxRadius=30,this.datePipe=new o.e("en-US")}return e.prototype.getSrcWiseLayers=function(e){return t=this,void 0,r=function(){var t,a,r,i;return function(e,t){var a,r,i,n,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,r=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){o.label=n[1];break}if(6===n[0]&&o.label<i[1]){o.label=i[1],i=n;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(n);break}i[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(s){n=[6,s],r=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}(this,function(n){switch(n.label){case 0:if("filter"!=(t=e.params).actionType)return[3,2];for(r in a=[],s.c[t.dashboardView])a[r]=s.c[t.dashboardView][r];return i=this,[4,this.getReservoirData(e.params)];case 1:i.reservoirData=n.sent(),this.addSrcWiseGEOJSONLayers(a,e,t),this.addSrcWiseWMSLayers(a,e,t),e.otherOptions.legend=s.b[c.m.COMPONENT.RESERVOIR],this.addLegend(e),e.manageLegend(),n.label=2;case 2:return[2]}})},new((a=void 0)||(a=Promise))(function(e,i){function n(e){try{s(r.next(e))}catch(t){i(t)}}function o(e){try{s(r.throw(e))}catch(t){i(t)}}function s(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,o)}s((r=r.apply(t,[])).next())});var t,a,r},e.prototype.getStationLayer=function(e){e.removeComponentWiseLayers(),this.getSrcWiseLayers(e)},e.prototype.preProcessData=function(e){for(var t={},a=this.minRadius,r=this.maxRadius,i=0,n=e;i<n.length;i++)"total"!=(l=n[i]).ln.toLowerCase()&&(l.tca>=this.maxCapacity&&(this.maxCapacity=l.tca),e.tca<this.minCapacity&&(this.minCapacity=l.tca));for(var o=0,s=e;o<s.length;o++){var l,u=(l=s[o]).lUUID,c=a,p=this.resDataService.getColumnValue("tca",l),d=this.resDataService.getColumnValue("tSt",l),m=this.resDataService.getColumnValue("pfill",l),y=this.resDataService.getColumnValue("cl",l),g=this.resDataService.getColumnValue("frl",l),f=this.resDataService.getColumnValue("inf",l),h=this.resDataService.getColumnValue("ofl",l),S=this.resDataService.getColumnValue("lts",l),v="gray";null!=d&&null!=p&&(c=a+d/this.maxCapacity*(r-a)),null!=m&&(v=this.getFillColor(m)),t[u]={storageRadius:c,color:v,storage:d,capacity:p,inflow:f,outflow:h,currentLevel:y,frl:g,fp:m,timeStamp:S}}return t},e.prototype.getReservoirData=function(e){var t=this,a={},r=this.resDataService.getPostDataForMap(e);return new Promise(function(e,i){t.resDataService.post(s.d.API_MAPPING.TABLE,r).subscribe(function(r){r&&r.length>0&&(a=t.preProcessData(r)),e(a)})})},e.prototype.addLegend=function(e){for(var t in s.b)e.legendList[t]=s.b[t];e.manageLegend()},e.prototype.addSrcWiseWMSLayers=function(e,t,a){var r=t.gisDataService.getApplicationBasedLayer(e,c.d.WMS_LAYER);r=this.addSourceWiseLayers(t,r,a),t.addSrcWiseWMSLayers(r)},e.prototype.addSrcWiseGEOJSONLayers=function(e,t,a){var r=t.gisDataService.getApplicationBasedLayer(e,c.d.GEOJSON_LAYER);r=this.addSourceWiseLayers(t,r,a),t.addSrcWiseGEOJSONLayers(r)},e.prototype.addSourceWiseLayers=function(e,t,a){var r={};for(var i in t){if(r[i]=t[i],"Telangana District Mask"==t[i].layerOptions.layer_name)t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'";else if("Telangana Mandal Mask"==t[i].layerOptions.layer_name)t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'";else if("mitanks_structure"==t[i].layerOptions.layer_name){var n="uuid";a.pType==c.m.LOCATIONS.MANDAL?n="mandal_uui":a.pType==c.m.LOCATIONS.SUBBASIN&&(n="sub_bas_uu"),t[i].layerOptions.cql_filter=n+" ='"+a.pUUID+"'"}else"Telangana Basin Mask"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":"Telangana SUBBASIN Mask"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":"Water Bodies"==t[i].layerOptions.layer_name?(n="uuid",a.pType==c.m.LOCATIONS.MANDAL?n="man_uuid":a.pType==c.m.LOCATIONS.SUBBASIN&&(n="sub_bas_uu"),t[i].layerOptions.cql_filter=n+" ='"+a.pUUID+"'"):"mitanks_mandal_structure_count"==t[i].layerOptions.layer_name?t[i].layerOptions.cql_filter="dist_uuid ='"+a.pUUID+"'":"MI Tanks_SubBasin Structures Count"==t[i].layerOptions.layer_name&&(t[i].layerOptions.cql_filter="basin_uuid ='"+a.pUUID+"'");e.activeLayers[i]=t[i].layerOptions.visible}return r},e.prototype.getRadius=function(e){e=Number(e);var t=this.minRadius;return null!=e&&(t=this.minRadius+e/this.maxCapacity*(this.maxRadius-this.minRadius)),t},e.prototype.addTelanganaReservoirMarkerLayer=function(e,t,a,n){var o,s=this,l={stroke:!0,fill:!0,color:"#ffffff",weight:1,opacity:1,fillColor:"#1F77B4",fillOpacity:.5,radius:10,pane:"popUp"},u=t.getZoom(),p=i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1}),d=new r.LayerGroup,m=this.reservoirData?this.reservoirData[e.properties.uuid]:void 0;o=[e.geometry.coordinates[1],e.geometry.coordinates[0]];var y=this.minRadius;e.properties.capacity&&(y=this.getRadius(e.properties.capacity)),l.radius=this.getCircleMarkerRadius(u,y);var g=r.circleMarker(o,l),f={stroke:!0,fill:!0,color:"black",weight:.5,fillColor:"#66ccff",fillOpacity:1,radius:5,pane:"popUp"},h=this.minRadius;if(m&&null!=m.storage&&e.properties.capacity&&null!=e.properties.capacity){var S=m.storage;S>e.properties.capacity&&(S=e.properties.capacity)}f.radius=this.getCircleMarkerRadius(u,h),f.fillColor=m&&m.color?m.color:"gray";var v=r.circleMarker(o,f);return d.addLayer(v),v.on({mouseover:function(e){},mouseout:function(e){},click:function(t){p.setContent(s.setHtmlContentFoReservoir(m,e.properties)),p.setLatLng(t.latlng),v.bindPopup(p).openPopup();var r=e.properties;a.locName=r.name,a.pUUID=r.uuid,a.pType=c.m.LOCATIONS.RESERVOIR,a.cType=c.m.LOCATIONS.RESERVOIR,a.actionType="sensorClick",s.utilServ.setSelectedParams(a)}}),t.on({zoomend:function(e){var a=t.getZoom();g.setRadius(s.getCircleMarkerRadius(a,y)),v.setRadius(s.getCircleMarkerRadius(a,h))}}),d},e.prototype.getCircleMarkerRadius=function(e,t){return t*e*.25},e.prototype.setHtmlContentFoReservoir=function(e,t){void 0===t&&(t={});var a=null!=e.fp?this.utils.getDecimalFixed(e.fp):"-",r=null!=e.storage?this.utils.getDecimalFixedWithRespectToDigit(e.storage):" - ",i=null!=e.capacity?this.utils.getDecimalFixedWithRespectToDigit(e.capacity):" - ",n=e.timeStamp?this.datePipe.transform(e.timeStamp,"MMM d, y, h:mm:ss a"):"-",o=null!=e.currentLevel?this.utils.getDecimalFixed(e.currentLevel):" - ",s=null!=e.frl?this.utils.getDecimalFixed(e.frl):" - ",l=null!=e.inflow?this.utils.getDecimalFixed(e.inflow):" - ",u=null!=e.outflow?this.utils.getDecimalFixed(e.outflow):" - ",c="<html><body>";return c+='<div class="popup-table-section">',(c+='<div class="card-body p-0">\n       <table class="table table-sm m-0 table-bordered">')+"<tbody>\n       <tr>\n         <th>Reservoir Name</th>\n         <td>"+(t&&t.name?t.name:"-")+"</td>\n       </tr>\n       <tr>\n       <th>TimeStamp</th>\n       <td>"+n+"</td>\n      </tr>\n       <tr>\n       <th>Fill (%)</th>\n       <td>"+a+"</td>\n      </tr>\n      <tr>\n        <th>Level (m)</th>\n        <td>"+o+" / "+s+"</td>\n     </tr>\n     <tr>\n      <th>Storage (TMC)</th>\n      <td>"+r+" / "+i+"</td>\n    </tr>\n    <tr>\n    <th>Inflow (cusecs)</th>\n    <td>"+l+"</td>\n  </tr>\n  <tr>\n    <th>Outflow (cusecs)</th>\n    <td>"+u+"</td>\n  </tr>\n      <tr>\n       <th> Basin Name</th>\n            <td>"+(t&&t.basin?t.basin:"-")+"</td>\n        </tr>\n     </table>\n   </div>\n   </div>"},e.prototype.getFillColor=function(e){return(e=parseFloat(e))>=90?"#003399":e>=80?"#3399ff":e>=60?"#33cccc":e>=40?"#ff9f80":e>=20?"#ff6600":e<20?"#cc3300":e?void 0:"gray"},e.ngInjectableDef=p.cb({factory:function(){return new e(p.gb(n.a),p.gb(u.a),p.gb(l.a))},token:e,providedIn:"root"}),e}()}}]);