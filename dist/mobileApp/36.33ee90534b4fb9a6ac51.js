(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{APeA:function(a,t,e){"use strict";var n=e("CcnG"),l=e("iCKj"),r=e("HgZ9"),i=e("iJXZ"),o=e("wlMv"),s=e("yvxA"),u=e("CjG9"),p=e("Ip0R"),c=e("P3pc"),m=e("qhgg"),d=e("ZYCi"),h=e("q4vc"),y=e("MCLT"),f=function(){function a(a,t){this.gisService=a,this.utilsService=t}return a.prototype.ngOnInit=function(){var a=this;this.gisService.reservoirPopup.subscribe(function(t){Object(y.isNullOrUndefined)(t)||(a.popupData=t)})},a}(),g=n.zb({encapsulation:0,styles:[[""]],data:{}});function v(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Name"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.name)})}function L(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Basin"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.basin)})}function D(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Storage"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,[""," / "," TMC"]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.storage,null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.gc)})}function b(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Level"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,[""," / "," m"]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.cl,null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.frl)})}function S(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,5,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Fill %"])),(a()(),n.Bb(3,0,null,null,2,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,[""," %"])),n.Ob(5,2)],null,function(a,t){var e=t.component,l=n.Tb(t,4,0,a(t,5,0,n.Lb(t.parent.parent,0),null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.pour,"1.2-2"));a(t,4,0,l)})}function A(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Date and Time"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,e.utilsService.getSimpleDateString(e.popupData.reservoirDetails.data.egt))})}function C(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,15,"div",[["class","popup-table-section"]],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,14,"div",[["class","card-body p-0"]],null,null,null,null,null)),(a()(),n.Bb(2,0,null,null,13,"table",[["class","table table-sm m-0 table-bordered"]],null,null,null,null,null)),(a()(),n.Bb(3,0,null,null,12,"tbody",[],null,null,null,null,null)),(a()(),n.sb(16777216,null,null,1,null,v)),n.Ab(5,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,L)),n.Ab(7,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,D)),n.Ab(9,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,b)),n.Ab(11,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,S)),n.Ab(13,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,A)),n.Ab(15,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,5,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.name),a(t,7,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.basin),a(t,9,0,(null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.storage)||(null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.gc)),a(t,11,0,(null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.cl)||(null==e.popupData?null:null==e.popupData.reservoirDetails?null:e.popupData.reservoirDetails.frl)),a(t,13,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.pour),a(t,15,0,null==e.popupData?null:null==e.popupData.reservoirDetails?null:null==e.popupData.reservoirDetails.data?null:e.popupData.reservoirDetails.data.egt)},null)}function T(a){return n.Ub(0,[n.Mb(0,p.f,[n.z]),(a()(),n.sb(16777216,null,null,1,null,C)),n.Ab(2,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,2,0,null==e.popupData?null:e.popupData.reservoirDetails)},null)}var O=function(){function a(a){this.gisService=a}return a.prototype.ngOnInit=function(){var a=this;this.gisService.commandCatchmentPopup.subscribe(function(t){Object(y.isNullOrUndefined)(t)||(a.popupData=t)}),this.gisService.commandCatchmentAreaPopup.subscribe(function(t){Object(y.isNullOrUndefined)(t)||(a.popupDataNew=t)})},a}(),_=n.zb({encapsulation:0,styles:[[""]],data:{}});function M(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Station"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.stn)})}function R(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["State"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.st)})}function I(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Latitude"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.lt.toFixed(2))})}function N(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Longitude"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.ln.toFixed(2))})}function F(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Rainfall (mm)"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.rl.toFixed(2))})}function w(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["TimeStamp"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.t)})}function P(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,15,"div",[["class","popup-table-section"]],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,14,"div",[["class","table-responsive card-body p-0"]],null,null,null,null,null)),(a()(),n.Bb(2,0,null,null,13,"table",[["class","table table-sm m-0 table-bordered"]],null,null,null,null,null)),(a()(),n.Bb(3,0,null,null,12,"tbody",[],null,null,null,null,null)),(a()(),n.sb(16777216,null,null,1,null,M)),n.Ab(5,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,R)),n.Ab(7,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,I)),n.Ab(9,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,N)),n.Ab(11,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,F)),n.Ab(13,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,w)),n.Ab(15,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,5,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.stn),a(t,7,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.st),a(t,9,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.lt),a(t,11,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.ln),a(t,13,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.rl),a(t,15,0,null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:null==e.popupData.commandCatchmentDetails.data?null:e.popupData.commandCatchmentDetails.data.t)},null)}function E(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(2,null,["",""])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,2,0,null==e.popupDataNew?null:null==e.popupDataNew.layers?null:null==e.popupDataNew.layers.data?null:e.popupDataNew.layers.data.category),a(t,4,0,null==e.popupDataNew?null:null==e.popupDataNew.layers?null:null==e.popupDataNew.layers.data?null:e.popupDataNew.layers.data.name)})}function Y(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,5,"div",[["class","popup-table-section"]],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,4,"div",[["class","card-body p-0"]],null,null,null,null,null)),(a()(),n.Bb(2,0,null,null,3,"table",[["class","table table-sm m-0 table-bordered"]],null,null,null,null,null)),(a()(),n.Bb(3,0,null,null,2,"tbody",[],null,null,null,null,null)),(a()(),n.sb(16777216,null,null,1,null,E)),n.Ab(5,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,5,0,null==e.popupDataNew?null:null==e.popupDataNew.layers?null:null==e.popupDataNew.layers.data?null:e.popupDataNew.layers.data.category)},null)}function j(a){return n.Ub(0,[(a()(),n.sb(16777216,null,null,1,null,P)),n.Ab(1,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,Y)),n.Ab(3,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,1,0,(null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:e.popupData.commandCatchmentDetails.data)&&(null==e.popupData?null:null==e.popupData.commandCatchmentDetails?null:e.popupData.commandCatchmentDetails.commandcatchment)),a(t,3,0,null==e.popupDataNew?null:e.popupDataNew.layers)},null)}var H=e("US6q"),U=e("L49D"),V=e("zKbe"),G=e("4GxJ"),x=e("gM3f");e.d(t,"b",function(){return B}),e.d(t,"c",function(){return q}),e.d(t,"a",function(){return J});var B=n.zb({encapsulation:0,styles:[[".mapBlock[_ngcontent-%COMP%]{height:100vh;width:100%;position:absolute;left:0;top:0}.map-title[_ngcontent-%COMP%]{position:absolute;top:20px;margin-left:0;left:40%;z-index:800;background:rgba(12,12,12,.82);color:#fff;border-radius:4px;padding:9px 15px;text-decoration:underline;font-size:14px;font-weight:600}"]],data:{}});function k(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,1,"app-spinner",[],null,null,null,l.b,l.a)),n.Ab(1,638976,null,0,r.a,[i.d],{id:[0,"id"],show:[1,"show"]},null)],function(a,t){a(t,1,0,"map",t.component.mapLoaderActive)},null)}function W(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,1,"app-spinner",[],null,null,null,l.b,l.a)),n.Ab(1,638976,null,0,r.a,[i.d],{id:[0,"id"],show:[1,"show"]},null)],function(a,t){a(t,1,0,"map1",t.component.mapLoaderActive1)},null)}function Z(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,1,"app-popup-district-subbasin",[],null,null,null,o.b,o.a)),n.Ab(1,114688,null,0,s.a,[u.a],null,null)],function(a,t){a(t,1,0)},null)}function q(a){return n.Ub(0,[n.Qb(402653184,1,{popupContent:0}),(a()(),n.sb(16777216,null,null,1,null,k)),n.Ab(2,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,W)),n.Ab(4,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.Bb(5,0,null,null,0,"div",[["class","mapBlock"],["id","mapid"]],null,null,null,null,null)),(a()(),n.Bb(6,0,null,null,2,"div",[["class","map-title"],["style","text-align:center"]],null,null,null,null,null)),(a()(),n.Sb(7,null,[" "," "])),(a()(),n.Bb(8,0,null,null,0,"br",[],null,null,null,null,null)),(a()(),n.Bb(9,0,null,null,1,"app-bottom-bar",[],null,null,null,c.b,c.a)),n.Ab(10,114688,null,0,m.a,[d.a,d.p,h.a],{commonComponent:[0,"commonComponent"]},null),(a()(),n.Bb(11,0,[[1,0],["popupContent",1]],null,6,"div",[],null,null,null,null,null)),(a()(),n.sb(16777216,null,null,1,null,Z)),n.Ab(13,16384,null,0,p.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.Bb(14,0,null,null,1,"app-popup-reservoir",[],null,null,null,T,g)),n.Ab(15,114688,null,0,f,[u.a,h.a],null,null),(a()(),n.Bb(16,0,null,null,1,"app-popup-command-catchment",[],null,null,null,j,_)),n.Ab(17,114688,null,0,O,[u.a],null,null)],function(a,t){var e=t.component;a(t,2,0,e.mapLoaderActive),a(t,4,0,e.mapLoaderActive1),a(t,10,0,e),a(t,13,0,e.showPopup),a(t,15,0),a(t,17,0)},function(a,t){a(t,7,0,t.component.title)})}function z(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,1,"app-gis-map",[],null,null,null,q,B)),n.Ab(1,770048,null,0,H.a,[d.p,d.a,h.a,u.a,U.a,V.a,G.C,x.a],null,null)],function(a,t){a(t,1,0)},null)}var J=n.xb("app-gis-map",H.a,z,{urlParams:"urlParams"},{},[])},CjG9:function(a,t,e){"use strict";e.d(t,"a",function(){return g});var n=e("L49D"),l=e("4R65"),r=(e("YAWo"),e("K9Ia")),i=e("q4vc"),o=e("wd/R"),s=e("AytR"),u=e("XWfP"),p=e("rhxO"),c=e("zKbe"),m=e("XXms"),d=e("CcnG"),h=e("t/Na"),y=e("ZYCi"),f=function(){return(f=Object.assign||function(a){for(var t,e=1,n=arguments.length;e<n;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}).apply(this,arguments)},g=function(){function a(a,t,e,n,l,i){var o=this;this.http=a,this.utilsService=t,this.dataService=e,this.dataTabService=n,this.router=l,this.gisPopupService=i,this.urlConstants=s.a.url,this.popup1=new r.a,this.districtPopup=this.popup1.asObservable(),this.popup2=new r.a,this.reservoirPopup=this.popup2.asObservable(),this.popup3=new r.a,this.mandalPopup=this.popup3.asObservable(),this.popup4=new r.a,this.commandCatchmentPopup=this.popup4.asObservable(),this.popup5=new r.a,this.commandCatchmentAreaPopup=this.popup5.asObservable(),this.activatedRoute=new r.a,this.urlParamsForGisSrv=this.activatedRoute.asObservable(),this.urlParamsForGisSrv.subscribe(function(a){return o.urlParams=a})}return a.prototype.changeDistrictSubbasinPopupData=function(a){this.popup1.next(a)},a.prototype.changeReservoirPopupData=function(a){this.popup2.next(a)},a.prototype.changeMandalPopupData=function(a){this.popup3.next(a)},a.prototype.changeCommandCatchmentPopupData=function(a){this.popup4.next(a)},a.prototype.changeCommandCatchmentAreaPopupData=function(a){this.popup5.next(a)},a.prototype.getActivatedRoute=function(a){this.activatedRoute.next(a)},a.prototype.createPanes=function(a,t){for(var e in t)a.createPane(e).style.zIndex=t[e].zIndex},a.prototype.createTileLayerForBaseLayers=function(a){var t={};for(var e in a)if(a.hasOwnProperty(e)){var n=a[e];t[e]=new l.TileLayer(n.url,n.options)}return t},a.prototype.setBaseLayer=function(a,t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];!0===n.options.visible&&n.addTo(a)}},a.prototype.getApplicationBasedLayer=function(a){if("WMS"===a)return this.formatWMSLayers(m.a.floodforecastCommanLayers)},a.prototype.formatWMSLayers=function(a){var t={};for(var e in a)if(a.hasOwnProperty(e)){var n=a[e],r={};r.name=n.name,r.type="wms",r.layerOptions={},r.layerOptions.name=n.name,r.layerOptions.fadeAnimation=!1,r.layerOptions.format="image/png",r.layerOptions.transparent=!0,r.url=this.getGeoServerURL()+"/wms",this.validateValue(n.legendData)&&(r.layerOptions.legendData=n.legendData),this.validateValue(n.cql_filter)&&(r.layerOptions.cql_filter=n.cql_filter),this.validateValue(n.subgroup)&&(r.layerOptions.subgroup=n.subgroup),this.validateValue(n.visible)&&(r.layerOptions.visible=n.visible),this.validateValue(n.group)&&(r.layerOptions.group=n.group),this.validateValue(n.layeroptions_name)&&(r.layerOptions.layers=n.layeroptions_name),this.validateValue(n.layeroptions_min_zoom)&&(r.layerOptions.minZoom=n.layeroptions_min_zoom),this.validateValue(n.layeroptions_max_zoom)&&(r.layerOptions.maxZoom=n.layeroptions_max_zoom),this.validateValue(n.layeroptions_pane)&&(r.layerOptions.pane=n.layeroptions_pane),this.validateValue(n.layeroptions_zindex)&&(r.layerOptions.zIndex=n.layeroptions_zindex),this.validateValue(n.layeroptions_show_on_selector)&&!n.layeroptions_show_on_selector&&(r.layerOptions.showOnSelector=n.layeroptions_show_on_selector),this.validateValue(n.group_type)&&(r.layerOptions.groupType=n.group_type),this.validateValue(n.url)&&(r.url=n.url),this.validateValue(n.data)&&(r.layerOptions.data=n.data),this.validateValue(n.crs)&&"EPSG4326"==n.crs&&(r.layerOptions.crs=l.CRS.EPSG4326),this.validateValue(n.position)&&(r.layerOptions.position=n.position),"WMS"===n.type&&(r.key=e,t[e]=r),this.validateValue(n.layeroptions_styles)&&(r.layerOptions.STYLES=n.layeroptions_styles),this.validateValue(n.info)&&(r.layerOptions.info=n.info)}return t},a.prototype.setWmsLayers=function(a,t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=new l.TileLayer.WMS(r.url,r.layerOptions);e[n]=i,!0===r.layerOptions.visible&&i.addTo(a)}return e},a.prototype.getGeoJSONData=function(a,t){var e=this.getGeoServerURL()+"?service=WFS&version=1.0.0&request=GetFeature&typeName="+a+"&maxFeatures=5000000&outputFormat=application%2Fjson";return t.filter&&(e+="&cql_filter="+t.filter),this.http.get(e)},a.prototype.validateValue=function(a){return null!=a&&null!=a&&-1!=a},a.prototype.getGeoServerURL=function(){return this.urlConstants.GEOSERVER_URL_SECOND+"ows"},a.prototype.addWMSLayer=function(a){return a.cql_filter||(a.cql_filter="1=1"),new l.TileLayer.WMS(a.url,f({layers:a.layerName,format:"image/png",transparent:!0,maxNativeZoom:18,attribution:a.attribution||"",minZoom:a.minZoom,maxZoom:a.maxZoom,pane:a.pane},{cql_filter:a.cql_filter}))},a.prototype.setVECTORLayers=function(a,t){var e={};for(var n in t){var r=t[n],i=new l.vectorGrid.protobuf(r.url,r.layerOptions);e[n]=i,r.layerOptions.visible&&a.addLayer(i)}return e},a.prototype.getValidatedValue=function(a){return null!=a&&null!=a&&-1!=a?a:null},a.prototype.formatCatchmentData=function(a){var t={},e=a["SRI RAM SAGAR"];if(e&&e.rfLevel){var n=this.getRainfallColor(e.rfLevel);t["SRI RAM SAGAR"]=n}return t},a.prototype.getRainfallColor=function(a){return null==a||null==a?"gray":a>=0&&a<.1?"#FFFFFF":a>=.1&&a<=2.5?"#C3FDCA":a>=2.51&&a<=15.6?"#01FF04":a>=15.6&&a<=64.5?"#048500":a>=64.5&&a<=115.6?"#FDC0CB":a>=115.7&&a<=204.5?"#FC0300":a>204.5?"#610301":void 0},a.prototype.getColor=function(a,t){var e=a.poi_name;return t&&t.hasOwnProperty(e)?t[e]&&null!=t[e]?t[e]:"#DCDCDC":"#808080"},a.prototype.addConcentricCircleMarkerLayer=function(a,t,e,n){var r=this,i={stroke:!0,fill:!0,color:"#ffffff",weight:1,opacity:1,fillColor:"#1F77B4",fillOpacity:.5,radius:10,pane:"markers"},o={stroke:!0,fill:!0,color:"#ffffff",weight:1,opacity:1,fillColor:"#1F77B4",fillOpacity:.8,radius:15,pane:"markers"};return l.geoJSON(a,{pointToLayer:function(a,t){var s=new l.LayerGroup,u=a.properties;if(u.outerRadius){var p=r.utilsService.fixedToDecimal(u.storage,2),c=r.utilsService.fixedToDecimal(u.gc,2),m=r.utilsService.fixedToDecimal(u.cl,2),d=r.utilsService.fixedToDecimal(u.frl,2);i.radius=r.getCircleMarkerRadius(e.getZoom(),u.outerRadius),i.properties=a.properties;var h=l.circleMarker(t,i);s.addLayer(h),p=r.utilsService.fixedToDecimal(u.storage,2),h.on({mouseover:function(a){h.bindPopup(n),r.changeCommandCatchmentPopupData({}),r.changeDistrictSubbasinPopupData({}),n.setLatLng(a.latlng),r.changeReservoirPopupData({reservoirDetails:{data:u,gc:c,cl:m,frl:d,storage:p,marker1:!0}}),setTimeout(function(){h.openPopup()},1e3)},click:function(a){r.changeCommandCatchmentPopupData({}),n.setLatLng(a.latlng),r.changeReservoirPopupData({reservoirDetails:{data:u,gc:c,cl:m,frl:d,storage:p,marker1:!0}})},mouseout:function(a){h.unbindPopup(),h.closePopup(),e.closePopup()}}),e.on({zoomend:function(a){var t=r.getCircleMarkerRadius(e.getZoom(),u.outerRadius);h.setRadius(t)},popupclose:function(a){n.unbindPopup(),r.changeReservoirPopupData({})}})}if("outerRadius"in u||(i.fillColor="#1F77B4",i.fillOpacity=.5),u.innerRadius||(u.innerRadius=3),o.fillColor="#1F77B4",i.fillColor="#1F77B4",i.fillOpacity=.5,o.fillOpacity=.8,u.innerRadius){var y=r.utilsService.fixedToDecimal(u.storage,2),f=r.utilsService.fixedToDecimal(u.gc,2),g=r.utilsService.fixedToDecimal(u.cl,2),v=r.utilsService.fixedToDecimal(u.frl,2);o.radius=r.getCircleMarkerRadius(e.getZoom(),u.innerRadius),u.color&&(o.fillColor=u.color,o.fillOpacity=1),o.properties=a.properties;var L=l.circleMarker(t,o);s.addLayer(L),y=r.utilsService.fixedToDecimal(u.storage,2),L.on({mouseover:function(a){r.changeCommandCatchmentPopupData({}),r.changeDistrictSubbasinPopupData({}),L.bindPopup(n),n.setLatLng(a.latlng),r.changeReservoirPopupData({reservoirDetails:{data:u,gc:f,cl:g,frl:v,storage:y,marker1:!0}}),setTimeout(function(){L.openPopup()},1e3)},click:function(a){r.changeDistrictSubbasinPopupData({}),n.setLatLng(a.latlng),r.changeReservoirPopupData({reservoirDetails:{data:u,gc:f,cl:g,frl:v,storage:y,marker1:!0}})},mouseout:function(a){L.unbindPopup(),L.closePopup(),e.closePopup()}}),e.on({zoomend:function(a){var t=r.getCircleMarkerRadius(e.getZoom(),u.innerRadius);L.setRadius(t)},popupclose:function(a){n.unbindPopup(),r.changeReservoirPopupData({})}}),L.remove()}return s}})},a.prototype.getCircleMarkerRadius=function(a,t){return t*a*.25},a.prototype.addConcentricCircleMarkerLayerForCatchment_CommandStations=function(a,t,e,n,r,i,s,u){var p=this,c=new l.LayerGroup;return this.dataTabService.getRainfallLegendData(a,t).subscribe(function(l){var m=o(a).format("DD/MM/YYYY"),d=o(t).format("DD/MM/YYYY");for(var h in e){var y=p.createNewMarker(e[h],l,n,r,m,d,i,s,u);null!=y&&c.addLayer(y)}}),c},a.prototype.createNewMarker=function(a,t,e,n,r,i,s,p,c){var m,d=this,h={stroke:!0,fill:!0,color:"#2F4F4F",weight:1,fillColor:"#2F4F4F",fillOpacity:1,radius:1.5,pane:"rivers"};if(!a.md.lt&&!a.md.lng)return null;var y,f=a.md.lt?this.utilsService.fixedToDecimal(a.md.lt,2):"-",g=a.md.lng?this.utilsService.fixedToDecimal(a.md.lng,2):"-",v=a.al?this.utilsService.fixedToDecimal(a.al,2):"-";y=r===i?o(a.ts).format("DD/MM/YYYY HH:mm:ss"):r+"-"+i,a.ts=y,m=[f,g];var L=this.getFillColor(v,t);h.fillColor=L,a.nm=a.nm.replace(/AWS|_AWS/g,""),n.setLatLng(m);var D=l.circleMarker(m,h);D.setRadius(3*h.radius);var b=this.gisPopupService.getCommandCatchmentPopUp(a);n=u.responsivePopup({hasTip:!0,autoPan:!1,offset:[1,2],minWidth:360,maxWidth:450,closeButton:!1}).setContent(b),D.on({mouseover:function(a){d.changeCommandCatchmentAreaPopupData({}),d.changeDistrictSubbasinPopupData({}),d.changeReservoirPopupData({}),D.setStyle({color:"black",weight:4}),n.setLatLng(a.latlng),D.bindPopup(n),setTimeout(function(){D.openPopup()},1500)},mouseout:function(a){D.setStyle({color:"#2F4F4F",weight:1}),e.closePopup(),D.unbindPopup(),D.closePopup()}}),D.on("click",function(t){d.changeCommandCatchmentPopupData({}),e.closePopup(),n.remove(),D.closePopup(),D.setStyle({color:"black",weight:4}),l.Browser.mobile&&(D.bindPopup(n),D.openPopup()),"information"==p.component?(p.locationType="Command Station"===s?"command":"catchment",p.point=a.uid?a.uid:"null",p.pointType="station",p.heatmapReload="false",p.pEUUID=c,p.applyFilter=!1,p.pUUID=a.uid?a.uid:"null",d.router.navigate(["kaleshwaram","geoportal",p])):"rainfall"==p.component&&(p.locationType="Command Station"===s?"command":"catchment",p.pointType="sensor",p.point=a.uid?a.uid:"null",p.pointLocType="Command Station"===s?"command":"catchment",p.heatmapReload="false",p.pEUUID=c,p.applyFilter=!1,p.pUUID=a.uid?a.uid:"null",d.router.navigate(["kaleshwaram","geoportal",p]))});var S=e.getZoom();return e.on({zoomend:function(a){var t=e.getZoom(),n=S-t;if(n>0){var l=d.getCircleMarkerRadiusForStation(e.getZoom(),h.radius)-Math.abs(n);D.setRadius(l/1.75)}else if(n<0&&t>S){var r=e.getZoom()+h.radius+Math.abs(n);D.setRadius(r/2)}else D.setRadius(3*h.radius)},popupclose:function(a){D.setStyle({color:"#2F4F4F",weight:1}),n.unbindPopup(),d.changeCommandCatchmentPopupData({})}}),D},a.prototype.getCircleMarkerRadiusForStation=function(a,t){return a-t},a.prototype.getFillColor=function(a,t){for(var e in a=parseFloat(a),t)if(a<=e)return t[e];return"#DCDCDC"},a.prototype.getVectorOverlays=function(a,t,e){var n=this,r={};return a.forEach(function(a){var i={type:"vector",layerOptions:{}};i.layerOptions.interactive=!0,i.layerOptions.rendererFactory=l.canvas.tile,i.url=n.urlConstants.GEOSERVER_URL+"gwc/service/wmts?layer="+a.layeroptions_name+"&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=application/x-protobuf;type=mapbox-vector&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}",e&&(i.url+="&cql_filter="+e),i.layerOptions.pane=n.getValidatedValue(a.layeroptions_pane),i.layerOptions.minZoom=n.getValidatedValue(a.layeroptions_min_zoom),i.layerOptions.maxZoom=n.getValidatedValue(a.layeroptions_max_zoom),i.layerOptions.pane=n.getValidatedValue(a.layeroptions_pane),i.layerOptions.visible=n.getValidatedValue(a.visible),i.layerOptions.vectorTileLayerStyles={},i.layerOptions.getFeatureId=function(a){return a.properties.uuid},"STATE"==a.layer_name&&(i.layerOptions.vectorTileLayerStyles.indgec_state={opacity:1,weight:.5,color:"rgb(0, 0, 0)"}),"DISTRICT"==a.layer_name&&(i.layerOptions.vectorTileLayerStyles.indgec_ap_dist={opacity:1,weight:.5,color:"rgb(0, 0, 0)"}),"VECTOR"===a.type&&(null!==a.application_type&&!0!==a.application_type[t]||(r[a.layer_name]=i))}),r},a.prototype.addImageLayer=function(a,t){var e=new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max));return l.imageOverlay(a,e)},a.prototype.addImageLayerForCatchment=function(a,t){return new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max)),l.imageOverlay(a,[[17.8,75.1515277777778],[20.55,79.31]])},a.prototype.addImageLayerForCommand=function(a,t){return new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max)),l.imageOverlay(a,[[16.94372611,78.32060365],[19.10372611,80.16060365]])},a.prototype.addImageLayerForCommandWris=function(a,t){return new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max)),l.imageOverlay(a,[[16.787,77.947],[19.231,80.51]])},a.prototype.addImageLayerForSrsCatchmentWris=function(a,t){return new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max)),l.imageOverlay(a,[[17.6655,74.9675],[21.028,78.51]])},a.prototype.addImageLayerForLMDCatchmentWris=function(a,t){return new l.LatLngBounds(new l.LatLng(t.y_min,t.x_min),new l.LatLng(t.y_max,t.x_max)),l.imageOverlay(a,[[17.78,78.5578],[18.65,79.48]])},a.prototype.getElevation=function(a,t){return this.http.get("https://api.mapbox.com/v4/mapbox.mapbox-terrain-v2/tilequery/"+t+","+a+".json?layers=contour&limit=50&access_token="+m.a.mapboxaccessToken)},a.ngInjectableDef=d.cb({factory:function(){return new a(d.gb(h.c),d.gb(i.a),d.gb(n.a),d.gb(c.a),d.gb(y.p),d.gb(p.a))},token:a,providedIn:"root"}),a}()},L49D:function(a,t,e){"use strict";e.d(t,"a",function(){return u});var n=e("AytR"),l=e("MCLT"),r=e("YBz7"),i=e("XXms"),o=e("CcnG"),s=e("t/Na"),u=function(){function a(a){this.http=a,this.urlConstants=n.a.url}return a.prototype.getFillColor=function(a){return a>90?"#d7191c":a>80?"#e66101":a>70?"#003399":a>50?"#3366cc":a>30?"#66ccff":a<30?"#ccffff":a?void 0:"gray"},a.prototype.formatReservoirData=function(a,t,e){var n,l,r,i,o,s,u,p,c,m,d,h,y,f,g,v,L,D,b,S,A,C,T,O,_,M,R,I={};for(var N in t){var F=t[N];"Sri Ram Sagar Project"==F.ln&&(r=(n=F).cl||n.cl>=0?n.cl:"-",i=n.lts?n.lts:"-",o=n.ft?n.ft:"-",s=n.lt?n.lt:"-",u=n.bn?n.bn:"Godavari-Basin",p=n.frl?n.frl:"-",c=n.tca?n.tca:"-",m=n.lat?n.lat:"-",d=n.lng?n.lng:"-",h=n.ofl||n.ofl>=0?n.ofl:"-",y=n.pfill||n.pfill>=0?n.pfill:"-",f=n.tSt||n.tSt>=0?n.tSt:"-"),"Lower Manair Dam"==F.ln&&(g=(l=F).cl||l.cl>=0?l.cl:"-",v=l.lts?l.lts:"-",L=l.ft?l.ft:"-",D=l.lt?l.lt:"-",b=l.bn?l.bn:"Godavari-Basin",S=l.frl?l.frl:"-",A=l.tca?l.tca:"-",C=l.lat?l.lat:"-",T=l.lng?l.lng:"-",O=l.ofl||l.ofl>=0?l.ofl:"-",_=l.pfill||l.pfill>=0?l.pfill:"-",M=l.tSt||l.tSt>=0?l.tSt:"-")}R=Math.max(c,A),Math.min(c,A);var w=3+c/R*7,P=3,E=0;(n.tSt||"0"==n.tSt)&&(P=3+n.tSt/R*7),n.tSt&&"-"==n.tSt&&(E=3);var Y=this.getFillColor(n.tSt/c*100);P>w&&(P=3),I[n["Sri Ram Sagar Project"]]={storage:f,cl:r,egt:i,ft:o,basin:u,frl:p,gc:c,latitude:m,longitude:d,output:h,pour:y,lt:s,outerRadius:w,innerRadius:P,color:Y,innerRadiusFordash:E},Object.assign(a.features[1].properties,I[n["Sri Ram Sagar Project"]]);var j=3+A/R*7,H=3,U=0;(l.tSt||"0"==l.tSt)&&(H=3+l.tSt/R*7),l.tSt&&"-"==l.tSt&&(U=3);var V=this.getFillColor(l.tSt/A*100);return H>j&&(H=3),I[l["Lower Manair Dam"]]={storage:M,cl:g,egt:v,ft:L,basin:b,frl:S,gc:A,latitude:C,longitude:T,output:O,pour:_,lt:D,outerRadius:j,innerRadius:H,color:V,innerRadiusFordash:U},Object.assign(a.features[0].properties,I[l["Lower Manair Dam"]]),a},a.prototype.getRainfallHeatmap=function(a){return this.http.post(this.urlConstants.KAL_WRIS_URL+"rf/heatmap",a)},a.prototype.getReservoirLayer=function(a){return this.http.get(this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+a+"&maxFeatures=5000000&outputFormat=application%2Fjson")},a.prototype.getReservoirLayerWithFilter=function(a,t){var e=this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+a+"&maxFeatures=5000000&outputFormat=application%2Fjson";return t&&(e+="&cql_filter="+t),this.http.get(e)},a.prototype.getDataForLegend=function(a,t,e){var n=a.substring(0,4),l=a.substring(4,6),r=a.substring(6,8),i=new Date(n,l,r);i.setHours(0,0,0,0);var o=i.getTime();o+=306e5;var s=t.substring(0,4),u=t.substring(4,6),p=t.substring(6,8),c=new Date(s,u,p);c.setHours(0,0,0,0);var m=c.getTime();return this.http.get(this.urlConstants.KAL_WRIS_URL+"getLegendDataForComponent/"+e+"/SUM/DAILY/"+o+"/"+(m+=306e5))},a.prototype.addLegendForRainfallHeatmap=function(a,t,e,n,l){var r=[],i="0.0 - ",o="0.0",s=0;Object.keys(n).forEach(function(a){if(n){s+=1;var t={};t.name=i+a,s==Object.keys(n).length?(t.name=">= "+o,i=a+"-",t.color=n[a],r.push(t)):(o=a,i=a+"-",t.color=n[a],r.push(t))}});var u={title:"RAINFALL"===l?"Actual Rainfall":"Deviation Rainfall",levels:r};if(u)return this.getLegendData(u,a)},a.prototype.addLegendToModal=function(a,t,e,n,l){void 0===e&&(e=!1),1==e&&(a="SWQ_POINTS");var o=i.a.LEGEND_DATA[a];if("gisview"===n&&(o=r.a.LEGEND_DATA[a]),o)return this.getLegendData(o,t,l)},a.prototype.getLegendData=function(a,t,e){var n={name:a.title,layer:t,elements:[]};if(a.levels&&a.levels.length>0&&(1!=e||Object(l.isNullOrUndefined)(e))){for(var r="",i=0;i<a.levels.length;i++)r+="<p style='height:20px;margin:0px;padding:4px;color:black;background-color: "+a.levels[i].color+"'>"+a.levels[i].name+"</p>";n.elements.push({html:r})}else if(a.HTML||a.image)n.elements.push({html:r=a.HTML?a.HTML:"<img style='width: 20px;' src='"+a.image+"'/>"});else if(a.levels){var o;if(!(a.levels instanceof Array)){var s={},u=function(e){var n={name:a.title,layer:t,elements:[]};a.levels[e].forEach(function(a){(o={}).html="",null!=a.image&&""!=a.image&&(o.html="<img style='width:13px;height:13px;' src='"+a.image+"'/>"),o.label=a.name,o.style={"background-color":a.color,width:"13px",height:"13px"},n.elements.push(o)}),s[e]=n};for(var p in a.levels)u(p);return s}a.levels.forEach(function(a){(o={}).html="",null!=a.image&&""!=a.image&&(o.html="<img style='width:13px;height:13px;' src='"+a.image+"'/>"),o.label=a.name,o.style={"background-color":a.color,width:"13px",height:"13px"},n.elements.push(o)})}return n},a.ngInjectableDef=o.cb({factory:function(){return new a(o.gb(s.c))},token:a,providedIn:"root"}),a}()},US6q:function(a,t,e){"use strict";var n=e("ZYCi"),l=(e("q4vc"),e("4R65")),r=(e("YAWo"),e("JXP8"),e("ovIW"),e("Gliu"),e("T9kQ"),e("RmgW"),e("MCLT")),i=(e("9HRS"),e("fFf7"),e("Ciq7")),o=(e("zKbe"),e("Xo4T")),s=function(){return function(a,t){this.groupName=a,this.layersList=t}}(),u=function(){return function(a,t){this.groupName=a,this.layersList=t}}(),p=function(){return function(a,t){this.groupName=a,this.layersList=t}}(),c=function(){return function(a,t){this.groupName=a,this.layersList=t}}(),m=function(){return function(a,t){this.groupName=a,this.layersList=t}}(),d=e("FVwl"),h=(e("L49D"),e("CjG9"),e("RVfK")),y=e("XXms"),f=e("wd/R"),g=e("BzG1"),v=(e("gM3f"),e("KiYQ")),L=e("Qy73"),D=e("eJtO"),b=e("b/uk");e.d(t,"a",function(){return C});var S=function(a,t,e,n){return new(e||(e=Promise))(function(l,r){function i(a){try{s(n.next(a))}catch(t){r(t)}}function o(a){try{s(n.throw(a))}catch(t){r(t)}}function s(a){a.done?l(a.value):new e(function(t){t(a.value)}).then(i,o)}s((n=n.apply(a,t||[])).next())})},A=function(a,t){var e,n,l,r,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,n&&(l=2&r[0]?n.return:r[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,r[1])).done)return l;switch(n=0,l&&(r=[2&r[0],l.value]),r[0]){case 0:case 1:l=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(l=(l=i.trys).length>0&&l[l.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!l||r[1]>l[0]&&r[1]<l[3])){i.label=r[1];break}if(6===r[0]&&i.label<l[1]){i.label=l[1],l=r;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(r);break}l[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(a,i)}catch(o){r=[6,o],n=0}finally{e=l=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},C=function(){function a(a,t,e,n,l,r,i,o){this.router=a,this.route=t,this.utilsService=e,this.gisService=n,this.gisData=l,this.dataService=r,this.modalSrv=i,this.dataaService=o,this.leftContainerSize=70,this.rightContainerSize=30,this.showPopup=!1,this.InfoTabStatus=!1,this.homeLegendFlag=!1,this.MISLegendFlag=!1,this.vectorLayerListLayerControl=[],this.htmlLegendObjects=[],this.HtmlLegendObjects=[],this.TS_FORMAT={Yearly:"yyyy",Monthly:"yyyyMM",Daily:"yyyyMMdd"},this.previousFeatureData={id:null,uuid:null,layer:null},this.activeFeatureData={id:null,uuid:null,layer:null,external_i:null},this.defaultToDarkFilter=["blur:0px","brightness:100%","contrast:100%","grayscale:100%","hue:180deg","opacity:100%","invert:100%","saturate:300%","sepia:10%"],this.groupConstants=[],this.groupRainfall=[],this.groupConstantsForCrop=[],this.groupConstantsForRameshwaramCrop=[],this.layerObjects={},this.activeLayers={},this.mapLoaderActive=!1,this.mapLoaderActive1=!1,this.mobileDevice=!1,this.showLegend=!1,this.baseLayers=[],this.groupConstantsForGeoJson=[],this.groupConstantForActualRainfall=[],this.groupActualCommand=[],this.groupForecastCommand=[],this.groupActualCatchmentLMD=[],this.catchmentLayerList=["RAINFALL_DEVIATION_HEATMAP_CATCHMENT","RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD","RAINFALL_HEATMAP_LMD","RAINFALL_HEATMAP_SRS"],this.commandLayerList=["RAINFALL_HEATMAP_COMMAND","RAINFALL_DEVIATION_HEATMAP_COMMAND"],this.informationLayerList=["SRS_Canal","PADDY_2019","PADDY_2020","PADDY_RAMESHWARAM_2020"]}return a.prototype.ngOnDestroy=function(){this.subEvent&&this.subEvent.unsubscribe(),localStorage.removeItem("activeLayer"),this.activeLayers=null,this.layerObjects=null},a.prototype.ngOnChanges=function(a){Object.keys(a.urlParams.currentValue).length>0&&this.map&&this.initializeOnStateLoad(!0)},a.prototype.ngOnInit=function(){var a=this;this.popup=l.popup({minWidth:360,maxWidth:450,closeButton:!1,autoPan:!1,keepInView:!0}),this.popup.setContent(this.popupContent.nativeElement),this.initializeMap(),this.createLayers(),this.initializeOnStateLoad(!0),this.subEvent=this.router.events.subscribe(function(t){t instanceof n.f&&"crop_coverage"===a.urlParams.component&&a.getGeoJsonFeaturesForLayer()})},a.prototype.initializeMap=function(){this.addMap(),this.createPanes()},a.prototype.revalidateMap=function(){var a=this;this.map&&setTimeout(function(){a.map.invalidateSize(),a.map.fire("zoomend")},200)},a.prototype.addMap=function(){this.map=l.map("mapid",{minZoom:5,maxZoom:22,zoomControl:!1}),this.map.setView([h.b.resLatAndLngMaping["Lower Maniar"][0],h.b.resLatAndLngMaping["Lower Maniar"][1]],9),this.newhtmlLegend=this.createLegend(),this.map.addControl(this.newhtmlLegend),this.map.scrollWheelZoom.disable(),this.addZoomBar()},a.prototype.getWritableObject=function(a){if(null==a||null==a)return a;var t={};for(var e in a)t[e]=a[e];return t},a.prototype.addZoomBar=function(){(new l.control.zoomBar).addTo(this.map)},a.prototype.createLayers=function(){return S(this,void 0,void 0,function(){var a,t,e,n,l,r,i,s,u,p;return A(this,function(c){for(a=this.getParams(),(t=a.view)&&this.dashboardView&&this.dashboardView!=t&&(this.dashboardView=t,this.toggleView(a)),e=0,n=y.a.GROUP_LIST;e<n.length;e++){for(r=[],i=0,s=(l=n[e]).layersList;i<s.length;i++)p=new o.a((u=s[i]).name,u.displayName,u.url,u.layerServiceType,u.default_select),u.imagesrc&&(p.imageSrc=u.imagesrc),"TILELAYER"==u.layerServiceType?this.layerObjects[u.name]=this.addEsriDynamicMapLayer(u):"WMSLAYER"==u.layerServiceType?(this.layerObjects[u.name]=this.gisService.addWMSLayer(u),this.map.addLayer(this.layerObjects[u.name])):"VECTOR"==u.layerServiceType&&this.addVectorLayer(u,a),r.push(p),this.activeLayers[u.name]=u.default_select,null===JSON.parse(localStorage.getItem("activeLayer"))&&localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers)),u.default_select&&"Base Layers"===l.groupNameGeoJson&&(this.map.addLayer(this.layerObjects[u.name]),this.activeBaseLayer=this.layerObjects[u.name]);"Base Layers"===l.groupNameGeoJson?this.baseLayers=r:this.groupConstantsForGeoJson.push(new d.a(l.groupNameGeoJson,r))}return[2]})})},a.prototype.toggleView=function(a){},a.prototype.removeparticularLayer=function(a){this.map.removeLayer(this.layerObjects[a])},a.prototype.addlayer=function(a){this.map.addLayer(this.layerObjects[a])},a.prototype.mytoogler=function(a,t){a==t?(this.activeLayers[t]=!this.activeLayers[t],this.activeLayers[t]?this.map.addLayer(this.layerObjects[t]):this.map.removeLayer(this.layerObjects[t])):(this.map.removeLayer(this.layerObjects[a]),this.activeLayers[a]=!1,this.map.addLayer(this.layerObjects[t]),this.activeLayers[t]=!0),localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))},a.prototype.mytooglerForBaseLayer=function(a,t){a==t?(this.activeLayers[t]=!this.activeLayers[t],this.activeLayers[t]&&!t.includes("SENTINEL")?this.map.addLayer(this.layerObjects[t]):this.map.removeLayer(this.layerObjects[t])):(t.includes("SENTINEL")||this.map.addLayer(this.layerObjects[t]),this.map.removeLayer(this.layerObjects[a]),this.activeLayers[a]=!1,this.activeLayers[t]=!0),localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))},a.prototype.toggleLayer=function(a){this.activeLayers[a]?this.map.addLayer(this.layerObjects[a]):this.map.removeLayer(this.layerObjects[a]),localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))},a.prototype.removeLayersFromMap=function(a){var t=this;a.forEach(function(a){null!=t.layerObjects[a]&&(t.map.removeLayer(t.layerObjects[a]),t.activeLayers[a]=!1)}),localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))},a.prototype.addVectorLayer=function(a,t){var e=[];e.push(a);var n=this.setVECTORLayers(this.map,this.getVectorOverlaysForState(e,null),a,y.a.locationToZoomlevelMap[a.name]);this.toggleView(t),this.vectorLayerListLayerControl.push(n),Object.assign(this.layerObjects,n)},a.prototype.getVectorOverlaysForState=function(a,t){var e={};return a.forEach(function(a){var n={type:"vector",layerOptions:{}};n.layerOptions.interactive=!0,n.layerOptions.rendererFactory=l.canvas.tile,n.url=a.url,t&&(n.url+="&cql_filter="+t),n.layerOptions.pane=a.layeroptions_pane,n.layerOptions.minZoom=a.layeroptions_min_zoom,n.layerOptions.maxZoom=a.layeroptions_max_zoom,n.layerOptions.pane=a.layeroptions_pane,n.layerOptions.visible=a.visible,n.layerOptions.vectorTileLayerStyles={},"STATE"==a.layer_name&&(n.layerOptions.vectorTileLayerStyles.kwaram_srsp_district={fillColor:"transparent",opacity:1,weight:.25,color:"#000000"},n.layerOptions.getFeatureId=function(a){return a.properties.gid}),"DISTRICT"==a.layer_name&&(n.layerOptions.vectorTileLayerStyles.kwaram_srsp_mandal_paddy_2019={opacity:1,weight:.15,color:"#000000"},n.layerOptions.getFeatureId=function(a){return a.properties.gid}),"SUBBASIN"==a.layer_name&&(n.layerOptions.vectorTileLayerStyles.kwaram_srs_sub_basin_clip=function(a,t){return{opacity:.4,weight:.4,color:"#A52A2A"}},n.layerOptions.getFeatureId=function(a){return a.properties.uuid}),"MERGE"==a.layer_name&&(n.layerOptions.vectorTileLayerStyles.kwaram_merge_catchment_command=function(a,t){return"Command Area"==a.category?{fillColor:"transparent",opacity:1,weight:.5,color:"#000000"}:{fillColor:"transparent",opacity:1,weight:.5,color:"#A52A2A"}},n.layerOptions.getFeatureId=function(a){return a.properties.gid}),"VECTOR"===a.type&&(e[a.layer_name]=n)}),e},a.prototype.setActiveFeatureData=function(a,t){if(this.previousFeatureData=JSON.parse(JSON.stringify(this.activeFeatureData)),-1!=y.a.AdminBasinLayersList.indexOf(this.previousFeatureData.layer)&&this.layerObjects[this.previousFeatureData.layer].resetFeatureStyle(this.previousFeatureData.gid),-1!=y.a.AdminBasinLayersList.indexOf(t)){var e=this.layerObjects[t];e&&e.setFeatureStyle(a,{color:"#000000",fillcolor:"#000000",weight:3})}this.activeFeatureData.gid=a,this.activeFeatureData.layer=t,this.activeFeatureData.id=null},a.prototype.getGeoJsonFeaturesForLayer=function(){var a=this,t=[];this.gisData.getReservoirLayer("kwaram_srsp_mandal_paddy_2019").subscribe(function(a){a.features.forEach(function(a){t.push({data:a.properties})})}),setTimeout(function(){a.gisService.changeMandalPopupData(t)},3e3)},a.prototype.setVECTORLayers=function(a,t,e,n){var i=this,o={},s=function(n){var s=t[n],p=new l.vectorGrid.protobuf(s.url,s.layerOptions);p.on({mouseover:function(a){var t=a.layer.properties.gid;t!=i.activeFeatureDataId()&&p.setFeatureStyle(t,{color:"#000000",weight:"DISTRICT"===e.name||"STATE"===e.name?1.5:1}),i.gisService.changeCommandCatchmentPopupData({}),"MERGE"==e.name&&i.gisService.changeCommandCatchmentAreaPopupData({layers:{data:a.sourceTarget.properties}}),"STATE"==e.name?(i.gisService.changeDistrictSubbasinPopupData({layers:{data:a.sourceTarget.properties,click:!1}}),i.showPopup=!0):"DISTRICT"==e.name?(i.gisService.changeDistrictSubbasinPopupData({layers:{data:a.sourceTarget.properties,click:!1}}),i.showPopup=!0):"SUBBASIN"==e.name&&(i.gisService.changeDistrictSubbasinPopupData({layers:{data:a.sourceTarget.properties,click:!1}}),i.showPopup=!0),p.bindPopup(i.popup),i.popup.setLatLng(a.latlng),setTimeout(function(){p.openPopup(i.popup)},1050)},mouseout:function(a){var t=a.layer.properties.gid;t!=i.activeFeatureDataId()&&p.resetFeatureStyle(t),p.unbindPopup(),i.map.closePopup()},click:function(a){var t,e,n,l;p.unbindPopup(),i.map.closePopup(),"rainfall"===i.urlParams.component&&(a.sourceTarget.properties.mandal_nam?(t=a.sourceTarget.properties.mandal_nam,n=a.sourceTarget.properties.dist_name,e="mandal",l=a.sourceTarget.properties.uuid):(t=a.sourceTarget.properties.dist_name,e="district",l=a.sourceTarget.properties.uuid,"Peddapalli"===a.sourceTarget.properties.dist_name?(t="Peddapalli District",n="Peddapalli District"):"Jagtial"===a.sourceTarget.properties.dist_name?(t="Jagtial District",n="Jagtial District"):"Warangal Urban"===a.sourceTarget.properties.dist_name?(t="Warangal_Urban",n="Warangal_Urban"):"Warangal Rural"===a.sourceTarget.properties.dist_name?(t="Warangal_Rural",n="Warangal_Rural"):"Nizamabad"===a.sourceTarget.properties.dist_name&&(t="Nizamabad District",n="Nizamabad District")));var o=a.sourceTarget.properties.category;"Catchment Area"==o?(i.map.setView([a.latlng.lat,a.latlng.lng],9),i.onLocationClick("catchment")):"Command Area"==o&&(i.map.setView([a.latlng.lat,a.latlng.lng],9),i.onLocationClick("command")),"mandal"!=e&&"mandal"!==i.urlParams.locationType||(i.map.setView([a.latlng.lat,a.latlng.lng],11),i.prevView=null),Object(r.isNullOrUndefined)(o)&&("district"!=e&&"mandal"!=e||i.onLocationClick(t,e,n,l))}}),u.map.on({popupclose:function(a){i.popup.unbindPopup(),i.showPopup=!1,i.gisService.changeDistrictSubbasinPopupData({}),i.gisService.changeCommandCatchmentAreaPopupData({})}}),o[n]=p,1==e.visible&&a.addLayer(p)},u=this;for(var p in t)s(p);return o},a.prototype.activeFeatureDataId=function(){return this.activeFeatureData.external_i},a.prototype.onLocationClick=function(a,t,e,n){var l={};"rainfall"==this.urlParams.component?l=this.dataaService.deepClone(g.b):"groundWater"==this.urlParams.component?l=this.dataaService.deepClone(v.a):"cropCoverage"==this.urlParams.component?l=this.dataaService.deepClone(L.b):"impactAssessment"==this.urlParams.component?l=this.dataaService.deepClone(D.a):"imformation"==this.urlParams.component&&(l=this.dataaService.deepClone(b.a)),"catchment"==a||"command"==a?(l.pointType="reservoir",l.point="Sri Ram Sagar Project",l.pointLocType=null,l.locName="Sri Ram Sagar Project",l.locationType=a,l.heatmapReload="false",l.districtPoint=null,l.timeStep=this.urlParams.timeStep,l.aggType=this.urlParams.aggType,l.heatmapType=this.urlParams.heatmapType,l.sDate=this.urlParams.sDate,l.eDate=this.urlParams.eDate):(l.pointType="reservoir",l.point=a,l.pointLocType=null,l.locName="Sri Ram Sagar Project",l.locationType=t,l.heatmapReload="false",l.districtPoint=e||null,l.locationuuid=n||null,l.timeStep=this.urlParams.timeStep,l.aggType=this.urlParams.aggType,l.heatmapType=this.urlParams.heatmapType,l.sDate=this.urlParams.sDate,l.eDate=this.urlParams.eDate),"rainfall"==this.urlParams.component?this.router.navigate(["kaleshwaram","geoportal","pd","rainfall",l]):"groundWater"==this.urlParams.component?this.router.navigate(["kaleshwaram","geoportal","pd","groundWater",l]):"cropCoverage"==this.urlParams.component?this.router.navigate(["kaleshwaram","geoportal","pd","cropCoverage",l]):"impactAssessment"==this.urlParams.component?this.router.navigate(["kaleshwaram","geoportal","pd","impactAssessment",l]):"information"==this.urlParams.component&&this.router.navigate(["kaleshwaram","geoportal","pd","information",l])},a.prototype.addLayerToGroup=function(a,t,e){var n=this.groupConstants.find(function(a){return a.groupName===e});if(n){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addLayerToGroupOfCrop=function(a,t,e){var n=this.groupConstantsForCrop.find(function(a){return a.groupName===e});if(n){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addLayerToGroupOfRameshwaramCrop=function(a,t,e){var n=this.groupConstantsForRameshwaramCrop.find(function(a){return a.groupName===e});if(n){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addLayerToGroupOfHeatmap=function(a,t,e){var n;if(n="Rainfall Forecast Catchment"==e?this.groupRainfall.find(function(a){return a.groupName===e}):this.groupConstantForActualRainfall.find(function(a){return a.groupName===e})){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addLayerToGroupOfLMDCatchment=function(a,t,e){var n=this.groupActualCatchmentLMD.find(function(a){return a.groupName===e});if(n){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addLayerToGroupOfHeatmapCommand=function(a,t,e){var n;if(n="Rainfall Forecast Command"==e?this.groupForecastCommand.find(function(a){return a.groupName===e}):this.groupActualCommand.find(function(a){return a.groupName===e})){var l=n.layersList.find(function(t){return t.name===a.name});if(l?(l=a,this.activeLayers[a.name]=a.default_select||!1):(n.layersList.push(a),this.activeLayers[a.name]=a.default_select||!1),this.activeLayers[a.name]){var r=this.layerObjects[a.name];this.map&&r&&this.map.hasLayer(r)&&this.map.removeLayer(r),null!=this.map&&this.map.addLayer(t)}this.layerObjects[a.name]=t,localStorage.setItem("activeLayer",JSON.stringify(this.activeLayers))}},a.prototype.addComponent=function(a){Object.values(h.a).findIndex(function(t){return t==a})>-1&&this.addGroup(h.b.GROUPNAME_MAPPING[a]),this.revalidateMap()},a.prototype.addComponentofCrop=function(a){this.addCropComponent(a)},a.prototype.addComponentofRameshwaramCrop=function(a){this.addCropComponentForRameshwaram(a)},a.prototype.addComponentOfHeatMap=function(a){this.addHeatMapComponent(a)},a.prototype.addComponentOfHeatMapForForecastCommand=function(a){this.addHeatMapComponentForecastCommand(a)},a.prototype.addComponentOfHeatMapForActual=function(a){this.addHeatMapComponentForActual(a)},a.prototype.addComponentOfHeatMapForActualCommand=function(a){this.addHeatMapComponentForActualCommand(a)},a.prototype.addComponentOfHeatMapForActualCatchmentLMD=function(a){this.addHeatMapComponentForActualCatchmentLMD(a)},a.prototype.addCropComponent=function(a){this.addGroupForCrop(a)},a.prototype.addCropComponentForRameshwaram=function(a){this.addGroupForRameshwaramCrop(a)},a.prototype.addHeatMapComponent=function(a){this.addGroupForHeatMap(a)},a.prototype.addHeatMapComponentForActual=function(a){this.addGroupForActualRainfall(a)},a.prototype.addHeatMapComponentForActualCommand=function(a){this.addGroupForActualRainfallCommand(a)},a.prototype.addHeatMapComponentForecastCommand=function(a){this.addGroupForecastCommand(a)},a.prototype.addHeatMapComponentForActualCatchmentLMD=function(a){this.addGroupForActualCatchmentLMD(a)},a.prototype.addGroupForCrop=function(a){this.groupConstantsForCrop.find(function(t){return t.groupName===a})||this.groupConstantsForCrop.push(new i.a(a,[]))},a.prototype.addGroupForRameshwaramCrop=function(a){this.groupConstantsForRameshwaramCrop.find(function(t){return t.groupName===a})||this.groupConstantsForRameshwaramCrop.push(new i.a(a,[]))},a.prototype.addGroupForHeatMap=function(a){this.groupRainfall.find(function(t){return t.groupName===a})||this.groupRainfall.push(new s(a,[]))},a.prototype.addGroupForecastCommand=function(a){this.groupForecastCommand.find(function(t){return t.groupName===a})||this.groupForecastCommand.push(new c(a,[]))},a.prototype.addGroupForActualCatchmentLMD=function(a){this.groupActualCatchmentLMD.find(function(t){return t.groupName===a})||this.groupActualCatchmentLMD.push(new p(a,[]))},a.prototype.addGroup=function(a){this.groupConstants.find(function(t){return t.groupName===a})||this.groupConstants.push(new i.a(a,[]))},a.prototype.addGroupForActualRainfall=function(a){this.groupConstantForActualRainfall.find(function(t){return t.groupName===a})||this.groupConstantForActualRainfall.push(new m(a,[]))},a.prototype.addGroupForActualRainfallCommand=function(a){this.groupActualCommand.find(function(t){return t.groupName===a})||this.groupActualCommand.push(new u(a,[]))},a.prototype.removeGroupOfRameshwaramCrop=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupConstantsForRameshwaramCrop.findIndex(function(t){return t.groupName===a}))&&(this.groupConstantsForRameshwaramCrop[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupConstantsForRameshwaramCrop.splice(e,1))},a.prototype.removeGroupOfCrop=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupConstantsForCrop.findIndex(function(t){return t.groupName===a}))&&(this.groupConstantsForCrop[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupConstantsForCrop.splice(e,1))},a.prototype.removeGroupOfHeatmapCommand=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupForecastCommand.findIndex(function(t){return t.groupName===a}))&&(this.groupForecastCommand[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupForecastCommand.splice(e,1))},a.prototype.removeGroupOfHeatmap=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupRainfall.findIndex(function(t){return t.groupName===a}))&&(this.groupRainfall[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupRainfall.splice(e,1))},a.prototype.removeGroupOfHeatmapForActual=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupConstantForActualRainfall.findIndex(function(t){return t.groupName===a}))&&(this.groupConstantForActualRainfall[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupConstantForActualRainfall.splice(e,1))},a.prototype.removeGroupOfHeatmapForActualCommand=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupActualCommand.findIndex(function(t){return t.groupName===a}))&&(this.groupActualCommand[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupActualCommand.splice(e,1))},a.prototype.removeGroupOfHeatmapForActualCatchmentLMD=function(a,t){var e,n=this;void 0===t&&(t=!0),-1!=(e=this.groupActualCatchmentLMD.findIndex(function(t){return t.groupName===a}))&&(this.groupActualCatchmentLMD[e].layersList.forEach(function(a){n.activeLayers[a.name]&&n.layerObjects[a.name]&&n.map.hasLayer(n.layerObjects[a.name])&&n.map.removeLayer(n.layerObjects[a.name]),delete n.layerObjects[a.name],delete n.activeLayers[a.name]}),t&&this.groupActualCatchmentLMD.splice(e,1))},a.prototype.removeGroup=function(a,t){var e=this;void 0===t&&(t=!0);var n=this.groupConstants.findIndex(function(t){return t.groupName===a});-1!=n&&(this.groupConstants[n].layersList.forEach(function(a){e.activeLayers[a.name]&&e.layerObjects[a.name]&&e.map.hasLayer(e.layerObjects[a.name])&&e.map.removeLayer(e.layerObjects[a.name]),delete e.layerObjects[a.name],delete e.activeLayers[a.name]}),t&&this.groupConstants.splice(n,1))},a.prototype.removeLayerObjectFromGroup=function(a,t){var e=this,n=this.groupConstants.findIndex(function(a){return a.groupName===t});if(-1!==n){var l=0,r=null;this.groupConstants[n].layersList.forEach(function(t){t.name===a&&(e.activeLayers[a]&&e.layerObjects[a]&&e.map.hasLayer(e.layerObjects[a])&&e.map.removeLayer(e.layerObjects[a]),delete e.activeLayers[a],r=l),l+=1}),null!=r&&null!=r&&this.groupConstants[n].layersList.splice(r,1)}},a.prototype.getParams=function(){return this.utilsService.getWritableObject(this.route.snapshot.params)},a.prototype.setParams=function(){y.a.params=this.getParams()},a.prototype.createPanes=function(){var a=this;y.a.PANE_LIST.forEach(function(t){a.map.createPane(t.name),a.map.getPane(t.name).style.zIndex=t.zindex})},a.prototype.initializeOnStateLoad=function(a){void 0===a&&(a=!1),this.revalidateMap(),this.setParams(),this.application=this.urlParams.application?this.urlParams.application:"geo",localStorage.setItem("activeComponent",this.urlParams.component),this.setActiveFeatureForGEOJSON(this.urlParams),this.changeGISNavigation(a)},a.prototype.changeGISNavigation=function(a){if(this.application=this.urlParams.application?this.urlParams.application:"geo",this.gisService.getActivatedRoute(this.urlParams),this.sDateForHeader=this.urlParams.sDate,this.eDateForHeader=this.urlParams.eDate,this.timestepForHeader=this.urlParams.timeStep,!this.sDateForHeader||!this.eDateForHeader){var t=new Date;this.eDateForHeader=f(t).format("YYYYMMDD"),this.sDateForHeader=new Date("2020-06-01"),this.sDateForHeader=f(this.sDateForHeader).format("YYYYMMDD"),this.timestepForHeader="DAILY"}this.title="information"==this.urlParams.component?" Heatmap For Paddy Crop from June to September":this.timestepForHeader+" Cumulative Rainfall Information From "+this.utilsService.getDateInFormatFromModelDate(this.utilsService.getStartAndEndDatesForType(this.sDateForHeader,this.eDateForHeader,this.TS_FORMAT[this.timestepForHeader]).startDate,"dd-mmm-yyyy")+" To "+this.utilsService.getDateInFormatFromModelDate(this.utilsService.getLastDayForGivenModelDate(this.eDateForHeader),"dd-mmm-yyyy")+" Using  State And Central Stations Data";var e=this.urlParams.component;this.Initload=a;var n=this.getParams();this.Initload=a,(a||this.component!=e)&&(Object.assign(n,{mapOnClickParams:"false"}),e&&(this.addComponent("rainfall"),this.addComponentOfHeatMapForActual("Rainfall Heatmap Catchment"),this.addComponentOfHeatMapForActualCommand("Rainfall Heatmap Command"),this.addComponentOfHeatMapForActualCatchmentLMD("Rainfall Heatmap LMD Catchment"),this.addComponentofCrop("Crop"),this.addComponentofRameshwaramCrop("Rameshwaram Crop"))),this.changeComponentLayers(this.urlParams,a);var l=n.view;this.Initload=a,(a||l&&this.dashboardView&&this.dashboardView!=l)&&(this.dashboardView=l,this.toggleView(n))},a.prototype.setActiveFeatureForGEOJSON=function(a){var t=this;if(this.districtLayer&&this.map.removeLayer(this.districtLayer),"reservoir"===a.pointType)if("catchment"===a.locationType)this.map.setView([19.3474881283573,76.52975750901405],8.5);else if("command"===a.locationType||"information"===a.component)this.map.setView([h.b.resLatAndLngMaping["Lower Maniar"][0],h.b.resLatAndLngMaping["Lower Maniar"][1]],9);else if("district"===a.locationType&&this.activeLayers.STATE){var e=a.point.search("District")>-1?a.point.slice(0,a.point.indexOf(" ")):a.point.search("_")>-1?a.point.split("_").join(" "):a.point;this.gisData.getReservoirLayerWithFilter("kwaram_srsp_district","dist_name='"+e+"'").subscribe(function(a){Object(r.isNullOrUndefined)(a.features[0])||(t.map.setView([a.features[0].properties.lat,a.features[0].properties.long],10),t.prevView=[a.features[0].properties.lat,a.features[0].properties.long],t.districtLayer=l.geoJSON(a,{style:{weight:5,color:"black",fillOpacity:0,pane:"state"}}),t.map.addLayer(t.districtLayer))})}else"mandal"===a.locationType&&this.activeLayers.DISTRICT&&this.gisData.getReservoirLayerWithFilter("kwaram_srsp_mandal_paddy_2019","mandal_nam='"+(e=a.point)+"'").subscribe(function(a){Object(r.isNullOrUndefined)(t.prevView)||t.map.setView([t.prevView[0],t.prevView[1]],11),t.districtLayer=l.geoJSON(a,{style:{weight:5,color:"black",fillOpacity:0,pane:"rivers"}}),t.map.addLayer(t.districtLayer)})},a.prototype.delay=function(a){return new Promise(function(t){return setTimeout(t,a)})},a.prototype.changeComponentLayers=function(a,t){var e=this;if((1==t||"true"==this.urlParams.heatmapReload)&&this.component!=this.urlParams.component||"true"===this.urlParams.applyFilter)this.catchmentLayerList.forEach(function(a){e.map.hasLayer(e.layerObjects[a])&&e.map.removeLayer(e.layerObjects[a])}),this.commandLayerList.forEach(function(a){e.map.hasLayer(e.layerObjects[a])&&e.map.removeLayer(e.layerObjects[a])}),this.addComponentSrcWiseLayers();else{var n=JSON.parse(localStorage.getItem("activeLayer"));if(Object(r.isNullOrUndefined)(n))return;Object.keys(n).forEach(function(a){n[a]&&(e.map.hasLayer(e.layerObjects[a])||e.map.addLayer(e.layerObjects[a]))})}},a.prototype.addComponentSrcWiseLayers=function(){var a=this;this.application=this.urlParams.application?this.urlParams.application:"geo";var t=this.urlParams.locId,e=this.getParams().component,n=("command"===this.urlParams.locationType||"district"===this.urlParams.locationType||"mandal"===this.urlParams.locationType)&&"rainfall"===this.urlParams.component,l="catchment"===this.urlParams.locationType&&"rainfall"===this.urlParams.component,r=JSON.parse(localStorage.getItem("activeLayer"));this.localStorageActiveLayers=r,"information"===this.urlParams.component&&(this.commandLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])}),this.catchmentLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])})),"rsvrb-sriram-project"==t&&(this.addReservoirPolygonLayer(t),this.addReservoirPointLayer(t),this.addGodavariMaskLayer(),this.addSrsCatchmentStation(t),this.addSrsCommandStation(t),this.addSrsAllCatchmentStation(t),this.addSrsAllCommandStation(t),this.addGodavariRiverPolygonLayer(),this.addRiverPolygonLayer(),this.addCanalLayer(),this.addCropSowingPaddyLayer2019(),this.addCropSowingPaddyLayer2020(),"Deviation"==this.urlParams.heatmapType&&(this.removeLayerFromGrop(this.groupActualCommand,"RAINFALL_HEATMAP_COMMAND"),this.removeLayerFromGrop(this.groupActualCatchmentLMD,"RAINFALL_HEATMAP_LMD"),this.removeLayerFromGrop(this.groupConstantForActualRainfall,"RAINFALL_HEATMAP_SRS"),this.addRainfallDeviationHeatMapForCommand(n),this.addRainfallDeviationHeatMapForCatchmentLMD(l),this.addRainfallDeviationHeatMapForCatchmentSRS(l)),"Actual"==this.urlParams.heatmapType&&(this.removeLayerFromGrop(this.groupActualCommand,"RAINFALL_DEVIATION_HEATMAP_COMMAND"),this.removeLayerFromGrop(this.groupActualCatchmentLMD,"RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD"),this.removeLayerFromGrop(this.groupConstantForActualRainfall,"RAINFALL_DEVIATION_HEATMAP_CATCHMENT"),this.addRainfallHeatmapForCommand(),this.addRainfallHeatmapForCatchmentSRS(),this.addRainfallHeatmapForCatchmentLMD()),"information"===this.urlParams.component&&(this.commandLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])}),this.catchmentLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])})),"rainfall"===this.urlParams.component&&("command"===this.urlParams.locationType&&this.catchmentLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])}),"catchment"===this.urlParams.locationType&&this.commandLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])})),"rainfall"===this.urlParams.component&&this.informationLayerList.forEach(function(t){a.map.hasLayer(a.layerObjects[t])&&a.map.removeLayer(a.layerObjects[t])}),Object.keys(this.layerObjects).forEach(function(t){a.map.hasLayer(a.layerObjects[t])||delete a.activeLayers[t]})),this.component=e},a.prototype.removeLayerFromGrop=function(a,t){for(var e in a[0].layersList)a[0].layersList[e].name==t&&a[0].layersList.splice(e,1)},a.prototype.addHeatMapLayerForSrs=function(a,t,e,n,l,r){return S(this,void 0,void 0,function(){var i,o,s,u,p,c,m,d,h;return A(this,function(y){switch(y.label){case 0:return o=this.urlParams.eDate,(i=this.urlParams.sDate)&&o||(s=new Date,o=this.utilsService.getDateandTimeString(s,"YYYYMMDD"),i=new Date("2020-06-01"),i=this.utilsService.getDateandTimeString(i,"YYYYMMDD")),u={x_min:63.89,x_max:101.335,y_min:4.545,y_max:38.682},"catchment"==n?p=this.gisService.addImageLayerForSrsCatchmentWris(a,u):"command_wris"==n?p=this.gisService.addImageLayerForCommandWris(a,u):"command"==n?p=this.gisService.addImageLayerForCommand(a,u):"catchment_lmd"==n&&(p=this.gisService.addImageLayerForLMDCatchmentWris(a,u)),[4,this.gisData.getDataForLegend(i,o,"RAINFALL").toPromise()];case 1:return c=y.sent(),m=this.gisData.addLegendForRainfallHeatmap(p,i,o,c,"RAINFALL"),"actual"==l?(p.options.name="RAINFALL_ACTUAL",m.name=r,h={name:"RAINFALL_ACTUAL",legend:m,layer:p},this.newhtmlLegend.addLegend(m),this.htmlLegendObjects.push(h)):(p.options.name="RAINFALL_DEVIATION",(d=this.gisData.addLegendToModal("DEVIATION_HEATMAP",p,this.htmlLegend)).name=r,h={name:"RAINFALL_DEVIATION_HEATMAP_COMMAND",legend:d,layer:p},this.newhtmlLegend.addLegend(d)),"catchment"==n?(this.addLayerToGroupOfHeatmap(t,p,e),this.addLegendObjects("RAINFALL_HEATMAP_COMMAND",m)):"catchment_lmd"==n?this.addLayerToGroupOfLMDCatchment(t,p,e):(this.addLayerToGroupOfHeatmapCommand(t,p,e),this.addLegendObjects("RAINFALL_HEATMAP",m)),[2]}})})},a.prototype.addRainfallHeatmapForCommand=function(){var a=this;this.mapLoaderActive=!0,this.getTimeStampFromUrlDate();var t=this.urlParams.sDate,e=this.urlParams.eDate,n=this.urlParams.timeStep;if(!t||!e){var l=new Date;e=this.utilsService.getDateandTimeString(l,"YYYYMMDD"),t=new Date("2020-06-01"),t=this.utilsService.getDateandTimeString(t,"YYYYMMDD"),n="DAILY"}this.localStorageActiveLayers.RAINFALL_HEATMAP_COMMAND&&Object(r.isNullOrUndefined)(this.component);var i={pUUID:"7d95652e-ca75-11ea-87d0-0242ac130003",pType:"COMMAND_AREA",cType:"BLOCK"};i.format=n.toUpperCase(),i.src="STATE_AND_CENTRAL_STATIONS",i.view="ADMIN",i.sDate=t,i.eDate=e,i.aggr="SUM",i.pEUUID="7d95652e-ca75-11ea-87d0-0242ac130003",i.classification=["ACTUAL"],this.gisData.getRainfallHeatmap(i).subscribe(function(t){var e,n=t.ACTUAL;e=new o.a("RAINFALL_HEATMAP_COMMAND","Actual Heatmap","IMAGE_LAYER","",!0),a.addHeatMapLayerForSrs(n,e,"Rainfall Heatmap Command","command_wris","actual","Actual Command"),a.mapLoaderActive=!1})},a.prototype.addRainfallHeatmapForCatchmentSRS=function(){var a=this,t=(this.getTimeStampFromUrlDate(),this.urlParams.sDate),e=this.urlParams.eDate,n=this.urlParams.timeStep;if(!t||!e){var l=new Date;e=this.utilsService.getDateandTimeString(l,"YYYYMMDD"),t=new Date("2020-06-01"),t=this.utilsService.getDateandTimeString(t,"YYYYMMDD"),n="DAILY"}var i=!1;this.localStorageActiveLayers.RAINFALL_HEATMAP_SRS&&Object(r.isNullOrUndefined)(this.component)?i=!0:this.component!=this.urlParams.component&&(i=!1);var s={pUUID:"64685886-ca75-11ea-87d0-0242ac130003",pType:"CATCHMENT_AREA",cType:"BLOCK"};s.format=n.toUpperCase(),s.src="STATE_AND_CENTRAL_STATIONS",s.view="ADMIN",s.sDate=t,s.eDate=e,s.aggr="SUM",s.pEUUID="64685886-ca75-11ea-87d0-0242ac130003",s.classification=["ACTUAL"],this.gisData.getRainfallHeatmap(s).subscribe(function(t){var e;t=t.ACTUAL,e=new o.a("RAINFALL_HEATMAP_SRS","Actual Heatmap","IMAGE_LAYER","",i),a.addHeatMapLayerForSrs(t,e,"Rainfall Heatmap Catchment","catchment","actual","Actual Catch")})},a.prototype.addRainfallHeatmapForCatchmentLMD=function(){var a=this,t=(this.getTimeStampFromUrlDate(),this.urlParams.sDate),e=this.urlParams.eDate,n=this.urlParams.timeStep;if(!t||!e){var l=new Date;e=this.utilsService.getDateandTimeString(l,"YYYYMMDD"),t=new Date("2020-06-01"),t=this.utilsService.getDateandTimeString(t,"YYYYMMDD"),n="DAILY"}var i=!1;this.localStorageActiveLayers.RAINFALL_HEATMAP_LMD&&Object(r.isNullOrUndefined)(this.component)?i=!0:this.component!=this.urlParams.component&&(i=!1);var s={pUUID:"2eb9c552-d23c-11ea-87d0-0242ac130003",pType:"CATCHMENT_AREA",cType:"BLOCK"};s.format=n.toUpperCase(),s.src="STATE_AND_CENTRAL_STATIONS",s.view="ADMIN",s.sDate=t,s.eDate=e,s.aggr="SUM",s.pEUUID="2eb9c552-d23c-11ea-87d0-0242ac130003",s.classification=["ACTUAL"],this.gisData.getRainfallHeatmap(s).subscribe(function(t){var e;t=t.ACTUAL,e=new o.a("RAINFALL_HEATMAP_LMD","Actual Heatmap","IMAGE_LAYER","",i),a.addHeatMapLayerForSrs(t,e,"Rainfall Heatmap LMD Catchment","catchment_lmd","actual","Actual LMD")})},a.prototype.addRainfallDeviationHeatMapForCommand=function(a){var t=this;this.mapLoaderActive=!0;var e=new Date("2019-06-01"),n=new Date;e.setHours(0,0,0,0),e.getTime(),n.setHours(0,0,0,0),n.getTime();var l=new Date,i=this.utilsService.getDateandTimeString(l,"YYYYMMDD");a&&"district"!==this.urlParams.locationType&&"mandal"!==this.urlParams.locationType||(this.mapLoaderActive=!1);var s=!1;this.localStorageActiveLayers.RAINFALL_DEVIATION_HEATMAP_COMMAND&&Object(r.isNullOrUndefined)(this.component)?s=!0:this.component!=this.urlParams.component&&(s=!1);var u={pUUID:"7d95652e-ca75-11ea-87d0-0242ac130003",pType:"COMMAND_AREA",cType:"BLOCK",format:"DAILY",src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:"20200601"};u.eDate=i,u.aggr="SUM",u.pEUUID="7d95652e-ca75-11ea-87d0-0242ac130003",u.classification=["DEVIATION"],this.gisData.getRainfallHeatmap(u).subscribe(function(e){var n,l=e.DEVIATION;n=new o.a("RAINFALL_DEVIATION_HEATMAP_COMMAND","Deviation Heatmap","IMAGE_LAYER","",a||s),t.addHeatMapLayerForSrs(l,n,"Rainfall Heatmap Command","command_wris","deviation","Deviation Command");var r=t.gisData.addLegendToModal("DEVIATION_HEATMAP",n,t.htmlLegend);t.addLegendObjects("RAINFALL_DEVIATION_HEATMAP_COMMAND",r),t.mapLoaderActive=!1})},a.prototype.addRainfallDeviationHeatMapForCatchmentLMD=function(a){var t=this,e=new Date("2019-06-01"),n=new Date;e.setHours(0,0,0,0),e.getTime(),n.setHours(0,0,0,0),n.getTime();var l=new Date,i=this.utilsService.getDateandTimeString(l,"YYYYMMDD");this.mapLoaderActive1=!!a;var s=!1;this.localStorageActiveLayers.RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD&&Object(r.isNullOrUndefined)(this.component)?s=!0:this.component!=this.urlParams.component&&(s=!1),this.map.hasLayer(this.layerObjects.RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD)&&this.map.removeLayer(this.layerObjects.RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD);var u={pUUID:"2eb9c552-d23c-11ea-87d0-0242ac130003",pType:"CATCHMENT_AREA",cType:"BLOCK",format:"DAILY",src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:"20200601"};u.eDate=i,u.aggr="SUM",u.pEUUID="2eb9c552-d23c-11ea-87d0-0242ac130003",u.classification=["DEVIATION"],this.gisData.getRainfallHeatmap(u).subscribe(function(e){var n;e=e.DEVIATION,n=new o.a("RAINFALL_DEVIATION_HEATMAP_CATCHMENT_LMD","Deviation Heatmap","IMAGE_LAYER","",a||s),t.addHeatMapLayerForSrs(e,n,"Rainfall Heatmap LMD Catchment","catchment_lmd","deviation","Deviation LMD");var l=t.gisData.addLegendToModal("DEVIATION_HEATMAP",n,t.htmlLegend);t.addLegendObjects("RAINFALL_DEVIATION_HEATMAP_CATCHMENT",l),t.mapLoaderActive1=!1})},a.prototype.addRainfallDeviationHeatMapForCatchmentSRS=function(a){var t=this,e=new Date("2019-06-01"),n=new Date;e.setHours(0,0,0,0),e.getTime(),n.setHours(0,0,0,0),n.getTime(),this.mapLoaderActive1=!!a;var l=!1;this.localStorageActiveLayers.RAINFALL_DEVIATION_HEATMAP_CATCHMENT&&Object(r.isNullOrUndefined)(this.component)?l=!0:this.component!=this.urlParams.component&&(l=!1);var i={},s=new Date,u=this.utilsService.getDateandTimeString(s,"YYYYMMDD");i.pUUID="64685886-ca75-11ea-87d0-0242ac130003",i.pType="CATCHMENT_AREA",i.cType="BLOCK",i.format="DAILY",i.src="STATE_AND_CENTRAL_STATIONS",i.view="ADMIN",i.sDate="20200601",i.eDate=u,i.aggr="SUM",i.pEUUID="64685886-ca75-11ea-87d0-0242ac130003",i.classification=["DEVIATION"],this.gisData.getRainfallHeatmap(i).subscribe(function(e){var n;e=e.DEVIATION,n=new o.a("RAINFALL_DEVIATION_HEATMAP_CATCHMENT","Deviation Heatmap","IMAGE_LAYER","",a||l),t.addHeatMapLayerForSrs(e,n,"Rainfall Heatmap Catchment","catchment","deviation","Deviation Catch");var r=t.gisData.addLegendToModal("DEVIATION_HEATMAP",n,t.htmlLegend);t.addLegendObjects("RAINFALL_DEVIATION_HEATMAP_CATCHMENT",r),t.mapLoaderActive1=!1})},a.prototype.addCropSowingPaddyLayer2019=function(){var a=new o.a("PADDY_2019","Paddy Kharif 2019","WMS_LAYER",h.e,!1);a.layerName=h.i+":kwaram_srsp_paddy_sowing_area_2019",a.minZoom=6,a.maxZoom=20,a.pane="WA";var t=this.gisService.addWMSLayer(a);this.addLayerToGroupOfCrop(a,t,"Crop");var e=this.gisData.addLegendToModal("PADDY_2019",t,this.htmlLegend);this.newhtmlLegend.addLegend(e),this.addLayerToGroupOfCrop(a,t,"Crop"),this.addLegendObjects("PADDY_2019",e)},a.prototype.addCropSowingPaddyLayer2020=function(){var a=new o.a("PADDY_2020","Paddy Kharif 2020","WMS_LAYER",h.e,!0);a.layerName=h.i+":kwaram_srsp_paddy_sowing_area_2020_new",a.minZoom=6,a.maxZoom=20,a.pane="WA";var t=this.gisService.addWMSLayer(a),e=this.gisData.addLegendToModal("PADDY_2020",t,this.htmlLegend);this.newhtmlLegend.addLegend(e),this.addLayerToGroupOfCrop(a,t,"Crop"),this.addLegendObjects("PADDY_2020",e)},a.prototype.addReservoirCatchmentLayer=function(){var a=new o.a("CATCHMENT_AREA","Catchment Area","WMS_LAYER",h.e,!0);a.layerName=h.i+":kwaram_srs_lmd_catchment",a.minZoom=5,a.maxZoom=12,a.pane="state";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Rainfall")},a.prototype.addVectorTileLayerForCatchmentAreaNext3DaysRainfall=function(){return S(this,void 0,void 0,function(){var a,t,e,n,l;return A(this,function(r){switch(r.label){case 0:return a=new Date,(t=new Date(a.setDate(a.getDate()+1))).setHours(8),t.setMinutes(30),t.setSeconds(0),(e=new Date(a.setDate(a.getDate()+2))).setHours(8),e.setMinutes(29),e.setSeconds(0),[4,this.dataService.getCatchmentRainfall(t.getTime(),e.getTime(),"full").toPromise()];case 1:return n=r.sent(),l=this.gisService.setVECTORLayers(this.map,this.gisService.getVectorOverlays(y.a.VECTORLAYER_CONSTANTS.Reservoirforecast,"Reservoirforecast",null)),Object.assign(this.layerObjects,l),this.fillMapWithColrsForReservoirForForecast(n),[2]}})})},a.prototype.addReservoirPointLayer=function(a){var t=this,e=this.utilsService.getMonsoonYearFromModelDate(),n={pEUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",pUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",pType:"COUNTRY",cType:"RESERVOIR",src:"STATE_AND_CENTRAL_STATIONS",format:"YEARLY",sDate:e,eDate:e,classification:["INSTANT_DATA"],aggr:"LATEST"};return new Promise(function(e,l){t.gisData.getReservoirLayerWithFilter("kwaram_point","name IN ('Sri Ram Sagar' , 'Lower Maniar')").subscribe(function(e){t.dataService.getAllStorageDataForSvg(n).subscribe(function(n){var l=new o.a("RESERVOIR_POINTS","Reservoirs Point","MARKER_CLUSTER","",!0),r=t.gisData.formatReservoirData(e,n,a),i=t.gisService.addConcentricCircleMarkerLayer(r,"RESERVOIR_POINTS",t.map,t.popup),s=t.gisData.addLegendToModal("RESERVOIR_POINTS",i,t.htmlLegend);t.addLegendObjects("RESERVOIR_POINTS",s);var u={name:"RESERVOIR_POINTS",legend:s,layer:l};t.newhtmlLegend.addLegend(s),t.htmlLegendObjects.push(u),t.addLayerToGroup(l,i,"Rainfall")})})})},a.prototype.addSrsCatchmentStation=function(a){var t=this,e=this.getTimeStampFromUrlDate()[0],n=this.getTimeStampFromUrlDate()[1],l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD"),s=this.urlParams.timeStep;"DAILY"==(s=s?s.toUpperCase():"DAILY")?(l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD")):"YEARLY"==s?(l=this.utilsService.getDateandTimeString(e,"YYYY"),i=this.utilsService.getDateandTimeString(n,"YYYY")):"MONTHLY"==s&&(l=this.utilsService.getDateandTimeString(e,"YYYYMM"),i=this.utilsService.getDateandTimeString(n,"YYYYMM"));var u="64685886-ca75-11ea-87d0-0242ac130003",p={pUUID:"64685886-ca75-11ea-87d0-0242ac130003",pType:"CATCHMENT_AREA",cType:"RAINFALL",format:s,src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:l,eDate:i,aggr:"SUM",pEUUID:u,classification:["ACTUAL"]};return new Promise(function(a,s){var c=!1;t.localStorageActiveLayers.STATION_POINTS&&Object(r.isNullOrUndefined)(t.component)?c=!0:t.component!=t.urlParams.component&&(c=!1),t.map.hasLayer(t.layerObjects.STATION_POINTS)&&t.map.removeLayer(t.layerObjects.STATION_POINTS),t.gisData.getReservoirLayerWithFilter("kwaram_srs_station_catchment","1=1").subscribe(function(a){t.dataService.getStationRainfallData(p).subscribe(function(a){var r=new o.a("STATION_POINTS","Catchment Station (Reporting Stations)","MARKER_CLUSTER","",c),s=t.gisService.addConcentricCircleMarkerLayerForCatchment_CommandStations(e,n,a,t.map,t.popup,"Catchment Station",t.urlParams,u);t.gisData.getDataForLegend(l,i,"RAINFALL").subscribe(function(a){var e=t.gisData.addLegendForRainfallHeatmap(s,l,i,a,"RAINFALL");t.addLegendObjects("STATION_POINTS",e),e.name="Catchment Station";var n={name:"STATION_POINTS",legend:e,layer:r};t.newhtmlLegend.addLegend(e),t.htmlLegendObjects.push(n),t.addLayerToGroup(r,s,"Rainfall")})})})})},a.prototype.addSrsAllCatchmentStation=function(a){var t=this,e=this.getTimeStampFromUrlDate()[0],n=this.getTimeStampFromUrlDate()[1],l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD"),s=this.urlParams.timeStep;"DAILY"==(s=s?s.toUpperCase():"DAILY")?(l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD")):"YEARLY"==s?(l=this.utilsService.getDateandTimeString(e,"YYYY"),i=this.utilsService.getDateandTimeString(n,"YYYY")):"MONTHLY"==s&&(l=this.utilsService.getDateandTimeString(e,"YYYYMM"),i=this.utilsService.getDateandTimeString(n,"YYYYMM"));var u="64685886-ca75-11ea-87d0-0242ac130003",p={pUUID:"64685886-ca75-11ea-87d0-0242ac130003",pType:"CATCHMENT_AREA",cType:"RAINFALL",format:s,src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:l,eDate:i,aggr:"SUM",pEUUID:u,classification:["ACTUAL"],includeAllLoc:!0};return new Promise(function(a,s){var c=!1;t.localStorageActiveLayers["STATION_POINTS ALL"]&&Object(r.isNullOrUndefined)(t.component)?c=!0:t.component!=t.urlParams.component&&(c=!1),t.map.hasLayer(t.layerObjects["STATION_POINTS ALL"])&&t.map.removeLayer(t.layerObjects["STATION_POINTS ALL"]),t.gisData.getReservoirLayerWithFilter("kwaram_srs_station_catchment","1=1").subscribe(function(a){t.dataService.getStationRainfallData(p).subscribe(function(a){var r=new o.a("STATION_POINTS ALL","Catchment Station (All Stations)","MARKER_CLUSTER","",c),s=t.gisService.addConcentricCircleMarkerLayerForCatchment_CommandStations(e,n,a,t.map,t.popup,"Catchment Station",t.urlParams,u);t.gisData.getDataForLegend(l,i,"RAINFALL").subscribe(function(a){t.addLayerToGroup(r,s,"Rainfall")})})})})},a.prototype.addSrsCommandStation=function(a){var t=this,e=this.getTimeStampFromUrlDate()[0],n=this.getTimeStampFromUrlDate()[1],l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD"),s=this.urlParams.timeStep;"DAILY"==(s=s?s.toUpperCase():"DAILY")?(l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD")):"YEARLY"==s?(l=this.utilsService.getDateandTimeString(e,"YYYY"),i=this.utilsService.getDateandTimeString(n,"YYYY")):"MONTHLY"==s&&(l=this.utilsService.getDateandTimeString(e,"YYYYMM"),i=this.utilsService.getDateandTimeString(n,"YYYYMM"));var u="7d95652e-ca75-11ea-87d0-0242ac130003",p={pUUID:"7d95652e-ca75-11ea-87d0-0242ac130003",pType:"COMMAND_AREA",cType:"RAINFALL",format:s,src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:l,eDate:i,aggr:"SUM",pEUUID:u,classification:["ACTUAL"]};return new Promise(function(a,s){var c=!1;t.localStorageActiveLayers.STATION_POINTS_COMMAND&&Object(r.isNullOrUndefined)(t.component)?c=!0:t.component!=t.urlParams.component&&(c=!1),t.map.hasLayer(t.layerObjects.STATION_POINTS_COMMAND)&&t.map.removeLayer(t.layerObjects.STATION_POINTS_COMMAND),t.gisData.getReservoirLayerWithFilter("kwaram_srs_station_command","1=1").subscribe(function(a){t.dataService.getStationRainfallData(p).subscribe(function(a){var r=new o.a("STATION_POINTS_COMMAND","Command Station (Reporting Stations)","MARKER_CLUSTER","",c),s=t.gisService.addConcentricCircleMarkerLayerForCatchment_CommandStations(e,n,a,t.map,t.popup,"Command Station",t.urlParams,u);t.gisData.getDataForLegend(l,i,"RAINFALL").subscribe(function(a){var e=t.gisData.addLegendForRainfallHeatmap(s,l,i,a,"RAINFALL");t.addLegendObjects("STATION_POINTS_COMMAND",e),e.name="Command Station";var n={name:"STATION_POINTS_COMMAND",legend:e,layer:r};t.newhtmlLegend.addLegend(e),t.htmlLegendObjects.push(n),t.addLayerToGroup(r,s,"Rainfall")})})})})},a.prototype.addSrsAllCommandStation=function(a){var t=this,e=this.getTimeStampFromUrlDate()[0],n=this.getTimeStampFromUrlDate()[1],l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD"),s=this.urlParams.timeStep;"DAILY"==(s=s?s.toUpperCase():"DAILY")?(l=this.utilsService.getDateandTimeString(e,"YYYYMMDD"),i=this.utilsService.getDateandTimeString(n,"YYYYMMDD")):"YEARLY"==s?(l=this.utilsService.getDateandTimeString(e,"YYYY"),i=this.utilsService.getDateandTimeString(n,"YYYY")):"MONTHLY"==s&&(l=this.utilsService.getDateandTimeString(e,"YYYYMM"),i=this.utilsService.getDateandTimeString(n,"YYYYMM"));var u="7d95652e-ca75-11ea-87d0-0242ac130003",p={pUUID:"7d95652e-ca75-11ea-87d0-0242ac130003",pType:"COMMAND_AREA",cType:"RAINFALL",format:s,src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:l,eDate:i,aggr:"SUM",pEUUID:u,classification:["ACTUAL"],includeAllLoc:!0};return new Promise(function(a,s){var c=!1;t.localStorageActiveLayers["STATION_POINTS_COMMAND ALL"]&&Object(r.isNullOrUndefined)(t.component)?c=!0:t.component!=t.urlParams.component&&(c=!1),t.map.hasLayer(t.layerObjects["STATION_POINTS_COMMAND ALL"])&&t.map.removeLayer(t.layerObjects["STATION_POINTS_COMMAND ALL"]),t.gisData.getReservoirLayerWithFilter("kwaram_srs_station_command","1=1").subscribe(function(a){t.dataService.getStationRainfallData(p).subscribe(function(a){var r=new o.a("STATION_POINTS_COMMAND ALL","Command Station (All Stations)","MARKER_CLUSTER","",c),s=t.gisService.addConcentricCircleMarkerLayerForCatchment_CommandStations(e,n,a,t.map,t.popup,"Command Station",t.urlParams,u);t.gisData.getDataForLegend(l,i,"RAINFALL").subscribe(function(a){t.addLayerToGroup(r,s,"Rainfall")})})})})},a.prototype.addResrvoirCommandLayer=function(){var a=new o.a("RESERVOIR_Canal","Command Area","WMS_LAYER",h.e,!0);a.layerName=h.i+":kwaram_srsp_command_area",a.minZoom=5,a.maxZoom=12,a.pane="state";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Rainfall")},a.prototype.addCanalLayer=function(){var a=new o.a("SRS_Canal","Canal","WMS_LAYER",h.e,!0);a.layerName=h.i+":kwaram_srs_canal",a.minZoom=9,a.maxZoom=20,a.pane="rivers";var t=this.gisService.addWMSLayer(a),e=this.gisData.addLegendToModal("SRS_Canal",t,this.htmlLegend);this.addLegendObjects("SRS_Canal",e);var n={name:"SRS_Canal",legend:e,layer:a};this.newhtmlLegend.addLegend(e),this.htmlLegendObjects.push(n),this.addLayerToGroup(a,t,"Rainfall")},a.prototype.addGodavariRiverPolygonLayer=function(){var a=!1;this.localStorageActiveLayers.RIVER_POLYGON_GODAVARI&&Object(r.isNullOrUndefined)(this.component)?a=!0:this.component!=this.urlParams.component&&(a=!1),this.map.hasLayer(this.layerObjects.RIVER_POLYGON_GODAVARI)&&this.map.removeLayer(this.layerObjects.RIVER_POLYGON_GODAVARI);var t=new o.a("RIVER_POLYGON_GODAVARI","Godavari River ","WMS_LAYER",h.e,a);t.layerName=h.i+":kwaram_godavari_river_polygon",t.minZoom=5,t.maxZoom=20,t.pane="state";var e=this.gisService.addWMSLayer(t);this.addLayerToGroup(t,e,"Rainfall")},a.prototype.addRiverPolygonLayer=function(){var a=!1;this.localStorageActiveLayers.RIVER_POLYGON&&Object(r.isNullOrUndefined)(this.component)?a=!0:this.component!=this.urlParams.component&&(a=!1),this.map.hasLayer(this.layerObjects.RIVER_POLYGON)&&this.map.removeLayer(this.layerObjects.RIVER_POLYGON);var t=new o.a("RIVER_POLYGON","SRS River","WMS_LAYER",h.e,a);t.layerName=h.i+":kwaram_srsp_river_polygon",t.minZoom=5,t.maxZoom=20,t.pane="state";var e=this.gisService.addWMSLayer(t);this.addLayerToGroup(t,e,"Rainfall")},a.prototype.addReservoirPolygonLayer=function(a){var t=new o.a("RESERVOIR_POLYGON","Reservoir","WMS_LAYER",h.e,!0);t.layerName=h.i+":reservoirs_20210930_total_v1",t.minZoom=5,t.maxZoom=20,t.pane="district",t.cql_filter="name IN ('Sri Ram Sagar' , 'Lower Maniar')";var e=this.gisService.addWMSLayer(t);this.addLayerToGroup(t,e,"Rainfall")},a.prototype.addVectorTileLayerForCatchmentAreaNext24HrRainfall=function(){return S(this,void 0,void 0,function(){var a,t,e,n,l;return A(this,function(r){switch(r.label){case 0:return a=new Date,(t=new Date(a.setDate(a.getDate()))).setHours(8),t.setMinutes(30),t.setSeconds(0),(e=new Date(a.setDate(a.getDate()+1))).setHours(8),e.setMinutes(29),e.setSeconds(0),[4,this.dataService.getCatchmentRainfall(t.getTime(),e.getTime(),"full").toPromise()];case 1:return n=r.sent(),l=this.gisService.setVECTORLayers(this.map,this.gisService.getVectorOverlays(y.a.VECTORLAYER_CONSTANTS.Reservoir,"Reservoir",null)),Object.assign(this.layerObjects,l),this.fillMapWithColrsForReservoir(n),[2]}})})},a.prototype.fillMapWithColrsForReservoir=function(a){var t,e=this.layerObjects.kwaram_commandArea,n={};n={fill:!0,fillOpacity:1,color:"#000000",opacity:.4,weight:1},t=this.gisService.formatCatchmentData(a);var r=this;e.options.vectorTileLayerStyles.kwaram_srs_lmd_catchment=function(a,e){var l=["#e6ffe6","#b3ffb3","#80ff80","#4dff4d","#1aff1a","#00e600","#00cc00","#009900","#006400"];return n.fillColor=l[Math.floor(Math.random()*l.length)],n.fillColor=r.gisService.getColor(a,t),n},e.on("click",function(a){var t=a.latlng;r.map.setView([t.lat,t.lng],10)}),e.on("mouseover",function(a){(new l.popup).setLatLng(a.latlng).setContent(a.sourceTarget.properties.poi_name).openOn(r.map)}),e.on("mouseout",function(a){r.activeFeatureDataId()});var i=new o.a("srs_catchment","Rainfall","MARKER_CLUSTER","",!0);this.addLayerToGroup(i,e,"Rainfall");var s=this.gisData.addLegendToModal("srs_catchment",e,this.htmlLegend);this.addLegendObjects("srs_catchment",s)},a.prototype.fillMapWithColrsForReservoirForForecast=function(a){var t,e=this.layerObjects.kwaram_catchmentAreaForecast,n={};n={fill:!0,fillOpacity:1,color:"#000000",opacity:.4,weight:1},t=this.gisService.formatCatchmentData(a);var r=this;e.options.vectorTileLayerStyles.kwaram_srs_catchment=function(a,e){var l=["#e6ffe6","#b3ffb3","#80ff80","#4dff4d","#1aff1a","#00e600","#00cc00","#009900","#006400"];return n.fillColor=l[Math.floor(Math.random()*l.length)],n.fillColor=r.gisService.getColor(a,t),n},e.on("click",function(a){var t=a.latlng;r.map.setView([t.lat,t.lng],10)}),e.on("mouseover",function(a){(new l.popup).setLatLng(a.latlng).setContent(a.sourceTarget.properties.poi_name).openOn(r.map)}),e.on("mouseout",function(a){r.activeFeatureDataId()});var i=new o.a("srs_catchment_forecast","Forecast Rainfall","MARKER_CLUSTER","",!1);this.addLayerToGroup(i,e,"Rainfall");var s=this.gisData.addLegendToModal("srs_catchment_forecast",e,this.htmlLegend);this.addLegendObjects("srs_catchment_forecast",s)},a.prototype.addLegendObjects=function(a,t){var e={name:a,legend:t},n=this.HtmlLegendObjects.findIndex(function(t){return t.name==a});n>-1?this.HtmlLegendObjects[n]=e:this.HtmlLegendObjects.push(e)},a.prototype.addGodavariMaskLayer=function(){var a=!1;this.localStorageActiveLayers.GODAVARI_MASK&&Object(r.isNullOrUndefined)(this.component)?a=!0:this.component!=this.urlParams.component&&(a=!1),this.map.hasLayer(this.layerObjects.GODAVARI_MASK)&&this.map.removeLayer(this.layerObjects.GODAVARI_MASK);var t=new o.a("GODAVARI_MASK","Godavari Mask","WMS_LAYER",h.f,a);t.layerName="VASSARLABS:kwaram_mask_godavari",t.minZoom=5,t.maxZoom=20,t.pane="tile";var e=this.gisService.addWMSLayer(t);this.addLayerToGroup(t,e,"Rainfall")},a.prototype.addReservoirNetworkLayer=function(){var a=new o.a("RESERVOIR_NETWORK","Rivers","WMS_LAYER",h.e,!0);a.layerName="kaleshwaram:kwaram_srs_lmd_river_layer",a.minZoom=5,a.maxZoom=12,a.pane="rivers";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Rainfall")},a.prototype.addTileLayer=function(){var a=new l.TileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png");this.map.addLayer(a)},a.prototype.addEsriDynamicMapLayer=function(a){return"Google Satellite"===a.name?l.tileLayer.colorFilter(a.url,{maxZoom:22,subdomains:["mt0","mt1","mt2","mt3"]}):new l.TileLayer(a.url,a)},a.prototype.addHeatMapLayer=function(a,t,e,n){var l,r={x_min:18.8165770003284,x_max:77.8768121996234,y_min:19.0963487998573,y_max:78.349943199719};l="catchment"==n?this.gisService.addImageLayerForCatchment(a,r):this.gisService.addImageLayerForCommand(a,r),"catchment"==n?this.addLayerToGroupOfHeatmap(t,l,e):this.addLayerToGroupOfHeatmapCommand(t,l,e);var i=this.gisData.addLegendToModal("srs_catchment",l,this.htmlLegend);this.addLegendObjects("srs_catchment",i)},a.prototype.validateValue=function(a){return null!=a&&null!=a&&-1!=a},a.prototype.getTimeStampFromUrlDate=function(){var a,t,e,n,l;if("Daily"==this.urlParams.timeStep)a=(n=this.urlParams.sDate).substring(0,4),t=n.substring(4,6),e=n.substring(6,8),n=new Date(a,t-1,e),a=(l=this.urlParams.eDate).substring(0,4),t=l.substring(4,6),e=l.substring(6,8),l=new Date(a,t-1,e);else if("Monthly"==this.urlParams.timeStep){a=(n=this.urlParams.sDate).substring(0,4),t=n.substring(4,6),n=new Date(a,t-1,1),a=(l=this.urlParams.eDate).substring(0,4),t=l.substring(4,6);var r=!1;(a%4==0&&a%100!=0||a%400==0)&&(r=!0),l=2==(t=parseInt(t))&&r?new Date(a,t-1,29):2!=t||r?[1,3,5,7,8,10,12].includes(t)?new Date(a,t-1,31):new Date(a,t-1,30):new Date(a,t-1,28)}else"Yearly"==this.urlParams.timeStep&&(a=(n=this.urlParams.sDate).substring(0,4),n=new Date(a,5,1),a=(l=this.urlParams.eDate).substring(0,4),a=parseInt(a),l=new Date(a+1,4,31));if(!n||!l){var i=new Date;(n=new Date).setDate(i.getDate()-3),l=i}n.setHours(0,0,0,0);var o=n.getTime();o+=306e5,l.setHours(0,0,0,0);var s=l.getTime();s+=306e5;var u=[];return u[0]=o,u[1]=s,u},a.prototype.handleEventFromSearch=function(a){this.map.setView([a.location.lat,a.location.long],"GEODATA"!=a.ct?h.b.ZOOM_LEVELS[a.ct]:h.b.ZOOM_LEVELS[a.et])},a.prototype.createLegend=function(){return new l.Control.HtmlLegend({position:"bottomright",collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1})},a}()},ljMB:function(a,t,e){"use strict";e.d(t,"a",function(){return n}),e("US6q");var n=function(){return function(){}}()},"rhd+":function(a,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(){return function(){}}()},wlMv:function(a,t,e){"use strict";var n=e("CcnG"),l=e("Ip0R");e("yvxA"),e("CjG9"),e.d(t,"a",function(){return r}),e.d(t,"b",function(){return p});var r=n.zb({encapsulation:0,styles:[[""]],data:{}});function i(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["District"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.dist_name)})}function o(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Mandal"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.mandal_nam)})}function s(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,1,"th",[],null,null,null,null,null)),(a()(),n.Sb(-1,null,["Subbasin"])),(a()(),n.Bb(3,0,null,null,1,"td",[],null,null,null,null,null)),(a()(),n.Sb(4,null,["",""]))],null,function(a,t){var e=t.component;a(t,4,0,null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.subbasnnam)})}function u(a){return n.Ub(0,[(a()(),n.Bb(0,0,null,null,9,"div",[["class","popup-table-section"]],null,null,null,null,null)),(a()(),n.Bb(1,0,null,null,8,"div",[["class","card-body p-0"]],null,null,null,null,null)),(a()(),n.Bb(2,0,null,null,7,"table",[["class","table table-sm m-0 table-bordered"]],null,null,null,null,null)),(a()(),n.Bb(3,0,null,null,6,"tbody",[],null,null,null,null,null)),(a()(),n.sb(16777216,null,null,1,null,i)),n.Ab(5,16384,null,0,l.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,o)),n.Ab(7,16384,null,0,l.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(a()(),n.sb(16777216,null,null,1,null,s)),n.Ab(9,16384,null,0,l.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,5,0,(null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.dist_name)&&!(null!=e.popupData&&null!=e.popupData.layers&&null!=e.popupData.layers.data&&e.popupData.layers.data.mandal_nam)),a(t,7,0,null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.mandal_nam),a(t,9,0,null==e.popupData?null:null==e.popupData.layers?null:null==e.popupData.layers.data?null:e.popupData.layers.data.subbasnnam)},null)}function p(a){return n.Ub(0,[(a()(),n.sb(16777216,null,null,1,null,u)),n.Ab(1,16384,null,0,l.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(a,t){var e=t.component;a(t,1,0,(null==e.popupData?null:e.popupData.layers)&&!(null!=e.popupData&&null!=e.popupData.layers&&e.popupData.layers.click))},null)}},yvxA:function(a,t,e){"use strict";e.d(t,"a",function(){return l});var n=e("MCLT"),l=(e("CjG9"),function(){function a(a){this.gisService=a}return a.prototype.ngOnInit=function(){var a=this;this.gisService.districtPopup.subscribe(function(t){Object(n.isNullOrUndefined)(t)||(a.popupData=t)})},a}())}}]);