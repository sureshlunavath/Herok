(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/scs":function(t,e,a){function n(t){var e=[];return t.eachLayer(function(t){e.push(r(t))}),e}function r(t){var e=function(t){var e={};for(var a in t){var n=t[a];e[a]=n&&n.clone?n.clone():n instanceof L.Layer?r(n):n}return e}(t.options);if(t instanceof L.SVG)return L.svg(e);if(t instanceof L.Canvas)return L.canvas(e);if(L.GridLayer.GoogleMutant&&t instanceof L.GridLayer.GoogleMutant){var a=L.gridLayer.googleMutant(e);return t._GAPIPromise.then(function(){var e=Object.keys(t._subLayers);for(var n in e)a.addGoogleLayer(e[n])}),a}if(t instanceof L.TileLayer.WMS)return L.tileLayer.wms(t._url,e);if(t instanceof L.TileLayer)return L.tileLayer(t._url,e);if(t instanceof L.ImageOverlay)return L.imageOverlay(t._url,t._bounds,e);if(t instanceof L.Marker)return L.marker(t.getLatLng(),e);if(t instanceof L.Circle)return L.circle(t.getLatLng(),t.getRadius(),e);if(t instanceof L.CircleMarker)return L.circleMarker(t.getLatLng(),e);if(t instanceof L.Rectangle)return L.rectangle(t.getBounds(),e);if(t instanceof L.Polygon)return L.polygon(t.getLatLngs(),e);if(t instanceof L.Polyline)return L.polyline(t.getLatLngs(),e);if(t instanceof L.GeoJSON)return L.geoJson(t.toGeoJSON(),e);if(t instanceof L.FeatureGroup)return L.featureGroup(n(t));if(t instanceof L.LayerGroup)return L.layerGroup(n(t));throw"Unknown layer, cannot clone this layer. Leaflet-version: "+L.version}t.exports=r},"62rn":function(t,e,a){"use strict";a.d(e,"a",function(){return D});var n=a("MCLT"),r=a("4R65"),i=a("XWfP"),o=(a("iNfD"),a("q4vc")),s=a("wd/R"),l=a("/scs"),u=a.n(l),p=(a("pvrN"),a("CDzl")),c=a("Io2v"),d=a("l2lq"),h=a("RVfK"),m=a("gM3f"),y=a("AytR"),f=a("26FU"),g=a("G5J1"),A=a("9Z1F"),v=a("A4o3"),S=a("CcnG"),T=a("ZYCi"),_=a("t/Na"),b=function(){return(b=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},L=function(t,e,a,n){return new(a||(a=Promise))(function(r,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){t.done?r(t.value):new a(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},I=function(t,e){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},D=function(){function t(t,e,a,n,i,o){var s=this;this.router=t,this.utilsService=e,this.http=a,this.camsService=n,this.dataaService=i,this.injector=o,this.activeFeatureData={id:null,uuid:null,layer:null,external_i:null},this.urlConstants=y.a.url,this.linksToCanalMapping={KAKATIYA_MAINCANAL:{reservoir:"Sri Ram Sagar Project",stage:"STAGE 1"},KMC:{reservoir:"Lower Manair Dam",stage:"STAGE 2"}},this.stageWiseDistrictMapping={SRSP:["'Nalgonda'","'Jangoan'","'Rangareddy'","'Yadadri Bhuvanagiri'","'Mancherial'","'Siddipet'","'Rajanna Sircilla'","'Mulugu'"],"STAGE 1":["'Khammam'","'Suryapet'","'Nalgonda'","'Jangoan'","'Rangareddy'"],"STAGE 2":["'Mahabubabad'","'Khammam'","'Suryapet'","'Nalgonda'","'Jangoan'","'Rangareddy'"]},this.stageWiseFilterMapping={"STAGE 1":"KAKATIYA_MAINCANAL","STAGE 2":"Below LMD"},this.canalLayerObj=new r.LayerGroup,this.distributaryLayerObj=new r.LayerGroup,this.camsConfigData={},this.latestWaterRelease={},this.GWDugwellData={},this.obsservedDatesList=new f.a(null),this.params={},this.camsService.getSelectedParams().subscribe(function(t){s.urlParams=t,"canalGis"==s.urlParams.dashboardType&&s.getTimes()})}return t.prototype.checkIsMobileView=function(){return!!window.matchMedia("(max-width:992px)").matches},t.prototype.getApplicationBasedLayer=function(t,e,a,n){return e==d.i.LAYER_TYPES.WMS_LAYER?this.getWMSOverLays(t,a):e==d.i.LAYER_TYPES.VECTOR_LAYER?this.getVECTOROverlays(t,a):e==d.i.LAYER_TYPES.GEOJSON_LAYER?this.getGEOJSONOverLays(t,n):void 0},t.prototype.getWMSOverLays=function(t,e){var a={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],o={};o.name=i.name,o.type="wms",o.component=i.component,o.layerOptions={},i.cType&&i.cType.length>0&&(o.layerOptions.cType=i.cType),e&&e.pUUID&&(o.layerOptions.pUUID=e.pUUID),o.layerOptions.name=i.name,o.layerOptions.format="image/png",o.layerOptions.transparent=!0,"Crop"==o.name&&(o.layerOptions.name=d.i.FARM_CROP[this.urlParams.year].name,i.layeroptions_name=d.i.FARM_CROP[this.urlParams.year].layeroptions_name[i.vectorORraster],i.legendName=d.i.FARM_CROP[this.urlParams.year].legendName),o.url="State Names"==o.name?this.urlConstants.GEOSERVER_URL+"forecast/ows":"Sentinel 2"==o.name?i.url:this.getGeoServerURL()+"/wms",this.validateValue(i.hasLegend)&&(o.layerOptions.hasLegend=i.hasLegend),this.validateValue(i.legendName)&&(o.layerOptions.legendName=i.legendName),this.validateValue(i.key)&&(o.layerOptions.key=i.key),this.validateValue(i.view)&&(o.layerOptions.view=i.view),this.validateValue(i.parentView)&&(o.layerOptions.parentView=i.parentView),this.validateValue(i.childView)&&(o.layerOptions.childView=i.childView),this.validateValue(i.pType)&&(o.layerOptions.pType=i.pType),this.validateValue(i.clickZoom)&&(o.layerOptions.clickZoom=i.clickZoom),this.validateValue(i.imagesrc)&&(o.layerOptions.imagesrc=i.imagesrc),this.validateValue(i.source)&&(o.layerOptions.source=i.source),this.validateValue(i.layer_name)&&(o.layerOptions.layer_name=i.layer_name),this.validateValue(i.cql_filter)&&(o.layerOptions.cql_filter=i.cql_filter),this.validateValue(i.subgroup)&&(o.layerOptions.subgroup=i.subgroup),this.validateValue(i.visible)&&(o.layerOptions.visible=i.visible),this.validateValue(i.group)&&(o.layerOptions.group=i.group),this.validateValue(i.layeroptions_name)&&(o.layerOptions.layers=i.layeroptions_name),this.validateValue(i.layeroptions_min_zoom)&&(o.layerOptions.minZoom=i.layeroptions_min_zoom),this.validateValue(i.layeroptions_max_zoom)&&(o.layerOptions.maxZoom=i.layeroptions_max_zoom),this.validateValue(i.layeroptions_pane)&&(o.layerOptions.pane=i.layeroptions_pane),this.validateValue(i.layeroptions_zindex)&&(o.layerOptions.zIndex=i.layeroptions_zindex),this.validateValue(i.layeroptions_show_on_selector)&&!i.layeroptions_show_on_selector&&(o.layerOptions.showOnSelector=i.layeroptions_show_on_selector),this.validateValue(i.group_type)&&(o.layerOptions.groupType=i.group_type),this.validateValue(i.data)&&(o.layerOptions.data=i.data),this.validateValue(i.crs)&&"EPSG4326"==i.crs&&(o.layerOptions.crs=r.CRS.EPSG4326),this.validateValue(i.position)&&(o.layerOptions.position=i.position),i.type==d.i.LAYER_TYPES.WMS_LAYER&&(o.layerOptions.type=d.i.LAYER_TYPES.WMS_LAYER,o.name.includes("Sentinel")||o.name.includes("ALOS")?(o.key=o.name,a[o.name]=o):(o.key=n,a[n]=o)),this.validateValue(i.layeroptions_styles)&&(o.layerOptions.STYLES=i.layeroptions_styles),this.validateValue(i.info)&&(o.layerOptions.info=i.info)}return a},t.prototype.getVECTOROverlays=function(t,e){var a={};for(var n in t){var i=t[n];if(i.type==d.i.LAYER_TYPES.VECTOR_LAYER){var o={type:"vector"};o.name=i.name,o.component=i.component,o.layerOptions={},o.layerOptions.interactive=!0,o.layerOptions.name=i.layer_name,o.layerOptions.rendererFactory=r.canvas.tile,o.url=this.getVectorLayerURL(i.layeroptions_name,o.layerOptions.cql_filter),this.validateValue(i.view)&&(o.layerOptions.view=i.view),this.validateValue(i.pType)&&(o.layerOptions.pType=i.pType),o.layerOptions.minZoom=i.layeroptions_min_zoom,o.layerOptions.maxZoom=i.layeroptions_max_zoom,o.layerOptions.pane=i.layeroptions_pane,o.layerOptions.visible=i.visible,o.layerOptions.type=d.i.LAYER_TYPES.VECTOR_LAYER,this.validateValue(i.source)&&(o.layerOptions.source=i.source),this.validateValue(i.dashboardView)&&(o.layerOptions.dashboardView=i.dashboardView),this.validateValue(i.hasLegend)&&(o.layerOptions.hasLegend=i.hasLegend),this.validateValue(i.legendName)&&(o.layerOptions.legendName=i.legendName),this.validateValue(i.parentView)&&(o.layerOptions.parentView=i.parentView),this.validateValue(i.childView)&&(o.layerOptions.childView=i.childView),o.layerOptions.group=i.group,o.layerOptions.displayName=i.displayName,this.validateValue(i.layeroptions_show_on_selector)&&!i.layeroptions_show_on_selector&&(o.layerOptions.showOnSelector=i.layeroptions_show_on_selector),this.validateValue(i.group_type)&&(o.layerOptions.groupType=i.group_type),o.layerOptions.vectorTileLayerStyles={},i.layer_name==d.i.LAYERNAMES_LIST[d.b.DISTRICT].Boundaries?(o.layerOptions.vectorTileLayerStyles.kwaram_srsp_district={fillColor:"transparent",opacity:.75,weight:.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):i.layer_name==d.i.LAYERNAMES_LIST[d.b.MANDAL].Boundaries&&(o.layerOptions.vectorTileLayerStyles.kwaram_srsp_mandal_v2={opacity:1,weight:.33,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}),i.type==d.i.LAYER_TYPES.VECTOR_LAYER&&(o.key=i,a[n]=o)}}return a},t.prototype.getGEOJSONOverLays=function(t,e){var a,n={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],s={};s.name=o.name,s.type=d.i.LAYER_TYPES.GEOJSON_LAYER,s.layerOptions={},s.layerOptions.type=d.i.LAYER_TYPES.GEOJSON_LAYER,s.layerOptions.name=o.name,s.layerOptions.format="image/png",s.layerOptions.transparent=!0,this.validateValue(o.pType)&&(s.layerOptions.pType=o.pType),this.validateValue(o.hasLegend)&&(s.layerOptions.hasLegend=o.hasLegend),this.validateValue(o.legendName)&&(s.layerOptions.legendName=o.legendName),this.validateValue(o.legendData)&&(s.layerOptions.legendData=o.legendData),this.validateValue(o.component)&&(s.layerOptions.component=o.component),this.validateValue(o.view)&&(s.layerOptions.view=o.view),this.validateValue(o.parentView)&&(s.layerOptions.parentView=o.parentView),this.validateValue(o.childView)&&(s.layerOptions.childView=o.childView),this.validateValue(o.layer_name)&&(s.layerOptions.layer_name=o.layer_name),this.validateValue(o.cqlfilter)&&(s.layerOptions.cqlfilter=o.cqlfilter),this.validateValue(o.source)&&(s.layerOptions.source=o.source),this.validateValue(o.clickZoom)&&(s.layerOptions.clickZoom=o.clickZoom),this.validateValue(o.visible)&&(s.layerOptions.visible=o.visible),this.validateValue(o.layerFrom)&&(s.layerOptions.layerFrom=o.layerFrom),this.validateValue(o.includeAll)&&(s.layerOptions.includeAll=o.includeAll),this.validateValue(o.style)&&(s.layerOptions.style=o.style),this.validateValue(o.onEachFeature)&&(s.layerOptions.onEachFeature=o.onEachFeature),this.validateValue(o.pointToLayer)&&(s.layerOptions.pointToLayer=o.pointToLayer),this.validateValue(o.afterLayerAddition)&&(s.layerOptions.afterLayerAddition=o.afterLayerAddition),this.validateValue(o.group)&&(s.layerOptions.group=o.group),this.validateValue(o.layeroptions_name)&&(s.layerOptions.layers=o.layeroptions_name),this.validateValue(o.layeroptions_min_zoom)&&(s.layerOptions.minZoom=o.layeroptions_min_zoom),this.validateValue(o.layeroptions_max_zoom)&&(s.layerOptions.maxZoom=o.layeroptions_max_zoom),this.validateValue(o.layeroptions_pane)&&(s.layerOptions.pane=o.layeroptions_pane),this.validateValue(o.layeroptions_zindex)&&(s.layerOptions.zIndex=o.layeroptions_zindex),this.validateValue(o.layeroptions_show_on_selector)&&!o.layeroptions_show_on_selector&&(s.layerOptions.showOnSelector=o.layeroptions_show_on_selector),this.validateValue(o.group_type)&&(s.layerOptions.groupType=o.group_type),this.validateValue(o.data)&&(s.layerOptions.data=o.data),this.validateValue(o.crs)&&"EPSG4326"==o.crs&&(s.layerOptions.crs=r.CRS.EPSG4326),this.validateValue(o.position)&&(s.layerOptions.position=o.position),o.type==d.i.LAYER_TYPES.GEOJSON_LAYER&&(s.key=i,n[i]=s),this.validateValue(o.layeroptions_styles)&&(s.layerOptions.STYLES=o.layeroptions_styles),this.validateValue(o.info)&&(s.layerOptions.info=o.info)}return e?((a={})[e]=n[e],a):n},t.prototype.setWMSOverlays=function(t,e,a){var i={};for(var o in e)if(e.hasOwnProperty(o)){var s,l=e[o];l.layerOptions.cql_filter||(l.layerOptions.cql_filter="1=1"),s=new r.TileLayer.WMS(l.url,"SRTM_DEM_30"==o?{layers:l.layerOptions.layers,format:"image/png",transparent:!0,maxNativeZoom:18,attribution:l.layerOptions.attribution||"",minZoom:l.layerOptions.minZoom,maxZoom:l.layerOptions.maxZoom,pane:l.layerOptions.pane,styles:l.layerOptions.STYLES}:l.layerOptions),Object(n.isNullOrUndefined)(s)||(i[o]=s),a&&t.hasLayer(a[o])&&(t.removeLayer(a[o]),delete a[o]),!0!==l.layerOptions.visible||Object(n.isNullOrUndefined)(i[o])||t.addLayer(i[o])}return i},t.prototype.setWMTSOverlays=function(t,e,a,i,o,s,l){var u={};for(var p in e)if(e.hasOwnProperty(p)){var c,h=e[p];h.layerOptions.cql_filter||(h.layerOptions.cql_filter="1=1"),c=new r.TileLayer.WMS(h.url,{layers:h.layerOptions.layers,format:"image/png",transparent:!0,maxZoom:22,minZoom:6,pane:"baseII",time:a,timeDimension:!0,group:i,hasLegend:o,legendName:s,srs:"EPSG:4326",parentView:[d.b.ALL]}),Object(n.isNullOrUndefined)(c)||(u[p]=c),l&&t.hasLayer(l[p])&&(t.removeLayer(l[p]),delete l[p]),!0!==h.layerOptions.visible||Object(n.isNullOrUndefined)(u[p])||t.addLayer(u[p])}return u},t.prototype.setVECTOROverlays=function(t,e,a){var n=this,i={},o=function(o){var s=e[o],l=new r.vectorGrid.protobuf(s.url,s.layerOptions);o==d.i.LAYERNAMES_LIST[d.b.DISTRICT].Boundaries&&l.on({mouseover:function(t){var e=t.layer.properties.uuid;e==n.activeFeatureDataId()||n.checkIsMobileView()||l.setFeatureStyle(e,{color:"black",weight:"DISTRICT"==s.key.name?1.75:1.25})},mouseout:function(t){l.resetFeatureStyle(t.layer.properties.uuid)},click:function(t){var e,a,r,i=null;t.layer.properties.dist_name&&(a=t.layer.properties.ext_id,r=d.b.SUB_COMMAND_AREA,"Warangal Urban"==(e=t.layer.properties.dist_name)?i="Warangal_Urban":"Warangal Rural"==e&&(i="Warangal_Rural")),n.onLocationClick(e,a,n.urlParams,r,i)}});var u=new r.LayerGroup;t.hasLayer(a[d.i.LAYERNAMES_LIST[d.b.DISTRICT]["District Bound"]])&&o==d.i.LAYERNAMES_LIST[d.b.DISTRICT].Boundaries?(t.removeLayer(a[d.i.LAYERNAMES_LIST[d.b.DISTRICT]["District Bound"]]),u.addLayer(a[d.i.LAYERNAMES_LIST[d.b.DISTRICT]["District Bound"]]),u.addLayer(l),delete a[d.i.LAYERNAMES_LIST[d.b.DISTRICT]["District Bound"]],u.options=b({},l.options,u.options),i[o]=u,i[o].options=b({},i[o].options,u.options.layerOptions)):i[o]=l,1==s.layerOptions.visible&&(a&&t.hasLayer(a[o])&&t.removeLayer(a[o]),t.addLayer(i[o]))};for(var s in e)o(s);return i},t.prototype.setGEOJSONOverlays=function(t,e,a,i,o){var s=this;return new Promise(function(l,u){return L(s,void 0,void 0,function(){var s,u,p,c,h,m,y,f,g,A,S,T,_,L,D,O;return I(this,function(I){switch(I.label){case 0:return this.params={},s={},this.canalLayerObj=new r.LayerGroup,this.distributaryLayerObj=new r.LayerGroup,this.waterReleaseStatus=!1,u=this,[4,this.getCamsConfigData()];case 1:return u.latestWaterRelease=I.sent(),p=this,[4,this.getGwStations()];case 2:for(h in p.GWDugwellData=I.sent(),c=[],e)c.push(h);m=0,I.label=3;case 3:return m<c.length?(f=null,t.hasLayer(a[y=c[m]])&&(t.removeLayer(a[y]),delete a[y]),g=new r.LayerGroup,"GEOJSON"!==(A=e[y]).type||A.layerOptions.layerFrom!=d.g.BACKEND?[3,5]:(this.params.timeStep="DAILY",this.params.src="STATE_STATIONS",this.params.aggr="SUM",this.params.dashboardView="TELANGANA",this.params.pEUUID=this.urlParams.cEUUID,S=this.getSeasonStartEndDates(),this.params.sDate=S[0],this.params.eDate=S[1],this.params.compType="CAMS_GIS",[4,this.injector.get(v.a).getRainfallSensorLayer(this,A,t)])):[3,15];case 4:return(g=I.sent()).options=b({},A,g.options),s[y]=g,s[y].options=b({},s[y].options,g.options.layerOptions),[3,13];case 5:return"GEOJSON"!=A.type||A.layerOptions.layerFrom!=d.g.GEOSERVER?[3,13]:(T=A.layerOptions.layers.split("kaleshwaram:"),A.layerOptions.cqlfilter&&(f=A.layerOptions.cqlfilter),Object(n.isNullOrUndefined)(T[1])?[3,12]:this.urlParams.pType!=d.b.DISTRIBUTARY?[3,7]:(_=this,[4,this.getWaterReleaseDataStatus()]));case 6:_.waterReleaseStatus=I.sent(),I.label=7;case 7:return[4,this.getGeoJsonLayerData(T[1],f,t)];case 8:return L=I.sent(),y!=d.i.LAYERNAMES_LIST[d.b.CANAL].CanalI?[3,9]:(s[y]=this.canalLayerObj,s[y].options=A.layerOptions,o.activeLayers[y]&&(s[y].options.visible=o.activeLayers[y]),t.addLayer(this.canalLayerObj),[3,14]);case 9:return y==d.i.LAYERNAMES_LIST[d.b.DISTRIBUTARY].Distributary&&this.urlParams.pType==d.b.DISTRIBUTARY&&this.waterReleaseStatus?(s[y]=this.distributaryLayerObj,s[y].options=A.layerOptions,o.activeLayers[y]&&(s[y].options.visible=o.activeLayers[y]),t.addLayer(this.distributaryLayerObj),[3,14]):[3,10];case 10:return D=s,O=y,[4,this.addGeoJsonLayersToMap(L,t,A.layerOptions,i,o)];case 11:D[O]=I.sent(),I.label=12;case 12:s[y].options=A.layerOptions,I.label=13;case 13:o.activeLayers[y]&&(s[y].options.visible=o.activeLayers[y]),!Object(n.isNullOrUndefined)(t)&&!Object(n.isNullOrUndefined)(s[y])&&this.checkZoomlevelsForGeoJSON(s[y].options,t.getZoom())&&s[y].options.visible&&(t.addLayer(s[y]),o.activeLayers[y]=!0),I.label=14;case 14:return m++,[3,3];case 15:return l(s),[2]}})})})},t.prototype.addBaseTileLayers=function(t,e){var a={};for(var n in t){var r,i=t[n];r=this.addTileLayer(i),i.visible?(e.removeLayer(r),e.addLayer(r)):e.removeLayer(r),a[i.name]=r}return a},t.prototype.addTileLayer=function(t){return"Google Satellite"==t.name?r.tileLayer.colorFilter(t.url,t):new r.TileLayer(t.url,t)},t.prototype.checkZoomlevelsForGeoJSON=function(t,e){return!!(t&&t.maxZoom&&t.minZoom&&t.maxZoom>=e&&t.minZoom<=e&&t.visible)},t.prototype.getGeoServerURL=function(t){var e=this.urlConstants.GEOSERVER_URL+"kaleshwaram";return t&&(e=this.urlConstants.GEOSERVER_URL_SECOND+"VASSARLABS"),e},t.prototype.getVectorLayerURL=function(t,e,a){var n;return n=this.urlConstants.GEOSERVER_URL_SECOND+h.j+"/gwc/service/wmts?layer="+t+"&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=application/x-protobuf;type=mapbox-vector&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}",this.validateValue(e)&&(n+="&cql_filter="+e),n},t.prototype.activeFeatureDataId=function(){return this.activeFeatureData.external_i},t.prototype.validateValue=function(t){return!Object(n.isNullOrUndefined)(t)},t.prototype.setPopupHtmlContent=function(t){return'<div class="popup-table-section">\n        <div class="card-body p-0">\n        <table class="table table-sm m-0 table-bordered">\n            <tr>\n              <td> '+t+" </td>\n            </tr>\n        </table>\n      </div>\n      </div>"},t.prototype.getGeoJsonLayerData=function(t,e,a){var n=this,r={};return new Promise(function(i,o){n.camsService.getLayerWithFilter(t,e).subscribe(function(e){return L(n,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return e?"kwaram_main_canal_v1"!=t?[3,2]:[4,this.formatReservoirData(e)]:[3,6];case 1:return n.sent(),this.canalLayerObj.addLayer(this.animateCanalPath(e)),[3,6];case 2:return"kwaram_srsp_distributary_v3_20210908"==t&&this.urlParams.pType==d.b.DISTRIBUTARY&&this.waterReleaseStatus?(this.distributaryLayerObj.addLayer(this.animateMinorSubMinor(e,a)),[3,6]):[3,3];case 3:return"kwaram_reservoir_polygons_28092020"!=t?[3,5]:[4,this.formatReservoirData(e)];case 4:return r=n.sent(),[3,6];case 5:r=e,n.label=6;case 6:return i(r),[2]}})})})})},t.prototype.addGWDWMarkerLayer=function(t,e){var a=this,o={stroke:!0,fill:!0,color:"#ffffff",weight:2,fillColor:"#ffffff",fillOpacity:1,radius:5,pane:"popUp"},s=new r.LayerGroup,l=t.properties;if(l){if(this.GWDugwellData){var u=this.GWDugwellData.filter(function(t){if(t.uuid==l.gwp_uuid)return t.currentLevel});o.fillColor=u.length?this.camsService.getRangeColorForGW(u[0].currentLevel):"#D4D7D9"}o.color="#000000",o.properties=t.properties;var p=r.circleMarker(t.properties.latitude?[t.properties.latitude,t.properties.longitude]:[t.properties.lat,t.properties.long?t.properties.long:t.properties.lng],o),c=i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:600,closeButton:!1});if(p.on({click:function(t){a.camsService.getGWDugWellData({eDate:a.urlParams.year+d.i[a.urlParams.season].monsoonEndMonth,sDate:a.urlParams.year+d.i[a.urlParams.season].monsoonStartMonth,pUUID:l.gwp_uuid,pType:"GROUNDWATER",format:"MONTHLY",cType:"GROUNDWATER",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",src:"GW_DUGWELL",aggr:"LATEST",includeAllLoc:!0,maxSeasonReq:8}).subscribe(function(e){c.setContent(a.setHtmlContentForGWProjectPopup(l,e)),c.setLatLng(t.latlng),p.bindPopup(c).openPopup()},function(t){console.log("Error")})},mouseout:function(t){p.setStyle({color:o.color,weight:o.weight}),p.closePopup()}}),!Object(n.isNullOrUndefined)(e)){var h=e.getZoom();e.on({zoomend:function(t){var n=e.getZoom(),r=n-h;p.setRadius(r>0?a.getCircleMarkerRadius(n,2):r<0?a.getCircleMarkerRadius(n,1):5)}})}s.addLayer(p)}return s},t.prototype.setHtmlContentForGWProjectPopup=function(t,e){var a;if(a='<div class="popup-table-section">\n  \x3c!-- <div class="popup-table-title">OfftakePoint Details</div> --\x3e\n  <div class="card-body p-0">\n    <table class="table table-sm m-0 table-bordered">\n      <tbody>\n        <tr>\n          <th>Geo ID</th>\n          <td>'+t.geoid+"</td>\n        </tr>\n        <tr>\n          <th> District </th>\n          <td>"+(t.district||"-")+"</td>\n        </tr>\n        <tr>\n          <th> Mandal </th>\n          <td>"+(t.mandal||"-")+"</td>\n        </tr>\n        <tr>\n          <th> Village </th>\n          <td>"+(t.village||"-")+"</td>\n        </tr>\n        <tr>\n          <th>Lat ,Long</th>\n          <td>"+t.lat.toFixed(3)+", "+(t.long.toFixed(3)||"-")+"</td>\n        </tr>\n        <tr>\n          <th>Total Depth (m) / Measure point (m)</th>\n          <td>"+((t.total_dept+t.mp_m).toFixed(2)||"-")+" / "+(t.mp_m||"-")+"</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>",e){a+='\n<div class="popup-table-section" *ngIf=\'data\'>\n  <div class="card-body p-0">\n    \x3c!-- <div class="popup-table-title">Crop Info</div> --\x3e\n    <table class="table table-sm m-0 table-bordered">\n      <tbody>';var n=!0;for(var r in e)e&&n&&(n=!1,a+="<tr>\n              <td>Preseason Last Value (m)</td>\n              <td>"+(e[r].GW.currentLevel?e[r].GW.currentLevel:"-")+"</td>\n            </tr>");a+="</tbody>\n        </table>\n      </div>\n    </div>",a+='\n<div class="popup-table-section" *ngIf=\'data\'>\n  <div class="card-body p-0">\n    \x3c!-- <div class="popup-table-title">Crop Info</div> --\x3e\n    <table class="table table-sm m-0 table-bordered">\n     \n      <thead class="">\n        <tr>\n          <th>S.No.</th>\n          <th>Date</th>\n          <th>Level (m)</th>\n        </tr>\n      </thead>\n      <tbody>';var i=0;for(var r in e)(i+=1)>1&&(a+="<tr>\n            <td>"+(i-1)+"</td>\n            <td>"+this.utilsService.getSimpleDateStringWithoutday(r)+"</td>\n            <td>"+(e[r].GW.currentLevel?e[r].GW.currentLevel:"-")+"</td>\n          </tr>");a+="</tbody>\n    </table>\n  </div>\n</div>"}return a},t.prototype.addGWStateStationMarkerLayer=function(t,e){var a=this,o={stroke:!0,fill:!0,color:"#ffffff",weight:2,fillColor:"#ffffff",fillOpacity:1,radius:5,pane:"popUp"},s=new r.LayerGroup,l=t.properties;if(l){if(this.GWDugwellData){var u=this.GWDugwellData.filter(function(t){if(t.uuid==l.gwp_uuid)return t.currentLevel});o.fillColor=u.length?this.camsService.getRangeColorForGW(u[0].currentLevel):"#D4D7D9"}o.color="#000000",o.properties=t.properties;var p=r.circleMarker(t.properties.latitude?[t.properties.latitude,t.properties.longitude]:[t.properties.lat,t.properties.long?t.properties.long:t.properties.lng],o),c=i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:600,closeButton:!1});if(p.on({click:function(t){c.setContent(a.setHtmlContentForGWStateStationsProjectPopup(l)),c.setLatLng(t.latlng),p.bindPopup(c).openPopup()},mouseout:function(t){p.setStyle({color:o.color,weight:o.weight}),p.closePopup()}}),!Object(n.isNullOrUndefined)(e)){var d=e.getZoom();e.on({zoomend:function(t){var n=e.getZoom(),r=n-d;p.setRadius(r>0?a.getCircleMarkerRadius(n,2):r<0?a.getCircleMarkerRadius(n,1):5)}})}s.addLayer(p)}return s},t.prototype.setHtmlContentForGWStateStationsProjectPopup=function(t){return'<div class="popup-table-section">\n  \x3c!-- <div class="popup-table-title">OfftakePoint Details</div> --\x3e\n  <div class="card-body p-0">\n    <table class="table table-sm m-0 table-bordered">\n      <tbody>\n        <tr>\n          <th>Station</th>\n          <td>'+t.name+"</td>\n        </tr>\n        <tr>\n          <th>District </th>\n          <td>"+(t.dt||"-")+"</td>\n        </tr>\n        <tr>\n          <th>Lat ,Long</th>\n          <td>"+t.lat.toFixed(3)+", "+(t.lng.toFixed(3)||"-")+"</td>\n        </tr>\n        <tr>\n          <th>Current Level (m)</th>\n          <td>"+(t.currentLev||"-")+"</td>\n        </tr>\n        <tr>\n          <th>Average Level (m)</th>\n          <td>"+(t.averageLev||"-")+"</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>"},t.prototype.addGeoJsonLayersToMap=function(t,e,a,n,i){var o=this,s=this;return r.geoJSON(t,{pane:a.pane,cacheLayers:!0,style:function(t){if(a.style)return s[a.style](t)},pointToLayer:function(t,n){if(a.pointToLayer)return o[a.pointToLayer](t,e)},onEachFeature:function(t,n){if(a.onEachFeature)return o[a.onEachFeature](n,e,t)}})},t.prototype.stylingforGeoJson=function(t){return{fillColor:t.properties.color,opacity:1,color:"#000000",fillOpacity:1,weight:1}},t.prototype.stylingforGWGeoJson=function(t){return{weight:1,fill:!0,fillColor:"#FFCCCC",color:"#005FED",fillOpacity:.5,opacity:1,pane:"popUp",stroke:!0}},t.prototype.addReservoirLayer=function(t,e,a){var n=this;t.on({click:function(t){var a=t.target;a.setStyle({color:"#eac53a",fillColor:"#ffd63f",opacity:1,fillOpacity:.5,pane:"popUp",weight:1});var o,s=t.target.feature.properties;o=n.changeReservoirPopupData(s.display__1,s),i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:400,closeButton:!1}).setLatLng(t.latlng).setContent(o).openOn(e),r.Browser.ie||r.Browser.edge||a.bringToFront(),n.isActive=n.urlParams.point!=n.prevLocId||!n.isActive;var l={};l=n.dataaService.deepClone(d.m),n.prevLocId=n.urlParams.point+"",l.actionTypeStatus=n.isActive?"open":"close",l.point=n.urlParams.pType==d.b.SUB_COMMAND_AREA?n.urlParams.point:t.target.feature.properties.display__1,l.pointLocType="reservoir",l.season=n.urlParams.season?n.urlParams.season:n.utilsService.getCurrentSeason(),l.year=n.urlParams.year?n.urlParams.year:n.utilsService.getMonsoonYearFromModelDate(),l.offtake=!1,n.router.navigate(["kaleshwaram","geoportal","cams","gis",l])},mouseover:function(t){},mouseout:function(t){var a=t.target;a.setStyle({fillColor:a.feature.properties.color?a.feature.properties.color:"#003399",fillOpacity:1,color:"#000000",opacity:1,pane:"popUp",weight:1}),e.closePopup()}})},t.prototype.addNonCommandBoundaryLayer=function(t,e,a){t.setStyle({color:"black",fillColor:"#989898",opacity:.2,fillOpacity:.8,pane:"popUp",weight:2.5})},t.prototype.addCommandBoundaryLayer=function(t,e,a){var r=this,o=this.latestWaterRelease[a.properties.uuid]?this.latestWaterRelease[a.properties.uuid]:null,s=parseInt(this.utilsService.getDateInFormatForecast("yyyyMMdd",new Date)),l=o?this.camsService.getRangeColorForOffTake(o.startDate,o.endDate,s,["#073798","#064fa8","#0563b5","#0482c9","#02a5e0","#01c2f3","#00d4ff","#b7e9f4","#00ffff"]):"#00ffff";t.setStyle({color:"black",fillColor:l,opacity:.2,fillOpacity:.2,pane:"popUp",weight:2.5}),t.on({click:function(t){return L(r,void 0,void 0,function(){var a,r,o,s,l,u,p;return I(this,function(c){switch(c.label){case 0:return a=t.target.feature.properties,this.urlParams.pType!=d.b.DISTRICT?[3,2]:Object(n.isNullOrUndefined)(a.UUID)?[3,2]:(this.offTakePointData={},r=a.UUID.includes(",")?a.UUID.split(",")[0]:a.UUID.includes("'")?a.UUID.split("'")[0]:a.UUID,[4,this.getOffTakeResponse(r)]);case 1:c.sent(),o=this.getOffTakePopup(a.Distributa),s=i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:580,closeButton:!1}),console.log("popup",s),s.setLatLng(t.latlng).setContent(o).openOn(e),c.label=2;case 2:return u=(l=t.target.feature.properties).Distributa,this.urlParams.pType!=d.b.DISTRICT&&this.urlParams.pType!=d.b.DISTRIBUTARY||(p={},(p=this.dataaService.deepClone(d.m)).locationType="distributory",p.point=u,this.parentOfftake=u,p.pointLocType="distributory",p.pUUID=l.UUID,p.cUUID=l.UUID,p.activeHierarchy="DISTRIBUTARY",p.districtPoint=u,p.pType=d.i.locationMapping.DISTRIBUTORY.pType,p.cType=d.i.locationMapping.DISTRIBUTORY.cType,p.season=this.urlParams.season?this.urlParams.season:this.utilsService.getCurrentSeason(),p.year=this.urlParams.year?this.urlParams.year:this.utilsService.getMonsoonYearFromModelDate(),p.offtake=!1,this.router.navigate(["kaleshwaram","geoportal","cams","gis",p])),[2]}})})},mouseover:function(t){return L(r,void 0,void 0,function(){return I(this,function(e){return t.target.setStyle({color:"black",fillColor:l,opacity:.2,fillOpacity:.4,pane:"popUp",weight:3.5}),[2]})})},mouseout:function(t){t.target.setStyle({color:"black",fillColor:l,opacity:.2,fillOpacity:.2,pane:"popUp",weight:3.5})}})},t.prototype.addDistributaryLayer=function(t,e,a){var o=this,s=this.latestWaterRelease[a.properties.uuid],l=parseInt(this.utilsService.getDateInFormatForecast("yyyyMMdd",new Date)),u=s?this.camsService.getRangeColorForOffTake(s.startDate,s.endDate,l,["#073798","#064fa8","#0563b5","#0482c9","#02a5e0","#01c2f3","#00d4ff","#b7e9f4","#D2BE2D"]):"#D2BE2D";return t.setStyle({fillColor:"#2D49FF",color:u,opacity:1,pane:"popUp",weight:2.5}),t.on({click:function(t){return L(o,void 0,void 0,function(){var a,o,s,l,u,p,c;return I(this,function(h){switch(h.label){case 0:return(a=t.target).setStyle({fillColor:"#000000",opacity:1,pane:"popUp",weight:3.5}),o=t.target.feature.properties,Object(n.isNullOrUndefined)(o.uuid)?[3,2]:(this.offTakePointData={},s=o.uuid.includes(",")?o.uuid.split(",")[0]:o.uuid.includes("'")?o.uuid.split("'")[0]:o.uuid,[4,this.getOffTakeResponse(s)]);case 1:h.sent(),l=this.getOffTakePopup(o.distribu_1?o.distribu_1:o.sub_minor),i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:580,closeButton:!1}).setLatLng(t.latlng).setContent(l).openOn(e),r.Browser.ie||r.Browser.edge||a.bringToFront(),h.label=2;case 2:return p=(u=t.target.feature.properties).distribu_1?u.distribu_1:u.sub_minor,this.urlParams.pType!=d.b.DISTRICT&&this.urlParams.pType!=d.b.DISTRIBUTARY||(Object(n.isNullOrUndefined)(u.minor)&&Object(n.isNullOrUndefined)(u.sub_minor)?(c={},(c=this.dataaService.deepClone(d.m)).locationType="distributory",c.point=p,this.parentOfftake=p,c.pointLocType="distributory",c.pUUID=u.uuid,c.cUUID=u.uuid,c.activeHierarchy="DISTRIBUTARY",c.districtPoint=p,c.pType=d.i.locationMapping.DISTRIBUTORY.pType,c.cType=d.i.locationMapping.DISTRIBUTORY.cType,c.season=this.urlParams.season?this.urlParams.season:this.utilsService.getCurrentSeason(),c.year=this.urlParams.year?this.urlParams.year:this.utilsService.getMonsoonYearFromModelDate(),c.offtake=!1,this.router.navigate(["kaleshwaram","geoportal","cams","gis",c])):(c={},(c=this.dataaService.deepClone(d.m)).offtake=!0,c.offtakeId=u.uuid,c.point=this.parentOfftake,c.districtPoint=this.parentOfftake,c.pType=d.i.locationMapping.DISTRIBUTORY.pType,c.cType=d.i.locationMapping.DISTRIBUTORY.cType,c.season=this.urlParams.season?this.urlParams.season:this.utilsService.getCurrentSeason(),c.year=this.urlParams.year?this.urlParams.year:this.utilsService.getMonsoonYearFromModelDate(),Object(n.isNullOrUndefined)(u.minor)?Object(n.isNullOrUndefined)(u.sub_minor)||(c.offtakeName=u.sub_minor):c.offtakeName=u.minor,this.router.navigate(["kaleshwaram","geoportal","cams","gis",c]))),[2]}})})},mouseover:function(t){return L(o,void 0,void 0,function(){return I(this,function(t){return[2]})})},mouseout:function(t){o.offTakePointData={},t.target.setStyle({fillColor:"#2D49FF",opacity:1,pane:"popUp",weight:2.5}),setTimeout(function(){e.closePopup()},1e3)}}),t},t.prototype.changeReservoirPopupData=function(t,e){var a=this.last3DaysRainfall&&this.last3DaysRainfall[t]?this.utilsService.fixedToDecimal(this.last3DaysRainfall[t].rfLevel,2):"-",n=this.next24hrRainfall&&this.next24hrRainfall[t]?this.utilsService.fixedToDecimal(this.next24hrRainfall[t].rfLevel,2):"-",r=this.next3DaysRainfall&&this.next3DaysRainfall[t]?this.utilsService.fixedToDecimal(this.next3DaysRainfall[t].rfLevel,2):"-",i=this.next3to5DaysRainfall&&this.next3to5DaysRainfall[t]?this.utilsService.fixedToDecimal(this.next3to5DaysRainfall[t].rfLevel,2):"-",o=this.last3DaysRainfall&&this.last3DaysRainfall[t]?this.utilsService.fixedToDecimal(this.last3DaysRainfall[t].rfStorage,2):"-",s=this.next24hrRainfall&&this.next24hrRainfall[t]?this.utilsService.fixedToDecimal(this.next24hrRainfall[t].rfStorage,2):"-",l=this.next3DaysRainfall&&this.next3DaysRainfall[t]?this.utilsService.fixedToDecimal(this.next3DaysRainfall[t].rfStorage,2):"-",u=this.next3to5DaysRainfall&&this.next3to5DaysRainfall[t]?this.utilsService.fixedToDecimal(this.next3to5DaysRainfall[t].rfStorage,2):"-",p=e.cl?this.utilsService.fixedToDecimal(e.cl,2):"-",c=e.frl?this.utilsService.fixedToDecimal(e.frl,2):"-",d=e.cl?this.utilsService.fixedToDecimal(3.28084*e.cl,2):"-",h=e.frl?this.utilsService.fixedToDecimal(3.28084*e.frl,2):"-",m=e.storage?this.utilsService.fixedToDecimal(e.storage,2):"-",y=e.gc?this.utilsService.fixedToDecimal(e.gc,2):"-",f=e.rfStoragepercent>=0?parseFloat(e.rfStoragepercent).toFixed(2):"-",g=e.inflow>=0?this.utilsService.getShortedData(e.inflow):"-",A=e.naturalInflow>=0?this.utilsService.getShortedData(e.naturalInflow):"-",v=e.pumpinInflow>=0?this.utilsService.getShortedData(e.pumpinInflow):"-",S=e.outflow>=0?this.utilsService.getShortedData(e.outflow):"-",T=e.maximumInflow>=0?this.utilsService.getShortedData(e.maximumInflow):"-",_=e.maximumOutflow>=0?this.utilsService.getShortedData(e.maximumOutflow):"-";return"<table id=\"reservoir\">\n      <thead class='table-dark'><tr><h6 class='text-center' style='border-bottom:0.1px solid #3d3d29;font-weight:bold'>"+(e.display__1?e.display__1:"-")+"</h6><tr></thead>\n          <tr>\n               <td>Date And Time</td>\n               <td>"+(e.egt?this.utilsService.getSimpleDateString(e.egt):"-")+"</td>\n          </tr>\n          <tr>\n               <td>Reservoir Level (m)</td>\n               <td>"+p+" /"+c+"</td>\n          </tr>\n          <tr>\n              <td>Reservoir Level (feet)</td>\n              <td>"+d+"/ "+h+"</td>\n          </tr>\n              <tr>\n               <td>Reservoir Storage (TMC)</td>\n               <td>"+m+"/ "+y+" ("+f+"%)</td>\n          </tr>\n          <tr>\n               <td>Total Inflow (Natural / Pumping) Cusecs</td>\n               <td>"+g+" ( "+A+" / "+v+" )</td>\n          </tr>\n          <tr>\n               <td>Outflow  (Cusecs)</td>\n               <td>"+S+"</td>\n          </tr>\n          <tr>\n              <td>Highest Inflow  (Cusecs)</td>\n              <td>"+T+" </br><span>  "+(e.highInflowTime?this.utilsService.getSimpleDateString(e.highInflowTime):"-")+" </span></td>\n          </tr>\n          <tr>\n              <td>Highest Outflow  (Cusecs)</td>\n              <td>"+_+" </br><span> "+(e.highOutflowTime?this.utilsService.getSimpleDateString(e.highOutflowTime):"-")+"  </span></td>\n          </tr>\n          <tr>\n             <td>Data Source</td>\n             <td>"+(e.dataSource?e.dataSource:"-")+"</td>\n          </tr>\n          </table>\n          <table id=\"rainfall\" style='padding-bottom:20px'>\n          <tr id=\"head\" style='background-color:#3E3E43;height:30px;'>\n              <th>Catchment Rainfall</th>\n              <th>MM</th>\n              <th>TMC</th>\n          </tr>\n         <tr>\n              <td>Last 3 Days</td>\n              <td>"+a+"</td>\n              <td>"+o+"</td>\n         </tr>\n         <tr>\n              <td>Next 24 Hours</td>\n              <td>"+n+"</td>\n              <td>"+s+"</td>\n         </tr>\n         <tr>\n              <td>24 to 72 Hours</td>\n              <td>"+r+"</td>\n              <td>"+l+"</td>\n         </tr>\n         <tr>\n              <td>72 to 120 Hours</td>\n              <td>"+i+"</td>\n              <td>"+u+"</td>\n         </tr>\n      </table>"},t.prototype.formatReservoirData=function(t){var e=this,a=this.camsService.getLast3DayReservoirPostData();return new Promise(function(n,r){e.camsService.getAllStorageDataForSvg(a).subscribe(function(a){e.allReservoirsData=a;var r={};for(var i in a){var o=a[i];r[o.ln]={egt:o.lts||o.lts>=0?o.lts:null,ext:o.ext||o.ext>=0?o.ext:null,dsc:o.dsc||o.dsc>=0?o.dsc:null,dex:o.dex||o.dex>=0?o.dex:null,cl:o.cl||o.cl>=0?o.cl:null,st:o.tSt||o.tst>=0?o.tSt:null,p:o.pfill||o.pfill>=0?o.pfill:null,lt:o.lt||o.lt>=0?o.lt:null,i:o.inf||o.inf>=0?o.inf:null,pi:o.ifpump||o.ifpump>=0?o.ifpump:null,ni:o.inf&&o.ifpump&&o.inf>=0&&o.ifpump>=0?o.inf-o.ifpump:null,o:o.ofl||o.oft>=0?o.ofl:null,nog:o.nog||o.nog>=0?o.nog:null,ft:o.ft||o.ft>=0?o.ft:null,sr:o.lsrc?o.lsrc:"-",se:o.se||o.se>=0?o.se:null,mxi:o.hin||o.hin>=0?o.hin:null,mxo:o.hout||o.hout>=0?o.hout:null,mit:o.hints||o.hints>=0?o.hints:null,mot:o.houts||o.houts>=0?o.houts:null,msl:o.msl||o.msl>=0?o.msl:null,an:o.an||o.an>=0?o.an:null,md:{n:o.ln?o.ln:null,t:o.t?o.t:null,s:o.st?o.st:null,b:o.bn?o.bn:null,d:o.d||o.d>=0?o.d:null,frl:o.frl||o.frl>=0?o.frl:null,dsl:o.dsl||o.dsl>=0?o.dsl:null,lh:o.lh||o.lh>=0?o.lh:null,gc:o.tca||o.tca>=0?o.tca:null,dc:o.dc||o.dc>=0?o.dc:null,pc:o.pc||o.pc>=0?o.pc:null,dl:o.dl||o.dl>=0?o.dl:null,wl:o.wl||o.wl>=0?o.wl:null,hf:o.hf||o.hf>=0?o.hf:null,la:o.lat||o.lat>=0?o.lat:null,lg:o.lng||o.lng>=0?o.lng:null},rd:o.rd?null!=o.rd?o.rd:null:{}}}a=r;var l,u,p={};for(var i in a){var c=a[i];(!l||c.md.gc>l)&&(l=c.md.gc),(!u||c.md.gc<u)&&(u=c.md.gc)}for(var i in a){var d,h,m=a[i],y=m.cl||m.cl>=0?m.cl:null,f=m.md.frl||m.md.frl>=0?m.md.frl:null,g=m.st||m.st>=0?m.st:null,A=m.md.gc||m.md.gc>=0?m.md.gc:null,v=m.i||m.i>=0?m.i:null,S=m.o||m.o>=0?m.o:null,T=m.mxi||m.mxi>=0?m.mxi:null,_=m.mxo||m.mxo>=0?m.mxo:null,b=m.ni||m.ni>=0?m.ni:null,L=m.pi||m.pi>=0?m.pi:null,I=m.egt||m.egt>=0?m.egt:null,D=m.ft||m.ft>=0?m.ft:null,O=m.md.b||null!=m.md.b?m.md.b:"-",N=m.md.n||null!=m.md.n?m.md.n:"-",w=m.sr||null!=m.sr?m.sr:"-",C=m.mot||m.mot>=0?m.mot:null,E=m.mit||m.mit>=0?m.mit:null,M=m.egt||m.egt>=0?m.egt:null,R=m.md.la||m.md.la>=0?m.md.la:null,F=m.md.lg||m.md.lg>=0?m.md.lg:null;d=y&&parseFloat(f)>0?(y/f*100).toFixed(1):"-",h=g&&parseFloat(A)>0?(g/A*100).toFixed(1):"-";var x=m.md.lh,U=m.pd,P=m.dv,V=e.getFillColor(h);M=M?s(M).format("DD-MM-YYYY h:mm:ss"):"-";var k=3,B=3+m.md.gc/l*7;(m.st||"0"==m.st)&&(k=3+m.st/A*7),k>B&&(k=3),p[N]={cl:y?e.utilsService.fixedToDecimal(y,2):"-",frl:f?e.utilsService.fixedToDecimal(f,2):"-",storage:g?e.utilsService.fixedToDecimal(g,2):"-",gc:A?e.utilsService.fixedToDecimal(A,2):"-",inflow:v,outflow:S,maximumInflow:T,maximumOutflow:_,naturalInflow:b,pumpinInflow:L,egt:I,ft:D,basin:O,resName:N,dataSource:w,highOutflowTime:C,highInflowTime:E,currentTime:M,latitude:R?R.toFixed(2):"-",longitude:F?F.toFixed(2):"-",innerRadius:k,outerRadius:B,rfLevelpercent:d,rfStoragepercent:h,color:V,lh:x,pd:U,dv:P}}for(var G=0;G<t.features.length;G++){var W=t.features[G].properties.display__1;null!=p[W]&&Object.assign(t.features[G].properties,p[W])}e.getLast3DaysRainfall(),e.getNext24HrRainfall(),e.getNext3DaysRainfall(),e.getNext3to5DaysRainfall(),n(t)})})},t.prototype.getFillColor=function(t){return t>90?"#d7191c":t>80?"#e66101":t>70?"#003399":t>50?"#3366cc":t>30?"#66ccff":t<30?"#ccffff":t?void 0:"gray"},t.prototype.getLast3DaysRainfall=function(){var t=this,e=new Date,a=new Date(e.setDate(e.getDate()-3));a.setHours(8),a.setMinutes(30),a.setSeconds(0),e=new Date;var n=new Date(e.setDate(e.getDate()));n.setHours(8),n.setMinutes(29),n.setSeconds(0),this.camsService.getCatchmentRainfall(a.getTime(),n.getTime(),"custom").subscribe(function(e){t.last3DaysRainfall=e},function(t){})},t.prototype.getNext24HrRainfall=function(){var t=this,e=new Date,a=new Date(e.setDate(e.getDate()));a.setHours(8),a.setMinutes(30),a.setSeconds(0);var n=new Date(e.setDate(e.getDate()+1));n.setHours(8),n.setMinutes(29),n.setSeconds(0),this.camsService.getCatchmentRainfall(a.getTime(),n.getTime(),"custom").subscribe(function(e){t.next24hrRainfall=e},function(t){})},t.prototype.getNext3DaysRainfall=function(){var t=this,e=new Date,a=new Date(e.setDate(e.getDate()+1));a.setHours(8),a.setMinutes(30),a.setSeconds(0);var n=new Date(e.setDate(e.getDate()+2));n.setHours(8),n.setMinutes(29),n.setSeconds(0),this.camsService.getCatchmentRainfall(a.getTime(),n.getTime(),"custom").subscribe(function(e){t.next3DaysRainfall=e},function(t){})},t.prototype.getNext3to5DaysRainfall=function(){var t=this,e=new Date,a=new Date(e.setDate(e.getDate()+2));a.setHours(8),a.setMinutes(30),a.setSeconds(0);var n=new Date(e.setDate(e.getDate()+5));n.setHours(8),n.setMinutes(29),n.setSeconds(0),this.camsService.getCatchmentRainfall(a.getTime(),n.getTime(),"custom").subscribe(function(e){t.next3to5DaysRainfall=e},function(t){})},t.prototype.getCircleMarkerRadius=function(t,e){return e*t*.25},t.prototype.onLocationClick=function(t,e,a,n,r){var i={};(i=this.dataaService.deepClone(d.m)).point=t,i.locId=r||t,i.pUUID=e,i.activeHierarchy=d.b.STATE,i.pType=this.utilsService.getChildTypeForGivenParentType(n||i.pType,d.i.locationTypeList[i.activeHierarchy]),i.cType=this.utilsService.getChildTypeForGivenParentType(i.pType,d.i.locationTypeList[i.activeHierarchy]),i.locationType=i.pType==d.b.DISTRICT?"district":"mandal",i.districtPoint=i.pType==d.b.DISTRICT?i.point:i.districtPoint,i.pointLocType="district",i.season=this.urlParams.season?this.urlParams.season:this.utilsService.getCurrentSeason(),i.year=this.urlParams.year?this.urlParams.year:this.utilsService.getMonsoonYearFromModelDate(),i.offtake=!1,this.router.navigate(["kaleshwaram","geoportal","cams","gis",i])},t.prototype.animateCanalPath=function(t){var e=this,a=new r.LayerGroup;return r.geoJSON(t,{pane:"popUp",cacheLayers:!0,onEachFeature:function(t,n){if("kwaram_main_canal_v1.2"==t.id||"kwaram_main_canal_v1.3"==t.id)e.allReservoirsData["Sri Ram Sagar Project"]&&e.allReservoirsData["Sri Ram Sagar Project"].rdot&&e.allReservoirsData["Sri Ram Sagar Project"].rdot["Kakathiya Canal"]>0&&(n.setStyle(e.getStyle("#82ffe6","popUp")),(r=u()(n)).setStyle(e.getClonedLayerStyle("#003399","popUp")),a.addLayer(r),n.setStyle({className:"directiveReverseAnimation"}));else if("kwaram_main_canal_v1.1"==t.id){var r;e.allReservoirsData["Lower Manair Dam"]&&e.allReservoirsData["Lower Manair Dam"].rdot&&e.allReservoirsData["Lower Manair Dam"].rdot["Kakatya main canal"]>0&&(n.setStyle(e.getStyle("#82ffe6","popUp")),(r=u()(n)).setStyle(e.getClonedLayerStyle("#003399","popUp")),a.addLayer(r),n.setStyle({className:"directiveReverseAnimation"}))}n.on({click:function(t){var a=t.target.feature.properties.distribu_1,n={};(n=e.dataaService.deepClone(d.m)).pType=d.i.locationMapping.CANAL.pType,n.cType=d.i.locationMapping.CANAL.cType,n.locName=e.linksToCanalMapping[a].reservoir,n.point=e.linksToCanalMapping[a].stage,n.pointLocType="stage",n.locationType="stage",n.view=d.i.locationMapping.CANAL.pType,n.pUUID=d.i.locWiseUUIDMapping.CANAL[e.linksToCanalMapping[a].stage],n.cUUID=d.i.locWiseUUIDMapping.CANAL[e.linksToCanalMapping[a].stage],n.activeHierarchy=d.b.STATE,n.season=e.urlParams.season?e.urlParams.season:e.utilsService.getCurrentSeason(),n.year=e.urlParams.year?e.urlParams.year:e.utilsService.getMonsoonYearFromModelDate(),n.offtake=!1,e.router.navigate(["kaleshwaram","geoportal","cams","gis",n])}}),a.addLayer(n)}}),a},t.prototype.animateMinorSubMinor=function(t,e){var a=this,o=new r.LayerGroup;return r.geoJSON(t,{pane:"popUp",cacheLayers:!0,onEachFeature:function(t,s){for(var l in a.latestWaterRelease)if(Object.prototype.hasOwnProperty.call(a.latestWaterRelease,l)){var u=a.latestWaterRelease[l],p=parseInt(a.utilsService.getDateInFormatForecast("yyyyMMdd",new Date)),c=a.camsService.getRangeColorForOffTake(u.startDate,u.endDate,p,["#073798","#064fa8","#0563b5","#0482c9","#02a5e0","#01c2f3","#00d4ff","#b7e9f4","#D2BE2D"]);s.setStyle({fillColor:"#2D49FF",color:c,opacity:1,pane:"popUp",weight:1.5})}else s.setStyle({fillColor:"#2D49FF",color:"#D2BE2D",opacity:1,pane:"popUp",weight:1.5});s.on({click:function(t){return L(a,void 0,void 0,function(){var a,o,s,l;return I(this,function(u){switch(u.label){case 0:return a=t.target,o=t.target.feature.properties,Object(n.isNullOrUndefined)(o.uuid)?[3,2]:(this.offTakePointData={},s=o.uuid.includes(",")?o.uuid.split(",")[0]:o.uuid.includes("'")?o.uuid.split("'")[0]:o.uuid,[4,this.getOffTakeResponse(s)]);case 1:u.sent(),l=this.getOffTakePopup(o.distribu_1?o.distribu_1:o.sub_minor),i.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:580,closeButton:!1}).setLatLng(t.latlng).setContent(l).openOn(e),r.Browser.ie||r.Browser.edge||a.bringToFront(),u.label=2;case 2:return[2]}})})},mouseout:function(t){a.offTakePointData={},setTimeout(function(){e.closePopup()},1e3)}}),o.addLayer(s)}}),o},t.prototype.getStyle=function(t,e){return{pane:e,color:t,opacity:1,weight:3.5,dashArray:"10 15"}},t.prototype.getClonedLayerStyle=function(t,e){return{pane:e,color:t,opacity:1,dashArray:"0"}},t.prototype.getWaterReleaseDataStatus=function(){var t=this;return new Promise(function(e,a){return L(t,void 0,void 0,function(){var t,a,n=this;return I(this,function(r){return"DISTRIBUTARY_CANAL"==this.urlParams.pType&&(t="DISTRIBUTARY_CANAL",a=this.urlParams.cUUID),this.camsService.getWaterReleaseData(t,a).subscribe(function(t){n.camsService.isEmpty(t)?e(!1):n.utilsService.getShortedData(t.ad.fv)>0||n.utilsService.getShortedData(t.ad.fd)>0?e(!0):e(!1)}),[2]})})})},t.prototype.getCamsConfigData=function(){var t=this,e=this.utilsService.getMonsoonYear();this.camsService.getCamsConfigData("927b67e9-a2aa-46e9-99bc-41cf8c502668",e).subscribe(function(e){t.camsConfigData.currSeason=e.currSeason,t.camsConfigData.seasonRange=e.seasonRange,t.camsConfigData.startDate=t.camsConfigData.seasonRange[e.currSeason].lowerBound,t.camsConfigData.endDate=t.camsConfigData.seasonRange[e.currSeason].upperBound;var a=t.urlParams.year?t.urlParams.year:t.utilsService.getMonsoonYear();return t.getLatestWaterReleaseData(a,t.urlParams.season?t.urlParams.season:t.camsConfigData.currSeason)},function(e){t.camsConfigData.currSeason="-",t.camsConfigData.seasonRange="-",t.camsConfigData.startDate="-",t.camsConfigData.endDate="-"})},t.prototype.getLatestWaterReleaseData=function(t,e){var a=this;this.camsService.getOfftakePointsWaterRelease(t,e).subscribe(function(t){a.latestWaterRelease=t})},t.prototype.getGwStations=function(){var t=this;this.camsService.getGwStations({pUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",pType:"STATE",cType:"GROUNDWATER",format:"MONTHLY",src:"GW_DUGWELL",sDate:this.urlParams.year+d.i[this.urlParams.season].monsoonStart,eDate:this.urlParams.year+d.i[this.urlParams.season].monsoonEnd,aggr:"LATEST",pEUUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",includeAllLoc:!0,classification:["ACTUAL"]}).subscribe(function(e){return t.GWDugwellData=e,t.GWDugwellData})},t.prototype.getLocationWiseFilter=function(t){var e=null;return d.i.LAYERNAME_MAPPING[d.b.RESERVOIR].includes(t)?e=this.getFilterForLayer(t)[this.urlParams.locName]:d.i.LAYERNAME_MAPPING[d.b.CANAL].includes(t)?e=this.urlParams.pType==d.b.SUB_COMMAND_AREA?this.getFilterForLayer(t)[this.urlParams.locName]:this.getFilterForLayer(t)[d.b.ALL]:d.i.LAYERNAME_MAPPING[d.b.DISTRIBUTARY].includes(t)?e=this.urlParams.pType==d.b.SUB_COMMAND_AREA?this.getFilterForLayer(t)[this.urlParams.locName]:this.getFilterForLayer(t)[this.urlParams.pType]:d.i.LAYERNAME_MAPPING[d.b.DISTRICT].includes(t)&&(e=this.urlParams.pType==d.b.SUB_COMMAND_AREA?this.getFilterForLayer(t)[this.urlParams.locName]:this.getFilterForLayer(t)[d.b.ALL]),e},t.prototype.getOffTakePopup=function(t){if(!Object(n.isNullOrUndefined)(this.offTakePointData)){var e=void 0;if(this.offTakePointData.md?e='<div class="popup-table-section">\n  \x3c!-- <div class="popup-table-title">OfftakePoint Details</div> --\x3e\n  <div class="card-body p-0">\n    <table class="table table-sm m-0 table-bordered">\n      <tbody>\n        <tr>\n          <th colspan="2" class="text-left"><strong>OfftakePoint Details</strong></th>\n        </tr>\n        <tr>\n          <th>Name</th>\n          <td>'+t+"</td>\n        </tr>\n        <tr>\n          <th>Length (km)</th>\n          <td>"+(this.offTakePointData.md.length?this.utilsService.fixedToDecimal(this.offTakePointData.md.length,2):"-")+"</td>\n        </tr>\n        <tr>\n          <th>Designed Discharge (Cusecs)</th>\n          <td>"+(this.offTakePointData.md.discharge?this.utilsService.fixedToDecimal(this.offTakePointData.md.discharge,2):"-")+"</td>\n        </tr> \n\t<tr>\n          <th>Localized Ayacut (Acres)</th>\n          <td>"+(this.offTakePointData.md.ayacutarea?this.utilsService.fixedToDecimal(this.offTakePointData.md.ayacutarea,2):"-")+"</td>\n        </tr>  \n      </tbody>\n    </table>\n  </div>\n</div>":this.offTakePointData.md||(e='<div class="popup-table-section">\n              <div class="card-body p-0">\n                <table class="table table-sm m-0 table-bordered">\n                  <tbody>\n                    <tr>\n                      <th colspan="2" class="text-left"><strong>OfftakePoint Details</strong></th>\n                    </tr>\n                    <tr>\n                    <th>\n                    No data to Display\n                    </th>\n                    </tr>\n                    <tr>\n                    <th>\n                    </th>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              </div>'),this.offTakePointData.cd){e+='\n<div class="popup-table-section" *ngIf=\'this.offTakePointData.cd\'>\n  <div class="card-body p-0">\n    \x3c!-- <div class="popup-table-title">Crop Info</div> --\x3e\n    <table class="table table-sm m-0 table-bordered">\n     \n      <thead class="">\n        <tr>\n          <th colspan="5" class="text-left"><strong>Crop Info</strong></th>\n        </tr>\n        <tr>\n          <th>S.No.</th>\n          <th>Crop Name</th>\n          <th>Planned Sown <br/>Area(Acres)</th>\n          <th>Actual Sown <br/>Area(Acres)</th>\n          <th>Tentative Sowing Date</th>\n        </tr>\n      </thead>\n      <tbody>';var a=0;for(var r in this.offTakePointData.table)e+="<tr>\n          <td>"+(a+=1)+"</td>\n          <td>"+r+"</td>\n          <td>"+(this.offTakePointData.table[r].planned_area?this.offTakePointData.table[r].planned_area:"-")+"</td>\n          <td>"+(this.offTakePointData.table[r].actual_area?this.offTakePointData.table[r].actual_area:"-")+"</td>\n          <td>"+this.utilsService.getDateForRainfall(this.offTakePointData.table[r].tsd.toString())+"</td>\n        </tr>";e+="</tbody>\n    </table>\n  </div>\n</div>"}if(this.offTakePointData.rd){for(var r in e+='<div class="popup-table-section" *ngIf=\'this.offTakePointData.rd\'>\n  <div class="card-body p-0">\n    \x3c!-- <div class="popup-table-title">Crop Info</div> --\x3e\n    <table class="table table-sm m-0 table-bordered">\n     \n      <thead class="">\n        <tr>\n          <th colspan="5" class="text-left"><strong>Water Releases</strong></th>\n        </tr>\n        <tr>\n          <th>S.No.</th>\n          <th>From Date</th>\n          <th>To Date</th>\n          <th>Water Released (cusecs)</th>',e+=this.urlParams.pType==d.b.DISTRIBUTARY?"<th>Water Releases (mcft)</th>":"<th>Water Releases (TMC)</th>",e+="</tr>\n      </thead>\n      <tbody>",this.offTakePointData.rd)e+="<tr>\n          <td>"+(+r+1)+"</td>\n          <td>"+this.utilsService.getDateInFormatForecast("DD-MM-YYYY",this.offTakePointData.rd[r].egt)+"</td>\n          <td>"+this.utilsService.getDateInFormatForecast("DD-MM-YYYY",this.offTakePointData.rd[r].ext)+"</td>\n          <td>"+(this.offTakePointData.rd[r].fd?this.utilsService.fixedToDecimal(this.offTakePointData.rd[r].fd,2):"-")+"</td>",e+=this.urlParams.pType==d.b.DISTRIBUTARY?"<td>"+(this.offTakePointData.rd[r].fd/11574*1e3).toFixed(2)+"</td>":"<td>"+(this.offTakePointData.rd[r].fd/11574).toFixed(2)+"</td>",e+="</tr>";e+="</tbody>\n    </table>\n  </div>\n</div> "}return e}},t.prototype.getOffTakeResponse=function(t){var e=this,a={};return new Promise(function(r,i){var o=e.urlParams.season?e.urlParams.season:e.camsConfigData.currSeason,s=e.urlParams.year?e.urlParams.year:e.camsConfigData.startDate.toString().substring(0,4);e.camsService.getOfftakePointsData(t,s,o).subscribe(function(t){if(!e.utilsService.isEmptyObject(t)){var i={};null!=t&&null!=t&&(i={md:!Object(n.isNullOrUndefined)(t.md)&&Object.keys(t.md).length>0?t.md:{ayacutarea:null,chainage:null,discharge:null,length:null},rd:!Object(n.isNullOrUndefined)(t.rd)&&Object.keys(t.rd).length>0?t.rd:null,cd:!Object(n.isNullOrUndefined)(t.cd)&&t.cd.length>0?t.cd:null,table:Object(n.isNullOrUndefined)(t.table)?{}:t.table}),e.offTakePointData=i,t&&t.cd&&t.cd.length>0&&(e.offTakePointData=i)}r(a)})})},t.prototype.getFilterForLayer=function(t){var e,a,n,r,i,o;return((e={})[d.i.LAYERNAMES_LIST[d.b.DISTRICT].Label]=((a={})[d.b["Sri Ram Sagar Project"]]="dist_name NOT IN ("+this.stageWiseDistrictMapping[d.h.SUB_COMMAND_AREA["STAGE 1"]]+")",a[d.b["Lower Manair Dam"]]="dist_name IN ("+this.stageWiseDistrictMapping[d.h.SUB_COMMAND_AREA["STAGE 2"]]+")",a[d.b.ALL]=null,a),e[d.i.LAYERNAMES_LIST[d.b.RESERVOIR].Reservoir]=((n={})[d.b["Sri Ram Sagar Project"]]="display__1 IN ('"+d.b["Sri Ram Sagar Project"]+"','"+d.b["Lower Manair Dam"]+"')",n[d.b["Lower Manair Dam"]]="display__1 IN ('"+this.urlParams.locName+"')",n),e[d.i.LAYERNAMES_LIST[d.b.CANAL].CanalI]=((r={})[d.b["Sri Ram Sagar Project"]]="distribu_1 IN ('"+this.stageWiseFilterMapping[this.urlParams.point]+"')",r[d.b["Lower Manair Dam"]]="cmd_split ='"+this.stageWiseFilterMapping[this.urlParams.point]+"'",r[d.b.ALL]=null,r),e[d.i.LAYERNAMES_LIST[d.b.DISTRIBUTARY].Distributary]=((i={})[d.b.COMMAND_AREA]="canl_ctgry IN ('Distributary') AND dist_name IN ('Jagtial')",i[d.b.DISTRICT]="canl_ctgry IN ('Distributary') AND dist_name IN ('Jagtial')",i[d.b["Sri Ram Sagar Project"]]="project_nm IN ('Srirama Sagar Project Stage I (Pochampad)') AND canl_ctgry IN ('Distributary') AND dist_name IN ('Jagtial')",i[d.b["Lower Manair Dam"]]="project_nm IN ('Srirama Sagar Project Stage II') AND canl_ctgry IN ('Distributary') AND dist_name IN ('Jagtial')",i[d.b.DISTRIBUTARY]="distribu_1 LIKE '"+this.urlParams.point+"%25' OR parent_can LIKE '"+this.urlParams.point+"%25'",i),e[d.i.LAYERNAMES_LIST[d.b.DISTRIBUTARY].Label]=((o={})[d.b.COMMAND_AREA]="canl_ctgry IN ('Distributary')",o[d.b["Sri Ram Sagar Project"]]="project_nm IN ('Srirama Sagar Project Stage I (Pochampad)') AND canl_ctgry IN ('Distributary')",o[d.b["Lower Manair Dam"]]="project_nm IN ('Srirama Sagar Project Stage II') AND canl_ctgry IN ('Distributary')",o[d.b.DISTRIBUTARY]="distribu_1 LIKE '"+this.urlParams.point+"%' OR parent_can LIKE '"+this.urlParams.point+"%'",o),e)[t]},t.prototype.getWmsLayerForTime=function(t,e){return new r.TileLayer.WMS(this.getGeoServerURL()+"/wms",{layers:t,format:"image/png",transparent:!0,maxZoom:22,minZoom:6,pane:"baseII",time:e})},t.prototype.getTimeWmsLayerFromLayerName=function(t,e,a,n){return new r.TileLayer.WMS(e._url,{layers:a,format:"image/png",transparent:!0,maxZoom:22,minZoom:6,pane:"baseII",time:n,timeDimension:!0,srs:"EPSG:4326"})},t.prototype.getTimes=function(){var t={},e=this;this.getWmsLayerForTime("wetness_index_mosaic",new Date(2020,1,1)).getCapabilities({done:function(a){var n=(new XMLSerializer).serializeToString(a);return Object(p.parseString)(n,function(a,n){n?n.WMT_MS_Capabilities.Capability[0].Layer[0].Layer.forEach(function(a){"wetness_index_mosaic"===a.Title[0]&&(t.wetnessDates=a.Extent[0]._.split(",").reverse(),e.obsservedDatesList.next(t))}):a&&console.log("ERROR::",a)})},fail:function(t){console.log("getCapabilitiesfailed: ",t)}}),this.getWmsLayerForTime("kwaram_crop_growth_layer",new Date(2020,1,1)).getCapabilities({done:function(a){var n=(new XMLSerializer).serializeToString(a);return Object(p.parseString)(n,function(a,n){n?n.WMT_MS_Capabilities.Capability[0].Layer[0].Layer.forEach(function(a){"kwaram_crop_growth_layer"===a.Title[0]&&(t.currentCGDates=a.Extent[0]._.split(",").reverse(),e.obsservedDatesList.next(t))}):a&&console.log("ERROR::",a)})},fail:function(t){console.log("getCapabilitiesfailed: ",t)}}),this.getWmsLayerForTime("kwaram_crop_growth_normal_layer",new Date(2020,1,1)).getCapabilities({done:function(a){var n=(new XMLSerializer).serializeToString(a);return Object(p.parseString)(n,function(a,n){n?n.WMT_MS_Capabilities.Capability[0].Layer[0].Layer.forEach(function(a){"kwaram_crop_growth_normal_layer"===a.Title[0]&&(t.normalCGDates=a.Extent[0]._.split(",").reverse(),e.obsservedDatesList.next(t))}):a&&console.log("ERROR::",a)})},fail:function(t){console.log("getCapabilitiesfailed: ",t)}})},t.prototype.getFeatureInfoForGivenPoint=function(t,e,a,n){var r=this.getFeatureInfoUrlForGivenPoint(t,e,a,n);return this.http.get(r).pipe(Object(A.a)(function(t){return g.a}))},t.prototype.getFeatureInfoUrlForGivenPoint=function(t,e,a,n){var i={request:"getFeatureInfo",service:"WMS",srs:"EPSG:4326",transparent:!0,version:n.wmsParams.version,format:n.wmsParams.format,bbox:e,height:Math.floor(a.y),width:Math.floor(a.x),layers:n.wmsParams.layers,query_layers:n.wmsParams.layers,info_format:"application/json",feature_count:50,CQL_FILTER:n.wmsParams.cql_filter?n.wmsParams.cql_filter:"1=1"};return i["1.3.0"===i.version?"i":"x"]=t.x,i["1.3.0"===i.version?"j":"y"]=t.y,n._url+r.Util.getParamString(i,n._url,!0)},t.prototype.createLegend=function(){return new r.Control.HtmlLegend({position:"bottomright",collapseSimple:!1,detectStretched:!1,collapsedOnInit:!0})},t.prototype.getSeasonStartEndDates=function(){var t,e=this.urlParams.season,a=new Date,n=this.urlParams.year,r=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,i=a.getDate()<10?"0"+a.getDate():a.getDate(),o=n.toString()+r.toString()+i.toString();return"KHARIF"==e?[t=n.toString()+"0601",o]:"RABI"==e?(1<=r&&r<=5?t=(n-1).toString()+"1115":11<=r&&r<=12&&(t=i<15&&11==r?(n-1).toString()+"1115":n.toString()+"1115"),[t,o]):void 0},t.ngInjectableDef=S.cb({factory:function(){return new t(S.gb(T.p),S.gb(o.a),S.gb(_.c),S.gb(c.a),S.gb(m.a),S.gb(S.s))},token:t,providedIn:"root"}),t}()},"9G8Z":function(t,e,a){L.ResponsivePopup=L.Popup.extend({options:{hasTip:!0},_initLayout:function(){var t="leaflet-popup",e=this._container=L.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=L.DomUtil.create("div",t+"-content-wrapper",e);if(this._contentNode=L.DomUtil.create("div",t+"-content",a),L.DomEvent.disableClickPropagation(a),L.DomEvent.disableScrollPropagation(this._contentNode),L.DomEvent.on(a,"contextmenu",L.DomEvent.stopPropagation),this._tipContainer=L.DomUtil.create("div",t+"-tip-container",e),this.options.hasTip||(this._tipContainer.style.visibility="hidden"),this._tip=L.DomUtil.create("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=L.DomUtil.create("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",L.DomEvent.on(n,"click",this._onCloseButtonClick,this)}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._map.layerPointToContainerPoint(t),a=this._container.offsetWidth,n=this._container.offsetHeight,r=L.point(this.options.autoPanPadding),i=L.point(this.options.autoPanPaddingTopLeft||r),o=L.point(this.options.autoPanPaddingBottomRight||r),s=this._map.getSize(),l=this._getAnchor(),u=L.point(this.options.offset),p=Math.abs(u.x),c=Math.abs(u.y);this.options.hasTip&&(p+=11,c+=11,L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-north-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-east"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-south-west"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-east-south"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-north"),L.DomUtil.removeClass(this._container,"leaflet-resp-popup-west-south"));var d=!0,h=!0,m=!0,y=!0,f=!1;e.y+l.y-c-n-Math.abs(i.y)<0&&(d=!1),e.y+l.y+c+n+Math.abs(o.y)>s.y&&(h=!1),e.x+l.x-p-a-Math.abs(i.x)<0&&(m=!1),e.x+l.x+p+a+Math.abs(o.x)>s.x&&(y=!1);var g=a/2-l.x,A=n/2-l.y;if(d||h){var v=e.x+l.x-a/2,S=e.x+l.x+a/2;v<Math.abs(i.x)&&(g=a/2-l.x-Math.abs(i.x)+v),S>s.x-Math.abs(o.x)&&(g=a/2-l.x+S-s.x+Math.abs(o.x))}if(m||y){var T=e.y+l.y-n/2,_=e.y+l.y+n/2;T<Math.abs(i.y)&&(A=n/2-l.y-Math.abs(i.y)+T),_>s.y-Math.abs(o.y)&&(A=n/2-l.y+_-s.y+Math.abs(o.y))}d?(f=t.subtract(L.point(g,-l.y+n+c,!0)),this.options.hasTip&&(e.x+l.x<i.x+12+11?(f.x=t.x+l.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-east"),this._tipContainer.style.top=n+"px",this._tipContainer.style.left="0px"):e.x+l.x>s.x-o.x-12-11?(f.x=t.x+l.x-a,L.DomUtil.addClass(this._container,"leaflet-resp-popup-north-west"),this._tipContainer.style.top=n+"px",this._tipContainer.style.left=a+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-north"),this._tipContainer.style.top=n+"px",this._tipContainer.style.left=t.x+l.x-f.x+"px"))):m?(f=t.subtract(L.point(-l.x+a+p,A,!0)),this.options.hasTip&&(e.y+l.y<i.y+12+11?(f.y=t.y+l.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=a+"px"):e.y+l.y>s.y-o.y-12-11?(f.y=t.y+l.y-n,L.DomUtil.addClass(this._container,"leaflet-resp-popup-west-north"),this._tipContainer.style.top=n+"px",this._tipContainer.style.left=a+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-west"),this._tipContainer.style.top=t.y+l.y-f.y+"px",this._tipContainer.style.left=a+"px"))):h?(f=t.subtract(L.point(g,-l.y-c,!0)),this.options.hasTip&&(e.x+l.x<i.x+12+11?(f.x=t.x+l.x,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-east"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):e.x+l.x>s.x-o.x-12-11?(f.x=t.x+l.x-a,L.DomUtil.addClass(this._container,"leaflet-resp-popup-south-west"),this._tipContainer.style.top="0px",this._tipContainer.style.left=a+"px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left=t.x+l.x-f.x+"px"))):y?(f=t.subtract(L.point(-l.x-p,A,!0)),this.options.hasTip&&(e.y+l.y<i.y+12+11?(f.y=t.y+l.y,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-south"),this._tipContainer.style.top="0px",this._tipContainer.style.left="0px"):e.y+l.y>s.y-o.y-12-11?(f.y=t.y+l.y-n,L.DomUtil.addClass(this._container,"leaflet-resp-popup-east-north"),this._tipContainer.style.top=n+"px",this._tipContainer.style.left="0px"):(L.DomUtil.addClass(this._container,"leaflet-resp-popup-east"),this._tipContainer.style.top=t.y+l.y-f.y+"px",this._tipContainer.style.left="0px"))):f=(t=this._map.latLngToLayerPoint(this._map.getCenter())).subtract(L.point(a/2,n/2)),a-Math.abs(i.x)-Math.abs(o.x)>s.x||(Math.abs(i.y),Math.abs(o.y)),L.DomUtil.setPosition(this._container,f)}}}),L.responsivePopup=function(t,e){return new L.ResponsivePopup(t,e)},e.responsivePopup=L.responsivePopup,e.ResponsivePopup=L.ResponsivePopup},A4o3:function(t,e,a){"use strict";a.d(e,"a",function(){return f});var n=a("MCLT"),r=a("XWfP"),i=a("4R65"),o=a("wd/R"),s=a("Gy67"),l=a("AnS/"),u=a("6QN/"),p=a("q4vc"),c=a("ElNF"),d=a("Ex5H"),h=a("CcnG"),m=function(t,e,a,n){return new(a||(a=Promise))(function(r,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){t.done?r(t.value):new a(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},y=function(t,e){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=function(){function t(t,e,a,n){this.rainfallDataService=t,this.gisDataService=e,this.utilsSrv=a,this.rfUtils=n,this.layerList=[],this.rainfallHeatMapSpinner=!1}return t.prototype.getSrcWiseLayers=function(t){return m(this,void 0,void 0,function(){var e,a,n,r;return y(this,function(i){switch(i.label){case 0:if(t.spinner=!0,a=[],(e=t.params).component!=d.m.COMPONENT.RAINFALL)return[3,2];for(n in l.b[e.dashboardView])(r=l.b[e.dashboardView][n]).source!=e.src&&r.source!=d.m.VIEWS.ALL||r.view!=e.view&&r.view!=d.m.VIEWS.ALL||(r.paramType?r.paramType&&this.checkIsLayerApplicable(r,r.paramType,e[r.paramType])&&(a[n]=r):a[n]=r);if(this.addSrcWiseWMSLayers(a,t,e),"filter"!=e.actionType)return[3,2];for(n in l.b[d.m.VIEWS.ALL])a[n]=r=l.b[d.m.VIEWS.ALL][n];return this.layerList=a,[4,this.addRainfallHeatMap(t)];case 1:i.sent(),"IMD_GRID"!=e.src&&this.addSrcWiseGEOJSONLayers(a,t,e),i.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.addSrcWiseWMSLayers=function(t,e,a){var n=e.gisDataService.getApplicationBasedLayer(t,d.d.WMS_LAYER,a);e.addSrcWiseWMSLayers(n)},t.prototype.getStationLayer=function(t){for(var e in this.layerList)this.layerList[e].type==d.d.GEOJSON_LAYER&&t.map.hasLayer(t.layers.overlaylayers[e])&&t.map.removeLayer(t.layers.overlaylayers[e]);this.addSrcWiseGEOJSONLayers(this.layerList,t,t.params)},t.prototype.checkIsLayerApplicable=function(t,e,a){return t[e].findIndex(function(t){return t==a})>-1},t.prototype.setRainfallSpinnerStatus=function(t){t.spinner=!t.spinner},t.prototype.addSrcWiseGEOJSONLayers=function(t,e,a){var n=e.gisDataService.getApplicationBasedLayer(t,d.d.GEOJSON_LAYER);e.addSrcWiseGEOJSONLayers(n)},t.prototype.addSrcWiseHeatmapLayers=function(t,e,a){var n=this;return new Promise(function(r,i){var o=e.gisDataService.createImageLayersOverlays(t,n.layerList,a.dashboardView);r(e.addSrcWiseHeatmapLayers(o))})},t.prototype.addSourceWiseLayers=function(t,e,a){var r={};for(var i in e)r[i]=e[i],e[i].layerOptions.layer_name==d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.DISTRICT][d.m.SOURCES.ALL]?e[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[i].layerOptions.layer_name==d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.MANDAL][d.m.SOURCES.ALL]||e[i].layerOptions.layer_name==d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.MANDAL][d.m.SOURCES.GRID]?e[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[i].layerOptions.layer_name==d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.BASIN][d.m.SOURCES.ALL]?e[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[i].layerOptions.layer_name!=d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.SUBBASIN][d.m.SOURCES.ALL]&&e[i].layerOptions.layer_name!=d.j[d.m.LOCATIONS.TAMILNADU][d.m.LOCATIONS.SUBBASIN][d.m.SOURCES.GRID]&&e[i].layerOptions.layer_name!=d.j[d.m.LOCATIONS.GODAVARI][d.m.LOCATIONS.SUBBASIN][d.m.SOURCES.ALL]&&e[i].layerOptions.layer_name!=d.j[d.m.LOCATIONS.GODAVARI][d.m.LOCATIONS.SUBBASIN][d.m.SOURCES.GRID]||(e[i].layerOptions.cql_filter="uuid ='"+a.pUUID+"'"),Object(n.isNullOrUndefined)(t.activeLayers[i])&&(t.activeLayers[i]=e[i].layerOptions.visible);return r},t.prototype.onHeatMapChange=function(t){return m(this,void 0,void 0,function(){var e;return y(this,function(a){switch(a.label){case 0:return t.spinner=!0,(e=t.params)&&e.component==d.m.COMPONENT.RAINFALL?(t.removeComponentWiseLayers(),[4,this.addRainfallHeatMap(t)]):[3,2];case 1:a.sent(),"IMD_GRID"!=e.src&&this.addSrcWiseGEOJSONLayers(this.layerList,t,e),a.label=2;case 2:return t.spinner=!1,[2]}})})},t.prototype.rainfallLegend=function(t){return m(this,void 0,void 0,function(){var e,a;return y(this,function(r){for(a in Object(n.isNullOrUndefined)(t.heatMapParams)||t.heatMapParams.heatMap.key!=d.m.HEATMAP.DEVIATION?(t.otherOptions.legend={},t.otherOptions.legend[d.m.HEATMAP.ACTUAL]=l.c.RAINFALL_LEGEND.ACTUAL):(t.otherOptions.legend={},t.otherOptions.legend[t.heatMapParams.heatMap.key]=l.c.RAINFALL_LEGEND[t.heatMapParams.heatMap.key]),e=null,l.b[d.m.VIEWS.ALL])l.b[d.m.VIEWS.ALL][a].hasLegend&&(e=a);return t.addLegend(e),[2]})})},t.prototype.addRainfallHeatMap=function(t){return m(this,void 0,void 0,function(){var e;return y(this,function(a){switch(a.label){case 0:return[4,this.getRainfallHeatMap(t)];case 1:return e=a.sent(),this.rfUtils.isEmptyObj(e)?[3,3]:[4,this.addSrcWiseHeatmapLayers(e,t,t.params)];case 2:return a.sent(),this.rainfallLegend(t),[3,4];case 3:this.rainfallLegend(t),a.label=4;case 4:return[2]}})})},t.prototype.getLegendData=function(t){var e=this;return new Promise(function(a,n){e.rfUtils.getTimestampFromDate(t),a(e.gisDataService.getRangeRainfallLegendData({"No Data":"#a3a3a3","0.0":"#FFFFFF",.24:"#FFFF9E","25.0":"#FCF417","65.0":"#45B6FE","125.0":"#006699","250.0":"#00FF00","400.0":"#339933","600.0":"#267326","1500.0":"#003300","1.0E8":"#003300"}))})},t.prototype.getRainfallHeatMap=function(t){var e=this,a={};return new Promise(function(n,r){var i,o=t.params,s=t.heatMapParams,u={ACTUAL:"ACTUAL",DEVIATION:"DEVIATION"},p=e.rainfallDataService.getPostDataForHeatMap(o,s);i=s&&s.heatMap.key&&u[s.heatMap.key]?[u[s.heatMap.key]]:["ACTUAL"],e.rainfallDataService.post(l.c.API_MAPPING.HEATMAP,p).subscribe(function(t){if(!e.rfUtils.isEmptyObj(t)){var r={};r.url=t[i],r.name="Rainfall Heatmap",r.basinName=o.dashboardView,a["Rainfall Heatmap"]=r}n(a)})})},t.prototype.getRainfallSensorLayer=function(t,e,a){var n=this;return new Promise(function(r,i){var o=t.params,s=t.heatMapParams;n.rfUtils.getTimestampFromDate(o),n.legendData=l.c.RAINFALL_LEGEND.ACTUAL,n.getSensorLayerForRainfall(e,o,a,n.legendData,s).then(function(t){r(t)})})},t.prototype.getSensorLayerForRainfall=function(t,e,a,n,r){var o=this;return console.log(this.rfUtils.getNoOfDaysBetweenTwoEventGenDay(e.sDate,e.eDate)),new Promise(function(s,u){var p=o.rainfallDataService.getPostDataForSensor(e,r,t.layerOptions.includeAll);new Promise(function(t,e){o.rainfallDataService.post(l.c.API_MAPPING.TABLE,p).subscribe(function(e){t(e)})}).then(function(t){var l=t,u=new i.LayerGroup;if("CAMS_GIS"==e.compType){for(var p in l)"Jagtial"==(c=l[p]).md.dnm&&(d=o.createMarkerForSensorLayer(c,e,n,a,r))&&u.addLayer(d);s(u)}else{for(var p in l){var c,d;(d=o.createMarkerForSensorLayer(c=l[p],e,n,a,r))&&u.addLayer(d)}s(u)}})})},t.prototype.getStrokeColor=function(t,e){var a=this.rfUtils.getNoOfDaysBetweenTwoEventGenDay(t.sDate,t.eDate);return e&&e.heatMap.key==d.m.HEATMAP.DEVIATION?a<5?"#37D934":a>=5&&a<10?"#E9F029":a>=10&&a<20?"#E9F029":a>=20&&a<30?"#09D0DE":a>=30&&a<40?"#09D0DE":"#0D65D1":a<5?"#a3a3a3":a<11?"#45B6FE":a>=11&&a<18?"#093a76":a>=18&&a<32?"#565656":a>=32&&a<78?"#006699":"#000000"},t.prototype.getFillColor=function(t,e){var a;return t=parseFloat(t),Object.keys(e.colorValues).forEach(function(n){var r=e.colorValues[n],i=r.text.split("-");t>=i[0]&&t<=i[1]&&(a=r.backgroundColor)}),a},t.prototype.createMarkerForSensorLayer=function(t,e,a,s,l){var u=this;if("TOTAL"!==t.nm){var p,c,h,m,y;p=[c=t.md.lt?t.md.lt.toFixed(4):0,h=t.md.lng?t.md.lng.toFixed(4):0],m=l&&"DEVIATION"==l.heatMap.key?Object(n.isNullOrUndefined)(t.dl)?"-":t.dl:t.al>=0?t.al.toFixed(2):"-",y=e.sDate===e.eDate?o(t.ts).format("DD/MM/YYYY HH:mm:ss"):o(e.sDate).format("DD/MM/YYYY")+"-"+o(e.eDate).format("DD/MM/YYYY");var f=t.md?t.md.dnm:"-",g=t.md?t.md.mnm:"-",A=t.md?t.md.bnm:"-",v=t.nm?t.nm:"-",S={stroke:!0,fill:!0,color:"#FF0000",weight:.55,fillColor:"#a3a3a3",fillOpacity:1,radius:this.getCircleMarkerRadius(s.getZoom(),1.75),interactive:!0,pane:"marker"},T=this.getFillColor(m,a);S.fillColor=T||"#a3a3a3",S.color="YEARLY"==e.timeStep?"#000000":this.getStrokeColor(e,l);var _=i.circleMarker(p,S),b="<html><body>";b+='<div class="popup-table-section">',b+=' <div class="card-body p-0">',b+="<table class='table table-sm m-0 table-bordered' >",b+="<tbody>",b+="<tr><td style='text-transform:uppercase'><span style='text-transform:capitalize'>Station Name</span></td><td style='text-transform:none'  id='station'>"+v+"</td></tr>",e.view==d.m.VIEWS.ADMIN?(b+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> District </span></td><td style=' text-transform:none' id='district'>"+f+"</td></tr>",b+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> Mandal </span></td><td style=' text-transform:none' id='mandal'>"+g+"</td></tr>"):e.view==d.m.VIEWS.BASIN&&(b+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> Basin </span></td><td style=' text-transform:none' id='basin'>"+A+"</td></tr>"),b+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Latitude</span></td><td style='text-transform:none'>"+c+"</td></tr>",b+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'>Longitude</span></td><td style='text-transform:none'>"+h+"</td></tr>",b+=l&&"DEVIATION"==l.heatMap.key?"<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Deviation</span></td><td id='rf' style='text-transform:none'>"+m+" %</td></tr>":"<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Rainfall Level</span></td><td id='rf' style='text-transform:none'>"+m+" mm</td></tr>",b+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>TimeStamp</span></td><td id='time' style='text-transform:none'>"+y+"</td></tr>",b+="<tr></tr>",b+="</tbody></table></div></div></body></html>",_.bindPopup("loading...",{autoPan:!1});var L=r.responsivePopup({hasTip:!0,autoPan:!1,offset:[0,-1],pane:"popUpGeoJson",closeButton:!1}).setContent(b);if(_.on("CAMS_GIS"==e.compType?{mouseover:function(t){_.bindPopup(L).openPopup(),_.setStyle({color:"black",weight:2})},mouseout:function(t){_.setStyle({color:S.color,weight:.3}),_.closePopup()},click:function(a){e.locName=v,e.pUUID=t.uid,e.pType="RAINFALL",e.cType="RAINFALL",e.actionType="sensorClick",u.utilsSrv.setSelectedParams(e)}}:{mouseover:function(t){},mouseout:function(t){},click:function(a){_.bindPopup(L).openPopup(),e.locName=v,e.pUUID=t.uid,e.pType="RAINFALL",e.cType="RAINFALL",e.actionType="sensorClick",u.utilsSrv.setSelectedParams(e)}}),i.Browser.mobile){var I=0;_.on({click:function(a){var n=r.responsivePopup({hasTip:!0,autoPan:!1,offset:[1,2]}).setContent(b);_.bindPopup(n).openPopup(),_.setStyle({color:"black",weight:2}),e.locName=v,e.pUUID=t.uid,e.pType="RAINFALL",e.cType="RAINFALL",e.actionType="sensorClick",u.utilsSrv.setSelectedParams(e),I=1}}),_.on("popupclose",function(){I&&_.setStyle({color:"black",weight:1})})}if(!Object(n.isNullOrUndefined)(s)){var D=s.getZoom();s.on({zoomend:function(t){var e=s.getZoom(),a=e-D;_.setRadius(u.getCircleMarkerRadius(e,a>0?2:a<0?1.5:1.75))}})}return _}},t.prototype.setStationHighlightLayer=function(t){var e=this,a=t.layers.overlaylayers,n=!1;a["Rainfall Sensor I"]&&a["Rainfall Sensor I"].options.visible&&(n=a["Rainfall Sensor I"].options.includeAll);var r=this.rainfallDataService.getPostDataForSensor(t.params,t.heatMapParams,n);this.rainfallDataService.post(l.c.API_MAPPING.TABLE,r).subscribe(function(a){for(var n in a)a[n].uid==t.params.pUUID&&e.setCircleHighlightMarker(a[n],t)})},t.prototype.setCircleHighlightMarker=function(t,e){var a,s,l,u,p,c=e.params,h=e.heatMapParams;a=[s=t.md.lt?t.md.lt.toFixed(4):0,l=t.md.lng?t.md.lng.toFixed(4):0];var m=t.md?t.md.dnm:"-",y=t.md?t.md.mnm:"-",f=t.md?t.md.bnm:"-",g=t.nm?t.nm:"-";u=h&&"DEVIATION"==h.heatMap.key?Object(n.isNullOrUndefined)(t.dl)?"-":t.dl:t.al>=0?t.al.toFixed(2):"-",p=c.sDate===c.eDate?o(t.ts).format("DD/MM/YYYY HH:mm:ss"):o(c.sDate).format("DD/MM/YYYY")+"-"+o(c.eDate).format("DD/MM/YYYY"),e.highlightedLayerObj[d.m.LOCATIONS.RAINFALL]&&(e.map.removeLayer(e.highlightedLayerObj[d.m.LOCATIONS.RAINFALL]),delete e.highlightedLayerObj[d.m.LOCATIONS.RAINFALL]),e.highlightedLayerObj[d.m.LOCATIONS.RAINFALL]=i.circleMarker(a,{radius:this.getCircleMarkerRadius(e.map.getZoom(),2),pane:"popUp",fillColor:"transparent",color:"#000000",fillOpacity:1,weight:3.5}).addTo(e.map);var A=e.highlightedLayerObj[d.m.LOCATIONS.RAINFALL],v="<html><body>";v+='<div class="popup-table-section">',v+=' <div class="card-body p-0">',v+="<table class='table table-sm m-0 table-bordered' >",v+="<tbody>",v+="<tr><td style='text-transform:uppercase'><span style='text-transform:capitalize'>Station Name</span></td><td style='text-transform:none'  id='station'>"+g+"</td></tr>",c.view==d.m.VIEWS.ADMIN?(v+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> District </span></td><td style=' text-transform:none' id='district'>"+m+"</td></tr>",v+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> Mandal </span></td><td style=' text-transform:none' id='mandal'>"+y+"</td></tr>"):c.view==d.m.VIEWS.BASIN&&(v+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'> Basin </span></td><td style=' text-transform:none' id='basin'>"+f+"</td></tr>"),v+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Latitude</span></td><td style='text-transform:none'>"+s+"</td></tr>",v+="<tr><td style='text-transform:none'><span style='text-transform:capitalize'>Longitude</span></td><td style='text-transform:none'>"+l+"</td></tr>",v+=h&&"DEVIATION"==h.heatMap.key?"<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Deviation</span></td><td id='rf' style='text-transform:none'>"+u+" %</td></tr>":"<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>Rainfall Level</span></td><td id='rf' style='text-transform:none'>"+u+" mm</td></tr>",v+="<tr><td style=' text-transform:none'><span style='text-transform:capitalize'>TimeStamp</span></td><td id='time' style='text-transform:none'>"+p+"</td></tr>",v+="<tr></tr>",v+="</tbody></table></div></div></body></html>",A.bindPopup("loading...",{autoPan:!1});var S=r.responsivePopup({hasTip:!0,autoPan:!1,offset:[0,-1],pane:"popUpGeoJson",closeButton:!1}).setContent(v);A.on({mouseover:function(t){},mouseout:function(t){},click:function(t){A.bindPopup(S).openPopup()}}),e.map.setView(a,e.params.view==d.m.VIEWS.ADMIN?d.g[d.m.LOCATIONS.STATION].MIN:d.g[d.m.LOCATIONS.BASIN_LAST_LEVEL].MIN)},t.prototype.getCircleMarkerRadius=function(t,e){return e*t*.25},t.ngInjectableDef=h.cb({factory:function(){return new t(h.gb(s.a),h.gb(c.a),h.gb(u.a),h.gb(p.a))},token:t,providedIn:"root"}),t}()},"AnS/":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"c",function(){return o}),a.d(e,"b",function(){return s});var n,r=a("Ex5H"),i={STATION:"Station",GODAVARI:"Godavari",TELANGANA:"Telangana",KALESHWARAM:"Kaleshwaram",BASIN:"BASIN",SUBBASIN:"SUBBASIN",RAINFALL:"RAINFALL",STATE:"STATE",TAMILNADU:"TAMILNADU"},o={COMPONENT:{RAINFALL:"RAINFALL"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},VIEWS2:{COMMAND:"COMMAND",CATCHMENT:"CATCHMENT"},COMMANDSOURCES:{IMD_GRID:"IMD Grid",TSDPS:"TSDPS"},CATCHMENTSOURCES:{IMD_GRID:"IMD Grid",STATE_AND_CENTRAL_STATIONS:"State and Central Stations"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"rf/aggregated",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",HEATMAP:"rf/heatmap",CHART:"rf/timeseries"},LOCATIONS:{TELANGANA:{NAME:i.TELANGANA,ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},KALESHWARAM:{NAME:i.KALESHWARAM,ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:i.GODAVARI,ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}},TAMILNADU:{NAME:i.TAMILNADU,ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}}},RAINFALL_LEGEND:{DEVIATION:{Units:"Deviation Rainfall (%)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Rain (-100%)"},{backgroundColor:"#e83835",color:"#000000",text:"Large Deficient (-60% to -99%)"},{backgroundColor:"#E9F029",color:"#000000",text:"Deficient (-20% to -59%)"},{backgroundColor:"#37D934",color:"#FFFFFF",text:"Normal (+19% to -19%)"},{backgroundColor:"#09D0DE",color:"#FFFFFF",text:"Excess (+20% to +59%)"},{backgroundColor:"#0D65D1",color:"#FFFFFF",text:"Large Excess (+60% & above)"}]},ACTUAL:{Units:"mm",colorValues:[{backgroundColor:"#AFA5FC",color:"#000000",text:"1500-2500"},{backgroundColor:"#951828",color:"#000000",text:"600-1500"},{backgroundColor:"#9C34C7",color:"#000000",text:"400-600"},{backgroundColor:"#FEBF02",color:"#000000",text:"250-400"},{backgroundColor:"#FDA3A5",color:"#000000",text:"125-250"},{backgroundColor:"#048500",color:"#000000",text:"65-125"},{backgroundColor:"#97E994",color:"#000000",text:"25-65"},{backgroundColor:"#D1FCC4",color:"#000000",text:"0.25-25"},{backgroundColor:"#DEDEDD",color:"#000000",text:"0-0.25"}]}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SESONALLY"}},s=((n={})[r.m.LOCATIONS.TELANGANA]={},n[r.m.LOCATIONS.ALL]={"Rainfall Heatmap":{component:r.m.COMPONENT.RAINFALL,source:r.m.SOURCES.ALL,view:r.m.VIEWS.ALL,displayName:"Rainfall Heatmap",name:"Rainfall Heatmap",visible:!0,layerptions_show_on_selector:!1,layer_name:"Rainfall Heatmap",hasLegend:!0,key:"Rainfall Heatmap",layeroptions_min_zoom:r.g[r.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:r.g[r.m.LOCATIONS.RAINFALL].MAX,group:"Rainfall HeatMap",group_type:"radio-deselect",layeroptions_pane:"heatMap",layerServiceType:r.d.HEATMAP_LAYER,cqlfilter:null,type:r.d.HEATMAP_LAYER},"Rainfall Sensor I":{component:r.m.COMPONENT.RAINFALL,source:r.m.SOURCES.ALL,view:r.m.VIEWS.ALL,layerFrom:r.m.SOURCES.BACKEND,displayName:"Rainfall Sensor (All Stations)",group:"Rainfall HeatMap",groupType:"radio-deselect",visible:!1,layeroptions_min_zoom:r.g[r.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:r.g[r.m.LOCATIONS.RAINFALL].MAX,key:"Rainfall Sensor I",pane:"marker",showOnSelector:!1,name:"Rainfall Sensor (All Stations)",layerServiceType:r.d.GEOJSON_LAYER,cqlfilter:null,type:r.d.GEOJSON_LAYER,includeAll:!0},"Rainfall Sensor II":{component:r.m.COMPONENT.RAINFALL,source:r.m.SOURCES.ALL,view:r.m.VIEWS.ALL,layerFrom:r.m.SOURCES.BACKEND,displayName:"Rainfall Sensor (Reporting Stations)",group:"Rainfall HeatMap",groupType:"radio-deselect",visible:!1,key:"Rainfall Sensor II",layeroptions_min_zoom:r.g[r.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:r.g[r.m.LOCATIONS.RAINFALL].MAX,pane:"marker",showOnSelector:!1,name:"Rainfall Sensor (Reporting Stations)",layerServiceType:r.d.GEOJSON_LAYER,cqlfilter:null,type:r.d.GEOJSON_LAYER,includeAll:!1}},n[r.m.LOCATIONS.GODAVARI]={},n)},ElNF:function(t,e,a){"use strict";var n=a("4R65"),r=(a("9HRS"),a("fFf7"),a("RmgW"),a("x7WH"),a("9G8Z"),a("P8W5"),a("Gliu"),a("MCLT")),i=a("wd/R"),o=a("JvN/"),s=a("XWfP"),l=a("9Z1F"),u=a("K9Ia"),p=a("G5J1"),c=(a("pvrN"),a("AytR")),d=a("XLZW"),h=a("Ex5H"),m=a("q4vc"),y=a("6QN/"),f=a("CcnG"),g=function(){function t(t,e){this.dataService=t,this.utilsSrv=e}return t.prototype.addMITanksPolygonLayer=function(t,e,a){var r=this;return new Promise(function(i,o){var l,u;"ADMIN"===a.view?"DISTRICT"===a.pType?u="uuid='"+a.pUUID+"'":"BLOCK"===a.pType&&(u="uuid='"+a.pUUID+"'"):"BASIN"===a.view&&("BASIN"===a.pType?u="basin_uuid='"+a.pUUID+"'":"SUBBASIN"===a.pType&&(u="sub_bas_uu='"+a.pUUID+"'")),r.dataService.getLayerWithFilter(t,u).subscribe(function(t){l=n.geoJSON(t,{style:r.stylingforGeoJson,pane:"popUpGeoJson",cacheLayers:!0,onEachFeature:function(t,i){var o=e.getZoom();e.on({zoomend:function(t){var a=e.getZoom()-o;a>0?(i.options.fillOpacity=.5-.2*a,i.setStyle({fillOpacity:i.options.fillOpacity})):(i.options.fillOpacity=.5+.2*a,i.setStyle({fillOpacity:i.options.fillOpacity}))}}),i.on({click:function(t){a.locName=t.sourceTarget.feature.properties.tank_name,a.pUUID=t.sourceTarget.feature.properties.uuid,a.pType="MITANK",a.cType="MITANK",a.actionType="sensorClick",r.utilsSrv.setSelectedParams(a)},mouseover:function(t){var i,o=t.target;o.setStyle({fillColor:"#0a85d2",fillOpacity:.1,color:"#0a85d2",opacity:1,pane:"popUp",width:2}),i="SUBBASIN"===a.pType||"BASIN"===a.pType?r.setHtmlContentForMiTanksBasinPopup(t.sourceTarget.feature.properties,a):r.setHtmlContentForMiTanksStatePopup(t.sourceTarget.feature.properties,a),s.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1}).setLatLng(t.latlng).setContent(i).openOn(e),n.Browser.ie||n.Browser.edge||o.bringToFront()},mouseout:function(t){i.setStyle({weight:2.5,fill:!0,fillColor:"#47b4fa",color:"#15397e",fillOpacity:.8,opacity:1,pane:"popUp"}),e.closePopup()}})}}),i(l)})})},t.prototype.stylingforGeoJson=function(t){return{weight:2.5,fill:!0,fillColor:"#47b4fa",color:"#15397e",fillOpacity:.8,opacity:1,pane:"popUp"}},t.prototype.setHtmlContentForMiTanksStatePopup=function(t,e){var a="<html><body>";return a+='<div class="popup-table-section">',(a+='<div class="card-body p-0">\n     <table class="table table-sm m-0 table-bordered">')+"<tbody>\n        <tr>\n           <th> MI Tank</th>\n           <td>"+t.tank_name+"</td>\n         </tr>\n         <tr >\n           <th> Agency </th>\n           <td>"+(t.agency||"TELANGANA MITANK")+"</td>\n         </tr>\n         <tr>\n           <th> District </th>\n           <td>"+(t.dist_name||"-")+"</td>\n         </tr>\n          <tr>\n           <th> Mandal </th>\n           <td>"+(t.mandal_nam||t.mandal_n_1)+"</td>\n         </tr>\n         <tr>\n         <th> Storage(tmc) </th>\n         <td>"+(t.capacity||t.capacity_t)+"</td>\n       </tr>\n     </table>\n   </div>\n   </div>"},t.prototype.setHtmlContentForMiTanksBasinPopup=function(t,e){var a="<html><body>";return a+='<div class="popup-table-section">',(a+='<div class="card-body p-0">\n     <table class="table table-sm m-0 table-bordered">')+"<tbody>\n        <tr>\n           <th> MI Tank</th>\n           <td>"+t.tank_name+"</td>\n         </tr>\n         <tr >\n           <th> Agency </th>\n           <td>"+(t.agency||"TELANGANA MITANK")+"</td>\n         </tr>\n         <tr>\n           <th> Basin </th>\n           <td>"+(t.ba_name||t.basin_name)+"</td>\n         </tr>\n          <tr>\n           <th> Subbasin </th>\n           <td>"+(t.sub_basin||t.sub_basin)+"</td>\n         </tr>\n         <tr>\n         <th> Storage(tmc) </th>\n         <td>"+(t.capacity||t.capacity_t)+"</td>\n       </tr>\n     </table>\n   </div>\n   </div>"},t.ngInjectableDef=f.cb({factory:function(){return new t(f.gb(o.a),f.gb(y.a))},token:t,providedIn:"root"}),t}(),A=a("RVfK"),v=a("owkQ"),S=a("7Amg"),T=a("Gy67"),_=a("AnS/"),b=a("t/Na");a.d(e,"a",function(){return O});var L=function(){return(L=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var r in e=arguments[a])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},I=function(t,e,a,n){return new(a||(a=Promise))(function(r,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){t.done?r(t.value):new a(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},D=function(t,e){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},O=function(){function t(t,e,a,n,r,i,o,s){var l=this;this.utilsSrv=t,this.dataService=e,this.miTanksService=a,this.http=n,this.injector=r,this.gisUtils=i,this.homeMinimapService=o,this.rainfallDataService=s,this.activeFeatureData={id:null,uuid:null,layer:null,external_i:null},this.urlConstants=c.a.url,this.updateSourceNameSource=new u.a,this.updateSourceName$=this.updateSourceNameSource.asObservable(),this.visibilityMiTanksSource="SENTINEL_1",this.monthShortLabel=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.gisUtils.getSelectedParams().subscribe(function(t){l.utilsSrv.isEmptyObj(t)||(l.params=t)}),this.gisUtils.getSelectedHeatMap().subscribe(function(t){l.utilsSrv.isEmptyObj(t)||(l.heatMapParams=t)}),this.gisUtils.getNavigatedLayer().subscribe(function(t){l.utilsSrv.isEmptyObj(t)||l.navigationFromLayers(t)})}return t.prototype.addTileLayer=function(t){return"Google Satellite"===t.name?n.tileLayer.colorFilter(t.url,t):new n.TileLayer(t.url,t)},t.prototype.addBaseTileLayers=function(t,e){var a={};for(var n in t){var r,i=t[n];r=this.addTileLayer(i),i.visible?(e.removeLayer(r),e.addLayer(r)):e.removeLayer(r),a[i.name]=r}return a},t.prototype.getApplicationBasedLayer=function(t,e,a){return e==h.d.WMS_LAYER?this.getWMSOverLays(t,a):e==h.d.VECTOR_LAYER?this.getVECTOROverlays(t,a):e==h.d.GEOJSON_LAYER?this.getGEOJSONOverLays(t):e==h.d.HEATMAP_LAYER?this.getHeatMapOverlays(t,{}):void 0},t.prototype.getWMSOverLays=function(t,e){var a={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o={};o.name=i.name,o.type="wms",o.component=i.component,o.layerOptions={},i.cType&&i.cType.length>0&&(o.layerOptions.cType=i.cType),e&&e.pUUID&&(o.layerOptions.pUUID=e.pUUID),o.layerOptions.name=i.name,o.layerOptions.format="image/png",o.layerOptions.transparent=!0,o.url="State Names"===o.name?this.urlConstants.GEOSERVER_URL+"forecast/ows":o.name&&o.name.includes("Sentinel")&&!o.name.includes("Depth")?i.url:o.name.includes("Depth")?this.getAzureGeoserverURL()+"/wms":this.getGeoServerURL()+"/wms",this.validateValue(i.hasLegend)&&(o.layerOptions.hasLegend=i.hasLegend),this.validateValue(i.legendName)&&(o.layerOptions.legendName=i.legendName),this.validateValue(i.key)&&(o.layerOptions.key=i.key),this.validateValue(i.view)&&(o.layerOptions.view=i.view),this.validateValue(i.displayName)&&(o.layerOptions.displayName=i.displayName),this.validateValue(i.imagesrc)&&(o.layerOptions.imagesrc=i.imagesrc),this.validateValue(i.source)&&(o.layerOptions.source=i.source),this.validateValue(i.layer_name)&&(o.layerOptions.layer_name=i.layer_name),this.validateValue(i.cql_filter)&&(o.layerOptions.cql_filter=i.cql_filter),this.validateValue(i.cql_filter_value)&&(o.layerOptions.cql_filter_value=i.cql_filter_value),this.validateValue(i.subgroup)&&(o.layerOptions.subgroup=i.subgroup),this.validateValue(i.visible)&&(o.layerOptions.visible=i.visible),this.validateValue(i.dashboardView)&&(o.layerOptions.dashboardView=i.dashboardView),this.validateValue(i.group)&&(o.layerOptions.group=i.group),this.validateValue(i.layeroptions_name)&&(o.layerOptions.layers=i.layeroptions_name),this.validateValue(i.layeroptions_min_zoom)&&(o.layerOptions.minZoom=i.layeroptions_min_zoom),this.validateValue(i.layeroptions_max_zoom)&&(o.layerOptions.maxZoom=i.layeroptions_max_zoom),this.validateValue(i.layeroptions_pane)&&(o.layerOptions.pane=i.layeroptions_pane),this.validateValue(i.layeroptions_zindex)&&(o.layerOptions.zIndex=i.layeroptions_zindex),this.validateValue(i.layeroptions_show_on_selector)&&!i.layeroptions_show_on_selector&&(o.layerOptions.showOnSelector=i.layeroptions_show_on_selector),this.validateValue(i.group_type)&&(o.layerOptions.groupType=i.group_type),this.validateValue(i.data)&&(o.layerOptions.data=i.data),this.validateValue(i.crs)&&"EPSG4326"==i.crs&&(o.layerOptions.crs=n.CRS.EPSG4326),this.validateValue(i.position)&&(o.layerOptions.position=i.position),"WMS"===i.type&&("Sentinel 1"===o.name||"Sentinel 2 FCC"===o.name||"Sentinel 2 TCC"===o.name||o.name.includes("ALOS")?(o.key=o.name,a[o.name]=o):(o.key=r,o.layerOptions.key=r,a[r]=o)),this.validateValue(i.layeroptions_styles)&&(o.layerOptions.STYLES=i.layeroptions_styles),this.validateValue(i.info)&&(o.layerOptions.info=i.info)}return a},t.prototype.getGeoServerURL=function(t){var e=this.urlConstants.GEOSERVER_URL+"kaleshwaram";return t&&(e=this.urlConstants.GEOSERVER_URL_SECOND+"VASSARLABS"),e},t.prototype.getAzureGeoserverURL=function(){return this.urlConstants.AZURE_GEOSERVER_URL+"tamilnadu"},t.prototype.validateValue=function(t){return!Object(r.isNullOrUndefined)(t)},t.prototype.setWMSOverlays=function(t,e,a){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o,s=e[i];s.layerOptions.cql_filter||(s.layerOptions.cql_filter="1=1"),o=new n.TileLayer.WMS(s.url,"SRTM_DEM_30"==i?{layers:s.layerOptions.layers,format:"image/png",transparent:!0,attribution:s.layerOptions.attribution||"",minZoom:s.layerOptions.minZoom,maxZoom:s.layerOptions.maxZoom,pane:s.layerOptions.pane,styles:s.layerOptions.STYLES}:s.layerOptions),r[i]=o,a&&t.hasLayer(a[i])&&t.removeLayer(a[i]),i.startsWith("Depth_Class")||!0===s.layerOptions.visible&&t.addLayer(r[i])}return r},t.prototype.getCircleMarkerRadius=function(t,e){return e*t*.25},t.prototype.getGEOJSONOverLays=function(t){var e={};for(var a in t)if(t.hasOwnProperty(a)){var r=t[a],i={};i.name=r.name,i.type="GEOJSON",i.layerOptions={},r.cType&&r.cType.length>0&&(i.cType=r.cType,i.layerOptions.cType=r.cType),i.layerOptions.type="GEOJSON",i.layerOptions.name=r.name,i.layerOptions.format="image/png",i.layerOptions.transparent=!0,this.validateValue(r.hasLegend)&&(i.layerOptions.hasLegend=r.hasLegend),this.validateValue(r.legendName)&&(i.layerOptions.legendName=r.legendName),this.validateValue(r.legendData)&&(i.layerOptions.legendData=r.legendData),this.validateValue(r.component)&&(i.layerOptions.component=r.component),this.validateValue(r.view)&&(i.layerOptions.view=r.view),this.validateValue(r.layer_name)&&(i.layerOptions.layer_name=r.layer_name),this.validateValue(r.cqlfilter)&&(i.layerOptions.cql_filter=r.cqlfilter),this.validateValue(r.cql_filter_value)&&(i.layerOptions.cql_filter_value=r.cql_filter_value),this.validateValue(r.source)&&(i.layerOptions.source=r.source),this.validateValue(r.visible)&&(i.layerOptions.visible=r.visible),this.validateValue(r.layerFrom)&&(i.layerOptions.layerFrom=r.layerFrom),this.validateValue(r.includeAll)&&(i.layerOptions.includeAll=r.includeAll),this.validateValue(r.displayName)&&(i.layerOptions.displayName=r.displayName),this.validateValue(r.style)&&(i.layerOptions.style=r.style),this.validateValue(r.onEachFeature)&&(i.layerOptions.onEachFeature=r.onEachFeature),this.validateValue(r.pointToLayer)&&(i.layerOptions.pointToLayer=r.pointToLayer),this.validateValue(r.afterLayerAddition)&&(i.layerOptions.afterLayerAddition=r.afterLayerAddition),this.validateValue(r.group)&&(i.layerOptions.group=r.group),this.validateValue(r.canalWMSLayer)&&(i.layerOptions.canalWMSLayer=r.canalWMSLayer),this.validateValue(r.layeroptions_name)&&(i.layerOptions.layers=r.layeroptions_name),this.validateValue(r.layeroptions_min_zoom)&&(i.layerOptions.minZoom=r.layeroptions_min_zoom),this.validateValue(r.layeroptions_max_zoom)&&(i.layerOptions.maxZoom=r.layeroptions_max_zoom),this.validateValue(r.layeroptions_pane)&&(i.layerOptions.pane=r.layeroptions_pane),this.validateValue(r.layeroptions_zindex)&&(i.layerOptions.zIndex=r.layeroptions_zindex),this.validateValue(r.layeroptions_show_on_selector)&&!r.layeroptions_show_on_selector&&(i.layerOptions.showOnSelector=r.layeroptions_show_on_selector),this.validateValue(r.group_type)&&(i.layerOptions.groupType=r.group_type),this.validateValue(r.data)&&(i.layerOptions.data=r.data),this.validateValue(r.crs)&&"EPSG4326"==r.crs&&(i.layerOptions.crs=n.CRS.EPSG4326),this.validateValue(r.position)&&(i.layerOptions.position=r.position),"GEOJSON"===r.type&&(i.key=a,e[a]=i),this.validateValue(r.layeroptions_styles)&&(i.layerOptions.STYLES=r.layeroptions_styles),this.validateValue(r.info)&&(i.layerOptions.info=r.info)}return e},t.prototype.getHeatMapOverlays=function(t,e){var a={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i={};i.name=r.name,i.type="image",i.layerOptions={},i.layerOptions.name=r.name,this.validateValue(e[i.name])&&this.validateValue(r.group_type)&&(i.layerOptions.groupType=r.group_type),this.validateValue(r.component)&&(i.layerOptions.component=r.component),this.validateValue(r.hasLegend)&&(i.layerOptions.hasLegend=r.hasLegend),this.validateValue(r.key)&&(i.layerOptions.key=r.key),this.validateValue(r.legendName)&&(i.layerOptions.legendName=r.legendName),this.validateValue(r.legendData)&&this.validateValue(r.subgroup)&&(i.layerOptions.subgroup=r.subgroup),this.validateValue(r.displayName)&&(i.layerOptions.displayName=r.displayName),this.validateValue(r.visible)&&(i.layerOptions.visible=r.visible),this.validateValue(r.group)&&(i.layerOptions.group=r.group),this.validateValue(r.type)&&(i.layerOptions.type=r.type),this.validateValue(r.layeroptions_name)&&(i.layerOptions.layerName=r.layeroptions_name),this.validateValue(r.layeroptions_pane)&&(i.layerOptions.pane=r.layeroptions_pane),this.validateValue(r.layeroptions_min_zoom)&&(i.layerOptions.minZoom=r.layeroptions_min_zoom),this.validateValue(r.layeroptions_max_zoom)&&(i.layerOptions.maxZoom=r.layeroptions_max_zoom),this.validateValue(r.layeroptions_show_on_selector)&&!r.layeroptions_show_on_selector&&(i.layerOptions.showOnSelector=r.layeroptions_show_on_selector),"HEATMAP"!==r.type||this.validateValue(r.image_path)?"HEATMAP"===r.type&&this.validateValue(r.image_path)&&(i.url=r.image_path,a[n]=i):this.validateValue(e[i.name])?i.url=a[n]=i:(i.url=e[r.layeroptions_name],a[n]=i),this.validateValue(r.info)&&(i.layerOptions.info=r.info)}return a},t.prototype.checkZoomlevelsForGeoJSON=function(t,e){return!!(t&&t.maxZoom&&t.minZoom&&t.maxZoom>=e&&t.minZoom<=e&&t.visible)},t.prototype.addGeoJsonLayersToMap=function(t,e,a,r,i,o){var s=this.injector.get(r.serviceType),l=n.geoJSON(t,{style:function(t){if(a.style)return s[a.style](t)},pointToLayer:function(t,n){if(a.pointToLayer)return s[a.pointToLayer](t,e,i,o)},onEachFeature:function(t,n){if(a.onEachFeature)return s[a.onEachFeature](n,e,i,o)},pane:a.pane});return a.afterLayerAddition&&s[a.afterLayerAddition]&&t&&t.features&&t.features.length>0&&s[a.afterLayerAddition](o),l},t.prototype.getFilterForMITanks=function(t){return t.cql_filter||null},t.prototype.getGeoJsonLayerData=function(t,e){var a=this,n={};return new Promise(function(r,i){a.dataService.getLayerWithFilter(t,e).subscribe(function(e){return I(a,void 0,void 0,function(){return D(this,function(a){switch(a.label){case 0:return n=e,e?"kwaram_reservoir_polygons_28092020"!=t?[3,2]:(this.injectedService=this.injector.get(d.a),[4,this.injectedService.formatReservoirData(e)]):[3,3];case 1:return n=a.sent(),[3,3];case 2:n=e,a.label=3;case 3:return r(n),[2]}})})})})},t.prototype.setGEOJSONOverlays=function(t,e,a,i,o){return I(this,void 0,void 0,function(){var s=this;return D(this,function(l){return o.spinner=!0,[2,new Promise(function(l,u){return I(s,void 0,void 0,function(){var s,u,p,c,d,m,y,f,g,A,v,S,T,_;return D(this,function(b){switch(b.label){case 0:for(c in s={},u=null,p=[],e)p.push(c);d=0,b.label=1;case 1:return d<p.length?(t.hasLayer(a.overlaylayers[m=p[d]])&&t.removeLayer(a.overlaylayers[m]),y=new n.LayerGroup,"GEOJSON"!==(f=e[m]).type||f.layerOptions.layerFrom!=h.m.SOURCES.BACKEND?[3,3]:[4,this.injector.get(i.serviceType)[i.sensorLayerFunctionName](this,f,t)]):[3,8];case 2:return y=b.sent(),[3,6];case 3:return"GEOJSON"!==f.type||f.layerOptions.layerFrom!=h.m.SOURCES.GEOSERVER?[3,6]:(g=f.layerOptions.layers.includes("kaleshwaram:")?f.layerOptions.layers.split("kaleshwaram:"):f.layerOptions.layers.split("tamilnadu:"),u=this.getFilterForMITanks(f.layerOptions),Object(r.isNullOrUndefined)(g[1])?[3,6]:[4,this.getGeoJsonLayerData(g[1],u)]);case 4:return A=b.sent(),[4,this.addGeoJsonLayersToMap(A,t,f.layerOptions,i,this.params,o)];case 5:y=b.sent(),b.label=6;case 6:y.options=L({},f,y.options),s[m]=y,s[m].options=L({},s[m].options,y.options.layerOptions),o.activeLayers[m]&&(s[m].options.visible=o.activeLayers[m]),v=new n.LayerGroup,"Canal"==m&&((S=s[m].options.canalWMSLayer)&&(T=this.getWMSOverLays(S),_=this.setWMSOverlays(t,T),v.addLayer(_.CanalII)),v.addLayer(s[m]),v.options=L({},s[m].options,v.options),s[m]=v,s[m].options=L({},s[m].options,v.options.layerOptions)),!Object(r.isNullOrUndefined)(t)&&!Object(r.isNullOrUndefined)(s[m])&&this.checkZoomlevelsForGeoJSON(s[m].options,t.getZoom())&&s[m].options.visible&&(t.addLayer(s[m]),o.activeLayers[m]=!0),b.label=7;case 7:return d++,[3,1];case 8:return o.spinner=!1,l(s),[2]}})})})]})})},t.prototype.getVECTOROverlays=function(t,e){var a={};for(var r in t){var i=t[r];if("VECTOR"===i.type){var o={type:"vector"};o.name=i.name,o.component=i.component,o.layerOptions={},o.layerOptions.interactive=!0,o.layerOptions.name=i.layer_name,o.layerOptions.rendererFactory=n.canvas.tile,this.validateValue(i.cql_filter)&&(o.layerOptions.cql_filter=i.cql_filter);var s=!1;"tamilnadu:tamilnadu_mitank_polygon_layer"!=i.layeroptions_name&&"kaleshwaram:corewris_ts_complete_basin"!=i.layeroptions_name&&"kaleshwaram:corewris_ts_complete_sub_basin_updated"!=i.layeroptions_name&&"kaleshwaram:corewris_godavari_basin_new"!=i.layeroptions_name&&"kaleshwaram:corewris_godavari_sub_basin"!=i.layeroptions_name&&"kaleshwaram:kwaram_sub_command_area"!=i.layeroptions_name&&"kaleshwaram:kwaram_command_district"!=i.layeroptions_name&&"kaleshwaram:kwaram_command_mandal"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_district"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_mandal"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_villages"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_basin"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_subbasin"!=i.layeroptions_name&&"kaleshwaram:tamilnadu_pennaiyar_full_basin"!=i.layeroptions_name||(s=!0),o.url=this.getVectorLayerURL(i.layeroptions_name,o.layerOptions.cql_filter,null,s),o.layerOptions.view=i.view,o.layerOptions.minZoom=i.layeroptions_min_zoom,o.layerOptions.maxZoom=i.layeroptions_max_zoom,o.layerOptions.pane=i.layeroptions_pane,o.layerOptions.visible=i.visible,o.layerOptions.type=h.d.VECTOR_LAYER,i.component&&(o.layerOptions.component=i.component),this.validateValue(i.source)&&(o.layerOptions.source=i.source),this.validateValue(i.dashboardView)&&(o.layerOptions.dashboardView=i.dashboardView),this.validateValue(i.hasLegend)&&(o.layerOptions.hasLegend=i.hasLegend),this.validateValue(i.legendName)&&(o.layerOptions.legendName=i.legendName),o.layerOptions.group=i.group,o.layerOptions.displayName=i.displayName,this.validateValue(i.layeroptions_show_on_selector)&&!i.layeroptions_show_on_selector&&(o.layerOptions.showOnSelector=i.layeroptions_show_on_selector),this.validateValue(i.group_type)&&(o.layerOptions.groupType=i.group_type),o.layerOptions.vectorTileLayerStyles={},"Telangana District Boundaries"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_district={fillColor:"transparent",opacity:.5,weight:.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Water Bodies"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_mitank_polygon_layer={weight:2.5,fill:!0,fillColor:"#47b4fa",color:"#15397e",fillOpacity:.8,opacity:1,interactive:!0},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Mandal Boundaries"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_mandal={opacity:.5,weight:.1,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Village Boundaries"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_villages={opacity:.5,weight:.15,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Mandal MITank"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_mandal={opacity:.5,weight:.15,interactive:!0,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Basin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_basin={fillColor:"transparent",opacity:.5,weight:.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Odisha Basin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.odisha_basin={fillColor:"transparent",opacity:.5,weight:.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Odisha Combined Basin Boundary"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_pennaiyar_full_basin={fillColor:"transparent",opacity:.5,weight:.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Odisha Subbasin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_subbasin={opacity:.5,weight:.15,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Subbasin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_subbasin={opacity:.5,weight:.15,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Subbasin MITank"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.corewris_ts_complete_sub_basin={opacity:.5,weight:.15,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Godavari Basin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.corewris_godavari_basin_new={fillColor:"transparent",opacity:.8,weight:.7,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Godavari Subbasin"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.corewris_godavari_sub_basin={fillColor:"transparent",opacity:.5,weight:.15,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"MI_Tanks"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.tamilnadu_mitank_polygon_layer={weight:1,fill:!0,fillColor:"#FFCCCC",color:"#15397e",fillOpacity:.5,opacity:1,pane:"popUp",stroke:!0},o.layerOptions.getFeatureId=function(t){return t.properties.uuid}):"Telangana Sub Command Area Boundaries"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.kwaram_sub_command_area={fillColor:"transparent",opacity:.9,weight:1.1,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.scmduid}):"Telangana Command District Boundaries"==i.layer_name?(o.layerOptions.vectorTileLayerStyles.kwaram_command_district={fillColor:"transparent",opacity:.5,weight:.6,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.cmddistuid}):"Telangana Command Mandal MITank"==i.layer_name&&(o.layerOptions.vectorTileLayerStyles.kwaram_command_mandal={fillColor:"transparent",opacity:.5,weight:1.3,color:"#000000"},o.layerOptions.getFeatureId=function(t){return t.properties.cmdmanduid}),"VECTOR"===i.type&&(o.key=i,a[r]=o)}}return a},t.prototype.getVectorLayerURL=function(t,e,a,n){var i;return i=!Object(r.isNullOrUndefined)(n)&&n?"tamilnadu_mitank_polygon_layer"==t?"http://20.219.166.170:8080/geoserver/tamilnadu":A.h+"/geoserver/"+A.i:this.urlConstants.GEOSERVER_URL_SECOND+A.j,i+="/gwc/service/wmts?layer="+t+"&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=application/x-protobuf;type=mapbox-vector&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}",this.validateValue(e)&&(i+="&cql_filter="+e),i},t.prototype.setVECTOROverlays=function(t,e,a,i,o){var l=this,u={},p=function(p){var c=e[p],d=new n.vectorGrid.protobuf(c.url,c.layerOptions);c.component&&c.component.includes("minimap")?d.on({mouseover:function(e){if(e.target.options.component){var a=e.target.options.component.split("_")[0];if("rainfall"==a){var n,r=s.responsivePopup({hasTip:!0,autoPan:!1,minWidth:200,pane:"popUpGeoJson",maxWidth:250,closeButton:!1}),i={aggr:"SUM",cType:"DISTRICT",classification:["ACTUAL","NORMAL","DEVIATION"],eDate:l.homeMinimapService.getRainfallDates()[1],format:"DAILY",includeAllLoc:!0,pEUUID:S.c.STATETOUUIDMAPPING.TAMILNADU,pType:"STATE",pUUID:S.c.STATETOUUIDMAPPING.TAMILNADU,sDate:l.homeMinimapService.getRainfallDates()[0],src:"IMD_GRID"};l.rainfallDataService.post(_.c.API_MAPPING.TABLE,i).subscribe(function(a){n=l.homeMinimapService.setHtmlContentForRainfallPopup(e.sourceTarget.properties,a),r.setLatLng(e.latlng).setContent(n).openOn(t)})}else if("groundwater"==a||"mitank"==a){var o,u=s.responsivePopup({hasTip:!0,autoPan:!1,minWidth:200,pane:"popUpGeoJson",maxWidth:250,closeButton:!1});o=l.homeMinimapService.setHtmlContentForGroundwaterPopup(e.sourceTarget.properties),u.setLatLng(e.latlng).setContent(o).openOn(t)}}}}):d.on({mouseover:function(e){var a;if(a=e.layer.properties.uuid,"MITANK"!=l.params.component&&l.params.component!=h.m.COMPONENT.NDVI&&l.params.component!=h.m.COMPONENT.DOMESTICDEMAND&&l.params.component!=h.m.COMPONENT.INDUSTRIALDEMAND&&l.params.component!=h.m.COMPONENT.WATERAUDIT&&a!=l.activeFeatureDataId()&&d.setFeatureStyle(a,{color:"black",weight:"DISTRICT"===c.key.name||"BASIN"===c.key.name?1.75:"MANDAL"===c.key.name||"SUBBASIN"===c.key.name?1.25:1.2}),p.includes("Telangana MiTank Polygon")){var n,r=s.responsivePopup({hasTip:!0,autoPan:!1,minWidth:250,pane:"popUpGeoJson",maxWidth:300,closeButton:!1});n="SUBBASIN"===l.params.pType||"BASIN"===l.params.pType?l.miTanksService.setHtmlContentForMiTanksBasinPopup(e.sourceTarget.properties,o):l.miTanksService.setHtmlContentForMiTanksStatePopup(e.sourceTarget.properties,o),r.setLatLng(e.latlng).setContent(n).openOn(t)}"MI_Tanks"===p&&d.setFeatureStyle(a,{weight:1,fill:!0,fillColor:"#FFCCCC",color:"#2CD9C5",fillOpacity:.5,opacity:1,pane:"popUp",stroke:!0})},mouseout:function(e){var a;a=e.layer.properties.uuid,l.params.component!=h.m.COMPONENT.WATERAUDIT&&l.params.component!=h.m.COMPONENT.NDVI&&l.params.component!=h.m.COMPONENT.INDUSTRIALDEMAND&&"MITANK"!=l.params.component&&l.params.component!=h.m.COMPONENT.DOMESTICDEMAND&&a!=l.activeFeatureDataId()&&d.resetFeatureStyle(a),"MI_Tanks"===p&&d.resetFeatureStyle(),t.closePopup()},click:function(t){if((Object(r.isNullOrUndefined)(a)||"WATER_SPREAD"!=a||l.params.component&&l.params.component!=h.m.COMPONENT.CROPDEMAND)&&l.params.component&&l.params.component!=h.m.COMPONENT.CROPDEMAND&&"TNPWD"!=l.params.src&&l.params.component!=h.m.COMPONENT.RESERVOIR&&l.params.component!=h.m.COMPONENT.RIVER_GAUGE){var e=void 0,n=void 0,i=void 0;p.includes("Telangana MiTank Polygon")&&(l.params.locName=t.sourceTarget.properties.tank_name,l.params.pUUID=t.sourceTarget.properties.uuid,l.params.pType="MITANK",l.params.cType="MITANK",l.params.actionType="sensorClick",l.gisUtils.setSelectedParams(l.params)),t.sourceTarget.properties.sub_basin?(e=t.sourceTarget.properties.sub_basin,n=t.sourceTarget.properties.uuid,i="BASIN"):t.sourceTarget.properties.basin?(e=t.sourceTarget.properties.basin,n=t.sourceTarget.properties.uuid,i="STATE"):t.sourceTarget.properties.village?(e=t.sourceTarget.properties.village,n=t.sourceTarget.properties.uuid,i="BLOCK"):t.sourceTarget.properties.block&&"WATERAUDIT"!=o.component?(e=t.sourceTarget.properties.block,n=t.sourceTarget.properties.uuid,i="DISTRICT"):t.sourceTarget.properties.district&&(e=t.sourceTarget.properties.district,n=t.sourceTarget.properties.uuid,i="STATE"),l.params.view==h.m.VIEWS.PROJECT||l.params.view==h.m.VIEWS.COMBINED_BASIN||t.sourceTarget.properties.mandal_nam&&"MITANK"==l.params.component&&l.params.pType==h.m.LOCATIONS.MITANK&&l.params.cType==h.m.LOCATIONS.MITANK||"WATERAUDIT"==l.params.component&&"BLOCK"==l.params.cType?"SOILMOISTURE"==l.params.component&&l.params.view==h.m.VIEWS.COMBINED_BASIN&&l.onLocationClick(e,n,i="COUNTRY",void 0):l.onLocationClick(e,n,i,void 0)}}}),u[p]=d,1==c.layerOptions.visible&&(i&&t.hasLayer(i[p])&&t.removeLayer(i[p]),t.addLayer(u[p]))};for(var c in e)p(c);return u},t.prototype.navigationFromLayers=function(t){var e=this;t.on("click",function(a){var n,r,i;t.options.name.includes("Telangana MiTank Polygon")&&(e.params.locName=a.sourceTarget.properties.tank_name,e.params.pUUID=a.sourceTarget.properties.uuid,e.params.pType="MITANK",e.params.cType="MITANK",e.params.actionType="sensorClick",e.gisUtils.setSelectedParams(e.params)),a.sourceTarget.properties.sub_basin?(n=a.sourceTarget.properties.sub_basin,r=a.sourceTarget.properties.uuid,i="BASIN"):a.sourceTarget.properties.ba_name&&(n=a.sourceTarget.properties.ba_name,r=a.sourceTarget.properties.uuid,i="STATE"),a.sourceTarget.properties.mandal_nam?(n=a.sourceTarget.properties.mandal_nam,r=a.sourceTarget.properties.loc_uuid,i="DISTRICT"):a.sourceTarget.properties.dist_name&&(n=a.sourceTarget.properties.dist_name,r=a.sourceTarget.properties.loc_uuid,i="STATE"),e.onLocationClick(n,r,i,void 0)})},t.prototype.activeFeatureDataId=function(){return this.activeFeatureData.external_i},t.prototype.onLocationClick=function(t,e,a,n){var r=this.params;r.locName=t,r.prevpUUID=r.pUUID,r.pUUID=e,r.pType=this.utilsSrv.getChildTypeForGivenParentType(a||r.pType,r.locationTypeList),r.cType=this.utilsSrv.getChildTypeForGivenParentType(r.pType,r.locationTypeList),r.actionType=n||"mapClick","BLOCK"!=a&&this.gisUtils.setSelectedParams(r)},t.prototype.setPopupHtmlContent=function(t,e){return'<div class="popup-table-section">\n        <div class="card-body p-0">\n        <table class="table table-sm m-0 table-bordered">\n            <tr>\n              <td> '+e+" </td>\n            </tr>\n        </table>\n      </div>\n      </div>"},t.prototype.selectDateonBasisOfRFtime=function(t){var e=new Date;e.setHours(0,0,0,0);var a=e.getTime();return a+=306e5,(new Date).getTime()<a&&t.setDate(t.getDate()-1),t},t.prototype.getActualHeatMapDateList=function(){var t=new Date;t=this.selectDateonBasisOfRFtime(t);var e=i(t).format("YYYYMMDD"),a=i(t).subtract(1,"days").format("YYYYMMDD"),n=i(t).subtract(2,"days").format("YYYYMMDD"),r={},o=[];o.push(e),o.push(e);var s=[];s.push(a),s.push(a);var l=[];l.push(n),l.push(n);var u=[];return u.push(n),u.push(e),r.Today=o,r.Yesterday=s,r["Day Before Yesterday"]=l,r["Last 3 Day Cummulative"]=u,r},t.prototype.getRangeRainfallLegendData=function(t){var e={Units:"mm",colorValues:[]};if(t){var a,n,r=0;for(var i in t)if(i){if(r++,a={},n=i,"006B3C"==t[i]&&(t[i]="#006B3C"),r>4){if(r===Object.keys(t).length&&"1.0E8"!=i)return"#003300"==(a={backgroundColor:t[i],color:"#000000",text:">="+n}).backgroundColor&&(a.color="#FFFFFF"),e.colorValues.push(a),e;if(r===Object.keys(t).length-1&&"1500.0"==i)return"#003300"==(a={backgroundColor:t[i],color:"#000000",text:">="+n}).backgroundColor&&(a.color="#FFFFFF"),e.colorValues.push(a),e;"#003300"==(a={backgroundColor:t[i],color:"#000000",text:n}).backgroundColor&&(a.color="#FFFFFF")}else"#003300"==(a={backgroundColor:t[i],color:"#000000",text:n}).backgroundColor&&(a.color="#FFFFFF");e.colorValues.push(a)}}return e},t.prototype.setImageLayers=function(t,e,a){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],s=n.imageOverlay(o.url,o.bounds,o.layerOptions);r[i]=s,t.hasLayer(a[i])&&t.removeLayer(a[i]),!0===o.layerOptions.visible&&t.addLayer(r[i])}return r},t.prototype.setImageLayersInflowForecast=function(t,e,a){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o,s=e[i];s.layerOptions=s.options,s.url=s.imageUrl,o=new n.imageTransform(s.url,s.imageBounds,s.layerOptions),r[i]=o,t.hasLayer(a[i])&&t.removeLayer(a[i]),!0===s.options.visible&&t.addLayer(r[i])}return r},t.prototype.setImageLayersNew=function(t,e,a,r){var i={opacity:.8,pane:"heatMap",minZoom:6,maxZoom:15,clip:r.bbox},o=this.setHeatMapData(r.heatmapData),s={};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l];if(null!=o.url&&null!=o.url){var p=this.getImageBounds(o.bounds),c=n.imageTransform(o.url,p,i);s[l]=c,s[l].options=Object.assign(u.layerOptions,i),t.hasLayer(a[l])&&t.removeLayer(a[l]),!0===u.layerOptions.visible&&t.addLayer(s[l])}}return s},t.prototype.setHeatMapData=function(t){var e,a={},n=[];e=t.heatMapImage;var r=[];return r.push(t.heatMapImageBound.southWest.latitude),r.push(t.heatMapImageBound.southWest.longitude),n.push(r),(r=[]).push(t.heatMapImageBound.northEast.latitude),r.push(t.heatMapImageBound.northEast.longitude),n.push(r),a.url=e,a.bounds=n,a},t.prototype.getImageBounds=function(t){var e=[];return e.push([t[1][0],t[0][1]]),e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},t.prototype.getBlockBoundsForType=function(t){return{TELANGANA:[[15.559452,76.832565],[20.16651,81.6752]],GODAVARI:[[14.305,72.898],[24.51,83.635]],TAMILNADU:[[8.079404,76.232088],[13.56437,80.34481]],COMBINED_BASIN:[[17.525000000000027,80.07083333333335],[23.608333333616486,88.19640062025735]]}[t]},t.prototype.removeSrcWiseLayer=function(t,e,a){for(var n in t)"SRC"!==t[n].layerOptions.srcType&&"TIME"!==t[n].layerOptions.srcType||e.hasLayer(t[n])&&e.removeLayer(t[n]);return t},t.prototype.createImageLayersOverlays=function(t,e,a,n){var r={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],s={};s.name=o.name,s.type="image",s.layerOptions={},s.layerOptions.name=o.name,this.validateValue(t[s.name])&&(s.bounds=this.getBlockBoundsForType(a)),this.validateValue(o.name)&&(s.bounds=this.getBlockBoundsForType(a)),this.validateValue(o.group_type)&&(s.layerOptions.groupType=o.group_type),this.validateValue(o.component)&&(s.layerOptions.component=o.component),this.validateValue(o.hasLegend)&&(s.layerOptions.hasLegend=o.hasLegend),this.validateValue(o.key)&&(s.layerOptions.key=o.key),this.validateValue(o.legendName)&&(s.layerOptions.legendName=o.legendName),this.validateValue(o.legendData)&&(s.layerOptions.legendData=n||o.legendData),this.validateValue(o.subgroup)&&(s.layerOptions.subgroup=o.subgroup),this.validateValue(o.displayName)&&(s.layerOptions.displayName=o.displayName),this.validateValue(o.visible)&&(s.layerOptions.visible=o.visible),this.validateValue(o.group)&&(s.layerOptions.group=o.group),this.validateValue(o.type)&&(s.layerOptions.type=o.type),this.validateValue(o.layeroptions_name)&&(s.layerOptions.layerName=o.layeroptions_name),this.validateValue(o.layeroptions_pane)&&(s.layerOptions.pane=o.layeroptions_pane),this.validateValue(o.layeroptions_min_zoom)&&(s.layerOptions.minZoom=o.layeroptions_min_zoom),this.validateValue(o.layeroptions_max_zoom)&&(s.layerOptions.maxZoom=o.layeroptions_max_zoom),this.validateValue(o.layeroptions_show_on_selector)&&!o.layeroptions_show_on_selector&&(s.layerOptions.showOnSelector=o.layeroptions_show_on_selector),"HEATMAP"!==o.type||this.validateValue(o.image_path)?"HEATMAP"===o.type&&this.validateValue(o.image_path)&&(s.url=o.image_path,r[i]=s):this.validateValue(t[s.name])?(s.url=t[s.name].url,r[i]=s):this.validateValue(o.url)?(s.url=o.url,r[i]=s):(s.url=t[o.layeroptions_name],r[i]=s),this.validateValue(o.info)&&(s.layerOptions.info=o.info)}return r},t.prototype.setGeojsonOverlaysUsinguGeoJSONLayer=function(t,e){var a={};for(var r in e){var i=e[r];i.layerOptions.endpoint=this.getUrlForGeojsonLayer(i.layerOptions.layers),i.layerOptions.enctype="urlencoded",i.layerOptions.style=this.stylingforGeoJson;var o=new n.uGeoJSONLayer(i.layerOptions);a[r]=o,i.layerOptions.visible&&t.addLayer(o)}return a},t.prototype.getUrlForGeojsonLayer=function(t){var e="";return e=this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows",(e+="?service=WFS&version=1.0.0&request=GetFeature&typeName="+t)+"&outputFormat=application/json"},t.prototype.stylingforGeoJson=function(t){return{weight:1.8,fill:!0,fillColor:"#FFCCCC",color:"#000000",fillOpacity:.5,opacity:1,pane:"WA"}},t.prototype.getNDayListInFormat=function(t,e,a){null!=t&&null!=t||(t=(new Date).getTime());for(var n=[],r=a;r<e+a;r++){var i,o=new Date(t+24*r*60*60*1e3),s=o.getDate()>9?o.getDate():"0"+o.getDate(),l=o.getMonth()+1>9?o.getMonth()+1:"0"+(o.getMonth()+1);i=o.getFullYear().toString()+l.toString()+s.toString(),n.push(i)}return n},t.prototype.getReadableDateFromDateString=function(t){var e=t.substring(0,4),a=t.substring(4,6),n=t.substring(6,8),r=new Date(e,a-1,n);return n+"-"+this.monthShortLabel[r.getMonth()]+"-"+e},t.prototype.getFeatureInfo=function(t,e,a){var n=this.getFeatureInfoUrl(t,e,a);return this.http.get(n).pipe(Object(l.a)(function(t){return p.a}))},t.prototype.getElevationCropGrowthFeatureInfo=function(t,e,a,n){var r=a.latLngToContainerPoint(t,a.getZoom()),i=a.getSize(),o="http://159.65.4.230/geoserver/wms?SERVICE=WMS&VERSION="+e.wmsParams.version+"&REQUEST=GetTimeSeries&FORMAT="+e.wmsParams.format+"&TIME="+n[n.length-1]+"/"+n[0]+"&QUERY_LAYERS="+e.wmsParams.layers+"&STYLES&LAYERS="+e.wmsParams.layers+"&INFO_FORMAT=text%csv&FEATURE_COUNT=150&X="+r.x+"&Y="+r.y+"&SRS=EPSG%3A4326&WIDTH="+Math.floor(i.x)+"&HEIGHT="+Math.floor(i.y)+"&BBOX="+a.getBounds().toBBoxString();return this.http.get(o,{responseType:"text"})},t.prototype.getFeatureInfoUrl=function(t,e,a){var r=a.latLngToContainerPoint(t,a.getZoom()),i=a.getSize(),o={request:"getFeatureInfo",service:"WMS",srs:"EPSG:4326",transparent:!0,version:e?e.wmsParams.version:"",format:e?e.wmsParams.format:"",bbox:a.getBounds().toBBoxString(),height:Math.floor(i.y),width:Math.floor(i.x),layers:e?e.wmsParams.layers:"",query_layers:e?e.wmsParams.layers:"",info_format:"application/json",feature_count:50,CQL_FILTER:e?e.wmsParams.cql_filter?e.wmsParams.cql_filter:"1=1":""};return o["1.3.0"===o.version?"i":"x"]=Math.floor(r.x),o["1.3.0"===o.version?"j":"y"]=Math.floor(r.y),e._url+n.Util.getParamString(o,e._url,!0)},t.prototype.getFeatureInfoForGivenPoint=function(t,e,a,n){var r=this.getFeatureInfoUrlForGivenPoint(t,e,a,n);return this.http.get(r).pipe(Object(l.a)(function(t){return p.a}))},t.prototype.getFeatureInfoUrlForGivenPoint=function(t,e,a,r){var i={request:"getFeatureInfo",service:"WMS",srs:"EPSG:4326",transparent:!0,version:r.wmsParams.version,format:r.wmsParams.format,bbox:e,height:Math.floor(a.y),width:Math.floor(a.x),layers:r.wmsParams.layers,query_layers:r.wmsParams.layers,info_format:"application/json",feature_count:50,CQL_FILTER:r.wmsParams.cql_filter?r.wmsParams.cql_filter:"1=1"};return i["1.3.0"===i.version?"i":"x"]=t.x,i["1.3.0"===i.version?"j":"y"]=t.y,r._url+n.Util.getParamString(i,r._url,!0)},t.prototype.getWmsLayerForTime=function(t,e){return new n.TileLayer.WMS(this.urlConstants.GEOSERVER_URL+"kaleshwaram/wms",{layers:t,format:"image/png",transparent:!0,maxZoom:25,minZoom:5,pane:"base",time:e})},t.prototype.getTimeWmsLayerFromLayerName=function(t,e,a){return new n.TileLayer.WMS(t._url,{layers:e,format:"image/png",transparent:!0,maxZoom:25,minZoom:5,pane:"base",time:a,timeDimension:!0,srs:"EPSG:4326"})},t.prototype.emitSourceChangeEvent=function(t){var e=this;setTimeout(function(){e.updateSourceNameSource.next({newSource:t})},2e3),this.visibilityMiTanksSource=t},t.prototype.getVisibilityMiTanksSource=function(){return this.visibilityMiTanksSource},t.prototype.getWFSTOptions=function(t,e){return{url:this.urlConstants.GEOSERVER_URL+"ows",typeNS:t,typeName:e,crs:n.CRS.EPSG4326,geometryField:"geom",forceMulti:!0,style:function(t){return{color:"blue",weight:2}}}},t.ngInjectableDef=f.cb({factory:function(){return new t(f.gb(m.a),f.gb(o.a),f.gb(g),f.gb(b.c),f.gb(f.s),f.gb(y.a),f.gb(v.a),f.gb(T.a))},token:t,providedIn:"root"}),t}()},Ex5H:function(t,e,a){"use strict";a.d(e,"m",function(){return L}),a.d(e,"d",function(){return I}),a.d(e,"g",function(){return D}),a.d(e,"h",function(){return O}),a.d(e,"j",function(){return N}),a.d(e,"e",function(){return w}),a.d(e,"f",function(){return C}),a.d(e,"i",function(){return E}),a.d(e,"l",function(){return M}),a.d(e,"a",function(){return R}),a.d(e,"b",function(){return F}),a.d(e,"k",function(){return x}),a.d(e,"c",function(){return U});var n,r,i,o,s,l,u,p,c,d,h,m,y,f,g,A,v,S,T,_,b=a("AytR").a.url,L={LOCATIONS:{TELANGANA:"TELANGANA",GODAVARI:"GODAVARI",INDIA:"INDIA",STATE:"STATE",DISTRICT:"DISTRICT",MANDAL:"MANDAL",MITANK:"MITANK",NDVI:"NDVI",RAINFALL:"RAINFALL",GROUNDWATER:"GROUNDWATER",BASIN:"BASIN",GODAVARIBASIN:"GODAVARAIBASIN",GODAVARISUBBASIN:"GODAVARISUBBASIN",SUBBASIN:"SUBBASIN",ALL:"ALL",STATION:"STATION",BASIN_LAST_LEVEL:"BASIN_LAST_LEVEL",GODAVARI_BASIN_LAST_LEVEL:"GODAVARI_BASIN_LAST_LEVEL",RESERVOIR:"RESERVOIR",RIVER_GAUGE:"RIVER_GAUGE",WATERAUDIT:"WATERAUDIT",CANAL:"CANAL",SUB_CANAL:"SUB_CANAL",DISTRIBUTARY_CANAL:"DISTRIBUTARY_CANAL",MINOR:"MINOR",SUB_MINOR:"SUB_MINOR","Sri Ram Sagar Project":"Sri Ram Sagar Project","Lower Manair Dam":"Lower Manair Dam",SRSP:"Sri Ram Sagar Project",VILLAGE:"VILLAGE",COMMAND_AREA:"COMMAND_AREA",SUB_COMMAND_AREA:"SUB_COMMAND_AREA",COMMAND_DISTRICT:"COMMAND_DISTRICT",COMMAND_MANDAL:"COMMAND_MANDAL",TAMILNADU:"TAMILNADU",ODISHA:"ODISHA",INFLOWFORECAST:"INFLOWFORECAST",BLOCK:"BLOCK",COUNTRY:"COUNTRY",HEATMAP:"HEATMAP",COMBINED_BASIN:"COMBINED_BASIN"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN",COMBINED_BASIN:"COMBINED_BASIN",ALL:"ALL",PROJECT:"PROJECT"},COMPONENT:{RAINFALL:"RAINFALL",MITANK:"MITANK",GROUNDWATER:"GROUNDWATER",RESERVOIR:"RESERVOIR",RIVER_GAUGE:"RIVER_GAUGE",WATERAUDIT:"WATERAUDIT",SOILMOISTURE:"SOILMOISTURE",CROPDEMAND:"CROP_DEMAND",INDUSTRIALDEMAND:"INDUSTRY",HYDROPOWERDEMAND:"HYDROPOWER",DOMESTICDEMAND:"POPULATION",POPULATION:"POPULATION",LIVESTOCK:"LIVESTOCK",DOMESTIC:"DOMESTIC",DEMAND:"demand",EVAPOTRANSPIRATION:"ET",SURFACEWATERQUALITY:"SURFACEWATER_WQ",NDVI:"NDVI",INFLOWFORECAST:"INFLOWFORECAST"},SOURCES:{ALL:"ALL",SENTINEL1:"SENTINEL1",SENTINEL2:"SENTINEL2",TELANGANA_MITANK:"TELANGANA_MITANK",TELANGANA_MITANK_BY_DEPT:"TELANGANA_MITANK_BY_DEPT",SENTINEL1_DEM:"SENTINEL1_DEM",SENTINEL2_DEM:"SENTINEL2_DEM",Combined_S1S2:"Combined_S1S2",Combined_S1S2_DEM:"Combined_S1S2_DEM",SENTINEL2_GC:"SENTINEL2_GC",SENTINEL1_GC:"SENTINEL1_GC",STATE_AND_CENTRAL_STATIONS:"STATE_AND_CENTRAL_STATIONS",TELANGANA_GW:"TELANGANA_GW",CGWB:"CGWB",STATE_STATIONS:"STATE_STATIONS",GEOSERVER:"GEOSERVER",BACKEND:"BACKEND",IMD_GRID:"IMD_GRID",GRID:"GRID",NRSC:"NRSC",IMD_STATIONS:"IMD_STATIONS",TNSMART:"TNSMART",TNPWD:"TNPWD GW",TNGWD:"TNGWD GW",TNAU:"TNAU",GPM_GRID:"GPM_GRID",TNPCB_RIVER:"TNPCB_RIVER"},IDTOSTATENAMEMAPPING:{akbm:"ANDHRA PRADESH",chka:"KARNATAKA",maks:"KERALA",dvaj:"ORISSA",kskc:"TELANGANA",tn:"TAMILNADU"},LOCATION_CONSTANT:{COUNTRY:"COUNTRY",STATE:"STATE",DISTRICT:"DISTRICT",BLOCK:"BLOCK",MANDAL:"MANDAL",VILLAGE:"VILLAGE",PANCHAYATH:"PANCHAYATH",MITANK:"MITANK",BASIN:"BASIN",SUBBASIN:"SUBBASIN",STATION:"STATION",RESERVOIR:"RESERVOIR",RIVER_GAUGE:"RIVER_GAUGE",WATERAUDIT:"WATERAUDIT",MI_TANKS:"Minor Irrigation Tanks",RIVERPOINT:"River Authority",GROUNDWATER:"Ground Water",REGION:"REGION",RIVER:"RIVER",WC_STRUCTURE:"Wc Structure",RAINFALL:"RAINFALL",WATERSHED:"WATERSHED"},DISTRICT_ORDER_ACTUAL_NAME:["Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Mahe","Kannur","Kasaragod"],API_MAPPING:{BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes"},PANE_LIST:[{name:"elev",zindex:"10"},{name:"base",zindex:"390"},{name:"WA",zindex:"400"},{name:"state",zindex:"401"},{name:"district",zindex:"402"},{name:"mandal",zindex:"403"},{name:"heatMap",zindex:"400"},{name:"marker",zindex:"600"},{name:"popUp",zindex:"602"},{name:"depth",zindex:"610"},{name:"popUpGeoJson",zindex:"801"},{name:"mask",zindex:"700"},{name:"names",zindex:"800"},{name:"max",zindex:"900"}],HEATMAP:{ACTUAL:"ACTUAL",DEVIATION:"DEVIATION",FLUCTUATION_FROM_LAST_YEAR:"FLUCTUATION_FROM_LAST_YEAR",FLUCTUATION_FROM_WATER_YEAR:"FLUCTUATION_FROM_WATER_YEAR"},DATEPICKER_DATE_FORMAT:{YEAR:"yyyy",MONTH:"yyyyMM",DAY:"yyyyMMdd",SEASON:"season",Realtime:"Realtime"},DATE_FORMAT:(n={},n.yyyy="Yearly",n.yyyyMM="Monthly",n.yyyyMMdd="Daily",n.season="Season",n.Realtime="REALTIME",n)},I={TILE_LAYER:"TILELAYER",WMS_LAYER:"WMS",VECTOR_LAYER:"VECTOR",GEOJSON_LAYER:"GEOJSON",HEATMAP_LAYER:"HEATMAP"},D=((r={})[L.LOCATIONS.STATE]={MIN:6,MAX:18},r[L.LOCATIONS.BASIN]={MIN:6,MAX:9},r[L.LOCATIONS.GODAVARIBASIN]={MIN:7,MAX:8},r[L.LOCATIONS.GODAVARISUBBASIN]={MIN:7,MAX:18},r[L.LOCATIONS.DISTRICT]={MIN:6,MAX:10},r[L.LOCATIONS.BLOCK]={MIN:10,MAX:18},r[L.LOCATIONS.SUBBASIN]={MIN:9,MAX:11},r[L.LOCATIONS.MITANK]={MIN:11,MAX:18},r[L.LOCATIONS.NDVI]={MIN:11,MAX:18},r[L.LOCATIONS.RAINFALL]={MIN:6,MAX:18},r[L.LOCATIONS.GROUNDWATER]={MIN:6,MAX:18},r[L.LOCATIONS.STATION]={MIN:11,MAX:18},r[L.LOCATIONS.BASIN_LAST_LEVEL]={MIN:10,MAX:18},r[L.LOCATIONS.GODAVARI_BASIN_LAST_LEVEL]={MIN:8,MAX:18},r[L.LOCATIONS.COMMAND_AREA]={MIN:6,MAX:8},r[L.LOCATIONS.SUB_COMMAND_AREA]={MIN:9,MAX:10},r[L.LOCATIONS.COMMAND_DISTRICT]={MIN:10,MAX:11},r[L.LOCATIONS.COMMAND_MANDAL]={MIN:12,MAX:18},r[L.LOCATIONS.VILLAGE]={MIN:11,MAX:18},r[L.LOCATIONS.INFLOWFORECAST]={MIN:6,MAX:20},r[L.LOCATIONS.HEATMAP]={MIN:5,MAX:22},r),O=((i={})[L.LOCATIONS.INDIA]={UUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759"},i[L.LOCATIONS.TELANGANA]=((o={})[L.VIEWS.ADMIN]={UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668"},o[L.VIEWS.BASIN]={UUID:"46f6cde3-cb7a-4a6a-829f-22c68fa62d9e"},o[L.VIEWS.PROJECT]={UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668"},o),i[L.LOCATIONS.GODAVARI]=((s={})[L.VIEWS.BASIN]={UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715"},s),i[L.LOCATIONS.TAMILNADU]=((l={})[L.VIEWS.ADMIN]={UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b"},l[L.VIEWS.BASIN]={UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b"},l),i),N=((u={})[L.LOCATIONS.TAMILNADU]=((p={})[L.LOCATIONS.MANDAL]=((c={})[L.SOURCES.ALL]="Telangana Mandal Mask",c[L.SOURCES.GRID]="Telangana Mandal Mask For Grid",c),p[L.LOCATIONS.DISTRICT]=((d={})[L.SOURCES.ALL]="Telangana District Mask",d),p[L.LOCATIONS.SUBBASIN]=((h={})[L.SOURCES.ALL]="Telangana SUBBASIN Mask",h[L.SOURCES.GRID]="Telangana SUBBASIN Mask For Grid",h),p[L.LOCATIONS.BASIN]=((m={})[L.SOURCES.ALL]="Telangana Basin Mask",m),p),u[L.LOCATIONS.GODAVARI]=((y={})[L.LOCATIONS.SUBBASIN]=((f={})[L.SOURCES.ALL]="Godavari SUBBASIN Mask",f[L.SOURCES.GRID]="Godavari SUBBASIN Mask For Grid",f),y),u),w=((g={})[L.LOCATIONS.TELANGANA]=[17.638787196813762,78.55861865667588],g[L.LOCATIONS.GODAVARI]=[18.387606552494624,77.74710395866968],g[L.LOCATIONS.INDIA]=[17.8,79.06],g[L.LOCATIONS.TAMILNADU]=[10.9574,78.338],g[L.LOCATIONS.COMBINED_BASIN]=[20.835973,82.625089],g),C=((A={})[L.LOCATIONS.TELANGANA]=8,A[L.LOCATIONS.GODAVARI]=7,A[L.LOCATIONS.INDIA]=6,A[L.LOCATIONS.TAMILNADU]=7,A[L.LOCATIONS.COMBINED_BASIN]=7,A),E={minZoom:6,maxZoom:18,zoomSnap:1,zoom:C[L.LOCATIONS.INDIA],center:w[L.LOCATIONS.INDIA],zoomControl:!1,zoomAnimation:!0,maxBounds:[[40,66],[5,99]],maxBoundsViscosity:1},M={minZoom:6,maxZoom:18,zoomSnap:1,zoomControl:!1,zoomAnimation:!0,maxBounds:[[40,66],[5,99]],maxBoundsViscosity:1,doubleClickZoom:!1,dragging:!1,scrollWheelZoom:!1},R=((v={})[I.TILE_LAYER]=[{name:"Open Street Map",displayName:"Open Street Map",layerServiceType:"TILELAYER",type:"Base",view:"Admin",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",default_select:!1,imagesrc:"./assets/imgs/maps/open-street.jpg",visible:!1,options:{attribution:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>',maxZoom:E.maxZoom}},{name:"Bhuvan",displayName:"Bhuvan",layerServiceType:"TILELAYER",type:"Base",view:"Admin",url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'<a href="http://nrsc.gov.in/">NRSC</a>Map data \xa9 All rights reserved. Powered by <img src="assets/img/footer-logo.png">',imagesrc:"./assets/imgs/maps/open-street.jpg",visible:!1,default_select:!1,transparent:!1},{name:"Stamen",displayName:"Stamen",layerServiceType:"TILELAYER",type:"Base",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/base-map.jpg",visible:!1,url:"https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png",options:{maxNativeZoom:E.maxZoom,maxZoom:E.maxZoom}},{name:"Carto",displayName:"Carto",layerServiceType:"TILELAYER",type:"Base",view:"Admin",default_select:!1,visible:!0,url:"http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",imagesrc:"./assets/imgs/maps/base-map.jpg",maxZoom:E.maxZoom},{name:"Google Satellite",displayName:"Google Satellite",layerServiceType:"TILELAYER",type:"Base",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/satellite.jpg",visible:!1,url:"http://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}",maxZoom:E.maxZoom,subdomains:["mt0","mt1","mt2","mt3"]}],v[I.WMS_LAYER]=[{name:"Sentinel 1",displayName:"Sentinel 1",layeroptions_name:"tg_sentinel1_mosaic",layerServiceType:"WMS",type:"WMS",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/sentinel1.png",visible:!1,url:b.GEOSERVER_URL+"kaleshwaram/gwc/service/",options:{minZoom:E.maxZoom,maxZoom:E.maxZoom,pane:"base"}},{name:"Sentinel 2 FCC",displayName:"Sentinel 2 FCC",layeroptions_name:"sentinel2_fc",layerServiceType:"WMS",type:"WMS",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/sentinel2_fc.png",visible:!1,url:b.GEOSERVER_URL+"kaleshwaram/gwc/service",options:{minZoom:5,maxZoom:25,pane:"base"}},{name:"Sentinel 2 TCC",displayName:"Sentinel 2 TCC",layeroptions_name:"sentinel2_TCC",layerServiceType:"WMS",type:"WMS",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/sentinel2_tci.png",visible:!1,url:b.GEOSERVER_URL+"kaleshwaram/gwc/service/",options:{minZoom:5,maxZoom:25,pane:"base"}},{name:"ALOS DEM",displayName:"ALOS DEM",layeroptions_name:"TG_ALOS_DEM",layerServiceType:"WMS",type:"WMS",view:"Admin",default_select:!1,imagesrc:"./assets/imgs/maps/sentinel2_tci.png",visible:!1,url:b.GEOSERVER_URL+"kaleshwaram/wms?",options:{minZoom:5,maxZoom:25,pane:"base"}}],v),F=((S={})[L.VIEWS.ALL]={"State Names":{name:"State Names",visible:!1,view:L.VIEWS.ALL,layeroptions_name:"forecast:INDIA_STATE",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!0,layeroptions_pane:"names",layeroptions_styles:"forecast:CoreWris_State_Boundary",type:"WMS",cql_filter:null,group:"labels"},BASELAYER_METADATA:{name:"BASELAYER_METADATA",visible:!1,view:L.VIEWS.ALL,layeroptions_name:"kaleshwaram:baselayer_metadata",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!0,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null},"India Boundary":{name:"India",visible:!0,view:L.VIEWS.ALL,layeroptions_name:"kaleshwaram:kwaram_india_boundary",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:kwaram_forecast_india_shadow",type:"WMS",cql_filter:null,group:"null"},"Odisha Metadata":{name:"telangana_metadata",visible:!1,view:L.VIEWS.ALL,layeroptions_name:"kaleshwaram:corewris_kwaram_ts_mandal",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!0,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null},"Odisha Basin Metadata":{name:"telangana_basin_metadata",visible:!1,view:L.VIEWS.ALL,layeroptions_name:"kaleshwaram:corewris_telangana_subbasin_1.0",layeroptions_min_zoom:1,layeroptions_max_zoom:18,layeroptions_show_on_selector:!1,layeroptions_pane:"elev",type:"WMS",cql_filter:null,group:null}},S[L.VIEWS.ADMIN]={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"tamilnadu:tamilnadu_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:tamilNadu_boundary",type:"WMS",cql_filter:null,group:"boundaries"},"TN District Name":{name:"District Name",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"tamilnadu:tamilnadu_district_names",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"names",layeroptions_styles:"kaleshwaram:tamilNadu_district_names",type:"WMS",group:"labels",cql_filter:null},"TN Mandal Name":{name:"Block Name",visible:!1,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_mandal_names",layeroptions_min_zoom:D[L.LOCATIONS.BLOCK].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BLOCK].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"names",layeroptions_styles:"kaleshwaram:tamilNadu_mandal_names",type:"WMS",group:"labels",cql_filter:null},"TN District Boundaries":{source:"District",displayName:"District",name:"DISTRICT",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_district",layer_name:"Telangana District Boundaries",layeroptions_pane:"state",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",cqlfilter:null,type:"VECTOR"},"TN Mandal Boundaries":{source:"TAMILNADU",displayName:"Mandal",name:"MANDAL",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mandal",layer_name:"Telangana Mandal Boundaries",layeroptions_pane:"district",layeroptions_min_zoom:D[L.LOCATIONS.BLOCK].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BLOCK].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"TN Village Boundaries":{source:"TELANGANA",displayName:"Village",name:"VILLAGE",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_villages",layer_name:"Telangana Village Boundaries",layeroptions_pane:"mandal",layeroptions_min_zoom:D[L.LOCATIONS.VILLAGE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.VILLAGE].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"}},S[L.VIEWS.BASIN]={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:tamilNadu_boundary",type:"WMS",cql_filter:null,group:"boundaries"},"Telangana Basin Name":{name:"Basin Name",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_basin_names",layeroptions_min_zoom:D[L.LOCATIONS.BASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BASIN].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"names",layeroptions_styles:"kaleshwaram:tamilnadu_basin_names",type:"WMS",group:"labels",cql_filter:null},"Telangana Subbasin Name":{name:"Subbasin Name",visible:!1,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_subbasin_names",layeroptions_min_zoom:D[L.LOCATIONS.SUBBASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.SUBBASIN].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"names",layeroptions_styles:"kaleshwaram:tamilnadu_subbasin_names",type:"WMS",group:"labels",cql_filter:null},"Telangana Basin":{source:"TELANGANA",displayName:"Basin",name:"BASIN",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_basin",layer_name:"Telangana Basin",layeroptions_pane:"state",layeroptions_min_zoom:D[L.LOCATIONS.BASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BASIN].MAX,group:"basin",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"Telangana Subbasin":{source:"TELANGANA",displayName:"Sub Basin",name:"SUBBASIN",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_subbasin",layer_name:"Telangana Subbasin",layeroptions_pane:"district",layeroptions_min_zoom:D[L.LOCATIONS.SUBBASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.SUBBASIN].MAX,group:"basin",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"}},S[L.VIEWS.PROJECT]={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.PROJECT,dashboardView:L.LOCATIONS.TELANGANA,layeroptions_name:"kaleshwaram:kwaram_forecast_ts_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:kwaram_boundry",type:"WMS",cql_filter:null,group:"boundaries"},"Telangana Sub Command Area Boundaries":{source:"TELANGANA",displayName:"District",name:"STATE",visible:!0,view:L.VIEWS.PROJECT,dashboardView:L.LOCATIONS.TELANGANA,layerptions_show_on_selector:!0,layeroptions_name:"kaleshwaram:kwaram_sub_command_area",layer_name:"Telangana Sub Command Area Boundaries",layeroptions_pane:"state",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",cqlfilter:null,type:"VECTOR"},"Telangana Command District":{source:"TELANGANA",displayName:"District",name:"STATE",visible:!0,view:L.VIEWS.PROJECT,dashboardView:L.LOCATIONS.TELANGANA,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:kwaram_command_district",layer_name:"Telangana Command District Boundaries",layeroptions_pane:"district",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",cqlfilter:null,type:"VECTOR"}},S[L.VIEWS.COMBINED_BASIN]={},S),x={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"tamilnadu:tamilnadu_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:tamilNadu_boundary",type:"WMS",cql_filter:null,group:"boundaries"},"TN District Boundaries":{source:"District",displayName:"District",name:"DISTRICT",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_district",layer_name:"Telangana District Boundaries",layeroptions_pane:"state",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",cqlfilter:null,type:"VECTOR"},"TN Mandal Boundaries":{source:"TAMILNADU",displayName:"Mandal",name:"MANDAL",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_mandal",layer_name:"Telangana Mandal Boundaries",layeroptions_pane:"district",layeroptions_min_zoom:D[L.LOCATIONS.BLOCK].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BLOCK].MAX,group:"boundaries",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"State Mask":{name:"State Mask",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"tamilnadu:tamilnadu_state_inverse",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",type:"WMS",cql_filter:null,group:"boundaries"},"TN District Name":{name:"District Name",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"tamilnadu:tamilnadu_district_names",layeroptions_min_zoom:D[L.LOCATIONS.DISTRICT].MIN,layeroptions_max_zoom:D[L.LOCATIONS.DISTRICT].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"names",layeroptions_styles:"kaleshwaram:tamilNadu_district_names",type:"WMS",group:"labels",cql_filter:null}},U=((T={})[L.COMPONENT.RAINFALL]="rainfall",T[L.COMPONENT.MITANK]="mitanks",T[L.COMPONENT.GROUNDWATER]="groundwater",T[L.COMPONENT.RESERVOIR]="reservoir",T[L.COMPONENT.RIVER_GAUGE]="rivergauge",T[L.COMPONENT.SOILMOISTURE]="soilmoisture",T[L.COMPONENT.WATERAUDIT]="wateraudit",T[L.COMPONENT.CROPDEMAND]="cropdemand",T[L.COMPONENT.INDUSTRIALDEMAND]="industrialdemand",T[L.COMPONENT.HYDROPOWERDEMAND]="hydropowerdemand",T[L.COMPONENT.EVAPOTRANSPIRATION]="evapotranspiration",T[L.COMPONENT.POPULATION]="domesticdemand",T[L.COMPONENT.NDVI]="ndvi",T[L.COMPONENT.INFLOWFORECAST]="inflowForecast",T[L.COMPONENT.SURFACEWATERQUALITY]="surfacewaterquality",T);(_={})[L.VIEWS.ADMIN]={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:tamilNadu_boundary",type:"WMS",cql_filter:null,group:"boundaries"},"Telangana District Boundaries":{name:"State",visible:!1,view:L.VIEWS.ADMIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_district",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:Kaleshwaram_MIniMap_District_Styling",type:"WMS",cql_filter:null,group:"boundaries"}},_[L.VIEWS.BASIN]={"State Boundary":{name:"State",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_state",layeroptions_min_zoom:D[L.LOCATIONS.STATE].MIN,layeroptions_max_zoom:D[L.LOCATIONS.STATE].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"WA",layeroptions_styles:"kaleshwaram:tamilNadu_boundary",type:"WMS",cql_filter:null,group:"boundaries"},"TN Basin Name":{name:"Basin Name",visible:!1,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_basin_names",layeroptions_min_zoom:D[L.LOCATIONS.BASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BASIN].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"district",layeroptions_styles:"kaleshwaram:tamilnadu_basin_names",type:"WMS",group:"labels",cql_filter:null},"TN Subbasin Name":{name:"Subbasin Name",visible:!1,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layeroptions_name:"kaleshwaram:tamilnadu_subbasin_names",layeroptions_min_zoom:D[L.LOCATIONS.SUBBASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.SUBBASIN].MAX,layeroptions_show_on_selector:!1,layeroptions_pane:"district",layeroptions_styles:"kaleshwaram:tamilnadu_subbasin_names",type:"WMS",group:"labels",cql_filter:null},"TN Basin":{source:"TELANGANA",displayName:"Basin",name:"BASIN",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_basin",layer_name:"Telangana Basin",layeroptions_pane:"state",layeroptions_min_zoom:D[L.LOCATIONS.BASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.BASIN].MAX,group:"basin",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"},"TN Subbasin":{source:"TELANGANA",displayName:"Sub Basin",name:"SUBBASIN",visible:!0,view:L.VIEWS.BASIN,dashboardView:L.LOCATIONS.TAMILNADU,layerptions_show_on_selector:!1,layeroptions_name:"kaleshwaram:tamilnadu_subbasin",layer_name:"Telangana Subbasin",layeroptions_pane:"district",layeroptions_min_zoom:D[L.LOCATIONS.SUBBASIN].MIN,layeroptions_max_zoom:D[L.LOCATIONS.SUBBASIN].MAX,group:"basin",group_type:"radio-deselect",layerServiceType:"VECTOR",type:"VECTOR"}}},Gy67:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("ga4K"),r=a("b67C"),i=a("q4vc"),o=a("AnS/"),s=a("Ex5H"),l=a("CcnG"),u=a("t/Na"),p=a("Ip0R"),c=function(){function t(t,e,a,r){this.http=t,this.visibilityUtils=e,this.utils=a,this.titleCasePipe=r,this.url=n.a.urlMapping.PROJ_API_RF_RESERVOIR}return t.prototype.post=function(t,e){return this.http.post(this.url+t,e)},t.prototype.get=function(t,e){return this.http.get(this.url+t+e)},t.prototype.getRainfallLegendData=function(t,e,a){return void 0===a&&(a={}),this.http.get(this.url+"getLegendDataForComponent/RAINFALL/"+a.aggr+"/"+a.timeStep+"/"+t+"/"+e)},t.prototype.getPostDataForHeatMap=function(t,e){var a={ACTUAL:"ACTUAL",DEVIATION:"DEVIATION"},n={pUUID:t.pEUUID,pType:"TAMILNADU"===t.dashboardView?"STATE":"BASIN",cType:"TAMILNADU"===t.dashboardView?"BLOCK":"SUBBASIN",format:t.timeStep,src:t.src,sDate:t.sDate,eDate:t.eDate,aggr:t.aggr,pEUUID:t.pEUUID,classification:null};return n.classification=e&&e.heatMap.key&&a[e.heatMap.key]?[a[e.heatMap.key]]:["ACTUAL"],n},t.prototype.getPostDataForSensor=function(t,e,a){var n={ACTUAL:"ACTUAL",DEVIATION:"DEVIATION"},r={pUUID:t.pEUUID,pType:"TAMILNADU"===t.dashboardView?"STATE":"BASIN",cType:"RAINFALL",format:t.timeStep,src:t.src,sDate:t.sDate,eDate:t.eDate,aggr:t.aggr,pEUUID:"TELANGANA"===t.dashboardView?"a9a6494f-eaf0-44ca-a2d9-b8f2aad20fc1":t.pUUID,classification:null,includeAllLoc:a};return r.classification=e&&e.heatMap.key&&n[e.heatMap.key]?[n[e.heatMap.key]]:["ACTUAL"],r},t.prototype.preProcessKPIData=function(t,e){var a=t[0];for(var n in e)"sc"==n?a.md&&null!=a.md[n]&&(e[n]=this.visibilityUtils.getDecimalFixed(a.md[n])):null!=a[n]&&(e[n]=this.visibilityUtils.getDecimalFixed(a[n]));return e},t.prototype.getColumnValue=function(t,e,a){void 0===a&&(a=[]);for(var n=null,r=!0,i=e,o=0,s=a;o<s.length;o++){var l=s[o];if(null==i[l]||null==i[l]){r=!1;break}i=i[l]}return r&&null!=i[t]&&null!=i[t]&&(n=i[t]),n},t.prototype.setColumnValue=function(t,e,a,n){void 0===n&&(n=[]);for(var r=a,i=0;i<n.length;i++)null==r[n[i]]&&(r[n[i]]={}),r=r[n[i]];return r[e.toLowerCase()]="number"==typeof t?this.visibilityUtils.getDecimalNumber(t,1):t,a},t.prototype.preprocessTableData=function(t,e){void 0===e&&(e=[]);for(var a={sc:{hierarchy:["md"]}},n=[],r={},i=0,o=t;i<o.length;i++){var s=o[i];r={};for(var l=0,u=e;l<u.length;l++){var p=u[l],c=void 0;null==(c=a[p]&&a[p].hierarchy?this.getColumnValue(p,s,a[p].hierarchy):this.getColumnValue(p,s))&&(c="-"),r=a[p]&&a[p].headers?this.setColumnValue(c,p,r,a[p].headers):this.setColumnValue(c,p,r)}r.color=this.setRainfallcolor(r.dl).bgcolor,this.utils.isEmptyObj(r)||"Pranhita and others"==r.nm||n.push(r)}return n},t.prototype.setRainfallcolor=function(t){var e=t;return e=e.toString().replace(",",""),parseFloat(e)>=60?{textcolor:"#ffffff",bgcolor:"#0D65D1",col:"color1"}:parseFloat(e)>=20&&parseFloat(e)<60?{textcolor:"#5e594e",bgcolor:"#09D0DE",col:"color2"}:parseFloat(e)>=-19&&parseFloat(e)<20?{textcolor:"#5e594e",bgcolor:"#37D934",col:"color3"}:parseFloat(e)<-19&&parseFloat(e)>-60?{textcolor:"#5e594e",bgcolor:"#E9F029",col:"color4"}:parseFloat(e)<=-60&&parseFloat(e)>-99?{textcolor:"#ffffff",bgcolor:"#e83835",col:"color5"}:-100==parseFloat(e)?{textcolor:"#5e594e",bgcolor:"#FFFFFF",col:"color6"}:{textcolor:"#5e594e",bgcolor:"#ffffff",col:"color7"}},t.prototype.getViewList=function(t){return t!=o.c.LOCATIONS.GODAVARI.NAME?[o.c.VIEWS.ADMIN,o.c.VIEWS.BASIN]:[o.c.VIEWS.BASIN]},t.prototype.getLocationList=function(){return[o.c.LOCATIONS.TAMILNADU]},t.prototype.getCommandCatchmentList=function(){return[o.c.VIEWS2.COMMAND,o.c.VIEWS2.CATCHMENT]},t.prototype.getAggregationTypeList=function(){return[{key:"SUM",value:"Sum"},{key:"AVG",value:"Avg"},{key:"MIN",value:"Min"},{key:"MAX",value:"Max"}]},t.prototype.getChartKeyOnAggregationType=function(t){var e;return"SUM"==t?e="rl":"AVG"==t?e="avrl":"MIN"==t?e="mnrl":"MAX"==t&&(e="mxrl"),e},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getCommandSourceList=function(){return[{key:"IMD_GRID",value:"IMD Grid"},{key:"STATE_STATIONS",value:"TNSMART"}]},t.prototype.getCatchmentSourceList=function(){return[{key:"IMD_GRID",value:"IMD Grid"},{key:"STATE_AND_CENTRAL_STATIONS",value:"State and Central Stations"}]},t.prototype.getProjectDashboardViewList=function(){return[{key:"command",value:"Command"},{key:"catchment",value:"Catchment"}]},t.prototype.getColumnConfig=function(){return{show:["nm","sc","al","nl","dl","rdays"],properties:{nm:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"MANDAL",append:"uid"},sc:{hideable:!0,displayAs:"No. of Stations",type:"NUMBER"},al:{hideable:!0,displayAs:"Actual (mm)",type:"NUMBER"},nl:{hideable:!0,displayAs:"Normal (mm)",type:"NUMBER"},dl:{hideable:!0,displayAs:"Deviation (%)",type:"PERCENTAGE"},rdays:{hideable:!0,displayAs:"No. of Rainy Days",type:"NUMBER"}}}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},downloadOptions:[{downloadType:"xls",downloadFileName:"Actual Rainfall",downloadAll:!0,metaData:!1},{downloadType:"pdf",downloadFileName:"Actual Rainfall",downloadAll:!0,metaData:!1}],searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"nm",colspan:2},paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0}}},t.prototype.getPostDataForTable=function(t){var e={eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:t.cType,pEUUID:t.pEUUID,classification:["ACTUAL","NORMAL","DEVIATION"],src:t.src,aggr:t.aggr,includeAllLoc:!0};return t.location&&t.location.NAME==o.a.TELANGANA&&t.pType==o.a.RAINFALL&&(e.pEUUID="a9a6494f-eaf0-44ca-a2d9-b8f2aad20fc1"),e},t.prototype.getPostDataForBreadCrumb=function(t){var e={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component.toLowerCase(),view:t.view,pEUUID:t.pEUUID};return t.location.NAME==o.a.TELANGANA&&t.view==o.c.VIEWS.BASIN&&(e.pEUUID=s.h[t.location.NAME.toUpperCase()][t.view].UUID),e},t.prototype.getPostDataForKPI=function(t){return{eDate:t.eDate,sDate:t.sDate,pUUID:t.pUUID,pType:t.pType,format:t.timeStep,cType:"NONE",pEUUID:t.pEUUID,classification:["ACTUAL","NORMAL","DEVIATION"],src:t.src,aggr:t.aggr,includeAllLoc:!0}},t.prototype.getPostDataForLocTypes=function(t){return{pEUUID:t.pEUUID,component:t.component,srcUUID:t.srcUUID,view:t.view+"_HIERARCHY"}},t.prototype.getBulletinData=function(t,e){var a=this,n="";return n="Tamil Nadu District wise Cumulative Rainfall Status : ",t.forEach(function(t){"TOTAL"!=t.nm&&(n+=' <li class="bulletin-text"><span class="bulletin-violetcolor"> \u2666 &nbsp;'+a.titleCasePipe.transform(t.nm)+" </span> : "+t.al+' mm (<span  class = "'+a.setRainfallcolor(t.dl).col+'" >'+t.dl+"%</span>) </li>")}),{RAINFALL:n}},t.ngInjectableDef=l.cb({factory:function(){return new t(l.gb(u.c),l.gb(r.a),l.gb(i.a),l.gb(p.B))},token:t,providedIn:"root"}),t}()},Io2v:function(t,e,a){"use strict";a.d(e,"a",function(){return u});var n=a("AytR"),r=a("q4vc"),i=a("26FU"),o=a("MCLT"),s=a("CcnG"),l=a("t/Na"),u=function(){function t(t,e){this.httpClient=t,this.utils=e,this.selectedParams=new i.a({}),this.urlConstants=n.a.url}return t.prototype.getOfftakePointsData=function(t,e,a){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"canalMetaData/"+t+"/"+e+"/"+a)},t.prototype.getOfftakePointsWaterRelease=function(t,e){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"offtake/latest/waterrelease/"+t+"/"+e)},t.prototype.getWaterReleaseData=function(t,e){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"canal/getAggregatedDataForWaterRealease/"+t+"/"+e)},t.prototype.getCatchmentRainfall=function(t,e,a){return this.httpClient.get(this.urlConstants.KAL_STAGING_URL+"/kaleshwaram/getAllCachmentRainfall/cumulative/"+t+"/"+e+"/"+a)},t.prototype.getCamsConfigData=function(t,e){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"cams/config/"+t+"/"+e)},t.prototype.getAllStorageDataForSvg=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"reservoir/aggregated",t)},t.prototype.getLast3DayReservoirPostData=function(){var t=this.utils.getMonsoonYearFromModelDate();return{pEUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",pUUID:"9553a7af-56f8-495f-ba0c-c2d2324e6759",pType:"COUNTRY",cType:"RESERVOIR",src:"STATE_AND_CENTRAL_STATIONS",format:"YEARLY",sDate:t,eDate:t,classification:["INSTANT_DATA"],aggr:"LATEST"}},t.prototype.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},t.prototype.getRangeColorForOffTake=function(t,e,a,n){return t<=a&&a<=e?n[0]:e+1==a?n[1]:e+2==a?n[2]:e+3==a?n[3]:e+4==a?n[4]:e+5==a?n[5]:e+6==a?n[6]:e+7==a?n[7]:e+8<=a?n[8]:void 0},t.prototype.getDatePickerFormat=function(t){if(0==t||Object(o.isNullOrUndefined)(t))return null;var e=t.toString().substring(0,4),a=t.toString().substring(4,6),n=t.toString().substring(6,8),r={};return r.year=parseInt(e),r.month=parseInt(a),r.day=parseInt(n),r},t.prototype.getParticularReservoirBusinessdata=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"reservoir/aggregated",t)},t.prototype.getParticularReservoirTableData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"reservoir/aggregated",t)},t.prototype.getStageWiseRainfallWidgetData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"rf/aggregated",t)},t.prototype.getForecastTableData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"rf/forecast/aggregated",t)},t.prototype.getTableDetailedAggregatedData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/tableDetailedAggregatedData",t)},t.prototype.getExpansionWaterReleaseData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/waterReleaseData",t)},t.prototype.getExpansionGWDetailedData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/getGWDetailedData",t)},t.prototype.getSatelliteCropSownAreaTableData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/getSatelliteCropSownAreaTableData",t)},t.prototype.getcropCoverageWidgetData=function(t){return this.httpClient.post(this.urlConstants.KAL_STAGING_URL+"/canal/cropsownanalysis/headerdata",t)},t.prototype.getAgricultureProductionData=function(t){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"crop/production/geography/"+t.rootLocUUID+"/"+t.locationType+"/"+t.locationUUID+"/"+t.monsoonYear+"/"+t.season+"/CANAL_HIERARCHY/all")},t.prototype.getAgricultureGVAData=function(t){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"crop/production/gva/"+t.rootLocUUID+"/"+t.locationType+"/"+t.locationUUID+"/"+t.monsoonYear+"/"+t.season+"/CANAL_HIERARCHY/all")},t.prototype.getWaterReleaseSeasonData=function(t,e,a,n){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"canal/getWaterReleaseDataForCropDemand/"+t+"/"+e+"/"+a+"/"+n)},t.prototype.getIrrigationWidgetData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"crop/irrigationEfficiency",t)},t.prototype.getGroundWaterData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/getGWSeasonalData",t)},t.prototype.getRainfallChartData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"rf/timeseries",t)},t.prototype.getForecastRainfallChart=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"rf/forecast/timeseries",t)},t.prototype.getRainfallGisChart=function(t){return this.httpClient.get(this.urlConstants.KAL_STAGING_URL+"/kaleshwaram/getKWProjectDashboardRFChartData/"+t.rootLocName+"/"+t.locName+"/"+t.locType+"/"+t.timeStep+"/"+t.startTs+"/"+t.endTs+"/NONE/NONE")},t.prototype.getAllCanalData=function(t){return this.httpClient.post(this.urlConstants.KAL_STAGING_URL+"/canal/tableAggregatedData",t)},t.prototype.getTableVarificationData=function(t){return this.httpClient.post(this.urlConstants.KAL_STAGING_URL+"/canal/tableAggregatedDataValidation",t)},t.prototype.getLayerWithFilter=function(t,e,a){var n;return n=this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+t+"&maxFeatures=5000000&outputFormat=application%2Fjson",e&&(n+="&cql_filter="+e),this.httpClient.get(n)},t.prototype.setSelectedParams=function(t){this.selectedParams.next(t)},t.prototype.getSelectedParams=function(){return this.selectedParams.asObservable()},t.prototype.getGWDugWellData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/timeseries",t)},t.prototype.getGwStations=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/aggregated",t)},t.prototype.getRangeColorForGW=function(t){var e=["#D4D7D9","#BAE4FE","#A5F8E5","#FCED67","#F9B5A0"];return null==t?e[0]:t>=0&&t<=3?e[1]:t>3&&t<=8?e[2]:t>8&&t<=20?e[3]:t>20?e[4]:void 0},t.prototype.getGwStateStations=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/aggregated",t)},t.prototype.getWrsFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/fetchWaterReleaseCycleDateList",t)},t.prototype.submitWrsFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/insertWaterReleaseCycleDateList",t)},t.prototype.getCeiFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/cropSummaryInfo",t)},t.prototype.getCeiPopUpData=function(t){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"canal/cropSownAreaEntry/"+t.distUUID+"/"+t.year+"/"+t.season+"/"+t.source+"/"+t.cropName)},t.prototype.submitCeiFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/submitCropSownAreaFromDashboard",t)},t.prototype.getDistributaryList=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/childrenlistfromparent",t)},t.prototype.getWrFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/waterReleaseSummary",t)},t.prototype.submitWrFormData=function(t,e){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/submitWaterReleaseData/"+e,t)},t.prototype.getSbcaFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/cropSummaryInfo",t)},t.prototype.submitSbcaFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"canal/submitCropSownAreaFromDashboard",t)},t.prototype.getGwSummaryFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/getDuggWellData",t)},t.prototype.submitGwFormData=function(t){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/editGWDugWellData",t)},t.prototype.uploadGwFormData=function(t,e){return this.httpClient.post(this.urlConstants.KAL_WRIS_URL+"gw/uploadGWBulkData",t)},t.prototype.downloadGwFormTemplate=function(t){return this.httpClient.get(this.urlConstants.KAL_WRIS_URL+"gw/downloadGWFileTemplate/"+t.source,{responseType:"blob"})},t.ngInjectableDef=s.cb({factory:function(){return new t(s.gb(l.c),s.gb(r.a))},token:t,providedIn:"root"}),t}()},"JvN/":function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("K9Ia"),r=a("9Z1F"),i=a("ga4K"),o=a("pxmK"),s=a("Ex5H"),l=(a("Pqvh"),a("AytR")),u=a("CcnG"),p=a("t/Na"),c=function(){function t(t,e){this.errorHandler=t,this.http=e,this.mapArray=[5],this.urlConstants={PLAY_URL:"",GEOSERVER_URL:l.a.url.GEOSERVER_URL,GEOSERVER_URL_SECOND:l.a.url.GEOSERVER_URL_SECOND},this.url=i.a.urlMapping.PROJ_API,this.message=new n.a}return t.prototype.setMessage=function(t){this.message.next(t)},t.prototype.getLayerWithFilter=function(t,e,a){var n;return n=this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+t+"&maxFeatures=5000000&outputFormat=application%2Fjson","tamilnadu_mitank_district_points"!=t&&"tamilnadu_mitank_block_points"!=t&&"tamilnadu_mitank_polygon_layer"!=t||(n=l.a.url.AZURE_GEOSERVER_URL+"tamilnadu/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=tamilnadu:"+t+"&maxFeatures=5000000&outputFormat=application%2Fjson"),e&&(n+="&cql_filter="+e),this.http.get(n)},t.prototype.getLayerWithFilterVass=function(t,e){var a=this.urlConstants.GEOSERVER_URL_SECOND+"VASSARLABS/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=VASSARLABS:"+t+"&maxFeatures=5000000&outputFormat=application%2Fjson";return e&&(a+="&cql_filter="+e),this.http.get(a)},t.prototype.getSourceListForComponent=function(t){return this.http.post(this.urlConstants.PLAY_URL+"comm/getrankwisesource",t).pipe(Object(r.a)(this.errorHandler.handleError("All Sources data for Components : ",[])))},t.prototype.getSourceListForComponentGW=function(){return this.http.get(this.urlConstants.PLAY_URL+"comm/getrankwisesource/groundwater").pipe(Object(r.a)(this.errorHandler.handleError("All Sources data for Components : ",[])))},t.prototype.getLocationLevelForSourceAndComponent=function(t){return this.http.post(this.urlConstants.PLAY_URL+"comm/getLocTypes",t).pipe(Object(r.a)(this.errorHandler.handleError("Locations Level for Source Data request",[])))},t.prototype.getLocationLevelForSourceAndComponentGW=function(t){return this.http.post(this.urlConstants.PLAY_URL+"comm/getLocTypes",t).pipe(Object(r.a)(this.errorHandler.handleError("Locations Level for Source Data request",[])))},t.prototype.getDateRangeForComponent=function(t,e){return this.http.get(this.urlConstants.PLAY_URL+"comm/range2/"+t+"/"+e).pipe(Object(r.a)(this.errorHandler.handleError("Date range request for "+t,[])))},t.prototype.getLocationHierarchy=function(t){return this.http.post(this.urlConstants.PLAY_URL+"locations/allChildrenForParentChildType",t).pipe(Object(r.a)(this.errorHandler.handleError("All Locations Data request",[])))},t.prototype.getStockChartData=function(t){return this.http.post(this.urlConstants.PLAY_URL+"rf/rfChart",t).pipe(Object(r.a)(this.errorHandler.handleError("Stock Chart Data request",[])))},t.prototype.getStockChartDataForReservoir=function(t){return this.http.post(this.urlConstants.PLAY_URL+"reservoir/chart",t).pipe(Object(r.a)(this.errorHandler.handleError("Stock Chart Data request",[])))},t.prototype.getStockChartDataForTemperature=function(t){return this.http.post(this.urlConstants.PLAY_URL+"temperature/chart/timerange",t).pipe(Object(r.a)(this.errorHandler.handleError("Stock Chart Data request",[])))},t.prototype.flattenObject=function(t){var e=this;return t.map(function(t,a){return e.flattenOneObject(t)})},t.prototype.flattenOneObject=function(t){if("string"==typeof t)return t;var e={};for(var a in t)if(t.hasOwnProperty(a))if("object"!=typeof t[a]||t[a]instanceof Array)e[a]=t[a];else{var n=this.flattenOneObject(t[a]);for(var r in n)n.hasOwnProperty(r)&&(e[a+"."+r]=n[r])}return e},t.prototype.getChartDataForSentinelMiTanks=function(t){return this.http.post(this.url+"mi/timeseries",t).pipe(Object(r.a)(this.errorHandler.handleError("Chart Data for Mi Tanks",[])))},t.prototype.post=function(t,e){return this.http.post("rainfall"==e.component||"reservoir"==e.component?i.a.urlMapping.PROJ_API_RF_RESERVOIR+t:this.url+t,e)},t.prototype.getPostDataForBreadCrumb=function(t){var e={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:t.component.toLowerCase(),view:t.view,src:t.src,pEUUID:t.pEUUID};return t.dashboardView==s.m.LOCATIONS.TAMILNADU&&t.view==s.m.VIEWS.BASIN&&(e.pEUUID=s.h[t.location.NAME.toUpperCase()][t.view].UUID),"population"!=e.component&&"industry"!=e.component||(e.component="rainfall"),e},t.prototype.addMaps=function(t,e){"map1"==t?this.mapArray[0]=e:"map2"==t?this.mapArray[1]=e:"map3"==t?this.mapArray[2]=e:"map4"==t?this.mapArray[3]=e:"map"==t&&(this.mapArray[4]=e)},t.prototype.maker=function(t){return{offsetFn:function(e,a,n,r){return{center:e,zoom:a+t}}}},t.prototype.syncMaps=function(){var t=this.mapArray[0],e=this.mapArray[1],a=this.mapArray[2],n=this.mapArray[3],r=this.mapArray[4];t.sync(e),t.sync(a),t.sync(n),t.sync(r,this.maker(2)),e.sync(t),e.sync(a),e.sync(n),e.sync(r,this.maker(2)),a.sync(t),a.sync(e),a.sync(n),a.sync(r,this.maker(2)),n.sync(t),n.sync(e),n.sync(a),n.sync(r,this.maker(2)),r.sync(t,this.maker(-2)),r.sync(e,this.maker(-2)),r.sync(a,this.maker(-2)),r.sync(n,this.maker(-2))},t.prototype.runComputationForNewMiTanksO=function(){return this.http.get("http://54.191.121.183/run_computation").pipe(Object(r.a)(this.errorHandler.handleError("Issue in processing")))},t.prototype.runComputationForNewMiTanks=function(){return this.http.get("http://54.191.121.183/run_computation").subscribe()},t.prototype.deleteMitankFromServer=function(t){return this.http.get("http://54.191.121.183/delete_mitank/"+t).subscribe()},t.ngInjectableDef=u.cb({factory:function(){return new t(u.gb(o.a),u.gb(p.c))},token:t,providedIn:"root"}),t}()},P8W5:function(t,e,a){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function i(t,e,a){return a?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function o(t,e,a){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));a.realloc(n);for(var r=a.pos-1;r>=t;r--)a.buf[r+n]=a.buf[r]}function s(t,e){for(var a=0;a<t.length;a++)e.writeVarint(t[a])}function l(t,e){for(var a=0;a<t.length;a++)e.writeSVarint(t[a])}function u(t,e){for(var a=0;a<t.length;a++)e.writeFloat(t[a])}function p(t,e){for(var a=0;a<t.length;a++)e.writeDouble(t[a])}function c(t,e){for(var a=0;a<t.length;a++)e.writeBoolean(t[a])}function d(t,e){for(var a=0;a<t.length;a++)e.writeFixed32(t[a])}function h(t,e){for(var a=0;a<t.length;a++)e.writeSFixed32(t[a])}function m(t,e){for(var a=0;a<t.length;a++)e.writeFixed64(t[a])}function y(t,e){for(var a=0;a<t.length;a++)e.writeSFixed64(t[a])}function f(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function g(t,e,a){t[a]=e,t[a+1]=e>>>8,t[a+2]=e>>>16,t[a+3]=e>>>24}function A(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function v(t,e){this.x=t,this.y=e}function S(t,e,a,n,r){this.properties={},this.extent=a,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=r,t.readFields(T,this,e)}function T(t,e,a){1==t?e.id=a.readVarint():2==t?function(t,e){for(var a=t.readVarint()+t.pos;t.pos<a;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(a,e):3==t?e.type=a.readVarint():4==t&&(e._geometry=a.pos)}function _(t){for(var e,a,n=0,r=0,i=t.length,o=i-1;r<i;o=r++)n+=((a=t[o]).x-(e=t[r]).x)*(e.y+a.y);return n}function b(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(I,this,e),this.length=this._features.length}function I(t,e,a){15===t?e.version=a.readVarint():1===t?e.name=a.readString():5===t?e.extent=a.readVarint():2===t?e._features.push(a.pos):3===t?e._keys.push(a.readString()):4===t&&e._values.push(function(t){for(var e=null,a=t.readVarint()+t.pos;t.pos<a;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(a))}function D(t,e,a){if(3===t){var n=new x(a,a.readVarint()+a.pos);n.length&&(e[n.name]=n)}}!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function o(t){return new Promise(function(e,a){t.onload=function(){e(t.result)},t.onerror=function(){a(t.error)}})}function s(t){var e=new FileReader,a=o(e);return e.readAsArrayBuffer(t),a}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&f(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,a=o(e);return e.readAsText(t),a}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),a=new Array(e.length),n=0;n<e.length;n++)a[n]=String.fromCharCode(e[n]);return a.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t,e){var a=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,a||null==t._bodyInit||(a=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=function(t){var e=t.toUpperCase();return A.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function c(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var a=t.split("="),n=a.shift().replace(/\+/g," "),r=a.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function d(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var a=t.split(":"),n=a.shift().trim();if(n){var r=a.join(":").trim();e.append(n,r)}}),e}function h(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=a(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=a(n)},r.prototype.forEach=function(t,e){var a=this;for(var n in this.map)a.map.hasOwnProperty(n)&&t.call(e,a.map[n],n,a)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,a){t.push(a)}),n(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,a){t.push([a,e])}),n(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},u.call(p.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];h.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=p,t.Response=h,t.fetch=function(t,e){return new Promise(function(a,n){var r=new p(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:d(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL"),a(new h("response"in i?i.response:i.responseText,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),r.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var O=n,N=function(t,e,a,n,r){var i,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,p=-7,c=a?r-1:0,d=a?-1:1,h=t[e+c];for(c+=d,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+t[e+c],c+=d,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=256*o+t[e+c],c+=d,p-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=u}return(h?-1:1)*o*Math.pow(2,i-n)},w=function(t,e,a,n,r,i){var o,s,l,u=8*i-r-1,p=(1<<u)-1,c=p>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,m=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=p?(s=0,o=p):o+c>=1?(s=(e*l-1)*Math.pow(2,r),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[a+h]=255&s,h+=m,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[a+h]=255&o,h+=m,o/=256,u-=8);t[a+h-m]|=128*y};n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5,n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,a){var n=this;for(a=a||this.length;this.pos<a;){var r=n.readVarint(),i=r>>3,o=n.pos;n.type=7&r,t(i,e,n),n.pos===o&&n.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=f(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=A(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=f(this.buf,this.pos)+4294967296*f(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=f(this.buf,this.pos)+4294967296*A(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=N(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=N(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,a,n=this.buf;return e=127&(a=n[this.pos++]),a<128?e:(e|=(127&(a=n[this.pos++]))<<7,a<128?e:(e|=(127&(a=n[this.pos++]))<<14,a<128?e:(e|=(127&(a=n[this.pos++]))<<21,a<128?e:function(t,e,a){var n,r,o=a.buf;if(n=(112&(r=o[a.pos++]))>>4,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<3,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<10,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<17,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<24,r<128)return i(t,n,e);if(n|=(1&(r=o[a.pos++]))<<31,r<128)return i(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(a=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,a){for(var n="",r=e;r<a;){var i,o,s,l=t[r],u=null,p=l>239?4:l>223?3:l>191?2:1;if(r+p>a)break;1===p?l<128&&(u=l):2===p?128==(192&(i=t[r+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===p?(o=t[r+2],128==(192&(i=t[r+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&i)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===p&&(o=t[r+2],s=t[r+3],128==(192&(i=t[r+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,p=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),r+=p}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var a=r(this);for(t=t||[];this.pos<a;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var a=new Uint8Array(e);a.set(this.buf),this.buf=a,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var a,n;if(t>=0?(a=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(a=~(-t%4294967296))?a=a+1|0:(a=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,a){a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,a.buf[a.pos]=127&(t>>>=7)}(a,0,e),function(t,e){var a=(7&t)<<4;e.buf[e.pos++]|=a|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,a){for(var n,r,i=0;i<e.length;i++){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){n>56319||i+1===e.length?(t[a++]=239,t[a++]=191,t[a++]=189):r=n;continue}if(n<56320){t[a++]=239,t[a++]=191,t[a++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[a++]=239,t[a++]=191,t[a++]=189,r=null);n<128?t[a++]=n:(n<2048?t[a++]=n>>6|192:(n<65536?t[a++]=n>>12|224:(t[a++]=n>>18|240,t[a++]=n>>12&63|128),t[a++]=n>>6&63|128),t[a++]=63&n|128)}return a}(this.buf,t,this.pos);var a=this.pos-e;a>=128&&o(e,a,this),this.pos=e-1,this.writeVarint(a),this.pos+=a},writeFloat:function(t){this.realloc(4),w(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),w(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var a=0;a<e;a++)this.buf[this.pos++]=t[a]},writeRawMessage:function(t,e){this.pos++;var a=this.pos;t(e,this);var n=this.pos-a;n>=128&&o(a,n,this),this.pos=a-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,a){this.writeTag(t,n.Bytes),this.writeRawMessage(e,a)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,c,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,p,e)},writePackedFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var C=v;v.prototype={clone:function(){return new v(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,a=t.y-this.y;return e*e+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),a=Math.sin(t),n=a*this.x+e*this.y;return this.x=e*this.x-a*this.y,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},v.convert=function(t){return t instanceof v?t:Array.isArray(t)?new v(t[0],t[1]):t};var E=C,M=S;S.types=["Unknown","Point","LineString","Polygon"],S.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,a=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,s=[];t.pos<a;){if(!r){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new E(i,o));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},S.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,a=1,n=0,r=0,i=0,o=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!n){var p=t.readVarint();a=7&p,n=p>>3}if(n--,1===a||2===a)(r+=t.readSVarint())<o&&(o=r),r>s&&(s=r),(i+=t.readSVarint())<l&&(l=i),i>u&&(u=i);else if(7!==a)throw new Error("unknown command "+a)}return[o,l,s,u]},S.prototype.toGeoJSON=function(t,e,a){function n(t){for(var e=0;e<t.length;e++){var a=t[e];t[e]=[360*(a.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(a.y+l)/o)*Math.PI/180))-90]}}var r,i,o=this.extent*Math.pow(2,a),s=this.extent*t,l=this.extent*e,u=this.loadGeometry(),p=S.types[this.type];switch(this.type){case 1:var c=[];for(r=0;r<u.length;r++)c[r]=u[r][0];n(u=c);break;case 2:for(r=0;r<u.length;r++)n(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var a,n,r=[],i=0;i<e;i++){var o=_(t[i]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(a&&r.push(a),a=[t[i]]):a.push(t[i]))}return a&&r.push(a),r}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)n(u[r][i])}1===u.length?u=u[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d};var R=M,F=b;b.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new R(this._pbf,e,this.extent,this._keys,this._values)};var x=F,U=function(t,e){this.layers=t.readFields(D,{},e)};L.SVG.Tile=L.SVG.extend({initialize:function(t,e,a){L.SVG.prototype.initialize.call(this,a),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:L.Util.falseFn,addTo:function(t){if(this._map=t,this.options.interactive)for(var e in this._layers){var a=this._layers[e];a._path.style.pointerEvents="auto",this._map._targets[L.stamp(a._path)]=a}},removeFrom:function(t){if(this.options.interactive)for(var e in this._layers)delete this._map._targets[L.stamp(this._layers[e]._path)];delete this._map},_initContainer:function(){L.SVG.prototype._initContainer.call(this),L.SVG.create("rect")},_addPath:function(t){this._rootGroup.appendChild(t._path),this._layers[L.stamp(t)]=t},_updateIcon:function(t){var e=t._path=L.SVG.create("image"),a=t.options.icon.options,n=L.point(a.iconSize),r=a.iconAnchor||n&&n.divideBy(2,!0),i=t._point.subtract(r);e.setAttribute("x",i.x),e.setAttribute("y",i.y),e.setAttribute("width",n.x+"px"),e.setAttribute("height",n.y+"px"),e.setAttribute("href",a.iconUrl)}}),L.svg.tile=function(t,e,a){return new L.SVG.Tile(t,e,a)};var P=L.Class.extend({render:function(t,e){this._renderer=t,this.options=e,t._initPath(this),t._updateStyle(this)},updateStyle:function(t,e){this.options=e,t._updateStyle(this)},_getPixelBounds:function(){for(var t=this._parts,e=L.bounds([]),a=0;a<t.length;a++)for(var n=t[a],r=0;r<n.length;r++)e.extend(n[r]);var i=this._clickTolerance(),o=new L.Point(i,i);return e.min._subtract(o),e.max._add(o),e},_clickTolerance:L.Path.prototype._clickTolerance}),V={_makeFeatureParts:function(t,e){var a=t.geometry;this._parts=[];for(var n=0;n<a.length;n++){for(var r=a[n],i=[],o=0;o<r.length;o++)i.push(L.point(r[o]).scaleBy(e));this._parts.push(i)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},k=L.CircleMarker.extend({includes:P.prototype,statics:{iconCache:{}},initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){P.prototype.render.call(this,t,e),this._radius=e.radius||L.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(t,e){var a=t.geometry[0];"object"==typeof a[0]&&"x"in a[0]?(this._point=L.point(a[0]).scaleBy(e),this._empty=L.Util.falseFn):(this._point=L.point(a).scaleBy(e),this._empty=L.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(t,e){return this._radius=e.radius||this._radius,this._updateBounds(),P.prototype.updateStyle.call(this,t,e)},_updateBounds:function(){var t=this.options.icon;if(t){var e=L.point(t.options.iconSize),a=t.options.iconAnchor||e&&e.divideBy(2,!0),n=this._point.subtract(a);this._pxBounds=new L.Bounds(n,n.add(t.options.iconSize))}else L.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.icon?this._renderer._updateIcon(this):L.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(this.options.icon){var t=this.options.icon.options.iconUrl,e=k.iconCache[t];return e||(e=k.iconCache[t]=this.options.icon.createIcon()),e}return null},_containsPoint:function(t){return this.options.icon?this._pxBounds.contains(t):L.CircleMarker.prototype._containsPoint.call(this,t)}}),B=L.Polyline.extend({includes:[P.prototype,V],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){e.fill=!1,P.prototype.render.call(this,t,e),this._updatePath()},updateStyle:function(t,e){e.fill=!1,P.prototype.updateStyle.call(this,t,e)}}),G=L.Polygon.extend({includes:[P.prototype,V],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){P.prototype.render.call(this,t,e),this._updatePath()}});L.VectorGrid=L.GridLayer.extend({options:{rendererFactory:L.svg.tile,vectorTileLayerStyles:{},interactive:!1},initialize:function(t){L.setOptions(this,t),L.GridLayer.prototype.initialize.apply(this,arguments),this.options.getFeatureId&&(this._vectorTiles={},this._overriddenStyles={},this.on("tileunload",function(t){var e=this._tileCoordsToKey(t.coords),a=this._vectorTiles[e];a&&this._map&&a.removeFrom(this._map),delete this._vectorTiles[e]},this)),this._dataLayerNames={}},createTile:function(t,e){var a=this.options.getFeatureId,n=this.getTileSize(),r=this.options.rendererFactory(t,n,this.options),i=this._getVectorTilePromise(t);return a&&(this._vectorTiles[this._tileCoordsToKey(t)]=r,r._features={}),i.then((function(n){for(var i in n.layers){this._dataLayerNames[i]=!0;for(var o=n.layers[i],s=this.getTileSize().divideBy(o.extent),l=this.options.vectorTileLayerStyles[i]||L.Path.prototype.options,u=0;u<o.features.length;u++){var p,c=o.features[u],d=l;if(a){p=this.options.getFeatureId(c);var h=this._overriddenStyles[p];h&&(d=h[i]?h[i]:h)}if(d instanceof Function&&(d=d(c.properties,t.z)),d instanceof Array||(d=[d]),d.length){for(var m=this._createLayer(c,s),y=0;y<d.length;y++){var f=L.extend({},L.Path.prototype.options,d[y]);m.render(r,f),r._addPath(m)}this.options.interactive&&m.makeInteractive(),a&&(r._features[p]={layerName:i,feature:m})}}}null!=this._map&&r.addTo(this._map),L.Util.requestAnimFrame(e.bind(t,null,null))}).bind(this)),r.getContainer()},setFeatureStyle:function(t,e){for(var a in this._overriddenStyles[t]=e,this._vectorTiles){var n=this._vectorTiles[a],r=n._features[t];if(r){var i=e;e[r.layerName]&&(i=e[r.layerName]),this._updateStyles(r.feature,n,i)}}return this},resetFeatureStyle:function(t){for(var e in delete this._overriddenStyles[t],this._vectorTiles){var a=this._vectorTiles[e],n=a._features[t];if(n){var r=this.options.vectorTileLayerStyles[n.layerName]||L.Path.prototype.options;this._updateStyles(n.feature,a,r)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_updateStyles:function(t,e,a){(a=a instanceof Function?a(t.properties,e.getCoord().z):a)instanceof Array||(a=[a]);for(var n=0;n<a.length;n++){var r=L.extend({},L.Path.prototype.options,a[n]);t.updateStyle(e,r)}},_createLayer:function(t,e,a){var n;switch(t.type){case 1:n=new k(t,e);break;case 2:n=new B(t,e);break;case 3:n=new G(t,e)}return this.options.interactive&&n.addEventParent(this),n}}),L.vectorGrid=function(t){return new L.VectorGrid(t)},L.VectorGrid.Protobuf=L.VectorGrid.extend({options:{subdomains:"abc",fetchOptions:{}},initialize:function(t,e){this._url=t,L.VectorGrid.prototype.initialize.call(this,e)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},_getSubdomain:L.TileLayer.prototype._getSubdomain,_getVectorTilePromise:function(t){var e={s:this._getSubdomain(t),x:t.x,y:t.y,z:t.z};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=a),e["-y"]=a}var n=L.Util.template(this._url,L.extend(e,this.options));return fetch(n,this.options.fetchOptions).then(function(t){return t.ok?t.blob().then(function(t){var e=new FileReader;return new Promise(function(a){e.addEventListener("loadend",function(){var t=new O(e.result);return a(new U(t))}),e.readAsArrayBuffer(t)})}):{layers:[]}}).then(function(t){for(var e in t.layers){for(var a=[],n=0;n<t.layers[e].length;n++){var r=t.layers[e].feature(n);r.geometry=r.loadGeometry(),a.push(r)}t.layers[e].features=a}return t})}}),L.vectorGrid.protobuf=function(t,e){return new L.VectorGrid.Protobuf(t,e)};var W=function(t,e,a){try{return window.URL.createObjectURL(new Blob([Uint8Array.from(t.split("").map(function(t){return t.charCodeAt(0)}))],{type:e}))}catch(n){return"data:"+e+","+t}}('"use strict";function simplify$1(e,t){var r,n,o,i,a=t*t,s=e.length,l=0,u=s-1,c=[];for(e[l][2]=1,e[u][2]=1;u;){for(n=0,r=l+1;r<u;r++)(o=getSqSegDist(e[r],e[l],e[u]))>n&&(i=r,n=o);n>a?(e[i][2]=n,c.push(l),c.push(i),l=i):(u=c.pop(),l=c.pop())}}function getSqSegDist(e,t,r){var n=t[0],o=t[1],i=r[0],a=r[1],s=e[0],l=e[1],u=i-n,c=a-o;if(0!==u||0!==c){var f=((s-n)*u+(l-o)*c)/(u*u+c*c);f>1?(n=i,o=a):f>0&&(n+=u*f,o+=c*f)}return u=s-n,c=l-o,u*u+c*c}function convert$1(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)convertFeature(r,e.features[n],t);else"Feature"===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r}function convertFeature(e,t,r){if(null!==t.geometry){var n,o,i,a,s=t.geometry,l=s.type,u=s.coordinates,c=t.properties;if("Point"===l)e.push(create(c,1,[projectPoint(u)]));else if("MultiPoint"===l)e.push(create(c,1,project(u)));else if("LineString"===l)e.push(create(c,2,[project(u,r)]));else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)a=project(u[n],r),"Polygon"===l&&(a.outer=0===n),i.push(a);e.push(create(c,"Polygon"===l?3:2,i))}else if("MultiPolygon"===l){for(i=[],n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)a=project(u[n][o],r),a.outer=0===o,i.push(a);e.push(create(c,3,i))}else{if("GeometryCollection"!==l)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<s.geometries.length;n++)convertFeature(e,{geometry:s.geometries[n],properties:c},r)}}}function create(e,t,r){var n={geometry:r,type:t,tags:e||null,min:[2,1],max:[-1,0]};return calcBBox(n),n}function project(e,t){for(var r=[],n=0;n<e.length;n++)r.push(projectPoint(e[n]));return t&&(simplify(r,t),calcSize(r)),r}function projectPoint(e){var t=Math.sin(e[1]*Math.PI/180),r=e[0]/360+.5,n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n=n<0?0:n>1?1:n,[r,n,0]}function calcSize(e){for(var t,r,n=0,o=0,i=0;i<e.length-1;i++)t=r||e[i],r=e[i+1],n+=t[0]*r[1]-r[0]*t[1],o+=Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1]);e.area=Math.abs(n/2),e.dist=o}function calcBBox(e){var t=e.geometry,r=e.min,n=e.max;if(1===e.type)calcRingBBox(r,n,t);else for(var o=0;o<t.length;o++)calcRingBBox(r,n,t[o]);return e}function calcRingBBox(e,t,r){for(var n,o=0;o<r.length;o++)n=r[o],e[0]=Math.min(n[0],e[0]),t[0]=Math.max(n[0],t[0]),e[1]=Math.min(n[1],e[1]),t[1]=Math.max(n[1],t[1])}function transformTile(e,t){if(e.transformed)return e;var r,n,o,i=e.z2,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry;if(1===l.type)for(n=0;n<u.length;n++)u[n]=transformPoint(u[n],t,i,a,s);else for(n=0;n<u.length;n++){var c=u[n];for(o=0;o<c.length;o++)c[o]=transformPoint(c[o],t,i,a,s)}}return e.transformed=!0,e}function transformPoint(e,t,r,n,o){return[Math.round(t*(e[0]*r-n)),Math.round(t*(e[1]*r-o))]}function clip$1(e,t,r,n,o,i,a,s){if(r/=t,n/=t,a>=r&&s<=n)return e;if(a>n||s<r)return null;for(var l=[],u=0;u<e.length;u++){var c,f,p=e[u],h=p.geometry,m=p.type;if(c=p.min[o],f=p.max[o],c>=r&&f<=n)l.push(p);else if(!(c>n||f<r)){var g=1===m?clipPoints(h,r,n,o):clipGeometry(h,r,n,o,i,3===m);g.length&&l.push({geometry:g,type:m,tags:e[u].tags||null,min:p.min,max:p.max})}}return l.length?l:null}function clipPoints(e,t,r,n){for(var o=[],i=0;i<e.length;i++){var a=e[i],s=a[n];s>=t&&s<=r&&o.push(a)}return o}function clipGeometry(e,t,r,n,o,i){for(var a=[],s=0;s<e.length;s++){var l,u,c,f=0,p=0,h=null,m=e[s],g=m.area,d=m.dist,v=m.outer,y=m.length,x=[];for(u=0;u<y-1;u++)l=h||m[u],h=m[u+1],f=p||l[n],p=h[n],f<t?p>r?(x.push(o(l,h,t),o(l,h,r)),i||(x=newSlice(a,x,g,d,v))):p>=t&&x.push(o(l,h,t)):f>r?p<t?(x.push(o(l,h,r),o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p<=r&&x.push(o(l,h,r)):(x.push(l),p<t?(x.push(o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p>r&&(x.push(o(l,h,r)),i||(x=newSlice(a,x,g,d,v))));l=m[y-1],f=l[n],f>=t&&f<=r&&x.push(l),c=x[x.length-1],i&&c&&(x[0][0]!==c[0]||x[0][1]!==c[1])&&x.push(x[0]),newSlice(a,x,g,d,v)}return a}function newSlice(e,t,r,n,o){return t.length&&(t.area=r,t.dist=n,void 0!==o&&(t.outer=o),e.push(t)),[]}function wrap$1(e,t,r){var n=e,o=clip$2(e,1,-1-t,t,0,r,-1,2),i=clip$2(e,1,1-t,2+t,0,r,-1,2);return(o||i)&&(n=clip$2(e,1,-t,1+t,0,r,-1,2),o&&(n=shiftFeatureCoords(o,1).concat(n)),i&&(n=n.concat(shiftFeatureCoords(i,-1)))),n}function shiftFeatureCoords(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if(1===a)o=shiftCoords(i.geometry,t);else{o=[];for(var s=0;s<i.geometry.length;s++)o.push(shiftCoords(i.geometry[s],t))}r.push({geometry:o,type:a,tags:i.tags,min:[i.min[0]+t,i.min[1]],max:[i.max[0]+t,i.max[1]]})}return r}function shiftCoords(e,t){var r=[];r.area=e.area,r.dist=e.dist;for(var n=0;n<e.length;n++)r.push([e[n][0]+t,e[n][1],e[n][2]]);return r}function createTile$1(e,t,r,n,o,i){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z2:t,transformed:!1,min:[2,1],max:[-1,0]},s=0;s<e.length;s++){a.numFeatures++,addFeature(a,e[s],o,i);var l=e[s].min,u=e[s].max;l[0]<a.min[0]&&(a.min[0]=l[0]),l[1]<a.min[1]&&(a.min[1]=l[1]),u[0]>a.max[0]&&(a.max[0]=u[0]),u[1]>a.max[1]&&(a.max[1]=u[1])}return a}function addFeature(e,t,r,n){var o,i,a,s,l=t.geometry,u=t.type,c=[],f=r*r;if(1===u)for(o=0;o<l.length;o++)c.push(l[o]),e.numPoints++,e.numSimplified++;else for(o=0;o<l.length;o++)if(a=l[o],n||!(2===u&&a.dist<r||3===u&&a.area<f)){var p=[];for(i=0;i<a.length;i++)s=a[i],(n||s[2]>f)&&(p.push(s),e.numSimplified++),e.numPoints++;3===u&&rewind(p,a.outer),c.push(p)}else e.numPoints+=a.length;c.length&&e.features.push({geometry:c,type:u,tags:t.tags||null})}function rewind(e,t){signedArea(e)<0===t&&e.reverse()}function signedArea(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],r=e[a],n+=(r[0]-t[0])*(t[1]+r[1]);return n}function geojsonvt(e,t){return new GeoJSONVT(e,t)}function GeoJSONVT(e,t){t=this.options=extend(Object.create(this.options),t);var r=t.debug;r&&console.time("preprocess data");var n=1<<t.maxZoom,o=convert(e,t.tolerance/(n*t.extent));this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=wrap(o,t.buffer/t.extent,intersectX),o.length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(e,t,r){return 32*((1<<e)*r+t)+e}function intersectX(e,t,r){return[r,(r-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function intersectY(e,t,r){return[(r-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],r,1]}function extend(e,t){for(var r in t)e[r]=t[r];return e}function isClippedSquare(e,t,r){var n=e.source;if(1!==n.length)return!1;var o=n[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=transform.point(o.geometry[0][a],t,e.z2,e.x,e.y);if(s[0]!==-r&&s[0]!==t+r||s[1]!==-r&&s[1]!==t+r)return!1}return!0}function feature$1(e,t){var r=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,i=object(e,t);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function object(e,t){function r(e,t){t.length&&t.pop();for(var r=u[e<0?~e:e],n=0,o=r.length;n<o;++n)t.push(l(r[n].slice(),n));e<0&&reverse(t,o)}function n(e){return l(e.slice())}function o(e){for(var t=[],n=0,o=e.length;n<o;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function i(e){for(var t=o(e);t.length<4;)t.push(t[0].slice());return t}function a(e){return e.map(i)}function s(e){var t,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(s)};case"Point":t=n(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(n);break;case"LineString":t=o(e.arcs);break;case"MultiLineString":t=e.arcs.map(o);break;case"Polygon":t=a(e.arcs);break;case"MultiPolygon":t=e.arcs.map(a);break;default:return null}return{type:r,coordinates:t}}var l=transform$3(e),u=e.arcs;return s(t)}function extractArcs(e,t,r){function n(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function o(e){e.forEach(n)}function i(e){e.forEach(o)}function a(e){e.forEach(i)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":i(e.arcs);break;case"MultiPolygon":a(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==r?function(e){u.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}function planarRingArea(e){for(var t,r=-1,n=e.length,o=e[n-1],i=0;++r<n;)t=o,o=e[r],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}var simplify_1=simplify$1,convert_1=convert$1,simplify=simplify_1,tile=transformTile,point=transformPoint,transform$1={tile:tile,point:point},clip_1=clip$1,clip$2=clip_1,wrap_1=wrap$1,tile$1=createTile$1,index=geojsonvt,convert=convert_1,transform=transform$1,clip=clip_1,wrap=wrap_1,createTile=tile$1;GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=this,l=[e,t,r,n],u=this.options,c=u.debug,f=null;l.length;){n=l.pop(),r=l.pop(),t=l.pop(),e=l.pop();var p=1<<t,h=toID(t,r,n),m=s.tiles[h],g=t===u.maxZoom?0:u.tolerance/(p*u.extent);if(!m&&(c>1&&console.time("creation"),m=s.tiles[h]=createTile(e,p,r,n,g,t===u.maxZoom),s.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd("creation"));var d="z"+t;s.stats[d]=(s.stats[d]||0)+1,s.total++}if(m.source=e,o){if(t===u.maxZoom||t===o)continue;var v=1<<o-t;if(r!==Math.floor(i/v)||n!==Math.floor(a/v))continue}else if(t===u.indexMaxZoom||m.numPoints<=u.indexMaxPoints)continue;if(u.solidChildren||!isClippedSquare(m,u.extent,u.buffer)){m.source=null,c>1&&console.time("clipping");var y,x,b,M,P,S,w=.5*u.buffer/u.extent,$=.5-w,C=.5+w,F=1+w;y=x=b=M=null,P=clip(e,p,r-w,r+C,0,intersectX,m.min[0],m.max[0]),S=clip(e,p,r+$,r+F,0,intersectX,m.min[0],m.max[0]),P&&(y=clip(P,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),x=clip(P,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),S&&(b=clip(S,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),M=clip(S,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),c>1&&console.timeEnd("clipping"),y&&l.push(y,t+1,2*r,2*n),x&&l.push(x,t+1,2*r,2*n+1),b&&l.push(b,t+1,2*r+1,2*n),M&&l.push(M,t+1,2*r+1,2*n+1)}else o&&(f=t)}return f},GeoJSONVT.prototype.getTile=function(e,t,r){var n=this,o=this.options,i=o.extent,a=o.debug,s=1<<e;t=(t%s+s)%s;var l=toID(e,t,r);if(this.tiles[l])return transform.tile(this.tiles[l],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var u,c=e,f=t,p=r;!u&&c>0;)c--,f=Math.floor(f/2),p=Math.floor(p/2),u=n.tiles[toID(c,f,p)];if(!u||!u.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",c,f,p),isClippedSquare(u,i,o.buffer))return transform.tile(u,i);a>1&&console.time("drilling down");var h=this.splitTile(u.source,c,f,p,e,t,r);if(a>1&&console.timeEnd("drilling down"),null!==h){var m=1<<e-h;l=toID(h,Math.floor(t/m),Math.floor(r/m))}return this.tiles[l]?transform.tile(this.tiles[l],i):null};var identity=function(e){return e},transform$3=function(e){if(null==(t=e.transform))return identity;var t,r,n,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(e,t){return t||(r=n=0),e[0]=(r+=e[0])*o+a,e[1]=(n+=e[1])*i+s,e}},bbox=function(e){function t(e){s[0]=e[0],s[1]=e[1],a(s),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])}function r(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(r);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var n=e.bbox;if(!n){var o,i,a=transform$3(e),s=new Array(2),l=1/0,u=l,c=-l,f=-l;e.arcs.forEach(function(e){for(var t=-1,r=e.length;++t<r;)o=e[t],s[0]=o[0],s[1]=o[1],a(s,t),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])});for(i in e.objects)r(e.objects[i]);n=e.bbox=[l,u,c,f]}return n},reverse=function(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r},feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return feature$1(e,t)})}:feature$1(e,t)},stitch=function(e,t){function r(t){var r,n=e.arcs[t<0?~t:t],o=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],t<0?[r,o]:[o,r]}function n(e,t){for(var r in e){var n=e[r];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){o[e<0?~e:e]=1}),s.push(n)}}var o={},i={},a={},s=[],l=-1;return t.forEach(function(r,n){var o,i=e.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++l],t[l]=r,t[n]=o)}),t.forEach(function(e){var t,n,o=r(e),s=o[0],l=o[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=l,n=i[l]){delete i[n.start];var u=n===t?t:t.concat(n);i[u.start=t.start]=a[u.end=n.end]=u}else i[t.start]=a[t.end]=t;else if(t=i[l])if(delete i[t.start],t.unshift(e),t.start=s,n=a[s]){delete a[n.end];var c=n===t?t:n.concat(t);i[c.start=n.start]=a[c.end=t.end]=c}else i[t.start]=a[t.end]=t;else t=[e],i[t.start=s]=a[t.end=l]=t}),n(a,i),n(i,a),t.forEach(function(e){o[e<0?~e:e]||s.push([e])}),s},bisect=function(e,t){for(var r=0,n=e.length;r<n;){var o=r+n>>>1;e[o]<t?r=o+1:n=o}return r},slicers={},options;onmessage=function(e){if("slice"===e.data[0]){var t=e.data[1];if(options=e.data[2],t.type&&"Topology"===t.type)for(var r in t.objects)slicers[r]=index(feature(t,t.objects[r]),options);else slicers[options.vectorTileLayerName]=index(t,options)}else if("get"===e.data[0]){var n=e.data[1],o={};for(var r in slicers){var i=slicers[r].getTile(n.z,n.x,n.y);if(i){var a={features:[],extent:options.extent,name:options.vectorTileLayerName,length:i.features.length};for(var s in i.features){var l={geometry:i.features[s].geometry,properties:i.features[s].tags,type:i.features[s].type};a.features.push(l)}o[r]=a}}postMessage({layers:o,coords:n})}};\n',"text/plain; charset=us-ascii");L.VectorGrid.Slicer=L.VectorGrid.extend({options:{vectorTileLayerName:"sliced",extent:4096,maxZoom:14},initialize:function(t,e){for(var a in L.VectorGrid.prototype.initialize.call(this,e),e={},this.options)"rendererFactory"!==a&&"vectorTileLayerStyles"!==a&&"function"!=typeof this.options[a]&&(e[a]=this.options[a]);this._worker=new Worker(W),this._worker.postMessage(["slice",t,e])},_getVectorTilePromise:function(t){var e=this,a=new Promise(function(a){e._worker.addEventListener("message",function n(r){r.data.coords&&r.data.coords.x===t.x&&r.data.coords.y===t.y&&r.data.coords.z===t.z&&(a(r.data),e._worker.removeEventListener("message",n))})});return this._worker.postMessage(["get",t]),a}}),L.vectorGrid.slicer=function(t,e){return new L.VectorGrid.Slicer(t,e)},L.Canvas.Tile=L.Canvas.extend({initialize:function(t,e,a){L.Canvas.prototype.initialize.call(this,a),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,a.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:L.Util.falseFn,addTo:function(t){this._map=t},removeFrom:function(t){delete this._map},_onClick:function(t){var e,a,n=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());for(var r in this._layers)(e=this._layers[r]).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(a=e);a&&(L.DomEvent.fakeStop(t),this._fireEvent([a],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());this._handleMouseHover(t,e)}},_updateIcon:function(t){if(this._drawing){var e=t.options.icon.options,a=L.point(e.iconSize),n=e.iconAnchor||a&&a.divideBy(2,!0),r=t._point.subtract(n),i=this._ctx,o=t._getImage();o.complete?i.drawImage(o,r.x,r.y,a.x,a.y):L.DomEvent.on(o,"load",function(){i.drawImage(o,r.x,r.y,a.x,a.y)}),this._drawnLayers[t._leaflet_id]=t}}}),L.canvas.tile=function(t,e,a){return new L.Canvas.Tile(t,e,a)}},Pqvh:function(t,e){var a;a={animate:!1,reset:!0,disableViewprereset:!0},L.Sync=function(){},L.Sync.offsetHelper=function(t,e){var a=L.Util.isArray(t)?t:[.5,.5],n=L.Util.isArray(e)?e:[.5,.5];return function(t,e,r,i){var o=r.getSize(),s=i.getSize(),l=r.project(t,e).subtract([(.5-a[0])*o.x,(.5-a[1])*o.y]).add([(.5-n[0])*s.x,(.5-n[1])*s.y]);return r.unproject(l,e)}},L.Map.include({sync:function(t,e){this._initSync();var n=(e=L.extend({noInitialSync:!1,syncCursor:!1,syncCursorMarkerOptions:{radius:10,fillOpacity:.3,color:"#da291c",fillColor:"#fff"},offsetFn:function(t,e,a,n){return t}},e)).offsetFn;if(e.offsetFn=function(t,e,a,r){var i=n(t,e,a,r);return"center"in i?i:{center:i,zoom:e}},-1===this._syncMaps.indexOf(t)&&(this._syncMaps.push(t),this._syncOffsetFns[L.Util.stamp(t)]=e.offsetFn),!e.noInitialSync){var r=e.offsetFn(this.getCenter(),this.getZoom(),this,t);t.setView(r.center,r.zoom,a)}return e.syncCursor&&(void 0===t.cursor&&(t.cursor=L.circleMarker([0,0],e.syncCursorMarkerOptions).addTo(t)),this._cursors.push(t.cursor),this.on("mousemove",this._cursorSyncMove,this),this.on("mouseout",this._cursorSyncOut,this)),this.on("resize zoomend",this._selfSetView),this.on("moveend",this._syncOnMoveend),this.on("dragend",this._syncOnDragend),this},unsync:function(t){var e=this;return this._cursors&&this._cursors.forEach(function(e,a,n){e===t.cursor&&n.splice(a,1)}),t.cursor&&t.cursor.setLatLng([0,0]),this._syncMaps&&this._syncMaps.forEach(function(a,n){t===a&&(delete e._syncOffsetFns[L.Util.stamp(t)],e._syncMaps.splice(n,1))}),this._syncMaps&&0!=this._syncMaps.length||(this.off("resize zoomend",this._selfSetView),this.off("moveend",this._syncOnMoveend),this.off("dragend",this._syncOnDragend)),this},isSynced:function(t){var e=this.hasOwnProperty("_syncMaps")&&Object.keys(this._syncMaps).length>0;return e&&t&&(e=!1,this._syncMaps.forEach(function(a){t==a&&(e=!0)})),e},_cursorSyncMove:function(t){this._cursors.forEach(function(e){e.setLatLng(t.latlng)})},_cursorSyncOut:function(t){this._cursors.forEach(function(t){t.setLatLng([0,0])})},_selfSetView:function(t){this.setView(this.getCenter(),this.getZoom(),a)},_syncOnMoveend:function(t){this._syncDragend&&(this._syncDragend=!1,this._selfSetView(t),this._syncMaps.forEach(function(t){t.fire("moveend")}))},_syncOnDragend:function(t){this._syncDragend=!0},_zoomFactorTo:function(t){var e=this.getZoom(),a=t.getZoom();if(e==a)return 1;var n=e-a;return Math.pow(n>0?.5:2,Math.abs(n))},_initSync:function(){if(!this._syncMaps){var t=this;this._syncMaps=[],this._cursors=[],this._syncOffsetFns={},L.extend(t,{setView:function(e,a,n,r){function i(t,e){var a=[],r=n&&n.disableViewprereset&&t&&t._events;r&&(a=t._events.viewprereset,t._events.viewprereset=[]);var i=e(t);return r&&(t._events.viewprereset=a),i}var o=i(this,function(t){return L.Map.prototype.setView.call(t,e,a,n)});return r||t._syncMaps.forEach(function(r){i(r,function(i){var o=t._syncOffsetFns[L.Util.stamp(r)](e,a,t,r);return r.setView(o.center,o.zoom,n,!0)})}),o},panBy:function(e,a,n){return n||t._syncMaps.forEach(function(n){var r=t._zoomFactorTo(n),i=Array.isArray(e)?e.map(function(t){return t*r}):e.multiplyBy(r);n.panBy(i,a,!0)}),L.Map.prototype.panBy.call(this,e,a)},_onResize:function(e,a){return a||t._syncMaps.forEach(function(t){t._onResize(e,!0)}),L.Map.prototype._onResize.call(this,e)},_stop:function(e){L.Map.prototype._stop.call(this),e||t._syncMaps.forEach(function(t){t._stop(!0)})}}),t.dragging._draggable._updatePosition=function(){L.Draggable.prototype._updatePosition.call(this);var e=this;t._syncMaps.forEach(function(a){var n=t._zoomFactorTo(a),r=e._newPos.multiplyBy(n);L.DomUtil.setPosition(a.dragging._draggable._element,r),a.eachLayer(function(e){if(void 0!==e._google){var n=(0,t._syncOffsetFns[L.Util.stamp(a)])(t.getCenter(),t.getZoom(),t,a);e._google.setCenter(n.center),e._google.setZoom(n.zoom)}}),a.fire("move")})}}}})},XLZW:function(t,e,a){"use strict";a.d(e,"a",function(){return d});var n=a("MCLT"),r=a("q4vc"),i=a("Ex5H"),o=a("rbbI"),s=a("dXjv"),l=a("7Amg"),u=a("CcnG"),p=function(t,e,a,n){return new(a||(a=Promise))(function(r,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){t.done?r(t.value):new a(function(e){e(t.value)}).then(o,s)}l((n=n.apply(t,e||[])).next())})},c=function(t,e){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(){function t(t,e){this.cropdemandDataService=t,this.utils=e,this.layerList=[],this.cropdemandHeatMapSpinner=!1,this.pTypeData=[],this.cTypeData=[]}return t.prototype.getSrcWiseLayers=function(t){return p(this,void 0,void 0,function(){var e,a,n,r;return c(this,function(s){if(t.spinner=!0,t.params.pUUID=l.c.STATETOUUIDMAPPING.TAMILNADU,(e=t.params).pUUID=l.c.STATETOUUIDMAPPING.TAMILNADU,a=[],e.component==i.m.COMPONENT.CROPDEMAND){for(n in o.a[e.dashboardView])(r=o.a[e.dashboardView][n]).source!=e.src&&r.source!=i.m.VIEWS.ALL||r.view!=e.view&&r.view!=i.m.VIEWS.ALL||(r.paramType?r.paramType&&this.checkIsLayerApplicable(r,r.paramType,e[r.paramType])&&(a[n]=r):a[n]=r);this.addSrcWiseWMSLayers(a,t,e),"filter"==e.actionType&&this.getAndSetColors(t),t.spinner=!1}return[2]})})},t.prototype.colorLayers=function(t,e,a,n){var r=t.layers.overlaylayers;if(null!=r[e])for(var i in a){var o=n;o.clr=a[i].color,o.uuid=i,t.colorVectortileslayer(r[e],[o])}},t.prototype.getStyleObjForLayer=function(t){return{uuid:null,clr:"#634343",wt:.3,opacity:.45}},t.prototype.getAndSetColors=function(t){return p(this,void 0,void 0,function(){var e,a,n,r,i;return c(this,function(o){switch(o.label){case 0:return t.spinner=!0,a=this.getLayerNamesBasedOnParams(e=t.params),n=this.cropdemandDataService.getPostDataForMap(e),r=this,[4,this.getCropDemandData(n,"parent",e)];case 1:return r.pTypeData=o.sent(),(n=this.cropdemandDataService.getPostDataForMap(e)).cType=this.utils.getChildTypeForGivenParentType(n.cType,e.locationTypeList),i=this,[4,this.getCropDemandData(n,"child",e)];case 2:return i.cTypeData=o.sent(),null!=a.pLayerName&&this.colorLayers(t,a.pLayerName,this.pTypeData,this.getStyleObjForLayer(t.params)),null!=a.cLayerName&&this.colorLayers(t,a.cLayerName,this.cTypeData,this.getStyleObjForLayer(t.params)),this.manageLegend(t),t.spinner=!1,[2]}})})},t.prototype.getDomesticDemandData=function(t,e,a){var n=this,r={};return new Promise(function(t,i){var o=n.cropdemandDataService.getSampleTableData();o&&o.length>0&&(r=n.preProcessData(o,e,a)),t(r)})},t.prototype.getLayerNamesBasedOnParams=function(t){var e={pLayerName:null,cLayerName:null};return t.dashboardView==i.m.LOCATIONS.TAMILNADU?t.view==i.m.VIEWS.ADMIN?(e.pLayerName="TN District Boundaries",e.cLayerName="TN Mandal Boundaries"):(e.pLayerName="Telangana Basin",e.cLayerName="Telangana Basin"):t.dashboardView==i.m.LOCATIONS.GODAVARI&&t.view==i.m.VIEWS.BASIN&&(e.cLayerName="Godavari Subbasin"),e},t.prototype.getCropDemandData=function(t,e,a){var n=this,r={};return new Promise(function(t,i){var o;"ADMIN"==a.view?o=n.cropdemandDataService.getSampleTableData():"BASIN"==a.view&&(o=n.cropdemandDataService.getBasinSampleTableData()),o&&o.length>0&&(r=n.preProcessData(o,e,a)),t(r)})},t.prototype.getLegend=function(t){var e=null,a=t.params,n={};return a.view==i.m.VIEWS.ADMIN?a.dashboardView==i.m.LOCATIONS.TAMILNADU&&(e=t.map.getZoom()>i.g[i.m.LOCATIONS.DISTRICT].MAX?i.m.LOCATIONS.MANDAL:i.m.LOCATIONS.DISTRICT):a.dashboardView==i.m.LOCATIONS.TAMILNADU&&(e=i.m.LOCATIONS.SUBBASIN),null!=e&&(n[e]=o.c[a.view][e]),n},t.prototype.manageLegend=function(t){t.otherOptions.legend={},t.removeLegend(),t.otherOptions.legend=this.getLegend(t),this.utils.isEmptyObj(t.otherOptions.legend)||t.addLegend()},t.prototype.preProcessData=function(t,e,a){var n={},r=null;a.view==i.m.VIEWS.ADMIN?(r=i.m.LOCATIONS.MANDAL,"parent"==e&&(r=i.m.LOCATIONS.DISTRICT)):(r=i.m.LOCATIONS.SUBBASIN,"parent"==e&&(r=i.m.LOCATIONS.BASIN));for(var o=0,s=t;o<s.length;o++){var l=s[o];if(null!=l.name&&"total"!=l.name.toLowerCase()){var u=l.uuid,p="#FFFFFF";if(null!=l.wd&&null!=l.wd&&null!=r){var c=Number(l.wd);p=this.getColor(c,r)}n[u]={color:p}}}return n},t.prototype.addSrcWiseVECTORLayers=function(t,e,a){var n=e.gisDataService.getApplicationBasedLayer(t,i.d.VECTOR_LAYER,a);n=this.addSourceWiseLayers(e,n,a),e.addSrcWiseVECTORLayers(n)},t.prototype.checkIsLayerApplicable=function(t,e,a){return t[e].findIndex(function(t){return t==a})>-1},t.prototype.addSrcWiseWMSLayers=function(t,e,a){var n=e.gisDataService.getApplicationBasedLayer(t,i.d.WMS_LAYER,a);n=this.addSourceWiseLayers(e,n,a),e.addSrcWiseWMSLayers(n)},t.prototype.addSourceWiseLayers=function(t,e,a){var r={};for(var o in e)r[o]=e[o],e[o].layerOptions.layer_name==i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.DISTRICT][i.m.SOURCES.ALL]?e[o].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[o].layerOptions.layer_name==i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.MANDAL][i.m.SOURCES.ALL]||e[o].layerOptions.layer_name==i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.MANDAL][i.m.SOURCES.GRID]?e[o].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[o].layerOptions.layer_name==i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.BASIN][i.m.SOURCES.ALL]?e[o].layerOptions.cql_filter="uuid ='"+a.pUUID+"'":e[o].layerOptions.layer_name!=i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.SUBBASIN][i.m.SOURCES.ALL]&&e[o].layerOptions.layer_name!=i.j[i.m.LOCATIONS.TAMILNADU][i.m.LOCATIONS.SUBBASIN][i.m.SOURCES.GRID]&&e[o].layerOptions.layer_name!=i.j[i.m.LOCATIONS.GODAVARI][i.m.LOCATIONS.SUBBASIN][i.m.SOURCES.ALL]&&e[o].layerOptions.layer_name!=i.j[i.m.LOCATIONS.GODAVARI][i.m.LOCATIONS.SUBBASIN][i.m.SOURCES.GRID]||(e[o].layerOptions.cql_filter="uuid ='"+a.pUUID+"'"),Object(n.isNullOrUndefined)(t.activeLayers[o])&&(t.activeLayers[o]=e[o].layerOptions.visible);return r},t.prototype.getColor=function(t,e){var a="#FFFFFF";return e==i.m.LOCATIONS.DISTRICT?t>750?a="#F16E47":t>600?a="#FE8F6E":t>450?a="#FBC5B5":t>300?a="#6EC3F8":t>150?a="#83CFFE":t<=150&&(a="#D0EAFB"):e==i.m.LOCATIONS.MANDAL?t>300?a="#CB8F7C":t>160?a="#FBC5B5":t>120?a="#0B85D2":t>80?a="#3DA8EB":t>40?a="#6EC3F8":t>20?a="#83CFFE":t<=20&&(a="#D0EAFB"):e==i.m.LOCATIONS.BASIN?t>100?a="#F16E47":t>50?a="#FE8F6E":t>30?a="#FBC5B5":t>20?a="#6EC3F8":t>10?a="#83CFFE":t<=10&&(a="#D0EAFB"):e==i.m.LOCATIONS.SUBBASIN&&(t>40?a="#CB8F7C":t>20?a="#F16E47":t>10?a="#FE8F6E":t>6?a="#FBC5B5":t>3?a="#0B85D2":t>1?a="#83CFFE":t<=1&&(a="#D0EAFB")),a},t.ngInjectableDef=u.cb({factory:function(){return new t(u.gb(s.a),u.gb(r.a))},token:t,providedIn:"root"}),t}()},aCLD:function(t,e,a){"use strict";var n;a.d(e,"a",function(){return r});var r={MITANKS_FILL_TYPE_MAP:{1:"Actual Estimation",2:"Previous Estimation(Cloud Presence)",3:"Previous Estimation (Data Absence)",4:"Not Estimated (Prolonged Cloud)"},COMPONENT:{RAINFALL:"rainfall",RAINFALLACTUAL:"rainfall-actual",RESERVOIR:"reservoir",RIVER_GAUGE:"rivergauge",RIVERPOINT:"River Authority",GROUNDWATER:"groundwater",EVAPOTRANSPIRATION:"et",SOILMOISTURE:"soilmoisture",CROPDEMAND:"cropdemand",DOMESTICDEMAND:"domesticdemand",NDVI:"ndvi",INDUSTRIALDEMAND:"industrialdemand",GWATERQUALITY:"groundwater_wq",SWATERQUALITY:"surfacewater_wq",WATERAUDIT:"wateraudit",CONTENT_MANAGEMENT:"contentmanagement",MOBILE_APP_REGISTRATION:"mobileappregistration",MI_TANKS:"mitank",MI_PONDS:"miponds",SURFACEWATER:"surfacewater",WCSTRUCTURE:"wcstructure",SURFACEWATERQUALITY:"SURFACEWATER_WQ",TEMPERATURE:"temperature",RIVER_POINT:"riverpoint",HUMIDITY:"humidity",WINDSPEED:"wind",LISCHEMES:"lischemes",WC_STRUCTURES:"WC_STRUCTURE"},SOURCE_WISE:(n={},n.IMD={PrimarySourceType:"IMD_SHORT_RANGE",SecondarySourceType:"IMD_LONG_RANGE"},n.ECMWF={PrimarySourceType:"ECMWF",SecondarySourceType:"ECMWF"},n)}},b67C:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var n=a("q4vc"),r=a("RVfK"),i=a("aCLD"),o=a("MCLT"),s=a("CcnG"),l=function(){function t(t){this.utils=t}return t.prototype.getseasonlist=function(t){switch(t){case"GROUNDWATER":case"DOMESTICDEMAND":case"CROPDEMAND":return[{key:"season1",value:"Jan- Mar",show:!1,months:"01-03"},{key:"season2",value:"Apr - Jun",show:!1,months:"04-06"},{key:"season3",value:"Jul - Sep",show:!1,months:"07-09"},{key:"season4",value:"Oct - Dec",show:!1,months:"10-12"}];case i.a.COMPONENT.SWATERQUALITY:return[{key:"season1",value:"Jun-Sep",show:!1,months:"06-09"},{key:"season2",value:"Oct-Jan",show:!1,months:"10-01"},{key:"season3",value:"Feb-May",show:!1,months:"02-05"}]}},t.prototype.getDecimalNumber=function(t,e){if(void 0===e&&(e=1),!isNaN(t))return t==parseInt(t)?t:t=Number(t).toFixed(e)},t.prototype.getDecimalFixed=function(t){if(!isNaN(t))return t==parseInt(t)?t>1e3&&t<=9999||t<-1e3&&t>=-9999?t.toString()[0]+","+t.toString().slice(1):t=t.toLocaleString("en-IN"):t>1e3&&t<=9999||t<-1e3&&t>=-9999?t?t.toString()[0]+","+t.toFixed(1).toString().slice(1):"-":t=Number(t.toFixed(1)).toLocaleString("en-IN")},t.prototype.pascalCase=function(t){if(!t)return"";for(var e=t.split(" "),a="",n=0;n<e.length;n++)a+=0==n?this.capitalize(e[n]):" "+this.capitalize(e[n]);return a},t.prototype.capitalize=function(t){return t?(t=t.toLowerCase()).replace(/^\w/,function(t){return t.toUpperCase()}):""},t.prototype.getTodayAsModelDate=function(){var t=new Date;return this.utils.getModelDateFromDate(t)},t.prototype.updateSourceList=function(t){for(var e=this.getTodayAsModelDate(),a=0,n=t;a<n.length;a++){var r=n[a].minmax;if(!r||null!=r.MIN&&null!=r.MIN&&null!=r.MAX&&null!=r.MAX&&0==r.MIN&&0==r.MAX){var i=new Date,o=i.getMonth(),s=i.getFullYear();o<5&&(s-=1),r.MIN=s+"0601",r.MAX=e}else if(null!=r.MIN&&null!=r.MIN&&null!=r.MAX&&null!=r.MAX)if(0==r.MIN&&0!=r.MAX){var l=this.utils.getDateObjectFromModelDate(r.MAX.toString());o=l.getMonth(),s=l.getFullYear(),o<5&&(s-=1),r.MIN=s+"0601"}else 0!=r.MIN&&0==r.MAX&&(r.MAX=e)}return t},t.prototype.checkDateRange=function(t,e,a,n){return null!=t&&t<a?t=a:null!=t&&t>n&&(t=a),null!=e&&e<a?e=n:null!=e&&e>n&&(e=n),{eDate:e,sDate:t}},t.prototype.setWaterYear=function(t,e){var a,n,i;if(e&&t){var o=new Date(t.getFullYear(),5,1);o<e&&(o=e),o<=t?(i=o,n=t):(n=t,i=(o=new Date(n.getFullYear()-1,5,1))<e?e:o),a=this.getNoOfMonths(i,n)<=4?r.b.DATEPICKER_DATE_FORMAT.DAY:r.b.DATEPICKER_DATE_FORMAT.MONTH}return{format:a,defaultSDate:i,defaultEDate:n}},t.prototype.getNoOfMonths=function(t,e){var a=12*(e.getFullYear()-t.getFullYear());return a-=t.getMonth(),(a+=e.getMonth()+1)<=0?0:a},t.prototype.getTitleForComponent=function(t,e){var a=null;if("RAINFALL"==t)a=this.gettimestepbyformat(e.format)+" "+this.getaggregationtypedisplay(e.aggr)+" Rainfall Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data";else if("MITANK"==t)a=this.gettimestepbyformat(e.format)+"  MI Tanks Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data";else if("GROUNDWATER"==t){var n=e.format;n==r.b.DATEPICKER_DATE_FORMAT.SEASON&&(n=r.b.DATEPICKER_DATE_FORMAT.YEAR),a=this.gettimestepbyformat(e.format)+" "+this.getaggregationtypedisplay(e.aggr)+" Ground water Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,n,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data"}else"RESERVOIR"==t?a=this.gettimestepbyformat(e.format)+" "+this.getaggregationtypedisplay(e.aggr)+" Reservoir Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data":"RIVER_GAUGE"==t?a=this.gettimestepbyformat(e.format)+" "+this.getaggregationtypedisplay(e.aggr)+" Rivergauge Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data":"SOILMOISTURE"==t?a=this.gettimestepbyformat(e.format)+"  Soil Moisture Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data":"SURFACEWATER_WQ"==t?a=this.gettimestepbyformat(e.format)+"  Surface Water Quality Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data":"WATERAUDIT"==t?a=this.gettimestepbyformat(e.format)+"  Water Audit Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b>":"CROP_DEMAND"==t?a=e.format!=r.b.DATEPICKER_DATE_FORMAT.SEASON?this.gettimestepbyformat(e.format)+" Crop Demand Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+NaN+e.srcName+"</b> Data":"Crop Demand Information for year "+e.year:"ET"==t?a=e.format!=r.b.DATEPICKER_DATE_FORMAT.SEASON?this.gettimestepbyformat(e.format)+" ET Information From <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getStartAndEndDatesForTypeVD(e.sDate,e.eDate,e.format,e.minDate).startDate,"dd-mmm-yyyy")+"</b> To <b>"+this.utils.getDateInFormatFromModelDate(this.utils.getLastDayForGivenModelDateVD(e.eDate,e.maxDate),"dd-mmm-yyyy")+"</b> Using <b>"+e.srcName+"</b> Data":"ET Information for year "+e.year:"POPULATION"==t?a="Domestic Demand Information For Water Year "+e.year:"DOMESTIC"==t?a="Domestic Demand Information For Water Year "+e.year:"INDUSTRY"==t&&(a="Industrial Demand Information for year "+e.sDate);return a},t.prototype.gettimestepbyformat=function(t){return r.b.DATEPICKER_DATE_FORMAT.YEAR===t?"Yearly":r.b.DATEPICKER_DATE_FORMAT.MONTH==t?"Monthly":r.b.DATEPICKER_DATE_FORMAT.DAY==t?"Daily":r.b.DATEPICKER_DATE_FORMAT.SEASON==t?"Seasonal":r.b.DATEPICKER_DATE_FORMAT.REALTIME==t?"Realtime":void 0},t.prototype.getaggregationtypedisplay=function(t){return"SUM"===t?"Cumulative":"AVG"===t?"Average":"MIN"===t?"Minimum":"MAX"===t?"Maximum":"LATEST"===t?"Latest":void 0},t.prototype.calculateWaterYear=function(t,e){var a,n,r=new Date;if(t&&e){var i=new Date(t).getMonth(),o=new Date(e).getMonth();a=i<5?new Date(t.getFullYear()-1,5,1):t,n=o<5?r.getFullYear==e.getFullYear?new Date(e.getFullYear(),5,1):new Date(e.getFullYear()-1,5,1):e}return{minimumDate:a,maximumDate:n}},t.prototype.getAbsoluteDecimal=function(t){if(!isNaN(t)&&!Object(o.isNullOrUndefined)(t)){var e={key:null,val:null},a=t.toString().split(".")[0].length;return 3!=a&&2!=a||(e.key=1*t,e.val="MCFT"),a>3&&(e.key=.001*t,e.val="MCFT"),a<2&&(e.key=t,e.val="MCFT"),e.key=parseFloat(e.key).toFixed(2),e}},t.prototype.getLastDayForGivenModelDate=function(t,e){if(void 0===e&&(e=null),!t)return t;if(4==(t=String(t)).length)t+=this.getmonthyearforyearType(t);else if(6==t.length){var a=new Date,n=Number.parseInt(t.substr(0,4)),r=Number.parseInt(t.substr(4,2)),i=new Date(n,r,0);n==a.getFullYear()&&r==a.getMonth()+1?t+=a.getDate()<10?"0"+a.getDate():""+a.getDate():t+=i.getDate()<10?"0"+i.getDate():i.getDate()}return e&&t>e&&(t=e),new Date,t},t.prototype.getmonthyearforyearType=function(t){var e=new Date;return t==e.getFullYear()?(e.getMonth()+1<10?"0"+(e.getMonth()+1):""+(e.getMonth()+1))+(e.getDate()<10?"0"+e.getDate():""+e.getDate()):"1231"},t.prototype.getStartAndEndDatesForType=function(t,e,a,n){if(null==t&&null==t)return" ";var i={startDate:t,endDate:e};a==r.b.DATEPICKER_DATE_FORMAT.YEAR?(i.startDate=i.startDate+"0101",i.endDate=i.endDate+this.getmonthyearforyearType(i.endDate)):a==r.b.DATEPICKER_DATE_FORMAT.MONTH&&(i.startDate=i.startDate+"01",i.endDate=this.getLastDayForGivenModelDate(i.endDate));var o=i.startDate.slice(0,4),s=i.startDate.slice(4,6),l=i.startDate.slice(6,8);return i.startDate=o+s+l,o=i.endDate.slice(0,4),s=i.endDate.slice(4,6),l=i.endDate.slice(6,8),i.endDate=o+s+l,i.startDate<n&&(i.startDate=n),i},t.prototype.getTwoDecimalFixed=function(t){return isNaN(t)?t:parseFloat(t).toFixed(2)},t.prototype.getOneDecimalFixed=function(t){return isNaN(t)?t:parseFloat(t).toFixed(1)},t.prototype.getFourDecimalFixed=function(t){return isNaN(t)?t:parseFloat(t).toFixed(4)},t.prototype.getDecimalFixedWithRespectToDigit=function(t){if(!isNaN(t))return 1==t.toString().split(".")[0].length?this.getTwoDecimalFixed(t):this.getOneDecimalFixed(t)},t.ngInjectableDef=s.cb({factory:function(){return new t(s.gb(n.a))},token:t,providedIn:"root"}),t}()},dXjv:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("ga4K"),r=a("rbbI"),i=a("Ex5H"),o=a("b67C"),s=a("q4vc"),l=a("7Amg"),u=a("CcnG"),p=a("t/Na"),c=function(){function t(t,e,a){this.http=t,this.utils=e,this.utilsSrv=a,this.url=n.a.urlMapping.PROJ_API}return t.prototype.post=function(t,e){return this.http.post(this.url+t,e)},t.prototype.postnew=function(t,e){return this.http.post(this.url+t,e)},t.prototype.get=function(t,e){return this.http.get(this.url+t+e)},t.prototype.postnew1=function(t,e){return this.http.post(this.url+t,e)},t.prototype.getStackChartData=function(t){return this.http.post(this.url+"demand/entity",t)},t.prototype.getDonutChartData=function(t){return this.http.post(this.url+"indwd/entities",t)},t.prototype.getDmmyDataForTable=function(){return[{locUUID:"92b20082-f44d-456d-bbd4-5a22520d089a",locName:"Kumurambheem Asifabad",parentName:null,waterDemand:0,iType:null,area:null,category:null,count:0,domIndustry:null,domwaterDemand:null},{locUUID:"316849f3-137e-4a36-9d5e-487c9f3fdc84",locName:"Nizamabad",parentName:null,waterDemand:838,iType:null,area:null,category:null,count:2,domIndustry:"Wood/wooden based furniture",domwaterDemand:519}]},t.prototype.getDmmyDataForKpi=function(){return[{Micro:2019,DEMAND:2538,Medium:519}]},t.prototype.getDummyDataForChart=function(){return[{strlables:["Others","Paper & Paper products","Rubber  Plastic & petro based","Chemical/Chemical based","Wood/wooden based furniture"],data:[{data:[["Others",319],["Paper & Paper products",789],["Rubber  Plastic & petro based",2019],["Chemical/Chemical based",519],["Wood/wooden based furniture",519]]}]}]},t.prototype.preProcessDonutChartData=function(t,e){var a,n=t.data[0].data,r=[];a=Object.values({Others:"#505D6F","Paper & Paper products":"#FF6C40","Rubber  Plastic & petro based":"#FFE700","Chemical/Chemical based":"#00B103","Wood/wooden based furniture":"#FF8F6D"});for(var i=0;i<n.length;i++){var o={name:null,y:null};o.name=n[i][0],o.y=n[i][1],r.push(o)}return e.colors=a,e.series.push({type:"pie",data:r}),e},t.prototype.setStackChartConfig=function(t,e,a){var n,r=this.getKeyToNameMap(),o=this.getColorsForChart(),s=[];n=a==i.m.LOCATION_CONSTANT.DISTRICT?i.m.DISTRICT_ORDER_ACTUAL_NAME:t.labels.sort();for(var l=0;l<n.length;l++){var u=t.labels.indexOf(n[l]);u>=0&&(e.stackbarChart.xAxis.categories.push(t.labels[u]),s.push(u))}e.stackbarChart.yAxis[0].title.text="Demand (MCM)",e.stackbarChart.yAxis[1].title.text="Population",e.stackbarChart.tooltip.headerFormat="<b>{point.x}</b><br/>",e.stackbarChart.tooltip.pointFormat='<span style="color:#000">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>';var p=["RURAL DEMAND","URBAN DEMAND"],c=["RURAL POPULATION","URBAN POPULATION"];for(l=0;l<p.length;l++){for(var d={name:r[p[l]],data:[],color:o[p[l]],stack:"male"},h=0;h<s.length;h++)d.data.push(Number(t[p[l]][s[h]].toFixed(1)));e.stackbarChart.series.push(d)}for(l=0;l<c.length;l++){for(d={name:r[c[l]],data:[],color:o[c[l]],yAxis:1,stack:"female",visible:!1},h=0;h<s.length;h++)d.data.push(t[c[l]][s[h]]);e.stackbarChart.series.push(d)}return e.stackbarChart},t.prototype.getColumnValue=function(t,e,a){void 0===a&&(a=[]);for(var n=null,r=!0,i=e,o=0,s=a;o<s.length;o++){var l=s[o];if(null==i[l]||null==i[l]){r=!1;break}i=i[l]}return r&&null!=i[t]&&null!=i[t]&&(n=i[t]),n},t.prototype.setColumnValue=function(t,e,a,n){void 0===n&&(n=[]);for(var r=a,i=0;i<n.length;i++)null==r[n[i]]&&(r[n[i]]={}),r=r[n[i]];return r[e.toLowerCase()]="number"==typeof t?this.utils.getDecimalNumber(t,1):t,a},t.prototype.preProcessKPIData=function(t,e){var a={demand:"DEMAND",micro:"Micro and Small",medium:"Medium",large:"Large"};for(var n in e)e[n]=t[a[n]];return e},t.prototype.preProcessLastLevelKPIData=function(t,e){var a={},n=t[3];for(var r in e){var i;null!=(i=a[r]?this.getColumnValue(r,n,a[r]):this.getColumnValue(r,n))&&(e[r]=this.utils.getDecimalFixed(i))}return e},t.prototype.preprocessTableData=function(t){for(var e=["locName","locUUID","waterDemand","count","domIndustry","domwaterDemand"],a={},n=[],r={},i=0,o=t;i<o.length;i++){var s=o[i];r={};for(var l=0,u=e;l<u.length;l++){var p=u[l],c=void 0;null==(c=a[p]&&a[p].hierarchy?this.getColumnValue(p,s,a[p].hierarchy):this.getColumnValue(p,s))&&(c="-"),r=a[p]&&a[p].headers?this.setColumnValue(c,p,r,a[p].headers):this.setColumnValue(c,p,r)}this.utilsSrv.isEmptyObj(r)||n.push(r)}return n},t.prototype.preprocessTableDataForIndustry=function(t){for(var e=["locName","locUUID","iType","category","waterDemand"],a={},n=[],r=0,i=t;r<i.length;r++){for(var o=i[r],s={},l=0,u=e;l<u.length;l++){var p=u[l],c=void 0;null==(c=a[p]&&a[p].hierarchy?this.getColumnValue(p,o,a[p].hierarchy):this.getColumnValue(p,o))&&(c="-"),s=a[p]&&a[p].headers?this.setColumnValue(c,p,s,a[p].headers):this.setColumnValue(c,p,s)}this.utilsSrv.isEmptyObj(s)||n.push(s)}return n},t.prototype.preProcessLastLeveltableData=function(t){for(var e=["locName","locUUID","waterDemand","count","domIndustry","domwaterDemand"],a={},n=[],r={},i=0,o=t;i<o.length;i++){var s=o[i];r={};for(var l=0,u=e;l<u.length;l++){var p=u[l],c=void 0;null==(c=a[p]&&a[p].hierarchy?this.getColumnValue(p,s,a[p].hierarchy):this.getColumnValue(p,s))&&(c="-"),r=a[p]&&a[p].headers?this.setColumnValue(c,p,r,a[p].headers):this.setColumnValue(c,p,r)}this.utilsSrv.isEmptyObj(r)||n.push(r)}return n},t.prototype.getViewList=function(t){return t!=r.d.GODAVARI.NAME?[r.b.VIEWS.ADMIN,r.b.VIEWS.BASIN]:[r.b.VIEWS.BASIN]},t.prototype.getLocationList=function(){return[r.d.TAMILNADU]},t.prototype.getHeatMapList=function(){return[{key:"ACTUAL",value:"Actual"},{key:"DEVIATION",value:"Deviation"}]},t.prototype.getColumnConfig=function(){return{show:["name","wd","ca"],properties:{name:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"",stopAt:"",append:"locuuid",class:"font-weight-bold",copyToRows:!0},wd:{hideable:!0,type:"NUMBER",displayAs:"Crop Demand (MCM)",class:"font-weight-bold",copyToRows:!1},ca:{hideable:!0,type:"NUMBER",displayAs:"Cropped Area (Ha)",class:"font-weight-bold",copyToRows:!1}}}},t.prototype.getColumnsDisplayNames=function(){return{ruralwaterdemand:"ruralwaterdemand",urbanwaterdemand:"urbanwaterdemand",totalwaterdemand:"totalwaterdemand",totallpwaterdemand:"totallpwaterdemand",domesticwaterdemand:"domesticwaterdemand"}},t.prototype.getColNamesFromDisplayNames=function(){return{ruralwaterdemand:"ruralwaterdemand",urbanwaterdemand:"urbanwaterdemand",totalwaterdemand:"totalwaterdemand",totallpwaterdemand:"totallpwaterdemand",domesticwaterdemand:"domesticwaterdemand"}},t.prototype.getColumnConfigForIndus=function(){return{show:["locname","itype","category","waterdemand"],properties:{locname:{hideable:!1,type:"LOCATION_DISABLED",displayAs:"Company ",stopAt:"",append:"locuuid",class:"font-weight-bold",copyToRows:!0},itype:{hideable:!0,displayAs:"Type of Industry",class:"font-weight-bold",type:"LOCATION_DISABLED",copyToRows:!1},category:{hideable:!0,displayAs:"Category of Industry",class:"font-weight-bold",type:"LOCATION_DISABLED",copyToRows:!1},waterdemand:{hideable:!0,type:"NUMBER",displayAs:"Water Requirement (TCM)",class:"font-weight-bold",copyToRows:!1}}}},t.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"name",colspan:2},downloadOptions:[{downloadType:"xls",downloadFileName:"Crop Demand-table",downloadAll:!0,metaData:!1}],paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:1}}},t.prototype.getStackbarChartConfig=function(){return{component:"domesticStackbar",exporting:{enabled:!1},credits:{enabled:!1},chart:{type:"column"},colors:[],title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}}},{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},opposite:!0}],legend:{},tooltip:{headerFormat:"",pointFormat:"",shared:!0,opacity:1,backgroundColor:"#FFF"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]}},t.prototype.getDonutChartConfig=function(){return{component:"industrialDemandDonut",chart:{type:"pie",backgroundColor:"#ffffff",plotBorderWidth:null,plotShadow:!1,height:"380px",options3d:{enabled:!0,alpha:45}},plotOptions:{pie:{shadow:!1,innerSize:100,depth:45,center:["50%","50%"],size:"100%",colorByPoint:!0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},exporting:{enabled:!1},credits:{enabled:!1},title:{text:"",style:{fontSize:"1.2em"}},xAxis:{categories:[]},yAxis:[{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}}},{title:{text:""},stackLabels:{enabled:!1,style:{fontWeight:"bold"}},opposite:!0}],tooltip:{backgroundColor:"#fff",valueDecimals:1,pointFormat:"<b>{point.percentage:.1f}%</b><br><b>{point.y:.1f} (MCM)</b>"},colors:[],series:[]}},t.prototype.getUrlParamsForTable=function(t,e){return{pEUUID:l.c.STATETOUUIDMAPPING.TAMILNADU,pUUID:t.locUUID,pType:t.pType,cType:t.cType,totalRow:!1,format:"seasonally",sDate:t.seasonYear,eDate:t.seasonYear,season:e,src:"STATE_AND_CENTRAL_STATION"}},t.prototype.preprocessTableDataForSummary=function(t,e){var a=this;void 0===e&&(e=!1);var n,r={Autumn:"Virippu",Winter:"Mundakan",Summer:"Puncha",Annual:"Annual"},i=[];return t&&t.forEach(function(t){var o={};t.name&&(o.name=t.name),t.uuid&&(o.locuuid=t.uuid),t.child&&t.child.forEach(function(t){var e={};for(var i in t)"p"==i&&(n=r[t.p]),"ca"==i&&(e[i]=a.getFormattedDecimalFix(t[i])),"wd"==i&&(e[i]=a.getFormattedDecimalFix(0==t[i]?.001:t[i]));o[n]=e}),o&&Object.keys(o).length>0&&(e?"total"!=o.name.toLowerCase()&&i.push(o):i.push(o))}),i},t.prototype.getStackedbarChartData=function(t){return this.http.post(this.url+"cwd/chart/timeseries",t)},t.prototype.getFormattedDecimalFixed=function(t){if(!isNaN(t))return t===parseInt(t)?t.toLocaleString("en-IN"):t=t?Number(t.toFixed(1)).toLocaleString("en-IN"):"-"},t.prototype.getSampleChartData=function(){return{"Water Demand":{current:[10991.703286972188,486.4462409837601,7181.371786826467]},"Crop Area":{current:[2323683.198381347,531304.1756019116,542860.8989845163]},labels:["Autumn","Winter","Summer"]}},t.prototype.preProcessStackbarChart=function(t,e,a){void 0===a&&(a=!1);var n={"water demand":{colors:{lastYear:"#FFE700",last10Year:"#FF8F6D",current:"#2D99FF"},yAxis:0,valueSuffix:" (MCM)",type:"column"},"crop area":{colors:{lastYear:"#00B103",last10Year:"#2CD9C5",current:"#FF6C40"},yAxis:1,valueSuffix:" (Ha)",type:"column"}},r={current:"Current Year",lastYear:"Last Year",last10Year:"Last 10 Years",anuual:"Anuual",winter:"Mundakan",autumn:"Virippu",summer:"Puncha"};e.xAxis[0]={};var i=[],o=[];if(a){i=t.labels.slice(),t.labels.sort();for(var s=function(e){var a=i.findIndex(function(a){return a==t.labels[e]});-1!=a&&(o.push(a),t.labels[e]=l.getDateInFormatFromModelDate(t.labels[e],"mmm yyyy"))},l=this,u=0;u<t.labels.length;u++)s(u)}else for(u=0;u<t.labels.length;u++)t.labels[u]=r[t.labels[u].toLowerCase()]||t.labels[u];e.xAxis[0].categories=t.labels,delete t.labels,e.yAxis[0]={},e.yAxis[0].title={},e.yAxis[0].title.text="Demand (MCM)",e.yAxis[1]={},e.yAxis[1].title={},e.yAxis[1].title.text="Area (Ha)",e.yAxis[1].opposite=!0;var p=[],c=[];for(var d in t)if(n[d.toLowerCase()])for(var h in t[d]){var m={name:null,data:[]},y={name:null,data:[],stack:null,color:null,tooltip:{valueSuffix:null},type:null,yAxis:null};if(y.name=r[h]+" ("+d+")",m.name=r[h]+" ("+d+")",a)for(var f=0,g=o;f<g.length;f++){var A=g[f];y.data.push(t[d][h][A]),m.data.push(this.getFormattedDecimalFixed(t[d][h][A]))}else for(y.data=t[d][h],u=0;u<t[d][h].length;u++)m.data.push(this.getFormattedDecimalFixed(t[d][h][u]));y.color=n[d.toLowerCase()].colors[h],y.stack=d,y.yAxis=n[d.toLowerCase()].yAxis,y.type=n[d.toLowerCase()].type,y.tooltip.valueSuffix=n[d.toLowerCase()].valueSuffix,p.push(y),c.push(m)}e.tooltip={formatter:function(){return this.key+"<br/>"+c[0].name+": "+c[0].data[this.point.index]+"(MCM)<br/>"+c[1].name+": "+c[1].data[this.point.index]+"(Ha)"}},e.series=p},t.prototype.getDateInFormatFromModelDate=function(t,e,a){if(!t)return t;if(a&&a<t){var n=parseInt(a.substr(0,4),10),r=parseInt(a.substr(4,2),10),i=parseInt(a.substr(6,2),10);try{return this.getDateInFormat(n,r,i,e)}catch(o){throw o}}else{n=parseInt(t.substr(0,4),10),r=parseInt(t.substr(4,2),10),i=parseInt(t.substr(6,2),10);try{return this.getDateInFormat(n,r,i,e)}catch(o){throw o}}},t.prototype.validDateFormat=function(t){return t&&t.toLowerCase().indexOf("season")<0},t.prototype.replaceStringAt=function(t,e,a){return t.substr(0,e)+a+t.substr(e+a.length)},t.prototype.getDateInFormat=function(t,e,a,n){if(!this.validDateFormat(n))throw"Invalid date format";var r={MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i=n,o={MMM:n.indexOf("MMM")>=0?r.MMM[e-1]:"",mmm:n.indexOf("mmm")>=0?r.MMM[e-1]:"",MM:n.indexOf("MM")>=0?e<10?"0"+e:e:"",mm:n.indexOf("mm")>=0?e<10?"0"+e:e:"",yyyy:n.indexOf("yyyy")>=0?t:"",YYYY:n.indexOf("YYYY")>=0?t:"",yy:n.indexOf("yy")>=0?t.toString().substr(2,2):"",YY:n.indexOf("YY")>=0?t.toString().substr(2,2):"",dd:n.indexOf("dd")>=0?a<10?"0"+a:a:"",DD:n.indexOf("DD")>=0?a<10?"0"+a:a:""};for(var s in o)if(i.indexOf(s)>=0){if(!o[s]){i=i.replace(s,"");continue}i=this.replaceStringAt(i,i.indexOf(s),o[s].toString())}return i.replace("--","-").replace(/^-/,"").replace(/-$/,"")},t.prototype.getStackChartConfig=function(){return{component:"cropDemandStack",exporting:{enabled:!0},credits:{enabled:!1},chart:{type:"column"},title:{text:"",style:{fontSize:"1.2em"}},xAxis:[],yAxis:[],legend:{},tooltip:{shared:!0,valueDecimals:1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]}},t.prototype.getPostDataForStackedbarCharts=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=null),{pEUUID:l.c.STATETOUUIDMAPPING.TAMILNADU,pUUID:t.locUUID,pType:t.pType,totalRow:!1,format:e,sDate:t.eYear||t.seasonYear,eDate:t.eYear||t.seasonYear,src:t.src}},t.prototype.getBasinSampleTableData=function(){return[{name:"Cauvery",uuid:"a7ee6882-6a9d-4530-b50f-9e36a2c4b885",wd:60.89110023130672},{name:"Chennai",uuid:"9e376091-6011-44d9-8596-c028cb1e17a1",wd:30.266137489313074},{name:"Paravanar",uuid:"110eb7a7-ff73-4618-96ea-20bd5a0c8f7b",ruralPopulation:826098,wd:20.266137489313074},{name:"TOTAL",uuid:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",wd:10.266137489313074},{name:"Pambar Kottakaraiyar",uuid:"bd69e707-444a-4b94-9dab-7e7045bbe6ec",wd:20.266137489313074},{name:"Vaippar",uuid:null,wd:4.266137489313074},{name:"Kodaiyar",uuid:"e17c3579-872e-4614-9c55-7ef0f316cfd6",wd:2.266137489313074},{name:"Pennaiyar",uuid:"1990e310-9e8f-4d72-a3fd-d63470f4dda7",wd:6.266137489313074},{name:"Nambiyar",uuid:"6dbee0f1-68c4-4e74-b5bc-de6ffdf0acad",wd:27.266137489313074},{name:"Gundar",uuid:"32074110-936a-4b54-a200-7e5f2fac361b",wd:20.266137489313074},{name:"Vellar",uuid:"4250236a-0c0b-4a2c-bf93-52633e72bb39",wd:20.266137489313074},{name:"PAP",uuid:"34a373c6-a084-49bd-920c-6dd5bf5229a6",wd:20.266137489313074},{name:"Agniyar",uuid:"0524c0a9-4015-4157-a711-f6fed28416c2",wd:10.266137489313074},{name:"Kallar",uuid:"7ce7c37f-6ad0-4b61-9460-0904f7d3c914",wd:20.266137489313074},{name:"Palar",uuid:"e714ad99-d56f-4861-98b2-b8e1794b535e",wd:9.266137489313074},{name:"Tamiraparani",uuid:"7d3c2f8a-1d79-4323-af9e-d7f9fae59cd3",wd:20.266137489313074},{name:"Varahanadhi",uuid:"fe17f77e-6fae-4208-a3c3-37d201e48a70",wd:20.266137489313074},{name:"Vaigai",uuid:"60786449-3ee8-4656-8264-ccb143f2d857",wd:3.266137489313074}]},t.prototype.getSampleTableData=function(){return[{uuid:"2851fa1e-0a7a-4257-bd4b-56f7f44d63bf",name:"Tirunelveli",cn:null,wd:100.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"b0ffa1ac-592f-47ff-8fed-c2a419579087",name:"Pudukkottai",cn:null,wd:350.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:700.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:500.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"2e628024-3969-42fc-bdbc-dc426c63176e",name:"sample 1",cn:null,wd:450.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"768c1563-730a-4060-8e8e-70d763d2d5b0",name:"Virudhunagar",cn:null,wd:689.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:100.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:378.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"04b66e00-51df-4569-8a20-73e5fec18480",name:"Karur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:200.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:600.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"7418cfa2-6c97-4984-b1ef-8ae1a3b4010b",name:"TheNilgiris",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:200.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:600.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"d5ad64ab-1c2e-49d4-a7c5-8c568126e3fd",name:"sample 2",cn:null,wd:600.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:200.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:600.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"2d3f1d98-be3f-4af4-a8c2-42be3f93892e",name:"Ramanathapuram",cn:null,wd:200.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"0a062167-2fdd-45f5-a3f7-de6223e6532b",name:"Krishnagiri",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"95c58d7f-5c9a-4448-9d6b-1a55356b3a1b",name:"Tirupattur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"099b90e7-dca7-42d9-9c53-1b7b9fe9075c",name:"Nagapattinam",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"fd7a00fc-a284-4478-868e-f942c7aadacd",name:"Ranipet",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"92e1051a-c7cb-4ebc-8722-97e3e8f0ecb2",name:"Kancheepuram",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"39174651-7420-4fd0-8f1b-af3a1d7177d5",name:"Perambalur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"70f2da31-929b-4977-8610-da37d3a3be73",name:"Chengalpattu",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"8c289400-6586-426b-9f03-ab7b15563d24",name:"Namakkal",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"324cd1ba-361f-4134-bafc-b0dc32b13306",name:"Thiruvannamalai",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"db4bf4f5-58fd-483b-b441-e2dd9525b2b4",name:"Kanniyakumari",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"c72ed640-bd58-400d-a30e-6bddc3b05d35",name:"Thanjavur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:600.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"5aa828d2-2c34-4b64-8b4a-a517e0c545a2",name:"Mayiladuthurai",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"b9295424-8d20-4310-8b66-a0057e25d40d",name:"Madurai",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"8e5c976d-ba67-4e5c-8c58-79c67ebc6d60",name:"Kallakurichi",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"33074a09-7325-46bf-80c6-6d0df13f1d50",name:"Dharmapuri",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"c0b90526-4902-457e-bad5-275b4d69a41f",name:"Tiruppur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"244aaccb-c2e9-4191-8129-802b7152f1bf",name:"Salem",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"bbee7054-c0e2-4cd2-9027-d620b0acca95",name:"Dindigul",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"babce2e4-aad9-4f2f-966f-8022400b89bc",name:"Tenkasi",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"82bc2daa-a390-437c-b638-f2f06b29a92d",name:"Tiruvarur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"281b90ca-c47c-40f8-8adc-a80c5a4d4a8d",name:"Sivagangai",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"e4ee317d-bf23-465a-8d1f-a1b6640d82db",name:"Cuddalore",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"e317d594-dd8e-408f-96ea-c84c96b980a8",name:"Tiruchirapalli",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"22b3f04d-0cf4-4d0d-9b4d-44525687a00a",name:"Erode",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"1ca98909-82ca-4f31-87c3-6d04e0d5c53b",name:"Coimbatore",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"06df62fc-f8dc-4961-b3a8-6f32f539910a",name:"Ariyalur",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"479dc66b-c62f-4102-935b-d799901e61c3",name:"Villupuram",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"8801b0c2-0a9b-4189-875a-de0be55f3c52",name:"Chennai",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"161b1ce6-66a4-46c2-a4f7-e262f5a3b06f",name:"Vellore",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"012e915f-eab3-4235-be36-d6bb2374c9e8",name:"Theni",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]},{uuid:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",name:"TOTAL",cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:null,child:[{name:null,uuid:null,cn:null,wd:1078.8480004619985,ca:207846.76837482734,p:"Autumn",child:null},{name:null,uuid:null,cn:null,wd:42.75709236877569,ca:40822.60673987137,p:"Winter",child:null},{name:null,uuid:null,cn:null,wd:714.6148524392974,ca:43546.43174984721,p:"Summer",child:null},{name:"total",uuid:null,cn:null,wd:1836.2199452700715,ca:292215.8068645459,p:"Annual",child:null}]}]},t.prototype.getFormattedDecimalFix=function(t){if(!isNaN(t))return t===parseInt(t)&&t>999?t.toLocaleString("en-IN"):(parseInt(t),t=(t=(Math.round(10*t)/10).toFixed(1))?Number(t).toLocaleString("en-IN"):"-",Math.floor(t)==t&&(t+=".0"),t)},t.prototype.checkIsLastLevel=function(t){var e=!1;return t&&t.pType&&t.cType&&t.pType==t.cType&&(e=!0),e},t.prototype.getKeyToNameMap=function(){return{"URBAN POPULATION":"Urban Population","RURAL POPULATION":"Rural Population","URBAN DEMAND":"Urban Water Demand","RURAL DEMAND":"Rural Water Demand"}},t.prototype.getColorsForChart=function(){return{"URBAN POPULATION":"#7692B8","RURAL POPULATION":"#FFE700","URBAN DEMAND":"#72DD07","RURAL DEMAND":"#2D99FF"}},t.prototype.getPostDataForTable=function(t){var e={eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:"YEARLY",cType:t.cType,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"};return"MANDAL"==t.pType&&(e.cType="INDUSTRY"),e},t.prototype.getPostDataForMap=function(t){var e={eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pEUUID,pType:i.m.LOCATIONS.STATE,format:t.timeStep,cType:i.m.LOCATIONS.DISTRICT,pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"};return t.dashboardView==i.m.LOCATIONS.GODAVARI&&(e.pType=i.m.LOCATIONS.BASIN),t.view==i.m.VIEWS.BASIN&&(e.cType=i.m.LOCATIONS.BASIN),e},t.prototype.getPostDataForDonutCharts=function(t){return{pEUUID:t.pEUUID,pUUID:t.pUUID,pType:t.pType,cType:"INDUSTRY",format:"YEARLY",eDate:t.eDate.toString(),sDate:t.sDate.toString(),src:t.src}},t.prototype.getChartParams=function(t){return{pUUID:"1270f554-20cc-43ee-803e-1532f00e047c",lType:"DISTRICT",cType:"MANDAL",format:"yyyy",src:"KWA",sDate:"2020",eDate:"2020",pEUUID:"b3a3109c-1d8d-11ea-9f34-04ea56f9ded6"}},t.prototype.getPostDataForBreadCrumb=function(t){var e={locName:t.locName,locUUID:t.pUUID,locType:t.pType,component:"rainfall",view:t.view,pEUUID:t.pEUUID};return t.location.NAME==r.b.LOCATION_LEVEL.TELANGANA&&t.view==r.b.VIEWS.BASIN&&(e.pEUUID=i.h[t.location.NAME.toUpperCase()][t.view].UUID),e},t.prototype.getPostDataForKPI=function(t){return{eDate:t.eDate.toString(),sDate:t.sDate.toString(),pUUID:t.pUUID,pType:t.pType,format:"YEARLY",cType:"INDUSTRY",pEUUID:t.pEUUID,src:t.src,aggr:"LATEST"}},t.prototype.getPostDataForLocTypes=function(t){return{component:t.component,pEUUID:t.pEUUID,srcUUID:t.srcUUID,view:t.view+"_HIERARCHY"}},t.prototype.showSeasonTypeForAvailableData=function(t,e,a,n){if(t.getFullYear()<=a.value&&e.getFullYear()>=a.value)for(var r=0;r<n.length;r++){var i=n[r].months,o=parseInt(i.substring(0,3)),s=parseInt(i.substring(4)),l=t.getFullYear(),u=e.getFullYear();n[r].show=a.value==l?s>=t.getMonth()+1:a.value!=u||o<=e.getMonth()+1}else for(r=0;r<n.length;r++)n[r].show=!1;return n},t.ngInjectableDef=u.cb({factory:function(){return new t(u.gb(p.c),u.gb(o.a),u.gb(s.a))},token:t,providedIn:"root"}),t}()},ga4K:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n={urlMapping:{PROJ_API:"http://tnwrims-staging.vassarlabs.com/api/",PROJ_API_RF_RESERVOIR:"http://tnwrims-staging.vassarlabs.com/wrimsApi/api/"}}},iNfD:function(t,e,a){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function i(t,e,a){return a?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function o(t,e,a){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));a.realloc(n);for(var r=a.pos-1;r>=t;r--)a.buf[r+n]=a.buf[r]}function s(t,e){for(var a=0;a<t.length;a++)e.writeVarint(t[a])}function l(t,e){for(var a=0;a<t.length;a++)e.writeSVarint(t[a])}function u(t,e){for(var a=0;a<t.length;a++)e.writeFloat(t[a])}function p(t,e){for(var a=0;a<t.length;a++)e.writeDouble(t[a])}function c(t,e){for(var a=0;a<t.length;a++)e.writeBoolean(t[a])}function d(t,e){for(var a=0;a<t.length;a++)e.writeFixed32(t[a])}function h(t,e){for(var a=0;a<t.length;a++)e.writeSFixed32(t[a])}function m(t,e){for(var a=0;a<t.length;a++)e.writeFixed64(t[a])}function y(t,e){for(var a=0;a<t.length;a++)e.writeSFixed64(t[a])}function f(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function g(t,e,a){t[a]=e,t[a+1]=e>>>8,t[a+2]=e>>>16,t[a+3]=e>>>24}function A(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function v(t,e){this.x=t,this.y=e}function S(t,e,a,n,r){this.properties={},this.extent=a,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=r,t.readFields(T,this,e)}function T(t,e,a){1==t?e.id=a.readVarint():2==t?function(t,e){for(var a=t.readVarint()+t.pos;t.pos<a;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}(a,e):3==t?e.type=a.readVarint():4==t&&(e._geometry=a.pos)}function _(t){for(var e,a,n=0,r=0,i=t.length,o=i-1;r<i;o=r++)n+=((a=t[o]).x-(e=t[r]).x)*(e.y+a.y);return n}function b(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(I,this,e),this.length=this._features.length}function I(t,e,a){15===t?e.version=a.readVarint():1===t?e.name=a.readString():5===t?e.extent=a.readVarint():2===t?e._features.push(a.pos):3===t?e._keys.push(a.readString()):4===t&&e._values.push(function(t){for(var e=null,a=t.readVarint()+t.pos;t.pos<a;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(a))}function D(t,e,a){if(3===t){var n=new x(a,a.readVarint()+a.pos);n.length&&(e[n.name]=n)}}!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function o(t){return new Promise(function(e,a){t.onload=function(){e(t.result)},t.onerror=function(){a(t.error)}})}function s(t){var e=new FileReader,a=o(e);return e.readAsArrayBuffer(t),a}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&f(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,a=o(e);return e.readAsText(t),a}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),a=new Array(e.length),n=0;n<e.length;n++)a[n]=String.fromCharCode(e[n]);return a.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t,e){var a=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,a||null==t._bodyInit||(a=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=function(t){var e=t.toUpperCase();return A.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function c(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var a=t.split("="),n=a.shift().replace(/\+/g," "),r=a.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function d(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var a=t.split(":"),n=a.shift().trim();if(n){var r=a.join(":").trim();e.append(n,r)}}),e}function h(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=a(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=a(n)},r.prototype.forEach=function(t,e){var a=this;for(var n in this.map)a.map.hasOwnProperty(n)&&t.call(e,a.map[n],n,a)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,a){t.push(a)}),n(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,a){t.push([a,e])}),n(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},u.call(p.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];h.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=p,t.Response=h,t.fetch=function(t,e){return new Promise(function(a,n){var r=new p(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:d(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL"),a(new h("response"in i?i.response:i.responseText,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),r.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var O=n,N=function(t,e,a,n,r){var i,o,s=8*r-n-1,l=(1<<s)-1,u=l>>1,p=-7,c=a?r-1:0,d=a?-1:1,h=t[e+c];for(c+=d,i=h&(1<<-p)-1,h>>=-p,p+=s;p>0;i=256*i+t[e+c],c+=d,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=256*o+t[e+c],c+=d,p-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=u}return(h?-1:1)*o*Math.pow(2,i-n)},w=function(t,e,a,n,r,i){var o,s,l,u=8*i-r-1,p=(1<<u)-1,c=p>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,m=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(o++,l/=2),o+c>=p?(s=0,o=p):o+c>=1?(s=(e*l-1)*Math.pow(2,r),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[a+h]=255&s,h+=m,s/=256,r-=8);for(o=o<<r|s,u+=r;u>0;t[a+h]=255&o,h+=m,o/=256,u-=8);t[a+h-m]|=128*y};n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5,n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,a){var n=this;for(a=a||this.length;this.pos<a;){var r=n.readVarint(),i=r>>3,o=n.pos;n.type=7&r,t(i,e,n),n.pos===o&&n.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=f(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=A(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=f(this.buf,this.pos)+4294967296*f(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=f(this.buf,this.pos)+4294967296*A(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=N(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=N(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,a,n=this.buf;return e=127&(a=n[this.pos++]),a<128?e:(e|=(127&(a=n[this.pos++]))<<7,a<128?e:(e|=(127&(a=n[this.pos++]))<<14,a<128?e:(e|=(127&(a=n[this.pos++]))<<21,a<128?e:function(t,e,a){var n,r,o=a.buf;if(n=(112&(r=o[a.pos++]))>>4,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<3,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<10,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<17,r<128)return i(t,n,e);if(n|=(127&(r=o[a.pos++]))<<24,r<128)return i(t,n,e);if(n|=(1&(r=o[a.pos++]))<<31,r<128)return i(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(a=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,a){for(var n="",r=e;r<a;){var i,o,s,l=t[r],u=null,p=l>239?4:l>223?3:l>191?2:1;if(r+p>a)break;1===p?l<128&&(u=l):2===p?128==(192&(i=t[r+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===p?(o=t[r+2],128==(192&(i=t[r+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&i)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===p&&(o=t[r+2],s=t[r+3],128==(192&(i=t[r+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,p=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),r+=p}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var a=r(this);for(t=t||[];this.pos<a;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var a=new Uint8Array(e);a.set(this.buf),this.buf=a,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var a,n;if(t>=0?(a=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(a=~(-t%4294967296))?a=a+1|0:(a=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,a){a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,t>>>=7,a.buf[a.pos++]=127&t|128,a.buf[a.pos]=127&(t>>>=7)}(a,0,e),function(t,e){var a=(7&t)<<4;e.buf[e.pos++]|=a|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,a){for(var n,r,i=0;i<e.length;i++){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){n>56319||i+1===e.length?(t[a++]=239,t[a++]=191,t[a++]=189):r=n;continue}if(n<56320){t[a++]=239,t[a++]=191,t[a++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[a++]=239,t[a++]=191,t[a++]=189,r=null);n<128?t[a++]=n:(n<2048?t[a++]=n>>6|192:(n<65536?t[a++]=n>>12|224:(t[a++]=n>>18|240,t[a++]=n>>12&63|128),t[a++]=n>>6&63|128),t[a++]=63&n|128)}return a}(this.buf,t,this.pos);var a=this.pos-e;a>=128&&o(e,a,this),this.pos=e-1,this.writeVarint(a),this.pos+=a},writeFloat:function(t){this.realloc(4),w(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),w(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var a=0;a<e;a++)this.buf[this.pos++]=t[a]},writeRawMessage:function(t,e){this.pos++;var a=this.pos;t(e,this);var n=this.pos-a;n>=128&&o(a,n,this),this.pos=a-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,a){this.writeTag(t,n.Bytes),this.writeRawMessage(e,a)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,c,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,p,e)},writePackedFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedFixed64:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,y,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var C=v;v.prototype={clone:function(){return new v(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,a=t.y-this.y;return e*e+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),a=Math.sin(t),n=a*this.x+e*this.y;return this.x=e*this.x-a*this.y,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},v.convert=function(t){return t instanceof v?t:Array.isArray(t)?new v(t[0],t[1]):t};var E=C,M=S;S.types=["Unknown","Point","LineString","Polygon"],S.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,a=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,s=[];t.pos<a;){if(!r){var l=t.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new E(i,o));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},S.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,a=1,n=0,r=0,i=0,o=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!n){var p=t.readVarint();a=7&p,n=p>>3}if(n--,1===a||2===a)(r+=t.readSVarint())<o&&(o=r),r>s&&(s=r),(i+=t.readSVarint())<l&&(l=i),i>u&&(u=i);else if(7!==a)throw new Error("unknown command "+a)}return[o,l,s,u]},S.prototype.toGeoJSON=function(t,e,a){function n(t){for(var e=0;e<t.length;e++){var a=t[e];t[e]=[360*(a.x+s)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(a.y+l)/o)*Math.PI/180))-90]}}var r,i,o=this.extent*Math.pow(2,a),s=this.extent*t,l=this.extent*e,u=this.loadGeometry(),p=S.types[this.type];switch(this.type){case 1:var c=[];for(r=0;r<u.length;r++)c[r]=u[r][0];n(u=c);break;case 2:for(r=0;r<u.length;r++)n(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var a,n,r=[],i=0;i<e;i++){var o=_(t[i]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(a&&r.push(a),a=[t[i]]):a.push(t[i]))}return a&&r.push(a),r}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)n(u[r][i])}1===u.length?u=u[0]:p="Multi"+p;var d={type:"Feature",geometry:{type:p,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d};var R=M,F=b;b.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new R(this._pbf,e,this.extent,this._keys,this._values)};var x=F,U=function(t,e){this.layers=t.readFields(D,{},e)};L.SVG.Tile=L.SVG.extend({initialize:function(t,e,a){L.SVG.prototype.initialize.call(this,a),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:L.Util.falseFn,addTo:function(t){if(this._map=t,this.options.interactive)for(var e in this._layers){var a=this._layers[e];a._path.style.pointerEvents="auto",this._map._targets[L.stamp(a._path)]=a}},removeFrom:function(t){if(this.options.interactive)for(var e in this._layers)delete this._map._targets[L.stamp(this._layers[e]._path)];delete this._map},_initContainer:function(){L.SVG.prototype._initContainer.call(this),L.SVG.create("rect")},_addPath:function(t){this._rootGroup.appendChild(t._path),this._layers[L.stamp(t)]=t},_updateIcon:function(t){var e=t._path=L.SVG.create("image"),a=t.options.icon.options,n=L.point(a.iconSize),r=a.iconAnchor||n&&n.divideBy(2,!0),i=t._point.subtract(r);e.setAttribute("x",i.x),e.setAttribute("y",i.y),e.setAttribute("width",n.x+"px"),e.setAttribute("height",n.y+"px"),e.setAttribute("href",a.iconUrl)}}),L.svg.tile=function(t,e,a){return new L.SVG.Tile(t,e,a)};var P=L.Class.extend({render:function(t,e){this._renderer=t,this.options=e,t._initPath(this),t._updateStyle(this)},updateStyle:function(t,e){this.options=e,t._updateStyle(this)},_getPixelBounds:function(){for(var t=this._parts,e=L.bounds([]),a=0;a<t.length;a++)for(var n=t[a],r=0;r<n.length;r++)e.extend(n[r]);var i=this._clickTolerance(),o=new L.Point(i,i);return e.min._subtract(o),e.max._add(o),e},_clickTolerance:L.Path.prototype._clickTolerance}),V={_makeFeatureParts:function(t,e){var a=t.geometry;this._parts=[];for(var n=0;n<a.length;n++){for(var r=a[n],i=[],o=0;o<r.length;o++)i.push(L.point(r[o]).scaleBy(e));this._parts.push(i)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},k=L.CircleMarker.extend({includes:P.prototype,statics:{iconCache:{}},initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){P.prototype.render.call(this,t,e),this._radius=e.radius||L.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(t,e){var a=t.geometry[0];"object"==typeof a[0]&&"x"in a[0]?(this._point=L.point(a[0]).scaleBy(e),this._empty=L.Util.falseFn):(this._point=L.point(a).scaleBy(e),this._empty=L.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(t,e){return this._radius=e.radius||this._radius,this._updateBounds(),P.prototype.updateStyle.call(this,t,e)},_updateBounds:function(){var t=this.options.icon;if(t){var e=L.point(t.options.iconSize),a=t.options.iconAnchor||e&&e.divideBy(2,!0),n=this._point.subtract(a);this._pxBounds=new L.Bounds(n,n.add(t.options.iconSize))}else L.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.icon?this._renderer._updateIcon(this):L.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(this.options.icon){var t=this.options.icon.options.iconUrl,e=k.iconCache[t];return e||(e=k.iconCache[t]=this.options.icon.createIcon()),e}return null},_containsPoint:function(t){return this.options.icon?this._pxBounds.contains(t):L.CircleMarker.prototype._containsPoint.call(this,t)}}),B=L.Polyline.extend({includes:[P.prototype,V],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){e.fill=!1,P.prototype.render.call(this,t,e),this._updatePath()},updateStyle:function(t,e){e.fill=!1,P.prototype.updateStyle.call(this,t,e)}}),G=L.Polygon.extend({includes:[P.prototype,V],initialize:function(t,e){this.properties=t.properties,this._makeFeatureParts(t,e)},render:function(t,e){P.prototype.render.call(this,t,e),this._updatePath()}});L.VectorGrid=L.GridLayer.extend({options:{rendererFactory:L.svg.tile,vectorTileLayerStyles:{},interactive:!1},initialize:function(t){L.setOptions(this,t),L.GridLayer.prototype.initialize.apply(this,arguments),this.options.getFeatureId&&(this._vectorTiles={},this._overriddenStyles={},this.on("tileunload",function(t){var e=this._tileCoordsToKey(t.coords),a=this._vectorTiles[e];a&&this._map&&a.removeFrom(this._map),delete this._vectorTiles[e]},this)),this._dataLayerNames={}},createTile:function(t,e){var a=this.options.getFeatureId,n=this.getTileSize(),r=this.options.rendererFactory(t,n,this.options),i=this._getVectorTilePromise(t);return a&&(this._vectorTiles[this._tileCoordsToKey(t)]=r,r._features={}),i.then((function(n){for(var i in n.layers){this._dataLayerNames[i]=!0;for(var o=n.layers[i],s=this.getTileSize().divideBy(o.extent),l=this.options.vectorTileLayerStyles[i]||L.Path.prototype.options,u=0;u<o.features.length;u++){var p,c=o.features[u],d=l;if(a){p=this.options.getFeatureId(c);var h=this._overriddenStyles[p];h&&(d=h[i]?h[i]:h)}if(d instanceof Function&&(d=d(c.properties,t.z)),d instanceof Array||(d=[d]),d.length){for(var m=this._createLayer(c,s),y=0;y<d.length;y++){var f=L.extend({},L.Path.prototype.options,d[y]);m.render(r,f),r._addPath(m)}this.options.interactive&&m.makeInteractive(),a&&(r._features[p]={layerName:i,feature:m})}}}null!=this._map&&r.addTo(this._map),L.Util.requestAnimFrame(e.bind(t,null,null))}).bind(this)),r.getContainer()},setFeatureStyle:function(t,e){for(var a in this._overriddenStyles[t]=e,this._vectorTiles){var n=this._vectorTiles[a],r=n._features[t];if(r){var i=e;e[r.layerName]&&(i=e[r.layerName]),this._updateStyles(r.feature,n,i)}}return this},resetFeatureStyle:function(t){for(var e in delete this._overriddenStyles[t],this._vectorTiles){var a=this._vectorTiles[e],n=a._features[t];if(n){var r=this.options.vectorTileLayerStyles[n.layerName]||L.Path.prototype.options;this._updateStyles(n.feature,a,r)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_updateStyles:function(t,e,a){(a=a instanceof Function?a(t.properties,e.getCoord().z):a)instanceof Array||(a=[a]);for(var n=0;n<a.length;n++){var r=L.extend({},L.Path.prototype.options,a[n]);t.updateStyle(e,r)}},_createLayer:function(t,e,a){var n;switch(t.type){case 1:n=new k(t,e);break;case 2:n=new B(t,e);break;case 3:n=new G(t,e)}return this.options.interactive&&n.addEventParent(this),n}}),L.vectorGrid=function(t){return new L.VectorGrid(t)},L.VectorGrid.Protobuf=L.VectorGrid.extend({options:{subdomains:"abc",fetchOptions:{}},initialize:function(t,e){this._url=t,L.VectorGrid.prototype.initialize.call(this,e)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},_getSubdomain:L.TileLayer.prototype._getSubdomain,_getVectorTilePromise:function(t){var e={s:this._getSubdomain(t),x:t.x,y:t.y,z:t.z};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=a),e["-y"]=a}var n=L.Util.template(this._url,L.extend(e,this.options));return fetch(n,this.options.fetchOptions).then(function(t){return t.ok?t.blob().then(function(t){var e=new FileReader;return new Promise(function(a){e.addEventListener("loadend",function(){var t=new O(e.result);return a(new U(t))}),e.readAsArrayBuffer(t)})}):{layers:[]}}).then(function(t){for(var e in t.layers){for(var a=[],n=0;n<t.layers[e].length;n++){var r=t.layers[e].feature(n);r.geometry=r.loadGeometry(),a.push(r)}t.layers[e].features=a}return t})}}),L.vectorGrid.protobuf=function(t,e){return new L.VectorGrid.Protobuf(t,e)};var W=function(t,e,a){try{return window.URL.createObjectURL(new Blob([Uint8Array.from(t.split("").map(function(t){return t.charCodeAt(0)}))],{type:e}))}catch(n){return"data:"+e+","+t}}('"use strict";function simplify$1(e,t){var r,n,o,i,a=t*t,s=e.length,l=0,u=s-1,c=[];for(e[l][2]=1,e[u][2]=1;u;){for(n=0,r=l+1;r<u;r++)(o=getSqSegDist(e[r],e[l],e[u]))>n&&(i=r,n=o);n>a?(e[i][2]=n,c.push(l),c.push(i),l=i):(u=c.pop(),l=c.pop())}}function getSqSegDist(e,t,r){var n=t[0],o=t[1],i=r[0],a=r[1],s=e[0],l=e[1],u=i-n,c=a-o;if(0!==u||0!==c){var f=((s-n)*u+(l-o)*c)/(u*u+c*c);f>1?(n=i,o=a):f>0&&(n+=u*f,o+=c*f)}return u=s-n,c=l-o,u*u+c*c}function convert$1(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)convertFeature(r,e.features[n],t);else"Feature"===e.type?convertFeature(r,e,t):convertFeature(r,{geometry:e},t);return r}function convertFeature(e,t,r){if(null!==t.geometry){var n,o,i,a,s=t.geometry,l=s.type,u=s.coordinates,c=t.properties;if("Point"===l)e.push(create(c,1,[projectPoint(u)]));else if("MultiPoint"===l)e.push(create(c,1,project(u)));else if("LineString"===l)e.push(create(c,2,[project(u,r)]));else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)a=project(u[n],r),"Polygon"===l&&(a.outer=0===n),i.push(a);e.push(create(c,"Polygon"===l?3:2,i))}else if("MultiPolygon"===l){for(i=[],n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)a=project(u[n][o],r),a.outer=0===o,i.push(a);e.push(create(c,3,i))}else{if("GeometryCollection"!==l)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<s.geometries.length;n++)convertFeature(e,{geometry:s.geometries[n],properties:c},r)}}}function create(e,t,r){var n={geometry:r,type:t,tags:e||null,min:[2,1],max:[-1,0]};return calcBBox(n),n}function project(e,t){for(var r=[],n=0;n<e.length;n++)r.push(projectPoint(e[n]));return t&&(simplify(r,t),calcSize(r)),r}function projectPoint(e){var t=Math.sin(e[1]*Math.PI/180),r=e[0]/360+.5,n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n=n<0?0:n>1?1:n,[r,n,0]}function calcSize(e){for(var t,r,n=0,o=0,i=0;i<e.length-1;i++)t=r||e[i],r=e[i+1],n+=t[0]*r[1]-r[0]*t[1],o+=Math.abs(r[0]-t[0])+Math.abs(r[1]-t[1]);e.area=Math.abs(n/2),e.dist=o}function calcBBox(e){var t=e.geometry,r=e.min,n=e.max;if(1===e.type)calcRingBBox(r,n,t);else for(var o=0;o<t.length;o++)calcRingBBox(r,n,t[o]);return e}function calcRingBBox(e,t,r){for(var n,o=0;o<r.length;o++)n=r[o],e[0]=Math.min(n[0],e[0]),t[0]=Math.max(n[0],t[0]),e[1]=Math.min(n[1],e[1]),t[1]=Math.max(n[1],t[1])}function transformTile(e,t){if(e.transformed)return e;var r,n,o,i=e.z2,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry;if(1===l.type)for(n=0;n<u.length;n++)u[n]=transformPoint(u[n],t,i,a,s);else for(n=0;n<u.length;n++){var c=u[n];for(o=0;o<c.length;o++)c[o]=transformPoint(c[o],t,i,a,s)}}return e.transformed=!0,e}function transformPoint(e,t,r,n,o){return[Math.round(t*(e[0]*r-n)),Math.round(t*(e[1]*r-o))]}function clip$1(e,t,r,n,o,i,a,s){if(r/=t,n/=t,a>=r&&s<=n)return e;if(a>n||s<r)return null;for(var l=[],u=0;u<e.length;u++){var c,f,p=e[u],h=p.geometry,m=p.type;if(c=p.min[o],f=p.max[o],c>=r&&f<=n)l.push(p);else if(!(c>n||f<r)){var g=1===m?clipPoints(h,r,n,o):clipGeometry(h,r,n,o,i,3===m);g.length&&l.push({geometry:g,type:m,tags:e[u].tags||null,min:p.min,max:p.max})}}return l.length?l:null}function clipPoints(e,t,r,n){for(var o=[],i=0;i<e.length;i++){var a=e[i],s=a[n];s>=t&&s<=r&&o.push(a)}return o}function clipGeometry(e,t,r,n,o,i){for(var a=[],s=0;s<e.length;s++){var l,u,c,f=0,p=0,h=null,m=e[s],g=m.area,d=m.dist,v=m.outer,y=m.length,x=[];for(u=0;u<y-1;u++)l=h||m[u],h=m[u+1],f=p||l[n],p=h[n],f<t?p>r?(x.push(o(l,h,t),o(l,h,r)),i||(x=newSlice(a,x,g,d,v))):p>=t&&x.push(o(l,h,t)):f>r?p<t?(x.push(o(l,h,r),o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p<=r&&x.push(o(l,h,r)):(x.push(l),p<t?(x.push(o(l,h,t)),i||(x=newSlice(a,x,g,d,v))):p>r&&(x.push(o(l,h,r)),i||(x=newSlice(a,x,g,d,v))));l=m[y-1],f=l[n],f>=t&&f<=r&&x.push(l),c=x[x.length-1],i&&c&&(x[0][0]!==c[0]||x[0][1]!==c[1])&&x.push(x[0]),newSlice(a,x,g,d,v)}return a}function newSlice(e,t,r,n,o){return t.length&&(t.area=r,t.dist=n,void 0!==o&&(t.outer=o),e.push(t)),[]}function wrap$1(e,t,r){var n=e,o=clip$2(e,1,-1-t,t,0,r,-1,2),i=clip$2(e,1,1-t,2+t,0,r,-1,2);return(o||i)&&(n=clip$2(e,1,-t,1+t,0,r,-1,2),o&&(n=shiftFeatureCoords(o,1).concat(n)),i&&(n=n.concat(shiftFeatureCoords(i,-1)))),n}function shiftFeatureCoords(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if(1===a)o=shiftCoords(i.geometry,t);else{o=[];for(var s=0;s<i.geometry.length;s++)o.push(shiftCoords(i.geometry[s],t))}r.push({geometry:o,type:a,tags:i.tags,min:[i.min[0]+t,i.min[1]],max:[i.max[0]+t,i.max[1]]})}return r}function shiftCoords(e,t){var r=[];r.area=e.area,r.dist=e.dist;for(var n=0;n<e.length;n++)r.push([e[n][0]+t,e[n][1],e[n][2]]);return r}function createTile$1(e,t,r,n,o,i){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z2:t,transformed:!1,min:[2,1],max:[-1,0]},s=0;s<e.length;s++){a.numFeatures++,addFeature(a,e[s],o,i);var l=e[s].min,u=e[s].max;l[0]<a.min[0]&&(a.min[0]=l[0]),l[1]<a.min[1]&&(a.min[1]=l[1]),u[0]>a.max[0]&&(a.max[0]=u[0]),u[1]>a.max[1]&&(a.max[1]=u[1])}return a}function addFeature(e,t,r,n){var o,i,a,s,l=t.geometry,u=t.type,c=[],f=r*r;if(1===u)for(o=0;o<l.length;o++)c.push(l[o]),e.numPoints++,e.numSimplified++;else for(o=0;o<l.length;o++)if(a=l[o],n||!(2===u&&a.dist<r||3===u&&a.area<f)){var p=[];for(i=0;i<a.length;i++)s=a[i],(n||s[2]>f)&&(p.push(s),e.numSimplified++),e.numPoints++;3===u&&rewind(p,a.outer),c.push(p)}else e.numPoints+=a.length;c.length&&e.features.push({geometry:c,type:u,tags:t.tags||null})}function rewind(e,t){signedArea(e)<0===t&&e.reverse()}function signedArea(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],r=e[a],n+=(r[0]-t[0])*(t[1]+r[1]);return n}function geojsonvt(e,t){return new GeoJSONVT(e,t)}function GeoJSONVT(e,t){t=this.options=extend(Object.create(this.options),t);var r=t.debug;r&&console.time("preprocess data");var n=1<<t.maxZoom,o=convert(e,t.tolerance/(n*t.extent));this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=wrap(o,t.buffer/t.extent,intersectX),o.length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function toID(e,t,r){return 32*((1<<e)*r+t)+e}function intersectX(e,t,r){return[r,(r-e[0])*(t[1]-e[1])/(t[0]-e[0])+e[1],1]}function intersectY(e,t,r){return[(r-e[1])*(t[0]-e[0])/(t[1]-e[1])+e[0],r,1]}function extend(e,t){for(var r in t)e[r]=t[r];return e}function isClippedSquare(e,t,r){var n=e.source;if(1!==n.length)return!1;var o=n[0];if(3!==o.type||o.geometry.length>1)return!1;var i=o.geometry[0].length;if(5!==i)return!1;for(var a=0;a<i;a++){var s=transform.point(o.geometry[0][a],t,e.z2,e.x,e.y);if(s[0]!==-r&&s[0]!==t+r||s[1]!==-r&&s[1]!==t+r)return!1}return!0}function feature$1(e,t){var r=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,i=object(e,t);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function object(e,t){function r(e,t){t.length&&t.pop();for(var r=u[e<0?~e:e],n=0,o=r.length;n<o;++n)t.push(l(r[n].slice(),n));e<0&&reverse(t,o)}function n(e){return l(e.slice())}function o(e){for(var t=[],n=0,o=e.length;n<o;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function i(e){for(var t=o(e);t.length<4;)t.push(t[0].slice());return t}function a(e){return e.map(i)}function s(e){var t,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(s)};case"Point":t=n(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(n);break;case"LineString":t=o(e.arcs);break;case"MultiLineString":t=e.arcs.map(o);break;case"Polygon":t=a(e.arcs);break;case"MultiPolygon":t=e.arcs.map(a);break;default:return null}return{type:r,coordinates:t}}var l=transform$3(e),u=e.arcs;return s(t)}function extractArcs(e,t,r){function n(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function o(e){e.forEach(n)}function i(e){e.forEach(o)}function a(e){e.forEach(i)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":i(e.arcs);break;case"MultiPolygon":a(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==r?function(e){u.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}function planarRingArea(e){for(var t,r=-1,n=e.length,o=e[n-1],i=0;++r<n;)t=o,o=e[r],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}var simplify_1=simplify$1,convert_1=convert$1,simplify=simplify_1,tile=transformTile,point=transformPoint,transform$1={tile:tile,point:point},clip_1=clip$1,clip$2=clip_1,wrap_1=wrap$1,tile$1=createTile$1,index=geojsonvt,convert=convert_1,transform=transform$1,clip=clip_1,wrap=wrap_1,createTile=tile$1;GeoJSONVT.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},GeoJSONVT.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=this,l=[e,t,r,n],u=this.options,c=u.debug,f=null;l.length;){n=l.pop(),r=l.pop(),t=l.pop(),e=l.pop();var p=1<<t,h=toID(t,r,n),m=s.tiles[h],g=t===u.maxZoom?0:u.tolerance/(p*u.extent);if(!m&&(c>1&&console.time("creation"),m=s.tiles[h]=createTile(e,p,r,n,g,t===u.maxZoom),s.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,m.numFeatures,m.numPoints,m.numSimplified),console.timeEnd("creation"));var d="z"+t;s.stats[d]=(s.stats[d]||0)+1,s.total++}if(m.source=e,o){if(t===u.maxZoom||t===o)continue;var v=1<<o-t;if(r!==Math.floor(i/v)||n!==Math.floor(a/v))continue}else if(t===u.indexMaxZoom||m.numPoints<=u.indexMaxPoints)continue;if(u.solidChildren||!isClippedSquare(m,u.extent,u.buffer)){m.source=null,c>1&&console.time("clipping");var y,x,b,M,P,S,w=.5*u.buffer/u.extent,$=.5-w,C=.5+w,F=1+w;y=x=b=M=null,P=clip(e,p,r-w,r+C,0,intersectX,m.min[0],m.max[0]),S=clip(e,p,r+$,r+F,0,intersectX,m.min[0],m.max[0]),P&&(y=clip(P,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),x=clip(P,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),S&&(b=clip(S,p,n-w,n+C,1,intersectY,m.min[1],m.max[1]),M=clip(S,p,n+$,n+F,1,intersectY,m.min[1],m.max[1])),c>1&&console.timeEnd("clipping"),y&&l.push(y,t+1,2*r,2*n),x&&l.push(x,t+1,2*r,2*n+1),b&&l.push(b,t+1,2*r+1,2*n),M&&l.push(M,t+1,2*r+1,2*n+1)}else o&&(f=t)}return f},GeoJSONVT.prototype.getTile=function(e,t,r){var n=this,o=this.options,i=o.extent,a=o.debug,s=1<<e;t=(t%s+s)%s;var l=toID(e,t,r);if(this.tiles[l])return transform.tile(this.tiles[l],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var u,c=e,f=t,p=r;!u&&c>0;)c--,f=Math.floor(f/2),p=Math.floor(p/2),u=n.tiles[toID(c,f,p)];if(!u||!u.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",c,f,p),isClippedSquare(u,i,o.buffer))return transform.tile(u,i);a>1&&console.time("drilling down");var h=this.splitTile(u.source,c,f,p,e,t,r);if(a>1&&console.timeEnd("drilling down"),null!==h){var m=1<<e-h;l=toID(h,Math.floor(t/m),Math.floor(r/m))}return this.tiles[l]?transform.tile(this.tiles[l],i):null};var identity=function(e){return e},transform$3=function(e){if(null==(t=e.transform))return identity;var t,r,n,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(e,t){return t||(r=n=0),e[0]=(r+=e[0])*o+a,e[1]=(n+=e[1])*i+s,e}},bbox=function(e){function t(e){s[0]=e[0],s[1]=e[1],a(s),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])}function r(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(r);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var n=e.bbox;if(!n){var o,i,a=transform$3(e),s=new Array(2),l=1/0,u=l,c=-l,f=-l;e.arcs.forEach(function(e){for(var t=-1,r=e.length;++t<r;)o=e[t],s[0]=o[0],s[1]=o[1],a(s,t),s[0]<l&&(l=s[0]),s[0]>c&&(c=s[0]),s[1]<u&&(u=s[1]),s[1]>f&&(f=s[1])});for(i in e.objects)r(e.objects[i]);n=e.bbox=[l,u,c,f]}return n},reverse=function(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r},feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return feature$1(e,t)})}:feature$1(e,t)},stitch=function(e,t){function r(t){var r,n=e.arcs[t<0?~t:t],o=n[0];return e.transform?(r=[0,0],n.forEach(function(e){r[0]+=e[0],r[1]+=e[1]})):r=n[n.length-1],t<0?[r,o]:[o,r]}function n(e,t){for(var r in e){var n=e[r];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){o[e<0?~e:e]=1}),s.push(n)}}var o={},i={},a={},s=[],l=-1;return t.forEach(function(r,n){var o,i=e.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++l],t[l]=r,t[n]=o)}),t.forEach(function(e){var t,n,o=r(e),s=o[0],l=o[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=l,n=i[l]){delete i[n.start];var u=n===t?t:t.concat(n);i[u.start=t.start]=a[u.end=n.end]=u}else i[t.start]=a[t.end]=t;else if(t=i[l])if(delete i[t.start],t.unshift(e),t.start=s,n=a[s]){delete a[n.end];var c=n===t?t:n.concat(t);i[c.start=n.start]=a[c.end=t.end]=c}else i[t.start]=a[t.end]=t;else t=[e],i[t.start=s]=a[t.end=l]=t}),n(a,i),n(i,a),t.forEach(function(e){o[e<0?~e:e]||s.push([e])}),s},bisect=function(e,t){for(var r=0,n=e.length;r<n;){var o=r+n>>>1;e[o]<t?r=o+1:n=o}return r},slicers={},options;onmessage=function(e){if("slice"===e.data[0]){var t=e.data[1];if(options=e.data[2],t.type&&"Topology"===t.type)for(var r in t.objects)slicers[r]=index(feature(t,t.objects[r]),options);else slicers[options.vectorTileLayerName]=index(t,options)}else if("get"===e.data[0]){var n=e.data[1],o={};for(var r in slicers){var i=slicers[r].getTile(n.z,n.x,n.y);if(i){var a={features:[],extent:options.extent,name:options.vectorTileLayerName,length:i.features.length};for(var s in i.features){var l={geometry:i.features[s].geometry,properties:i.features[s].tags,type:i.features[s].type};a.features.push(l)}o[r]=a}}postMessage({layers:o,coords:n})}};\n',"text/plain; charset=us-ascii");L.VectorGrid.Slicer=L.VectorGrid.extend({options:{vectorTileLayerName:"sliced",extent:4096,maxZoom:14},initialize:function(t,e){for(var a in L.VectorGrid.prototype.initialize.call(this,e),e={},this.options)"rendererFactory"!==a&&"vectorTileLayerStyles"!==a&&"function"!=typeof this.options[a]&&(e[a]=this.options[a]);this._worker=new Worker(W),this._worker.postMessage(["slice",t,e])},_getVectorTilePromise:function(t){var e=this,a=new Promise(function(a){e._worker.addEventListener("message",function n(r){r.data.coords&&r.data.coords.x===t.x&&r.data.coords.y===t.y&&r.data.coords.z===t.z&&(a(r.data),e._worker.removeEventListener("message",n))})});return this._worker.postMessage(["get",t]),a}}),L.vectorGrid.slicer=function(t,e){return new L.VectorGrid.Slicer(t,e)},L.Canvas.Tile=L.Canvas.extend({initialize:function(t,e,a){L.Canvas.prototype.initialize.call(this,a),this._tileCoord=t,this._size=e,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,a.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:L.Util.falseFn,addTo:function(t){this._map=t},removeFrom:function(t){delete this._map},_onClick:function(t){var e,a,n=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());for(var r in this._layers)(e=this._layers[r]).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(a=e);a&&(L.DomEvent.fakeStop(t),this._fireEvent([a],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t).subtract(this.getOffset());this._handleMouseHover(t,e)}},_updateIcon:function(t){if(this._drawing){var e=t.options.icon.options,a=L.point(e.iconSize),n=e.iconAnchor||a&&a.divideBy(2,!0),r=t._point.subtract(n),i=this._ctx,o=t._getImage();o.complete?i.drawImage(o,r.x,r.y,a.x,a.y):L.DomEvent.on(o,"load",function(){i.drawImage(o,r.x,r.y,a.x,a.y)}),this._drawnLayers[t._leaflet_id]=t}}}),L.canvas.tile=function(t,e,a){return new L.Canvas.Tile(t,e,a)}},owkQ:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var n=a("PSRr"),r=a("4R65"),i=a("q4vc"),o=a("Ex5H"),s=a("CcnG"),l=function(){function t(t){this.utils=t,this.mapCenter=[10.9574,78.338],this.mapZoom=7,this.urlParams={stateUrlId:"tn"}}return t.prototype.getMapOptions=function(){return{center:this.mapCenter,zoom:this.mapZoom}},t.prototype.getBaseLayerInfoByName=function(t){if(Object(n.e)(t))return null;var e=o.a.TILELAYER;if(e){var a=e.findIndex(function(e){return e.name===t});return-1!==a?e[a]:null}return null},t.prototype.setBaseLayer=function(t,e){var a=this.getBaseLayerInfoByName(e);if(this.baseLayer&&t.hasLayer(this.baseLayer)&&t.removeLayer(this.baseLayer),Object(n.e)(a))console.error("Expected Base layer Object");else{var i=r.tileLayer.wms(a.url,a.options);i.addTo(t),this.baseLayer=i}},t.prototype.getRainfallDates=function(){var t=new Date,e=this.utils.getDateandTimeString(t.getTime(),"YYYYMMDD"),a=t.getFullYear();t.getMonth()<6&&(a-=1);var n=new Date(Number(a),5,1);return[this.utils.getDateandTimeString(n.getTime(),"YYYYMMDD"),e]},t.prototype.getGwDates=function(){var t,e="202206",a=new Date,n=String(a.getMonth()+1).padStart(2,"0");return(t=String(a.getFullYear())+n)==a.getFullYear()+1+"06"&&(e=a.getFullYear()+1+"06"),[t,e]},t.prototype.setHtmlContentForRainfallPopup=function(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.uid==t.uuid&&(t.deviation=n.dl?n.dl.toFixed(2):"-")}var r="<html><body>";return r+='<div class="popup-table-section">',(r+='<div class="card-body p-0">\n     <table class="table table-sm m-0 table-bordered">')+"<tbody>\n         <tr>\n           <th> District </th>\n           <td>"+(t.district||"-")+"</td>\n         </tr>\n         <tr>\n           <th> Deviation </th>\n           <td>"+(t.deviation||"-")+"</td>\n         </tr>\n     </table>\n   </div>\n   </div>"},t.prototype.setHtmlContentForGroundwaterPopup=function(t){var e="<html><body>";return e+='<div class="popup-table-section">',(e+='<div class="card-body p-0">\n     <table class="table table-sm m-0 table-bordered">')+"<tbody>\n         <tr>\n           <th> District </th>\n           <td>"+(t.district||"-")+"</td>\n         </tr>\n     </table>\n   </div>\n   </div>"},t.ngInjectableDef=s.cb({factory:function(){return new t(s.gb(i.a))},token:t,providedIn:"root"}),t}()},rbbI:function(t,e,a){"use strict";a.d(e,"b",function(){return u}),a.d(e,"d",function(){return p}),a.d(e,"a",function(){return c}),a.d(e,"c",function(){return d});var n,r,i,o,s,l=a("Ex5H"),u={STAGE_LOCATIONS:{STAGE_1:{name:"Srirama Sagar Project Stage I (Pochampad)",uuid:"f86089af-19c9-4dfc-b19b-b42a334c1a6a"},STAGE_2:{name:"Srirama Sagar Project Stage II",uuid:"c2504a43-395e-4a2a-983d-06504ebbb77e"}},SEASONS:{KHARIF:"KHARIF",RABI:"RABI",Annual:"Annual"},COMPONENT:{CROPDEMAND:"CROP_DEMAND"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"cd/aggregated",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",CHART:"cd/timeseries",DONUT_CHART:"cd/donut",CANAL_TABLE:"canal/aggregated"},LOCATION_LEVEL:{STATION:"Station",GODAVARI:"Godavari",TELANGANA:"Telangana",TAMILNADU:"TAMILNADU",KALESHWARAM:"Kaleshwaram",BASIN:"BASIN",SUBBASIN:"SUBBASIN",RAINFALL:"RAINFALL",STATE:"STATE",DISTRICT:"DISTRICT"},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY",season:"SEASONALLY"}},p={TELANGANA:{NAME:u.LOCATION_LEVEL.TELANGANA,ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},DISABLED:!1},KALESHWARAM:{NAME:u.LOCATION_LEVEL.KALESHWARAM,ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:u.LOCATION_LEVEL.GODAVARI,ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"},DISABLED:!0},TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}}},c=((n={})[u.STAGE_LOCATIONS.STAGE_1.name]=u.STAGE_LOCATIONS.STAGE_1.uuid,n[u.STAGE_LOCATIONS.STAGE_2.name]=u.STAGE_LOCATIONS.STAGE_2.uuid,(r={})[l.m.LOCATIONS.TAMILNADU]={},r[l.m.LOCATIONS.ALL]={"Soilmoisture Heatmap":{component:l.m.COMPONENT.CROPDEMAND,source:l.m.SOURCES.ALL,view:l.m.VIEWS.ALL,displayName:"Soilmoisture Heatmap",name:"Soilmoisture Heatmap",visible:!0,layerptions_show_on_selector:!1,layer_name:"Soilmoisture Heatmap",hasLegend:!0,layeroptions_min_zoom:l.g[l.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:l.g[l.m.LOCATIONS.RAINFALL].MAX,group:"Soilmoisture HeatMap",group_type:"radio-deselect",layerServiceType:l.d.HEATMAP_LAYER,cqlfilter:null,type:l.d.HEATMAP_LAYER}},r[l.m.LOCATIONS.GODAVARI]={},r),d=((i={})[l.m.VIEWS.ADMIN]=((o={})[l.m.LOCATIONS.DISTRICT]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 150"},{backgroundColor:"#83CFFE",color:"#000000",text:"150 to 300"},{backgroundColor:"#6EC3F8",color:"#FFFFFF",text:"300 to 450"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"450 to 600"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"600 to 750"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"> 750"}]},o[l.m.LOCATIONS.MANDAL]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 20"},{backgroundColor:"#83CFFE",color:"#000000",text:"20 to 40"},{backgroundColor:"#6EC3F8",color:"#FFFFFF",text:"40 to 80"},{backgroundColor:"#3DA8EB",color:"#FFFFFF",text:"80 to 120"},{backgroundColor:"#0B85D2",color:"#FFFFFF",text:"120 to 160"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"160 to 300"},{backgroundColor:"#CB8F7C",color:"#FFFFFF",text:"> 300"}]},o),i[l.m.VIEWS.BASIN]=((s={})[l.m.LOCATIONS.BASIN]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 10"},{backgroundColor:"#6EC3F8",color:"#000000",text:"10 to 20"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"30 to 50"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"50 to 100"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"> 100"}]},s[l.m.LOCATIONS.SUBBASIN]={Units:"Demand(MCM)",colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"No Data"},{backgroundColor:"#D0EAFB",color:"#000000",text:"0 to 1"},{backgroundColor:"#83CFFE",color:"#000000",text:"1 to 3"},{backgroundColor:"#0B85D2",color:"#FFFFFF",text:"3 to 6"},{backgroundColor:"#FBC5B5",color:"#FFFFFF",text:"6 to 10"},{backgroundColor:"#FE8F6E",color:"#FFFFFF",text:"10 to 20"},{backgroundColor:"#F16E47",color:"#FFFFFF",text:"20 to 40"},{backgroundColor:"#CB8F7C",color:"#FFFFFF",text:"> 40"}]},s),i)}}]);