(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"RT+o":function(e,t,o){"use strict";o.d(t,"a",function(){return c});var i=o("ga4K"),a=o("Ex5H"),l=o("fPWo"),s=o("q4vc"),n=o("b67C"),r=o("CcnG"),p=o("t/Na"),c=function(){function e(e,t,o){this.http=e,this.utils=t,this.visibilityUtils=o,this.url=i.a.urlMapping.PROJ_API,this.PopupColumnsMap={rf:["a","n","d"],INFLOW:["river","iflow","ivolume"],rsc:["rsc"],smc:["smc"],gwc:["sc","l"],et:["st"],OUTFLOW:["river","oflow","ovolume"],domUtil:["domUtil"],agriUtil:["agriUtil"],indusUtil:["indusUtil"],ssf:["ssf"],mitank:["noP","msc"]}}return e.prototype.post=function(e,t){return this.http.post(this.url+e,t)},e.prototype.get=function(e,t){return this.http.get(this.url+e+t)},e.prototype.getColumnValue=function(e,t,o){void 0===o&&(o=[]);for(var i=null,a=!0,l=t,s=0,n=o;s<n.length;s++){var r=n[s];if(null==l[r]||null==l[r]){a=!1;break}l=l[r]}return a&&null!=l[e]&&null!=l[e]&&(i=l[e]),i},e.prototype.setColumnValue=function(e,t,o,i){void 0===i&&(i=[]);for(var a=o,l=0;l<i.length;l++)null==a[i[l]]&&(a[i[l]]={}),a=a[i[l]];return a[t.toLowerCase()]="number"==typeof e?this.visibilityUtils.getDecimalNumber(e,1):e,o},e.prototype.preProcessKPIData=function(e,t){var o={},i=e[0];for(var a in t){var l;null!=(l=o[a]?this.getColumnValue(a,i,o[a]):this.getColumnValue(a,i))&&(t[a]=this.visibilityUtils.getDecimalFixed(l))}return t},e.prototype.formatTableData=function(e,t){if(t&&!(t.length<=0)&&"TOTAL"==e){var o,i,a,l={};return t.forEach(function(e){"TOTAL"==e.n&&(l=e)}),l.rsc&&l.rsc.length>0&&(l.rsc.forEach(function(e){"TOTAL"==e.n&&(o=e.st)}),l.rscf=o),l.ios&&(l.ios.INFLOW&&l.ios.INFLOW.length>0?(l.ios.INFLOW.forEach(function(e){"TOTAL"==e.n&&(i=e.v)}),l.iosIfs=i):l.iosIfs=null,l.ios.OUTFLOW&&l.ios.OUTFLOW.length>0?(l.ios.OUTFLOW.forEach(function(e){"TOTAL"==e.n&&(a=e.v)}),l.iosOfs=a):l.iosOfs=null),l}},e.prototype.preprocessTableData=function(e){for(var t=["n","ti","tc","to","uuid"],o={},i=[],a={},l=0,s=e;l<s.length;l++){var n=s[l];a={};for(var r=0,p=t;r<p.length;r++){var c=p[r],u=void 0;null==(u=o[c]&&o[c].hierarchy?this.getColumnValue(c,n,o[c].hierarchy):this.getColumnValue(c,n))&&(u="-"),a=o[c]&&o[c].headers?this.setColumnValue(u,c,a,o[c].headers):this.setColumnValue(u,c,a)}this.utils.isEmptyObj(a)||i.push(a)}return i},e.prototype.getPreprocessedTableData=function(e){var t=this,o=[];return null==e?o:(e.forEach(function(e){var i={};i.uuid=e.uuid,i.name=e.n,i.ar=t.getDecimalFixed(e.ar),i.a=e.rf?t.getDecimalFixed(e.rf.a):null,i.n=e.rf?t.getDecimalFixed(e.rf.n):null,i.d=e.rf?t.getDecimalFixed(e.rf.d):null,i.sc=e.gwc?t.getDecimalFixed(e.gwc.sc):null,i.l=e.gwc?t.getDecimalFixed(e.gwc.cl):null,i.mic=t.getDecimalFixed(e.mic),i.smc=t.getDecimalFixed(e.smc),i.rsc="TOTAL"!==e.n?e.rsc&&e.rsc[0]?t.getDecimalFixed(e.rsc[0].st):null:e.rscf?t.getDecimalFixed(e.rscf):null,i.lvl=e.et?t.getDecimalFixed(e.et.lvl):null,i.st=e.et?t.getDecimalFixed(e.et.st):null,i.agriUtil=e.util?t.getDecimalFixed(e.util.agriUtil):null,i.domUtil=e.util?t.getDecimalFixed(e.util.domUtil):null,i.indusUtil=e.util?t.getDecimalFixed(e.util.indusUtil):null,i.ssf=t.getDecimalFixed(e.ssf),i.ti=t.getDecimalFixed(e.ti),i.to=e.to?t.getDecimalFixed(e.to):null,i.tc=t.getDecimalFixed(e.tc),i.noP=e.mt&&t.isNullAndUndefined(e.mt.count)?t.getDecimalFixed(e.mt.count):null,i.period=e.mt&&t.isNullAndUndefined(e.mt.st)?t.getFormattedDecimalFix(e.mt.st):null,i.msc=e.mt&&t.isNullAndUndefined(e.mt.st)?t.getFormattedDecimalFix(e.mt.st):null,"Mahe"!=i.name&&o.push(i)}),o)},e.prototype.isNullAndUndefined=function(e){return null!=e&&null!=e},e.prototype.getDecimalFixed=function(e){if(!isNaN(e))return e?e.toFixed(1):"-"},e.prototype.getFormattedDecimalFix=function(e){if(!isNaN(e))return e===parseInt(e)&&e>999?e.toLocaleString("en-IN"):(parseInt(e),e=(e=(Math.round(10*e)/10).toFixed(1))?Number(e).toLocaleString("en-IN"):"-",Math.floor(e)==e&&(e+=".0"),e)},e.prototype.preprocessRainfallTableData=function(e){for(var t=["n","ti","tc","to","uuid"],o={},i=[],a={},l=0,s=e;l<s.length;l++){var n=s[l];a={};for(var r=0,p=t;r<p.length;r++){var c=p[r],u=void 0;null==(u=o[c]&&o[c].hierarchy?this.getColumnValue(c,n,o[c].hierarchy):this.getColumnValue(c,n))&&(u="-"),a=o[c]&&o[c].headers?this.setColumnValue(u,c,a,o[c].headers):this.setColumnValue(u,c,a)}this.utils.isEmptyObj(a)||i.push(a)}return i},e.prototype.getPostDataForHeatMap=function(e){var t={eDate:e.eDate,sDate:e.sDate,pUUID:e.pEUUID,pType:"TELANGANA"===e.dashboardView?"STATE":"BASIN",cType:"TELANGANA"===e.dashboardView?"MANDAL":"BLOCK",format:e.timeStep,pEUUID:e.pEUUID,src:e.src,aggr:"LATEST",depth:"50.0",classification:[]};return e&&e.heatmap&&e.heatmap.key&&t.classification.push(e.heatmap.key),t},e.prototype.getPostDataForMap=function(e){var t={eDate:e.eDate,sDate:e.sDate,pUUID:e.pUUID,ptype:e.pType,format:e.timeStep,ctype:e.cType,pEUUID:e.pEUUID,view:e.view,viewPEUUID:e.pEUUID,depth:"50.0"};return e.view==a.m.VIEWS.BASIN&&(t.ctype=a.m.LOCATIONS.BASIN),t},e.prototype.getViewList=function(e){return e!=l.b.LOCATIONS.GODAVARI.NAME?[l.b.VIEWS.ADMIN,l.b.VIEWS.BASIN]:[l.b.VIEWS.BASIN]},e.prototype.getLocationList=function(){return[l.b.LOCATIONS.TAMILNADU]},e.prototype.getHeatMapList=function(){return[{key:"VSMP",value:"Volumetric"},{key:"ASMP",value:"Actual"}]},e.prototype.getColumnConfig=function(){var e=this.getColumnsDisplayNames();return{show:["n","ti","tc","to"],properties:{n:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"Location",stopAt:"",append:"uuid"},ti:{hideable:!0,displayAs:e.ti,type:"NUMBER"},tc:{hideable:!0,displayAs:e.tc,type:"NUMBER"},to:{hideable:!0,displayAs:e.to,type:"NUMBER"}}}},e.prototype.getColumnsDisplayNames=function(){return{ti:"Total Inflow (MCFT)",tc:"Change in Storage (MCFT)",to:"Total OutFlow (MCFT)"}},e.prototype.getTableConfig=function(){return{tableInfo:{title:{display:!1}},sortOptions:{sortIndex:0,sortType:"asc",flag:!0},downloadButton:{display:!0,text:"",align:"right",order:"order-md-2"},searchFilter:{display:!0,align:"left",order:"order-md-1"},totalRow:{position:"bottom",displayAs:"Summary",name:"TOTAL",jsonKey:"n",colspan:2},paginatorOptions:{limit:50,maxSize:5,visible:!0,dropdownOptions:[{value:25,display:"25"},{value:50,display:"50"},{value:75,display:"75"},{value:100,display:"100"},{value:125,display:"125"},{value:-1,display:"All"}]},tableHeaderFixerInfo:{headerFix:!0,colFix:!0,rowFix:!1,noOfCol:2,noOfRow:0}}},e.prototype.getPostDataForTable=function(e){return{eDate:e.eDate,sDate:e.sDate,pUUID:e.pUUID,ptype:e.pType,format:e.timeStep,ctype:e.cType,pEUUID:e.pEUUID,view:e.view,viewPEUUID:e.pEUUID,depth:"50.0"}},e.prototype.getPostDataForChart=function(e){return{eDate:e.eDate,sDate:e.sDate,pUUID:e.pUUID,pType:e.pType,format:e.timeStep,cType:e.cType,pEUUID:e.pEUUID,src:e.src,aggr:"LATEST",depth:"50.0"}},e.prototype.getPostDataForBreadCrumb=function(e){return{locName:e.locName,locUUID:e.pUUID,locType:e.pType,component:"rainfall",view:e.view,pEUUID:e.pEUUID}},e.prototype.getPostDataForKPI=function(e){return{eDate:e.eDate,sDate:e.sDate,pUUID:e.pUUID,pType:e.pType,format:e.timeStep,cType:"NONE",pEUUID:e.pEUUID,src:e.src,aggr:"LATEST",depth:"50.0"}},e.prototype.getPostDataForLocTypes=function(e){return{component:e.component,pEUUID:e.pEUUID,srcUUID:e.srcUUID,view:e.view+"_HIERARCHY"}},e.prototype.getPopupColumnConfig=function(e,t){void 0===t&&(t=[]);var o=e.show.concat(t);return e.show=o,console.log("config ,......  ",e),e},e.prototype.getGISPopupColumnConfig=function(){return{show:["name"],properties:{name:{hideable:!1,type:"LOCATION$LOCATION_DISABLED",displayAs:"",stopAt:"BLOCK",append:"uuid",class:"font-weight-bold",copyToRows:!0},ar:{hideable:!0,type:"NUMBER",displayAs:"Area",class:"font-weight-bold",copyToRows:!1},a:{hideable:!0,type:"NUMBER",displayAs:"Actual (MCFT)",class:"font-weight-bold",copyToRows:!1},n:{hideable:!0,type:"NUMBER",displayAs:"Normal (MCFT)",class:"font-weight-bold",copyToRows:!1},d:{hideable:!0,type:"NUMBER",displayAs:"Deviation (%)",class:"font-weight-bold",copyToRows:!1},INFLOW:{hideable:!0,type:"NUMBER",displayAs:"Inflow",class:"font-weight-bold",copyToRows:!1},OUTFLOW:{hideable:!0,type:"NUMBER",displayAs:"Outflow",class:"font-weight-bold",copyToRows:!1},river:{hideable:!0,type:"TEXT",displayAs:"River",class:"font-weight-bold",copyToRows:!1},ivolume:{hideable:!0,type:"NUMBER",displayAs:"Volume (MCFT)",class:"font-weight-bold",copyToRows:!1},iflow:{hideable:!0,type:"NUMBER",displayAs:"Flow (cumecs)",class:"font-weight-bold",copyToRows:!1},ovolume:{hideable:!0,type:"NUMBER",displayAs:"Volume (MCFT)",class:"font-weight-bold",copyToRows:!1},oflow:{hideable:!0,type:"NUMBER",displayAs:"Flow (cumecs)",class:"font-weight-bold",copyToRows:!1},sc:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},l:{hideable:!0,type:"NUMBER",displayAs:"Change in Level (m)",class:"font-weight-bold",copyToRows:!1},mic:{hideable:!0,type:"NUMBER",displayAs:"Storage",class:"font-weight-bold",copyToRows:!1},smc:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},rsc:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},lvl:{hideable:!0,type:"NUMBER",displayAs:"Level (m)",class:"font-weight-bold",copyToRows:!1},st:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},agriUtil:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},domUtil:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},indusUtil:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},ssf:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1},ti:{hideable:!0,type:"NUMBER",displayAs:"Total Inflow",class:"font-weight-bold",copyToRows:!1},tc:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage",class:"font-weight-bold",copyToRows:!1},to:{hideable:!0,type:"NUMBER",displayAs:"Total Outflow",class:"font-weight-bold",copyToRows:!1},noP:{hideable:!0,type:"NUMBER",displayAs:"No. Of Tanks",class:"font-weight-bold",copyToRows:!1},msc:{hideable:!0,type:"NUMBER",displayAs:"Change in Storage (MCFT)",class:"font-weight-bold",copyToRows:!1}}}},e.ngInjectableDef=r.cb({factory:function(){return new e(r.gb(p.c),r.gb(s.a),r.gb(n.a))},token:e,providedIn:"root"}),e}()},fPWo:function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return p});var i,a,l,s,n=o("Ex5H"),r={COMPONENT:{WATERAUDIT:"WATERAUDIT"},VIEWS:{ADMIN:"ADMIN",BASIN:"BASIN"},API_MAPPING:{SOURCE:"comm/getrankwisesource1/",TABLE:"wateraudit",BREADCRUMB:"locations/heirarchy",LOCATION_TYPES:"comm/getLocTypes",HEATMAP:"sm/heatmap"},LOCATIONS:{TELANGANA:{NAME:"Telangana",ADMIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"},BASIN:{UUID:"927b67e9-a2aa-46e9-99bc-41cf8c502668",PTYPE:"STATE"}},TAMILNADU:{NAME:"TAMILNADU",ADMIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"},BASIN:{UUID:"e98cd5b7-6556-4c0f-a778-3429e1c14a6b",PTYPE:"STATE"}},KALESHWARAM:{NAME:"Kaleshwaram",ADMIN:{UUID:"",PTYPE:"STATE"},BASIN:{UUID:"",PTYPE:"BASIN"}},GODAVARI:{NAME:"Godavari",ADMIN:{UUID:"",PTYPE:"BASIN"},BASIN:{UUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",PTYPE:"BASIN"}}},TIME_STEP_MAPPING:{yyyy:"YEARLY",yyyyMMdd:"DAILY",yyyyMM:"MONTHLY"},WATERAUDIT_LAYERLIST:(i={},i[n.m.LOCATIONS.TAMILNADU]={},i[n.m.LOCATIONS.ALL]={"Soilmoisture Actual Heatmap":{component:n.m.COMPONENT.WATERAUDIT,source:n.m.SOURCES.ALL,view:n.m.VIEWS.ALL,displayName:"Available Soil Moisture Heatmap",name:"Soilmoisture Actual Heatmap",visible:!0,layerptions_show_on_selector:!1,layer_name:"Soilmoisture Actual Heatmap",hasLegend:!0,legendName:"ASMP",key:"Soilmoisture Actual Heatmap",layeroptions_pane:"heatMap",layeroptions_min_zoom:n.g[n.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:n.g[n.m.LOCATIONS.RAINFALL].MAX,group:"Soilmoisture HeatMap",group_type:"radio-deselect",layerServiceType:n.d.HEATMAP_LAYER,cqlfilter:null,type:n.d.HEATMAP_LAYER},"Soilmoisture Volume Heatmap":{component:n.m.COMPONENT.WATERAUDIT,source:n.m.SOURCES.ALL,view:n.m.VIEWS.ALL,displayName:"Volumetric Soil Moisture Heatmap",name:"Soilmoisture Volume Heatmap",visible:!0,layerptions_show_on_selector:!1,layer_name:"Soilmoisture Volume Heatmap",hasLegend:!0,legendName:"VSMP",key:"Soilmoisture Volume Heatmap",layeroptions_pane:"heatMap",layeroptions_min_zoom:n.g[n.m.LOCATIONS.RAINFALL].MIN,layeroptions_max_zoom:n.g[n.m.LOCATIONS.RAINFALL].MAX,group:"Soilmoisture HeatMap",group_type:"radio-deselect",layerServiceType:n.d.HEATMAP_LAYER,cqlfilter:null,type:n.d.HEATMAP_LAYER}},i[n.m.LOCATIONS.GODAVARI]={},i)},p=((a={})[n.m.VIEWS.ADMIN]=((l={})[n.m.LOCATIONS.DISTRICT]={Units:"Water Audit",colorValues:[{backgroundColor:"#008000",color:"#000000",text:"Positive (Increase in Storage)"},{backgroundColor:"#E3787B",color:"#000000",text:"Negative (Decrease in Storage)"}]},l[n.m.LOCATIONS.MANDAL]={Units:"Water Audit",colorValues:[{backgroundColor:"#008000",color:"#000000",text:"Positive (Increase in Storage)"},{backgroundColor:"#E3787B",color:"#000000",text:"Negative (Decrease in Storage)"}]},l),a[n.m.VIEWS.BASIN]=((s={})[n.m.LOCATIONS.BASIN]={Units:"Water Audit",colorValues:[{backgroundColor:"#008000",color:"#000000",text:"Positive (Increase in Storage)"},{backgroundColor:"#E3787B",color:"#000000",text:"Negative (Decrease in Storage)"}]},s),a)}}]);