(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"+QB4":function(t,l,e){"use strict";e.d(l,"a",function(){return a});var n=e("CcnG"),a=(e("q4vc"),function(){function t(t,l){this._eref=t,this.utils=l,this.name="",this.disabled=!1,this.validation=new Array(4).fill(!0),this.change=new n.q,this.dateFormat={year:"YYYY",month:"MMMM, YYYY",day:"DD-MMMM-YYYY"},this.viewdateFormat={year:"yyyy",month:"MMMM,yyyy",day:"dd-MMMM-yyyy"},this.minModeKeyMap={yyyy:"year",yyyyMM:"month",yyyyMMdd:"day"},this.propagateChange=function(){},this.defaultCalendarPlan="day",this.minMode="day"}return t.prototype.ngOnChanges=function(t){this.minDate=t&&t.minDate?t.minDate.currentValue:this.minDate,this.maxDate=t&&t.maxDate?t.maxDate.currentValue:this.maxDate,t&&t.calendarFormat&&t.calendarFormat.currentValue&&(this.minMode=this.minModeKeyMap[t.calendarFormat.currentValue],this.resetCalendarMinMode()),null!=this.from&&(this.validation[1]=!0),null!=this.to&&(this.validation[2]=!0),null!=this.from&&null!=this.to&&(this.validation[3]=!(this.utils.getModelDateWithDateFormat(this.from,this.calendarFormat)>this.utils.getModelDateWithDateFormat(this.to,this.calendarFormat)))},t.prototype.ngOnInit=function(){this.resetCalendarMinMode()},t.prototype.resetCalendarMinMode=function(){this.bsConfig=Object.assign({},{minMode:this.minMode,dateInputFormat:this.dateFormat[this.minMode],updateViewDate:!0,showWeekNumbers:!1})},t.prototype.onClick=function(t){if(this._eref.nativeElement.contains(t.target))return!0},t.prototype.onModelChange=function(){this.propagateChange(this.model),this.change.emit(this.model)},t.prototype.writeValue=function(t){this.model=t},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(){},t}())},"+qWQ":function(t,l,e){"use strict";var n=e("CcnG"),a=e("Ip0R"),i=e("gIcY"),o=e("ARl4"),r=e("lqqz");e("+QB4"),e("q4vc"),e.d(l,"a",function(){return s}),e.d(l,"b",function(){return m});var s=n.zb({encapsulation:0,styles:[["bs-datepicker-container,   bs-daterangepicker-container{z-index:9999999999}.pointer[_ngcontent-%COMP%]{cursor:pointer}.input-group.date[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{height:35px;background:#fff;border:1px solid #d1d3e2;border-radius:0 .25rem .25rem 0;padding:0;color:#6e6f7a;font-size:14px}.input-group[_ngcontent-%COMP%] > .custom-file[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .custom-select[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .form-control-plaintext[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;margin-bottom:0}.input-group.date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px;background:padding-box #fff;border:1px solid #d1d3e2;display:block;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:14px;font-weight:400;line-height:1.5;color:#333;border-radius:.25rem 0 0 .25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border-right:0}.error[_ngcontent-%COMP%]{border:.5px solid red;display:block}"]],data:{}});function u(t){return n.Ub(0,[(t()(),n.Bb(0,16777216,null,null,11,"input",[["bsDatepicker",""],["class","form-control"],["readonly",""]],[[8,"placeholder",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"bsValueChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keyup.esc"]],function(t,l,e){var a=!0,i=t.component;return"input"===l&&(a=!1!==n.Lb(t,3)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==n.Lb(t,3).onTouched()&&a),"compositionstart"===l&&(a=!1!==n.Lb(t,3)._compositionStart()&&a),"compositionend"===l&&(a=!1!==n.Lb(t,3)._compositionEnd(e.target.value)&&a),"change"===l&&(a=!1!==n.Lb(t,5).onChange(e)&&a),"keyup.esc"===l&&(a=!1!==n.Lb(t,5).hide()&&a),"blur"===l&&(a=!1!==n.Lb(t,5).onBlur()&&a),"ngModelChange"===l&&(a=!1!==(i.model=e)&&a),"ngModelChange"===l&&(a=!1!==i.onModelChange()&&a),"bsValueChange"===l&&(a=!1!==(i.model=e)&&a),a},null,null)),n.Ab(1,278528,null,0,a.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(2,{error:0}),n.Ab(3,16384,null,0,i.d,[n.N,n.n,[2,i.a]],null,null),n.Ab(4,737280,[[1,4],["dp",4]],0,o.b,[o.a,n.n,n.N,n.Y,r.a],{bsValue:[0,"bsValue"],bsConfig:[1,"bsConfig"],isDisabled:[2,"isDisabled"],minDate:[3,"minDate"],maxDate:[4,"maxDate"]},{bsValueChange:"bsValueChange"}),n.Ab(5,16384,null,0,o.B,[o.b,o.f,n.N,n.n,n.i],null,null),n.Pb(1024,null,i.n,function(t){return[t]},[o.B]),n.Pb(1024,null,i.o,function(t,l){return[t,l]},[i.d,o.B]),n.Ab(8,671744,null,0,i.t,[[8,null],[6,i.n],[8,null],[6,i.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n.Pb(2048,null,i.p,null,[i.t]),n.Ab(10,16384,null,0,i.q,[[4,i.p]],null,null),n.Ob(11,2),(t()(),n.sb(0,null,null,0))],function(t,l){var e=l.component,n=t(l,2,0,"from"==e.name&&!e.validation[1]||"to"==e.name&&(!e.validation[2]||!e.validation[3]));t(l,1,0,"form-control",n),t(l,4,0,e.model,e.bsConfig,e.disabled,e.minDate,e.maxDate),t(l,8,0,e.name,e.model)},function(t,l){var e=l.component,a=n.Db(1,"",e.placeHolder,""),i=n.Db(1,"",n.Tb(l,0,1,t(l,11,0,n.Lb(l.parent,0),e.model,e.viewdateFormat[e.minMode])),"");t(l,0,0,a,i,n.Lb(l,10).ngClassUntouched,n.Lb(l,10).ngClassTouched,n.Lb(l,10).ngClassPristine,n.Lb(l,10).ngClassDirty,n.Lb(l,10).ngClassValid,n.Lb(l,10).ngClassInvalid,n.Lb(l,10).ngClassPending)})}function c(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,0,"input",[["readonly",""]],[[8,"placeholder",0]],null,null,null,null))],null,function(t,l){t(l,0,0,n.Db(1,"",l.component.placeHolder,""))})}function h(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"span",[["style","color: #e61010"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,[" Start date is not selected"]))],null,null)}function d(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"span",[["style","color: #e61010"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,[" Stop date is not selected"]))],null,null)}function p(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"span",[["style","color: #e61010"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,0,"i",[["class","fas fa-exclamation-triangle"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,[" Stop date cannot come before start date"]))],null,null)}function m(t){return n.Ub(0,[n.Mb(0,a.e,[n.z]),n.Qb(671088640,1,{dp:0}),(t()(),n.Bb(2,0,null,null,6,"div",[["class","input-group date"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,u)),n.Ab(4,16384,null,0,a.q,[n.Y,n.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),n.sb(0,[["elseBlock",2]],null,0,null,c)),(t()(),n.Bb(6,0,null,null,2,"span",[["class","input-group-addon pointer"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.dp.toggle()&&n),n},null,null)),(t()(),n.Bb(7,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Bb(8,0,null,null,0,"i",[["class","far fa-calendar-alt"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,h)),n.Ab(10,16384,null,0,a.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,d)),n.Ab(12,16384,null,0,a.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,p)),n.Ab(14,16384,null,0,a.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,4,0,e.calendarFormat,n.Lb(l,5)),t(l,10,0,"from"==e.name&&!e.validation[1]),t(l,12,0,"to"==e.name&&!e.validation[2]),t(l,14,0,"to"==e.name&&!e.validation[3])},null)}},"/jRE":function(t,l,e){"use strict";e.d(l,"a",function(){return n});var n={CommonLayers:[{layerNameType:"FORECAST_ADMIN_WITH_MASK",serviceType:"WmsLayer",view:"Admin",type:"Base",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",zIndex:"state"},{layerNameType:"BLOCK",serviceType:"WmsLayer",view:"Admin",type:"Base",name:"blockLayer",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",minZoom:10,zIndex:"district"},{layerNameType:"VILLAGE",serviceType:"WmsLayer",view:"Admin",type:"Base",name:"villageLayer",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",minZoom:11,zIndex:"block"},{layerNameType:"FORECAST_BASIN_WITH_MASK",serviceType:"WmsLayer",view:"Basin",type:"Base",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",zIndex:"state"},{layerNameType:"SUBBASIN",serviceType:"WmsLayer",view:"Basin",type:"Base",name:"blockLayer",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",minZoom:9,zIndex:"district"},{layerNameType:"DISTRICT",serviceType:"VectorLayer",view:"Admin",type:"Base",interactive:!0,locationName:"district",min:7,max:9},{layerNameType:"BLOCK",serviceType:"VectorLayer",view:"Admin",type:"Base",interactive:!0,locationName:"block",min:10,max:10},{layerNameType:"VILLAGE",serviceType:"VectorLayer",view:"Admin",type:"Base",interactive:!0,locationName:"village",min:11},{layerNameType:"BASIN",serviceType:"VectorLayer",view:"Basin",type:"Base",interactive:!0,locationName:"basin",min:6,max:8},{layerNameType:"SUBBASIN",serviceType:"VectorLayer",view:"Basin",type:"Base",interactive:!0,min:9,max:18,locationName:"sub_basin"}],CommonMiniMapLayers:[{layerNameType:"FORECAST_ADMIN_WITH_MASK",serviceType:"WmsLayer",view:"Admin",type:"Base",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000"},{layerNameType:"BLOCK",serviceType:"WmsLayer",view:"Admin",type:"Base",name:"blockLayer",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",minZoom:9},{layerNameType:"FORECAST_BASIN_WITH_MASK",serviceType:"WmsLayer",view:"Basin",type:"Base",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",zIndex:"state"},{layerNameType:"SUBBASIN",serviceType:"WmsLayer",view:"Basin",type:"Base",name:"blockLayer",env:"bg_color:#cccccc;bg_opacity:0.7;bg_width:0.5;i_stroke_color:#000000;i_stroke_width:1;i_shadow_color:#000000;i_shadow_opacity=0.1;i_shadow_width:7;o_s_boundary_color:#aaaaaa;o_s_boundary_width:0.5;s_boundary_color:#000000;s_boundary_width:0.1;m_boundary_color:#000000;m_boundary_width:0.5;text_color:#000000;b_s_color:#000000",minZoom:9,zIndex:"state"}],PrimarySourceType:"IMD_SHORT_RANGE",SecondarySourceType:"IMD_LONG_RANGE",HeatMapUrl:"weatherForecastv2/getHeatMapData/",NowcastHeatMapUrl:"/weatherForecastv2/getNowcastImageData",HeatMapOptions:{type:"Time",time:"24",clip:!0,view:"Admin",serviceType:"HeatMap"},RainFallShortRangeURLConstant:"RAINFALLSHORTRANGEIMDMAP",RainFallLongRangeURLConstant:"RAINFALLLONGRANGEIMDMAP",Legend:{colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0"},{backgroundColor:"#C3FDCA",color:"#000000",text:"0.1"},{backgroundColor:"#01FF04",color:"#000000",text:"2.5"},{backgroundColor:"#048500",color:"#FFFFFF",text:"15.6"},{backgroundColor:"#FDC0CB",color:"#FFFFFF",text:"64.5"},{backgroundColor:"#FC0300",color:"#FFFFFF",text:"115.6"},{backgroundColor:"#610301",color:"#FFFFFF",text:">204.5"}],Units:"mm"},nowcastLegend:{colorValues:[{backgroundColor:"#2740B9 ",color:"#000000",text:"0.1 - 0.5"},{backgroundColor:"#004AFF",color:"#000000",text:"0.5 - 1.0"},{backgroundColor:"#11C3D9",color:"#000000",text:"1.0 - 2.0"},{backgroundColor:"#32E909",color:"#000000",text:"2.0 - 3.0"},{backgroundColor:"#B1F450",color:"#000000",text:"3.0 - 5.0"},{backgroundColor:"#FFFB00",color:"#000000",text:"5.0 - 10.0"},{backgroundColor:"#F8B835",color:"#FFFFFF",text:"10.0 - 15.0"},{backgroundColor:"#FD7803",color:"#FFFFFF",text:"15.0 - 20.0"},{backgroundColor:"#FF0000",color:"#FFFFFF",text:"20.0 - 25.0"},{backgroundColor:"#943131",color:"#FFFFFF",text:">25.0"}],Units:"mm/hr"},LegendWeekly:{colorValues:[{backgroundColor:"#ffffff",color:"#000000",text:"0-0.3"},{backgroundColor:"#fffebd",color:"#000000",text:"0.3-2.5"},{backgroundColor:"#fffe02",color:"#000000",text:"2.5-15.6"},{backgroundColor:"#02c3ff",color:"#000000",text:"15.6-64.5"},{backgroundColor:"#30982f",color:"#FFFFFF",text:"64.5-115.6"},{backgroundColor:"#f95c05",color:"#FFFFFF",text:"115.6-204.5"},{backgroundColor:"#720101",color:"#FFFFFF",text:">204.5"}],Units:"mm"},lightRainfall:{colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0-10"},{backgroundColor:"#FAF9C5",color:"#000000",text:"10-20"},{backgroundColor:"#F5F38C",color:"#000000",text:"20-30"},{backgroundColor:"#F0ED53",color:"#000000",text:"30-40"},{backgroundColor:"#ECE81A",color:"#000000",text:"40-50"},{backgroundColor:"#F2E211",color:"#000000",text:"50-60"},{backgroundColor:"#F8DC08",color:"#000000",text:"60-70"},{backgroundColor:"#FFD700",color:"#000000",text:"70-80"},{backgroundColor:"#FACA00",color:"#FFFFFF",text:"80-90"},{backgroundColor:"#F6BE00",color:"#FFFFFF",text:"90-100"}],Units:"Percent"},moderateRainfall:{colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0-10"},{backgroundColor:"#E5FCFF",color:"#000000",text:"10-20"},{backgroundColor:"#CBFAFF",color:"#000000",text:"20-30"},{backgroundColor:"#B1F7FF",color:"#000000",text:"30-40"},{backgroundColor:"#98F5FF",color:"#000000",text:"40-50"},{backgroundColor:"#66E4FF",color:"#000000",text:"50-60"},{backgroundColor:"#34D3FF",color:"#000000",text:"60-70"},{backgroundColor:"#02C3FF",color:"#000000",text:"70-80"},{backgroundColor:"#0161C4",color:"#FFFFFF",text:"80-90"},{backgroundColor:"#00008B",color:"#FFFFFF",text:"90-100"}],Units:"Percent"},heavyRainfall:{colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0-10"},{backgroundColor:"#E3FAE3",color:"#000000",text:"10-20"},{backgroundColor:"#C7F6C7",color:"#000000",text:"20-30"},{backgroundColor:"#ABF2AB",color:"#000000",text:"30-40"},{backgroundColor:"#90EE90",color:"#000000",text:"40-50"},{backgroundColor:"#60F360",color:"#000000",text:"50-60"},{backgroundColor:"#30F930",color:"#000000",text:"60-70"},{backgroundColor:"#00FF00",color:"#000000",text:"70-80"},{backgroundColor:"#00B100",color:"#FFFFFF",text:"80-90"},{backgroundColor:"#006400",color:"#FFFFFF",text:"90-100"}],Units:"Percent"},vheavyRainfall:{colorValues:[{backgroundColor:"#FFFFFF",color:"#000000",text:"0-10"},{backgroundColor:"#FFDBD4",color:"#000000",text:"10-20"},{backgroundColor:"#FFB8AA",color:"#000000",text:"20-30"},{backgroundColor:"#FF9580",color:"#000000",text:"30-40"},{backgroundColor:"#FF7256",color:"#000000",text:"40-50"},{backgroundColor:"#FF4C39",color:"#000000",text:"50-60"},{backgroundColor:"#FF261C",color:"#000000",text:"60-70"},{backgroundColor:"#FF0000",color:"#000000",text:"70-80"},{backgroundColor:"#C40000",color:"#FFFFFF",text:"80-90"},{backgroundColor:"#8B0000",color:"#FFFFFF",text:"90-100"}],Units:"Percent"}}},"2TcX":function(t,l,e){"use strict";e.d(l,"a",function(){return u});var n=e("t/Na"),a=e("26FU"),i=e("XlPw"),o=e("MCLT"),r=e("7Amg"),s=e("CcnG"),u=function(){function t(t){this.http=t,this.baseUrl=r.c.API_URL_TEMP,this.API_MAPPING=r.c.API_MAPPING,this.cachedflag=new a.a(!0)}return t.prototype.getHeaders=function(){var t=new n.g;return t.append("Content-Type","application/json"),t},t.prototype.makePostApiCall=function(t,l){var e=this.isValidAPICall(t);return e.valid?this.http.post(this.baseUrl+""+e.api,l,{headers:this.getHeaders()}):Object(i.a)({status:!1,msg:e.msg})},t.prototype.makeGetApiCall=function(t,l){var e=this.isValidAPICall(t);if(e.valid){for(var n in l)e.api.indexOf(n)&&(e.api=e.api.replace(new RegExp(n,"g"),l[n]));return this.http.get(this.baseUrl+""+e.api,{headers:this.getHeaders()})}return Object(i.a)({status:!1,msg:e.msg})},t.prototype.isValidAPICall=function(t){if(Object(o.isNullOrUndefined)(this.API_MAPPING))return console.log("API_MAPPING not found in projconstants"),{valid:!1,msg:"API_MAPPING not found in projconstants"};var l=this.API_MAPPING[t];return Object(o.isNullOrUndefined)(l)?(console.log("API_MAPPING not found for for "+t+"..Please update API_MAPPING in projconstants"),{valid:!1,msg:"API_MAPPING not found for "+t}):{valid:!0,api:l}},t.prototype.onNotify=function(t){this.cachedflag.next(!1)},t.ngInjectableDef=s.cb({factory:function(){return new t(s.gb(n.c))},token:t,providedIn:"root"}),t}()},"A+yR":function(t,l,e){"use strict";var n=e("CcnG"),a=e("6n/F"),i=e("MCLT"),o=e("2BfV"),r=e("Tos5"),s=e("M8aS");o(a),r(a),s(a),r(a);var u=function(){return function(){}}(),c=function(){return function(){this.data=[]}}(),h=function(){return function(){this.data=[],this.marker={},this.tooltip={}}}(),d=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.chartId.nativeElement.id=this.id,this.setChart(this.chartConfig2,this.chartData2),this.chart.width="100%",this.chart.chart.backgroundColor="#ffffff",!0===this.ensmblData&&(this.chart.chart.plotBackgroundColor="#6c757d"),this.chart.yAxis.gridLineColor="#6c757d",this.chart.yAxis.gridLineWidth=.5,this.chart.legend.itemMarginTop=10,this.chart.legend.itemStyle={color:"#6c757d"},this.chart.yAxis.labels={style:{color:"#6c757d"}},this.chart.yAxis.title={},this.chart.yAxis.title.style={color:"#6c757d"},a.chart(this.id,this.chart)},t.prototype.setChart=function(t,l){if(this.chart={chart:{},title:{},subtitle:{},tooltips:{},colors:[],xAxis:{},yAxis:{},plotOptions:{},credits:{},legend:{},series:[],responsive:{}},!t||!l)return{};if(this.insertChartTitle(t.chartTitle,this.ensmblData),t.datakeys&&0!==t.datakeys.length||(t.datakeys=this.getDataKeysFromData(l)),t.stacking&&(this.chart.plotOptions={series:{stacking:t.stacking}}),t.plotOptions&&(this.chart.plotOptions=t.plotOptions),this.chart.tooltip=t.tooltips?t.tooltips:{},this.chart.datalabels=t.datalabels?t.datalabels:{},this.chart.legend=t.legend?t.legend:{},this.chart.credits={enabled:!1},"boxplot"===t.chartType){this.formatterForBlockChart(t,l),this.chart.colors.push("#000000"),this.chart.chart.height=600;var e=[];Object.keys(l).forEach(function(t){return e.push(l[t].locName)}),this.chart.xAxis.labels={style:{color:"#FFFFFF"}},this.chart.xAxis.categories=e}else"donut"===t.chartType||"pie"===t.chartType?this.formatterForPieAndDonutChart(t,l):(this.chart.xAxis=this.insertxAxisFromConfig(t.xAxis,t),this.formatterForChartOtherThanPieAndDonut(t,l,this.chart.xAxis.categories))},t.prototype.setXAxisLabel=function(t){for(var l in this.chart.xAxis.categories)this.chart.xAxis.categories[l]=t.xAxisLabel[this.chart.xAxis.categories[l]]},t.prototype.getRandomColor=function(){return"#"+("000000"+Math.floor(16777216*Math.random()).toString(16)).slice(-6)},t.prototype.getDataKeysFromData=function(t){for(var l=[],e=0,n=Object.keys(t);e<n.length;e++)l.push(n[e]);return l},t.prototype.insertxAxisFromConfig=function(t,l){return t||(t=this.getXAxisFromConfig(l)),{categories:t}},t.prototype.getXAxisFromConfig=function(t){var l=[];if(null!=t&&null!=t.xAxisLabel)for(var e=0,n=Object.keys(t.xAxisLabel);e<n.length;e++)l.push(n[e]);return l},t.prototype.insertxAxis=function(t,l){return t||(t=this.getXAxisFromData(l)),{categories:t}},t.prototype.getXAxisFromData=function(t){for(var l=[],e=0,n=Object.keys(t);e<n.length;e++){for(var a=0,i=Object.keys(t[n[e]]);a<i.length;a++)l.push(i[a]);break}return l},t.prototype.insertChartTitle=function(t,l){this.chart.title.text=!0===l?t:"",this.chart.title.style={color:"#ffffff",fontSize:"14px"}},t.prototype.formatterForPieAndDonutChart=function(t,l){var e=[];this.chart.chart={type:"pie"};for(var n=0,a=Object.keys(l);n<a.length;n++)for(var i=a[n],o=0,r=Object.keys(l[i]);o<r.length;o++){var s=r[o],c=new u;c.name=t.labels&&t.labels[s]?t.labels[s]:s,c.y=l[i][s],c.color=t.colors&&t.colors[s]?t.colors[s]:this.getRandomColor(),"donut"==t.chartType&&(c.size=t.size,c.innerSize=t.innersize),t.sliced&&t.sliced[s]&&(c.sliced=t.sliced[s]),e.push(c)}this.chart.series.push({data:e})},t.prototype.formatterForChartOtherThanPieAndDonut=function(t,l,e){this.chart.chart={type:t.chartType};for(var n=0,a=Object.keys(l);n<a.length;n++){var i=a[n],o=new c;o.name=t.labels&&t.labels[i]?t.labels[i]:i,o.color=t.colors&&t.colors[i]?t.colors[i]:this.getRandomColor();for(var r=0,s=e;r<s.length;r++)o.data.push(l[i][s[r]]);this.chart.series.push(o)}this.chart.yAxis=t.yAxisLabels?{title:{text:t.yAxisTitle},labels:t.yAxisLabels.labels}:{title:{text:t.yAxisTitle}},t.xAxisLabel&&this.setXAxisLabel(t)},t.prototype.formatterForBlockChart=function(t,l){var e;e=Object(i.isNullOrUndefined)(this.currentPlayPosition)?new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),5,30,0,0).getTime().toString():this.currentPlayPosition;var n=new h,a=new h,o=[],r=[];this.chart.chart={type:t.chartType},Object.keys(l).forEach(function(t){var n=[],a=l[t].ens[e];n.push(Math.round(100*(a.min+Number.EPSILON))/100),n.push(Math.round(100*(a.lq+Number.EPSILON))/100),n.push(Math.round(100*(a.med+Number.EPSILON))/100),n.push(Math.round(100*(a.uq+Number.EPSILON))/100),n.push(Math.round(100*(a.max+Number.EPSILON))/100),o.push(n),a.det.forEach(function(l){r.push([t,Math.round(100*(l+Number.EPSILON))/100])})}),n.name=t.plotOptions.series.name,n.data=o,n.tooltip.headerFormat="<em>Observation(in mm)</em><br/>",n.opacity=.7,this.chart.series.push(n),a.name="Deterministic Forecast",a.color="red",a.type="scatter",a.data=r,a.marker.fillColor="red",a.marker.lineWidth=1,a.marker.lineColor="red",a.tooltip.pointFormat="Actual Value : {point.y}",this.chart.series.push(a),this.chart.yAxis=t.yAxisLabels?{title:{text:t.yAxisTitle},labels:t.yAxisLabels.labels}:{title:{text:t.yAxisTitle}},this.plotBandData&&(this.chart.yAxis.plotBands=this.setPlotBand())},t.prototype.setPlotBand=function(){var t=this,l=[];return Object.keys(this.plotBandData).forEach(function(e){var n=t.plotBandData[e];l.push({from:n.from,to:n.to,color:n.color,label:{text:e}})}),l},t}(),p=n.zb({encapsulation:0,styles:[[""]],data:{}});function m(t){return n.Ub(0,[n.Qb(402653184,1,{chartId:0}),(t()(),n.Bb(1,0,[[1,0],["chart",1]],null,0,"div",[["class","w-100"]],null,null,null,null,null))],null,null)}var b=e("Ip0R"),g=e("4R65"),f=e("osK0"),y=e("XqK7"),v=e("JvN/"),S=e("XQuM"),D=e("2TcX"),M=e("QDzO"),C=e("6QN/"),A=e("7Amg"),N=e("Ex5H"),_=function(){function t(t,l,e,n,a,i,o,r,s){var u=this;this.route=t,this.utils=l,this.mapService=e,this.injector=n,this.httpService=a,this.router=i,this.rainfallService=o,this.dataService=r,this.extremeWeatherDataService=s,this.activeLayers=[],this.currentPlayPosition=null;var c=this.route.snapshot.paramMap.get("id");this.STATENAME=A.c.IDTOSTATENAMEMAPPING[c],this.utils.getAdminBasinToggle().subscribe(function(t){u.adminSelected=t,u.view=!0===u.adminSelected?"Admin":"Basin"}).unsubscribe()}return t.prototype.ngOnInit=function(){localStorage.getItem("map1")&&localStorage.getItem("map2")&&localStorage.getItem("map3")&&localStorage.getItem("map4")&&(localStorage.removeItem("map1"),localStorage.removeItem("map2"),localStorage.removeItem("map3"),localStorage.removeItem("map4"))},t.prototype.ngAfterViewInit=function(){this.initMap(),this.addSubscriptions()},t.prototype.ngOnDestroy=function(){Object(i.isNullOrUndefined)(this.adminBasinSubscription)||this.adminBasinSubscription.unsubscribe(),Object(i.isNullOrUndefined)(this.currentPlayPositionSubscription)||this.currentPlayPositionSubscription.unsubscribe(),Object(i.isNullOrUndefined)(this.forecastLengthSubscription)||this.forecastLengthSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){t.enableMapInteraction&&t.enableMapInteraction.currentValue&&this.enableInteractionControl()},t.prototype.getWeeklyModelDate=function(){var t=this;return new Promise(function(l,e){null!=t.weeklyModelDate?l(t.weeklyModelDate):t.extremeWeatherDataService.getForecastFileTimeStamp("ECMWF_EXT","ECMWF_EXT").then(function(e){t.weeklyModelDate=e,l(t.weeklyModelDate)})})},t.prototype.initMap=function(){var t=Object(i.isNullOrUndefined)(this.mapId)?"miniMap":this.mapId;if(this.map=g.map(t,this.mapService.getMiniMapOptions(this.STATENAME,A.c)),"ensmblMap2.5"==t){var l=this.map;localStorage.setItem("map1",l),this.dataService.addMaps("map1",l)}else if("ensmblMap15.6"==t){var e=this.map;localStorage.setItem("map2",e),this.dataService.addMaps("map2",e)}else if("ensmblMap64.5"==t){var n=this.map;localStorage.setItem("map3",n),this.dataService.addMaps("map3",n)}else if("ensmblMap115.6"==t){var a=this.map;localStorage.setItem("map4",a),this.dataService.addMaps("map4",a)}this.adminSelected||this.map.setView(N.e.TAMILNADU,6),this.injectService(),this.createPanes(),this.addMapEvents(),this.addLegend(),this.enableMapInteraction||this.disableInteractionControl(),localStorage.getItem("map1")&&localStorage.getItem("map2")&&localStorage.getItem("map3")&&localStorage.getItem("map4")&&this.dataService.syncMaps()},t.prototype.injectService=function(){this.serviceMap=this.injector.get(this.otherOptions.service)},t.prototype.createPanes=function(){var t=this;S.a.PANE_LIST.forEach(function(l){t.map.createPane(l.name),t.map.getPane(l.name).style.zIndex=l.zindex})},t.prototype.addMapEvents=function(){var t=this;this.map.on({zoomstart:function(l){Object(i.isNullOrUndefined)(t.clickedLocationMarker)||(t.clickedLocationMarker.unbindTooltip(),t.clickedLocationMarker.bindTooltip(t.clickedLocationTooltip),t.clickedLocationMarker=null)}})},t.prototype.addBaseLayers=function(t){for(var l in t)if(l){var e=t[l];if("Base"===e.type&&(e.view===this.view||"Both"===e.view)){var n=this.serviceMap.createLayer(e,this);"VectorLayer"==e.serviceType&&e.layer.off("mouseover"),Object(i.isNullOrUndefined)(n.layer)||(Object(i.isNullOrUndefined)(n.layer.getAttribution())||(n.layer.options.attribution="<a href = 'https://www.ecmwf.int/'> Data Source : ECMWF </a>"),e.hasOwnProperty("hidelayer")||n.layer.addTo(this.map),this.activeLayers=this.activeLayers.concat(n)),t[l]=n}}this.layerList=t},t.prototype.addSubscriptions=function(){var t=this;this.adminBasinSubscription=this.utils.getAdminBasinToggle().subscribe(function(l){t.adminSelected!==l&&(t.adminSelected=l,t.view=!0===t.adminSelected?"Admin":"Basin",t.adminSelected?t.adminSelected&&t.map.setView(N.e.TAMILNADU,6):t.map.setView(N.e.TAMILNADU,6),t.removeAllLayers(),setTimeout(function(){t.addBaseLayers(t.layerList),t.addHeatMapLayer()},100))}),this.forecastLengthSubscription=this.utils.getForecastLengthChanged().subscribe(function(l){"24"===JSON.stringify(l)&&(Object(i.isNullOrUndefined)(t.currentPlayPositionSubscription)||t.currentPlayPositionSubscription.unsubscribe()),t.removeAllLayers(),setTimeout(function(){t.addBaseLayers(t.layerList),"weekly"===t.route.snapshot.paramMap.get("time")?t.getWeeklyProbabilityHeatMapData():t.getProbabilityHeatMapData()},100)})},t.prototype.removeAllLayers=function(){var t=this;this.map.eachLayer(function(l){t.map.removeLayer(l)})},t.prototype.getProbabilityHeatMapData=function(){var t=this;if(this.probabilityHeatMapData={},"10"===this.route.snapshot.paramMap.get("time")&&"rainfall"===this.router.url.split("/")[3]){this.currentPlayPositionSubscription=this.utils.getCurrentPlayPosition().subscribe(function(l){l!==t.currentPlayPosition&&(t.currentPlayPosition=l,"10"===t.route.snapshot.paramMap.get("time")&&"rainfall"===t.router.url.split("/")[3]&&t.changeHeatMapLayerForPlayPosition())});for(var l=0,e=function(e){var a={};a.type=n.mapId.split("ensmblMap")[1];var o=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),5,30,0,0);o.setDate(o.getDate()+e),a.timeStamp=o.getTime().toString(),a.source="ECMWF_ENSEMBLE",a.blockLength="day",a.color_pallete="ts_color",n.httpService.makePostApiCall("RAINFALLENSEMBLEHEATMAPDATA",a).subscribe(function(n){n&&(t.probabilityHeatMapData[a.timeStamp]=n,Object(i.isNullOrUndefined)(t.currentPlayPosition)&&0===e?(t.currentHeatMapData=t.probabilityHeatMapData[a.timeStamp],t.addHeatMapLayer()):a.timeStamp===t.currentPlayPosition&&(t.currentHeatMapData=t.probabilityHeatMapData[a.timeStamp],t.addHeatMapLayer(),l=1))}),6===e&&0===l&&(o.setDate(o.getDate()-6),n.currentHeatMapData=n.probabilityHeatMapData[o.getTime().toString()],n.addHeatMapLayer())},n=this,a=0;a<7;a++)e(a)}else if("24"===this.route.snapshot.paramMap.get("time")&&"rainfall"===this.router.url.split("/")[3]){var o={};o.type=this.mapId.split("ensmblMap")[1],o.color_pallete="det_color",o.source="ECMWF_ENSEMBLE";var r=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),5,30,0,0);o.timeStamp=r.getTime().toString(),this.httpService.makePostApiCall("RAINFALLENSEMBLEHEATMAPDATA",o).subscribe(function(l){l&&(t.probabilityHeatMapData[o.timeStamp]=l,t.currentHeatMapData=t.probabilityHeatMapData[o.timeStamp],t.addHeatMapLayer())})}},t.prototype.addHeatMapLayer=function(){var t=this;!Object(i.isNullOrUndefined)(this.heatMapLayer)&&this.map.hasLayer(this.heatMapLayer)&&this.map.removeLayer(this.heatMapLayer),setTimeout(function(){Object(i.isNullOrUndefined)(t.currentHeatMapData)||(t.heatMapLayer=g.imageOverlay(t.currentHeatMapData.heatMapImage,[[t.currentHeatMapData.heatMapImageBound.southWest.latitude,t.currentHeatMapData.heatMapImageBound.southWest.longitude],[t.currentHeatMapData.heatMapImageBound.northEast.latitude,t.currentHeatMapData.heatMapImageBound.northEast.longitude]],{pane:"heatMap"}),t.heatMapLayer.addTo(t.map))},50)},t.prototype.changeHeatMapLayerForPlayPosition=function(){Object(i.isNullOrUndefined)(this.currentPlayPosition)||Object(i.isNullOrUndefined)(this.probabilityHeatMapData[this.currentPlayPosition])||(this.currentHeatMapData=this.probabilityHeatMapData[this.currentPlayPosition],this.addHeatMapLayer())},t.prototype.disableInteractionControl=function(){this.map.touchZoom.disable(),this.map.doubleClickZoom.disable(),this.map.scrollWheelZoom.disable(),this.map.boxZoom.disable(),this.map.keyboard.disable()},t.prototype.enableInteractionControl=function(){this.map.touchZoom.enable(),this.map.doubleClickZoom.enable(),this.map.scrollWheelZoom.enable(),this.map.boxZoom.enable(),this.map.keyboard.enable()},t.prototype.getWeeklyProbabilityHeatMapData=function(){var t=this;this.probabilityHeatMapData={},this.currentPlayPositionSubscription=this.utils.getCurrentPlayPosition().subscribe(function(l){l!==t.currentPlayPosition&&(console.log("called..."),t.currentPlayPosition=l,"weekly"===t.route.snapshot.paramMap.get("time")&&"rainfall"===t.router.url.split("/")[3]&&t.changeHeatMapLayerForPlayPosition())}),this.getWeeklyModelDate().then(function(l){if(null!=l){var e=t.rainfallService.getWeeklyTimeStamps(l),n=function(l){var n={};n.type=t.mapId.split("ensmblMap")[1],n.source="ECMWF_EXT_ENSEMBLE",n.timeStamp=e[l].timeStamp.toString(),n.blockLength="week",n.color_pallete="ts_color",t.httpService.makePostApiCall("RAINFALLENSEMBLEHEATMAPDATA",n).subscribe(function(e){e&&(t.probabilityHeatMapData[n.timeStamp]=e,Object(i.isNullOrUndefined)(t.currentPlayPosition)&&"0"===l?(t.currentHeatMapData=t.probabilityHeatMapData[n.timeStamp],t.addHeatMapLayer()):n.timeStamp===t.currentPlayPosition&&(t.currentHeatMapData=t.probabilityHeatMapData[n.timeStamp],t.addHeatMapLayer()))})};for(var a in e)n(a)}})},t.prototype.addLegend=function(){var t;"ensmblMap2.5"==this.mapId?t=this.otherOptions.lightRainfall:"ensmblMap15.6"==this.mapId?t=this.otherOptions.moderateRainfall:"ensmblMap64.5"==this.mapId?t=this.otherOptions.heavyRainfall:"ensmblMap115.6"==this.mapId&&(t=this.otherOptions.vheavyRainfall),this.legend&&this.legend.remove();var l=g.control({position:"bottomleft"});l.onAdd=function(){var l=g.DomUtil.create("div","info mini-map");if(null!=t&&null!=t){null!=t.Units&&null!=t.Units&&(l.innerHTML+='<p class="bg-white text-center my-0 heading">'+t.Units+"</p");for(var e=t.colorValues,n=e.length-1;n>=0;n--)l.innerHTML+="<div><span style='background-color:  "+e[n].backgroundColor+"'></span><p>"+e[n].text+"</p></div>"}return l},this.legend=l,l.addTo(this.map)},t.prototype.showProbabilityMap=function(t){var l=this;this.utils.setMinimapSelected(t),this.utils.getMainMap().subscribe(function(t){var e=t;!Object(i.isNullOrUndefined)(l.heatMapLayer)&&e.hasLayer(l.heatMapLayer)&&e.removeLayer(l.heatMapLayer),setTimeout(function(){Object(i.isNullOrUndefined)(l.currentHeatMapData)||(l.heatMapLayer=g.imageOverlay(l.currentHeatMapData.heatMapImage,[[l.currentHeatMapData.heatMapImageBound.southWest.latitude,l.currentHeatMapData.heatMapImageBound.southWest.longitude],[l.currentHeatMapData.heatMapImageBound.northEast.latitude,l.currentHeatMapData.heatMapImageBound.northEast.longitude]],{pane:"heatMap"}),l.heatMapLayer.addTo(e))},50)})},t}(),k=e("ZYCi"),L=n.zb({encapsulation:0,styles:[["[_ngcontent-%COMP%]:ng-deep   .info.leaflet-control[_ngcontent-%COMP%]{bottom:0!important;right:0!important}[_ngcontent-%COMP%]:ng-deep   .info.leaflet-control[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:8px!important;padding:2px!important}"]],data:{}});function x(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"div",[["class","min_map_box"],["style","width: 100%; height: 100%;"]],[[8,"id",0]],null,null,null,null)),(t()(),n.Bb(1,0,null,null,0,"i",[["class","fas fa-expand"]],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.showProbabilityMap(a.mapId)&&n),n},null,null))],null,function(t,l){var e=l.component;t(l,0,0,null!=e.mapId?e.mapId:"miniMap")})}var O=e("+qWQ"),F=e("+QB4"),T=e("q4vc"),B=e("gIcY"),I=e("TUlx"),w=e("csY2"),E=e("iJXZ"),P=e("XcXv"),U=e("LUGh"),R=function(){function t(t,l,e,a,i,o){this.chartConstant=t,this.router=l,this.route=e,this.utils=a,this.obj=i,this.utilsService=o,this.format={value:"yyyyMMdd"},this.districtSelected=new n.q,this.accuracytableclicked=new n.q,this.accuracymandalclicked=new n.q,this.validation=new Array(5).fill(!0),this.tableThrobberDistrict=!0,this.selectedDate={required:!0},this.tableThrobberMandal=!0,this.tableThrobberVillage=!0,this.chartThrobber=!0,this.accthrobber=!0,this.show=1,this.showChart=!0,this.flagSort=!0,this.headerHeight=50,this.rowHeight=44,this.temp=2,this.thresholdMap={},this.enableMapInteractionObject={2.5:!1,15.6:!1,64.5:!1,115.6:!1},this.searchBoxLocTypeMapping={DISTRICT:"District"},this.componentUnitMapping=A.c.COMPONENT_UNIT_MAPPING,this.millisInSixHours=A.c.MILLIS_IN_6HOURS,this.adminSelected=!0,this.tableDataa={};var r=this.route.snapshot.paramMap.get("id");this.selectedComponent=l.url.split("/")[3],this.stateName=A.c.IDTOSTATENAMEMAPPING[r]}return t.prototype.closePanel=function(){this.obj.dataTabToggleVal&&(this.obj.dataTabToggle(),this.utils.districtClicked.next(null))},t.prototype.ngOnInit=function(){var t=this;this.utils.getSearchBox().subscribe(function(l){if(l){var e={};e.lat=l.location.lat,e.lon=l.location.long,t.getMandalFromMap(l.en,t.searchBoxLocTypeMapping[l.et],l.extei,e,"")}}),this.currentForecastLength=this.router.url.split("/")[4],this.blocksArray&&(this.columns=[],this.columns3=[],this.columns1=[],this.columns2=[],this.adminSelected?(this.columns.push("District"),this.columns3.push("Mandal"),this.columns1.push("District"),this.columns1.push("Mandal")):(this.columns.push("Basin"),this.columns3.push("Sub Basin"),this.columns1.push("Basin"),this.columns1.push("Sub Basin")),this.columns2.push(A.c.CHART_DATA_COLUMNS[this.component]),"weekly"!=this.currentForecastLength?(this.chartConstant["chartObject"+this.utils.formatNames(this.component)].xAxisLabel={},this.blocksArray.forEach(function(l){t.columns.push(l),t.columns3.push(l),t.columns1.push(l),t.columns2.push(l),t.chartConstant["chartObject"+t.utils.formatNames(t.component)].xAxisLabel[l]="24hr"==l?l:t.convertTimestampToBlockValue(l)})):(this.chartConstant.chartObjectRainfallWeekly.xAxisLabel={},this.blocksArray.forEach(function(l){t.columns.push(l),t.columns3.push(l),t.columns1.push(l),t.columns2.push(l),t.chartConstant.chartObjectRainfallWeekly.xAxisLabel[l]="24hr"==l?l:t.convertTimestampToBlockValue(l)}))),this.districtWise=!1,this.heading=this.componentName,this.header=A.c.CHART_DATA_COLUMNS[this.component],"weekly"!=this.currentForecastLength?this.chartConstant["chartObject"+this.utils.formatNames(this.component)].yAxisTitle="No of Mandals":this.chartConstant.chartObjectRainfallWeekly.yAxisTitle="No of Mandals",this.displayedColumns=this.columns,this.displayedColumns2=this.columns2,this.displayedColumns4=this.columns3,this.acctabledata&&!Object(i.isNullOrUndefined)(this.acctabledata)&&(this.accuracyHeaders=this.acctabledata.columns,this.accuracyHeadersColumns=this.acctabledata.tableHeaders,this.accuracyDataSource="District"==this.accuracyHeadersColumns[0].val?this.sortAPDistricts(this.acctabledata.data):this.sortAsc(this.acctabledata.data)),this.tableDataa&&(this.tableThrobberDistrict=!1,this.dataSource=this.tableDataa.data,this.displayedColumns=this.tableDataa.columns,this.headerColumns=this.tableDataa.tableHeaders,"ANDHRA PRADESH"!=this.stateName&&this.sortD(this.dataSource,this.displayedColumns[0][0].val)),this.tableDataMandal&&(this.tableThrobberMandal=!1,this.dataSource1=this.sortAsc(this.tableDataMandal.data),this.displayedColumns1=this.tableDataMandal.columns,this.sortD(this.dataSource1,this.headerColumns1[2].val)),this.tableDataVillage&&(this.tableThrobberVillage=!1,this.dataSource5=this.tableDataVillage.data,this.displayedColumns5=this.tableDataVillage.columns,this.headerColumns5=this.tableDataVillage.tableHeaders,this.sortD(this.dataSource5,this.headerColumns5[2].val)),this.formattedChartData&&(this.chartThrobber=!1,this.dataSource2=this.formattedChartData),this.mandalDataForDistrict&&(this.dataSource3=this.mandalDataForDistrict.data,this.displayedColumns4=this.mandalDataForDistrict.columns,this.headerColumns3=this.mandalDataForDistrict.tableHeaders,this.sortD(this.dataSource3,this.headerColumns3[1].val)),this.component&&(this.componentName=this.component),this.router.events.subscribe(function(l){if(l instanceof k.h)for(var e=0,n=A.c.MODULES;e<n.length;e++){var a=n[e];l.url.split("/",10)[1].toUpperCase===a&&(t.heading=a)}}),this.utils.getMapLayerData().subscribe(function(l){if(console.log("mapData",l),1==t.adminSelected){if(!Object(i.isNullOrUndefined)(l)&&!Object(i.isNullOrUndefined)(t.tableDataa)){var e=l.layer.properties,n=l.target._dataLayerNames;if("tamilnadu_district"==(u=Object.keys(n))[0]){var a=e.district,o="",r="District",s=e.uuid;(c={}).lat=l.latlng.lat.toFixed(2),c.lon=l.latlng.lng.toFixed(2),t.dataSource=t.tableDataa.data,t.getMandalFromMap(a,r,s,c,o),t.zoomFromMap(a,r,c)}else"tamilnadu_mandal"==u[0]&&(a=e.block,o="",r="Mandal",s=e.uuid,(c={}).lat=l.latlng.lat.toFixed(2),c.lon=l.latlng.lng.toFixed(2),t.dataSource=t.tableDataa.data,t.getMandalFromMap(a,r,s,c,o),t.zoomFromMap(a,r,c))}}else if(0==t.adminSelected&&!Object(i.isNullOrUndefined)(l)&&!Object(i.isNullOrUndefined)(t.tableDataa)){var u,c;e=l.layer.properties,n=l.target._dataLayerNames,"tamilnadu_basin_forecast"==(u=Object.keys(n))[0]&&(a=e.basin,o=e.basin,r="Basin",s=e.uuid,(c={}).lat=l.latlng.lat.toFixed(2),c.lon=l.latlng.lng.toFixed(2),t.dataSource=t.tableDataa.data,t.getMandalFromMap(a,r,s,c,o),t.zoomFromMap(a,r,c))}}),this.utils.districtClicked.subscribe(function(l){return t.locationObj=l}),this.rainfallEnsembleLegend=A.c.RAINFALL_ENSEMBLE_LEGEND_DATA,this.utils.getDeterministicOrEnsemble().subscribe(function(l){t.detEnsmbl=l,Object.keys(t.enableMapInteractionObject).forEach(function(l){t.enableMapInteractionObject[l]=!1})}),this.utils.getLayerList().subscribe(function(l){return t.layerList=l}),this.utils.getOtherOptions().subscribe(function(l){return t.otherOptions=l})},t.prototype.ngOnChanges=function(t){var l=this;this.currentForecastLength=this.router.url.split("/")[4],this.admintoggleSubscription=this.utils.getAdminBasinToggle().subscribe(function(t){l.adminSelected!=t&&(l.adminSelected=t,l.districtWise=!1)}),this.routeChangeDescription=this.route.params.subscribe(function(t){l.forecastLength=t.time}),this.blocksArray&&(this.columns=[],this.columns3=[],this.columns1=[],this.columns2=[],this.adminSelected?(this.columns.push("District"),this.columns3.push("Mandal"),this.columns1.push("District"),this.columns1.push("Mandal")):(this.columns.push("Basin"),this.columns3.push("Sub Basin"),this.columns1.push("Basin"),this.columns1.push("Sub Basin")),this.columns2.push(A.c.CHART_DATA_COLUMNS[this.component]),"weekly"!=this.currentForecastLength?(this.chartConstant["chartObject"+this.utils.formatNames(this.component)].xAxisLabel={},this.blocksArray.forEach(function(t){l.columns.push(t),l.columns3.push(t),l.columns1.push(t),l.columns2.push(t),l.chartConstant["chartObject"+l.utils.formatNames(l.component)].xAxisLabel[t]="24hr"==t?t:l.convertTimestampToBlockValue(t)})):(this.chartConstant.chartObjectRainfallWeekly.xAxisLabel={},this.blocksArray.forEach(function(t){l.columns.push(t),l.columns3.push(t),l.columns1.push(t),l.columns2.push(t),l.chartConstant.chartObjectRainfallWeekly.xAxisLabel[t]="24hr"==t?t:l.convertTimestampToBlockValue(t)}))),this.acctabledata&&!Object(i.isNullOrUndefined)(t.acctabledata)?(this.accuracyHeaders=this.acctabledata.columns,this.accuracyHeadersColumns=this.acctabledata.tableHeaders,this.accuracyDataSource="District"==this.accuracyHeadersColumns[0].val?this.sortAPDistricts(this.acctabledata.data):this.sortAsc(this.acctabledata.data),this.accthrobber=!1):"RAINFALL"!=this.component&&(this.accthrobber=!1),this.isEmpty(this.tableDataa)||(this.tableThrobberDistrict=!1,this.dataSource=this.tableDataa.data,this.displayedColumns=this.tableDataa.columns,this.headerColumns=this.tableDataa.tableHeaders,"ANDHRA PRADESH"!=this.stateName&&this.sortA(this.dataSource,this.displayedColumns[0][0].val)),this.tableDataMandal&&!Object(i.isNullOrUndefined)(t.tableDataMandal)&&(this.tableThrobberMandal=!1,this.dataSource1=this.tableDataMandal.data,this.displayedColumns1=this.tableDataMandal.columns,this.headerColumns1=this.tableDataMandal.tableHeaders,this.sortD(this.dataSource1,this.headerColumns1[2].val)),this.tableDataVillage&&!Object(i.isNullOrUndefined)(t.tableDataVillage)&&(this.tableThrobberVillage=!1,this.dataSource5=this.tableDataVillage.data,this.displayedColumns5=this.tableDataVillage.columns,this.headerColumns5=this.tableDataVillage.tableHeaders,this.sortD(this.dataSource5,this.headerColumns5[2].val)),this.formattedChartData&&!Object(i.isNullOrUndefined)(t.formattedChartData)&&(this.chartThrobber=!1,this.dataSource2=this.formattedChartData,this.displayedColumns2=this.columns2),this.mandalDataForDistrict&&(this.dataSource3=this.mandalDataForDistrict.data,this.displayedColumns4=this.mandalDataForDistrict.columns,this.headerColumns3=this.mandalDataForDistrict.tableHeaders,this.sortD(this.dataSource3,this.headerColumns3[1].val)),this.component&&(this.componentName=this.component)},t.prototype.ngOnDestroy=function(){this.routeChangeDescription.unsubscribe(),this.admintoggleSubscription.unsubscribe()},t.prototype.convertTimestampToBlockValue=function(t){var l=Number(t);if("24"==this.forecastLength){var e=new Date(l).getHours(),n=new Date(l).getMinutes(),a=e.toString()+":"+n.toString();e=new Date(l+this.millisInSixHours).getHours(),n=new Date(l+this.millisInSixHours).getMinutes();var i=e.toString()+":"+n.toString();return a.toString()+"-"+i.toString()}return"10"==this.forecastLength?this.utilsService.getDateInFormatForecast("dd/MM/yyyy",t):"weekly"==this.forecastLength?this.utilsService.getDateInFormatForecast("dd/MM/yyyy",t):t},t.prototype.onButtonClick=function(t){var l=this;this.show=t,this.threshold?setTimeout(function(){l.updateThreshold()},500):this.threshold="","ANDHRA PRADESH"!=this.stateName&&this.sortA(this.dataSource1,this.displayedColumns[0][0].val),this.utils.thresholdMap.next({}),this.obj.resetLayerStyle()},t.prototype.onButtonClick1=function(){this.showChart=!this.showChart},t.prototype.updateThreshold=function(){this.tcells=document.getElementsByName("tcell");for(var t=0,l=this.tcells;t<l.length;t++)(a=l[t]).classList.remove(A.c.THRESHOLD_COLOR);for(var e=0,n=this.tcells;e<n.length;e++){var a=n[e];"TEMPERATURE"!==this.component&&Number(a.textContent)>=this.threshold?a.classList.add(A.c.THRESHOLD_COLOR):"TEMPERATURE"===this.component&&Number(a.textContent.toString().split(" ")[0])>=this.threshold&&a.classList.add(A.c.THRESHOLD_COLOR)}this.createThresholdMap()},t.prototype.createThresholdMap=function(){var t=this;this.thresholdMap={};var l=this.router.url.split("/")[2],e=parseInt(this.router.url.split("/")[4],10);if("extremeweather"===l){if(24===e)"WINDSPEED"===this.componentName?1==this.show?Object(i.isNullOrUndefined)(this.locationObj)||"TAMILNADU"===this.locationObj.loc||"State"===this.locationObj.locType?(this.thresholdMap.type=this.adminSelected?"District View":"Basin View",Object.keys(this.dataSource).forEach(function(l){t.thresholdMap[t.dataSource[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource[l].uuid].push(1):t.thresholdMap[t.dataSource[l].uuid].push(0)})):"District"!==this.locationObj.locType&&"Basin"!==this.locationObj.locType||(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource3).forEach(function(l){t.thresholdMap[t.dataSource3[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource3[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource3[l].uuid].push(1):t.thresholdMap[t.dataSource3[l].uuid].push(0)})):(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource1).forEach(function(l){t.thresholdMap[t.dataSource1[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource1[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource1[l].uuid].push(1):t.thresholdMap[t.dataSource1[l].uuid].push(0)})):"RAINFALL"!==this.componentName&&"TEMPERATURE"!==this.componentName&&"HUMIDITY"!==this.componentName||(1==this.show?Object(i.isNullOrUndefined)(this.locationObj)||"TAMILNADU"===this.locationObj.loc||"State"===this.locationObj.locType?(this.thresholdMap.type=this.adminSelected?"District View":"Basin View",Object.keys(this.dataSource).forEach(function(l){t.thresholdMap[t.dataSource[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource[l].uuid].push(1):t.thresholdMap[t.dataSource[l].uuid].push(0);Number(t.dataSource[l]["24hr"].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource[l].uuid].push(1):t.thresholdMap[t.dataSource[l].uuid].push(0)})):"District"!==this.locationObj.locType&&"Basin"!==this.locationObj.locType||(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource3).forEach(function(l){t.thresholdMap[t.dataSource3[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource3[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource3[l].uuid].push(1):t.thresholdMap[t.dataSource3[l].uuid].push(0);Number(t.dataSource3[l]["24hr"].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource3[l].uuid].push(1):t.thresholdMap[t.dataSource3[l].uuid].push(0)})):(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource1).forEach(function(l){t.thresholdMap[t.dataSource1[l].uuid]=[];for(var e=0;e<=3;++e)Number(t.dataSource1[l][t.obj.initialCounter+216e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource1[l].uuid].push(1):t.thresholdMap[t.dataSource1[l].uuid].push(0);Number(t.dataSource1[l]["24hr"].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource1[l].uuid].push(1):t.thresholdMap[t.dataSource1[l].uuid].push(0)})));else if(10===e)if("WINDSPEED"===this.componentName){var n=this.obj.initialCounter,a=new Date,o=new Date;o.setHours(5,30,0);var r=new Date;r.setHours(11,30,0);var s=new Date;s.setHours(17,30,0);var u=new Date;u.setHours(23,30,0),n-=a>=o&&a<r?0:a>=r&&a<s?216e5:a>=s&&a<u?432e5:648e5,1==this.show?Object(i.isNullOrUndefined)(this.locationObj)||"TAMILNADU"===this.locationObj.loc||"State"===this.locationObj.locType?(this.thresholdMap.type=this.adminSelected?"District View":"Basin View",Object.keys(this.dataSource).forEach(function(l){t.thresholdMap[t.dataSource[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource[l][n+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource[l].uuid].push(1):t.thresholdMap[t.dataSource[l].uuid].push(0)})):"District"!==this.locationObj.locType&&"Basin"!==this.locationObj.locType||(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource3).forEach(function(l){t.thresholdMap[t.dataSource3[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource3[l][n+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource3[l].uuid].push(1):t.thresholdMap[t.dataSource3[l].uuid].push(0)})):(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource1).forEach(function(l){t.thresholdMap[t.dataSource1[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource1[l][n+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource1[l].uuid].push(1):t.thresholdMap[t.dataSource1[l].uuid].push(0)}))}else"RAINFALL"!==this.componentName&&"TEMPERATURE"!==this.componentName&&"HUMIDITY"!==this.componentName||(1==this.show?Object(i.isNullOrUndefined)(this.locationObj)||"TAMILNADU"===this.locationObj.loc||"State"===this.locationObj.locType?(this.thresholdMap.type=this.adminSelected?"District View":"Basin View",Object.keys(this.dataSource).forEach(function(l){t.thresholdMap[t.dataSource[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource[l][t.obj.initialCounter+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource[l].uuid].push(1):t.thresholdMap[t.dataSource[l].uuid].push(0)})):"District"!==this.locationObj.locType&&"Basin"!==this.locationObj.locType||(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource3).forEach(function(l){t.thresholdMap[t.dataSource3[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource3[l][t.obj.initialCounter+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource3[l].uuid].push(1):t.thresholdMap[t.dataSource3[l].uuid].push(0)})):(this.thresholdMap.type=this.adminSelected?"Mandal View":"Sub-basin View",Object.keys(this.dataSource1).forEach(function(l){t.thresholdMap[t.dataSource1[l].uuid]=[];for(var e=0;e<=6;++e)Number(t.dataSource1[l][t.obj.initialCounter+864e5*e].val.split(" ")[0])>=t.threshold?t.thresholdMap[t.dataSource1[l].uuid].push(1):t.thresholdMap[t.dataSource1[l].uuid].push(0)})));this.utils.thresholdMap.next(this.thresholdMap),this.obj.changeLayerStyleforThreshold(this.componentName.toLowerCase())}},t.prototype.resetThreshold=function(){this.threshold="",this.tcells=document.getElementsByName("tcell");for(var t=0,l=this.tcells;t<l.length;t++)l[t].classList.remove(A.c.THRESHOLD_COLOR);this.utils.thresholdMap.next({}),this.obj.resetLayerStyle()},t.prototype.zoomToDistrict=function(t){var l=this.selectedDistrictIndex,e={loc:this.dataSource[l][t].val,centroid:this.dataSource[l].centroid};e.locType=t,this.utils.districtClicked.next(e)},t.prototype.zoomToBasin=function(t){console.log("zoom to basin method cliked");var l={loc:this.dataSource[0][t].val,centroid:this.dataSource[0].centroid};l.locType=t,this.utils.basinClicked.next(l)},t.prototype.getMandalDataForDistrict=function(t,l,e){this.threshold="",this.districtWise=!0,this.selectedDistrictIndex=t,this.selectedDistrict=this.dataSource[t][l].val,this.districtSelected.emit({district:this.selectedDistrict,districtUUID:e});var n={loc:this.dataSource[t][l].val,centroid:this.dataSource[t].centroid};n.locType=l,this.utils.districtClicked.next(n),this.utils.thresholdMap.next({}),this.obj.resetLayerStyle()},t.prototype.getMandalDataForAccuracy=function(t,l){this.threshold="",this.districtWise=!0,this.selectedDistrictIndex=t,this.selectedDistrict=this.accuracyDataSource[t][l].val,this.accuracymandalclicked.emit(this.accuracyDataSource[t][l].id);var e={loc:this.accuracyDataSource[t][l].val,centroid:this.accuracyDataSource[t].centroid};e.locType=l,this.utils.districtClicked.next(e),this.utils.thresholdMap.next({}),this.obj.resetLayerStyle()},t.prototype.accuracyrowclicked=function(){this.accuracytableclicked.emit(this.selectedDate.value)},t.prototype.zoomToMandal=function(t,l){var e={loc:this.dataSource3[t][l].val,centroid:this.dataSource3[t].centroid};e.locType=l,this.utils.districtClicked.next(e)},t.prototype.zoomToMandals=function(t,l){var e={loc:this.dataSource1[t][l].val,centroid:this.dataSource1[t].centroid};e.locType=l,this.utils.districtClicked.next(e)},t.prototype.zoomToVillages=function(){},t.prototype.getMandalFromMap=function(t,l,e,n,a){this.threshold="",this.districtWise=!0,this.selectedDistrict=t,this.selectedSubBasin=a,this.districtSelected.emit({district:this.selectedDistrict,districtUUID:e});var i={loc:this.selectedDistrict,centroid:n};i.locType=l,this.utils.districtClicked.next(i),this.utils.thresholdMap.next({}),this.obj.resetLayerStyle()},t.prototype.zoomFromMap=function(t,l,e){var n={loc:t,centroid:e};n.locType=l,this.utils.districtClicked.next(n)},t.prototype.changeToDistrictView=function(){1==this.show&&(null!=this.locationObj&&"State"===this.locationObj.locType||(this.threshold="",this.utils.thresholdMap.next({}),this.obj.resetLayerStyle())),this.districtWise=!1,this.utils.districtClicked.next({locType:"State",loc:this.stateName,centroid:A.c[this.stateName+"_CENTER"],zoomLevel:A.c[this.stateName+"_ZOOM_LEVEL"]}),"ANDHRA PRADESH"!=this.stateName&&this.sortA(this.dataSource,this.displayedColumns[0][0].val),this.accuracymandalclicked.emit(null)},t.prototype.capitalize=function(t){if(null==t||null==t)return" ";var l=t.toLowerCase();return l[0].toUpperCase()+l.slice(1)},t.prototype.getColor=function(t){if("RAINFALL"==this.componentName&&"weekly"!=this.currentForecastLength){this.header="Rainfall Band";for(var l=0,e=A.c.RAINFALL_CATEGORIES_ARRAY_WEEKLY;l<e.length;l++)if(t==(y=e[l]))return A.c.RAINFALL_CHART_RANGE_TO_COLOR_MAPPING_WEEKLY[y]}if("RAINFALL"==this.componentName&&"weekly"==this.currentForecastLength){this.header="Rainfall Band";for(var n=0,a=A.c.RAINFALL_CATEGORIES_ARRAY_WEEKLY;n<a.length;n++)if(t==(y=a[n]))return A.c.RAINFALL_CHART_RANGE_TO_COLOR_MAPPING_WEEKLY[y]}if("TEMPERATURE"==this.componentName){this.header="Temperature Band";for(var i=0,o=A.c.TEMPERATURE_CATEGORIES_ARRAY;i<o.length;i++){var r=(y=o[i]).split("-")[0];if(t.split("-")[0]==r)return">=46"!=y?A.c.TEMPERATURE_CHART_RANGE_TO_COLOR_MAPPING[r]:A.c.TEMPERATURE_CHART_RANGE_TO_COLOR_MAPPING[">46"]}}if("HUMIDITY"==this.componentName){this.header="Humidity Band";for(var s=0,u=A.c.HUMIDITY_RANGES_ARRAY;s<u.length;s++)if(t==(y=u[s]).split("-")[0])return A.c.HUMIDITY_CHART_RANGE_TO_COLOR_MAPPING[y]}if("WINDSPEED"==this.componentName){this.header="Wind Speed Band";for(var c=0,h=A.c.WINDSPEED_CATEGORIES_ARRAY;c<h.length;c++)if(t==(y=h[c]))return A.c.WINDSPEED_CHART_RANGE_TO_COLOR_MAPPING[y]}if("HEATINDEX"==this.componentName){this.header="Heat Index Band";for(var d=0,p=Object.keys(A.c.HEAT_WATCHES_LEGEND);d<p.length;d++)if(t==(y=p[d]))return{"background-color":A.c.HEAT_WATCHES_LEGEND[y]}}if("HEATWATCHES"==this.componentName){this.header="Heat Watches Band";for(var m=0,b=Object.keys(A.c.HEAT_WATCHES_LEGEND);m<b.length;m++)if(t==(y=b[m]))return{"background-color":A.c.HEAT_WATCHES_LEGEND[y]}}if("HEATWAVE"==this.componentName){this.header="Heat Wave Band";for(var g=0,f=Object.keys(A.c.HEAT_WATCHES_LEGEND);g<f.length;g++){var y;if(t==(y=f[g]))return{"background-color":A.c.HEAT_WATCHES_LEGEND[y]}}}},t.prototype.sortA=function(t,l){var e,n,a={};for(e=1;e<t.length;e++){Object.assign(a,t[e]);var i=t[n=e-1][l].val,o=a[l].val;for(isNaN(i)||isNaN(o)||(i=Number(i),o=Number(o));n>=0&&i>o;)Object.assign(t[n+1],t[n]),(n-=1)>=0&&(i=t[n][l].val,o=a[l].val,isNaN(i)||isNaN(o)||(i=Number(i),o=Number(o)));Object.assign(t[n+1],a)}},t.prototype.sortAscDes=function(t,l){this.flagSort?(this.sortD(t,l),this.flagSort=!1):(this.sortA(t,l),this.flagSort=!0)},t.prototype.sortD=function(t,l){var e,n,a={};for(e=1;e<t.length;e++){Object.assign(a,t[e]);var i=t[n=e-1][l].val,o=a[l].val;for(isNaN(i)||isNaN(o)||(i=Number(i),o=Number(o));n>=0&&i<o;)Object.assign(t[n+1],t[n]),(n-=1)>=0&&(i=t[n][l].val,o=a[l].val,isNaN(i)||isNaN(o)||(i=Number(i),o=Number(o)));Object.assign(t[n+1],a)}},t.prototype.validForecastFile=function(t){var l="";if(null!=t&&null!=t&&10==t.length){var e=t[0]+t[1]+t[2]+t[3],n=t[4]+t[5],a=t[6]+t[7],i=Number(t[8]+t[9])%24,o="A.M";i>12&&(i-=12,o="P.M"),i+=5;var r=new Date(e+"-"+n+"-"+a);l=i.toString()+":30"+o+" ( "+r.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}).replace(/ /g,"-")+" GMT+05:30 ) "}return l},t.prototype.validate=function(t){return null==t||null==t?"":t},t.prototype.getUnits=function(){return"HEATINDEX"==this.componentName||"HEATWAVE"==this.componentName||"HEATWATCHES"==this.componentName?1!=this.show||this.districtWise?"( \xb0C )":"( No of Mandals)":"( "+this.componentUnitMapping[this.componentName]+" )"},t.prototype.sortAPDistricts=function(t){for(var l=[],e=function(e){Object.values(t).forEach(function(t){e==t.District.val&&l.push(t)})},n=0,a=A.c.AP_DISTRICT_ORDER;n<a.length;n++)e(a[n]);return t=l},t.prototype.sortAsc=function(t){return t.sort(function(t,l){return t.Mandal.val>l.Mandal.val?1:-1}),this.flagSort=!0,t},t.prototype.getkeys=function(t){return Object.keys(t).reverse()},t.prototype.isEmpty=function(t){for(var l in t)if(t.hasOwnProperty(l))return!1;return!0},t.prototype.enableMapInteractionOnClickTopLeft=function(){this.enableMapInteractionObject[2.5]=!0},t.prototype.enableMapInteractionOnClickTopRight=function(){this.enableMapInteractionObject[15.6]=!0},t.prototype.enableMapInteractionOnClickBottomLeft=function(){this.enableMapInteractionObject[64.5]=!0},t.prototype.enableMapInteractionOnClickBottomRight=function(){this.enableMapInteractionObject[115.6]=!0},t}(),H=n.zb({encapsulation:0,styles:[['.dot[_ngcontent-%COMP%]{position:absolute;height:15px;width:15px;border-radius:50%;display:inline-block}.map-grid[_ngcontent-%COMP%]{position:relative;border-radius:.5rem;box-shadow:0 .5rem 1.25rem rgba(101,137,149,.125);overflow:hidden;padding-top:2rem}.map-grid[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.75rem;position:absolute;left:1rem;top:.5rem;right:1rem;font-weight:600;color:#6c757d}.map-grid[_ngcontent-%COMP%]   .chart-rainfall[_ngcontent-%COMP%]{height:230px;display:block}.br[_ngcontent-%COMP%]{display:inline-flex;padding-left:20px;border-radius:10px;border-color:#dc3545;border-width:.5px;margin-top:-20px}.dot-container[_ngcontent-%COMP%]{position:relative;padding-left:1.5rem}.dot-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{left:0;top:4px}.card.rightpanel-card[_ngcontent-%COMP%]{background:#343a40;height:100vh;border-radius:0}.card.rightpanel-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]{background:#343a40;flex:0 0 auto}.card.rightpanel-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:400;font-size:16px;text-align:left;color:#fff}.card.rightpanel-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:0 -10px 0 0;padding:0 20px;color:#fff;font-size:13px;text-decoration:none;opacity:.5}.card.rightpanel-card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{opacity:1}.card.rightpanel-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto}.card.rightpanel-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:400;font-size:16px;text-align:left;color:#fff}.table.gis-table[_ngcontent-%COMP%]   td.red[_ngcontent-%COMP%]{background-color:#e4606d}.geo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;font-style:14px}.geo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.geo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.forecastFile[_ngcontent-%COMP%]{font-weight:400;font-size:14px;text-align:right;color:#fff}.forecastFile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.type4[_ngcontent-%COMP%]{color:#fff}.noDataCell[_ngcontent-%COMP%]{text-align:center;padding:10px;font-size:16px;color:#fff}.table[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.red[_ngcontent-%COMP%]{background-color:#e4606d}label.toggle-chartortable[_ngcontent-%COMP%]{margin:0}label.toggle-chartortable[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;background:#343a40;border-radius:2rem;height:2.25rem;position:relative}label.toggle-chartortable[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + .toggle-content[_ngcontent-%COMP%]:before{transform:translateX(44px)}label.toggle-chartortable[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]:before{content:"";background:#ffcd39;width:2.75rem;height:2.25rem;position:absolute;left:0;top:0;border-radius:15px;transition:all .2s ease-in;-moz-transition:.2s ease-in;-webkit-transition:.2s ease-in;-ms-transition:all .2s ease-in;-o-transition:.2s ease-in}label.toggle-chartortable[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 2.75rem;width:2.75rem;height:2.25rem;display:flex;align-items:center;justify-content:center;color:#e9ecef;position:relative;z-index:1;font-size:18px;transition:all .2s ease-in;-moz-transition:.2s ease-in;-webkit-transition:.2s ease-in;-ms-transition:all .2s ease-in;-o-transition:.2s ease-in}label.toggle-chartortable[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:not(:checked) + .toggle-content[_ngcontent-%COMP%]   .table-view[_ngcontent-%COMP%]{color:#343a40}label.toggle-chartortable[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}label.toggle-chartortable[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .toggle-content[_ngcontent-%COMP%]   .chart-view[_ngcontent-%COMP%]{color:#343a40}.input-group.input-group-threshold[_ngcontent-%COMP%]{max-width:200px}.input-group.input-group-threshold[_ngcontent-%COMP%]   .input-group-prepend[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border:1px solid #dc3545;border-right:none;color:#343a40;background:0 0;border-radius:30px 0 0 30px;height:30px;background:var(--color-dark-hover);padding-right:0}.input-group.input-group-threshold[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:2px;border:1px solid #dc3545;border-left:none;height:30px;color:#fff;background:var(--color-dark-hover)}.input-group.input-group-threshold[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;border-radius:0 30px 30px 0;height:30px}.highlightlink[_ngcontent-%COMP%]{color:#3d8bfd}']],data:{}});function V(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,13,"div",[["class","card-header d-flex align-items-center bg-transparent p-0 border-0"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,5,"div",[["class","flex-fill"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,1,"h6",[["class","m-0 text-italic"]],null,null,null,null,null)),(t()(),n.Sb(3,null,[" "," (No. of Blocks)"])),(t()(),n.Bb(4,0,null,null,2,"p",[["class","m-0"]],null,null,null,null,null)),(t()(),n.Bb(5,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),n.Sb(6,null,["Category Wise "," Distribution"])),(t()(),n.Bb(7,0,null,null,6,"label",[["class","toggle-chartortable"]],null,null,null,null,null)),(t()(),n.Bb(8,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(t()(),n.Bb(9,0,null,null,4,"div",[["class","toggle-content"]],null,null,null,null,null)),(t()(),n.Bb(10,0,null,null,1,"span",[["class","chart-view"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick1()&&n),n},null,null)),(t()(),n.Bb(11,0,null,null,0,"i",[["class","fas fa-table"]],null,null,null,null,null)),(t()(),n.Bb(12,0,null,null,1,"span",[["class","table-view"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick1()&&n),n},null,null)),(t()(),n.Bb(13,0,null,null,0,"i",[["class","fas fa-chart-bar"]],null,null,null,null,null))],null,function(t,l){var e=l.component;t(l,3,0,e.capitalize(e.heading)),t(l,6,0,e.capitalize(e.componentName))})}function j(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-chart-rf",[],null,null,null,m,p)),n.Ab(2,638976,null,0,d,[],{chartConfig2:[0,"chartConfig2"],id:[1,"id"],chartData2:[2,"chartData2"]},null)],function(t,l){var e=l.component;t(l,2,0,e.chartConstant["chartObject"+e.utils.formatNames(e.component)],"chart3",e.chartData)},null)}function W(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-chart-rf",[],null,null,null,m,p)),n.Ab(2,638976,null,0,d,[],{chartConfig2:[0,"chartConfig2"],id:[1,"id"],chartData2:[2,"chartData2"]},null)],function(t,l){var e=l.component;t(l,2,0,e.chartConstant.chartObjectRainfallWeekly,"chart3",e.chartData)},null)}function Y(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Sb(1,null,["",""]))],null,function(t,l){t(l,1,0,l.parent.context.$implicit)})}function $(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Sb(1,null,["",""]))],null,function(t,l){t(l,1,0,l.parent.context.$implicit)})}function z(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Sb(1,null,["",""]))],null,function(t,l){t(l,1,0,l.component.convertTimestampToBlockValue(l.parent.context.$implicit))})}function G(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,6,"th",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Y)),n.Ab(2,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,$)),n.Ab(4,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,z)),n.Ab(6,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){t(l,2,0,0==l.context.index),t(l,4,0,0!=l.context.index&&"24hr"==l.context.$implicit),t(l,6,0,0!=l.context.index&&"24hr"!=l.context.$implicit)},null)}function q(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"div",[["class","dot"]],null,null,null,null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null)],function(t,l){t(l,1,0,l.component.getColor(l.parent.parent.context.$implicit[l.parent.context.$implicit]))},null)}function X(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,7,"td",[],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,6,"div",[],null,null,null,null,null)),n.Ab(2,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{ngClass:[0,"ngClass"]},null),n.Nb(3,{"dot-container":0}),(t()(),n.sb(16777216,null,null,1,null,q)),n.Ab(5,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(6,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),n.Sb(7,null,["",""]))],function(t,l){var e=t(l,3,0,0==l.context.index);t(l,2,0,e),t(l,5,0,0==l.context.index)},function(t,l){t(l,7,0,l.parent.context.$implicit[l.context.$implicit])})}function K(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,X)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.displayedColumns2)},null)}function Z(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"div",[["class","table-responsive assasasas"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,7,"table",[["class","table table-bordered table-striped m-0"],["id","gis-table"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,3,"thead",[],null,null,null,null,null)),(t()(),n.Bb(3,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,G)),n.Ab(5,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null),(t()(),n.Bb(6,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,K)),n.Ab(8,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){var e=l.component;t(l,5,0,e.displayedColumns2),t(l,8,0,e.dataSource2)},null)}function Q(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,5,"div",[["class","col-lg-6 mb-lg-3"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,4,"div",[["class","map-grid"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.enableMapInteractionOnClickTopLeft()&&n),n},null,null)),(t()(),n.Bb(3,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Light Rainfall (>2.5 mm)"])),(t()(),n.Bb(5,0,null,null,1,"app-gis-mini-map",[["class","d-block chart-rainfall"]],null,null,null,x,L)),n.Ab(6,4964352,null,0,_,[k.a,C.a,M.a,n.v,D.a,k.p,f.a,v.a,y.a],{mapId:[0,"mapId"],layerList:[1,"layerList"],otherOptions:[2,"otherOptions"],enableMapInteraction:[3,"enableMapInteraction"]},null),(t()(),n.Bb(7,0,null,null,5,"div",[["class","col-lg-6 mb-lg-3"]],null,null,null,null,null)),(t()(),n.Bb(8,0,null,null,4,"div",[["class","map-grid"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.enableMapInteractionOnClickTopRight()&&n),n},null,null)),(t()(),n.Bb(9,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Moderate Rainfall (>15.6 mm)"])),(t()(),n.Bb(11,0,null,null,1,"app-gis-mini-map",[["class","d-block chart-rainfall"]],null,null,null,x,L)),n.Ab(12,4964352,null,0,_,[k.a,C.a,M.a,n.v,D.a,k.p,f.a,v.a,y.a],{mapId:[0,"mapId"],layerList:[1,"layerList"],otherOptions:[2,"otherOptions"],enableMapInteraction:[3,"enableMapInteraction"]},null),(t()(),n.Bb(13,0,null,null,5,"div",[["class","col-lg-6 mb-lg-3"]],null,null,null,null,null)),(t()(),n.Bb(14,0,null,null,4,"div",[["class","map-grid"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.enableMapInteractionOnClickBottomLeft()&&n),n},null,null)),(t()(),n.Bb(15,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Heavy Rainfall (>64.5 mm)"])),(t()(),n.Bb(17,0,null,null,1,"app-gis-mini-map",[["class","d-block chart-rainfall"]],null,null,null,x,L)),n.Ab(18,4964352,null,0,_,[k.a,C.a,M.a,n.v,D.a,k.p,f.a,v.a,y.a],{mapId:[0,"mapId"],layerList:[1,"layerList"],otherOptions:[2,"otherOptions"],enableMapInteraction:[3,"enableMapInteraction"]},null),(t()(),n.Bb(19,0,null,null,5,"div",[["class","col-lg-6 mb-lg-3"]],null,null,null,null,null)),(t()(),n.Bb(20,0,null,null,4,"div",[["class","map-grid"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.enableMapInteractionOnClickBottomRight()&&n),n},null,null)),(t()(),n.Bb(21,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Very Heavy Rainfall (>115.6 mm)"])),(t()(),n.Bb(23,0,null,null,1,"app-gis-mini-map",[["class","d-block chart-rainfall"]],null,null,null,x,L)),n.Ab(24,4964352,null,0,_,[k.a,C.a,M.a,n.v,D.a,k.p,f.a,v.a,y.a],{mapId:[0,"mapId"],layerList:[1,"layerList"],otherOptions:[2,"otherOptions"],enableMapInteraction:[3,"enableMapInteraction"]},null)],function(t,l){var e=l.component;t(l,6,0,"ensmblMap2.5",e.layerList,e.otherOptions,e.enableMapInteractionObject[2.5]),t(l,12,0,"ensmblMap15.6",e.layerList,e.otherOptions,e.enableMapInteractionObject[15.6]),t(l,18,0,"ensmblMap64.5",e.layerList,e.otherOptions,e.enableMapInteractionObject[64.5]),t(l,24,0,"ensmblMap115.6",e.layerList,e.otherOptions,e.enableMapInteractionObject[115.6])},null)}function J(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"div",[["class","card map-grid mb-3"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-chart-rf",[],null,null,null,m,p)),n.Ab(2,638976,null,0,d,[],{chartConfig2:[0,"chartConfig2"],id:[1,"id"],chartData2:[2,"chartData2"],ensmblData:[3,"ensmblData"],plotBandData:[4,"plotBandData"],currentPlayPosition:[5,"currentPlayPosition"]},null)],function(t,l){var e=l.component;t(l,2,0,e.chartConstant["chartObject"+e.utils.formatNames(e.component)+"EnsembleChart1"],"chart11",e.chartData1,!0,e.chartConstant.PlotBandsForChart1,e.currentPlayPosition)},null)}function tt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"div",[["class","card map-grid mb-3"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-chart-rf",[],null,null,null,m,p)),n.Ab(2,638976,null,0,d,[],{chartConfig2:[0,"chartConfig2"],id:[1,"id"],chartData2:[2,"chartData2"],ensmblData:[3,"ensmblData"],plotBandData:[4,"plotBandData"],currentPlayPosition:[5,"currentPlayPosition"]},null)],function(t,l){var e=l.component;t(l,2,0,e.chartConstant["chartObject"+e.utils.formatNames(e.component)+"EnsembleChart2"],"chart12",e.chartData1,!0,e.chartConstant.PlotBandsForChart2,e.currentPlayPosition)},null)}function lt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"nav",[["class","nav nav-pills nav-pills-warning cursor-pointer"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,3,"a",[["class","nav-link active"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick(1)&&n),n},null,null)),n.Ab(2,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(3,{active:0}),(t()(),n.Sb(-1,null,["District View"])),(t()(),n.Bb(5,0,null,null,3,"a",[["class","nav-link"]],[[8,"hidden",0]],[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick(2)&&n),n},null,null)),n.Ab(6,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(7,{active:0}),(t()(),n.Sb(-1,null,["Block View"]))],function(t,l){var e=l.component,n=t(l,3,0,1==e.show);t(l,2,0,"nav-link active",n);var a=t(l,7,0,2==e.show);t(l,6,0,"nav-link",a)},function(t,l){t(l,5,0,l.component.accEnabled)})}function et(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"nav",[["class","nav nav-pills nav-pills-warning cursor-pointer"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,3,"a",[["class","nav-link active"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick(1)&&n),n},null,null)),n.Ab(2,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(3,{active:0}),(t()(),n.Sb(-1,null,["Basin View"])),(t()(),n.Bb(5,0,null,null,3,"a",[["class","nav-link"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.onButtonClick(2)&&n),n},null,null)),n.Ab(6,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(7,{active:0}),(t()(),n.Sb(-1,null,["Sub Basin View"]))],function(t,l){var e=l.component,n=t(l,3,0,1==e.show);t(l,2,0,"nav-link active",n);var a=t(l,7,0,2==e.show);t(l,6,0,"nav-link",a)},null)}function nt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"p",[["class"," text-italic"]],null,null,null,null,null)),(t()(),n.Sb(1,null,[" ","\xa0"," "]))],null,function(t,l){var e=l.component;t(l,1,0,e.capitalize(e.componentName),e.getUnits())})}function at(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[["class",""]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.zoomToDistrict("District")&&n),n},null,null)),(t()(),n.Sb(-1,null,["District : "])),(t()(),n.Bb(2,0,null,null,1,"span",[["class","highlightlink"]],null,null,null,null,null)),(t()(),n.Sb(3,null,["",""]))],null,function(t,l){t(l,3,0,l.component.selectedDistrict)})}function it(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=0!=(a.accEnabled=!a.accEnabled)&&n),n},null,null)),(t()(),n.Sb(-1,null,["Accuracy"]))],null,null)}function ot(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=0!=(a.accEnabled=!a.accEnabled)&&n),n},null,null)),(t()(),n.Sb(-1,null,["Default"]))],null,null)}function rt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,4,"span",[["class","highlightlink"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,it)),n.Ab(2,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,ot)),n.Ab(4,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,2,0,!e.accEnabled),t(l,4,0,e.accEnabled)},null)}function st(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,11,"div",[["class","geo d-flex align-items-center"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,8,"div",[["class","flex-fill"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,nt)),n.Ab(3,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(4,0,null,null,3,"span",[["class","mr-3"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.changeToDistrictView()&&n),n},null,null)),(t()(),n.Sb(-1,null,["State : "])),(t()(),n.Bb(6,0,null,null,1,"span",[["class","highlightlink"]],null,null,null,null,null)),(t()(),n.Sb(7,null,["",""])),(t()(),n.sb(16777216,null,null,1,null,at)),n.Ab(9,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,rt)),n.Ab(11,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,3,0,"RAINFALL"!==e.componentName),t(l,9,0,e.districtWise&&1==e.show),t(l,11,0,"RAINFALL"==e.componentName)},function(t,l){var e=l.component;t(l,7,0,e.capitalize(e.stateName))})}function ut(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"a",[["class","btn"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.zoomToBasin("Basin")&&n),n},null,null)),(t()(),n.Sb(1,null,["Sub Basin : ",""]))],null,function(t,l){t(l,1,0,l.component.selectedSubBasin)})}function ct(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,7,"div",[["class","geo d-flex align-items-center"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,2,"div",[["class","flex-fill"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,1,"p",[["class"," text-italic"]],null,null,null,null,null)),(t()(),n.Sb(3,null,["","\xa0"," "])),(t()(),n.Bb(4,0,null,null,1,"a",[["class","btn"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.changeToDistrictView()&&n),n},null,null)),(t()(),n.Sb(-1,null,["Basin : BASIN"])),(t()(),n.sb(16777216,null,null,1,null,ut)),n.Ab(7,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,7,0,e.districtWise&&1==e.show)},function(t,l){var e=l.component;t(l,3,0,e.capitalize(e.componentName),e.getUnits())})}function ht(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,12,null,null,null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,1,"label",[["class","col-sm-5 col-form-label "]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Date"])),(t()(),n.Bb(4,0,null,null,6,"div",[["class","col-sm-5"]],null,null,null,null,null)),(t()(),n.Bb(5,0,null,null,5,"datepicker",[["name","from"],["placeHolder","Select date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"fromChange"],[null,"validationChange"],[null,"calendarFormatChange"],[null,"maxDateChange"],["document","click"]],function(t,l,e){var a=!0,i=t.component;return"document:click"===l&&(a=!1!==n.Lb(t,6).onClick(e)&&a),"ngModelChange"===l&&(a=!1!==(i.selectedDate.value=e)&&a),"fromChange"===l&&(a=!1!==(i.selectedDate.value=e)&&a),"validationChange"===l&&(a=!1!==(i.validation=e)&&a),"calendarFormatChange"===l&&(a=!1!==(i.format.value=e)&&a),"maxDateChange"===l&&(a=!1!==(i.maxDate=e)&&a),a},O.b,O.a)),n.Ab(6,638976,null,0,F.a,[n.n,T.a],{name:[0,"name"],maxDate:[1,"maxDate"],calendarFormat:[2,"calendarFormat"],placeHolder:[3,"placeHolder"],validation:[4,"validation"],from:[5,"from"]},null),n.Pb(1024,null,B.o,function(t){return[t]},[F.a]),n.Ab(8,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n.Pb(2048,null,B.p,null,[B.t]),n.Ab(10,16384,null,0,B.q,[[4,B.p]],null,null),(t()(),n.Bb(11,0,null,null,1,"button",[["class","col-sm-2 float-right btn btn-success"],["style","margin-top: -2px;"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.accuracyrowclicked()&&n),n},null,null)),(t()(),n.Sb(-1,null,["Go"]))],function(t,l){var e=l.component;t(l,6,0,"from",e.maxDate,e.format.value,"Select date",e.validation,e.selectedDate.value),t(l,8,0,"from",e.selectedDate.value)},function(t,l){t(l,5,0,n.Lb(l,10).ngClassUntouched,n.Lb(l,10).ngClassTouched,n.Lb(l,10).ngClassPristine,n.Lb(l,10).ngClassDirty,n.Lb(l,10).ngClassValid,n.Lb(l,10).ngClassInvalid,n.Lb(l,10).ngClassPending)})}function dt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,[""," "]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.parent.context.$implicit.val)})}function pt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.parent.context.$implicit.val)})}function mt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.component.convertTimestampToBlockValue(l.parent.context.$implicit.val))})}function bt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"th",[],[[1,"rowspan",0],[1,"colspan",0]],null,null,null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.sb(16777216,null,null,1,null,dt)),n.Ab(4,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,pt)),n.Ab(6,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,mt)),n.Ab(8,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=null!=l.context.$implicit.backgroundColor?t(l,2,0,l.context.$implicit.backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,"24hr"==l.context.$implicit.val),t(l,6,0,"District"==l.context.$implicit.val||"Mandal"==l.context.$implicit.val||"Basin"==l.context.$implicit.val||"Sub Basin"==l.context.$implicit.val),t(l,8,0,"District"!=l.context.$implicit.val&&"Mandal"!=l.context.$implicit.val&&"Basin"!=l.context.$implicit.val&&"Sub Basin"!=l.context.$implicit.val&&"24hr"!=l.context.$implicit.val)},function(t,l){t(l,0,0,l.context.$implicit.rowspan,l.context.$implicit.colspan)})}function gt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,bt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.context.$implicit)},null)}function ft(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,5,"td",[["name","tcell"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==(0==t.context.index&&t.component.getMandalDataForDistrict(t.parent.context.index,t.context.$implicit.val,t.parent.context.$implicit.uuid))&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.Bb(3,0,null,null,2,"span",[],null,null,null,null,null)),n.Ab(4,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{ngClass:[0,"ngClass"]},null),(t()(),n.Sb(5,null,["",""]))],function(t,l){var e=null!=l.parent.context.$implicit[l.context.$implicit.val].backgroundColor?t(l,2,0,l.parent.context.$implicit[l.context.$implicit.val].backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,0==l.context.index?"high-light":"")},function(t,l){t(l,5,0,l.parent.context.$implicit[l.context.$implicit.val].val)})}function yt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,ft)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.headerColumns)},null)}function vt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,yt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.dataSource)},null)}function St(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,4,"td",[["name","tcell"]],null,null,null,null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.Bb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),n.Sb(4,null,["",""]))],function(t,l){var e=null!=l.parent.context.$implicit[l.context.$implicit.val].backgroundColor?t(l,2,0,l.parent.context.$implicit[l.context.$implicit.val].backgroundColor):n.ob;t(l,1,0,e)},function(t,l){t(l,4,0,l.parent.context.$implicit[l.context.$implicit.val].val)})}function Dt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,St)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.headerColumns)},null)}function Mt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Dt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.dataSource)},null)}function Ct(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,7,"table",[["class","table  table-sm table-bordered m-0 table-striped"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,2,"thead",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,gt)),n.Ab(3,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null),(t()(),n.sb(16777216,null,null,1,null,vt)),n.Ab(5,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Mt)),n.Ab(7,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,3,0,e.displayedColumns),t(l,5,0,e.adminSelected),t(l,7,0,!e.adminSelected)},null)}function At(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource3,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.component.validate(l.parent.context.$implicit.val))})}function Nt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource3,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.component.validate(l.parent.context.$implicit.val))})}function _t(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource3,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.component.convertTimestampToBlockValue(l.parent.context.$implicit.val))})}function kt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"th",[],[[1,"rowspan",0],[1,"colspan",0]],null,null,null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.sb(16777216,null,null,1,null,At)),n.Ab(4,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Nt)),n.Ab(6,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,_t)),n.Ab(8,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=null!=l.context.$implicit.backgroundColor?t(l,2,0,l.context.$implicit.backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,"District"==l.context.$implicit.val||"Mandal"==l.context.$implicit.val||"Basin"==l.context.$implicit.val||"Sub Basin"==l.context.$implicit.val),t(l,6,0,"24hr"==l.context.$implicit.val),t(l,8,0,"District"!=l.context.$implicit.val&&"Mandal"!=l.context.$implicit.val&&"Basin"!=l.context.$implicit.val&&"Sub Basin"!=l.context.$implicit.val&&"24hr"!=l.context.$implicit.val)},function(t,l){t(l,0,0,l.context.$implicit.rowspan,l.context.$implicit.colspan)})}function Lt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,kt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.context.$implicit)},null)}function xt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,5,"td",[["name","tcell"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==(0==t.context.index&&t.component.zoomToMandal(t.parent.context.index,t.context.$implicit.val))&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.Bb(3,0,null,null,2,"span",[],null,null,null,null,null)),n.Ab(4,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{ngClass:[0,"ngClass"]},null),(t()(),n.Sb(5,null,["",""]))],function(t,l){var e=null!=l.parent.context.$implicit[l.context.$implicit.val].backgroundColor?t(l,2,0,l.parent.context.$implicit[l.context.$implicit.val].backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,0==l.context.index?"high-light":"")},function(t,l){t(l,5,0,l.parent.context.$implicit[l.context.$implicit.val].val)})}function Ot(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,xt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.headerColumns3)},null)}function Ft(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,6,"table",[["class","table  table-sm table-bordered m-0 table-striped"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,2,"thead",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Lt)),n.Ab(3,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null),(t()(),n.Bb(4,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Ot)),n.Ab(6,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){var e=l.component;t(l,3,0,e.displayedColumns4),t(l,6,0,e.dataSource3)},null)}function Tt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource1,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.parent.context.$implicit.val)})}function Bt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource1,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.parent.context.$implicit.val)})}function It(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,3,"span",[],null,[[null,"click"]],function(t,l,e){var n=!0,a=t.component;return"click"===l&&(n=!1!==a.sortAscDes(a.dataSource1,t.parent.context.$implicit.sortedHeaderVal)&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{cursor:0}),(t()(),n.Sb(3,null,["",""]))],function(t,l){var e=t(l,2,0,"pointer");t(l,1,0,e)},function(t,l){t(l,3,0,l.component.convertTimestampToBlockValue(l.parent.context.$implicit.val))})}function wt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,8,"th",[],[[1,"rowspan",0],[1,"colspan",0]],null,null,null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.sb(16777216,null,null,1,null,Tt)),n.Ab(4,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Bt)),n.Ab(6,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,It)),n.Ab(8,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=null!=l.context.$implicit.backgroundColor?t(l,2,0,l.context.$implicit.backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,"District"==l.context.$implicit.val||"Mandal"==l.context.$implicit.val||"Basin"==l.context.$implicit.val||"Sub Basin"==l.context.$implicit.val),t(l,6,0,"24hr"==l.context.$implicit.val),t(l,8,0,"District"!=l.context.$implicit.val&&"Mandal"!=l.context.$implicit.val&&"Basin"!=l.context.$implicit.val&&"Sub Basin"!=l.context.$implicit.val&&"24hr"!=l.context.$implicit.val)},function(t,l){t(l,0,0,l.context.$implicit.rowspan,l.context.$implicit.colspan)})}function Et(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,wt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.context.$implicit)},null)}function Pt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,5,"td",[["name","tcell"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==(0==t.context.index&&t.component.zoomToMandals(t.parent.context.index,t.context.$implicit.val))&&n),n},null,null)),n.Ab(1,278528,null,0,b.t,[n.y,n.n,n.N],{ngStyle:[0,"ngStyle"]},null),n.Nb(2,{backgroundColor:0}),(t()(),n.Bb(3,0,null,null,2,"span",[],null,null,null,null,null)),n.Ab(4,278528,null,0,b.n,[n.x,n.y,n.n,n.N],{ngClass:[0,"ngClass"]},null),(t()(),n.Sb(5,null,["",""]))],function(t,l){var e=null!=l.parent.context.$implicit[l.context.$implicit.val].backgroundColor?t(l,2,0,l.parent.context.$implicit[l.context.$implicit.val].backgroundColor):n.ob;t(l,1,0,e),t(l,4,0,0==l.context.index?"high-light":"")},function(t,l){t(l,5,0,l.parent.context.$implicit[l.context.$implicit.val].val)})}function Ut(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Pt)),n.Ab(2,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){t(l,2,0,l.component.headerColumns1)},null)}function Rt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,6,"table",[["class","table table-sm table-bordered m-0 table-striped"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,2,"thead",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Et)),n.Ab(3,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null),(t()(),n.Bb(4,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,Ut)),n.Ab(6,278528,null,0,b.p,[n.Y,n.V,n.x],{ngForOf:[0,"ngForOf"]},null)],function(t,l){var e=l.component;t(l,3,0,e.displayedColumns1),t(l,6,0,e.dataSource1)},null)}function Ht(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,68,"div",[["class","card card-data-infobox"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,9,"div",[["class","card-header border-0 bg-transparent d-flex align-items-center"]],null,null,null,null,null)),(t()(),n.Bb(2,0,null,null,1,"h6",[["class","flex-fill m-0"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["Weather Forecast"])),(t()(),n.Bb(4,0,null,null,6,"div",[["class","header-end"]],null,null,null,null,null)),(t()(),n.Bb(5,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),n.Bb(6,0,null,null,0,"i",[["class","icon tnw-access-time"]],null,null,null,null,null)),(t()(),n.Bb(7,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),n.Sb(8,null,["",""])),(t()(),n.Bb(9,0,null,null,1,"button",[["class","btn icon-only"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.closePanel()&&n),n},null,null)),(t()(),n.Bb(10,0,null,null,0,"i",[["class","icon tnw-close"]],null,null,null,null,null)),(t()(),n.Bb(11,0,null,null,57,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),n.Bb(12,0,null,null,9,"div",[["class","card mb-3"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,V)),n.Ab(14,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(15,0,null,null,6,"div",[["class","card-body p-0 pt-2"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,j)),n.Ab(17,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,W)),n.Ab(19,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Z)),n.Ab(21,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Q)),n.Ab(23,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,J)),n.Ab(25,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,tt)),n.Ab(27,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(28,0,null,null,1,"spinner",[["id","chartThrobber"]],null,null,null,I.b,I.a)),n.Ab(29,638976,null,0,w.a,[E.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),n.Bb(30,0,null,null,23,"div",[["class","d-flex align-items-center tabs-input mb-3"]],null,null,null,null,null)),(t()(),n.Bb(31,0,null,null,4,"div",[["class","flex-fill start"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,lt)),n.Ab(33,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,et)),n.Ab(35,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(36,0,null,null,17,"div",[["class","end"]],null,null,null,null,null)),(t()(),n.Bb(37,0,null,null,16,"div",[["class","input-group input-group-threshold align-self-end"]],null,null,null,null,null)),(t()(),n.Bb(38,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),n.Bb(39,0,null,null,1,"span",[["class","input-group-text"],["id","basic-addon1"]],null,null,null,null,null)),(t()(),n.Sb(-1,null,[">"])),(t()(),n.Bb(41,0,null,null,6,"input",[["class","form-control text-dark"],["placeholder","Threshold"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,l,e){var a=!0,i=t.component;return"input"===l&&(a=!1!==n.Lb(t,42)._handleInput(e.target.value)&&a),"blur"===l&&(a=!1!==n.Lb(t,42).onTouched()&&a),"compositionstart"===l&&(a=!1!==n.Lb(t,42)._compositionStart()&&a),"compositionend"===l&&(a=!1!==n.Lb(t,42)._compositionEnd(e.target.value)&&a),"change"===l&&(a=!1!==n.Lb(t,43).onChange(e.target.value)&&a),"input"===l&&(a=!1!==n.Lb(t,43).onChange(e.target.value)&&a),"blur"===l&&(a=!1!==n.Lb(t,43).onTouched()&&a),"ngModelChange"===l&&(a=!1!==(i.threshold=e)&&a),a},null,null)),n.Ab(42,16384,null,0,B.d,[n.N,n.n,[2,B.a]],null,null),n.Ab(43,16384,null,0,B.B,[n.N,n.n],null,null),n.Pb(1024,null,B.o,function(t,l){return[t,l]},[B.d,B.B]),n.Ab(45,671744,null,0,B.t,[[8,null],[8,null],[8,null],[6,B.o]],{model:[0,"model"]},{update:"ngModelChange"}),n.Pb(2048,null,B.p,null,[B.t]),n.Ab(47,16384,null,0,B.q,[[4,B.p]],null,null),(t()(),n.Bb(48,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),n.Bb(49,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.updateThreshold()&&n),n},null,null)),(t()(),n.Bb(50,0,null,null,0,"i",[["class","fas fa-search"]],null,null,null,null,null)),(t()(),n.Bb(51,0,null,null,2,"div",[["style","padding-left: 2px;"]],null,null,null,null,null)),(t()(),n.Bb(52,0,null,null,1,"button",[["class","btn btn-danger"],["style","border-radius: 50%; width: 30px; padding: unset;"],["title","Reset"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.resetThreshold()&&n),n},null,null)),(t()(),n.Bb(53,0,null,null,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,st)),n.Ab(55,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,ct)),n.Ab(57,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,ht)),n.Ab(59,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(60,0,null,null,8,"div",[["class","table-responsive mt-2 max-table-height"]],null,null,null,null,null)),(t()(),n.Bb(61,0,null,null,1,"spinner",[["id","tableThrobberDistrict"]],null,null,null,I.b,I.a)),n.Ab(62,638976,null,0,w.a,[E.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),n.sb(16777216,null,null,1,null,Ct)),n.Ab(64,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Ft)),n.Ab(66,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Rt)),n.Ab(68,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,14,0,e.adminSelected),t(l,17,0,e.showChart&&e.adminSelected&&"weekly"!=e.currentForecastLength),t(l,19,0,e.showChart&&e.adminSelected&&"weekly"==e.currentForecastLength),t(l,21,0,!e.showChart),t(l,23,0,("ensemble"===e.detEnsmbl||"weekly"==e.currentForecastLength)&&"rainfall"===e.selectedComponent),t(l,25,0,"ensemble"===e.detEnsmbl&&e.adminSelected),t(l,27,0,"ensemble"===e.detEnsmbl&&e.adminSelected),t(l,29,0,"chartThrobber",e.chartThrobber),t(l,33,0,e.adminSelected),t(l,35,0,!e.adminSelected),t(l,45,0,e.threshold),t(l,55,0,e.adminSelected),t(l,57,0,!e.adminSelected),t(l,59,0,e.accEnabled),t(l,62,0,"tableThrobberDistrict",e.tableThrobberDistrict&&1==e.show||e.tableThrobberMandal&&2==e.show),t(l,64,0,1==e.show&&!e.districtWise),t(l,66,0,1==e.show&&e.districtWise),t(l,68,0,2==e.show)},function(t,l){var e=l.component;t(l,8,0,e.validForecastFile(e.forecastFile)),t(l,41,0,n.Lb(l,47).ngClassUntouched,n.Lb(l,47).ngClassTouched,n.Lb(l,47).ngClassPristine,n.Lb(l,47).ngClassDirty,n.Lb(l,47).ngClassValid,n.Lb(l,47).ngClassInvalid,n.Lb(l,47).ngClassPending)})}var Vt=e("dy44");e.d(l,"a",function(){return Gt});var jt=n.zb({encapsulation:0,styles:[[""]],data:{}});function Wt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-rightside-panel",[],null,[[null,"accuracymandalclicked"],[null,"accuracytableclicked"],[null,"districtSelected"]],function(t,l,e){var n=!0,a=t.component;return"accuracymandalclicked"===l&&(n=!1!==a.accuracymandalclicked(e)&&n),"accuracytableclicked"===l&&(n=!1!==a.accuracytableclicked(e)&&n),"districtSelected"===l&&(n=!1!==a.getMandalDataForDistrict(e)&&n),n},Ht,H)),n.Ab(2,770048,null,0,R,[U.a,k.p,k.a,C.a,P.a,T.a],{tableDataa:[0,"tableDataa"],tableDataMandal:[1,"tableDataMandal"],tableDataVillage:[2,"tableDataVillage"],chartData:[3,"chartData"],formattedChartData:[4,"formattedChartData"],mandalDataForDistrict:[5,"mandalDataForDistrict"],component:[6,"component"],blocksArray:[7,"blocksArray"],forecastFile:[8,"forecastFile"],acctabledata:[9,"acctabledata"],maxDate:[10,"maxDate"],chartData1:[11,"chartData1"]},{districtSelected:"districtSelected",accuracytableclicked:"accuracytableclicked",accuracymandalclicked:"accuracymandalclicked"})],function(t,l){var e=l.component;t(l,2,1,[e.tableData,e.tableDataMandal,e.tableDataVillage,e.chartData,e.formattedChartData,e.mandalDataForDistrict,e.component,e.blocksArray,e.forecastFile,e.acctabledata,e.maxDate,e.chartData1])},null)}function Yt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function $t(t){return n.Ub(0,[(t()(),n.sb(16777216,null,null,1,null,Wt)),n.Ab(1,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.sb(16777216,null,null,1,null,Yt)),n.Ab(3,16384,null,0,b.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null)],function(t,l){var e=l.component;t(l,1,0,"ECMWF"==e.sourceSelected||"IMD"==e.sourceSelected),t(l,3,0,"NOWCAST"==e.sourceSelected)},null)}function zt(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"app-rainfall-table-data",[],null,null,null,$t,jt)),n.Ab(1,245760,null,0,Vt.a,[D.a,C.a,k.a,f.a,y.a,T.a],null,null)],function(t,l){t(l,1,0)},null)}var Gt=n.xb("app-rainfall-table-data",Vt.a,zt,{},{},[])},"AGa/":function(t,l,e){"use strict";var n=e("CcnG"),a=e("imx3"),i=e("6Ynu"),o=e("ZYCi"),r=e("6QN/"),s=e("x0dF"),u=e("XRV1"),c=e("QqAL"),h=e("jmvC"),d=e("SZbH"),p=e("q4vc"),m=e("4GxJ"),b=e("t/Na"),g=e("wJPv"),f=e("0gkA"),y=e("cDaN"),v=e("Gy67"),S=e("b67C"),D=e("zKbe"),M=e("Io2v"),C=e("62rn"),A=e("gM3f"),N=e("m1qP"),_=e("VvG+"),k=e("Ip0R"),L=e("+EyX"),x=e("HF1C"),O=e("TUlx"),F=e("csY2"),T=e("iJXZ"),B=e("dFIS"),I=e("zH92");e("XcXv"),e("QDzO"),e("LUGh"),e("JvN/"),e.d(l,"a",function(){return w}),e.d(l,"b",function(){return R});var w=n.zb({encapsulation:0,styles:[[""]],data:{}});function E(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"div",[["class","map-title"]],null,null,null,null,null)),(t()(),n.Sb(1,null,[" "," "]))],null,function(t,l){t(l,1,0,l.component.title)})}function P(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"app-play-progress-bar",[],null,[[null,"groupSelected"]],function(t,l,e){var n=!0;return"groupSelected"===l&&(n=!1!==t.component.changeTimeLayers(e)&&n),n},a.b,a.a)),n.Ab(1,770048,null,0,i.a,[o.a,r.a,o.p],{playButtonDisable:[0,"playButtonDisable"],labelStrings:[1,"labelStrings"]},{groupSelected:"groupSelected"})],function(t,l){var e=l.component;t(l,1,0,e.playButtonDisable,e.labelStrings)},null)}function U(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function R(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,48,"div",[["class","vh-100 d-flex flex-column bg-light"],["id","MapContainer"]],null,null,null,null,null)),(t()(),n.Bb(1,0,null,null,1,"app-tnw-navbar",[],null,[[null,"sidebarstatus"]],function(t,l,e){var n=!0;return"sidebarstatus"===l&&(n=!1!==t.component.getsideBarStatus(e)&&n),n},s.b,s.a)),n.Ab(2,114688,null,0,u.a,[c.a,h.a,d.j,o.p,p.a,m.C,b.c],null,{sidebarstatus:"sidebarstatus"}),(t()(),n.Bb(3,0,null,null,45,"div",[["class","tn-main-container"]],null,null,null,null,null)),(t()(),n.Bb(4,0,null,null,1,"app-side-bar",[["class","app-sidebar"]],null,null,null,g.b,g.a)),n.Ab(5,4964352,null,0,f.a,[y.a,v.a,o.p,S.a,o.a,p.a,D.a,p.a,m.C,h.a,c.a,d.j,M.a,m.C,r.a,C.a,A.a,N.a,_.a],{sidebarstate:[0,"sidebarstate"],mapobj:[1,"mapobj"],layersList:[2,"layersList"],sidebarComponent:[3,"sidebarComponent"]},null),(t()(),n.Bb(6,0,null,null,42,"main",[["class","container-fluid p-0"],["id","MapContainer"]],null,null,null,null,null)),n.Ab(7,278528,null,0,k.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),n.Bb(8,0,null,null,17,"div",[["class","container-fluid page-header-container-fluid"]],null,null,null,null,null)),(t()(),n.Bb(9,0,null,null,16,"div",[["class","page-header mb-0"]],null,null,null,null,null)),(t()(),n.Bb(10,0,null,null,9,"div",[["class","page-header-start"]],null,null,null,null,null)),(t()(),n.Bb(11,0,null,null,4,"div",[["class","page-title"]],null,null,null,null,null)),(t()(),n.Bb(12,0,null,null,2,"span",[["class","icon"]],null,null,null,null,null)),(t()(),n.Bb(13,0,null,null,1,"i",[],null,null,null,null,null)),n.Ab(14,278528,null,0,k.n,[n.x,n.y,n.n,n.N],{ngClass:[0,"ngClass"]},null),(t()(),n.Sb(15,null,[" \xa0",""])),(t()(),n.Bb(16,0,null,null,1,"button",[["class","btn btn-warning d-lg-none"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.toggleNewSidebarFilterStatus()&&n),n},null,null)),(t()(),n.Bb(17,0,null,null,0,"i",[["class","bi bi-funnel-fill"]],null,null,null,null,null)),(t()(),n.sb(16777216,null,null,1,null,E)),n.Ab(19,16384,null,0,k.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(20,0,null,null,5,"div",[["class","page-header-end"]],null,null,null,null,null)),(t()(),n.Bb(21,0,null,null,4,"div",[["class","btn-group btn-group-warning "]],null,null,null,null,null)),(t()(),n.Bb(22,0,null,null,1,"button",[["class","btn active "]],null,null,null,null,null)),(t()(),n.Sb(-1,null,["GIS"])),(t()(),n.Bb(24,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.goToMISView()&&n),n},null,null)),(t()(),n.Sb(-1,null,["MIS"])),(t()(),n.Bb(26,0,null,null,22,"as-split",[["gutterSize","10"],["unit","pixel"]],null,[[null,"dragEnd"]],function(t,l,e){var n=!0;return"dragEnd"===l&&(n=!1!==t.component.revalidateMap()&&n),n},L.b,L.a)),n.Ab(27,4374528,[["splitEl",4]],0,x.c,[n.F,n.n,n.i,n.N],{unit:[0,"unit"],gutterSize:[1,"gutterSize"]},{dragEnd:"dragEnd"}),(t()(),n.Bb(28,0,null,0,16,"as-split-area",[["minSize","500"],["size","200"]],null,null,null,null,null)),n.Ab(29,212992,null,0,x.b,[n.F,n.n,n.N,x.c],{size:[0,"size"],minSize:[1,"minSize"]},null),(t()(),n.Bb(30,0,null,null,14,"div",[["class","map-container"]],null,null,null,null,null)),(t()(),n.Bb(31,0,null,null,4,"div",[["class","map-view"],["id","map"]],null,null,null,null,null)),(t()(),n.Bb(32,0,null,null,1,"spinner",[["id","showThrobber"]],null,null,null,O.b,O.a)),n.Ab(33,638976,null,0,F.a,[T.d],{id:[0,"id"],show:[1,"show"]},null),(t()(),n.sb(16777216,null,null,1,null,P)),n.Ab(35,16384,null,0,k.q,[n.Y,n.V],{ngIf:[0,"ngIf"]},null),(t()(),n.Bb(36,0,null,null,3,"button",[["class","btn btn-data-toggle"]],[[8,"disabled",0]],[[null,"click"]],function(t,l,e){var n=!0;return"click"===l&&(n=!1!==t.component.dataTabToggle()&&n),n},null,null)),n.Ab(37,278528,null,0,k.n,[n.x,n.y,n.n,n.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Nb(38,{datatabOpen:0}),(t()(),n.Bb(39,0,null,null,0,"i",[["class","bi bi-info-circle-fill"]],null,null,null,null,null)),(t()(),n.Bb(40,0,null,null,1,"app-time-menu",[["class","time-menu-tabs"]],null,null,null,B.b,B.a)),n.Ab(41,638976,null,0,I.a,[r.a,o.p,b.c,o.a],{sourceSelected:[0,"sourceSelected"]},null),(t()(),n.Bb(42,0,null,null,0,"link",[["href","https://d19vzq90twjlae.cloudfront.net/leaflet-0.7/leaflet.css"],["rel","stylesheet"]],null,null,null,null,null)),(t()(),n.Bb(43,0,null,null,1,"div",[["class","map-with-detailstable"]],null,null,null,null,null)),(t()(),n.Bb(44,0,null,null,0,"div",[["class","map-and-control"]],null,null,null,null,null)),(t()(),n.Bb(45,0,null,0,3,"as-split-area",[["class","datatab-container"],["maxSize","800"],["minSize","400"],["size","570"]],null,null,null,null,null)),n.Ab(46,212992,null,0,x.b,[n.F,n.n,n.N,x.c],{size:[0,"size"],minSize:[1,"minSize"],maxSize:[2,"maxSize"],visible:[3,"visible"]},null),(t()(),n.sb(16777216,null,null,1,null,U)),n.Ab(48,671744,null,0,k.o,[n.Y],{ngComponentOutlet:[0,"ngComponentOutlet"]},null)],function(t,l){var e=l.component;t(l,2,0),t(l,5,0,e.sidebarstatus,e.mapobj,e.layersList,e.sidebarComponent),t(l,7,0,"container-fluid p-0",e.getSidebarClassName()),t(l,14,0,e.component?e.componentToIconMapping[e.component]:""),t(l,19,0,!e.dataTabToggleVal),t(l,27,0,"pixel","10"),t(l,29,0,"200","500"),t(l,33,0,"showThrobber",e.showThrobber),t(l,35,0,!e.showBottomBar&&"observedweather"!==e.selectedComponent&&"RAINFALL"==e.component);var n=t(l,38,0,e.dataTabToggleVal);t(l,37,0,"btn btn-data-toggle",n),t(l,41,0,e.sourceSelected),t(l,46,0,"570","400","800",e.dataTabToggleVal),t(l,48,0,e.tableDataComponent)},function(t,l){var e=l.component;t(l,15,0,e.component?e.component:"-"),t(l,36,0,e.isDisabled)})}},MVgp:function(t,l,e){"use strict";e.d(l,"a",function(){return n});var n=function(){return function(){}}()},NhNT:function(t,l,e){"use strict";e.d(l,"a",function(){return d});var n=e("dy44"),a=e("/jRE"),i=(e("osK0"),e("dCFZ")),o=e("zN+X"),r=(e("XqK7"),e("aCLD")),s=(e("6QN/"),e("7Amg")),u=function(){return(u=Object.assign||function(t){for(var l,e=1,n=arguments.length;e<n;e++)for(var a in l=arguments[e])Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);return t}).apply(this,arguments)},c=function(t,l,e,n){return new(e||(e=Promise))(function(a,i){function o(t){try{s(n.next(t))}catch(l){i(l)}}function r(t){try{s(n.throw(t))}catch(l){i(l)}}function s(t){t.done?a(t.value):new e(function(l){l(t.value)}).then(o,r)}s((n=n.apply(t,l||[])).next())})},h=function(t,l){var e,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(t,o)}catch(r){i=[6,r],n=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},d=function(){function t(t,l,e,a,i){this.route=t,this.router=l,this.extremeWeatherDataService=e,this.rainfallService=a,this.utilService=i,this.meanMedian="mean",this.isInit=!0,this.labelStrings=[],this.sidebarComponent=o.a,this.mapDataForAllTs=[],this.tableDataComponent=n.a,this.stateName=s.c.IDTOSTATENAMEMAPPING[this.route.snapshot.paramMap.get("id")]}return t.prototype.ngOnInit=function(){var t=this;this.component="RAINFALL",this.mapData=new Array,this.blocksArray=[],this.utilService.meanMedian.subscribe(function(l){t.isInit||l==t.meanMedian||(t.meanMedian=l,t.getLayersList(a.a.CommonLayers),t.getOtherOptions())}),this.sourceSubscription=this.utilService.getIdmEcmwf().subscribe(function(l){t.sourceSelected=l,"NOWCAST"!=t.sourceSelected?(t.primary=r.a.SOURCE_WISE[t.sourceSelected].PrimarySourceType,t.secondary=r.a.SOURCE_WISE[t.sourceSelected].SecondarySourceType,t.getLayersList(a.a.CommonLayers),t.getOtherOptions(),t.utilService.setDetermisnisticOrEnsemble("deterministic")):"NOWCAST"===t.sourceSelected&&(t.getLayersList(a.a.CommonLayers),t.getOtherOptions())}),this.utilService.getmeanMedian().subscribe(function(l){t.meanMedian=l}),this.utilService.getForecastLengthChanged().subscribe(function(l){t.getForecastWeeklyFileTimeStamp()}),this.utilService.districtClicked.subscribe(function(l){t.getLayersList(a.a.CommonLayers),t.getOtherOptions()})},t.prototype.ngOnDestroy=function(){this.sourceSubscription.unsubscribe()},t.prototype.getForecastWeeklyFileTimeStamp=function(){var t=this;return new Promise(function(l,e){null!=t.modelArray?l(!0):t.extremeWeatherDataService.getForecastFileTimeStamp(t.primary,t.secondary).then(function(e){var n=e;t.utilService.setModelDate(n),t.modelArray=t.rainfallService.getWeeklyTimeStamps(n),l(!0)})})},t.prototype.getLayersList=function(t){var l=this,e=[];if(e=e.concat(this.getCommonLayers(t)),"NOWCAST"==this.sourceSelected)this.layerList=e,e=e.concat(this.getNowcastHeatMapLayers());else{this.utilService.setLayerList(e),this.layerList=e,this.getForecastWeeklyFileTimeStamp().then(function(t){e=e.concat(l.getHeatMapLayers()),l.layerList=e,l.utilService.setLayerList(e),l.isInit=!1});var n=[];n=(n=n.concat(this.getCommonLayers(a.a.CommonMiniMapLayers))).concat(this.getHeatMapLayers()),this.utilService.setLayerList(n)}},t.prototype.getNowcastHeatMapLayers=function(){return c(this,void 0,void 0,function(){var t,l;return h(this,function(e){switch(e.label){case 0:return l=(t=[]).concat,[4,this.createNowcastHeatMapLayers()];case 1:return[2,l.apply(t,[e.sent()])]}})})},t.prototype.createNowcastHeatMapLayers=function(){return c(this,void 0,void 0,function(){var t=this;return h(this,function(l){return this.labelStrings=[],this.rainfallService.getHeatMapsForNext5hrs().subscribe(function(l){if(l){var e=t.rainfallService.getNext5HrsTimeStampsWithHeatMaps(l),n=[];for(var i in e){var o=u({},a.a.HeatMapOptions);o.setDefault="0"==i?"true":"false",o.groupName=e[i].timeStamp.toString(),o.stateName=t.stateName,o.time="24",o.view="Admin",o.timeLineName=e[i].timeLineName,o.timeLinePos=e[i].timeLinePos,o.leftSideName=e[i].timeLineName.toolTip,o.type2=void 0,o.url=e[i].url,t.labelStrings[i]={label:e[i].timeLineName.label,groupName:e[i].timeStamp.toString()},n.push(o)}return t.layerList=t.layerList.concat(n),n}}),[2]})})},t.prototype.getOtherOptions=function(){var t={};t.legend="NOWCAST"==this.sourceSelected?a.a.nowcastLegend:a.a.LegendWeekly,t.weeklyLegend=a.a.LegendWeekly,t.lightRainfall=a.a.lightRainfall,t.moderateRainfall=a.a.moderateRainfall,t.heavyRainfall=a.a.heavyRainfall,t.vheavyRainfall=a.a.vheavyRainfall,t.service=i.a,this.otherOptions=t,this.utilService.setOtherOptions(t)},t.prototype.getCommonLayers=function(t){var l=t;for(var e in l){var n=l[e];n.stateName=this.stateName,n.layerNameType&&(n.layerName="VectorLayer"===n.serviceType?s.c.STATE_TO_LAYERTYPE_NAME[this.stateName+"_"+n.layerNameType]:"kaleshwaram:"+s.c.STATE_TO_LAYERTYPE_NAME[this.stateName+"_"+n.layerNameType])}return l},t.prototype.getHeatMapLayers=function(){var t=[];return(t=(t=t.concat(this.create24HeatMapLayers())).concat(this.create10HeatMapLayers())).concat("mean"==this.meanMedian?this.createMeanWeeklyHeatMapLayers():this.createMedianWeeklyHeatMapLayers())},t.prototype.create24HeatMapLayers=function(){var t=this.rainfallService.get24HrsTimeStamps(),l=[];for(var e in t){var n=u({},a.a.HeatMapOptions);"4"==e?(n.url=s.c.API_URL_TEMP+a.a.HeatMapUrl+this.primary+"/"+this.secondary+"/"+this.component+"/"+t[e].timeStamp+"/24/24hr/ts_color",n.groupName="24hr",n.setDefault="true"):(n.url=s.c.API_URL_TEMP+a.a.HeatMapUrl+this.primary+"/"+this.secondary+"/"+this.component+"/"+t[e].timeStamp+"/24/6hr/ts_color",n.groupName=t[e].timeStamp.toString(),n.setDefault="false"),n.stateName=this.stateName,n.time="24",n.view="Admin",n.timeLineName=t[e].timeLineName,n.timeLinePos=t[e].timeLinePos,n.leftSideName=t[e].leftSideName,l.push(n);var i=u({},n);i.view="Basin",l.push(i)}return l},t.prototype.create10HeatMapLayers=function(){var t=this.rainfallService.get10DaysTimeStamps(),l=[];for(var e in t){var n=u({},a.a.HeatMapOptions);n.url=s.c.API_URL_TEMP+a.a.HeatMapUrl+this.primary+"/"+this.secondary+"/"+this.component+"/"+t[e].timeStamp+"/10/day/ts_color",n.groupName=t[e].timeStamp.toString(),n.setDefault="0"==e?"true":"false",n.stateName=this.stateName,n.view="Admin",n.time="10",n.timeLineName=t[e].timeLineName,n.timeLinePos=t[e].timeLinePos,n.leftSideName=t[e].leftSideName,l.push(n);var i=u({},n);i.view="Basin",l.push(i)}return l},t.prototype.createMeanWeeklyHeatMapLayers=function(){var t=this.modelArray,l=[];for(var e in t){var n=u({},a.a.HeatMapOptions);n.url=s.c.API_URL_TEMP+"weatherForecastv2/getExtendedHeatMapData/ECMWF_EXT/ECMWF_EXT/"+this.component+"/MEAN/"+t[e].timeStamp+"/week/ts_color",n.groupName=t[e].timeStamp.toString(),n.setDefault="0"==e?"true":"false",n.stateName=this.stateName,n.view="Admin",n.time="weekly",n.tType="mean",n.timeLineName=t[e].timeLineName,n.timeLinePos=t[e].timeLinePos,n.leftSideName=t[e].leftSideName,l.push(n);var i=u({},n);i.view="Basin",l.push(i)}return l},t.prototype.createMedianWeeklyHeatMapLayers=function(){var t=this.modelArray,l=[];for(var e in t){var n=u({},a.a.HeatMapOptions);n.url=s.c.API_URL_TEMP+"weatherForecastv2/getExtendedHeatMapData/ECMWF_EXT/ECMWF_EXT/"+this.component+"/MEDIAN/"+t[e].timeStamp+"/week/ts_color",n.groupName=t[e].timeStamp.toString(),n.setDefault="0"==e?"true":"false",n.stateName=this.stateName,n.view="Admin",n.time="weekly",n.tType="median",n.timeLineName=t[e].timeLineName,n.timeLinePos=t[e].timeLinePos,n.leftSideName=t[e].leftSideName,l.push(n);var i=u({},n);i.view="Basin",l.push(i)}return l},t}()},XodI:function(t,l,e){"use strict";e.d(l,"a",function(){return n}),e("NhNT");var n=function(){return function(){}}()},dy44:function(t,l,e){"use strict";e.d(l,"a",function(){return o}),e("osK0"),e("XqK7");var n=e("MCLT"),a=e("7Amg"),i=(e("6QN/"),e("q4vc"),e("aCLD")),o=(e("2TcX"),function(){function t(t,l,e,n,a,i){this.httpservice=t,this.utilService=l,this.route=e,this.rainfallService=n,this.extremeWeatherDataService=a,this.utilsShared=i,this.defaultLoadFlag=!1,this.detEnsmbl="",this.postData={}}return t.prototype.ngOnInit=function(){var t=this;this.component="RAINFALL",this.sourceSubscription=this.utilService.getIdmEcmwf().subscribe(function(l){t.sourceSelected=l,"NOWCAST"!=t.sourceSelected&&(t.defaultLoadFlag&&(t.getRainfallData(),t.getChartData(),t.getMandalData()),t.getForecastFileTimeStamp())}),this.admintoggleSubscription=this.utilService.getAdminBasinToggle().subscribe(function(l){t.adminSelected=l,t.defaultLoadFlag&&(t.getRainfallData(),t.getChartData(),t.getMandalData(),t.getAccuracyData()),"ECMWF"===t.sourceSelected&&"ensemble"===t.detEnsmbl&&(t.getEnsembleForecastDataForDistrictBasinRfDistribution(),t.getEnsembleForecastDataForBlockSubBasinRfDistribution(),t.getEnsembleForecastDataForDistrictBasinAreaDistribution(),t.getEnsembleForecastDataForBlockSubBasinAreaDistribution())}),this.toggleSubscription=this.utilService.getSRLRToggle().subscribe(function(l){t.shortLongRange=l}),this.toggleSubscription=this.utilService.getSRLRToggle().subscribe(function(l){t.shortLongRange=l,t.defaultLoadFlag&&(t.getRainfallData(),t.getChartData(),t.getMandalData(),t.getAccuracyData())}),this.forecastLengthSubscription=this.utilService.getForecastLengthChanged().subscribe(function(l){t.forecastLength=null==l?t.route.snapshot.paramMap.get("time"):l,t.getRainfallData(),t.getChartData(),t.getMandalData(),t.getAccuracyData()}),this.deterministicEnsembleSubscription=this.utilService.getDeterministicOrEnsemble().subscribe(function(l){l!==t.detEnsmbl&&(t.detEnsmbl=l,"ECMWF"===t.sourceSelected&&"ensemble"===t.detEnsmbl&&(Object(n.isNullOrUndefined)(t.districtBoxPlotDataRfDistribution)&&t.getEnsembleForecastDataForDistrictBasinRfDistribution(),Object(n.isNullOrUndefined)(t.mandalBoxPlotDataRfDistribution)&&t.getEnsembleForecastDataForBlockSubBasinRfDistribution(),Object(n.isNullOrUndefined)(t.districtBoxPlotDataAreaDistribution)&&t.getEnsembleForecastDataForDistrictBasinAreaDistribution(),Object(n.isNullOrUndefined)(t.mandalBoxPlotDataAreaDistribution)&&t.getEnsembleForecastDataForBlockSubBasinAreaDistribution()))}),this.utilService.getmeanMedian().subscribe(function(l){t.meanMedian=l,t.getChartData(),t.getRainfallData(),t.getMandalData()}),this.districtClickedSubscription=this.utilService.getDistrictClicked().subscribe(function(l){Object(n.isNullOrUndefined)(l)||"State"!==l.locType||(t.chartData1=t.districtBoxPlotDataRfDistribution,t.chartData2=t.districtBoxPlotDataAreaDistribution)}),this.defaultLoadFlag=!0},t.prototype.ngOnDestroy=function(){this.admintoggleSubscription.unsubscribe(),this.sourceSubscription.unsubscribe(),this.toggleSubscription.unsubscribe(),this.forecastLengthSubscription.unsubscribe(),this.deterministicEnsembleSubscription.unsubscribe(),this.districtClickedSubscription.unsubscribe()},t.prototype.getForecastFileTimeStamp=function(){var t=this;this.extremeWeatherDataService.getForecastFileTimeStamp(i.a.SOURCE_WISE[this.sourceSelected].PrimarySourceType,i.a.SOURCE_WISE[this.sourceSelected].SecondarySourceType).then(function(l){t.forecastFile=l})},t.prototype.getRainfallData=function(){var t=this;"weekly"==this.forecastLength?(this.postData.primarySource="ECMWF_EXT",this.postData.secondarySource="ECMWF_EXT"):(this.postData.primarySource=i.a.SOURCE_WISE[this.sourceSelected].PrimarySourceType,this.postData.secondarySource=i.a.SOURCE_WISE[this.sourceSelected].SecondarySourceType),this.postData.sUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.component="RAINFALL",this.postData.pUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.pType="STATE",this.postData.forecastLength=this.forecastLength,this.adminSelected?(this.postData.view="Admin",this.postData.cType="DISTRICT"):(this.postData.view="Basin",this.postData.cType="BASIN"),this.httpservice.makePostApiCall("RAINFALLDATA",this.postData).subscribe(function(l){t.forecastLength=t.route.snapshot.paramMap.get("time"),t.tableData={},t.blocksArray=t.rainfallService.setBlockArray(l,t.route),t.tableData="weekly"==t.forecastLength&&"mean"==t.meanMedian?t.rainfallService.setRainfallDataWeekly(l,t.adminSelected,t.route,"mean"):"weekly"==t.forecastLength&&"median"==t.meanMedian?t.rainfallService.setRainfallDataWeekly(l,t.adminSelected,t.route,"median"):t.rainfallService.setRainfallData(l,t.adminSelected,t.route)})},t.prototype.getMandalData=function(){var t=this;"weekly"==this.forecastLength?(this.postData.primarySource="ECMWF_EXT",this.postData.secondarySource="ECMWF_EXT"):(this.postData.primarySource=i.a.SOURCE_WISE[this.sourceSelected].PrimarySourceType,this.postData.secondarySource=i.a.SOURCE_WISE[this.sourceSelected].SecondarySourceType),this.postData.sUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.component="RAINFALL",this.postData.pUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.pType="STATE",this.postData.forecastLength=this.forecastLength,this.adminSelected?(this.postData.view="Admin",this.postData.cType="BLOCK"):(this.postData.view="Basin",this.postData.cType="SUBBASIN"),this.httpservice.makePostApiCall("RAINFALLDATA",this.postData).subscribe(function(l){t.forecastLength=t.route.snapshot.paramMap.get("time"),t.tableDataMandal="weekly"==t.forecastLength&&"mean"==t.meanMedian?t.rainfallService.setWeeklyMandalData(l,t.adminSelected,t.route,"mean"):"weekly"==t.forecastLength&&"median"==t.meanMedian?t.rainfallService.setWeeklyMandalData(l,t.adminSelected,t.route,"median"):t.rainfallService.setMandalData(l,t.adminSelected,t.route)})},t.prototype.getVillageData=function(){var t=this;"weekly"==this.forecastLength?(this.postData.primarySource="ECMWF_EXT",this.postData.secondarySource="ECMWF_EXT"):(this.postData.primarySource=i.a.SOURCE_WISE[this.sourceSelected].PrimarySourceType,this.postData.secondarySource=i.a.SOURCE_WISE[this.sourceSelected].SecondarySourceType),this.postData.sUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.component="RAINFALL",this.postData.pUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.pType="STATE",this.postData.forecastLength=this.forecastLength,this.postData.locationType="VILLAGE",this.adminSelected&&(this.postData.view="Admin",this.postData.cType="VILLAGE"),this.httpservice.makePostApiCall("RAINFALLDATA",this.postData).subscribe(function(l){t.forecastLength=t.route.snapshot.paramMap.get("time"),t.tableDataVillage="weekly"==t.forecastLength&&"mean"==t.meanMedian?t.rainfallService.setWeeklyVillageData(l,t.adminSelected,t.route,"mean"):"weekly"==t.forecastLength&&"median"==t.meanMedian?t.rainfallService.setWeeklyVillageData(l,t.adminSelected,t.route,"median"):t.rainfallService.setVillageData(l,t.adminSelected,t.route)})},t.prototype.getMandalDataForDistrict=function(t){var l=this;this.chartData1={},this.chartData2={},this.districtClicked={},this.districtClicked.District=t.district,this.mandalDataForDistrict=[];var e=[];if(this.adminSelected)for(var a=0,i=this.tableDataMandal.data;a<i.length;a++){var o=i[a],r={};this.adminSelected&&o.District.val===t.district&&(delete(r=Object.assign({},o)).District,e.push(r))}else for(var s=0,u=this.tableDataMandal.data;s<u.length;s++){var c=u[s];r={},c.Basin.val===t.district&&(delete(r=Object.assign({},c)).Basin,e.push(r))}"ECMWF"===this.sourceSelected&&"ensemble"===this.detEnsmbl&&(Object(n.isNullOrUndefined)(this.mandalBoxPlotDataRfDistribution)||Object.keys(this.mandalBoxPlotDataRfDistribution).forEach(function(e){l.mandalBoxPlotDataRfDistribution[e].parentUUID===t.districtUUID&&(l.chartData1[e]=l.mandalBoxPlotDataRfDistribution[e])}),Object(n.isNullOrUndefined)(this.mandalBoxPlotDataAreaDistribution)||Object.keys(this.mandalBoxPlotDataAreaDistribution).forEach(function(e){l.mandalBoxPlotDataAreaDistribution[e].parentUUID===t.districtUUID&&(l.chartData2[e]=l.mandalBoxPlotDataAreaDistribution[e])})),this.mandalDataForDistrict={},this.mandalDataForDistrict.data=e;var h=JSON.parse(JSON.stringify(this.tableDataMandal.columns));h[0].splice(1,1),this.mandalDataForDistrict.columns=h;var d=JSON.parse(JSON.stringify(this.tableDataMandal.tableHeaders));d.splice(1,1),this.mandalDataForDistrict.tableHeaders=d},t.prototype.getChartData=function(){var t=this;this.postData={},"weekly"==this.forecastLength?(this.postData.primarySource="ECMWF_EXT",this.postData.secondarySource="ECMWF_EXT"):(this.postData.primarySource=i.a.SOURCE_WISE[this.sourceSelected].PrimarySourceType,this.postData.secondarySource=i.a.SOURCE_WISE[this.sourceSelected].SecondarySourceType),this.postData.view=this.adminSelected?"Admin":"Basin",this.postData.colorPallette="ts_color",this.postData.sUUID=this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),this.postData.component="weekly"==this.forecastLength&&"mean"==this.meanMedian?"MEAN_RAINFALL":"weekly"==this.forecastLength&&"median"==this.meanMedian?"MEDIAN_RAINFALL":"RAINFALL",this.postData.locationType="BLOCK",this.postData.forecastLength=this.forecastLength,this.httpservice.makePostApiCall("CHARTDATA",this.postData).subscribe(function(l){t.forecastLength=t.route.snapshot.paramMap.get("time"),t.formattedChartData=t.rainfallService.setChartData(l,a.c),t.chartData=t.rainfallService.formatDataForChart(l)})},t.prototype.accuracymandalclicked=function(t){this.districtClicked={},this.districtClicked.District=t,this.getAccuracyData({parentUUID:t||null,locType:t?"BLOCK":null,timeperiod:this.acctimeperiod})},t.prototype.accuracytableclicked=function(t){this.acctimeperiod=t,this.getAccuracyData({timeperiod:this.acctimeperiod,parentUUID:this.districtClicked&&this.districtClicked.District?this.districtClicked.District:null,locType:this.districtClicked&&this.districtClicked.District?"BLOCK":null})},t.prototype.getAccuracyData=function(t){var l=this;this.postData={stateUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),parentUUID:t&&t.parentUUID?t.parentUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),locType:t&&t.locType?t.locType:"DISTRICT",componentName:"RAINFALL",timePeriod:t&&t.timeperiod?this.utilsShared.getModelDateFromDate(t.timeperiod):null,sourceType:""},this.httpservice.makePostApiCall("ACCURACYTABLE",this.postData).subscribe(function(t){l.acctabledata=l.rainfallService.setAccurayData(t,l.postData.locType),l.acctabledata.columns[0].length>4&&l.acctabledata.columns[0].push(l.acctabledata.columns[0].splice(3,1)[0])})},t.prototype.getTimestampMax=function(){var t=this;this.httpservice.makeGetApiCall("ACCURACYTIMESTAMP").subscribe(function(l){t.setMinMax(l.RF_ACCURACY)})},t.prototype.setMinMax=function(t){this.maxDate=t?this.utilsShared.getDateObjectFromModelDate(t.toString()):new Date},t.prototype.getEnsembleForecastDataForDistrictBasinRfDistribution=function(){var t=this,l={sUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),pType:"STATE",pUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),component:"rf_distribution"};l.cType=!0===this.adminSelected?"DISTRICT":"BASIN",this.httpservice.makePostApiCall("RAINFALLENSEMBLEDATA",l).subscribe(function(l){l&&(t.districtBoxPlotDataRfDistribution=l,t.chartData1=l)})},t.prototype.getEnsembleForecastDataForBlockSubBasinRfDistribution=function(){var t=this,l={sUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),pType:"STATE",pUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),component:"rf_distribution"};l.cType=!0===this.adminSelected?"BLOCK":"SUBBASIN",this.httpservice.makePostApiCall("RAINFALLENSEMBLEDATA",l).subscribe(function(l){l&&(t.mandalBoxPlotDataRfDistribution=l)})},t.prototype.getEnsembleForecastDataForDistrictBasinAreaDistribution=function(){var t=this,l={sUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),pType:"STATE",pUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),component:"area_distribution"};l.cType=!0===this.adminSelected?"DISTRICT":"BASIN",this.httpservice.makePostApiCall("RAINFALLENSEMBLEDATA",l).subscribe(function(l){l&&(t.districtBoxPlotDataAreaDistribution=l,t.chartData2=l)})},t.prototype.getEnsembleForecastDataForBlockSubBasinAreaDistribution=function(){var t=this,l={sUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),pType:"STATE",pUUID:this.utilService.getStateUUID(this.route.snapshot.paramMap.get("id")),component:"area_distribution"};l.cType=!0===this.adminSelected?"BLOCK":"SUBBASIN",this.httpservice.makePostApiCall("RAINFALLENSEMBLEDATA",l).subscribe(function(l){l&&(t.mandalBoxPlotDataAreaDistribution=l)})},t}())},n2qg:function(t,l,e){"use strict";var n=e("CcnG"),a=e("AGa/"),i=e("XcXv"),o=e("6QN/"),r=e("q4vc"),s=e("QDzO"),u=e("ZYCi"),c=e("LUGh"),h=e("Ip0R"),d=e("JvN/"),p=e("NhNT"),m=e("XqK7"),b=e("osK0");e.d(l,"a",function(){return v});var g=n.zb({encapsulation:0,styles:[[""]],data:{}});function f(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"app-gis-rf-map",[],null,null,null,a.b,a.a)),n.Ab(1,4964352,null,0,i.a,[o.a,r.a,s.a,u.a,n.i,c.a,u.p,n.v,h.e,d.a],{component:[0,"component"],layerList:[1,"layerList"],tableDataComponent:[2,"tableDataComponent"],otherOptions:[3,"otherOptions"],sidebarComponent:[4,"sidebarComponent"],sourceSelected:[5,"sourceSelected"],labelStringsfromMapComp:[6,"labelStringsfromMapComp"]},null)],function(t,l){var e=l.component;t(l,1,0,e.component,e.layerList,e.tableDataComponent,e.otherOptions,e.sidebarComponent,e.sourceSelected,e.labelStrings)},null)}function y(t){return n.Ub(0,[(t()(),n.Bb(0,0,null,null,1,"app-rainfall-map-data",[],null,null,null,f,g)),n.Ab(1,245760,null,0,p.a,[u.a,u.p,m.a,b.a,o.a],null,null)],function(t,l){t(l,1,0)},null)}var v=n.xb("app-rainfall-map-data",p.a,y,{},{},[])},osK0:function(t,l,e){"use strict";e.d(l,"a",function(){return h});var n=e("MCLT"),a=e("7Amg"),i=e("6QN/"),o=e("AytR"),r=e("q4vc"),s=e("/jRE"),u=e("CcnG"),c=e("t/Na"),h=function(){function t(t,l,e){this.utilService=t,this.utilsService=l,this.httpClient=e,this.url=o.a.url}return t.prototype.setRainfallData=function(t,l,e){if(l){for(var a={},i=[],o=0,r=Object.keys(t);o<r.length;o++){for(var s=[],u="",c=0,h=t[g=r[o]].table_data;c<h.length;c++)"24hr"==(v=h[c]).blockLength?s["24hr"]={val:Number(v.data.rf).toFixed(1)}:s[v.timeStamp]={val:Number(v.data.rf).toFixed(1)};l?(u=this.utilService.formatNames(t[g].name),s.District={val:u}):(u=this.utilService.formatNames(t[g].name),s.Basin={val:u}),null!=t[g].centroid&&null!=t[g].centroid&&(s.centroid=t[g].centroid),Object(n.isNullOrUndefined)(t[g].uuid)||(s.uuid=t[g].uuid),i.push(s)}a.data=i;var d=[],p=this.createColumns(this.setBlockArray(t,e),l,!1);return d.push(p),a.columns=d,a.tableHeaders=p,a}a={},i=[];for(var m=0,b=Object.keys(t);m<b.length;m++){s=[],u="";for(var g,f=0,y=t[g=b[m]].table_data;f<y.length;f++){var v;"24hr"==(v=y[f]).blockLength?s["24hr"]={val:Number(v.data.rf).toFixed(1)}:s[v.timeStamp]={val:Number(v.data.rf).toFixed(1)}}l?(u=this.utilService.formatNames(t[g].name),s.District={val:u}):(u=this.utilService.formatNames(t[g].name),s.Basin={val:u}),null!=t[g].centroid&&null!=t[g].centroid&&(s.centroid=t[g].centroid),Object(n.isNullOrUndefined)(t[g].uuid)||(s.uuid=t[g].uuid),i.push(s),a.data=i,d=[],p=this.createColumns(this.setBlockArray(t,e),l,!1),d.push(p),a.columns=d,a.tableHeaders=p}return a},t.prototype.setRainfallDataWeekly=function(t,l,e,a){if(l){for(var i={},o=[],r=0,s=Object.keys(t);r<s.length;r++){for(var u=[],c="",h=0,d=t[f=s[r]].table_data;h<d.length;h++)"24hr"==(S=d[h]).blockLength?u["24hr"]={val:Number(S.data.rf).toFixed(1)}:"mean"==a?u[S.timeStamp]={val:Number(S.data.mnRf).toFixed(1)}:"median"==a&&(u[S.timeStamp]={val:Number(S.data.mdRf).toFixed(1)});l?(c=this.utilService.formatNames(t[f].name),u.District={val:c}):(c=this.utilService.formatNames(t[f].name),u.Basin={val:c}),null!=t[f].centroid&&null!=t[f].centroid&&(u.centroid=t[f].centroid),Object(n.isNullOrUndefined)(t[f].uuid)||(u.uuid=t[f].uuid),o.push(u)}i.data=o;var p=[],m=this.createColumns(this.setBlockArray(t,e),l,!1);return p.push(m),i.columns=p,i.tableHeaders=m,i}i={},o=[];for(var b=0,g=Object.keys(t);b<g.length;b++){var f;if("GODAVARI"==t[f=g[b]].name){u=[],c="";for(var y=0,v=t[f].table_data;y<v.length;y++){var S;"24hr"==(S=v[y]).blockLength?u["24hr"]={val:Number(S.data.rf).toFixed(1)}:"mean"==a?u[S.timeStamp]={val:Number(S.data.mnRf).toFixed(1)}:"median"==a&&(u[S.timeStamp]={val:Number(S.data.mdRf).toFixed(1)})}l?(c=this.utilService.formatNames(t[f].name),u.District={val:c}):(c=this.utilService.formatNames(t[f].name),u.Basin={val:c}),null!=t[f].centroid&&null!=t[f].centroid&&(u.centroid=t[f].centroid),Object(n.isNullOrUndefined)(t[f].uuid)||(u.uuid=t[f].uuid),o.push(u),i.data=o,p=[],m=this.createColumns(this.setBlockArray(t,e),l,!1),p.push(m),i.columns=p,i.tableHeaders=m}}return i},t.prototype.setWeeklyVillageData=function(t,l,e,a){if(l){for(var i={},o=[],r=0,s=Object.keys(t);r<s.length;r++){var u=s[r],c=[],h="",d="";l&&(d=this.utilService.formatNames(t[u].pName),h=this.utilService.formatNames(t[u].name),c.Village={val:h},c.Block={val:d});for(var p=0,m=t[u].table_data;p<m.length;p++){var b=m[p];"24hr"==b.blockLength?c["24hr"]={val:Number(b.data.rf).toFixed(1)}:"mean"==a?c[b.timeStamp]={val:Number(b.data.mnRf).toFixed(1)}:"median"==a&&(c[b.timeStamp]={val:Number(b.data.mdRf).toFixed(1)})}null!=t[u].centroid&&null!=t[u].centroid&&(c.centroid=t[u].centroid),Object(n.isNullOrUndefined)(t[u].uuid)||(c.uuid=t[u].uuid),o.push(c)}i.data=o;var g=[],f=this.createColumns(this.setBlockArray(t,e),l,!0);return g.push(f),i.columns=g,i.tableHeaders=f,i}},t.prototype.setVillageData=function(t,l,e){if(l){for(var a={},i=[],o=0,r=Object.keys(t);o<r.length;o++){var s=r[o],u=[],c="",h="";l&&(h=this.utilService.formatNames(t[s].pName),c=this.utilService.formatNames(t[s].name),u.Village={val:c},u.Block={val:h});for(var d=0,p=t[s].table_data;d<p.length;d++){var m=p[d];"24hr"==m.blockLength?u["24hr"]={val:Number(m.data.rf).toFixed(1)}:u[m.timeStamp]={val:Number(m.data.rf).toFixed(1)}}null!=t[s].centroid&&null!=t[s].centroid&&(u.centroid=t[s].centroid),Object(n.isNullOrUndefined)(t[s].uuid)||(u.uuid=t[s].uuid),i.push(u)}a.data=i;var b=[],g=this.createVillageColumns(this.setBlockArray(t,e),l,!0);return b.push(g),a.columns=b,a.tableHeaders=g,a}},t.prototype.createColumns=function(t,l,e){var n=[];for(var a in l?(e&&n.push({val:"Mandal",colspan:1,rowspan:1,sortedHeaderVal:"Mandal"}),n.push({val:"District",colspan:1,rowspan:1,sortedHeaderVal:"District"})):(e&&n.push({val:"Sub Basin",colspan:1,rowspan:1,sortedHeaderVal:"SubBasin"}),n.push({val:"Basin",colspan:1,rowspan:1,sortedHeaderVal:"Basin"})),t)n.push({val:t[a],colspan:1,rowspan:1,sortedHeaderVal:t[a]});return n},t.prototype.createVillageColumns=function(t,l,e){var n=[];for(var a in l&&(e&&n.push({val:"Village",colspan:1,rowspan:1,sortedHeaderVal:"Village"}),n.push({val:"Block",colspan:1,rowspan:1,sortedHeaderVal:"Block"})),t)n.push({val:t[a],colspan:1,rowspan:1,sortedHeaderVal:t[a]});return n},t.prototype.setBlockArray=function(t,l){for(var e,n=0,a=Object.keys(t);n<a.length;n++){e=[];for(var i=0,o=t[a[n]].table_data;i<o.length;i++){var r=o[i];e.push("6hr"==r.blockLength?r.timeStamp:"24hr"==r.blockLength?"24hr":r.timeStamp)}}return this.sortKeys(e,l)},t.prototype.setMandalData=function(t,l,e){if(l){for(var a={},i=[],o=0,r=Object.keys(t);o<r.length;o++){var s=r[o],u=[],c="",h="";l?(h=this.utilService.formatNames(t[s].pName),c=this.utilService.formatNames(t[s].name),u.Mandal={val:c},u.District={val:h}):(h=this.utilService.formatNames(t[s].pName),c=this.utilService.formatNames(t[s].name),u["Sub Basin"]={val:c},u.Basin={val:h});for(var d=0,p=t[s].table_data;d<p.length;d++)"24hr"==(S=p[d]).blockLength?u["24hr"]={val:Number(S.data.rf).toFixed(1)}:u[S.timeStamp]={val:Number(S.data.rf).toFixed(1)};null!=t[s].centroid&&null!=t[s].centroid&&(u.centroid=t[s].centroid),Object(n.isNullOrUndefined)(t[s].uuid)||(u.uuid=t[s].uuid),i.push(u)}a.data=i;var m=[],b=this.createColumns(this.setBlockArray(t,e),l,!0);return m.push(b),a.columns=m,a.tableHeaders=b,a}a={},i=[];for(var g=0,f=Object.keys(t);g<f.length;g++){s=f[g],u=[],c="",h="",l?(h=this.utilService.formatNames(t[s].pName),c=this.utilService.formatNames(t[s].name),u.Mandal={val:c},u.District={val:h}):(h=this.utilService.formatNames(t[s].pName),c=this.utilService.formatNames(t[s].name),u["Sub Basin"]={val:c},u.Basin={val:h});for(var y=0,v=t[s].table_data;y<v.length;y++){var S;"24hr"==(S=v[y]).blockLength?u["24hr"]={val:Number(S.data.rf).toFixed(1)}:u[S.timeStamp]={val:Number(S.data.rf).toFixed(1)}}null!=t[s].centroid&&null!=t[s].centroid&&(u.centroid=t[s].centroid),Object(n.isNullOrUndefined)(t[s].uuid)||(u.uuid=t[s].uuid),i.push(u),a.data=i,m=[],b=this.createColumns(this.setBlockArray(t,e),l,!0),m.push(b),a.columns=m,a.tableHeaders=b}return a},t.prototype.setWeeklyMandalData=function(t,l,e,a){if(l){for(var i={},o=[],r=0,s=Object.keys(t);r<s.length;r++){var u=s[r],c=[],h="",d="";l?(d=this.utilService.formatNames(t[u].pName),h=this.utilService.formatNames(t[u].name),c.Mandal={val:h},c.District={val:d}):(d=this.utilService.formatNames(t[u].pName),h=this.utilService.formatNames(t[u].name),c["Sub Basin"]={val:h},c.Basin={val:d});for(var p=0,m=t[u].table_data;p<m.length;p++)"24hr"==(D=m[p]).blockLength?c["24hr"]={val:Number(D.data.rf).toFixed(1)}:"mean"==a?c[D.timeStamp]={val:Number(D.data.mnRf).toFixed(1)}:"median"==a&&(c[D.timeStamp]={val:Number(D.data.mdRf).toFixed(1)});null!=t[u].centroid&&null!=t[u].centroid&&(c.centroid=t[u].centroid),Object(n.isNullOrUndefined)(t[u].uuid)||(c.uuid=t[u].uuid),o.push(c)}i.data=o;var b=[],g=this.createColumns(this.setBlockArray(t,e),l,!0);return b.push(g),i.columns=b,i.tableHeaders=g,i}i={},o=[];for(var f=0,y=Object.keys(t);f<y.length;f++)if("GODAVARI"==t[u=y[f]].pName){c=[],h="",d="",l?(d=this.utilService.formatNames(t[u].pName),h=this.utilService.formatNames(t[u].name),c.Mandal={val:h},c.District={val:d}):(d=this.utilService.formatNames(t[u].pName),h=this.utilService.formatNames(t[u].name),c["Sub Basin"]={val:h},c.Basin={val:d});for(var v=0,S=t[u].table_data;v<S.length;v++){var D;"24hr"==(D=S[v]).blockLength?c["24hr"]={val:Number(D.data.rf).toFixed(1)}:"mean"==a?c[D.timeStamp]={val:Number(D.data.mnRf).toFixed(1)}:"median"==a&&(c[D.timeStamp]={val:Number(D.data.mdRf).toFixed(1)})}null!=t[u].centroid&&null!=t[u].centroid&&(c.centroid=t[u].centroid),Object(n.isNullOrUndefined)(t[u].uuid)||(c.uuid=t[u].uuid),o.push(c),i.data=o,b=[],g=this.createColumns(this.setBlockArray(t,e),l,!0),b.push(g),i.columns=b,i.tableHeaders=g}return i},t.prototype.setChartData=function(t,l){for(var e=[],n=0,a=Object.keys(t);n<a.length;n++){for(var i=a[n],o={},r=0,s=Object.keys(t[i]);r<s.length;r++){var u=s[r];if("6hr"==u)for(var c=0,h=Object.keys(t[i][u]);c<h.length;c++)o[g=h[c]]=t[i][u][g];else if("24hr"==u)for(var d=0,p=Object.keys(t[i][u]);d<p.length;d++)o["24hr"]=t[i][u][g=p[d]];else for(var m=0,b=Object.keys(t[i][u]);m<b.length;m++){var g;o[g=b[m]]=t[i][u][g]}}o[l.CHART_DATA_COLUMNS.RAINFALL]=i,e.push(o)}return e},t.prototype.formatDataForChart=function(t){for(var l={},e=0,n=Object.keys(t);e<n.length;e++){for(var a=n[e],i={},o=0,r=Object.keys(t[a]);o<r.length;o++){var s=r[o];if("6hr"==s)for(var u=0,c=Object.keys(t[a][s]);u<c.length;u++)i[b=c[u]]=t[a][s][b];else if("24hr"==s)for(var h=0,d=Object.keys(t[a][s]);h<d.length;h++)i["24hr"]=t[a][s][b=d[h]];else for(var p=0,m=Object.keys(t[a][s]);p<m.length;p++){var b;i[b=m[p]]=t[a][s][b]}}l[a]=i}return l},t.prototype.sortKeys=function(t,l){for(var e=[],n=[],a=0,i=t;a<i.length;a++){var o=i[a];"24"==l.snapshot.paramMap.get("time")&&"24hr"==o?e.push(o):n.push(o)}for(var r=0,s=n=n.sort();r<s.length;r++)e.push(s[r]);return e},t.prototype.get24HrsTimeStamps=function(){var t=(new Date).getTime(),l=new Date(t);l.setHours(5,30,0,0);for(var e=l.getTime(),n=Math.floor((t-e)/216e5),a={},i=0;i<4;i++)a[i]={},a[i].timeStamp=e+216e5*(i+n),a[i].timeLineName={},a[i].timeLineName.toolTip=this.convertTimestampToFullBlockValue(a[i].timeStamp),a[i].timeLineName.label=this.convertTimestampToBlockValue(a[i].timeStamp),a[i].leftSideName=this.convertTimestampToFullBlockValue(a[i].timeStamp),a[i].timeLinePos=i;return a[4]={},a[4].timeStamp=a[0].timeStamp,a[4].timeLineName={},a[4].timeLineName.toolTip=this.convertTimestampToBlockValue(a[0].timeStamp)+"-"+this.convertTimestampToBlockValue(a[0].timeStamp),a[4].timeLineName.label="24hr",a[4].leftSideName="24hr",a[4].timeLinePos=4,a},t.prototype.setAccurayData=function(t,l){var e=this,n={},a=[],i=[],o="BLOCK"==l?"Mandal":"District";Object.keys(t).forEach(function(l){var n={};n[o]={val:e.utilService.formatNames(t[l].locName),id:l},n.raf={val:t[l].accuracyData.arf.toFixed(3)},Object.keys(t[l].accuracyData.ad).forEach(function(e){var i=e;a.includes(i)||a.push(i);var o=t[l].accuracyData.ad[i].rfa,r=t[l].accuracyData.ad[i].rfca;n[i+"_forecast"]={val:t[l].accuracyData.ad[i].rfv.toFixed(3)},n[i+"_accuracy"]={val:o.toFixed(3)},n[i+"_cummulative_accuracy"]={val:r.toFixed(3)}}),t[l].lat&&t[l].lon&&(n.centroid={lat:t[l].lat,lon:t[l].lon}),i.push(n)});var r=a.sort(),s=[];s.push({val:o,colspan:1,rowspan:2,sortedHeaderVal:o}),s.push({val:"Actual (mm)",colspan:1,rowspan:2,sortedHeaderVal:"raf"});var u=[],c=[];for(var h in c.push({val:o}),c.push({val:"raf"}),r){var d=r[h];s.push({val:d.replace(/_/g," ").toUpperCase(),colspan:3,rowspan:1,sortedHeaderVal:d.toString()+"_d"}),u.push({val:"Forecast (mm)",colspan:1,rowspan:1,backgroundColor:null,sortedHeaderVal:d.toString()+"_forecast"}),u.push({val:"Accuracy (%)",colspan:1,rowspan:1,backgroundColor:null,sortedHeaderVal:d.toString()+"_accuracy"}),u.push({val:"Cummulative Accuracy (%)",colspan:1,rowspan:1,backgroundColor:null,sortedHeaderVal:d.toString()+"_cummulative_accuracy"}),c.push({val:d.toString()+"_forecast"}),c.push({val:d.toString()+"_accuracy"}),c.push({val:d.toString()+"_cummulative_accuracy"})}var p=[];return p.push(s),p.push(u),n.data=i,n.columns=p,n.tableHeaders=c,n},t.prototype.get10DaysTimeStamps=function(){var t=(new Date).getTime(),l=new Date(t);l.setHours(5,30,0,0);for(var e=l.getTime(),n={},a=0;a<7;a++)n[a]={},n[a].timeStamp=e+864e5*a,n[a].timeLineName={},n[a].timeLineName.label=this.convetTimeStampToDay(n[a].timeStamp),n[a].timeLineName.toolTip="5:30 AM - 5:30 AM",n[a].leftSideName=this.convetTimeStampToDay(n[a].timeStamp),n[a].timeLinePos=a;return n},t.prototype.validForecastFile=function(t){var l;return null!=t&&null!=t&&10==t.length&&(l=new Date(t[0]+t[1]+t[2]+t[3]+"-"+(t[4]+t[5])+"-"+(t[6]+t[7]))),l},t.prototype.getWeeklyTimeStamps=function(t){var l=this.validForecastFile(t),e=new Date(l);e.setHours(5,30,0,0);for(var n=e.getTime(),a={},i=0;i<6;i++)a[i]={},a[i].timeStamp=n+6048e5*i,a[i].timeLineName={},a[i].timeLineName.label=this.convetTimeStampToDay(a[i].timeStamp),a[i].timeLineName.toolTip="Week"+i.toString(),a[i].leftSideName=this.convetTimeStampToDay(a[i].timeStamp),a[i].timeLinePos=i;return a},t.prototype.convertTimestampToBlockValue=function(t){t=Number(t);var l=new Date(t).getHours(),e=new Date(t).getMinutes(),n="A.M";return 12==l&&(l=12,n="P.M"),l>12&&(l-=12,n="P.M"),l.toString()+":"+e.toString()+" "+n},t.prototype.convetTimeStampToDay=function(t){return this.utilsService.getDateInFormatForecast("dd/MM/yyyy",t)},t.prototype.convertTimestampToFullBlockValue=function(t){t=Number(t);var l=new Date(t).getHours(),e=new Date(t).getMinutes(),n="A.M";l>12&&(l-=12,n="P.M");var i=new Date(t+a.c.MILLIS_IN_6HOURS).getHours(),o=new Date(t+a.c.MILLIS_IN_6HOURS).getMinutes(),r="A.M";return i>12&&(i-=12,r="P.M"),l.toString()+":"+e.toString()+" "+n+" - "+i.toString()+":"+o.toString()+" "+r},t.prototype.convertNowcastTimestampToFullBlockValue=function(t){t=Number(t);var l=new Date(t).getHours(),e=new Date(t).getMinutes(),n="A.M";12==l&&(l=l,n="P.M"),l>12&&(l-=12,n="P.M");var i=new Date(t+a.c.MILLIS_IN_1HOUR).getHours(),o=new Date(t+a.c.MILLIS_IN_1HOUR).getMinutes(),r="A.M";return 12==i&&(i=i,r="P.M"),i>12&&(i-=12,r="P.M"),l.toString()+":"+e.toString()+" "+n+" - "+i.toString()+":"+o.toString()+" "+r},t.prototype.getHeatMapsForNext5hrs=function(){var t=this.url.KAL_STAGING_URL_RESERVOIR+s.a.NowcastHeatMapUrl,l=this.utilsService.getHeaders(t);return this.httpClient.get(t,l)},t.prototype.getNext5HrsTimeStampsWithHeatMaps=function(t){if(t){for(var l={},e=Object.keys(t),n=0;n<e.length;n++)l[n]={},l[n].timeStamp=e[n],l[n].timeLineName={},l[n].timeLineName.toolTip=this.convertNowcastTimestampToFullBlockValue(l[n].timeStamp),l[n].timeLineName.label=this.convertTimestampToBlockValue(l[n].timeStamp),l[n].timeLinePos=n,l[n].url=t[e[n]];return l}},t.ngInjectableDef=u.cb({factory:function(){return new t(u.gb(i.a),u.gb(r.a),u.gb(c.c))},token:t,providedIn:"root"}),t}()},"zN+X":function(t,l,e){"use strict";e.d(l,"a",function(){return o});var n=e("CcnG"),a=(e("6QN/"),e("Gy67"),e("7Amg")),i=e("Ex5H"),o=function(){function t(t,l,e,o){var r=this;for(var s in this.rfUtils=t,this.utils=l,this.router=e,this.route=o,this.posNum=new n.q,this.adminSelected=!0,this.sourceDropdown=["IMD","ECMWF","NOWCAST"],this.selectedvalue="IMD",this.activeRadioList=[],this.detEnsmbl="",this.meanMedian="",this.isForecast=!0,this.isNowCast=!1,this.viewList=[],this.selectedFilterParams={view:null,location:{},dashboardView:"state",heatMap:{}},this.viewType=i.m.VIEWS,this.labelStrings=[],a.c.IDTOUUIDMAPPING)a.c.IDTOUUIDMAPPING.hasOwnProperty(this.route.snapshot.paramMap.get("id"))||e.navigate(["*"]);this.stateUrlId=this.route.snapshot.paramMap.get("id"),a.c.STATENAME=this.utils.getStateName(this.stateUrlId),this.imdSRLR=!1,this.disableSRLRToggle=!1,this.utils.getAdminBasinToggle().subscribe(function(t){r.adminSelected=t}).unsubscribe(),this.utils.getIdmEcmwf().subscribe(function(t){r.selectedvalue=t}).unsubscribe(),this.utils.setSRLRToggle(this.imdSRLR),this.buttonClickedArray=[!0,!1,!1,!1],this.selectedWindSpeed=!0,this.selectedHumidity=!1,this.selectedRainfall=!1,this.selectedTemperature=!1,this.forecastLengthSubscription=this.utils.getForecastLengthChanged().subscribe(function(t){r.sourceDropdown="weekly"===t.toString()?["ECMWF"]:["ECMWF","IMD","NOWCAST"],r.forecastLength=t,"10"==r.forecastLength?(r.disableSRLRToggle=!0,r.imdSRLR=!1):(r.disableSRLRToggle=!1,r.imdSRLR=!0)}),this.utils.getLabelString().subscribe(function(t){r.labelStrings=t})}return t.prototype.ngOnInit=function(){var t=this;this.getAndSetLocationList(),this.utils.getBlockNumber().subscribe(function(l){t.blockNum=l,t.buttonClicked(t.blockNum);var e=t.activeRadioList.length;t.activeRadioList=[];for(var n=0;n<e;++n)t.activeRadioList.push(n===t.blockNum)}),this.forecastLength=this.route.snapshot.paramMap.get("time"),this.forecastLengthOtherThanRainfall=this.forecastLength;var l=this.router.url.split("/",10);if(this.selected=l[2],"weekly"===this.forecastLength?(this.sourceDropdown=["ECMWF"],this.forecastLengthOtherThanRainfall="10"):this.sourceDropdown=["ECMWF","IMD","NOWCAST"],this.six_hour_blocks=a.c.SIXHOURBLOCKS,this.utils.minMax.subscribe(function(l){t.minMax=l}).unsubscribe(),this.blockArraySubscription=this.utils.getBlocksArray().subscribe(function(l){t.six_hour_blocks=l}),"24"===this.forecastLength){if("windspeed"===this.router.url.split("/")[3])for(var e=0;e<4;++e)this.activeRadioList.push(e===this.blockNum);else if("rainfall"===this.router.url.split("/")[3]||"temperature"===this.router.url.split("/")[3]||"humidity"===this.router.url.split("/")[3])for(e=0;e<5;++e)this.activeRadioList.push(e===this.blockNum)}else if("10"===this.forecastLength){if("windspeed"===this.router.url.split("/")[3])for(e=0;e<28;++e)this.activeRadioList.push(e===this.blockNum);else if("rainfall"===this.router.url.split("/")[3]||"temperature"===this.router.url.split("/")[3]||"humidity"===this.router.url.split("/")[3])for(e=0;e<7;++e)this.activeRadioList.push(e===this.blockNum)}else if("weekly"==this.forecastLength)for(e=0;e<6;++e)this.activeRadioList.push(e===this.blockNum);var n=this.utils.getDeterministicOrEnsemble().subscribe(function(l){t.detEnsmbl=l});this.utils.getmeanMedian().subscribe(function(l){t.meanMedian=l}),n.unsubscribe()},t.prototype.ngOnDestroy=function(){this.detEnsmblToggle("deterministic"),this.forecastLengthSubscription.unsubscribe(),this.blockArraySubscription.unsubscribe()},t.prototype.getAndSetLocationList=function(){this.locationList=this.rfUtils.getLocationList(),this.selectedFilterParams.location=this.locationList[0],this.getViewList()},t.prototype.onLocationChange=function(){"TAMILNADU"==this.selectedFilterParams.location.NAME?(this.adminSelected=!0,this.utils.setAdminBasinToggle(this.adminSelected)):(this.adminSelected=!1,this.utils.setAdminBasinToggle(this.adminSelected))},t.prototype.getViewList=function(){this.viewList=this.rfUtils.getViewList(this.selectedFilterParams.location.NAME),1==this.adminSelected?this.selectedFilterParams.view="ADMIN":0==this.adminSelected&&(this.selectedFilterParams.view="BASIN")},t.prototype.checkView=function(t){var l=!1;return-1==this.viewList.findIndex(function(l){return l==t})&&(l=!0),l},t.prototype.ngOnChanges=function(t){},t.prototype.showLayer=function(t){var l=this;this.blockArraySubscription=this.utils.getBlocksArray().subscribe(function(e){l.six_hour_blocks=e,l.labelStrings&&l.utils.setIndex(l.labelStrings[t].groupName),l.utils.getSRLRToggle().subscribe(function(e){l.utils.setTimestamp(!0===e?a.c.INDEX_TO_TIMESTAMP_MAPPING[t.toString()]:a.c.INDEX_TO_TIMESTAMP_MAPPING_LR[t.toString()])})})},t.prototype.imdEcmwfOption=function(t){if(this.detEnsmbl="deterministic",this.selectedvalue=t,this.utils.setImdEcmwf(this.selectedvalue),"NOWCAST"==this.selectedvalue){this.blockNum=0,this.utils.setBlockNumber(this.blockNum),this.activeRadioList=[];for(var l=0;l<6;++l)this.activeRadioList.push(l==this.blockNum)}else for(this.blockNum=4,this.utils.setBlockNumber(this.blockNum),this.activeRadioList=[],l=0;l<5;++l)this.activeRadioList.push(l==this.blockNum)},t.prototype.buttonClicked=function(t,l){"HTML"===l&&this.posNum.emit(t),this.utils.setPlayButton(t),this.showLayer(t)},t.prototype.minMaxToggle=function(t){this.minMax=t,this.utils.minMax.next(this.minMax)},t.prototype.shortRangeLongRangeToggle=function(){this.imdSRLR=!this.imdSRLR,this.utils.setSRLRToggle(this.imdSRLR)},t.prototype.convertTimestampToBlockValue=function(t){if(t=Number(t),"24"==this.forecastLength){var l=new Date(t).getHours(),e=new Date(t).getMinutes(),n="A.M";l>12&&(l-=12,n="P.M");var i=new Date(t+a.c.MILLIS_IN_6HOURS).getHours(),o=new Date(t+a.c.MILLIS_IN_6HOURS).getMinutes(),r="A.M";return i>12&&(i-=12,r="P.M"),l.toString()+":"+e.toString()+" "+n+" - "+i.toString()+":"+o.toString()+" "+r}return"10"==this.forecastLength?new Date(t).toLocaleDateString():t},t.prototype.validate=function(t){return null==this.labelStrings[t]||null==this.labelStrings[t]?"":this.labelStrings[t].fullLabel},t.prototype.rainFallActualToggle=function(t){"actual"==t&&this.router.navigateByUrl("/extremeweather/"+this.selected+"-actual/"+this.forecastLength+"/"+this.stateUrlId)},t.prototype.detEnsmblToggle=function(t){this.detEnsmbl=t,this.utils.setDetermisnisticOrEnsemble(t)},t.prototype.setForecastStatus=function(t){this.isForecast=t,this.router.navigate(1==this.isForecast?["tamilnadu/extremeweather/rainfall/24/kskc"]:["tamilnadu/visibility/waterSupply/rainfall"])},t.prototype.adminBasinToggle=function(){this.adminSelected=!this.adminSelected,1==this.adminSelected&&"24"==this.forecastLength?"NOWCAST"==this.selectedvalue?this.utils.setBlockNumber(0):(this.utils.setBlockNumber(4),this.utils.setAdminBasinToggle(this.adminSelected)):0==this.adminSelected&&"24"==this.forecastLength?(this.utils.setBlockNumber(4),this.utils.setAdminBasinToggle(this.adminSelected)):1==this.adminSelected&&"10"==this.forecastLength?(this.utils.setBlockNumber(0),this.utils.setAdminBasinToggle(this.adminSelected)):0==this.adminSelected&&"10"==this.forecastLength?(this.utils.setBlockNumber(0),this.utils.setAdminBasinToggle(this.adminSelected)):0==this.adminSelected&&"weekly"==this.forecastLength?(this.utils.setBlockNumber(0),this.utils.setAdminBasinToggle(this.adminSelected)):1==this.adminSelected&&"weekly"==this.forecastLength&&(this.utils.setBlockNumber(0),this.utils.setAdminBasinToggle(this.adminSelected))},t.prototype.meanMedianlToggle=function(t){this.meanMedian=t,this.utils.setmeanMedian(t)},t.prototype.toggleSidenav=function(){this.utils.setVisibilitySidebarStatus(!1)},t.prototype.closeMenu=function(){this.utils.setVisibilitySidebarMenuStatus(!1)},t}()}}]);