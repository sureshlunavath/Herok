(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{aCrv:function(t,e,i){var n,s=function(){this._tweens={},this._tweensAddedDuringUpdate={}};s.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(t=void 0!==t?t:o.now();i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var s=this._tweens[i[n]];s&&!1===s.update(t)&&(s._isPlaying=!1,e||delete this._tweens[i[n]])}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,o=new s;o.Group=s,o._nextId=0,o.nextId=function(){return o._nextId++},o.now="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},o.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=o.Easing.Linear.None,this._interpolationFunction=o.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||o,this._id=o.nextId()},o.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?o.now()+parseFloat(t):t:o.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,i,n;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,n=this._easingFunction(i=0===this._duration||i>1?1:i),this._valuesEnd)if(void 0!==this._valuesStart[e]){var s=this._valuesStart[e]||0,r=this._valuesEnd[e];r instanceof Array?this._object[e]=this._interpolationFunction(r,n):("string"==typeof r&&(r="+"===r.charAt(0)||"-"===r.charAt(0)?s+parseFloat(r):parseFloat(r)),"number"==typeof r&&(this._object[e]=s+(r-s)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var o=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=o}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,a=this._chainedTweens.length;l<a;l++)this._chainedTweens[l].start(this._startTime+this._duration);return!1}return!0}},o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}},o.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),r=o.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],n):e>1?r(t[i],t[i-1],i-n):r(t[s],t[s+1>i?i:s+1],n-s)},Bezier:function(t,e){for(var i=0,n=t.length-1,s=Math.pow,r=o.Interpolation.Utils.Bernstein,l=0;l<=n;l++)i+=s(1-e,n-l)*s(e,l)*t[l]*r(n,l);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),r=o.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(s=Math.floor(n=i*(1+e))),r(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],n-s)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(r(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):r(t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2],n-s)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=o.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(r=[1],function(t){var e=1;if(r[t])return r[t];for(var i=t;i>1;i--)e*=i;return r[t]=e,e}),CatmullRom:function(t,e,i,n,s){var r=.5*(i-t),o=.5*(n-e),l=s*s;return(2*e-2*i+r+o)*(s*l)+(-3*e+3*i-2*r-o)*l+r*s+e}}},void 0===(n=(function(){return o}).apply(e,[]))||(t.exports=n)},r5GR:function(t,e,i){"use strict";i.d(e,"a",function(){return _}),i.d(e,"b",function(){return C}),i.d(e,"c",function(){return u}),i.d(e,"d",function(){return f}),i.d(e,"e",function(){return p}),i.d(e,"f",function(){return v}),i.d(e,"g",function(){return m}),i.d(e,"h",function(){return g}),i.d(e,"i",function(){return S}),i.d(e,"j",function(){return w}),i.d(e,"k",function(){return y}),i.d(e,"l",function(){return I}),i.d(e,"m",function(){return d});var n=i("CcnG"),s=(i("gIcY"),i("Ip0R")),r=i("K9Ia"),o=i("aCrv"),l=i("Gi3i"),a=i("ad02"),h=i("xMyE"),c=function(){return function(t,e){this.status=t,this.body=e}}(),u=function(){function t(t){this._elementRef=t,this.clickOutside=new n.q}return t.prototype.onClick=function(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))},t}(),d=function(){function t(){this.filteredData=[],this.subject=new r.a}return t.prototype.setData=function(t){this.filteredData=t,this.subject.next(t)},t.prototype.getData=function(){return this.subject.asObservable()},t.prototype.getFilteredData=function(){return this.filteredData&&this.filteredData.length>0?this.filteredData:[]},t}(),p=function(){function t(t){this.ds=t,this.filteredList=[]}return t.prototype.transform=function(t,e,i){var n=this;return t&&e?(this.filteredList=t.filter(function(t){return n.applyFilter(t,e,i)}),this.ds.setData(this.filteredList),this.filteredList):(this.ds.setData(t),t)},t.prototype.applyFilter=function(t,e,i){var n=!1;if(i.length>0)if(t.grpTitle)n=!0;else for(var s=0;s<i.length;s++)e&&t[i[s]]&&""!=t[i[s]]&&t[i[s]].toString().toLowerCase().indexOf(e.toLowerCase())>=0&&(n=!0);else if(t.grpTitle)n=!0;else for(var r in t)e&&t[r]&&t[r].toString().toLowerCase().indexOf(e.toLowerCase())>=0&&(n=!0);return n},t}(),f=function(){return function(){}}(),m=function(){return function(){}}(),g=function(){return function(){}}(),v=function(){function t(t){this.viewContainer=t}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.data.template,{$implicit:this.data,item:this.item})},t.prototype.ngOnDestroy=function(){this.view.destroy()},t}(),S=function(){return function(){}}();function w(){return{scrollThrottlingTime:0,scrollDebounceTime:0,scrollAnimationTime:750,checkResizeInterval:1e3,resizeBypassRefreshThreshold:5,modifyOverflowStyleOfParentScroll:!0,stripedTable:!1}}var y=function(){function t(t,e,i,r,o,l){this.element=t,this.renderer=e,this.zone=i,this.changeDetectorRef=r,this.window=window,this.executeRefreshOutsideAngularZone=!1,this._enableUnequalChildrenSizes=!1,this.useMarginInsteadOfTranslate=!1,this.ssrViewportWidth=1920,this.ssrViewportHeight=1080,this._bufferAmount=0,this._items=[],this.compareItems=function(t,e){return t===e},this.vsUpdate=new n.q,this.vsChange=new n.q,this.vsStart=new n.q,this.vsEnd=new n.q,this.calculatedScrollbarWidth=0,this.calculatedScrollbarHeight=0,this.padding=0,this.previousViewPort={},this.cachedPageSize=0,this.previousScrollNumberElements=0,this.isAngularUniversalSSR=Object(s.J)(o),this.scrollThrottlingTime=l.scrollThrottlingTime,this.scrollDebounceTime=l.scrollDebounceTime,this.scrollAnimationTime=l.scrollAnimationTime,this.scrollbarWidth=l.scrollbarWidth,this.scrollbarHeight=l.scrollbarHeight,this.checkResizeInterval=l.checkResizeInterval,this.resizeBypassRefreshThreshold=l.resizeBypassRefreshThreshold,this.modifyOverflowStyleOfParentScroll=l.modifyOverflowStyleOfParentScroll,this.stripedTable=l.stripedTable,this.horizontal=!1,this.resetWrapGroupDimensions()}return Object.defineProperty(t.prototype,"viewPortInfo",{get:function(){var t=this.previousViewPort||{};return{startIndex:t.startIndex||0,endIndex:t.endIndex||0,scrollStartPosition:t.scrollStartPosition||0,scrollEndPosition:t.scrollEndPosition||0,maxScrollPosition:t.maxScrollPosition||0,startIndexWithBuffer:t.startIndexWithBuffer||0,endIndexWithBuffer:t.endIndexWithBuffer||0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableUnequalChildrenSizes",{get:function(){return this._enableUnequalChildrenSizes},set:function(t){this._enableUnequalChildrenSizes!==t&&(this._enableUnequalChildrenSizes=t,this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferAmount",{get:function(){return"number"==typeof this._bufferAmount&&this._bufferAmount>=0?this._bufferAmount:this.enableUnequalChildrenSizes?5:0},set:function(t){this._bufferAmount=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollThrottlingTime",{get:function(){return this._scrollThrottlingTime},set:function(t){this._scrollThrottlingTime=t,this.updateOnScrollFunction()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollDebounceTime",{get:function(){return this._scrollDebounceTime},set:function(t){this._scrollDebounceTime=t,this.updateOnScrollFunction()},enumerable:!0,configurable:!0}),t.prototype.updateOnScrollFunction=function(){var t=this;this.onScroll=this.scrollDebounceTime?this.debounce(function(){t.refresh_internal(!1)},this.scrollDebounceTime):this.scrollThrottlingTime?this.throttleTrailing(function(){t.refresh_internal(!1)},this.scrollThrottlingTime):function(){t.refresh_internal(!1)}},Object.defineProperty(t.prototype,"checkResizeInterval",{get:function(){return this._checkResizeInterval},set:function(t){this._checkResizeInterval!==t&&(this._checkResizeInterval=t,this.addScrollEventHandlers())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){t!==this._items&&(this._items=t||[],this.refresh_internal(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontal",{get:function(){return this._horizontal},set:function(t){this._horizontal=t,this.updateDirection()},enumerable:!0,configurable:!0}),t.prototype.revertParentOverscroll=function(){var t=this.getScrollElement();t&&this.oldParentScrollOverflow&&(t.style["overflow-y"]=this.oldParentScrollOverflow.y,t.style["overflow-x"]=this.oldParentScrollOverflow.x),this.oldParentScrollOverflow=void 0},Object.defineProperty(t.prototype,"parentScroll",{get:function(){return this._parentScroll},set:function(t){if(this._parentScroll!==t){this.revertParentOverscroll(),this._parentScroll=t,this.addScrollEventHandlers();var e=this.getScrollElement();this.modifyOverflowStyleOfParentScroll&&e!==this.element.nativeElement&&(this.oldParentScrollOverflow={x:e.style["overflow-x"],y:e.style["overflow-y"]},e.style["overflow-y"]=this.horizontal?"visible":"auto",e.style["overflow-x"]=this.horizontal?"auto":"visible")}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.addScrollEventHandlers()},t.prototype.ngOnDestroy=function(){this.removeScrollEventHandlers(),this.revertParentOverscroll()},t.prototype.ngOnChanges=function(t){var e=this.cachedItemsLength!==this.items.length;this.cachedItemsLength=this.items.length,this.refresh_internal(e||!t.items||!t.items.previousValue||0===t.items.previousValue.length)},t.prototype.ngDoCheck=function(){if(this.cachedItemsLength!==this.items.length)return this.cachedItemsLength=this.items.length,void this.refresh_internal(!0);if(this.previousViewPort&&this.viewPortItems&&this.viewPortItems.length>0){for(var t=!1,e=0;e<this.viewPortItems.length;++e)if(!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer+e],this.viewPortItems[e])){t=!0;break}t&&this.refresh_internal(!0)}},t.prototype.refresh=function(){this.refresh_internal(!0)},t.prototype.invalidateAllCachedMeasurements=function(){this.wrapGroupDimensions={maxChildSizePerWrapGroup:[],numberOfKnownWrapGroupChildSizes:0,sumOfKnownWrapGroupChildWidths:0,sumOfKnownWrapGroupChildHeights:0},this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0,this.refresh_internal(!1)},t.prototype.invalidateCachedMeasurementForItem=function(t){if(this.enableUnequalChildrenSizes){var e=this.items&&this.items.indexOf(t);e>=0&&this.invalidateCachedMeasurementAtIndex(e)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)},t.prototype.invalidateCachedMeasurementAtIndex=function(t){if(this.enableUnequalChildrenSizes){var e=this.wrapGroupDimensions.maxChildSizePerWrapGroup[t];e&&(this.wrapGroupDimensions.maxChildSizePerWrapGroup[t]=void 0,--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=e.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=e.childHeight||0)}else this.minMeasuredChildWidth=void 0,this.minMeasuredChildHeight=void 0;this.refresh_internal(!1)},t.prototype.scrollInto=function(t,e,i,n,s){void 0===e&&(e=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===s&&(s=void 0);var r=this.items.indexOf(t);-1!==r&&this.scrollToIndex(r,e,i,n,s)},t.prototype.scrollToIndex=function(t,e,i,n,s){var r=this;void 0===e&&(e=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===s&&(s=void 0);var o=5,l=function(){if(--o<=0)s&&s();else{var n=r.calculateDimensions(),a=Math.min(Math.max(t,0),n.itemCount-1);r.previousViewPort.startIndex!==a?r.scrollToIndex_internal(t,e,i,0,l):s&&s()}};this.scrollToIndex_internal(t,e,i,n,l)},t.prototype.scrollToIndex_internal=function(t,e,i,n,s){void 0===e&&(e=!0),void 0===i&&(i=0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),n=void 0===n?this.scrollAnimationTime:n;var r=this.calculateDimensions(),o=this.calculatePadding(t,r)+i;e||(o-=r.wrapGroupsPerPage*r[this._childScrollDim]),this.scrollToPosition(o,n,s)},t.prototype.scrollToPosition=function(t,e,i){var n=this;void 0===e&&(e=void 0),void 0===i&&(i=void 0),t+=this.getElementsOffset(),e=void 0===e?this.scrollAnimationTime:e;var s,r=this.getScrollElement();if(this.currentTween&&(this.currentTween.stop(),this.currentTween=void 0),!e)return this.renderer.setProperty(r,this._scrollType,t),void this.refresh_internal(!1,i);var l={scrollPosition:r[this._scrollType]},a=new o.Tween(l).to({scrollPosition:t},e).easing(o.Easing.Quadratic.Out).onUpdate(function(t){isNaN(t.scrollPosition)||(n.renderer.setProperty(r,n._scrollType,t.scrollPosition),n.refresh_internal(!1))}).onStop(function(){cancelAnimationFrame(s)}).start(),h=function(e){a.isPlaying()&&(a.update(e),l.scrollPosition!==t?n.zone.runOutsideAngular(function(){s=requestAnimationFrame(h)}):n.refresh_internal(!1,i))};h(),this.currentTween=a},t.prototype.getElementSize=function(t){var e=t.getBoundingClientRect(),i=getComputedStyle(t),n=parseInt(i["margin-top"],10)||0,s=parseInt(i["margin-bottom"],10)||0,r=parseInt(i["margin-left"],10)||0,o=parseInt(i["margin-right"],10)||0;return{top:e.top+n,bottom:e.bottom+s,left:e.left+r,right:e.right+o,width:e.width+r+o,height:e.height+n+s}},t.prototype.checkScrollElementResized=function(){var t,e=this.getElementSize(this.getScrollElement());if(this.previousScrollBoundingRect){var i=Math.abs(e.width-this.previousScrollBoundingRect.width),n=Math.abs(e.height-this.previousScrollBoundingRect.height);t=i>this.resizeBypassRefreshThreshold||n>this.resizeBypassRefreshThreshold}else t=!0;t&&(this.previousScrollBoundingRect=e,e.width>0&&e.height>0&&this.refresh_internal(!1))},t.prototype.updateDirection=function(){this.horizontal?(this._invisiblePaddingProperty="width",this._offsetType="offsetLeft",this._pageOffsetType="pageXOffset",this._childScrollDim="childWidth",this._marginDir="margin-left",this._translateDir="translateX",this._scrollType="scrollLeft"):(this._invisiblePaddingProperty="height",this._offsetType="offsetTop",this._pageOffsetType="pageYOffset",this._childScrollDim="childHeight",this._marginDir="margin-top",this._translateDir="translateY",this._scrollType="scrollTop")},t.prototype.debounce=function(t,e){var i=this.throttleTrailing(t,e),n=function(){i.cancel(),i.apply(this,arguments)};return n.cancel=function(){i.cancel()},n},t.prototype.throttleTrailing=function(t,e){var i=void 0,n=arguments,s=function(){var s=this;n=arguments,i||(e<=0?t.apply(s,n):i=setTimeout(function(){i=void 0,t.apply(s,n)},e))};return s.cancel=function(){i&&(clearTimeout(i),i=void 0)},s},t.prototype.refresh_internal=function(t,e,i){var n=this;if(void 0===e&&(e=void 0),void 0===i&&(i=2),t&&this.previousViewPort&&this.previousViewPort.scrollStartPosition>0){var s=this.previousViewPort,r=this.viewPortItems,o=e;e=function(){var t=n.previousViewPort.scrollLength-s.scrollLength;if(t>0&&n.viewPortItems){var e=r[0],i=n.items.findIndex(function(t){return n.compareItems(e,t)});if(i>n.previousViewPort.startIndexWithBuffer){for(var l=!1,a=1;a<n.viewPortItems.length;++a)if(!n.compareItems(n.items[i+a],r[a])){l=!0;break}if(!l)return void n.scrollToPosition(n.previousViewPort.scrollStartPosition+t,0,o)}}o&&o()}}this.zone.runOutsideAngular(function(){requestAnimationFrame(function(){t&&n.resetWrapGroupDimensions();var s=n.calculateViewport(),r=t||s.startIndex!==n.previousViewPort.startIndex,o=t||s.endIndex!==n.previousViewPort.endIndex,l=s.scrollLength!==n.previousViewPort.scrollLength,a=s.padding!==n.previousViewPort.padding,h=s.scrollStartPosition!==n.previousViewPort.scrollStartPosition||s.scrollEndPosition!==n.previousViewPort.scrollEndPosition||s.maxScrollPosition!==n.previousViewPort.maxScrollPosition;if(n.previousViewPort=s,l&&n.renderer.setStyle(n.invisiblePaddingElementRef.nativeElement,n._invisiblePaddingProperty,s.scrollLength+"px"),a&&(n.useMarginInsteadOfTranslate?n.renderer.setStyle(n.contentElementRef.nativeElement,n._marginDir,s.padding+"px"):(n.renderer.setStyle(n.contentElementRef.nativeElement,"transform",n._translateDir+"("+s.padding+"px)"),n.renderer.setStyle(n.contentElementRef.nativeElement,"webkitTransform",n._translateDir+"("+s.padding+"px)"))),n.headerElementRef){var c=n.getScrollElement()[n._scrollType],u=n.getElementsOffset(),d=Math.max(c-s.padding-u+n.headerElementRef.nativeElement.clientHeight,0);n.renderer.setStyle(n.headerElementRef.nativeElement,"transform",n._translateDir+"("+d+"px)"),n.renderer.setStyle(n.headerElementRef.nativeElement,"webkitTransform",n._translateDir+"("+d+"px)")}var p=r||o?{startIndex:s.startIndex,endIndex:s.endIndex,scrollStartPosition:s.scrollStartPosition,scrollEndPosition:s.scrollEndPosition,startIndexWithBuffer:s.startIndexWithBuffer,endIndexWithBuffer:s.endIndexWithBuffer,maxScrollPosition:s.maxScrollPosition}:void 0;if(r||o||h){var f=function(){n.viewPortItems=s.startIndexWithBuffer>=0&&s.endIndexWithBuffer>=0?n.items.slice(s.startIndexWithBuffer,s.endIndexWithBuffer+1):[],n.vsUpdate.emit(n.viewPortItems),r&&n.vsStart.emit(p),o&&n.vsEnd.emit(p),(r||o)&&(n.changeDetectorRef.markForCheck(),n.vsChange.emit(p)),i>0?n.refresh_internal(!1,e,i-1):e&&e()};n.executeRefreshOutsideAngularZone?f():n.zone.run(f)}else{if(i>0&&(l||a))return void n.refresh_internal(!1,e,i-1);e&&e()}})})},t.prototype.getScrollElement=function(){return this.parentScroll instanceof Window?document.scrollingElement||document.documentElement||document.body:this.parentScroll||this.element.nativeElement},t.prototype.addScrollEventHandlers=function(){var t=this;if(!this.isAngularUniversalSSR){var e=this.getScrollElement();this.removeScrollEventHandlers(),this.zone.runOutsideAngular(function(){t.parentScroll instanceof Window?(t.disposeScrollHandler=t.renderer.listen("window","scroll",t.onScroll),t.disposeResizeHandler=t.renderer.listen("window","resize",t.onScroll)):(t.disposeScrollHandler=t.renderer.listen(e,"scroll",t.onScroll),t._checkResizeInterval>0&&(t.checkScrollElementResizedTimer=setInterval(function(){t.checkScrollElementResized()},t._checkResizeInterval)))})}},t.prototype.removeScrollEventHandlers=function(){this.checkScrollElementResizedTimer&&clearInterval(this.checkScrollElementResizedTimer),this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)},t.prototype.getElementsOffset=function(){if(this.isAngularUniversalSSR)return 0;var t=0;if(this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll){var e=this.getScrollElement(),i=this.getElementSize(this.element.nativeElement),n=this.getElementSize(e);t+=this.horizontal?i.left-n.left:i.top-n.top,this.parentScroll instanceof Window||(t+=e[this._scrollType])}return t},t.prototype.countItemsPerWrapGroup=function(){if(this.isAngularUniversalSSR)return Math.round(this.horizontal?this.ssrViewportHeight/this.ssrChildHeight:this.ssrViewportWidth/this.ssrChildWidth);var t=this.horizontal?"offsetLeft":"offsetTop",e=(this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement).children,i=e?e.length:0;if(0===i)return 1;for(var n=e[0][t],s=1;s<i&&n===e[s][t];)++s;return s},t.prototype.getScrollStartPosition=function(){var t=void 0;return this.parentScroll instanceof Window&&(t=window[this._pageOffsetType]),t||this.getScrollElement()[this._scrollType]||0},t.prototype.resetWrapGroupDimensions=function(){var t=this.wrapGroupDimensions;if(this.invalidateAllCachedMeasurements(),this.enableUnequalChildrenSizes&&t&&0!==t.numberOfKnownWrapGroupChildSizes)for(var e=this.countItemsPerWrapGroup(),i=0;i<t.maxChildSizePerWrapGroup.length;++i){var n=t.maxChildSizePerWrapGroup[i];if(n&&n.items&&n.items.length){if(n.items.length!==e)return;for(var s=!1,r=e*i,o=0;o<e;++o)if(!this.compareItems(n.items[o],this.items[r+o])){s=!0;break}s||(++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=n.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=n.childHeight||0,this.wrapGroupDimensions.maxChildSizePerWrapGroup[i]=n)}}},t.prototype.calculateDimensions=function(){var t=this.getScrollElement();this.calculatedScrollbarHeight=Math.max(Math.min(t.offsetHeight-t.clientHeight,25),this.calculatedScrollbarHeight),this.calculatedScrollbarWidth=Math.max(Math.min(t.offsetWidth-t.clientWidth,25),this.calculatedScrollbarWidth);var e,i,n,s=t.offsetWidth-(this.scrollbarWidth||this.calculatedScrollbarWidth||(this.horizontal?0:25)),r=t.offsetHeight-(this.scrollbarHeight||this.calculatedScrollbarHeight||(this.horizontal?25:0)),o=this.containerElementRef&&this.containerElementRef.nativeElement||this.contentElementRef.nativeElement,l=this.countItemsPerWrapGroup();if(this.isAngularUniversalSSR){s=this.ssrViewportWidth,r=this.ssrViewportHeight,i=this.ssrChildWidth,n=this.ssrChildHeight;var a=Math.max(Math.ceil(s/i),1),h=Math.max(Math.ceil(r/n),1);e=this.horizontal?a:h}else if(this.enableUnequalChildrenSizes){var c=t[this._scrollType]-(this.previousViewPort?this.previousViewPort.padding:0),u=this.previousViewPort.startIndexWithBuffer||0,d=Math.ceil(u/l),p=0,f=0,m=0,g=0;e=0;for(var v=0;v<o.children.length;++v)if(++u,_=this.getElementSize(o.children[v]),p=Math.max(p,_.width),f=Math.max(f,_.height),u%l==0){var S=this.wrapGroupDimensions.maxChildSizePerWrapGroup[d];S&&(--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes,this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths-=S.childWidth||0,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights-=S.childHeight||0),++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;var w=this.items.slice(u-l,u);if(this.wrapGroupDimensions.maxChildSizePerWrapGroup[d]={childWidth:p,childHeight:f,items:w},this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths+=p,this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights+=f,this.horizontal){var y=Math.min(p,Math.max(s-m,0));c>0&&(y-=I=Math.min(c,y),c-=I),m+=y,y>0&&s>=m&&++e}else{var I,b=Math.min(f,Math.max(r-g,0));c>0&&(b-=I=Math.min(c,b),c-=I),g+=b,b>0&&r>=g&&++e}++d,p=0,f=0}i=this.childWidth||this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes||s,n=this.childHeight||this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights/this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes||r,this.horizontal?s>m&&(e+=Math.ceil((s-m)/i)):r>g&&(e+=Math.ceil((r-g)/n))}else{if(o.children.length>0){this.childWidth&&this.childHeight||(!this.minMeasuredChildWidth&&s>0&&(this.minMeasuredChildWidth=s),!this.minMeasuredChildHeight&&r>0&&(this.minMeasuredChildHeight=r));var _=this.getElementSize(o.children[0]);this.minMeasuredChildWidth=Math.min(this.minMeasuredChildWidth,_.width),this.minMeasuredChildHeight=Math.min(this.minMeasuredChildHeight,_.height)}i=this.childWidth||this.minMeasuredChildWidth||s,n=this.childHeight||this.minMeasuredChildHeight||r,a=Math.max(Math.ceil(s/i),1),h=Math.max(Math.ceil(r/n),1),e=this.horizontal?a:h}var C=this.items.length,P=l*e,D=C/P,E=Math.ceil(C/l),T=0,x=this.horizontal?i:n;if(this.enableUnequalChildrenSizes){var O=0;for(v=0;v<E;++v){var W=this.wrapGroupDimensions.maxChildSizePerWrapGroup[v]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[v][this._childScrollDim];W?T+=W:++O}T+=Math.round(O*x)}else T=E*x;this.headerElementRef&&(T+=this.headerElementRef.nativeElement.clientHeight);var A=this.horizontal?s:r;return{itemCount:C,itemsPerWrapGroup:l,wrapGroupsPerPage:e,itemsPerPage:P,pageCount_fractional:D,childWidth:i,childHeight:n,scrollLength:T,viewportLength:A,maxScrollPosition:Math.max(T-A,0)}},t.prototype.calculatePadding=function(t,e){if(0===e.itemCount)return 0;var i=e[this._childScrollDim],n=Math.floor(t/e.itemsPerWrapGroup)||0;if(!this.enableUnequalChildrenSizes)return i*n;for(var s=0,r=0,o=0;o<n;++o){var l=this.wrapGroupDimensions.maxChildSizePerWrapGroup[o]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[o][this._childScrollDim];l?r+=l:++s}return r+Math.round(s*i)},t.prototype.calculatePageInfo=function(t,e){var i=0;if(this.enableUnequalChildrenSizes){for(var n=Math.ceil(e.itemCount/e.itemsPerWrapGroup),s=0,r=e[this._childScrollDim],o=0;o<n;++o)if(t<(s+=this.wrapGroupDimensions.maxChildSizePerWrapGroup[o]&&this.wrapGroupDimensions.maxChildSizePerWrapGroup[o][this._childScrollDim]||r)){i=o/n;break}}else i=t/e.scrollLength;var l=Math.min(Math.max(i*e.pageCount_fractional,0),e.pageCount_fractional)*e.itemsPerPage,a=e.itemCount-e.itemsPerPage-1,h=Math.min(Math.floor(l),a);if(h-=h%e.itemsPerWrapGroup,this.stripedTable){var c=2*e.itemsPerWrapGroup;h%c!=0&&(h=Math.max(h-h%c,0))}var u=Math.ceil(l)+e.itemsPerPage-1,d=(u+1)%e.itemsPerWrapGroup;d>0&&(u+=e.itemsPerWrapGroup-d),isNaN(h)&&(h=0),isNaN(u)&&(u=0),h=Math.min(Math.max(h,0),e.itemCount-1),u=Math.min(Math.max(u,0),e.itemCount-1);var p=this.bufferAmount*e.itemsPerWrapGroup;return{startIndex:h,endIndex:u,startIndexWithBuffer:Math.min(Math.max(h-p,0),e.itemCount-1),endIndexWithBuffer:Math.min(Math.max(u+p,0),e.itemCount-1),scrollStartPosition:t,scrollEndPosition:t+e.viewportLength,maxScrollPosition:e.maxScrollPosition}},t.prototype.calculateViewport=function(){var t=this.calculateDimensions(),e=this.getElementsOffset(),i=this.getScrollStartPosition();i>t.scrollLength+e&&!(this.parentScroll instanceof Window)?i=t.scrollLength:i-=e,i=Math.max(0,i);var n=this.calculatePageInfo(i,t),s=this.calculatePadding(n.startIndexWithBuffer,t),r=t.scrollLength;return{startIndex:n.startIndex,endIndex:n.endIndex,startIndexWithBuffer:n.startIndexWithBuffer,endIndexWithBuffer:n.endIndexWithBuffer,padding:Math.round(s),scrollLength:Math.round(r),scrollStartPosition:n.scrollStartPosition,scrollEndPosition:n.scrollEndPosition,maxScrollPosition:n.maxScrollPosition}},t}(),I=function(){return function(){}}(),b=function(){},_=function(){function t(t,e,i){var s=this;this._elementRef=t,this.cdr=e,this.ds=i,this.onSelect=new n.q,this.onDeSelect=new n.q,this.onSelectAll=new n.q,this.onDeSelectAll=new n.q,this.onOpen=new n.q,this.onClose=new n.q,this.onScrollToEnd=new n.q,this.onFilterSelectAll=new n.q,this.onFilterDeSelectAll=new n.q,this.onAddFilterNewItem=new n.q,this.onGroupSelect=new n.q,this.onGroupDeSelect=new n.q,this.virtualdata=[],this.searchTerm$=new r.a,this.isActive=!1,this.isSelectAll=!1,this.isFilterSelectAll=!1,this.isInfiniteFilterSelectAll=!1,this.chunkIndex=[],this.cachedItems=[],this.groupCachedItems=[],this.itemHeight=41.6,this.filterLength=0,this.infiniteFilterLength=0,this.dropdownListYOffset=0,this.dropDownWidth=0,this.dropDownTop=0,this.dropDownLeft=0,this.id=Math.random().toString(36).substring(2),this.defaultSettings={singleSelection:!1,text:"Select",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",filterSelectAllText:"Select all filtered results",filterUnSelectAllText:"UnSelect all filtered results",enableSearchFilter:!1,searchBy:[],maxHeight:300,badgeShowLimit:999999999999,classes:"",disabled:!1,searchPlaceholderText:"Search",showCheckbox:!0,noDataLabel:"No Data Available",searchAutofocus:!0,lazyLoading:!1,labelKey:"itemName",primaryKey:"id",position:"bottom",autoPosition:!0,enableFilterSelectAll:!0,selectGroup:!1,addNewItemOnFilter:!1,addNewButtonText:"Add",escapeToClose:!0,clearAll:!0,tagToBody:!0},this.randomSize=!0,this.filteredList=[],this.virtualScroollInit=!1,this.isDisabledItemPresent=!1,this.onTouchedCallback=b,this.onChangeCallback=b,this.searchTerm$.asObservable().pipe(Object(l.a)(1e3),Object(a.a)(),Object(h.a)(function(t){return t})).subscribe(function(t){s.filterInfiniteList(t)})}return t.prototype.onEscapeDown=function(t){this.settings.escapeToClose&&this.closeDropdown()},t.prototype.onScroll=function(t){this.isActive&&this.closeDropdown()},t.prototype.ngOnInit=function(){var t=this;this.settings=Object.assign(this.defaultSettings,this.settings),this.cachedItems=this.cloneArray(this.data),"top"==this.settings.position&&setTimeout(function(){t.selectedListHeight={val:0},t.selectedListHeight.val=t.selectedListElem.nativeElement.clientHeight}),this.subscription=this.ds.getData().subscribe(function(e){if(e){var i=0;e.forEach(function(e,n){e.disabled&&(t.isDisabledItemPresent=!0),e.hasOwnProperty("grpTitle")||i++}),t.filterLength=i,t.onFilterChange(e)}}),setTimeout(function(){t.calculateDropdownDirection()}),this.virtualScroollInit=!1},t.prototype.ngOnChanges=function(t){t.data&&!t.data.firstChange&&(this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),0==this.data.length&&(this.selectedItems=[]),this.groupCachedItems=this.cloneArray(this.groupedData)),this.cachedItems=this.cloneArray(this.data)),t.settings&&!t.settings.firstChange&&(this.settings=Object.assign(this.defaultSettings,this.settings)),this.settings.lazyLoading&&this.virtualScroollInit&&t.data&&(this.virtualdata=t.data.currentValue)},t.prototype.ngDoCheck=function(){this.selectedItems&&(0==this.selectedItems.length||0==this.data.length||this.selectedItems.length<this.data.length)&&(this.isSelectAll=!1)},t.prototype.ngAfterViewInit=function(){},t.prototype.ngAfterViewChecked=function(){this.selectedListElem.nativeElement.clientHeight&&"top"==this.settings.position&&this.selectedListHeight&&(this.selectedListHeight.val=this.selectedListElem.nativeElement.clientHeight,this.cdr.detectChanges())},t.prototype.onItemClick=function(t,e,i){if(t.disabled)return!1;if(this.settings.disabled)return!1;var n=this.isSelected(t),s=this.selectedItems.length<this.settings.limitSelection;n?(this.removeSelected(t),this.onDeSelect.emit(t)):this.settings.limitSelection?s&&(this.addSelected(t),this.onSelect.emit(t)):(this.addSelected(t),this.onSelect.emit(t)),(this.isSelectAll||this.data.length>this.selectedItems.length)&&(this.isSelectAll=!1),this.data.length==this.selectedItems.length&&(this.isSelectAll=!0),this.settings.groupBy&&this.updateGroupInfo(t)},t.prototype.validate=function(t){return null},t.prototype.writeValue=function(t){if(null!=t&&""!==t)if(this.settings.singleSelection)if(this.settings.groupBy)this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData),this.selectedItems=[t[0]];else try{if(t.length>1)throw this.selectedItems=[t[0]],new c(404,{msg:"Single Selection Mode, Selected Items cannot have more than one item."});this.selectedItems=t}catch(e){console.error(e.body.msg)}else this.selectedItems=this.settings.limitSelection?t.slice(0,this.settings.limitSelection):t,this.selectedItems.length===this.data.length&&this.data.length>0&&(this.isSelectAll=!0),this.settings.groupBy&&(this.groupedData=this.transformData(this.data,this.settings.groupBy),this.groupCachedItems=this.cloneArray(this.groupedData));else this.selectedItems=[]},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.trackByFn=function(t,e){return e[this.settings.primaryKey]},t.prototype.isSelected=function(t){var e=this;if(t.disabled)return!1;var i=!1;return this.selectedItems&&this.selectedItems.forEach(function(n){t[e.settings.primaryKey]===n[e.settings.primaryKey]&&(i=!0)}),i},t.prototype.addSelected=function(t){t.disabled||(this.settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t),this.closeDropdown()):this.selectedItems.push(t),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems))},t.prototype.removeSelected=function(t){var e=this;this.selectedItems&&this.selectedItems.forEach(function(i){t[e.settings.primaryKey]===i[e.settings.primaryKey]&&e.selectedItems.splice(e.selectedItems.indexOf(i),1)}),this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems)},t.prototype.toggleDropdown=function(t){if(this.settings.disabled)return!1;this.isActive=!this.isActive,this.isActive?(this.openDropdown(),this.calculateDropdownDirection()):this.closeDropdown(),this.settings.lazyLoading&&(this.virtualdata=this.data,this.virtualScroollInit=!0),t.preventDefault()},t.prototype.openDropdown=function(){var t=this;if(this.settings.disabled)return!1;this.isActive=!0,this.settings.searchAutofocus&&this.searchInput&&this.settings.enableSearchFilter&&!this.searchTempl&&setTimeout(function(){t.searchInput.nativeElement.focus()},0),this.onOpen.emit(!0)},t.prototype.closeDropdown=function(){this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.onClose.emit(!1)},t.prototype.closeDropdownOnClickOut=function(){this.isActive&&(this.searchInput&&this.settings.lazyLoading&&(this.searchInput.nativeElement.value=""),this.searchInput&&(this.searchInput.nativeElement.value=""),this.filter="",this.isActive=!1,this.clearSearch(),this.onClose.emit(!1))},t.prototype.toggleSelectAll=function(t){var e=this;this.isSelectAll?(this.settings.groupBy&&(this.groupedData.forEach(function(t){t.selected=!1}),this.groupCachedItems.forEach(function(t){t.selected=!1})),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)):(this.selectedItems=[],this.settings.groupBy&&(this.groupedData.forEach(function(t){t.selected=!t.disabled}),this.groupCachedItems.forEach(function(t){t.selected=!t.disabled})),this.selectedItems=this.data.filter(function(t){return!t.disabled}),this.isSelectAll=!0,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onSelectAll.emit(this.selectedItems)),setTimeout(function(){e.calculateDropdownDirection()}),t.stopPropagation()},t.prototype.filterGroupedList=function(){var t=this;""!=this.filter&&null!=this.filter?(this.groupedData=this.cloneArray(this.groupCachedItems),this.groupedData=this.groupedData.filter(function(e){var i=[];return i=e[t.settings.labelKey].toLowerCase().indexOf(t.filter.toLowerCase())>-1?e.list:e.list.filter(function(e){return e[t.settings.labelKey].toLowerCase().indexOf(t.filter.toLowerCase())>-1}),e.list=i,e[t.settings.labelKey].toLowerCase().indexOf(t.filter.toLowerCase())>-1?i:i.some(function(e){return e[t.settings.labelKey].toLowerCase().indexOf(t.filter.toLowerCase())>-1})})):this.clearSearch()},t.prototype.toggleFilterSelectAll=function(){var t=this;if(this.isFilterSelectAll){var e=[];this.settings.groupBy?(this.groupedData.forEach(function(i){i.list&&i.list.forEach(function(i){t.isSelected(i)&&(t.removeSelected(i),e.push(i))}),t.updateGroupInfo(i)}),this.ds.getFilteredData().forEach(function(i){t.isSelected(i)&&(t.removeSelected(i),e.push(i))})):this.ds.getFilteredData().forEach(function(i){t.isSelected(i)&&(t.removeSelected(i),e.push(i))}),this.isFilterSelectAll=!1,this.onFilterDeSelectAll.emit(e)}else{var i=[];this.settings.groupBy?(this.groupedData.forEach(function(e){e.list&&e.list.forEach(function(e){t.isSelected(e)||(t.addSelected(e),i.push(e))}),t.updateGroupInfo(e)}),this.ds.getFilteredData().forEach(function(e){t.isSelected(e)||e.hasOwnProperty("grpTitle")||(t.addSelected(e),i.push(e))})):this.ds.getFilteredData().forEach(function(e){t.isSelected(e)||(t.addSelected(e),i.push(e))}),this.isFilterSelectAll=!0,this.onFilterSelectAll.emit(i)}},t.prototype.toggleInfiniteFilterSelectAll=function(){var t=this;this.isInfiniteFilterSelectAll?(this.virtualdata.forEach(function(e){t.isSelected(e)&&t.removeSelected(e)}),this.isInfiniteFilterSelectAll=!1):(this.virtualdata.forEach(function(e){t.isSelected(e)||t.addSelected(e)}),this.isInfiniteFilterSelectAll=!0)},t.prototype.clearSearch=function(){this.settings.groupBy&&(this.groupedData=[],this.groupedData=this.cloneArray(this.groupCachedItems)),this.filter="",this.isFilterSelectAll=!1},t.prototype.onFilterChange=function(t){var e=this;(this.filter&&""==this.filter||0==t.length)&&(this.isFilterSelectAll=!1);var i=0;t.forEach(function(t){!t.hasOwnProperty("grpTitle")&&e.isSelected(t)&&i++}),i>0&&this.filterLength==i?this.isFilterSelectAll=!0:i>0&&this.filterLength!=i&&(this.isFilterSelectAll=!1),this.cdr.detectChanges()},t.prototype.cloneArray=function(t){if(Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"==typeof t)throw"Cannot clone array containing an object!";return t},t.prototype.updateGroupInfo=function(t){var e=this;if(t.disabled)return!1;var i=this.settings.groupBy;this.groupedData.forEach(function(n){var s=0;n.grpTitle&&t[i]==n[i]&&n.list&&n.list.forEach(function(t){e.isSelected(t)&&s++}),n.list&&s===n.list.length&&t[i]==n[i]?n.selected=!0:n.list&&s!=n.list.length&&t[i]==n[i]&&(n.selected=!1)}),this.groupCachedItems.forEach(function(n){var s=0;n.grpTitle&&t[i]==n[i]&&n.list&&n.list.forEach(function(t){e.isSelected(t)&&s++}),n.list&&s===n.list.length&&t[i]==n[i]?n.selected=!0:n.list&&s!=n.list.length&&t[i]==n[i]&&(n.selected=!1)})},t.prototype.transformData=function(t,e){var i=this,n=t.reduce(function(t,i){return t[i[e]]?t[i[e]].push(i):t[i[e]]=[i],t},{}),s=[];return Object.keys(n).map(function(t){var e={},r=[];e.grpTitle=!0,e[i.settings.labelKey]=t,e[i.settings.groupBy]=t,e.selected=!1,e.list=[];var o=0;n[t].forEach(function(t){t.list=[],t.disabled&&(i.isDisabledItemPresent=!0,r.push(t)),e.list.push(t),i.isSelected(t)&&o++}),e.selected=o==e.list.length,e.disabled=r.length===n[t].length,s.push(e)}),s},t.prototype.filterInfiniteList=function(t){var e=this,i=[];if(this.settings.groupBy?this.groupedData=this.groupCachedItems.slice():(this.data=this.cachedItems.slice(),this.virtualdata=this.cachedItems.slice()),(null!=t||""!=t)&&!this.settings.groupBy){if(this.settings.searchBy.length>0)for(var n=function(n){s.virtualdata.filter(function(s){s[e.settings.searchBy[n].toString()].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0&&i.push(s)})},s=this,r=0;r<this.settings.searchBy.length;r++)n(r);else this.virtualdata.filter(function(e){for(var n in e)if(e[n].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0){i.push(e);break}});this.virtualdata=[],this.virtualdata=i,this.infiniteFilterLength=this.virtualdata.length}""!=t.toString()&&this.settings.groupBy?(this.groupedData.filter(function(e){if(e.hasOwnProperty("grpTitle"))i.push(e);else for(var n in e)if(e[n].toString().toLowerCase().indexOf(t.toString().toLowerCase())>=0){i.push(e);break}}),this.groupedData=[],this.groupedData=i,this.infiniteFilterLength=this.groupedData.length):""==t.toString()&&this.cachedItems.length>0&&(this.virtualdata=[],this.virtualdata=this.cachedItems,this.infiniteFilterLength=0),this.virtualScroller.refresh()},t.prototype.resetInfiniteSearch=function(){this.filter="",this.isInfiniteFilterSelectAll=!1,this.virtualdata=[],this.virtualdata=this.cachedItems,this.groupedData=this.groupCachedItems,this.infiniteFilterLength=0},t.prototype.onScrollEnd=function(t){this.onScrollToEnd.emit(t)},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.selectGroup=function(t){var e=this;if(t.disabled)return!1;t.selected?(t.selected=!1,t.list.forEach(function(t){e.removeSelected(t)}),this.onGroupDeSelect.emit(t),this.updateGroupInfo(t)):(t.selected=!0,t.list.forEach(function(t){e.isSelected(t)||e.addSelected(t)}),this.onGroupSelect.emit(t),this.updateGroupInfo(t))},t.prototype.addFilterNewItem=function(){this.onAddFilterNewItem.emit(this.filter),this.filterPipe=new p(this.ds),this.filterPipe.transform(this.data,this.filter,this.settings.searchBy)},t.prototype.calculateDropdownDirection=function(){var t=this.cuppaDropdown.nativeElement;if(this.dropDownWidth=t.clientWidth,this.dropDownLeft=t.getBoundingClientRect().x,"top"!=this.settings.position||this.settings.autoPosition?"bottom"!=this.settings.position||this.settings.autoPosition||this.openTowardsTop(!1):this.openTowardsTop(!0),this.settings.autoPosition){var e=this.dropdownListElem.nativeElement.clientHeight,i=document.documentElement.clientHeight,n=this.selectedListElem.nativeElement.getBoundingClientRect(),s=n.top;this.openTowardsTop(i-n.top<s&&e<s)}},t.prototype.openTowardsTop=function(t){var e=this.cuppaDropdown.nativeElement;t&&this.selectedListElem.nativeElement.clientHeight?(this.dropdownListYOffset=15-this.selectedListElem.nativeElement.clientHeight,this.dropDownTop=e.getBoundingClientRect().y-this.dropdownListElem.nativeElement.clientHeight-15,this.settings.position="top"):(this.dropDownTop=e.getBoundingClientRect().y+e.clientHeight+1,this.dropdownListYOffset=0,this.settings.position="bottom")},t.prototype.clearSelection=function(t){this.settings.groupBy&&this.groupCachedItems.forEach(function(t){t.selected=!1}),this.clearSearch(),this.selectedItems=[],this.isSelectAll=!1,this.onChangeCallback(this.selectedItems),this.onTouchedCallback(this.selectedItems),this.onDeSelectAll.emit(this.selectedItems)},t}(),C=function(){return function(){}}()}}]);