(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{"/scs":function(e,a,t){function i(e){var a=[];return e.eachLayer(function(e){a.push(r(e))}),a}function r(e){var a=function(e){var a={};for(var t in e){var i=e[t];a[t]=i&&i.clone?i.clone():i instanceof L.Layer?r(i):i}return a}(e.options);if(e instanceof L.SVG)return L.svg(a);if(e instanceof L.Canvas)return L.canvas(a);if(L.GridLayer.GoogleMutant&&e instanceof L.GridLayer.GoogleMutant){var t=L.gridLayer.googleMutant(a);return e._GAPIPromise.then(function(){var a=Object.keys(e._subLayers);for(var i in a)t.addGoogleLayer(a[i])}),t}if(e instanceof L.TileLayer.WMS)return L.tileLayer.wms(e._url,a);if(e instanceof L.TileLayer)return L.tileLayer(e._url,a);if(e instanceof L.ImageOverlay)return L.imageOverlay(e._url,e._bounds,a);if(e instanceof L.Marker)return L.marker(e.getLatLng(),a);if(e instanceof L.Circle)return L.circle(e.getLatLng(),e.getRadius(),a);if(e instanceof L.CircleMarker)return L.circleMarker(e.getLatLng(),a);if(e instanceof L.Rectangle)return L.rectangle(e.getBounds(),a);if(e instanceof L.Polygon)return L.polygon(e.getLatLngs(),a);if(e instanceof L.Polyline)return L.polyline(e.getLatLngs(),a);if(e instanceof L.GeoJSON)return L.geoJson(e.toGeoJSON(),a);if(e instanceof L.FeatureGroup)return L.featureGroup(i(e));if(e instanceof L.LayerGroup)return L.layerGroup(i(e));throw"Unknown layer, cannot clone this layer. Leaflet-version: "+L.version}e.exports=r},"28iM":function(e,a){L.Control.BetterScale=L.Control.extend({options:{position:"bottomleft",maxWidth:150,metric:!1,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var a="leaflet-control-better-scale",t=L.DomUtil.create("div",a),i=this.options,r=L.DomUtil.create("div",a+"-ruler",t);return L.DomUtil.create("div",a+"-ruler-block "+a+"-upper-first-piece",r),L.DomUtil.create("div",a+"-ruler-block "+a+"-upper-second-piece",r),L.DomUtil.create("div",a+"-ruler-block "+a+"-lower-first-piece",r),L.DomUtil.create("div",a+"-ruler-block "+a+"-lower-second-piece",r),this._addScales(i,a,t),this.ScaleContainer=t,e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,a,t){this._iScale=L.DomUtil.create("div",a+"-label-div",t),this._iScaleLabel=L.DomUtil.create("div",a+"-label",this._iScale),this._iScaleFirstNumber=L.DomUtil.create("div",a+"-label "+a+"-first-number",this._iScale),this._iScaleSecondNumber=L.DomUtil.create("div",a+"-label "+a+"-second-number",this._iScale)},_update:function(){var e=this._map.getBounds(),a=e.getCenter().lat,t=6378137*Math.PI*Math.cos(a*Math.PI/180)*(e.getNorthEast().lng-e.getSouthWest().lng)/180,i=this._map.getSize(),r=this.options,n=0;i.x>0&&(n=t*(r.maxWidth/i.x)),this._updateScales(r,n)},_updateScales:function(e,a){e.metric&&a&&this._updateMetric(a),e.imperial&&a&&this._updateImperial(a)},_updateMetric_old:function(e){var a=this._getRoundNum(e);this._iScale.style.width=this._getScaleWidth(a/e)+"px",this._iScaleLabel.innerHTML=1e3>a?a+" m":a/1e3+" km"},_updateMetric:function(e){var a,t,i,r,n,o=e,s=this._iScaleFirstNumber,l=this._iScaleSecondNumber,u=this._iScale;this._iScaleLabel.innerHTML="0",o>500?(t=this._getRoundNum(a=o/1e3),r=this._getRoundNum(a/2),u.style.width=this._getScaleWidth(t/a)+"px",s.innerHTML=r,l.innerHTML=t+"km"):(i=this._getRoundNum(o),n=this._getRoundNum(o/2),u.style.width=this._getScaleWidth(i/o)+"px",s.innerHTML=n,l.innerHTML=i+"m")},_updateImperial:function(e){var a,t,i,r,n,o=3.2808399*e,s=this._iScaleFirstNumber,l=this._iScaleSecondNumber,u=this._iScale;this._iScaleLabel.innerHTML="0",o>2640?(t=this._getRoundNum(a=o/5280),r=this._getRoundNum(a/2),u.style.width=this._getScaleWidth(t/a)+"px",s.innerHTML=r,l.innerHTML=t+"mi"):(i=this._getRoundNum(o),n=this._getRoundNum(o/2),u.style.width=this._getScaleWidth(i/o)+"px",s.innerHTML=n,l.innerHTML=i+"ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){if(e>=2){var a=Math.pow(10,(Math.floor(e)+"").length-1),t=e/a;return a*(t>=10?10:t>=5?5:t>=3?3:t>=2?2:1)}return(Math.round(100*e)/100).toFixed(1)}}),L.control.betterscale=function(e){return new L.Control.BetterScale(e)}},DXwL:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var i=function(){return function(){}}()},HgZ9:function(e,a,t){"use strict";t.d(a,"a",function(){return i});var i=function(){function e(e){this.spinnerService=e}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){e.show&&e.show.currentValue?this.startLoader():this.stopLoader()},e.prototype.startLoader=function(){this.spinnerService.startLoader(this.id)},e.prototype.stopLoader=function(){try{this.spinnerService.stopLoader(this.id)}catch(e){}},e}()},YAWo:function(e,a){L.Control.Fullscreen=L.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(e){var a=L.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=L.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",a),this.link.href="#",this._map=e,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(this.link,"click",this._click,this),a},_click:function(e){L.DomEvent.stopPropagation(e),L.DomEvent.preventDefault(e),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),L.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(e){var a=this.getContainer();this.isFullscreen()?e&&e.pseudoFullscreen?this._disablePseudoFullscreen(a):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(a):e&&e.pseudoFullscreen?this._enablePseudoFullscreen(a):a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.msRequestFullscreen?a.msRequestFullscreen():this._enablePseudoFullscreen(a)},_enablePseudoFullscreen:function(e){L.DomUtil.addClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(e){L.DomUtil.removeClass(e,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(e){this._isFullscreen=e;var a=this.getContainer();e?L.DomUtil.addClass(a,"leaflet-fullscreen-on"):L.DomUtil.removeClass(a,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(e){var a=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;a!==this.getContainer()||this._isFullscreen?a!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),L.Map.mergeOptions({fullscreenControl:!1}),L.Map.addInitHook(function(){var e;if(this.options.fullscreenControl&&(this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?e="fullscreenchange":"onmozfullscreenchange"in document?e="mozfullscreenchange":"onwebkitfullscreenchange"in document?e="webkitfullscreenchange":"onmsfullscreenchange"in document&&(e="MSFullscreenChange"),e){var a=L.bind(this._onFullscreenChange,this);this.whenReady(function(){L.DomEvent.on(document,e,a)}),this.on("unload",function(){L.DomEvent.off(document,e,a)})}}),L.control.fullscreen=function(e){return new L.Control.Fullscreen(e)}},a4Ci:function(e,a,t){"use strict";t.r(a);var i=t("CcnG"),r=function(){return function(){}}(),n=t("pMnS"),o=t("P3pc"),s=t("qhgg"),l=t("ZYCi"),u=t("q4vc"),c=t("4R65"),p=(t("ovIW"),t("Gliu"),t("T9kQ"),t("28iM"),t("9HRS"),t("fFf7"),t("XWfP")),d=(t("e+94"),t("MCLT")),m=t("26FU"),h=t("/scs"),g=t.n(h),f=t("rhxO"),y=t("YBz7"),v=t("gM3f"),b=(Promise.resolve().then(t.t.bind(null,"wd/R",7)).then(function(e){return e.default||e}),function(){function e(e,a,t,i){this.gisPopupService=e,this.router=a,this.utilsService=t,this.dataaService=i,this.threeHourTimestamp=108e5,this.iconStatus=new m.a("false"),this.barrageSpillwayNameMapping={Placemark:{name:"Sadarmat Barrage"},SPYP:{name:"Sri Pada Yellampalli Project"},"Parvathi Barrage":{name:"Parvathi Barrage"},"Saraswathi Barrage":{name:"Saraswati Barrage"},"Lakshmi Barrage":{name:"Lakshmi Barrage"},"Thupakulagudem Barrage":{name:"Thupakulagudem Barrage"},"Dummugudem Barrage":{name:"Dummugudem Barrage"},"Polavarm Project":{name:"Polavaram Project"},"SAC Barrage":{name:"Sir Aurthur Cotton Barrage"},LMD:{name:"Lower Manair Dam"},SRR:{name:"SRR Reservoir"},"Upper Manair":{name:"Upper Manair Dam"},SRSP:{name:"Sri Ram Sagar Project"}},this.riverPumpCommonPath={"path-river-mukpal-ph-inflow":0,"path-river-mukpal-ph-outflow":0,"path-river-rajeshwaraopet-ph-outflow":0,"path-river-rampur-ph-outflow1":0,"path-river-rampur-ph-gayathri-ph-outflow":0},this.pumpHouseIdMapping={"Lakshmi PH":{name:"Lakshmi PH",gps:[18.7877,79.9224]},"Saraswati PH":{name:"Saraswati PH",gps:[18.8386,79.4053]},"Parvathi PH":{name:"Parvathi PH"},"Nandi PH":{name:"Nandi PH",gps:[18.7125,79.2346]},"Gayathri PH":{name:"Gayathri PH",gps:[18.6069,79.1033]},"Annapurna PH":{name:"Annapurna PH",gps:[18.3076,78.9203]},"Ranganayaka Sagar PH":{name:"Ranganayaka Sagar PH",gps:[18.1902,78.8818]},"Mallanna Sagar PH":{name:"Mallanna Sagar PH",gps:[18.0493,78.7692]},"Kondapochamma Sagar PH-1 Akkaram":{name:"Kondapochamma Sagar PH-1 Akkaram",gps:[17.8455,78.75]},"Kondapochamma Sagar PH-2 Markook":{name:"Kondapochamma Sagar PH-2 Markook",gps:[17.7827,78.7335]},"Rampur PH":{name:"Rampur PH"},"Rajeshwaraopet PH":{name:"Rajeshwaraopet PH"},"Mukpal PH":{name:"Mukpal PH"},"Hangarga PH1":{name:"Hangarga PH1"},"Hangarga PH2":{name:"Hangarga PH2"},"Dilwapur PH":{name:"Dilwapur PH"},"Manasani PH":{name:"Manasani PH"},"Kondem Cheruvu PH":{name:"Kondem Cheruvu PH"},"Bhumapally PH":{name:"Bhumapally PH"},"Devikonda PH1":{name:"Devikonda PH1"},"Devikonda PH2":{name:"Devikonda PH2"},"Malakapet PH":{name:"Malakapet PH"},"Upper Manair PH":{name:"Upper Manair PH"},"Annapurna PH1":{name:"Annapurna PH1"},"Annapurna PH2":{name:"Annapurna PH2"},"Annapurna PH3":{name:"Annapurna PH3"}},this.deactivePumpList=["Hangarga PH1","Hangarga PH2","Dilwapur PH","Manasani PH","Kondem Cheruvu PH","Bhumapally PH","Devikonda PH1","Devikonda PH2","Malakapet PH","Upper Manair PH","Annapurna PH2","Annapurna PH3"],this.reservoirNameMapping={"Lakshmi Barrage":{name:"LB",gps:[18.7581,80.0958]},"Saraswati Barrage":{name:"SB",gps:[18.7789,79.7662]},"Parvathi Barrage":{name:"PB",gps:[18.7685,79.6179]},"Sri Ram Sagar Project":{name:"SRSP",gps:[19.076,78.231]},"Kaddam Adi Narayana Reddy Project":{name:"Kaddam",gps:[19.1348,78.783]},"Sri Pada Yellampalli Project":{name:"SPYP",gps:[18.8959,79.1979]},"Nandi Reservoir":{name:"Nandi",gps:[18.6983,79.2746]},"SRR Reservoir":{name:"SRR",gps:[18.3623,78.9478]},"Upper Manair Dam":{name:"UMD",gps:[18.3128,78.4616]},"Lower Manair Dam":{name:"LMD",gps:[18.4562,79.1098]},"Annapurna Reservoir":{name:"APR",gps:[18.258,78.9478]},"Sri Ranganayaka Sagar":{name:"SRS",gps:[18.1432,78.9038]},"Komaravelly Mallanna Sagar":{name:"SKMS",gps:[17.9604,78.7974]},"Konda Pochamma Reservoir":{name:"KP Sagar",gps:[17.699,78.6813]},"Gandamalla Reservoir":{name:"Gandamalla",gps:[17.7278,78.8763]},"Nrusimha Sagar Reservoir":{name:"NRS",gps:[17.5419,78.8818]},"Mogaligundla Baga Reddy Singur Project":{name:"Singur",gps:[17.8245,77.959]},"Nizam Sagar Project":{name:"Nizam Sagar",gps:[18.1641,78.0524]},"Channakha - Korata Barrage":{name:"CK Barrage",gps:[19.79,78.52]},"Sadarmat Barrage":{name:"Sadarmat",gps:[18.966,78.5825]},"Thupakulagudem Barrage":{name:"TB",gps:[18.5994,80.4337]},"Mylaram Balancing Reservoir":{name:"MBR",gps:[17.6676,79.6069]},"Bayyanavagu Balancing Reservoir":{name:"BBR",gps:[17.5393,79.5163]},"Mothe Reservoir":{name:"Mothe",gps:[18.2946,78.1595]},"Dharmaraopet & Moddojiwada Tank":{name:"Dharmaraopet",gps:[18.4067,78.2364]},"Manasani Tank":{name:"Manasani",gps:[18.6072,77.981]},"Bhumapally Reservoir":{name:"Bhumapally",gps:[18.4353,78.2034]},"Katewadi Reservoir":{name:"Katewadi",gps:[18.4223,77.9013]},"Kondem Cheruvu":{name:"Kondem",gps:[18.5447,78.1458]},"Thimmakkapalli Reservoir":{name:"Thimmakkapalli",gps:[18.2633,78.3325]},"Mahabub sagar":{name:"Mahabub",gps:[17.5917,78.0276]},"Shameerpet Lake":{name:"Shameerpet",gps:[17.5956,78.4726]},"Ravakole Tank":{name:"Ravakole",gps:[17.6637,78.533]},"Sammakka Barrage":{name:"Sammakka Barrage",gps:[18.5812,80.4474]},"Sita Rama LIS/Dummugudem Anicut":{name:"Sita Rama LIS/Dummugudem Barrage",gps:[17.8245,80.9061]}},this.pumphouseDirectionMapping={"Lakshmi PH":"minus45","Saraswati PH":"minus45","Nandi PH":"minus45","Gayathri PH":"minus45","Annapurna PH":"horizontal","Ranganayaka Sagar PH":"horizontal","Mallanna Sagar PH":"horizontal","Parvathi PH":"plus45","Kondapochamma Sagar PH-1 Akkaram":"horizontal","Kondapochamma Sagar PH-2 Markook":"horizontal","Rajeshwaraopet PH":"plus45","Mukpal PH":"horizontal","Rampur PH":"plus45","Hangarga PH2":"plus45","Hangarga PH1":"plus45","Devikonda PH2":"minus45","Devikonda PH1":"minus45","Annapurna PH2":"minus45","Annapurna PH3":"minus45"}}return e.prototype.animateRiverFlowpath=function(e,a,t,i,r,n){var o=this,s=new c.LayerGroup;return c.geoJSON(e,{pane:"rivers",cacheLayers:!0,onEachFeature:function(e,i){i.setStyle(o.getStyle("#99ccff","rivers"));var r=g()(i);r.setStyle(o.getClonedLayerStyle("#3399ff")),s.addLayer(r);var n=!1;if(Object.prototype.hasOwnProperty.call(y.a.pathID,e.properties.mmic_id))for(var l=y.a.pathID[e.properties.mmic_id],u=0,c=l.type;u<c.length;u++){var p=c[u];"RESERVOIR"==p?o.reservoirAnimate(l[p],t)&&(n=!0):"FLOWNODE"==p&&o.flownodeAnimate(l[p],a)&&(n=!0),1==n&&(i.setStyle("left"==l.direction?{className:"directiveNormalAnimation"}:{className:"directiveReverseAnimation"}),s.addLayer(i))}}}),s},e.prototype.animateLinkpath=function(e,a,t,i,r,n){var o=this,s=r,l=new c.LayerGroup;return c.geoJSON(e,{pane:"rivers",cacheLayers:!0,onEachFeature:function(e,i){i.setStyle(o.getStyle("#99ccff","pump")),r="#4d2600",s="#4d94ff";var n=g()(i);n.setStyle(o.getClonedLayerStyle(r)),l.addLayer(n);var u=!1;if(Object.prototype.hasOwnProperty.call(y.a.linkPipeLIneID,e.properties.mmic_id)){for(var c=y.a.linkPipeLIneID[e.properties.mmic_id],p=0,d=c.type;p<d.length;p++){var m=d[p];"NONE"==m?(n.setStyle(o.getClonedLayerStyle("#C0C0C0")),i.setStyle(o.getStyle("#C0C0C0","rivers"))):u=o.pathAnimate(c[m],t,m,a,c,e.properties.mmic_id)}1==u&&("left"==c.direction?i.setStyle({color:s,className:"directiveReverseAnimation"}):"right"==c.direction&&i.setStyle({color:s,className:"directiveNormalAnimation"}),l.addLayer(i))}}}),l},e.prototype.animateCanalepath=function(e,a,t,i,r,n){var o=this,s=new c.LayerGroup;return c.geoJSON(e,{pane:"rivers",cacheLayers:!0,onEachFeature:function(e,i){i.setStyle(o.getStyle(r,"rivers"));var n=g()(i);n.setStyle(o.getClonedLayerStyle("#1a75ff")),s.addLayer(n);var l=!1;if(Object.prototype.hasOwnProperty.call(y.a.canalPathID,e.properties.mmic_id)){for(var u=y.a.canalPathID[e.properties.mmic_id],c=0,p=u.type;c<p.length;c++){var d=p[c];"NONE"==d?(n.setStyle(o.getClonedLayerStyle("#C0C0C0")),i.setStyle(o.getStyle("#C0C0C0","rivers"))):l=o.pathAnimate(u[d],a,d,t,u,e.properties.mmic_id)}1==l?"left"==u.direction?i.setStyle({dashArray:"10 15",className:"directiveReverseAnimation"}):"right"==u.direction&&i.setStyle({dashArray:"10 15",className:"directiveNormalAnimation"}):i.setStyle({dashArray:"0"}),s.addLayer(i)}}}),s},e.prototype.addReservoirPumpMarkerLayer=function(e,a,t,i,r,n){var o,s,l=this,u=new c.LayerGroup,m=function(t){var i,r,m=e[t].properties,g=e[t].properties.display_na;r=h.pumphouseDirectionMapping[g]?h.pumphouseDirectionMapping[g]:"horizontal";var f=void 0;a[h.pumpHouseIdMapping[g].name]=Object(d.isNullOrUndefined)(a[g])?null:a[g],i=1==(o=h.gisPopupService.getGisCmViewPumpHousePopup(a[g],g,a[g]))[1]?{vertical:"../assets/imgs/PH_vertical_red.svg",horizontal:"../assets/imgs/PH_red_horizontal.svg",minus45:"../assets/imgs/deg_minus45_redPH.svg",plus45:"../assets/imgs/deg_45_redPH.svg"}[r]:h.deactivePumpList.includes(g)?{vertical:"../assets/imgs/PH_vertical_gray.svg",horizontal:"../assets/imgs/PH_gray_horizontal.svg",minus45:"../assets/imgs/deg_minus45_grayPH.svg",plus45:"../assets/imgs/deg_45_grayPH.svg"}[r]:{vertical:"../assets/imgs/vertical.svg",horizontal:"../assets/imgs/PH-horizantal.svg",minus45:"../assets/imgs/PH-minus45.svg",plus45:"../assets/imgs/PH-plus45.svg"}[r];var y=c.icon({iconUrl:i,iconSizeArray:[[40,12],[45,17],[46,20],[47,21],[47,22],[60,24],[70,28],[70,28],[70,28],[75,30]],iconAnchorArray:[[20,6],[22,8],[23,10],[23,10],[24,11],[30,24],[35,14],[35,14],[35,28],[38,15]],iconZoomArray:[9,11,12,13,14,15,16,17,18,19],pane:"pump",popupAnchor:[0,0],className:"marker-transition"});f=[m.lat,m.lon],"Annapurna PH3"==g&&(f=[18.1928,78.8544]);var v=(new c.autoResizeMarkerSVG).setLatLng(f).setIcon(y);s=o[0];var b=p.responsivePopup({hasTip:!1,autoPan:!0,offset:[10,20],minWidth:300,maxWidth:300,closeButton:!1}).setContent(s);v.bindPopup(b),v.on({mouseover:function(e){},click:function(e){v.openPopup(),n.locName=g,n.locType="PUMP_HOUSE",n.heatmapReload=!1,l.router.navigate(["kaleshwaram","geoportal","gis-cm",n])},mouseout:function(e){v.closePopup()}}),u.addLayer(v)},h=this;for(var g in e)m(g);return u},e.prototype.addBarrage=function(e,a,t,i,r,n,o,s){var l=this;return c.geoJSON(e,{pane:"barrage",onEachFeature:function(e,u){var d=l.barrageSpillwayNameMapping[e.properties.name].name;u.setStyle(a[l.barrageSpillwayNameMapping[e.properties.name].name]?{fillColor:"red",color:"red",fillOpacity:1}:{color:"gray",fillColor:"gray",fillOpacity:1}),u.on({click:function(u){var m=u.target,h=a[l.barrageSpillwayNameMapping[e.properties.name].name]?a[l.barrageSpillwayNameMapping[e.properties.name].name]:[];h.display__1=d;var g=l.gisPopupService.getGisCmViewPopup(d,h,t,i,r,n,s);p.responsivePopup({hasTip:!0,autoPan:!0,offset:[1,2],minWidth:290,maxWidth:290,closeButton:!1}).setLatLng(u.latlng).setContent(g).openOn(o),c.Browser.ie||c.Browser.edge||m.bringToFront()},mouseover:function(e){},mouseout:function(e){o.closePopup()}})}})},e.prototype.addRiverName=function(e,a,t,i,r,n){var o,s=this,l=[],u=[];o=[16.9425,81.8069];var p,m="<div style='font-size:"+1.2*r.getZoom()+"px;color:white;width:100px'>SAC</br>barrage</div>",h=c.divIcon({className:"my-div-icon",html:m});c.marker(o,{icon:h}).addTo(r),p=[19.5236,75.2316];var g=t.JAIKWADI?Object(d.isNullOrUndefined)(t.JAIKWADI.st)?"-":t.JAIKWADI.st.toFixed(1):"-",f=t.JAIKWADI?Object(d.isNullOrUndefined)(t.JAIKWADI.md.gc)?"-":t.JAIKWADI.md.gc.toFixed(1):"-",y="<div style='font-size:"+1.1*r.getZoom()+"px;color:white;width:100px'>Jaikwadi</br><span style='color:white'>"+g+" / "+f+"</span></div>",v=c.divIcon({className:"my-div-icon",html:y});return c.marker(p,{icon:v}).addTo(r),c.geoJSON(a,{onEachFeature:function(e,a){var t,i=s.reservoirNameMapping[e.properties.display__1]?s.reservoirNameMapping[e.properties.display__1].name:e.properties.display__1,n=s.reservoirNameMapping[e.properties.display__1]?s.reservoirNameMapping[e.properties.display__1].gps:[0,0],o="<div style='font-size:"+1.2*r.getZoom()+"px;color:white;'>"+i+"</div>",p=c.divIcon({className:"my-div-icon",html:o}),d=c.marker(n,{icon:p});d.addTo(r),t=[e.geometry.coordinates[1],e.geometry.coordinates[0]];var m=s.reservoirNameMapping[e.properties.display__1]?s.reservoirNameMapping[e.properties.display__1].name:e.properties.display__1,h=e.properties.storage?e.properties.storage:"-",g=e.properties.gc?e.properties.gc:"-",f="<div style='font-size:"+1.5*r.getZoom()+"px;color:white;width:100px'>"+m+"</br><span style='color:#ffaa9c'>"+h+"/"+g+"</span></div>",y=c.divIcon({className:"my-div-icon",html:f}),v=c.marker(t,{icon:y});r.on({zoomend:function(e){if(r.getZoom()<11){d.addTo(r),u.includes(d)||u.push(d);for(var a=0;a<l.length;a++)r.hasLayer(l[a])&&r.removeLayer(l[a])}else if(r.getZoom()>=11){var t="<div style='font-size:"+1.5*r.getZoom()+"px;color:white;width:140px'>"+m+"</br><span style='color:white'>"+h+" / "+g+"</span></div>",i=c.divIcon({className:"my-div-icon",html:t});for(v.setIcon(i),v.addTo(r),l.includes(v)||l.push(v),a=0;a<u.length;a++)r.hasLayer(u[a])&&r.removeLayer(u[a])}}})}})},e.prototype.addFlowNodeCircleMarkerLayer=function(e,a,t,i,r,n,o,s,l,u){var d=this,m={stroke:!0,fill:!0,color:"#ff9900",weight:1,opacity:1,fillColor:"#ff9900",fillOpacity:1,radius:4,pane:"markers",className:"circle-transition"},h=new c.LayerGroup;return c.geoJSON(e,{onEachFeature:function(e,t){var g=e.properties.name,f=a[g]?a[g].md:{},y=c.circleMarker([e.geometry.coordinates[1],e.geometry.coordinates[0]],m),v=d.gisPopupService.getGisCmViewFlowNodePopup(a[g]?a[g]:{},f,g,n,o,s,l,u),b=p.responsivePopup({hasTip:!0,autoPan:!1,offset:[1,2],minWidth:300,maxWidth:300,closeButton:!1}).setContent(v);y.on({mouseover:function(e){},mouseout:function(e){y.closePopup(),y.setRadius(y.getRadius())},click:function(e){y.bindPopup(b).openPopup(),y.setRadius(y.getRadius()),r.locName=g,r.locType="FLOW_NODE",r.heatmapReload=!1,d.router.navigate(["kaleshwaram","geoportal","gis-cm",r])}});var L=i.getZoom();i.on({zoomend:function(e){var a=i.getZoom();y.setRadius(a-L>0?a-3:a-5)}}),c.Browser.mobile&&y.on({click:function(e){y.bindPopup(b).openPopup(),y.setRadius(y.getRadius()),r.locName=g,r.locType="FLOW_NODE",r.heatmapReload=!1,d.router.navigate(["kaleshwaram","geoportal","gis-cm",r])}}),h.addLayer(y)}}),h},e.prototype.formatReservoirData=function(e,a,t){var i={};for(var r in a){var n,o,s=a[r],l=s.cl,u=s.md.frl,c=s.st,p=s.md.gc,d=s.i,m=s.o,h=s.mxi,g=s.mxo,f=s.ni,y=s.pi,v=s.egt,b=s.ft,L=s.md.b,S=s.md.n,_=s.sr,P=s.mot,w=s.mit,D=s.egt,N=s.md.la,R=s.md.lg;n=l&&parseFloat(u)>0?(l/u*100).toFixed(1):"-",o=c&&parseFloat(p)>0?(c/p*100).toFixed(1):"-";var O=s.md.lh,F=s.pd,T=s.dv,k=this.getFillColor(o);D=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",D),P=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",P),w=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",w),i[S]={cl:l?l.toFixed(1):"-",frl:u?u.toFixed(1):"-",storage:c?c.toFixed(1):"-",gc:p?p.toFixed(1):"-",inflow:d,outflow:m,maximumInflow:h,maximumOutflow:g,naturalInflow:f,pumpinInflow:y,egt:v,ft:b,basin:L,resName:S,dataSource:_,highOutflowTime:P,highInflowTime:w,currentTime:D,latitude:N?N.toFixed(2):"-",longitude:R?R.toFixed(2):"-",rfLevelpercent:n,rfStoragepercent:o,color:k,lh:O,pd:F,dv:T}}return i},e.prototype.formatOnlyReservoirData=function(e,a,t){var i={};for(var r in a){var n,o,s=a[r],l=s.cl||s.cl>=0?s.cl:null,u=s.md.frl||s.md.frl>=0?s.md.frl:null,c=s.st||s.st>=0?s.st:null,p=s.md.gc||s.md.gc>=0?s.md.gc:null,d=s.i||s.i>=0?s.i:null,m=s.o||s.o>=0?s.o:null,h=s.mxi||s.mxi>=0?s.mxi:null,g=s.mxo||s.mxo>=0?s.mxo:null,f=s.ni||s.ni>=0?s.ni:null,y=s.pi||s.pi>=0?s.pi:null,v=s.egt||s.egt>=0?s.egt:null,b=s.ft||s.ft>=0?s.ft:null,L=s.md.b||null!=s.md.b?s.md.b:"-",S=s.md.n||null!=s.md.n?s.md.n:"-",_=s.sr||null!=s.sr?s.sr:"-",P=s.mot||s.mot>=0?s.mot:null,w=s.mit||s.mit>=0?s.mit:null,D=s.egt||s.egt>=0?s.egt:null,N=s.md.la||s.md.la>=0?s.md.la:null,R=s.md.lg||s.md.lg>=0?s.md.lg:null,O=s.nog||s.nog>=0?s.nog:null;n=l&&parseFloat(u)>0?(l/u*100).toFixed(1):"-",o=c&&parseFloat(p)>0?(c/p*100).toFixed(1):"-";var F=s.md.lh,T=s.pd,k=s.dv,M=this.getFillColor(o);D=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",D),P=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",P),w=this.utilsService.getDateInFormatForecast("DD-MM-YYYY h:mm",w),i[S]={cl:l?l.toFixed(2):"-",frl:u?u.toFixed(2):"-",storage:c?c.toFixed(2):"-",gc:p?p.toFixed(2):"-",inflow:d,nog:O,outflow:m,maximumInflow:h,maximumOutflow:g,naturalInflow:f,pumpinInflow:y,egt:v,ft:b,basin:L,resName:S,dataSource:_,highOutflowTime:P,highInflowTime:w,currentTime:D,latitude:N?N.toFixed(2):"-",longitude:R?R.toFixed(2):"-",rfLevelpercent:n,rfStoragepercent:o,color:M,lh:F,pd:T,dv:k,rd:s.rd}}for(var A=0;A<e.features.length;A++){var C=e.features[A].properties.display__1;"Bayyanavagu Balancing Reservoir"==C?C="Bayyanavagu balancing Reservoir":"Sita Rama LIS/Dummugudem Anicut"==C&&(C="Sitamma Sagar"),null!=i[C]&&Object.assign(e.features[A].properties,i[C])}return e},e.prototype.addReservoirLayer=function(e,a,t,i,r,n,o,s){var l=this,u=.5,d="white";return c.geoJSON(e,{style:this.stylingforGeoJson,pane:"rivers",cacheLayers:!0,onEachFeature:function(e,m){var h=a.getZoom();a.on({zoomend:function(e){new c.LayerGroup;var t=a.getZoom()-h;t>0?(m.options.fillOpacity=.5-.2*t,m.setStyle({fillOpacity:u=m.options.fillOpacity})):(m.options.fillOpacity=.5+.2*t,m.setStyle({fillOpacity:u=m.options.fillOpacity}))}}),m.on({click:function(e){var u=e.target.feature.properties,d=e.target.feature.properties.display__1;"Sita Rama LIS/Dummugudem Anicut"==d&&(d="Sitamma Sagar",u.display__1="Sitamma Sagar");var h=l.gisPopupService.getGisCmViewPopup(d,u,i,r,n,o,s);p.responsivePopup({hasTip:!0,autoPan:!0,offset:[1,2],minWidth:290,maxWidth:290,closeButton:!1}).setLatLng(e.latlng).setContent(h).openOn(a),c.Browser.ie||c.Browser.edge||m.bringToFront(),e.target.getBounds();var g=u.display__1;"Sita Rama LIS/Dummugudem Anicut"==g&&(g="Sitamma Sagar"),t.locName=g,t.locType="RESERVOIR",t.heatmapReload=!1,l.router.navigate(["kaleshwaram","geoportal","gis-cm",t])},mouseover:function(e){var a=e.target;d=a.options.fillColor,a.setStyle({fillColor:"yellow",fillOpacity:.1,color:"yellow",opacity:1})},mouseout:function(e){m.setStyle({fillColor:d,fillOpacity:u,color:"black",opacity:0}),a.closePopup()}}),c.Browser.mobile&&l.setMobileViewPopup(m,i,r,n,o,a,t,d,u,s)}})},e.prototype.getFillColor=function(e){return parseFloat(e)>=0?"blue":"-"==e?"#757D75":void 0},e.prototype.calculateCenter=function(e){return e.reduce(function(a,t){return[a[0]+t[0]/e.length,a[1]+t[1]/e.length]},[0,0])},e.prototype.getCircleMarkerRadius=function(e,a){return a*e*.2},e.prototype.stylingforGeoJson=function(e){return{fillColor:e.properties.color?e.properties.color:"#D2D7D3",weight:.5,opacity:0,color:"black",fillOpacity:.5}},e.prototype.setMobileViewPopup=function(e,a,t,i,r,n,o,s,l,u){var c,d,m=this,h=0;e.on({click:function(e){m.iconStatus.next("true");var s=e.target,l=(e.target.getBounds(),e.target.feature.properties),g=l.display__1;c=s.options.fillColor,d=s.options.fillOpacity,s.setStyle({fillColor:"yellow",fillOpacity:.1,color:"yellow",opacity:1}),h=1;var f=m.gisPopupService.getGisCmViewPopup(e.target.feature.properties.display__1,l=e.target.feature.properties,a,t,i,r,u);p.responsivePopup({hasTip:!0,autoPan:!0,offset:[1,2],minWidth:350,maxWidth:350,closeButton:!1}).setLatLng(e.latlng).setContent(f).openOn(n),o.locName=g,o.locType="RESERVOIR",o.heatmapReload=!1,m.router.navigate(["kaleshwaram","geoportal","gis-cm",o])}}),n.on("popupclose",function(){h&&e.setStyle({fillColor:c,fillOpacity:d,color:"black",opacity:1})})},e.prototype.checkAnimation=function(e,a,t,i,r,n){var o,s,l,u=0;return(e[i]||a[i])&&(e[i]?(o=e[i]?e[i].o:"-",s=e[i]?e[i].nog:"-",Boolean(t)?parseInt(s)>0&&parseFloat(o)>=parseFloat(r)&&(u=1):parseFloat(o)>=parseFloat(r)&&(u=1)):a[i]&&(o=a[i]?a[i].o:"-",s=a[i]?a[i].nog:"-","outflow"==n?l=o:"spillWay"==n?l=a[i]&&a[i].rd?a[i].rd.Spillway:"-":"inflow"==n&&(l=a[i]?a[i].i:"-"),Boolean(t)?parseInt(s)>0&&(Object(d.isNullOrUndefined)(l)||""==l||"-"==l?u=1:parseFloat(l)>=parseFloat(r)&&(u=1)):parseFloat(l)>=parseFloat(r)&&(u=1))),u},e.prototype.pathAnimate=function(e,a,t,i,r,n){var o=!0;if("PUMPHOUSE"==t)for(var s=i[e.locName],l=0,u=e.check;l<u.length;l++){var c=u[l];o=!(!s||null==s[c]||null==s[c])&&(s.dv>0?o||!0:1==this.riverPumpCommonPath[n])}else if("RESERVOIR"==t||"FLOWNODE"==t)for(var p=a[e.locName],d=0,m=e.check;d<m.length;d++)if(c=m[d],p&&null!=p[c]&&null!=p[c])if("rd"==c&&"Sri Ram Sagar Project"==e.locName)"FFC"==(h=r.CANAL.locName)&&p.rd&&p.rd.ot&&p.rd.ot[h]&&p.rd.ot[h]>0?(o=o||!0,this.riverPumpCommonPath[n]=1):this.riverPumpCommonPath[n]=0,o="Kakatiya"==h&&!!(p.rd&&p.rd.ot&&p.rd.ot[h]&&p.rd.ot[h]>0)&&(o||!0);else if("rd"==c&&"Sri Ram Sagar Project"!=e.locName){var h=r.CANAL.locName;o=!!(p.rd&&p.rd.ot&&p.rd.ot[h]&&p.rd.ot[h]>0)&&(o||!0)}else"o"!=c&&"i"!=c||(o=p[c]>=e.threshold&&(o||!0));else o=!1;return o},e.prototype.reservoirAnimate=function(e,a){var t=this,i=!0;if(Array.isArray(e)){var r=[];e.forEach(function(e){var n=a[e.locName],o=t.dataaService.deepClone(n);if(i=!0,e.innerKey){for(var s=void 0,l=0,u=e.check;l<u.length;l++)d=u[l],o=s=o?o[d]:null;i=!(!n||null==s||null==s)&&s>e.threshold&&(i||!0)}else for(var c=0,p=e.check;c<p.length;c++){var d=p[c];n&&null!=n[d]&&null!=n[d]?"i"==d?i=n[d]>e.threshold&&(i||!0):"o"==d?i=n[d]>e.threshold&&(i||!0):"nog"==d&&(i=n[d]>0&&n.o>0&&(i||!0)):i=!1}r.push(i)}),r.forEach(function(e){i=i||e})}else{var n=[],o=a[e.locName],s=this.dataaService.deepClone(o);if(e.innerKey){for(var l=void 0,u=0,c=e.check;u<c.length;u++)m=c[u],s=l=s?s[m]:null;i=!(!o||null==l||null==l)&&l>e.threshold&&(i||!0)}else{for(var p=0,d=e.check;p<d.length;p++){var m=d[p];o&&null!=o[m]&&null!=o[m]?"i"==m?i=o[m]>e.threshold&&(i||!0):"o"==m?i=o[m]>e.threshold&&(i||!0):"nog"==m&&(i=o[m]>0&&o.o>0&&(i||!0)):i=!1,n.push(i)}n.forEach(function(e){i=i||e})}}return i},e.prototype.flownodeAnimate=function(e,a){for(var t=!0,i=a[e.locName],r=0,n=e.check;r<n.length;r++){var o=n[r];i&&null!=i[o]&&null!=i[o]?"i"==o&&(t=i[o]>=e.threshold&&t&&!0):t=!1}return t},e.prototype.checkInflowReservoirStatus=function(e,a,t){var i=0;if(t[e]||t[a]){var r=t[e]?t[e]:t[a]?t[a]:"";(r.i>0?r.i:0)>0&&(i=1)}return i},e.prototype.getStyle=function(e,a){return{pane:a,color:e,opacity:1,weight:3,dashArray:"10 15",fillColor:"red",fillOpacity:10}},e.prototype.getClonedLayerStyle=function(e){return{color:e,opacity:1,dashArray:"0"}},e.prototype.createLegend=function(){return new c.Control.HtmlLegend({position:"bottomright",collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1})},e.ngInjectableDef=i.cb({factory:function(){return new e(i.gb(f.a),i.gb(l.p),i.gb(u.a),i.gb(v.a))},token:e,providedIn:"root"}),e}()),L=t("VNr4"),S=t("8KMR"),_=t("Ciq7"),P=t("Xo4T"),w=t("zKbe"),D=t("FVwl"),N=t("MXZU"),R=(t("YAWo"),t("AytR")),O=t("9Z1F"),F=t("G5J1"),T=t("t/Na"),k=t("4GxJ"),M=function(){return(M=Object.assign||function(e){for(var a,t=1,i=arguments.length;t<i;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e}).apply(this,arguments)},A=function(){function e(e,a,t){this.http=e,this.dataTabService=a,this.modalSrv=t,this.urlConstants=R.a.url}return e.prototype.addWMSLayer=function(e){return e.cql_filter||(e.cql_filter="1=1"),new c.TileLayer.WMS(e.url,M({layers:e.layerName,format:"image/png",transparent:!0,maxNativeZoom:18,attribution:e.attribution||"",minZoom:e.minZoom,maxZoom:e.maxZoom,pane:e.pane},{cql_filter:e.cql_filter}))},e.prototype.getFeatureInfo=function(e,a,t){var i=this.getFeatureInfoUrl(e,a,t);return this.http.get(i).pipe(Object(O.a)(function(e){return F.a}))},e.prototype.getFeatureInfoUrl=function(e,a,t){var i=t.latLngToContainerPoint(e.latlng,t.getZoom()),r=t.getSize(),n={request:"getFeatureInfo",service:"WMS",srs:"EPSG:4326",transparent:!0,version:a.wmsParams.version,format:a.wmsParams.format,bbox:t.getBounds().toBBoxString(),height:Math.floor(r.y),width:Math.floor(r.x),layers:a.wmsParams.layers,query_layers:a.wmsParams.layers,info_format:"application/json",feature_count:50};return n["1.3.0"===n.version?"i":"x"]=Math.floor(i.x),n["1.3.0"===n.version?"j":"y"]=Math.floor(i.y),a._url+c.Util.getParamString(n,a._url,!0)},e.ngInjectableDef=i.cb({factory:function(){return new e(i.gb(T.c),i.gb(w.a),i.gb(k.C))},token:e,providedIn:"root"}),e}(),C=function(){function e(e){this.http=e,this.urlConstants=R.a.url}return e.prototype.getReservoirLayer=function(e){return this.http.get(this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+e+"&maxFeatures=5000000&outputFormat=application%2Fjson")},e.prototype.getReservoirLayerWithFilter=function(e,a){var t=this.urlConstants.GEOSERVER_URL+"kaleshwaram/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=kaleshwaram:"+e+"&maxFeatures=5000000&outputFormat=application%2Fjson";return a&&(t+="&cql_filter="+a),this.http.get(t)},e.prototype.getMetaDataForAllPoints=function(){return this.http.get(this.urlConstants.AP_STAGING_URL+"/flowmanagement/masterdata/root/3a7a18ff-8614-4c90-aa98-451b333df3d9")},e.prototype.addLegendToModal=function(e,a,t,i,r){void 0===t&&(t=!1),1==t&&(e="SWQ_POINTS");var n=y.a.LEGEND_DATA_LEVELS[e];if("gisview"===i&&(n=y.a.LEGEND_DATA[e]),n)return this.getLegendData(n,a,r)},e.prototype.getLegendData=function(e,a,t){var i={name:e.title,layer:a,elements:[]};if(e.levels&&e.levels.length>0&&(1!=t||Object(d.isNullOrUndefined)(t))){for(var r="",n=0;n<e.levels.length;n++)r+="<p style='height:20px;margin:0px;padding:4px;color:black;background-color: "+e.levels[n].color+"'>"+e.levels[n].name+"</p>";i.elements.push({html:r})}else if(e.HTML||e.image)i.elements.push({html:r=e.HTML?e.HTML:"<img style='width: 20px;' src='"+e.image+"'/>"});else if(e.levels){var o;if(!(e.levels instanceof Array)){var s={},l=function(t){var i={name:e.title,layer:a,elements:[]};e.levels[t].forEach(function(e){(o={}).html="",null!=e.image&&""!=e.image&&(o.html="<img style='width:13px;height:13px;' src='"+e.image+"'/>"),o.label=e.name,o.style={"background-color":e.color,width:"13px",height:"13px"},i.elements.push(o)}),s[t]=i};for(var u in e.levels)l(u);return s}e.levels.forEach(function(e){(o={}).html="",null!=e.image&&""!=e.image&&(o.html="<img style='width:13px;height:13px;' src='"+e.image+"'/>"),o.label=e.name,o.style={"background-color":e.color,width:"13px",height:"13px"},i.elements.push(o)})}return i},e.ngInjectableDef=i.cb({factory:function(){return new e(i.gb(T.c))},token:e,providedIn:"root"}),e}(),I=t("PMFU"),E=t("5tvc"),x=t("RVfK"),H=t("VvG+"),U=function(e,a,t,i){return new(t||(t=Promise))(function(r,n){function o(e){try{l(i.next(e))}catch(a){n(a)}}function s(e){try{l(i.throw(e))}catch(a){n(a)}}function l(e){e.done?r(e.value):new t(function(a){a(e.value)}).then(o,s)}l((i=i.apply(e,a||[])).next())})},J=function(e,a){var t,i,r,n,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&n[0]?i.return:n[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){o.label=n[1];break}if(6===n[0]&&o.label<r[1]){o.label=r[1],r=n;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(n);break}r[2]&&o.ops.pop(),o.trys.pop();continue}n=a.call(e,o)}catch(s){n=[6,s],i=0}finally{t=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},B=function(){function e(e,a,t,i,r,n,o,s,l,u,p,d){this.router=e,this.route=a,this.utilsService=t,this.gisService=i,this.gisData=r,this.dataService=n,this.gisCMService=o,this.gisSvgService=s,this.powerConsumptionService=l,this.locationService=u,this.dataaService=p,this.floodservice=d,this.urlParams={},this.HtmlLegendObjects=[],this.layerObjects={},this.activeLayers={},this.next3DaysRainfall={},this.next24hrRainfall={},this.yesterdayRainfall={},this.last3DaysRainfall={},this.next3to5DaysRainfall={},this.groupConstants=[],this.isInitialized=!1,this.pumpPopUpLayer={},this.baseLayers=[],this.pumpHouseUpside={},this.showPopup=!1,this.showLegend=!1,this.mapLoaderActive=!1,this.transcoDataSubscription={},this.fiveMinuteTimeStamp=3e5,this.minusFifttenMinTimeStamp=(new Date).getTime()-108e5,this.allFlowNodeData={},this.allReservoirData={},this.allPumpHouseData={},this.allScadaPumpHouseData={},this.allTranscoPumpHouseData={},this.vectorLayerGroup=new c.LayerGroup,this.groupConstantsForGeoJson=[],this.sourceToConsideredTime={SCADA:(new Date).getTime()-3e5,"MOBILE APP":(new Date).getTime()-864e5,TS_TRANSCO:(new Date).getTime()-9e5},this.emptyJson={},this.SCADA_TEXT="SCADA",this.MOBILE_TEXT="MOBILE APP",this.TRANSCO_TEXT="TS_TRANSCO",this.brightness={9:"50%",11:"75%",13:"100%"},this.defaultToDarkFilter=["blur:0px","brightness:50%","contrast:100%","grayscale:0%","hue:0deg","opacity:100%","invert:0%","saturate:100%","sepia:0%"],this.shapeFileMapping={allSystem:{flownode:"gaugepoints_20210930_total_v1",pumphouse:"pumphouses_20210930_total_v1",reservoir:"reservoirs_20210930_total_v1",riversegment:"river_segments_20210930_total_v1",reservoirNameLable:"kwaram_point_for_lable_20220329",godavariRiverPolygon:"kwaram_river_polygon",telanganaDisNameLayer:"kwaram_ts_district",riverNameLable:"kwaram_river_lable_30092020",canalNameLable:"kwaram_canal_lable_29092020",barrageLayer:"kwaram_barrage_spillway_marker",mapId:"mapId"},system1:{flownode:"gaugepoints_20210930_sys1_v1",pumphouse:"pumphouses_20210930_sys1_v1",reservoir:"reservoirs_20210930_sys1_v1",riversegment:"river_segments_20210930_sys1_v1",reservoirNameLable:"kwaram_point_for_lable_20220329",godavariRiverPolygon:"kwaram_river_polygon",telanganaDisNameLayer:"kwaram_ts_district",riverNameLable:"kwaram_river_lable_30092020",canalNameLable:"kwaram_canal_lable_29092020",barrageLayer:"kwaram_barrage_spillway_marker",mapId:"mapId1"},system2:{flownode:"gaugepoints_20210930_sys2_v1",pumphouse:"pumphouses_20210930_sys2_v1",reservoir:"reservoirs_20210930_sys2_v1",riversegment:"river_segments_20210930_sys2_v1",reservoirNameLable:"kwaram_point_for_lable_20220329",godavariRiverPolygon:"kwaram_river_polygon",telanganaDisNameLayer:"kwaram_ts_district",riverNameLable:"kwaram_river_lable_30092020",canalNameLable:"kwaram_canal_lable_29092020",barrageLayer:"kwaram_barrage_spillway_marker",mapId:"mapId2"},system3:{flownode:"gaugepoints_20210930_sys3_v1",pumphouse:"pumphouses_20210930_sys3_v1",reservoir:"reservoirs_20210930_sys3_v1",riversegment:"river_segments_20210930_sys3_v1",reservoirNameLable:"kwaram_point_for_lable_20220329",godavariRiverPolygon:"kwaram_river_polygon",telanganaDisNameLayer:"kwaram_ts_district",riverNameLable:"kwaram_river_lable_30092020",canalNameLable:"kwaram_canal_lable_29092020",barrageLayer:"kwaram_barrage_spillway_marker",mapId:"mapId3"}}}return e.prototype.ngAfterViewInit=function(){var e=this;this.svgSubscription=this.dataService.trigger.asObservable().subscribe(function(a){for(var t in a){var i=a[t],r=function(a){var r=e.gisSvgService.getWaterSourceNameFromUUID(a,t);if(null==r)return"continue";var n=i[a];if(t==x.b.REAL_TIME_VIEW_TYPES.RESERVOIR);else if(t==x.b.REAL_TIME_VIEW_TYPES.PUMP_HOUSE){var o=n.egt?n.egt:null,s=e.checkSourceForConsider(o,e.allTranscoPumpHouseData[n.uid]?e.allTranscoPumpHouseData[n.uid].egt:null),l={},u={};Object(d.isNullOrUndefined)(s)||s!=e.SCADA_TEXT||e.allScadaPumpHouseData[a]&&parseInt(o)>parseInt(e.allScadaPumpHouseData[a].egt)&&(Object.keys(e.allPumpHouseData[r].pd).forEach(function(a){l[a]={},l[a]=e.allPumpHouseData[r].pd[a].st}),e.allPumpHouseData[r]=n,e.allScadaPumpHouseData[a]=n,Object.keys(e.allPumpHouseData[r].pd).forEach(function(a){u[a]={},u[a]=e.allPumpHouseData[r].pd[a].st})),null!=l&&null!=u&&(JSON.stringify(l)!=JSON.stringify(u)?e.updatePumpHousePopUp(n,r,!0):e.updatePumpHousePopUp(n,r,!1))}else e.updateFlowNodePopUp(n,r)};for(var n in i)r(n)}}),this.dataService.messages.subscribe(function(e){}),setTimeout(function(){e.transcoDataSubscription=e.powerConsumptionService.trigger.asObservable().subscribe(function(a){for(var t in a){var i=a[t],r=function(a){var r=i[a];r.uid=a;var n=e.gisSvgService.getWaterSourceNameFromUUID(a,"PUMP_HOUSE");if(t==x.b.REAL_TIME_VIEW_TYPES.PUMP_HOUSE){var o=r.egt?r.egt:null,s=e.checkSourceForConsider(e.allScadaPumpHouseData[r.uid]?e.allScadaPumpHouseData[r.uid].egt:null,o),l={},u={};null!=s&&s==e.TRANSCO_TEXT&&e.allTranscoPumpHouseData[a]&&parseInt(o)>parseInt(e.allTranscoPumpHouseData[a].egt)&&(Object.keys(e.allPumpHouseData[n].pd).forEach(function(a){l[a]={},l[a]=e.allPumpHouseData[n].pd[a].st}),e.allPumpHouseData[n]=r,e.allTranscoPumpHouseData[a]=r,Object.keys(e.allPumpHouseData[n].pd).forEach(function(a){u[a]={},u[a]=e.allPumpHouseData[n].pd[a].st})),null!=l&&null!=u&&(JSON.stringify(l)!=JSON.stringify(u)?e.updatePumpHousePopUp(r,n,!0):e.updatePumpHousePopUp(r,n,!1))}};for(var n in i)r(n)}}),e.powerConsumptionService.messages.subscribe(function(e){})},0)},e.prototype.updateFlowNodePopUp=function(e,a){},e.prototype.updatePumpHousePopUp=function(e,a,t){},e.prototype.routeonDashboard=function(e){"gis"==e?this.router.navigate(["kaleshwaram","geoportal","gis-cm"]):"line"==e?this.router.navigate(["kaleshwaram","geoportal","gis-svg",{application:"allSystem",viewType:"scada",component:"gisview",tabType:"allSystem"}]):"mis"==e&&this.router.navigate(["kaleshwaram","mis","misreservoir"])},e.prototype.ngOnDestroy=function(){this.removeLegend(),this.svgSubscription.unsubscribe(),this.transcoDataSubscription.unsubscribe()},e.prototype.subscribeParams=function(){var e=this;this.route.paramMap.subscribe(function(a){var t={};for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i]);var r=e.dataaService.deepClone(E.a),n=e.locationService.formDefaultParams(r);if(e.locationService.verifyAllParamsPresent(t,JSON.parse(JSON.stringify(E.b)))){var o=t.params;"true"==o.heatmapReload||1==e.isInitialized?(e.initializeMap(),e.createLayers(),e.initializeOnStateLoad(!0)):"system1"==o.application||"system2"==o.application||"system3"==o.application||"allSystem"==o.application?e.initializeOnStateLoad():"allSystem"==o.tabType&&Object(d.isNullOrUndefined)(o.locType)&&e.map.setView([18.6145,78.9313],9)}else e.router.navigate(["kaleshwaram","geoportal","gis-cm",n]);e.isInitialized=!1})},e.prototype.ngOnInit=function(){this.isInitialized=!0,this.subscribeParams()},e.prototype.initializeMap=function(){this.map||(this.addMap(),this.createPanes(),this.coordinateReadout())},e.prototype.revalidateMap=function(){var e=this;this.map&&setTimeout(function(){e.map.invalidateSize(),e.map.fire("zoomend")},200)},e.prototype.addMap=function(){this.urlParams=this.utilsService.checkUrlParams(this.route.snapshot.params),this.system=this.urlParams.application,this.map=c.map("mapId",{minZoom:9,maxZoom:22,zoomControl:!1,zoomDelta:1}),this.map.setView([18.6145,78.9313],9),this.map.scrollWheelZoom.disable(),this.addZoomBar(),new c.control.betterscale({metric:!0,imperial:!1}).addTo(this.map)},e.prototype.getWritableObject=function(e){if(null==e||null==e)return e;var a={};for(var t in e)a[t]=e[t];return a},e.prototype.addZoomBar=function(){(new c.control.zoomBar).addTo(this.map)},e.prototype.createLayers=function(){return U(this,void 0,void 0,function(){var e,a,t,i,r,n,o,s,l,u,c=this;return J(this,function(p){for(this.getParams(),e=0,a=y.a.GROUP_LIST;e<a.length;e++){for(i=[],r=0,n=(t=a[e]).layersList;r<n.length;r++)s=new P.a((o=n[r]).name,o.displayName,o.layerServiceType,o.url,o.default_select),o.imagesrc&&(s.imageSrc=o.imagesrc),"TILELAYER"==o.layerServiceType?this.layerObjects[o.name]=this.addEsriDynamicMapLayer(o):"WMS_LAYER"==o.layerServiceType&&(s.layerName=o.layerName,s.minZoom=o.options.minZoom,s.maxZoom=o.options.maxZoom,s.pane=o.options.pane,this.layerObjects[o.name]=this.gisService.addWMSLayer(s),"STATE"==o.name&&this.map.addLayer(this.layerObjects[o.name]),this.map.on({zoomend:function(e){if(9==c.map.getZoom()||11==c.map.getZoom()||13==c.map.getZoom()){var a=c.brightness[c.map.getZoom()];c.layerObjects["Dark Google Satellite"].options.filter=["blur:0px","brightness:"+a,"contrast:100%","grayscale:0%","hue:0deg","opacity:100%","invert:0%","saturate:100%","sepia:0%"],c.map.hasLayer(c.layerObjects["Dark Google Satellite"])&&(c.map.removeLayer(c.layerObjects["Dark Google Satellite"]),c.map.addLayer(c.layerObjects["Dark Google Satellite"]))}}})),i.push(s),this.activeLayers[o.name]=o.default_select,o.default_select&&"Base Layers"===t.groupNameGeoJson&&(this.map.addLayer(this.layerObjects[o.name]),this.activeBaseLayer=this.layerObjects[o.name]);"Base Layers"===t.groupNameGeoJson?this.baseLayers=i:this.groupConstantsForGeoJson.push(new D.a(t.groupNameGeoJson,i))}return(u=new P.a((l=y.b).name,l.displayName,l.layerServiceType,l.url,l.default_select)).layerName=l.layerName,u.minZoom=l.options.minZoom,u.maxZoom=l.options.maxZoom,u.pane=l.options.pane,this.layerObjects[l.name]=this.gisService.addWMSLayer(u),[2]})})},e.prototype.addlayer=function(e){this.map.addLayer(this.layerObjects[e])},e.prototype.mytooglerForBaseLayer=function(e,a){e==a?(this.activeLayers[a]=!this.activeLayers[a],this.activeLayers[a]&&!a.includes("Sentinel")?this.map.addLayer(this.layerObjects[a]):this.map.removeLayer(this.layerObjects[a])):(a.includes("Sentinel")||this.map.addLayer(this.layerObjects[a]),this.map.removeLayer(this.layerObjects[e]),this.activeLayers[e]=!1,this.activeLayers[a]=!0)},e.prototype.toggleLayer=function(e){this.activeLayers[e]?this.map.addLayer(this.layerObjects[e]):this.map.removeLayer(this.layerObjects[e]),this.activeLayers[e]=!this.activeLayers[e]},e.prototype.toggleRadioLayer=function(e,a){e==a?(this.activeLayers[a]=!this.activeLayers[a],this.activeLayers[a]?this.map.addLayer(this.layerObjects[a]):this.map.removeLayer(this.layerObjects[a])):(this.map.removeLayer(this.layerObjects[e]),this.activeLayers[e]=!1,this.map.addLayer(this.layerObjects[a]),this.activeLayers[a]=!0)},e.prototype.addLayerToGroup=function(e,a,t){var i=this.groupConstants.find(function(e){return e.groupName===t});if(i){var r=i.layersList.find(function(a){return a.name===e.name});if(r?(r=e,this.activeLayers[e.name]=e.default_select||!1):(i.layersList.push(e),this.activeLayers[e.name]=e.default_select||!1),this.activeLayers[e.name]){var n=this.layerObjects[e.name];this.map&&n&&this.map.hasLayer(n)&&this.map.removeLayer(n),null!=this.map&&this.map.addLayer(a)}this.layerObjects[e.name]=a}},e.prototype.addComponent=function(e){Object.values(x.a).findIndex(function(a){return a==e})>-1&&this.addGroup(x.b.GROUPNAME_MAPPING[e]),this.revalidateMap()},e.prototype.addGroup=function(e){this.groupConstants.find(function(a){return a.groupName===e})||this.groupConstants.push(new _.a(e,[]))},e.prototype.getParams=function(){return this.utilsService.getWritableObject(this.route.snapshot.params)},e.prototype.setParams=function(){y.a.params=this.getParams()},e.prototype.createPanes=function(){var e=this;y.a.PANE_LIST.forEach(function(a){e.map.createPane(a.name),e.map.getPane(a.name).style.zIndex=a.zindex})},e.prototype.initializeOnStateLoad=function(e){void 0===e&&(e=!1),this.revalidateMap(),this.setParams(),this.createLegend(),this.urlParams=this.utilsService.checkUrlParams(this.route.snapshot.params),this.application=this.urlParams.application?this.urlParams.application:"geo",this.changeGISNavigation(e)},e.prototype.createLegend=function(){this.removeLegend(),this.htmlNewLegend=this.gisCMService.createLegend(),Object(d.isNullOrUndefined)(this.htmlNewLegend)||this.map.addControl(this.htmlNewLegend)},e.prototype.removeLegend=function(){this.htmlNewLegend&&this.map.removeControl(this.htmlNewLegend)},e.prototype.changeGISNavigation=function(e){this.urlParams=this.utilsService.checkUrlParams(this.route.snapshot.params),this.application=this.urlParams.application?this.urlParams.application:"geo",this.addComponent("layers"),this.addComponent("rainfall-forecast"),this.addComponent("rainfall-actual"),this.addComponentSrcWiseLayers()},e.prototype.addComponentSrcWiseLayers=function(){var e=this;this.urlParams=this.utilsService.checkUrlParams(this.route.snapshot.params),this.application=this.urlParams.application?this.urlParams.application:"geo",this.system=this.urlParams.application;var a=this.urlParams.locId;if("gisview"==this.getParams().component){this.getYesterdayRainfall(),this.getLast3DaysRainfall(),this.getForecastRainfallData();var t=this.gisSvgService.getLast3DayReservoirPostData();this.dataService.getAllStorageDataForSvg(t).subscribe(function(t){e.allReservoirData=e.formatReservoirStorageData(t),e.addReservoirPointLayer(a,e.allReservoirData),e.addReservoirNetworkLayer(e.allReservoirData);var i=e.gisSvgService.getPostDataForAllRiverGaugePopup();e.dataService.getAllFlowNodeData(i).subscribe(function(t){for(var i in t){var r=t[i];e.allFlowNodeData[r.n]=e.formatflowNodeData(r,r.n)}e.addGodavariRiver(e.allReservoirData,e.allFlowNodeData),e.addFlowNodeData(e.allFlowNodeData),e.addReservoirLayer(a,e.allReservoirData)});var r=e.gisSvgService.getPostDataForAllTranscoPumpHouse(),n=e.gisSvgService.getPostDataForAllTranscoPumpHouse();Object(L.a)(e.dataService.getAllPumpHouseData(r),e.dataService.getAllPumpHouseData(n)).subscribe(function(a){return U(e,void 0,void 0,function(){var e,t,i,r,n;return J(this,function(o){switch(o.label){case 0:return[4,a[0]];case 1:return e=o.sent(),[4,a[1]];case 2:for(i in t=o.sent())this.allTranscoPumpHouseData[(r=t[i]).uid]=r;for(i in e)this.allScadaPumpHouseData[(r=e[i]).uid]=r;for(i in e)this.allScadaPumpHouseData[(r=e[i]).uid]=r,n=this.checkPumpSource(r.egt?r.egt:null,this.allTranscoPumpHouseData[r.uid]?this.allTranscoPumpHouseData[r.uid].egt:null,r.sr),this.allPumpHouseData[r.n]=null==n||n!=this.SCADA_TEXT&&n!=this.MOBILE_TEXT?n==this.TRANSCO_TEXT?this.allTranscoPumpHouseData[r.uid]:this.emptyJson:r;for(i in t)this.allTranscoPumpHouseData[(r=t[i]).uid]=r,n=this.checkPumpSource(this.allScadaPumpHouseData[r.uid]?this.allScadaPumpHouseData[r.uid].egt:null,r.egt?r.egt:null,r.sr),this.allPumpHouseData[r.n]=null==n||n!=this.SCADA_TEXT&&n!=this.MOBILE_TEXT?n==this.TRANSCO_TEXT?r:this.emptyJson:this.allScadaPumpHouseData[r.uid];return this.addLinks(this.allReservoirData,this.allPumpHouseData),this.addPipeLine(this.allReservoirData,this.allPumpHouseData),this.addReservoirPumpHouseLayer(this.allPumpHouseData,this.pumpHouseUpside),this.addCanalLayer(this.allReservoirData,this.allPumpHouseData),[2]}})})})}),this.addCMViewRiverPolygon(),this.addDistrictNameLayer(),this.addBayofBengalLevel(),this.addRiverLable(),this.addCanalLable(),this.addActualRainfallLayers(),this.addForecastRainfallLayers()}},e.prototype.addBayofBengalLevel=function(){var e=c.divIcon({className:"my-level-bay-icon",html:'<div class="my-level-bay-icon">Bay of Bengal</div>'});c.marker([16.2595,81.9223],{icon:e}).addTo(this.map)},e.prototype.checkSourceForConsider=function(e,a){var t=(new Date).getTime()-3e5,i=(new Date).getTime()-9e5,r=null;return null==Object(d.isNullOrUndefined)(e)&&Object(d.isNullOrUndefined)(a)?null:(Object(d.isNullOrUndefined)(a)&&!Object(d.isNullOrUndefined)(e)?parseInt(e)>=i&&(r=this.SCADA_TEXT):Object(d.isNullOrUndefined)(e)&&!Object(d.isNullOrUndefined)(a)&&parseInt(a)>=i&&(r=this.TRANSCO_TEXT),e>=t?r=this.SCADA_TEXT:parseInt(e)>=i&&parseInt(a)>=i?r=parseInt(e)>=parseInt(a)?this.SCADA_TEXT:this.TRANSCO_TEXT:parseInt(e)>=i?r=this.SCADA_TEXT:parseInt(a)>=i&&(r=this.TRANSCO_TEXT),r)},e.prototype.addReservoirPointLayer=function(e,a){var t=this,i=this.shapeFileMapping[this.system].reservoirNameLable;return new Promise(function(r,n){t.gisData.getReservoirLayer(i).subscribe(function(i){var r=t.gisCMService.formatOnlyReservoirData(i,a,e);t.gisCMService.addRiverName(i,r,a,"RESERVOIR_POINTS",t.map,t.urlParams)})})},e.prototype.addFlowNodeData=function(e){var a=this,t=this.shapeFileMapping[this.system].flownode,i=new P.a("RIVER_BARRAGE_POINTS","River Gauge Points","MARKER_CLUSTER","",!0),r=new c.LayerGroup;this.gisData.getReservoirLayer(t).subscribe(function(t){r.addLayer(a.gisCMService.addFlowNodeCircleMarkerLayer(t,e,"FLOWNODE_POINTS",a.map,a.urlParams,a.next24hrRainfall,a.next3DaysRainfall,a.next3to5DaysRainfall,a.last3DaysRainfall,a.yesterdayRainfall))}),this.addLayerToGroup(i,r,"Layers");var n=this.gisData.addLegendToModal("SENSOR_POINTS",r,this.htmlLegend,"gisview");this.htmlNewLegend.addLegend(n),this.addLegendObjects("SENSOR_POINTS",n)},e.prototype.addGodavariRiver=function(e,a){var t=this,i=this.shapeFileMapping[this.system].riversegment,r=new P.a("GODAVARI_RIVER_POLYGON","River Segment Layer","WMS_LAYER",x.e,!0);r.layerName=x.i+":"+i,r.minZoom=5,r.maxZoom=20,r.pane="rivers",this.gisService.addWMSLayer(r);var n=new c.LayerGroup;this.gisData.getReservoirLayerWithFilter(i,"type = 'River'").subscribe(function(i){n.addLayer(t.gisCMService.animateRiverFlowpath(i,a,e,t.map,"#3399ff","godavariRiver"))}),this.map.addLayer(n),this.addLayerToGroup(r,n,"Layers");var o=this.gisData.addLegendToModal("RIVER_SEGMENT",n,this.htmlLegend,"gisview",!0);this.htmlNewLegend.addLegend(o)},e.prototype.checkUndefinedOrNull=function(e){return Object(d.isNullOrUndefined)(e),e},e.prototype.formatReservoirStorageData=function(e){var a={};for(var t in e){var i=e[t];a[i.ln]={egt:this.checkUndefinedOrNull(i.lts),ext:this.checkUndefinedOrNull(i.ext),dsc:this.checkUndefinedOrNull(i.dsc),dex:this.checkUndefinedOrNull(i.dex),cl:this.checkUndefinedOrNull(i.cl),st:this.checkUndefinedOrNull(i.tSt),p:this.checkUndefinedOrNull(i.pfill),lt:this.checkUndefinedOrNull(i.lt),i:this.checkUndefinedOrNull(i.inf),pi:this.checkUndefinedOrNull(i.ifpump),ni:i.inf&&i.ifpump&&i.inf>=0&&i.ifpump>=0?i.inf-i.ifpump:null,o:this.checkUndefinedOrNull(i.ofl),nog:this.checkUndefinedOrNull(i.nog),ft:this.checkUndefinedOrNull(i.ft),sr:this.checkUndefinedOrNull(i.lsrc),se:this.checkUndefinedOrNull(i.se),mxi:this.checkUndefinedOrNull(i.hin),mxo:this.checkUndefinedOrNull(i.hout),mit:this.checkUndefinedOrNull(i.hints),mot:this.checkUndefinedOrNull(i.houts),msl:this.checkUndefinedOrNull(i.msl),an:this.checkUndefinedOrNull(i.an),md:{n:this.checkUndefinedOrNull(i.ln),t:this.checkUndefinedOrNull(i.t),s:this.checkUndefinedOrNull(i.st),b:this.checkUndefinedOrNull(i.bn),d:this.checkUndefinedOrNull(i.d),frl:this.checkUndefinedOrNull(i.frl),dsl:this.checkUndefinedOrNull(i.dsl),lh:this.checkUndefinedOrNull(i.lh),gc:this.checkUndefinedOrNull(i.tca),dc:this.checkUndefinedOrNull(i.dc),pc:this.checkUndefinedOrNull(i.pc),dl:this.checkUndefinedOrNull(i.dl),wl:this.checkUndefinedOrNull(i.wl),hf:this.checkUndefinedOrNull(i.hf),la:this.checkUndefinedOrNull(i.lat),lg:this.checkUndefinedOrNull(i.lng)},rd:i.spd&&i.spd?i.spd:{}},(i.lts||i.lts>=0)&&i.lts<(new Date).getTime()-2592e5&&(a[i.ln].o=null,a[i.ln].i=null,a[i.ln].pi=null,a[i.ln].p=null,a[i.ln].st=null,a[i.ln].cl=null,a[i.ln].sr="-")}return a},e.prototype.formatflowNodeData=function(e,a){var t={};return t={i:e.f||e.f>=0?e.f:this.allFlowNodeData[a]&&this.allFlowNodeData[a].i?this.allFlowNodeData[a].i:"-",o:e.f||e.f>=0?e.f:this.allFlowNodeData[a]&&this.allFlowNodeData[a].o?this.allFlowNodeData[a].o:"-",egt:e.egt||e.egt>=0?e.egt:this.allFlowNodeData[a]&&this.allFlowNodeData[a].egt?this.allFlowNodeData[a].egt:"-",ext:e.ext||e.ext>=0?e.ext:this.allFlowNodeData[a]&&this.allFlowNodeData[a].ext?this.allFlowNodeData[a].ext:"-",dep:e.d||e.d>=0?e.d:this.allFlowNodeData[a]&&this.allFlowNodeData[a].dep?this.allFlowNodeData[a].dep:"-",cl:e.l||e.l>=0?e.l:this.allFlowNodeData[a]&&this.allFlowNodeData[a].cl?this.allFlowNodeData[a].cl:"-",ft:e.ft||e.ft>=0?e.ft:this.allFlowNodeData[a]&&this.allFlowNodeData[a].ft?this.allFlowNodeData[a].ft:"-",lt:e.lt||e.lt>=0?e.lt:this.allFlowNodeData[a]&&this.allFlowNodeData[a].lt?this.allFlowNodeData[a].lt:"-",sr:e.flds?e.flds:this.allFlowNodeData[a]&&this.allFlowNodeData[a].sr?this.allFlowNodeData[a].sr:"-",dex:e.dex?e.dex:this.allFlowNodeData[a]&&this.allFlowNodeData[a].dex?this.allFlowNodeData[a].dex:"-",n:e.md?e.md.n?e.md.n:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].n?this.allFlowNodeData[a].n:"-",t:e.md?e.md.t?e.md.t:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].t?this.allFlowNodeData[a].t:"-",s:e.md?e.md.s?e.md.s:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].s?this.allFlowNodeData[a].s:"-",b:e.md?e.md.b?e.md.b:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].b?this.allFlowNodeData[a].b:"-",la:e.md?e.md.la?e.md.la:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].la?this.allFlowNodeData[a].la:"-",lg:e.md?e.md.lg?e.md.lg:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].lg?this.allFlowNodeData[a].lg:"-",msl:e.md?e.md.msl?e.md.msl:null:this.allFlowNodeData[a]&&this.allFlowNodeData[a].msl?this.allFlowNodeData[a].msl:"-"},(e.egt||e.egt>0)&&e.egt<(new Date).getTime()-2592e5&&(t.i=null,t.o=null,t.cl=null,t.dep=null,t.sr="-"),t},e.prototype.addLinks=function(e,a){var t=this,i=this.shapeFileMapping[this.system].riversegment,r=new P.a("RESERVOIR_LINK_LAYER","River Link Layer","WMS_LAYER",x.e,!0);r.layerName=x.i+":"+i,r.minZoom=5,r.maxZoom=20,r.pane="rivers";var n=new c.LayerGroup;this.gisData.getReservoirLayerWithFilter(i,"type ='Tunnel'").subscribe(function(i){n.addLayer(t.gisCMService.animateLinkpath(i,a,e,t.map,"red","links")),t.addLayerToGroup(r,n,"Layers")});var o=this.gisData.addLegendToModal("RIVER_LINK",n,this.htmlLegend,"gisview",!0);this.htmlNewLegend.addLegend(o)},e.prototype.addPipeLine=function(e,a){var t=this,i=this.shapeFileMapping[this.system].riversegment,r=new P.a("PipeLine","PipeLine","WMS_LAYER",x.e,!0);r.layerName=x.i+":"+i,r.minZoom=5,r.maxZoom=20,r.pane="rivers",this.gisService.addWMSLayer(r);var n=new c.LayerGroup;this.gisData.getReservoirLayerWithFilter(i,"type ='Pipe Line'").subscribe(function(i){n.addLayer(t.gisCMService.animateLinkpath(i,a,e,t.map,"red","links")),t.addLayerToGroup(r,n,"Layers");var o=t.gisData.addLegendToModal("PIPELINE",n,t.htmlLegend,"gisview",!0);t.htmlNewLegend.addLegend(o)})},e.prototype.addReservoirLayer=function(e,a){var t,i=this,r=this.shapeFileMapping[this.system].reservoir,n=new P.a("RESERVOIR_POINTS","Reservoirs Polygon","MARKER_CLUSTER","",!0),o=new c.LayerGroup,s=new Promise(function(n,s){i.gisData.getReservoirLayer(r).subscribe(function(r){t=i.gisCMService.formatOnlyReservoirData(r,a,e),o.addLayer(i.gisCMService.addReservoirLayer(t,i.map,i.urlParams,i.next24hrRainfall,i.next3DaysRainfall,i.next3to5DaysRainfall,i.last3DaysRainfall,i.yesterdayRainfall))})});return this.addLayerToGroup(n,o,"Layers"),s},e.prototype.addReservoirPumpHouseLayer=function(e,a,t){var i=this,r=this.shapeFileMapping[this.system].pumphouse,n=new P.a("RIVER_PUMP_POINTS","Pump House Points","MARKER_CLUSTER","",!0),o=new c.LayerGroup,s=new Promise(function(n,s){i.gisData.getReservoirLayerWithFilter(r,null).subscribe(function(r){if(o.addLayer(i.gisCMService.addReservoirPumpMarkerLayer(r.features,e,a,"RESERVOIR_PUMP_POINTS",i.map,i.urlParams)),0==t){var n=0,s={};Object.keys(o._layers).forEach(function(e){s[n]=o._layers[e].getPopup().getContent(),n++}),n=0,Object.keys(i.pumpPopUpLayer).forEach(function(e){i.pumpPopUpLayer[e].getPopup().setContent(s[n]),n++})}else{i.pumpPopUpLayer=o._layers;var l=i.gisData.addLegendToModal("RIVER_PUMP_POINTS",o,i.htmlLegend,"gisview");i.htmlNewLegend.addLegend(l),i.addLegendObjects("RIVER_PUMP_POINTS",l)}})});return this.addLayerToGroup(n,o,"Layers"),s},e.prototype.addCanalLayer=function(e,a){var t=this,i=this.shapeFileMapping[this.system].riversegment,r=new P.a("SRS_Canal","Canal Layer","WMS_LAYER",x.e,!0);r.layerName=x.i+":"+i,r.minZoom=5,r.maxZoom=20,r.pane="rivers";var n=new c.LayerGroup;this.gisData.getReservoirLayerWithFilter(i,"type = 'Canal'").subscribe(function(i){n.addLayer(t.gisCMService.animateCanalepath(i,e,a,t.map,"#86f3e5","canal"))}),this.addLayerToGroup(r,n,"Layers");var o=this.gisData.addLegendToModal("SRS_Canal",n,this.htmlLegend,"gisview",!0);this.htmlNewLegend.addLegend(o)},e.prototype.addDistrictNameLayer=function(){var e=this.shapeFileMapping[this.system].telanganaDisNameLayer,a=new P.a("District Name","District Name","WMS_LAYER",x.e,!0);a.layerName=x.i+":"+e,a.minZoom=7,a.maxZoom=20,a.pane="rivers";var t=this.gisService.addWMSLayer(a);this.vectorLayerGroup.addLayer(t)},e.prototype.addCMViewRiverPolygon=function(){var e=this.shapeFileMapping[this.system].godavariRiverPolygon,a=new P.a("RIVER_POLYGON_CM","River Polygon","WMS_LAYER",x.e,!0);a.layerName=x.i+":"+e,a.minZoom=5,a.maxZoom=20,a.pane="state";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Layers")},e.prototype.addLegendObjects=function(e,a){var t={name:e,legend:a},i=this.HtmlLegendObjects.findIndex(function(a){return a.name==e});i>-1?this.HtmlLegendObjects[i]=t:this.HtmlLegendObjects.push(t)},e.prototype.addReservoirNetworkLayer=function(e){var a=this,t=this.shapeFileMapping[this.system].reservoir;this.gisData.getReservoirLayer(this.shapeFileMapping[this.system].barrageLayer).subscribe(function(i){a.gisData.getReservoirLayer(t).subscribe(function(t){var r=a.gisCMService.formatReservoirData(t,e,1),n=new P.a("RESERVOIR_NETWORK","Barrage Spillway","MARKER_CLUSTER","",!0),o=a.gisCMService.addBarrage(i,r,a.next24hrRainfall,a.next3DaysRainfall,a.next3to5DaysRainfall,a.last3DaysRainfall,a.map,a.yesterdayRainfall),s=a.gisData.addLegendToModal("BARRAGE_POINTS",o,a.htmlLegend,"gisview");a.htmlNewLegend.addLegend(s),a.addLegendObjects("BARRAGE_POINTS",s),a.addLayerToGroup(n,o,"Layers")})})},e.prototype.addRiverLable=function(){var e=this.shapeFileMapping[this.system].riverNameLable,a=new P.a("RIVER_LABLE","River Label","WMS_LAYER",x.e,!0);a.layerName="kaleshwaram:"+e,a.minZoom=5,a.maxZoom=18,a.pane="text";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Layers")},e.prototype.addCanalLable=function(){var e=this.shapeFileMapping[this.system].canalNameLable,a=new P.a("CANAL_LABLE","Canal Label","WMS_LAYER",x.e,!0);a.layerName="kaleshwaram:"+e,a.minZoom=5,a.maxZoom=18,a.pane="text";var t=this.gisService.addWMSLayer(a);this.addLayerToGroup(a,t,"Layers")},e.prototype.addActualRainfallLayers=function(){var e=this;this.floodservice.getActualHeatMapForFloodForecast("HEATMAP","godavariNew").then(function(a){var t=e.setImageLayers(e.map,a);Object.keys(t).forEach(function(a){var i=t[a],r=i;r.name=i.options.name,r.layerName=i.options.name,r.displayName=i.options.name,r.default_select=i.options.visible,r.minZoom=i.options.minZoom,r.maxZoom=i.options.maxZoom,e.addLayerToGroup(r,r,"Rainfall Actual");var n=e.gisData.getLegendData(i.options.legendData,r);e.htmlNewLegend.addLegend(n)})})},e.prototype.addForecastRainfallLayers=function(){var e=this;this.floodservice.getImageLayersForFloodForecast("HEATMAP","godavari")().then(function(a){var t=e.setImageLayers(e.map,a);Object.keys(t).forEach(function(a){var i=t[a],r=i;r.name=i.options.name,r.layerName=i.options.name,r.displayName=i.options.name,r.default_select=i.options.visible,r.minZoom=i.options.minZoom,r.maxZoom=i.options.maxZoom,e.addLayerToGroup(r,r,"Rainfall Forecast");var n=e.gisData.getLegendData(i.options.legendData,r);e.htmlNewLegend.addLegend(n)})})},e.prototype.setImageLayers=function(e,a){var t={};for(var i in a)if(a.hasOwnProperty(i)){var r=a[i];if(void 0!==r.url){var n=c.imageOverlay(r.url,r.bounds,r.layerOptions);t[i]=n,"true"===this.urlParams.applyFilter&&!0===r.layerOptions.visible?(r.layerOptions.visible=!1,n=c.imageOverlay(r.url,r.bounds,r.layerOptions),t[i]=n):!0===r.layerOptions.visible&&n.addTo(e)}}return t},e.prototype.addTileLayer=function(){var e=new c.TileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png");this.map.addLayer(e)},e.prototype.addEsriDynamicMapLayer=function(e){return"Google Satellite"===e.name?c.tileLayer.colorFilter(e.url,{maxZoom:22,subdomains:["mt0","mt1","mt2","mt3"]}):"Dark Google Satellite"===e.name?c.tileLayer.colorFilter(e.url,{maxZoom:22,filter:this.defaultToDarkFilter,subdomains:["mt0","mt1","mt2","mt3"]}):new c.TileLayer(e.url,e)},e.prototype.getYesterdayRainfall=function(){var e=this,a=new Date,t=new Date(a.setDate(a.getDate()-1)),i=this.utilsService.getDateandTimeString(t,"YYYYMMDD");this.dataService.getLast3dayCatchmentRainfall({pUUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",pType:"BASIN",cType:"CATCHMENT_AREA",format:"DAILY",src:"STATE_AND_CENTRAL_STATIONS",view:"ADMIN",sDate:i,eDate:i,aggr:"SUM",pEUUID:"5ddb60ef-aede-46ab-b319-e8e9c36fd715",classification:["ACTUAL"],includeAllLoc:!0}).subscribe(function(a){for(var t in a){var i=a[t];e.yesterdayRainfall[i.nm]=i}},function(e){})},e.prototype.getLast3DaysRainfall=function(){var e=this,a=this.gisSvgService.getResevoirandRiverGaugeLast3DayAggPostData();this.dataService.getLast3dayCatchmentRainfall(a).subscribe(function(a){for(var t in a){var i=a[t];e.last3DaysRainfall[i.nm]=i}},function(e){})},e.prototype.getForecastRainfallData=function(){var e=this,a=this.gisSvgService.getForecastPostData(),t=this.gisSvgService.getForecastNdayList(5),i=[t[0]],r=[t[0],t[1],t[2]],n=[t[3],t[4]];this.dataService.getForecastRainfallData(a).subscribe(function(a){for(var t in a){var o=e.gisSvgService.getWaterSourceNameFromUUID(t,"ANY");e.next24hrRainfall[o]={},e.next3DaysRainfall[o]={},e.next3to5DaysRainfall[o]={},e.next24hrRainfall[o].rfLevel=0,e.next3DaysRainfall[o].rfLevel=0,e.next3DaysRainfall[o].rfStorage=0,e.next24hrRainfall[o].rfStorage=0,e.next3to5DaysRainfall[o].rfLevel=0,e.next3to5DaysRainfall[o].rfStorage=0;var s=a[t];for(var l in s){var u=s[l]&&s[l].mm?s[l].mm:0,c=s[l]&&s[l].TMC?s[l].TMC:0;i.includes(l)&&(e.next24hrRainfall[o].rfLevel=e.next24hrRainfall[o].rfLevel+parseFloat(u),e.next24hrRainfall[o].rfStorage=e.next24hrRainfall[o].rfStorage+parseFloat(c)),r.includes(l)&&(e.next3DaysRainfall[o].rfLevel=e.next3DaysRainfall[o].rfLevel+parseFloat(u),e.next3DaysRainfall[o].rfStorage=e.next3DaysRainfall[o].rfStorage+parseFloat(c)),n.includes(l)&&(e.next3to5DaysRainfall[o].rfLevel=e.next3to5DaysRainfall[o].rfLevel+parseFloat(u),e.next3to5DaysRainfall[o].rfStorage=e.next3to5DaysRainfall[o].rfStorage+parseFloat(c))}}},function(e){})},e.prototype.coordinateReadout=function(){var e=this;this.map.on("mousemove",function(a){e.coordinates=a.latlng.lat.toFixed(4)+","+a.latlng.lng.toFixed(4),clearTimeout(e.timer),e.timer=setTimeout(function(){e.elevationReadout(a)},300)})},e.prototype.elevationReadout=function(e){var a=this;this.gisService.getFeatureInfo(e,this.layerObjects.SRTM_DEM_30,this.map).subscribe(function(e){e&&e.features.length>0&&(a.elevation=e.features[0].properties.GRAY_INDEX+"m")})},e.prototype.handleEventFromSearch=function(e){this.map.setView([e.location.lat,e.location.long],"GEODATA"!=e.ct?x.b.ZOOM_LEVELS[e.ct]:x.b.ZOOM_LEVELS[e.et])},e.prototype.checkPumpSource=function(e,a,t){var i=null;if(t==this.TRANSCO_TEXT||t==this.SCADA_TEXT)if(Object(d.isNullOrUndefined)(e)&&Object(d.isNullOrUndefined)(a))i=null;else{var r=this.sourceToConsideredTime[this.SCADA_TEXT],n=this.sourceToConsideredTime[this.TRANSCO_TEXT];!Object(d.isNullOrUndefined)(e)&&e>r?i=this.SCADA_TEXT:!Object(d.isNullOrUndefined)(a)&&a>n&&(i=this.TRANSCO_TEXT)}else if(t==this.MOBILE_TEXT){var o=e,s=(n=this.sourceToConsideredTime[this.TRANSCO_TEXT],this.sourceToConsideredTime[this.MOBILE_TEXT]);i=!Object(d.isNullOrUndefined)(a)&&a>n?this.TRANSCO_TEXT:!Object(d.isNullOrUndefined)(o)&&o>s?this.MOBILE_TEXT:null}return i},e}(),G=i.zb({encapsulation:0,styles:[[".mapBlock[_ngcontent-%COMP%]{height:100vh;width:100%;position:absolute;left:0;top:0}.map-title[_ngcontent-%COMP%]{position:absolute;top:35px;margin-left:0;left:10%;z-index:800;background:rgba(12,12,12,.82);color:#fff;border-radius:4px;padding:9px 15px;text-decoration:underline;font-size:14px;font-weight:600}"]],data:{}});function j(e){return i.Ub(0,[(e()(),i.Bb(0,0,null,null,0,"div",[["class","mapBlock"],["id","mapId"]],null,null,null,null,null)),(e()(),i.Bb(1,0,null,null,9,"div",[["aria-label","Basic example"],["class","btn-group cm_view_toggel"],["role","group"],["style","right:inherit; left:0px;"]],null,null,null,null,null)),(e()(),i.Bb(2,0,null,null,2,"button",[["class","btn btn-secondary active"],["type","button"]],null,[[null,"click"]],function(e,a,t){var i=!0;return"click"===a&&(i=!1!==e.component.routeonDashboard("gis")&&i),i},null,null)),(e()(),i.Bb(3,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-globe"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" GIS View"])),(e()(),i.Bb(5,0,null,null,2,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],function(e,a,t){var i=!0;return"click"===a&&(i=!1!==e.component.routeonDashboard("line")&&i),i},null,null)),(e()(),i.Bb(6,0,null,null,0,"i",[["class","fa fa-sitemap"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" Line"])),(e()(),i.Bb(8,0,null,null,2,"button",[["class","btn btn-secondary "],["type","button"]],null,[[null,"click"]],function(e,a,t){var i=!0;return"click"===a&&(i=!1!==e.component.routeonDashboard("mis")&&i),i},null,null)),(e()(),i.Bb(9,0,null,null,0,"i",[["class","fa fa-table"]],null,null,null,null,null)),(e()(),i.Sb(-1,null,[" MIS"])),(e()(),i.Bb(11,0,null,null,1,"app-bottom-bar",[],null,null,null,o.b,o.a)),i.Ab(12,114688,null,0,s.a,[l.a,l.p,u.a],{commonComponent:[0,"commonComponent"]},null),(e()(),i.Bb(13,0,null,null,1,"pre",[["class","coordinates"]],null,null,null,null,null)),(e()(),i.Sb(14,null,["","   elev ",""]))],function(e,a){e(a,12,0,a.component)},function(e,a){var t=a.component;e(a,14,0,t.coordinates,t.elevation)})}function W(e){return i.Ub(0,[(e()(),i.Bb(0,0,null,null,1,"app-gis-cm",[],null,null,null,j,G)),i.Ab(1,4440064,null,0,B,[l.p,l.a,u.a,A,C,w.a,b,S.a,N.a,I.a,v.a,H.a],null,null)],function(e,a){e(a,1,0)},null)}var Z=i.xb("app-gis-cm",B,W,{},{},[]),z=t("9AJC"),Y=t("atuK"),V=t("D2NE"),K=t("lfa1"),X=t("Ip0R"),q=t("gIcY"),Q=t("I5r7"),$=t("xkgV"),ee=t("uBvM"),ae=t("8gHh"),te=t("eDkP"),ie=t("Fzqc"),re=t("4tE/"),ne=t("M2Lx"),oe=t("Wf4p"),se=t("NJnL"),le=t("lqqz"),ue=t("ARl4"),ce=t("P8j/"),pe=t("LUGh"),de=function(){return function(){}}(),me=t("iJXZ"),he=t("JUyF"),ge=t("dU2b"),fe=t("sAfe"),ye=t("dENO"),ve=t("QpxQ"),be=t("ZYjt"),Le=t("dWZg"),Se=t("4c35"),_e=t("qAlS"),Pe=t("/VYK"),we=t("seP3"),De=t("b716"),Ne=t("FpXt"),Re=t("317A"),Oe=t("989y"),Fe=t("FTix"),Te=t("cZPp"),ke=t("tIxg"),Me=t("t9UD"),Ae=t("E6Y+"),Ce=t("DXwL");t.d(a,"GisCMModuleNgFactory",function(){return Ie});var Ie=i.yb(r,[],function(e){return i.Ib([i.Jb(512,i.l,i.lb,[[8,[n.a,Z,z.a,z.b,z.j,z.k,z.g,z.h,z.i,Y.a,Y.b,Y.c,V.a,K.a]],[3,i.l],i.D]),i.Jb(4608,X.s,X.r,[i.z,[2,X.L]]),i.Jb(4608,q.E,q.E,[]),i.Jb(4608,k.C,k.C,[i.l,i.v,k.sb,k.D]),i.Jb(4608,q.f,q.f,[]),i.Jb(4608,T.j,T.p,[X.d,i.I,T.n]),i.Jb(4608,T.q,T.q,[T.j,T.o]),i.Jb(5120,T.a,function(e){return[e]},[T.q]),i.Jb(4608,T.m,T.m,[]),i.Jb(6144,T.k,null,[T.m]),i.Jb(4608,T.i,T.i,[T.k]),i.Jb(6144,T.b,null,[T.i]),i.Jb(4608,T.f,T.l,[T.b,i.v]),i.Jb(4608,T.c,T.c,[T.f]),i.Jb(4608,Q.b,Q.b,[]),i.Jb(4608,$.e,$.e,[]),i.Jb(4608,ee.a,ee.a,[]),i.Jb(4608,ae.a,ae.a,[]),i.Jb(4608,te.a,te.a,[te.g,te.c,i.l,te.f,te.d,i.v,i.F,X.d,ie.b,[2,X.l]]),i.Jb(5120,te.h,te.i,[te.a]),i.Jb(5120,re.b,re.c,[te.a]),i.Jb(4608,ne.c,ne.c,[]),i.Jb(4608,oe.b,oe.b,[]),i.Jb(4608,se.a,se.a,[i.O]),i.Jb(4608,le.a,le.a,[i.l,i.F,i.v,se.a,i.g]),i.Jb(4608,ue.w,ue.w,[]),i.Jb(4608,ue.y,ue.y,[]),i.Jb(4608,ue.a,ue.a,[]),i.Jb(4608,ue.e,ue.e,[]),i.Jb(4608,ue.c,ue.c,[]),i.Jb(4608,ue.f,ue.f,[]),i.Jb(4608,ue.x,ue.x,[ue.y,ue.f]),i.Jb(4608,ce.d,ce.d,[]),i.Jb(4608,pe.a,pe.a,[]),i.Jb(1073742336,X.c,X.c,[]),i.Jb(1073742336,l.r,l.r,[[2,l.x],[2,l.p]]),i.Jb(1073742336,de,de,[]),i.Jb(1073742336,me.b,me.b,[]),i.Jb(1073742336,k.c,k.c,[]),i.Jb(1073742336,k.g,k.g,[]),i.Jb(1073742336,k.h,k.h,[]),i.Jb(1073742336,k.l,k.l,[]),i.Jb(1073742336,k.m,k.m,[]),i.Jb(1073742336,q.A,q.A,[]),i.Jb(1073742336,q.l,q.l,[]),i.Jb(1073742336,k.s,k.s,[]),i.Jb(1073742336,k.y,k.y,[]),i.Jb(1073742336,k.E,k.E,[]),i.Jb(1073742336,k.I,k.I,[]),i.Jb(1073742336,k.L,k.L,[]),i.Jb(1073742336,k.O,k.O,[]),i.Jb(1073742336,k.R,k.R,[]),i.Jb(1073742336,k.X,k.X,[]),i.Jb(1073742336,k.bb,k.bb,[]),i.Jb(1073742336,k.eb,k.eb,[]),i.Jb(1073742336,k.fb,k.fb,[]),i.Jb(1073742336,k.F,k.F,[]),i.Jb(1073742336,q.w,q.w,[]),i.Jb(1073742336,T.e,T.e,[]),i.Jb(1073742336,T.d,T.d,[]),i.Jb(1073742336,ue.d,ue.d,[]),i.Jb(1073742336,he.b,he.b,[]),i.Jb(1073742336,Q.a,Q.a,[]),i.Jb(1073742336,$.a,$.a,[]),i.Jb(1073742336,ge.a,ge.a,[]),i.Jb(1073742336,fe.a,fe.a,[]),i.Jb(1073742336,ye.a,ye.a,[]),i.Jb(1073742336,ve.c,ve.c,[]),i.Jb(1073742336,ie.a,ie.a,[]),i.Jb(1073742336,oe.j,oe.j,[[2,oe.c],[2,be.g]]),i.Jb(1073742336,Le.b,Le.b,[]),i.Jb(1073742336,oe.t,oe.t,[]),i.Jb(1073742336,oe.r,oe.r,[]),i.Jb(1073742336,oe.o,oe.o,[]),i.Jb(1073742336,Se.b,Se.b,[]),i.Jb(1073742336,_e.b,_e.b,[]),i.Jb(1073742336,te.e,te.e,[]),i.Jb(1073742336,re.e,re.e,[]),i.Jb(1073742336,Pe.c,Pe.c,[]),i.Jb(1073742336,ne.d,ne.d,[]),i.Jb(1073742336,we.d,we.d,[]),i.Jb(1073742336,De.b,De.b,[]),i.Jb(1073742336,Ne.a,Ne.a,[]),i.Jb(1073742336,ce.c,ce.c,[]),i.Jb(1073742336,Re.b,Re.b,[]),i.Jb(1073742336,Oe.a,Oe.a,[]),i.Jb(1073742336,Fe.a,Fe.a,[]),i.Jb(1073742336,Te.a,Te.a,[]),i.Jb(1073742336,ke.a,ke.a,[]),i.Jb(1073742336,Me.a,Me.a,[]),i.Jb(1073742336,Ae.a,Ae.a,[]),i.Jb(1073742336,Ce.a,Ce.a,[]),i.Jb(1073742336,r,r,[]),i.Jb(1024,l.n,function(){return[[{path:"",component:B}],[]]},[]),i.Jb(256,T.n,"XSRF-TOKEN",[]),i.Jb(256,T.o,"X-XSRF-TOKEN",[]),i.Jb(256,ve.d,ve.e,[]),i.Jb(256,me.h,{bgsColor:"red",bgsPosition:"bottom-center",bgsSize:10,bgsType:"rectangle-bounce",fgsType:"chasing-dots",pbDirection:"ltr",hasProgressBar:!1,bgsOpacity:0},[])])})},"e+94":function(e,a){L.Marker.AutoResizeSVG=L.Marker.extend({initialize:function(e,a){L.setOptions(this,a),a=this.options,this._initIconParam=1,this._latlng=L.latLng(e)},update:function(){if(this._icon){this._updateZoomend();var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_updateZoomend:function(){var e=this.options.icon.options.iconZoomArray,a=this._map.getZoom(),t=(isFinite(e[0]),isFinite(e[e.length-1])?e[e.length-1]:17),i=e.indexOf(a);-1==i&&(i=a>=t?e.length-1:0),this._initIconParam=i,this._initIcon()},_initIcon:function(){var e=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");if(!this._iconArrayInitialized){this._iconArray=[],this._shadowArray=[];for(var t=0;t<e.icon.options.iconSizeArray.length;t++)e.icon.options.iconSizeArray&&(e.icon.options.iconSize=e.icon.options.iconSizeArray[t]),e.icon.options.iconAnchorArray&&(e.icon.options.iconAnchor=e.icon.options.iconAnchorArray[t]),e.icon.options.popupAnchorArray&&(e.icon.options.popupAnchor=e.icon.options.popupAnchorArray[t]),e.icon.options.shadowSizeArray&&(e.icon.options.shadowSize=e.icon.options.shadowSizeArray[t]),e.icon.options.shadowAnchorArray&&(e.icon.options.shadowAnchor=e.icon.options.shadowAnchorArray[t]),this._iconArray[t]=e.icon.createIcon(),this._shadowArray[t]=e.icon.createShadow(),e.title&&(this._iconArray[t].title=e.title),e.alt&&(this._iconArray[t].alt=e.alt),e.keyboard&&(this._iconArray[t].tabIndex="0");e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this._initIconCurrent=-1,this._iconArrayInitialized=!0}this._initIconCurrent!==this._initIconParam&&(this._icon?(this._removeIcon(),this._shadowArray[this._initIconCurrent]&&this._removeShadow(),this._initIconCurrent=this._initIconParam,this._icon=this._iconArray[this._initIconParam],L.DomUtil.addClass(this._icon,a),e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this._shadowArray[this._initIconParam]&&(this._shadow=this._shadowArray[this._initIconParam],L.DomUtil.addClass(this._shadow,a),this.getPane("shadowPane").appendChild(this._shadow)),e.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._icon),this._initInteraction()):(this._icon=this._iconArray[this._initIconParam],L.DomUtil.addClass(this._icon,a),e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this._shadowArray[this._initIconParam]&&(this._shadow=this._shadowArray[this._initIconParam],L.DomUtil.addClass(this._shadow,a),this.getPane("shadowPane").appendChild(this._shadow)),e.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._icon),this._initInteraction()))}}),L.autoResizeMarkerSVG=function(e,a){return new L.Marker.AutoResizeSVG(e,a)}},iCKj:function(e,a,t){"use strict";var i=t("CcnG"),r=t("FdbF"),n=t("iJXZ"),o=t("ZYjt");t("HgZ9"),t.d(a,"a",function(){return s}),t.d(a,"b",function(){return l});var s=i.zb({encapsulation:0,styles:[[""]],data:{}});function l(e){return i.Ub(0,[(e()(),i.Bb(0,0,null,null,1,"ngx-ui-loader",[],null,null,null,r.b,r.a)),i.Ab(1,770048,null,0,n.i,[o.c,i.i,n.d],{fgsSize:[0,"fgsSize"],fgsType:[1,"fgsType"],loaderId:[2,"loaderId"]},null)],function(e,a){e(a,1,0,60,"fading-circle",a.component.id)},null)}}}]);