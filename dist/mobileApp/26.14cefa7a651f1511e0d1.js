(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"44fe":function(e,t,n){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n;return(n="application/font-woff",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[t(e).toLowerCase()]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):function(e){return new Promise(function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))})}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){return new Promise(function(t){var n=new XMLHttpRequest;function r(e){console.error(e),t("")}n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var o=new FileReader;o.onloadend=function(){var e=o.result.split(/,/)[1];t(e)},o.readAsDataURL(n.response)}else r("cannot fetch resource: "+e+", status: "+n.status)},n.ontimeout=function(){r("timeout of 30000ms occured while fetching resource: "+e)},n.responseType="blob",n.timeout=3e4,n.open("GET",e,!0),n.send()})},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e})},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),r=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,i){return t(e)?Promise.resolve(e).then(r).then(function(t){var r=Promise.resolve(e);return t.forEach(function(e){r=r.then(function(t){return o(t,e,n,i)})}),r}):Promise.resolve(e)},shouldProcess:t,impl:{readUrls:r,inline:o}};function t(t){return-1!==t.search(e)}function r(t){for(var r,o=[];null!==(r=e.exec(t));)o.push(r[1]);return o.filter(function(e){return!n.isDataUrl(e)})}function o(e,t,r,o){return Promise.resolve(t).then(function(e){return r?n.resolveUrl(e,r):e}).then(o||n.getAndEncode).then(function(e){return n.dataAsUrl(e,n.mimeType(t))}).then(function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+r+"$3")})}}(),o=function(){return{resolveAll:function(){return e(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then(function(e){var t=[];return e.forEach(function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(r){console.log("Error while reading CSS rules from "+e.href,r.toString())}}),t}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return r.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){return r.inlineAll(e.cssText,(e.parentStyleSheet||{}).href)},src:function(){return e.style.getPropertyValue("src")}}}}}(),i=function(){return{inlineAll:function t(o){return o instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?r.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}(o).then(function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(n.asArray(o.childNodes).map(function(e){return t(e)}))}):Promise.resolve(o)},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then(function(t){return n.dataAsUrl(t,n.mimeType(e.src))}).then(function(t){return new Promise(function(n,r){e.onload=n,e.onerror=n,e.src=t})})}}}}();function a(e,t){return t=t||{},Promise.resolve(e).then(function(e){return function(e,t,r){return Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(t,r,o){var i=e.childNodes;return 0===i.length?Promise.resolve(r):function(e,t,r){var o=Promise.resolve();return t.forEach(function(t){o=o.then(function(){return function(e,t,r){return t&&!t(e)?Promise.resolve():Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(t,r,o){var i=e.childNodes;return 0===i.length?Promise.resolve(r):function(e,t,r){var o=Promise.resolve();return t.forEach(function(t){o=o.then(function(){return function(e,t,r){if(!r&&t&&!t(e))return Promise.resolve();return Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return s(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(t,n.asArray(o),r).then(function(){return t})}(e,r,t)}).then(function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(function(){var r,o;r=window.getComputedStyle(e),o=t.style,r.cssText?o.cssText=r.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(r,o),o.fontStretch="normal"}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();t.className=t.className+" "+a;var l=document.createElement("style");l.appendChild(function(e,t,r){var o="."+e+":"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(a,r,o)),t.appendChild(l)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}).then(function(){return t}):t}(e,t)})}(t,r)}).then(function(t){t&&e.appendChild(t)})}),o}(r,n.asArray(i),o).then(function(){return r})}(0,r,t)}).then(function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(function(){var r,o;r=window.getComputedStyle(e),o=t.style,r.cssText?o.cssText=r.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(r,o),o.fontStretch="normal"}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();t.className=t.className+" "+a;var l=document.createElement("style");l.appendChild(function(e,t,r){var o="."+e+":"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(a,r,o)),t.appendChild(l)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}).then(function(){return t}):t}(e,t)})}(t,r)}).then(function(t){t&&e.appendChild(t)})}),o}(r,n.asArray(i),o).then(function(){return r})}(0,r,t)}).then(function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(function(){var r,o;r=window.getComputedStyle(e),o=t.style,r.cssText?o.cssText=r.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(r,o),o.fontStretch="normal"}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();t.className=t.className+" "+a;var l=document.createElement("style");l.appendChild(function(e,t,r){var o="."+e+":"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(a,r,o)),t.appendChild(l)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}).then(function(){return t}):t}(e,t)})}(e,t.filter)}).then(c).then(u).then(function(e){return t.bgcolor&&(e.style.backgroundColor=t.bgcolor),t.width&&(e.style.width=t.width+"px"),t.height&&(e.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(n){e.style[n]=t.style[n]}),e}).then(function(r){return function(e,t,r){return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(n.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}(r,t.width||n.width(e),t.height||n.height(e))})}function l(e,t){return a(e,t).then(n.makeImage).then(n.delay(100)).then(function(r){var o=function(e){var r=document.createElement("canvas");r.width=t.width||n.width(e),r.height=t.height||n.height(e);var o=r.getContext("2d");if(null!=t.dpi){var i=t.dpi/96;r.width=Math.ceil(r.width*i),r.height=Math.ceil(r.height*i),o.scale(i,i)}return t.bgcolor&&(o.fillStyle=t.bgcolor,o.fillRect(0,0,r.width,r.height)),r}(e);return o.getContext("2d").drawImage(r,0,0),o})}function s(e,t,r){if(!r&&t&&!t(e))return Promise.resolve();return Promise.resolve(e).then(o).then(function(n){return i(e,n,t)}).then(function(t){return a(e,t)});function o(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}function i(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return s(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(t,n.asArray(o),r).then(function(){return t});function i(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return s(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}}function a(e,t){return t instanceof Element?Promise.resolve().then(function(){!function(e,t){e.cssText?t.cssText=e.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(e,t);t.fontStretch="normal"}(window.getComputedStyle(e),t.style)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""===i||"none"===i)return;var a=n.uid();t.className=t.className+" "+a;var l=document.createElement("style");l.appendChild(function(e,t,r){var o="."+e+":"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(a,r,o)),t.appendChild(l)}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value);e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){if(!(t instanceof SVGElement))return;if(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(t instanceof SVGRectElement))return;["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})}).then(function(){return t}):t;function r(){function r(e,t){if(e.cssText)t.cssText=e.cssText;else r(e,t);function r(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}t.fontStretch="normal"}r(window.getComputedStyle(e),t.style)}function o(){function r(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(i===""||i==="none")return;var a=n.uid();t.className=t.className+" "+a;var l=document.createElement("style");function s(e,t,r){var o="."+e+":"+t,i=r.cssText?a(r):l(r);return document.createTextNode(o+"{"+i+"}");function a(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function l(e){return n.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}l.appendChild(s(a,r,o)),t.appendChild(l)}[":before",":after"].forEach(function(e){r(e)})}function i(){if(e instanceof HTMLTextAreaElement)t.innerHTML=e.value;if(e instanceof HTMLInputElement)t.setAttribute("value",e.value)}function a(){if(!(t instanceof SVGElement))return;if(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(t instanceof SVGRectElement))return;["width","height"].forEach(function(e){var n=t.getAttribute(e);if(!n)return;t.style.setProperty(e,n)})}}}function c(e){return o.resolveAll().then(function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e})}function u(e){return i.inlineAll(e).then(function(){return e})}e.exports={toSvg:a,toPng:function(e,t){return l(e,t||{}).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return l(e,t=t||{}).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})},toBlob:function(e,t){return l(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return l(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data})},impl:{fontFaces:o,images:i,util:n,inliner:r}}}()},ovIW:function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};L.Control.vassarLogo=L.Control.extend({options:{position:"bottomright",logopath:null},onAdd:function(e){return this._map=e,this._container=L.DomUtil.create("div","leaflet-control leaflet-vassarlogo"),this.options.logopath&&(L.DomUtil.create("img","bottomvassarlogo",this._container).src=this.options.logopath),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container),this._container}}),L.control.vasarlogo=function(e){return new L.Control.vassarLogo(e)},L.Control.HtmlLegend=L.Control.extend({_map:null,_activeLayers:0,_alwaysShow:!1,options:{position:"topright",legends:[],collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1},onAdd:function(e){var t=this;return this._map=e,this._container=L.DomUtil.create("span","leaflet-control leaflet-legend"),this._container.style.marginBottom="25px",this._close=L.DomUtil.create("div","leaflet-legend-close",this._container),this._openContainer=L.DomUtil.create("div","leaflet-control leaflet-control-legend",this._container),this._legendContainer=L.DomUtil.create("span","leaflet-bar leaflet-html-legend",this._container),this._legendContainer.style.display="none",this._legendContainer.style.backgroundColor="transparent",this._close.style.display="none",this._legendContainer.style.border="0px solid white",this._legendContainer.style.padding="0px",this.firstLayerEverFlag=!0,L.DomEvent.on(this._close,"click",function(){t.collapseContainer()}),L.DomEvent.on(this._openContainer,"click",function(){t._activeLayers>0&&t.expandContainer()}),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container),this.render(),this._container},render:function(){L.DomUtil.empty(this._legendContainer),this.options.legends.forEach(this._renderLegend,this)},addLegend:function(e){if(this._map&&this._renderLegend(e),!this.options.legends.find(function(t){return t.name===e.name}))return this.options.legends.push(e),!0},hasLegend:function(e){return-1==this.options.legends.findIndex(function(t){return t.name==e.name})||0==this.options.legends.length},clearLegend:function(){this.options.legends=[],L.DomUtil.empty(this._legendContainer)},updateLayerInstance:function(e,t){for(var n=0;n<this.options.legends.length;n++)if(this.options.legends[n].name===e){this.options.legends[n].layer=t;break}},_renderLegend:function(e){var t=this;if(e.elements){var n=e.elements,r="legend-block";this.options.detectStretched&&3===n.length&&""!==n[0].label&&""===n[1].label&&""!==n[2].label&&(r+=" legend-stretched");var o=L.DomUtil.create("div",r,this._legendContainer);o.style.marginTop="-3px",e.name&&function(){var n=L.DomUtil.create("h4",null,o);n.style.backgroundColor="black",n.style.marginLeft="5px",n.style.marginBottom="0px",n.style.padding="4px",L.DomUtil.create("div","legend-caret",n);var r=L.DomUtil.create("span",null,n);r.innerHTML=e.name,r.style.color="white",t.options.collapsedOnInit&&L.DomUtil.addClass(n,"closed"),L.DomEvent.on(n,"click",function(){L.DomUtil.hasClass(n,"closed")?L.DomUtil.removeClass(n,"closed"):L.DomUtil.addClass(n,"closed")},t)}();var i=L.DomUtil.create("div","legend-elements",o);n.forEach(function(e){t._addElement(e.html,e.label,e.style,i)},this),this._connectLayer(o,e)}},_addElement:function(e,t,n,o){var i=L.DomUtil.create("div","legend-row",o);if(!e||t||n){var a=L.DomUtil.create("span","symbol",i);n&&Object.entries(n).forEach(function(e){var t=r(e,2);a.style[t[0]]=t[1]}),a.innerHTML=e,t&&(L.DomUtil.create("label",null,i).innerHTML=t)}else i.innerHTML=e},_connectLayer:function(e,t){var n=this,r=t.layer;r?(this._map.hasLayer(r)?this._activeLayers+=1:e.style.display="none",e.classList.add("layer-control"),n.expandContainer(),this._map.on("layeradd",function(t){t.layer===r&&(n._activeLayers+=1,e.style.display="",n.collapseAllLegends(),L.DomUtil.toBack(e),e.childNodes[0].classList.remove("closed"),n.firstLayerEverFlag&&n.expandContainer(),n.firstLayerEverFlag=!1)}).on("layerremove",function(t){t.layer===r&&(n._activeLayers-=1,e.style.display="none",n._activeLayers<1&&n.collapseContainer())})):this._alwaysShow=!0},collapseAllLegends:function(){this._legendContainer.childNodes.forEach(function(e){e.childNodes[0]&&"H4"===e.childNodes[0].nodeName&&e.childNodes[0].classList.add("closed")})},collapseContainer:function(){this._legendContainer.style.display="none",this._openContainer.style.display="",this._close.style.display="none"},expandContainer:function(){this._activeLayers<1||(this._legendContainer.style.display="",this._openContainer.style.display="none",this._close.style.display="")}}),L.control.htmllegend=function(e){return new L.Control.HtmlLegend(e)},L.Control.HtmlLegendForVisibility=L.Control.extend({_map:null,_activeLayers:0,_alwaysShow:!1,options:{position:"topright",legends:[],collapseSimple:!1,detectStretched:!1,collapsedOnInit:!1},onAdd:function(e){var t=this;return this._map=e,this._container=L.DomUtil.create("span","leaflet-control leaflet-legend"),this._container.style.marginBottom="0px",this._close=L.DomUtil.create("div","leaflet-legend-close",this._container),new L.Draggable(this._container).disable(),this._openContainer=L.DomUtil.create("div","leaflet-control leaflet-control-legend",this._container),this._legendContainer=L.DomUtil.create("span","leaflet-bar leaflet-html-legend",this._container),this._legendContainer.style.display="none",this._legendContainer.style.backgroundColor="white",this._close.style.display="none",this._legendContainer.style.border="0px solid white",this._legendContainer.style.padding="0px",this.firstLayerEverFlag=!0,L.DomEvent.on(this._close,"click",function(){t.collapseContainer()}),L.DomEvent.on(this._openContainer,"click",function(){t._activeLayers>0&&t.expandContainer()}),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container),this._container},render:function(){L.DomUtil.empty(this._legendContainer),this.options.legends.forEach(this._renderLegend,this)},addLegend:function(e){if(this._map&&this._renderLegend(e),!this.options.legends.find(function(t){return t.name===e.name}))return this.options.legends.push(e),!0},hasLegend:function(e){return-1==this.options.legends.findIndex(function(t){return t.name==e.name})||0==this.options.legends.length},clearLegend:function(){this.options.legends=[],L.DomUtil.empty(this._legendContainer)},updateLayerInstance:function(e,t){for(var n=0;n<this.options.legends.length;n++)if(this.options.legends[n].name===e){this.options.legends[n].layer=t;break}},_renderLegend:function(e){var t=this;if(e.elements){var n=e.elements,r="legend-block";this.options.detectStretched&&3===n.length&&""!==n[0].label&&""===n[1].label&&""!==n[2].label&&(r+=" legend-stretched");var o=L.DomUtil.create("div",r,this._legendContainer);o.style.marginTop="-3px",e.name&&function(){var n=L.DomUtil.create("h4",null,o);n.style.backgroundColor="transparent",n.style.marginLeft="0px",n.style.marginBottom="8px",n.style.padding="0px",L.DomUtil.create("div","legend-caret",n);var r=L.DomUtil.create("span",null,n);r.innerHTML=e.name,r.style.color="#6C757D",t.options.collapsedOnInit&&L.DomUtil.addClass(n,"closed"),L.DomEvent.on(n,"click",function(){L.DomUtil.hasClass(n,"closed")?L.DomUtil.removeClass(n,"closed"):L.DomUtil.addClass(n,"closed")},t)}();var i=L.DomUtil.create("div","legend-elements",o);n.forEach(function(e){t._addElement(e.html,e.label,e.style,i)},this),this._connectLayer(o,e)}},_addElement:function(e,t,n,o){var i=L.DomUtil.create("div","legend-row",o);if(!e||t||n){var a=L.DomUtil.create("span","symbol",i);n&&Object.entries(n).forEach(function(e){var t=r(e,2);a.style[t[0]]=t[1]}),a.innerHTML=e,t&&(L.DomUtil.create("label",null,i).innerHTML=t)}else i.innerHTML=e},_connectLayer:function(e,t){this._activeLayers+=1,e.classList.add("layer-control"),this.expandContainer()},collapseAllLegends:function(){this._legendContainer.childNodes.forEach(function(e){e.childNodes[0]&&"H4"===e.childNodes[0].nodeName&&e.childNodes[0].classList.add("closed")})},collapseContainer:function(){this._legendContainer.style.display="none",this._openContainer.style.display="",this._close.style.display="none"},expandContainer:function(){this._activeLayers<1||(this._legendContainer.style.display="",this._openContainer.style.display="none",this._close.style.display="")}}),L.control.htmllegendforVisibility=function(e){return new L.Control.HtmlLegendForVisibility(e)}}}]);