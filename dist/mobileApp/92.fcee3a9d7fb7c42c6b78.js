(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"/s7S":function(l,n){l.exports="\r\n/**\r\n * (c) jSuites Javascript Web Components\r\n *\r\n * Website: https://jsuites.net\r\n * Description: Create amazing web based applications.\r\n *\r\n * MIT License\r\n *\r\n */\r\n\r\n:root {\r\n    --button-color: #298BA8; \r\n    --active-color: #007aff;\r\n}\r\n\r\n.unselectable {\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jdragging {\r\n    opacity:0.2;\r\n    filter: alpha(opacity=20);\r\n}\r\n\r\n.jupload.input {\r\n    padding-right:18px;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='black' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z'/%3E%3C/svg%3E\");\r\n    background-position:top 50% right 5px;\r\n    background-repeat:no-repeat;\r\n    box-sizing: border-box;\r\n    background-size: initial;\r\n    height: 33px;\r\n    min-height: initial;\r\n    padding-right: 30px;\r\n}\r\n\r\n.jupload img {\r\n    width: 100%;\r\n}\r\n\r\n.jupload.input img {\r\n    width: initial;\r\n    max-width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.jupload[data-multiple] {\r\n    padding: 10px;\r\n}\r\n\r\n.jupload[data-multiple] img {\r\n    height: 70px;\r\n    width: 100px;\r\n    -o-object-fit: cover;\r\n       object-fit: cover;\r\n    margin-right: 5px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.jupload {\r\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7emlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTctMTItMzFUMjI6NDM6MzBaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDEtMDFUMjA6MDM6MjNaPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOC0wMS0wMVQyMDowMzoyM1o8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjBmYzcxZDEyLTg1MGUtY2E0NS05MzE4LWRhYjI5YWZhMmQ4MjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowZmM3MWQxMi04NTBlLWNhNDUtOTMxOC1kYWIyOWFmYTJkODI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMzFUMjI6NDM6MzBaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjk2MTA5Y2Y0LTEwM2ItNTc0Ny1hZWE3LWI5NDMxOWY0NWFkZjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxOC0wMS0wMVQyMDowMjoyMFo8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ZDE3NGVkY2UtNWZkNC0wODRkLTkzNzAtZDRhODVmMzdkNjdiPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTAxLTAxVDIwOjAzOjIzWjwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj44MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+tc8AsgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAGjUlEQVR42uycW2xURRjHf91SoEIBUQpYI8VSVBDExniLERNUJBpQVEDFqE1AEYkX0JCC0YjgBdEYDOIFeVEEFRBilKBogg+KiQoV5Q6Khla8lrZRBLo+zLdazs7ZM2d3zsJu55/sy3dmz5797Vy+y8wWxONxnNJXzCFwAB1AB9ABdHIAHUAH0AF0Cq929fX1ufbMA4HLgSqgHOgPdJJrfwPbgb3AJuBD4KsoH6agrq4uF6CVAncC4wVYGP0ALAVeAva0NYDFwOPARKBzhvc6ArwG1AC/toU5cDSwFXjAAjyAQmACsAOozneATwLLgdMM2/8jLxN1AxYBC/J1CL8F3BjQZhOwCqgFvgd+AuJAT6ACOBMYCVwUcJ91siDlDcC3gRtSXF8IzAe+M7xfOXC3TAOFPm3WA0NzAeDp8oUGASeKrUF60R6Zn6an6CnTgI1pfnYFMAcY43N9GTDueAR4sQylK8RvS0dzgYcsPc9U4Bmfa9XA4uMF4GXypUdkeJ8Z0nNs6hbgdZ9rPcK6OLZX4XbisH5iAd68COABvAHc63NtwbHsgf2B94BKC/faAFwY8Zy8ErhWYx8EbM42wAuAj4ETAtptllh1N9AiC0t/YLCnXV9xT6JUJ6AOKPHYX5HIJ2sAK4BvgQ4+17fJ5LxKIgudzgBGySS/3sAPtKWZwCyPrQk4ydQxtwFwH9BbY4/LIvBEyF5RIF8iG+oC/K7xEUfLEI98EVnsA28/MCQkPIDmLMIDOCDOu1fXZGMVrgJu19gbZCKuJTek62mV2QD4XIoFZT+5o10a2ylRA6wCLtXYp8uikUv6Webr1uoOdIwS4HiNbS/wFLmnZuCgx9Y+hVdhBeBwjW1+BF9uFvBqFiDGDW3a0Cus+gADPLYWVB7PpiaJn5YYZjMigles6W2NskJH0gN1RZ1EJcyWJnvi0hpUbSQK9dRwaDGIqtIGeLbG9o3lnveCT2YmCogVPqvwdpOIKB2A7TU2W+XCiQEZkSggTvGxl8m0NNc2wDKNrcXCF5mASoUFaQYw2xK8Iv4vyvtpmsTxGQHsLPPQLp9frI+FYftyiPY1liAeBs5DZYNS/XgjgTXpApwq4Gaj0k86DbK4YISBmOlwjreaw+8CzvEDJa7bojAATwU+QtUQSg0Wlr4WFwxT2Z4Ta1GZ9Md8rlcDY00ADpFfZViID7/D8oJxrCACPCIjQ6elqOK8ryM9GPg64AM+B1YAW1BJ0r9M/aaQC0YYiAWWne0FQFf0dZnngdsgOaHaXVySLj43XSY3zCRVNclSz9NpTgQRywfAVRr7WcDWmKaxDl4TKuU+LkN4kyOEF1XEMk5GmFf3eOfAKcD5moY/ypy4OsMHeTjDBSPMcF5o8X4NPs70eKAoMYSLJIDuoOl5AwRiJroJWIIq1BwM8DcLDFyPpoAESTEqN/m0aVYlQF1RtRPviB2ZWEQeRJ//Gm0BHqhttieTutJVgkrGBu0FbEbtvmoMgNjLErxEL3yH5L01oxIA79O8aTVqj7ENmWSpGw1DwhZUJTBIf1ieGlZoAFbGxG3pESLIjkolBsMXaVNC9qWrnZTFZJh69SV283v5oHrNlNA9JvGfV0scL+3cm1Q7iaFPKNY6XimTD0fFwuWaRrscqyR11Hgqh2IkZ5gPy7LtdLRKNX7gnzHgkMdYGDIx0FZUrrHVxVBHBLzDup/jlaSrNbbdMWCn5sIAxyspsrlZY18TQ3/mYoxjdpQmkFx8OgKsjAHvat4wlFZZVyce1diWA80x4DOf7Ma8LD+kaYhmGvLZ0ovoa0LP0mpZ1qXXq4Fzs/igiSRBY8BrH3bq0Ca6HlWt82od6iTBfyn9Lj6+Xx2q2nYwSz3Q9FhrE/ZSVX66BPjU51q/RLCR6IEH0KfCe8sQL85SmNRo+Ioa3tgU8Ga2jtS8RaUdPj7gTtQRqS/yfLHogErf+6Xykk52ekOTESm67AbUrvuyPARXAtyPSvz6wduK5myx7pzIcPy3N4D6Z4w3pc0O1IbybAwrWyqSubZUOsYw4DrU4Ro/bUEd3m4wAZjoie8bPtARVNkvVwAWypxu6gqtRW0u0i6kqU4qDUEVUirasANdQ8BhoVSbizai/uRmbhsEtxp1lCPwpJXpWbmBqD++uTWPQ7xm1NaVJeIomzmvIQ8bdpO0zpWozea9Aibf41WHgd9QhaJtqAPia4FfQnv/7l98M5P79zYH0AF0AB1AJwfQAXQAHUCnNPTvAKemiFU6nb96AAAAAElFTkSuQmCC);\r\n    background-repeat: no-repeat;\r\n    background-size: 100px;\r\n    background-position: center;\r\n    background-color: rgba(230, 230, 230, 0.1);\r\n    border: 1px dotted #eee;\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 180px;\r\n}\r\n\r\n.jupload-item {\r\n    padding-right: 22px;\r\n    border-radius: 1px;\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n\r\n.jremove {\r\n    opacity: 0.2;\r\n    filter: alpha(opacity=20);\r\n}\r\n\r\n/** Animations **/\r\n\r\n.fade-in {\r\n    -webkit-animation: fade-in 2s forwards;\r\n            animation: fade-in 2s forwards;\r\n}\r\n\r\n.fade-out {\r\n    -webkit-animation: fade-out 1s forwards;\r\n            animation: fade-out 1s forwards;\r\n}\r\n\r\n.slide-left-in {\r\n    position: relative;\r\n    -webkit-animation: slide-left-in 0.4s forwards;\r\n            animation: slide-left-in 0.4s forwards;\r\n}\r\n\r\n.slide-left-out {\r\n    position: relative;\r\n    -webkit-animation: slide-left-out 0.4s forwards;\r\n            animation: slide-left-out 0.4s forwards;\r\n}\r\n\r\n.slide-right-in {\r\n    position: relative;\r\n    -webkit-animation: slide-right-in 0.4s forwards;\r\n            animation: slide-right-in 0.4s forwards;\r\n}\r\n\r\n.slide-right-out {\r\n    position: relative;\r\n    -webkit-animation: slide-right-out 0.4s forwards;\r\n            animation: slide-right-out 0.4s forwards;\r\n}\r\n\r\n.slide-top-in {\r\n    position: relative;\r\n    -webkit-animation: slide-top-in 0.4s forwards;\r\n            animation: slide-top-in 0.4s forwards;\r\n}\r\n\r\n.slide-top-out {\r\n    position: relative;\r\n    -webkit-animation: slide-top-out 0.2s forwards;\r\n            animation: slide-top-out 0.2s forwards;\r\n}\r\n\r\n.slide-bottom-in {\r\n    position: relative;\r\n    -webkit-animation: slide-bottom-in 0.4s forwards;\r\n            animation: slide-bottom-in 0.4s forwards;\r\n}\r\n\r\n.slide-bottom-out {\r\n    position: relative;\r\n    -webkit-animation: slide-bottom-out 0.1s forwards;\r\n            animation: slide-bottom-out 0.1s forwards;\r\n}\r\n\r\n.spin {\r\n    -webkit-animation: spin 2s infinite linear;\r\n            animation: spin 2s infinite linear;\r\n}\r\n\r\n/** Fadein and Fadeout **/\r\n\r\n@keyframes fade-in {\r\n    0% { opacity: 0; }\r\n    100% { opacity: 100; }\r\n}\r\n\r\n@-webkit-keyframes fade-in {\r\n    0% { opacity: 0; }\r\n    100% { opacity: 100; }\r\n}\r\n\r\n@keyframes fade-out {\r\n    0% { opacity: 100; }\r\n    100% { opacity: 0; }\r\n}\r\n\r\n@-webkit-keyframes fade-out {\r\n    0% { opacity: 100; }\r\n    100% { opacity: 0; }\r\n}\r\n\r\n/** Keyframes Left to Right **/\r\n\r\n@keyframes slide-left-in {\r\n    0% { left: -100%; }\r\n    100% { left: 0%; }\r\n}\r\n\r\n@-webkit-keyframes slide-left-in {\r\n    0% { left: -100%; }\r\n    100% { left: 0%; }\r\n}\r\n\r\n@keyframes slide-left-out {\r\n    0% { left: 0%; }\r\n    100% { left: -100%; }\r\n}\r\n\r\n@-webkit-keyframes slide-left-out {\r\n    0% { left: 0%; }\r\n    100% { left: -100%; }\r\n}\r\n\r\n/** Keyframes Right to Left **/\r\n\r\n@keyframes slide-right-in {\r\n    0% { left: 100%; }\r\n    100% { left: 0%; }\r\n}\r\n\r\n@-webkit-keyframes slide-right-in\r\n{\r\n    0% { left: 100%; }\r\n    100% { left: 0%; }\r\n}\r\n\r\n@keyframes slide-right-out {\r\n    0% { left: 0%; }\r\n    100% { left: 100%; }\r\n}\r\n\r\n@-webkit-keyframes slide-right-out {\r\n    0% { left: 0%; }\r\n    100% { left: 100%; }\r\n}\r\n\r\n/** Keyframes Top to Bottom **/\r\n\r\n@keyframes slide-top-in {\r\n    0% { transform: translateY(-100%); }\r\n    100% { transform: translateY(0%); }\r\n}\r\n\r\n@-webkit-keyframes slide-top-in {\r\n    0% { transform: translateY(-100%); }\r\n    100% { -webkit-transform: translateY(0%); }\r\n}\r\n\r\n@keyframes slide-top-out {\r\n    0% { transform: translateY(0%); }\r\n    100% { transform: translateY(-100%); }\r\n}\r\n\r\n@-webkit-keyframes slide-top-out {\r\n    0% { -webkit-transform: translateY(0%); }\r\n    100% { -webkit-transform: translateY(-100%); }\r\n}\r\n\r\n/** Keyframes Bottom to Top **/\r\n\r\n@keyframes slide-bottom-in {\r\n    0% { transform: translateY(100%); }\r\n    100% { transform: translateY(0%); }\r\n}\r\n\r\n@-webkit-keyframes slide-bottom-in {\r\n    0% { transform: translateY(100%); }\r\n    100% { -webkit-transform: translateY(0%); }\r\n}\r\n\r\n@keyframes slide-bottom-out {\r\n    0% { transform: translateY(0%); }\r\n    100% { transform: translateY(100%); }\r\n}\r\n\r\n@-webkit-keyframes slide-bottom-out {\r\n    0% { -webkit-transform: translateY(0%); }\r\n    100% { -webkit-transform: translateY(100%); }\r\n}\r\n\r\n@-webkit-keyframes spin {\r\n    from {\r\n        -webkit-transform:rotate(0deg);\r\n    }\r\n    to {\r\n        -webkit-transform:rotate(359deg);\r\n    }\r\n}\r\n\r\n@keyframes spin {\r\n    from {\r\n        transform:rotate(0deg);\r\n    }\r\n    to {\r\n        transform:rotate(359deg);\r\n    }\r\n}\r\n\r\n.jcalendar {\r\n    position:absolute;\r\n    z-index:9000;\r\n    display:none;\r\n    box-sizing:border-box;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n    -webkit-tap-highlight-color: transparent;\r\n    min-width:280px;\r\n}\r\n\r\n.jcalendar.jcalendar-focus {\r\n    display:block;\r\n}\r\n\r\n.jcalendar .jcalendar-backdrop {\r\n    position:fixed;\r\n    top:0px;\r\n    left:0px;\r\n    z-index:9000;\r\n    min-width:100%;\r\n    min-height:100%;\r\n    background-color:rgba(0,0,0,0.5);\r\n    border:0px;\r\n    padding:0px;\r\n    display:none;\r\n}\r\n\r\n.jcalendar .jcalendar-container {\r\n    position:relative;\r\n    box-sizing:border-box;\r\n}\r\n\r\n.jcalendar .jcalendar-content {\r\n    position:absolute;\r\n    z-index:9001;\r\n    box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\r\n    background-color:#fff;\r\n}\r\n\r\n.jcalendar-header {\r\n    text-align:center;\r\n}\r\n\r\n.jcalendar-header span {\r\n    margin-right:4px;\r\n    font-size:1.1em;\r\n    font-weight:bold;\r\n}\r\n\r\n.jcalendar-prev {\r\n    cursor:pointer;\r\n    background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\r\n    background-position:center;\r\n    background-repeat:no-repeat;\r\n}\r\n\r\n.jcalendar-next {\r\n    cursor:pointer;\r\n    background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z' fill='%23000' /%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3C/svg%3E\");\r\n    background-position:center;\r\n    background-repeat:no-repeat;\r\n}\r\n\r\n.jcalendar-weekday {\r\n    font-weight: 600;\r\n    background-color: #fcfcfc;\r\n    padding: 14px;\r\n}\r\n\r\n.jcalendar-table > table {\r\n    width:100%;\r\n    background-color:#fff;\r\n}\r\n\r\n.jcalendar-table > table > thead {\r\n    cursor:pointer;\r\n}\r\n\r\n.jcalendar-table thead td {\r\n    padding:10px;\r\n    height:40px;\r\n}\r\n\r\n.jcalendar-table > table > tbody td {\r\n    box-sizing:border-box;\r\n    cursor:pointer;\r\n    padding:9px;\r\n    font-size:0.9em;\r\n}\r\n\r\n.jcalendar-table tfoot td {\r\n    padding:10px;\r\n}\r\n\r\n.jcalendar-months td, .jcalendar-years td {\r\n    height:24px;\r\n}\r\n\r\n.jcalendar-input {\r\n    padding-right:18px;\r\n    background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='gray'%3E%3Cpath d='M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z'/%3E%3Cpath fill='none' d='M0 0h24v24H0z'/%3E%3C/svg%3E\");\r\n    background-position:top 50% right 5px;\r\n    background-repeat:no-repeat;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcalendar-done {\r\n    box-shadow: 1px 1px 5px 0px rgba(0,0,0,0.39);\r\n    background-color:#fff;\r\n}\r\n\r\n.jcalendar-update {\r\n    border:1px solid #ccc;\r\n    background-color:#fff;\r\n    border-radius:4px;\r\n    padding:5px;\r\n    width:100%;\r\n}\r\n\r\n.jcalendar-container select {\r\n    width:55px;\r\n    display:inline-block;\r\n    border:0px;\r\n    padding:4px;\r\n    text-align:center;\r\n    font-size:1.1em;\r\n    -webkit-user-select:none;\r\n       -moz-user-select:none;\r\n        -ms-user-select:none;\r\n            user-select:none;\r\n    margin-right:10px;\r\n}\r\n\r\n.jcalendar-container select:first-child {\r\n    margin-right:2px;\r\n}\r\n\r\n.jcalendar-selected {\r\n    background-color:#eee;\r\n}\r\n\r\n.jcalendar-reset, .jcalendar-confirm {\r\n    text-transform:uppercase;\r\n    cursor:pointer;\r\n    color: var(--active-color);\r\n}\r\n\r\n.jcalendar-controls {\r\n    padding:15px;\r\n    box-sizing: border-box;\r\n    vertical-align:middle;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items:center;\r\n}\r\n\r\n.jcalendar-controls div {\r\n    font-weight:bold;\r\n}\r\n\r\n.jcalendar-fullsize  {\r\n    position:fixed;\r\n    width:100%;\r\n    top:0px;\r\n    left:0px;\r\n}\r\n\r\n.jcalendar-fullsize .jcalendar-content\r\n{\r\n    position:fixed;\r\n    width:100%;\r\n    left:0px;\r\n    bottom:0px;\r\n}\r\n\r\n.jcalendar-focus.jcalendar-fullsize .jcalendar-backdrop {\r\n    display:block;\r\n}\r\n\r\n.jcalendar-sunday {\r\n    color: red;\r\n}\r\n\r\n.jcalendar-disabled {\r\n    color: #ccc;\r\n}\r\n\r\n.jcalendar-time {\r\n    display:flex;\r\n}\r\n\r\n.jcolor {\r\n    position: absolute;\r\n    display: none;\r\n    outline: none;\r\n}\r\n\r\n.jcolor-input {\r\n    padding-right:18px;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='black' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z'/%3E%3C/svg%3E\");\r\n    background-position:top 50% right 5px;\r\n    background-repeat:no-repeat;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcolor-content {\r\n    position: absolute;\r\n    left: 0px;\r\n    z-index: 9000;\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\r\n    -webkit-font-smoothing: antialiased;\r\n    font-size: .875rem;\r\n    letter-spacing: .2px;\r\n    border-radius: 4px;\r\n    box-shadow: 0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);\r\n    background-color:#fff;\r\n    box-sizing: border-box;\r\n    min-width: 260px;\r\n}\r\n\r\n.jcolor-controls {\r\n    display: flex;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #eee;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.jcolor-controls div {\r\n    flex: 1;\r\n    font-size: 1em;\r\n    color: var(--active-color);\r\n    text-transform: uppercase;\r\n    font-weight: bold;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcolor-content table {\r\n    border-collapse: collapse;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcolor-focus {\r\n    display:block;\r\n}\r\n\r\n.jcolor table {\r\n    width:100%;\r\n    height:100%;\r\n    min-height: 160px;\r\n}\r\n\r\n.jcolor td {\r\n    padding: 7px;\r\n}\r\n\r\n.jcolor-selected {\r\n    background-repeat:no-repeat;\r\n    background-size: 16px;\r\n    background-position: center;\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z' fill='white'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jcolor-fullscreen {\r\n    position: fixed;\r\n    bottom: 0px;\r\n    width:100%;\r\n    max-height: 290px;\r\n    border-radius: 0px;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcolor-fullscreen .jcolor-controls {\r\n    padding: 15px;\r\n    box-shadow: 1px 0px 1px 0px rgba(0,0,0,0.39);\r\n}\r\n\r\n.jcolor-reset {\r\n    text-align: left;\r\n}\r\n\r\n.jcolor-close {\r\n    text-align: right;\r\n}\r\n\r\n.jcolor-backdrop {\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    background-color: rgba(0,0,0,0.5);\r\n    border: 0px;\r\n    padding: 0px;\r\n    z-index: 8000;\r\n    display: none;\r\n    \r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */ /* Konqueror HTML */\r\n       -moz-user-select: none; /* Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\r\n}\r\n\r\n.jcolor-content .jtabs-content {\r\n    padding: 7px;\r\n}\r\n\r\n.jcolor-grid tr:first-child > td:first-child {\r\n    border-top-left-radius: 3px;\r\n}\r\n\r\n.jcolor-grid tr:first-child > td:last-child {\r\n    border-top-right-radius: 3px;\r\n}\r\n\r\n.jcolor-grid tr:last-child > td:first-child {\r\n    border-bottom-left-radius: 3px;\r\n}\r\n\r\n.jcolor-grid tr:last-child > td:last-child {\r\n    border-bottom-right-radius: 3px;\r\n}\r\n\r\n.jcolor-hsl {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jcolor-hsl > div {\r\n    height: 100%;\r\n    position: relative;\r\n}\r\n\r\n.jcolor-hsl canvas {\r\n    display: block;\r\n    border-radius: 4px;\r\n    -webkit-user-drag: none;\r\n}\r\n\r\n.jcolor-point {\r\n    height: 5px;\r\n    width: 5px;\r\n    background-color: #000;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 50%;\r\n}\r\n\r\n.jcolor-sliders {\r\n    padding: 10px 20px 10px 10px;\r\n}\r\n\r\n.jcolor-sliders input {\r\n    -webkit-appearance: none;\r\n\r\n    height: 12px;\r\n    width: 80%;\r\n\r\n    background: #d3d3d3;\r\n    opacity: 1;\r\n\r\n    border-radius: 30px;\r\n    outline: none;\r\n}\r\n\r\n.jcolor-sliders-input-subcontainer {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.jcolor-sliders-input-container {\r\n    margin-top: 4px;\r\n    line-height: 0.8em;\r\n    text-align: left;\r\n}\r\n\r\n.jcolor-sliders-input-container > label {\r\n    font-size: 10px;\r\n    text-transform: uppercase;\r\n    color: #bbbbbd;\r\n}\r\n\r\n.jcolor-sliders-input-subcontainer > input {\r\n    border: 0px;\r\n    padding: 1px;\r\n}\r\n\r\n.jcolor-sliders-input-container input::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    height: 12px;\r\n    width: 12px;\r\n    border-radius: 50%;\r\n    background: #000;\r\n    border: 2px solid #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n.jcolor-sliders-input-container input::-moz-range-thumb {\r\n    -webkit-appearance: none;\r\n    height: 12px;\r\n    width: 12px;\r\n    border-radius: 50%;\r\n    background: #000;\r\n    border: 2px solid #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n.jcolor-sliders-final-color {\r\n    padding: 6px;\r\n    -webkit-user-select: all;\r\n       -moz-user-select: all;\r\n        -ms-user-select: all;\r\n            user-select: all;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n}\r\n\r\n.jcolor-sliders-final-color > div:nth-child(2) {\r\n    width: 71px;\r\n    text-transform: uppercase;\r\n}\r\n\r\n.jcolor .jtabs .jtabs-headers-container .jtabs-controls {\r\n    display: none !important;\r\n}\r\n\r\n.jcolor .jtabs .jtabs-headers-container {\r\n    display: flex !important;\r\n    justify-content: center;\r\n    padding: 4px;\r\n}\r\n\r\n.jcolor .jtabs-headers > div:not(.jtabs-border) {\r\n    padding: 2px !important;\r\n    padding-left: 15px !important;\r\n    padding-right: 15px !important;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.jcontextmenu {\r\n    position:fixed;\r\n    z-index:10000;\r\n    background:#fff;\r\n    color: #555;\r\n    font-size: 11px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n        user-select: none;\r\n    box-shadow: 2px 2px 2px 0px rgba(143, 144, 145, 1);\r\n    border: 1px solid #C6C6C6;\r\n    padding: 0px;\r\n    padding-top:4px;\r\n    padding-bottom:4px;\r\n    margin:0px;\r\n    outline:none;\r\n    display:none;\r\n}\r\n\r\n.jcontextmenu.jcontextmenu-focus {\r\n    display:inline-block;\r\n}\r\n\r\n.jcontextmenu > div {\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    padding: 8px 8px 8px 32px;\r\n    width: 250px;\r\n    position: relative;\r\n    cursor: default;\r\n    font-size: 11px;\r\n    font-family:sans-serif;\r\n}\r\n\r\n.jcontextmenu > div::before {\r\n    content: attr(data-icon);\r\n    font-family: 'Material Icons';\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-size: 16px;\r\n    line-height: 1;\r\n    letter-spacing: normal;\r\n    text-transform: none;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    word-wrap: normal;\r\n    direction: ltr;\r\n    -webkit-font-feature-settings: 'liga';\r\n    -webkit-font-smoothing: antialiased;\r\n    position: absolute;\r\n    left: 9px;\r\n}\r\n\r\n.jcontextmenu > div a {\r\n    color: #555;\r\n    text-decoration: none;\r\n    flex: 1;\r\n}\r\n\r\n.jcontextmenu > div span {\r\n    margin-right:10px;\r\n}\r\n\r\n.jcontextmenu .jcontextmenu-disabled a {\r\n    color: #ccc;\r\n}\r\n\r\n.jcontextmenu > div:hover {\r\n    background: #ebebeb;\r\n}\r\n\r\n.jcontextmenu hr {\r\n    border: 1px solid #e9e9e9;\r\n    border-bottom: 0;\r\n    margin-top:5px;\r\n    margin-bottom:5px;\r\n}\r\n\r\n.jcontextmenu > hr:hover {\r\n    background: transparent;\r\n}\r\n\r\n.jcontextmenu .jcontextmenu {\r\n  top: 4px;\r\n  left: 99%;\r\n  opacity: 0;\r\n  position: absolute;\r\n}\r\n\r\n.jcontextmenu > div:hover > .jcontextmenu {\r\n  display: block;\r\n  opacity: 1;\r\n  transform: translate(0, 0) scale(1);\r\n  pointer-events: auto;\r\n}\r\n\r\n.jdropdown {\r\n    cursor:pointer;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    box-sizing: border-box;\r\n    background:#fff;\r\n    -webkit-tap-highlight-color: transparent;\r\n    display: inline-block;\r\n}\r\n\r\n.jdropdown-header::-moz-placeholder {\r\n    color:#000;\r\n}\r\n\r\n.jdropdown-header::placeholder {\r\n    color:#000;\r\n}\r\n\r\n.jdropdown-backdrop {\r\n    position:fixed;\r\n    top:0px;\r\n    left:0px;\r\n    min-width:100%;\r\n    min-height:100%;\r\n    background-color:rgba(0,0,0,0.5);\r\n    border:0px;\r\n    padding:0px;\r\n    z-index:8000;\r\n    display:none;\r\n}\r\n\r\n.jdropdown-focus {\r\n    position:relative;\r\n}\r\n\r\n.jdropdown-focus .jdropdown-container {\r\n    transform: translate3d(0,0,0);\r\n}\r\n\r\n.jdropdown-default.jdropdown-focus .jdropdown-header {\r\n    outline:auto 5px -webkit-focus-ring-color;\r\n}\r\n\r\n.jdropdown-default.jdropdown-focus .jdropdown-header.jdropdown-add {\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='gray' width='24px' height='24px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jdropdown-container-header\r\n{\r\n    padding:0px;\r\n    margin:0px;\r\n    position:relative;\r\n}\r\n\r\n.jdropdown-header\r\n{\r\n    width:100%;\r\n    appearance: none;\r\n    background-repeat: no-repeat;\r\n    background-position:top 50% right 5px;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E\");\r\n    text-overflow: ellipsis;\r\n    cursor:pointer;\r\n    box-sizing: border-box;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    padding-right:30px !important;\r\n}\r\n\r\n.jdropdown-insert-button\r\n{\r\n    font-size: 1.4em;\r\n    text-transform: uppercase;\r\n    position:absolute;\r\n    right: 30px;\r\n    top: 4px;\r\n    display:none;\r\n}\r\n\r\n.jdropdown-container\r\n{\r\n    min-width: inherit;\r\n    transform: translate3d(-10000px,0,0);\r\n    position:absolute;\r\n    z-index:9001;\r\n}\r\n\r\n.jdropdown-close\r\n{\r\n    display:none;\r\n    font-size:1em;\r\n    color: var(--active-color);\r\n    text-transform:uppercase;\r\n    text-align:right;\r\n    padding:15px;\r\n    font-weight:bold;\r\n}\r\n\r\n.jdropdown-content\r\n{\r\n    min-width:inherit;\r\n    margin:0px;\r\n    box-sizing:border-box;\r\n}\r\n\r\n.jdropdown-content:empty\r\n{\r\n}\r\n\r\n.jdropdown-item\r\n{\r\n    white-space: nowrap;\r\n    text-align: left;\r\n    text-overflow: ellipsis;\r\n    overflow-x: hidden;\r\n    color: #000;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.jdropdown-description\r\n{\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    line-height: 1.5em;\r\n}\r\n\r\n.jdropdown-image\r\n{\r\n    margin-right:10px;\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius:20px;\r\n}\r\n\r\n.jdropdown-image-small\r\n{\r\n    width:24px;\r\n    height:24px;\r\n}\r\n\r\n.jdropdown-title\r\n{\r\n    font-size: 0.7em;\r\n    text-overflow: ellipsis;\r\n    overflow-x: hidden;\r\n    display: block;\r\n}\r\n\r\n/** Default visual **/\r\n\r\n.jdropdown-default .jdropdown-header\r\n{\r\n    border:1px solid #ccc;\r\n    padding:5px;\r\n    padding-left:10px;\r\n    padding-right:16px;\r\n}\r\n\r\n.jdropdown-default .jdropdown-container\r\n{\r\n    background-color:#fff;\r\n}\r\n\r\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-header {\r\n    padding-right:50px;\r\n}\r\n\r\n.jdropdown-default.jdropdown-focus.jdropdown-insert .jdropdown-insert-button {\r\n    display:block;\r\n}\r\n\r\n.jdropdown-default .jdropdown-content\r\n{\r\n    min-width:inherit;\r\n    border:1px solid #8fb1e3;\r\n    margin:0px;\r\n    background-color:#fff;\r\n    box-sizing:border-box;\r\n    min-height:10px;\r\n    max-height:215px;\r\n    overflow-y:auto;\r\n}\r\n\r\n.jdropdown-default .jdropdown-item\r\n{\r\n    padding:4px;\r\n    padding-left:8px;\r\n    padding-right:40px;\r\n}\r\n\r\n.jdropdown-default .jdropdown-item:hover\r\n{\r\n    background-color:#1f93ff;\r\n    color:#fff;\r\n}\r\n\r\n.jdropdown-default .jdropdown-cursor\r\n{\r\n    background-color:#eee;\r\n}\r\n\r\n.jdropdown-default .jdropdown-selected\r\n{\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\r\n    background-repeat:no-repeat;\r\n    background-position:top 50% right 5px;\r\n    background-color:#1f93ff;\r\n    color:#fff;\r\n}\r\n\r\n.jdropdown-default .jdropdown-group {\r\n    margin-top:5px;\r\n}\r\n\r\n.jdropdown-default .jdropdown-group .jdropdown-item {\r\n    padding-left:16px;\r\n}\r\n\r\n.jdropdown-default .jdropdown-group-name {\r\n    padding-left: 8px;\r\n    font-weight: bold;\r\n    text-align: left;\r\n}\r\n\r\n.jdropdown-default .jdropdown-reset_ {\r\n    content:'x';\r\n    position:absolute;\r\n    top:0;\r\n    right:0;\r\n    margin:5px;\r\n    margin-right:10px;\r\n    font-size:12px;\r\n    width:12px;\r\n    cursor:pointer;\r\n    text-shadow: 0px 0px 5px #fff;\r\n    display:none;\r\n    line-height: 1.8em;\r\n}\r\n\r\n.jdropdown-default.jdropdown-focus .jdropdown-reset_ {\r\n    display:block;\r\n}\r\n\r\n/** Default render for mobile **/\r\n\r\n.jdropdown-picker.jdropdown-focus .jdropdown-backdrop {\r\n    display:block;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-header {\r\n    outline: none;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-container\r\n{\r\n    position:fixed;\r\n    bottom:0px;\r\n    left:0px;\r\n    border-bottom:1px solid #e6e6e8;\r\n    width:100%;\r\n    background-color:#fff;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-close\r\n{\r\n    box-shadow: 0px -1px 5px 0px rgba(0,0,0,0.39);\r\n    background-color:#fff;\r\n    display:block;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-content\r\n{\r\n    overflow-y:scroll;\r\n    height:280px;\r\n    background-color:#fafafa;\r\n    border-top:1px solid #e6e6e8;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-group-name\r\n{\r\n    font-size: 1em;\r\n    text-transform: uppercase;\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    display: block;\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding-left:20px;\r\n    padding-right:20px;\r\n    text-align:center;\r\n    font-weight:bold;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-item\r\n{\r\n    font-size: 1em;\r\n    text-transform: uppercase;\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding-left:20px;\r\n    padding-right:20px;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-selected\r\n{\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiIGZpbGw9IndoaXRlIiAvPjwvc3ZnPgo=');\r\n    background-repeat:no-repeat;\r\n    background-position:top 50% right 15px;\r\n    background-color:#1f93ff;\r\n    color:#fff;\r\n}\r\n\r\n.jdropdown-picker .jdropdown-cursor\r\n{\r\n    background-color:#1f93ff;\r\n    color:#fff;\r\n}\r\n\r\n/** Default render for mobile searchbar **/\r\n\r\n.jdropdown-searchbar.jdropdown-focus\r\n{\r\n    position:fixed;\r\n    top:0px !important;\r\n    left:0px !important;\r\n    width:100% !important;\r\n    height:100% !important;\r\n    background-color:#fafafa;\r\n    padding:0px;\r\n    z-index:9001;\r\n    overflow-y:scroll;\r\n    will-change: scroll-position;\r\n    -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.jdropdown-searchbar.jdropdown-focus .jdropdown-container-header\r\n{\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    z-index: 9002;\r\n    padding:10px;\r\n    background-color:#fff;\r\n    box-shadow: 0 1px 2px rgba(0,0,0,.1);\r\n    max-height: 24px;\r\n    width: 100%;\r\n}\r\n\r\n.jdropdown-searchbar.jdropdown-focus .jdropdown-header\r\n{\r\n    border: 0px;\r\n    background-repeat: no-repeat;\r\n    background-position-x: 0%;\r\n    background-position-y: 40%;\r\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHoiIGZpbGw9IiNlNmU2ZTgiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+);\r\n    padding-left: 30px !important;\r\n    padding-right: 60px !important;\r\n}\r\n\r\n.jdropdown-searchbar.jdropdown-focus .jdropdown-close\r\n{\r\n    display:block;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-header {\r\n    outline: none;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-container\r\n{\r\n    margin-top: 40px;\r\n    width:100%;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-close\r\n{\r\n    position:fixed;\r\n    top:0px;\r\n    right:0px;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-content\r\n{\r\n    margin-top:10px;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-group\r\n{\r\n    margin-top:10px;\r\n    margin-bottom:15px;\r\n    background-color:#fff;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-group-name\r\n{\r\n    border-top: 1px solid #e6e6e8;\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding:10px;\r\n    padding-left:12px;\r\n    font-weight:bold;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-group-arrow\r\n{\r\n    float:right;\r\n    width:24px;\r\n    height:24px;\r\n    background-repeat:no-repeat;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-group-arrow-down\r\n{\r\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNy40MSA4LjU5TDEyIDEzLjE3bDQuNTktNC41OEwxOCAxMGwtNiA2LTYtNiAxLjQxLTEuNDF6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+PC9zdmc+);\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-group-arrow-up\r\n{\r\n    background-image: url(data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTcuNDEgMTUuNDFMMTIgMTAuODNsNC41OSA0LjU4TDE4IDE0bC02LTYtNiA2eiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=);\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-item\r\n{\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding-left:15px;\r\n    padding-right:40px;\r\n    background-color:#fff;\r\n    font-size:0.9em;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-description {\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    max-width: calc(100% - 20px);\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-content > .jdropdown-item:first-child\r\n{\r\n    border-top: 1px solid #e6e6e8;\r\n}\r\n\r\n.jdropdown-searchbar .jdropdown-selected\r\n{\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\r\n    background-repeat:no-repeat;\r\n    background-position:top 50% right 15px;\r\n}\r\n\r\n/** List render **/\r\n\r\n.jdropdown-list\r\n{\r\n}\r\n\r\n.jdropdown-list .jdropdown-container\r\n{\r\n    display:block;\r\n}\r\n\r\n.jdropdown-list .jdropdown-header\r\n{\r\n    display:none;\r\n}\r\n\r\n.jdropdown-list .jdropdown-group\r\n{\r\n    background-color:#fff;\r\n}\r\n\r\n.jdropdown-list .jdropdown-group-name\r\n{\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    font-weight:bold;\r\n}\r\n\r\n.jdropdown-list .jdropdown-item\r\n{\r\n    padding-top:10px;\r\n    padding-bottom:10px;\r\n    border-bottom: 1px solid #e6e6e8;\r\n    padding-left:10px;\r\n    padding-right:40px;\r\n    background-color:#fff;\r\n}\r\n\r\n.jdropdown-list .jdropdown-selected\r\n{\r\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTYuMTdMNC44MyAxMmwtMS40MiAxLjQxTDkgMTkgMjEgN2wtMS40MS0xLjQxeiIgZmlsbD0iIzAwN2FmZiIvPjwvc3ZnPg==');\r\n    background-repeat:no-repeat;\r\n    background-position:top 50% right 10px;\r\n}\r\n\r\n@media only screen and (max-width : 800px)\r\n{\r\n    .jdropdown-list {\r\n        width:100% !important;\r\n        border:0px;\r\n        padding:0px;\r\n    }\r\n\r\n    .jdropdown-list .jdropdown-container {\r\n        min-width:100%;\r\n    }\r\n\r\n    .jdropdown-searchbar.jdropdown-focus .jdropdown-description {\r\n        text-transform: uppercase;\r\n    }\r\n}\r\n\r\n.app .jdropdown-item {\r\n    text-transform:uppercase;\r\n}\r\n\r\n.jdropdown-create-container {\r\n    margin: 10px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 2px;\r\n    padding: 6px;\r\n}\r\n\r\n.jdropdown-color {\r\n    background-color: #fff;\r\n    border: 1px solid transparent;\r\n    border-radius: 12px;\r\n    width: 12px;\r\n    height: 12px;\r\n    margin-right: 6px;\r\n}\r\n\r\n.jdropdown-item[data-disabled] {\r\n    opacity: 0.5;\r\n    pointer-events: none;\r\n}\r\n\r\n.jeditor-container {\r\n    border:1px solid #ccc;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jeditor-dragging {\r\n     border:1px dashed #000;\r\n}\r\n\r\n.jeditor-container.jeditor-padding {\r\n    padding:10px;\r\n}\r\n\r\n.jeditor {\r\n    outline:none;\r\n    word-break: break-word;\r\n\r\n}\r\n\r\n.jeditor[data-placeholder]:empty:before {\r\n    content: attr(data-placeholder);\r\n    color: lightgray;\r\n}\r\n\r\n.jeditor-container.jeditor-padding .jeditor {\r\n    min-height:100px;\r\n    margin-bottom:10px;\r\n    padding:10px;\r\n}\r\n\r\n/** Snippet **/\r\n\r\n.jsnippet {\r\n    margin-top:15px;\r\n    cursor:pointer;\r\n    border: 1px solid #ccc;\r\n    position:relative;\r\n}\r\n\r\n.jsnippet:focus {\r\n    outline: none;\r\n}\r\n\r\n.jsnippet img {\r\n    width:100%;\r\n}\r\n\r\n.jsnippet .jsnippet-title {\r\n    padding:15px;\r\n    font-size:1.4em;\r\n}\r\n\r\n.jsnippet .jsnippet-description {\r\n    padding-left:15px;\r\n    padding-right:15px;\r\n    font-size:1em;\r\n}\r\n\r\n.jsnippet .jsnippet-host {\r\n    padding:15px;\r\n    text-transform:uppercase;\r\n    font-size:0.8em;\r\n    color:#777;\r\n    text-align:right;\r\n}\r\n\r\n.jsnippet .jsnippet-url {\r\n    display:none;\r\n}\r\n\r\n.jeditor .jsnippet:after {\r\n    content: 'close';\r\n    font-family: 'Material icons';\r\n    font-size: 24px;\r\n    width: 24px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    cursor: pointer;\r\n    text-shadow: 0px 0px 2px #fff;\r\n    position: absolute;\r\n    top: 12px;\r\n    right: 12px;\r\n}\r\n\r\n.jsnippet * {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -o-user-select: none;\r\n    -ms-user-select: none;\r\n        user-select: none;\r\n\r\n    -webkit-user-drag: none;\r\n    -khtml-user-drag: none;\r\n    -moz-user-drag: none;\r\n    -o-user-drag: none;\r\n}\r\n\r\n.jeditor img {\r\n    border:2px solid transparent;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jeditor img.resizing {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -o-user-select: none;\r\n    -ms-user-select: none;\r\n        user-select: none;\r\n\r\n    -webkit-user-drag: none;\r\n    -khtml-user-drag: none;\r\n    -moz-user-drag: none;\r\n    -o-user-drag: none;\r\n}\r\n\r\n.jeditor img:focus {\r\n    border:2px solid #0096FD;\r\n    outline: #0096FD;\r\n}\r\n\r\n.jeditor .pdf {\r\n    background-image: url(\"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cpath style='fill:%23C30B15;' d='M511.344,274.266C511.77,268.231,512,262.143,512,256C512,114.615,397.385,0,256,0S0,114.615,0,256 c0,117.769,79.53,216.949,187.809,246.801L511.344,274.266z'/%3E%3Cpath style='fill:%2385080E;' d='M511.344,274.266L314.991,77.913L119.096,434.087l68.714,68.714C209.522,508.787,232.385,512,256,512 C391.243,512,501.976,407.125,511.344,274.266z'/%3E%3Cpolygon style='fill:%23FFFFFF;' points='278.328,333.913 255.711,77.913 119.096,77.913 119.096,311.652 '/%3E%3Cpolygon style='fill:%23E8E6E6;' points='392.904,311.652 392.904,155.826 337.252,133.565 314.991,77.913 255.711,77.913 256.067,333.913 '/%3E%3Cpolygon style='fill:%23FFFFFF;' points='314.991,155.826 314.991,77.913 392.904,155.826 '/%3E%3Crect x='119.096' y='311.652' style='fill:%23FC0F1A;' width='273.809' height='122.435'/%3E%3Cg%3E%3Cpath style='fill:%23FFFFFF;' d='M204.871,346.387c13.547,0,21.341,6.659,21.341,18.465c0,12.412-7.795,19.601-21.341,19.601h-9.611 v14.909h-13.471v-52.975L204.871,346.387L204.871,346.387z M195.26,373.858h8.93c5.904,0,9.308-2.952,9.308-8.552 c0-5.525-3.406-8.324-9.308-8.324h-8.93V373.858z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M257.928,346.387c16.649,0,28.152,10.746,28.152,26.487c0,15.666-11.655,26.488-28.683,26.488 h-22.25v-52.975H257.928z M248.619,388.615h9.611c8.249,0,14.151-6.357,14.151-15.665c0-9.384-6.205-15.817-14.757-15.817h-9.006 V388.615z'/%3E%3Cpath style='fill:%23FFFFFF;' d='M308.563,356.982v12.26h23.763v10.596h-23.763v19.525h-13.471v-52.975h39.277v10.595h-25.806 V356.982z'/%3E%3C/g%3E%3C/svg%3E%0A\");\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    width:60px;\r\n    height:60px;\r\n}\r\n\r\n.jeditor-toolbar {\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    max-width: 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jloading {\r\n    position:fixed;\r\n    z-index:10001;\r\n    width:100%;\r\n    left:0;\r\n    right:0;\r\n    top:0;\r\n    bottom:0;\r\n    background-color: rgba(0,0,0,0.7);\r\n}\r\n\r\n.jloading::after {\r\n    content:'';\r\n    display:block;\r\n    margin:0 auto;\r\n    margin-top:50vh;\r\n    width:40px;\r\n    height:40px;\r\n    border-style:solid;\r\n    border-color:white;\r\n    border-top-color:transparent;\r\n    border-width:4px;\r\n    border-radius:50%;\r\n    -webkit-animation: spin .8s linear infinite;\r\n    animation: spin .8s linear infinite;\r\n}\r\n\r\n.jloading.spin {\r\n    background-color:transparent;\r\n}\r\n\r\n.jloading.spin::after {\r\n    margin:0 auto;\r\n    margin-top:80px;\r\n    border-color:#aaa;\r\n    border-top-color:transparent;\r\n}\r\n\r\n.jmodal {\r\n    position:fixed;\r\n    top:50%;\r\n    left:50%;\r\n    width:60%;\r\n    height:60%;\r\n    -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.2);\r\n    -moz-box-shadow: 0 2px 10px rgba(0,0,0,.2);\r\n    border:1px solid #ccc;\r\n    background-color:#fff;\r\n    transform: translate(-50%, -50%);\r\n    box-sizing: border-box;\r\n    padding-top:50px !important;\r\n    z-index:9002;\r\n    border-radius: 8px;\r\n}\r\n\r\n.jmodal:before {\r\n    position:absolute;\r\n    top:0;\r\n    left:0;\r\n    width:100%;\r\n    content:attr(title);\r\n    padding:15px;\r\n    box-sizing: border-box;\r\n    font-size:1.2em;\r\n    box-shadow: 1px 1px 3px rgba(0,0,0,.2);\r\n    background-color: #fff;\r\n    border-radius: 8px 8px 0px 0px;\r\n}\r\n\r\n.jmodal_content {\r\n    padding:20px;\r\n    overflow-y:auto;\r\n    max-height:100%;\r\n    box-sizing: border-box;\r\n    height: -webkit-fill-available;\r\n}\r\n\r\n.jmodal.no-title {\r\n    padding-top: initial !important;\r\n}\r\n\r\n.jmodal.no-title:before {\r\n    display:none;\r\n}\r\n\r\n.jmodal:after {\r\n    content:'';\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n    position:absolute;\r\n    top:0;\r\n    right:0;\r\n    margin:14px;\r\n    font-size:24px;\r\n    width:24px;\r\n    height:24px;\r\n    cursor:pointer;\r\n    text-shadow: 0px 0px 5px #fff;\r\n}\r\n\r\n.jmodal_fullscreen {\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n    top: 0px;\r\n    left: 0px;\r\n    transform: none;\r\n    border-radius: 0px;\r\n}\r\n\r\n.jmodal_backdrop {\r\n    position: fixed;\r\n    top: 0px;\r\n    left: 0px;\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    background-color: rgba(0,0,0,0.5);\r\n    border: 0px;\r\n    padding: 0px;\r\n    z-index: 8000;\r\n    display: none;\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */ /* Konqueror HTML */\r\n       -moz-user-select: none; /* Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome and Opera */\r\n}\r\n\r\n.jnotification {\r\n    position: fixed;\r\n    z-index: 10000;\r\n    box-sizing: border-box;\r\n    padding: 10px;\r\n    bottom: 0px;\r\n}\r\n\r\n.jnotification-container {\r\n    box-shadow: 0px 2px 15px -5px rgba(0, 0, 0, 0.7);\r\n    padding: 12px;\r\n    border-radius: 8px;\r\n\r\n    background-color: #000;\r\n    background: rgba(92,92,92,1);\r\n    background: linear-gradient(0deg, rgba(92,92,92,1) 0%, rgba(77,77,77,1) 100%);\r\n    color: #fff;\r\n    width: 320px;\r\n    margin: 30px;\r\n    padding: 20px;\r\n}\r\n\r\n.jnotification-close {\r\n    content: '';\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n    font-size: 20px;\r\n    width: 20px;\r\n    height: 20px;\r\n    cursor: pointer;\r\n}\r\n\r\n.jnotification-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.jnotification-header {\r\n    display: flex;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.jnotification-header:empty {\r\n    display: none;\r\n}\r\n\r\n.jnotification-image {\r\n    margin-right: 5px;\r\n}\r\n\r\n.jnotification-image:empty {\r\n    display: none;\r\n}\r\n\r\n.jnotification-image img {\r\n    width: 24px;\r\n}\r\n\r\n.jnotification-name {\r\n    text-transform: uppercase;\r\n    font-size: 0.9em;\r\n    flex: 1;\r\n    letter-spacing: 0.1em;\r\n}\r\n\r\n.jnotification-error .jnotification-container {\r\n    background: rgb(182,38,6);\r\n    background: linear-gradient(0deg, rgba(170,41,13,1) 0%, rgba(149,11,11,1) 100%);\r\n}\r\n\r\n@media (max-width: 800px) {\r\n    .jnotification {\r\n        top: 0px;\r\n        width: 100%;\r\n    }\r\n    .jnotification-container {\r\n        background: rgba(255,255,255,0.95);\r\n        border: 1px solid #eee;\r\n        color: #444;\r\n        margin: 0px;\r\n        width: initial;\r\n    }\r\n    .jnotification-error .jnotification-container {\r\n        background: rgba(255,255,255,0.95);\r\n        color: #790909;\r\n    }\r\n    .jnotification-close {\r\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='black'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n    }\r\n}\r\n\r\n.jnotification-header {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n}\r\n\r\n.jpicker {\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n    display: inline-flex;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    outline: none;\r\n    position: relative;\r\n}\r\n\r\n.jpicker-header {\r\n    background-repeat: no-repeat;\r\n    background-position: top 50% right 5px;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath d='M7 10l5 5 5-5H7z' fill='gray'/%3E%3C/svg%3E\");\r\n    text-overflow: ellipsis;\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    text-align: left;\r\n    outline: none;\r\n\r\n    line-height: 24px;\r\n    padding: 2px;\r\n    padding-left: 12px;\r\n    padding-right: 35px;\r\n    outline: none;\r\n    border-radius: 4px;\r\n    font-size: 0.8em;\r\n}\r\n\r\n.jpicker-header:hover {\r\n    background-color: #eee;\r\n}\r\n\r\n.jpicker-content {\r\n    position: absolute;\r\n    top: 0;\r\n    display: none;\r\n    box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n    padding: 4px;\r\n    z-index: 50;\r\n    text-align: left;\r\n    max-height: 200px;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #333 transparent;\r\n}\r\n\r\n.jpicker-content::-webkit-scrollbar {\r\n    width: 8px;\r\n}\r\n\r\n.jpicker-content::-webkit-scrollbar-track {\r\n    background: #eee;\r\n}\r\n\r\n.jpicker-content::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n}\r\n\r\n.jpicker-content > div {\r\n    padding: 6px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n}\r\n\r\n.jpicker-focus > .jpicker-content {\r\n    display: block;\r\n}\r\n\r\n.jpicker-content > div:hover {\r\n    background-color:#efefef;\r\n}\r\n\r\n.jpicker-content > div:empty {\r\n    opacity: 0;\r\n}\r\n\r\n.jpicker-header > i, .jpicker-header > div {\r\n    display: block;\r\n}\r\n\r\n.jpicker-focus > .jpicker-content.jpicker-columns {\r\n    display: flex !important ;\r\n    justify-content: center;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.jprogressbar\r\n{\r\n    cursor:pointer;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    box-sizing: border-box;\r\n    background:#fff;\r\n    -webkit-tap-highlight-color: transparent;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    cursor:pointer;\r\n    border:1px solid #ccc;\r\n    position:relative;\r\n}\r\n\r\n.jprogressbar::before {\r\n    content:attr(data-value);\r\n    position:absolute;\r\n    margin:5px;\r\n    margin-left:10px;\r\n}\r\n\r\n.jprogressbar-header::-moz-placeholder\r\n{\r\n    color:#000;\r\n}\r\n\r\n.jprogressbar-header::placeholder\r\n{\r\n    color:#000;\r\n}\r\n\r\n.jprogressbar::focus {\r\n    outline: auto 5px -webkit-focus-ring-color;\r\n}\r\n\r\n.jprogressbar > div {\r\n    background-color: #eee;\r\n    background-color: red;\r\n    box-sizing: border-box;\r\n    height:31px;\r\n}\r\n\r\n.jrating {\r\n    display:flex;\r\n}\r\n\r\n.jrating > div {\r\n    width:24px;\r\n    height:24px;\r\n    line-height:24px;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z' fill='gray'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jrating .jrating-over {\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='black'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n    opacity: 0.7;\r\n}\r\n\r\n.jrating .jrating-selected {\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='red'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jsearch {\r\n    position: relative;\r\n    display: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jsearch_container {\r\n    position: absolute;\r\n    box-shadow: 0 1px 2px 0 rgba(60,64,67,0.302), 0 2px 6px 2px rgba(60,64,67,0.149);\r\n    border: none;\r\n    border-radius: 4px;\r\n    width: 280px;\r\n    padding: 8px 0;\r\n    box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n    transition: opacity .218s;\r\n    background: #fff;\r\n    border: 1px solid rgba(0,0,0,.2);\r\n    cursor: pointer;\r\n    margin: 0;\r\n    min-width: 300px;\r\n    outline: none;\r\n    width: auto;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jsearch_container:empty:after {\r\n    content: attr(data-placeholder);\r\n}\r\n\r\n.jsearch_container > div {\r\n    color: #333;\r\n    cursor: pointer;\r\n    display: flex;\r\n    padding: 5px 10px;\r\n    user-select: none;\r\n    align-items: center;\r\n    \r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jsearch_container > div:hover {\r\n    background-color: #e8eaed;\r\n}\r\n\r\n.jsearch_container > div > img {\r\n    width: 32px;\r\n    height: 32px;\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\r\n    border-radius: 16px;\r\n    margin-right: 2px;\r\n}\r\n\r\n.jsearch_container > div > div {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-left: 2px;\r\n    max-width: 300px;\r\n    white-space: nowrap;\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\r\n}\r\n\r\n.jsearch_container .selected {\r\n    background-color: #e8eaed;\r\n}\r\n\r\n.jslider {\r\n    outline: none;\r\n}\r\n\r\n.jslider-focus {\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n}\r\n\r\n.jslider-focus img {\r\n    display: none;\r\n}\r\n\r\n.jslider img {\r\n    width: 100px;\r\n}\r\n\r\n.jslider-left::before {\r\n    position: fixed;\r\n    left: 15px;\r\n    top: 50%;\r\n    content:'arrow_back_ios';\r\n    color: #fff;\r\n    width: 30px;\r\n    height: 30px;\r\n    font-family: 'Material Icons';\r\n    font-size: 30px;\r\n    /* before it was 0px 0px 0px #000 */\r\n    text-shadow: 0px 0px 6px rgb(56 56 56);\r\n    text-align: center;\r\n    cursor: pointer;\r\n}\r\n\r\n.jslider-right::after {\r\n    position: fixed;\r\n    right: 15px;\r\n    top: 50%;\r\n    content: 'arrow_forward_ios';\r\n    color: #fff;\r\n    width: 30px;\r\n    height: 30px;\r\n    font-family: 'Material Icons';\r\n    font-size: 30px;\r\n    /* before it was 0px 0px 0px #000 */\r\n    text-shadow: 0px 0px 6px rgb(56 56 56);    \r\n    text-align: center;\r\n    cursor: pointer;\r\n}\r\n\r\n.jslider-close {\r\n    width:24px;\r\n    height:24px;\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n    position:fixed;\r\n    top:15px;\r\n    right:15px;\r\n    cursor:pointer;\r\n    z-index:3000;\r\n\r\n    display: block !important;\r\n}\r\n\r\n.jslider-counter {\r\n    height:24px;\r\n    background-color: transparent;\r\n    position:fixed;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    bottom: 15px;\r\n    cursor:pointer;\r\n    z-index:3000;\r\n\r\n    display: flex;\r\n    display: -webkit-flex;\r\n    -webkit-justify-content: center;\r\n    -webkit-align-items: center;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: row;\r\n}\r\n\r\n.jslider-caption {\r\n    position: fixed;\r\n    max-width: 90vw;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    top:15px;\r\n    left: 15px;\r\n    z-index:3000;\r\n    color: #FFF;\r\n    font-size: 1rem;\r\n\r\n    display: block !important;\r\n}\r\n\r\n.jslider-counter div {\r\n    width: 10px;\r\n    height: 10px;\r\n    background: #fff;\r\n    border-radius: 50%;\r\n    margin: 0px 5px;\r\n\r\n    display: block !important;\r\n}\r\n\r\n.jslider-counter .jslider-counter-focus {\r\n    background-color: cornflowerblue;\r\n    pointer-events: none;\r\n}\r\n\r\n.jslider-focus {\r\n    position:fixed;\r\n    left:0;\r\n    top:0;\r\n    width: 100%;\r\n    min-height:100%;\r\n    max-height:100%;\r\n    z-index:2000;\r\n    margin:0px;\r\n    box-sizing:border-box;\r\n\r\n    background-color:rgba(0,0,0,0.8);\r\n    transition-duration: .05s;\r\n    display: flex;\r\n\r\n    align-items: center;\r\n}\r\n\r\n.jslider-focus img {\r\n    width: 50vw;\r\n    height: auto;\r\n    box-sizing: border-box;\r\n    margin:0 auto;\r\n    vertical-align:middle;\r\n    display:none;\r\n}\r\n\r\n.jslider-focus img.jslider-vertical {\r\n    width: auto;\r\n    /* before it was 50vh */\r\n    height: 80vh;\r\n}\r\n\r\n@media only screen and (max-width: 576px) {\r\n    .jslider-focus img.jslider-vertical {\r\n        width: 99vw !important;\r\n        height: auto !important;\r\n    }\r\n\r\n    .jslider-focus img {\r\n        width: 100vw !important;\r\n        height: auto !important;\r\n    }\r\n}\r\n\r\n.jslider-grid {\r\n    display: -ms-grid;\r\n    display: grid;\r\n    grid-gap: 1px;\r\n    position: relative;\r\n}\r\n\r\n.jslider-grid[data-number='2'] {\r\n    -ms-grid-columns: 1fr 50%;\r\n    grid-template-columns: 1fr 50%;\r\n}\r\n\r\n.jslider-grid[data-number='3'] {\r\n    -ms-grid-columns: 1fr 33%;\r\n    grid-template-columns: 1fr 33%;\r\n}\r\n\r\n.jslider-grid[data-number='4'] {\r\n    -ms-grid-columns: 1fr 25%;\r\n    grid-template-columns: 1fr 25%;\r\n}\r\n\r\n.jslider-grid img {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    -o-object-fit: cover;\r\n       object-fit: cover;\r\n}\r\n\r\n.jslider-grid[data-total]:after {\r\n    content: attr(data-total) \"+\";\r\n    font-size: 1.5em;\r\n    position:absolute;\r\n    color: #fff;\r\n    right: 15px;\r\n    bottom: 6px;\r\n}\r\n\r\n.jslider-grid img:first-child {\r\n    -ms-grid-column: 1;\r\n    -ms-grid-row: 1;\r\n    grid-column: 1;\r\n    grid-row: 1;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='2'] img:nth-child(2) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 1;\r\n    grid-column: 2;\r\n    grid-row: 1;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='3'] img:first-child {\r\n    -ms-grid-column: 1 / 2;\r\n    -ms-grid-row: 1 / 4;\r\n    grid-column: 1 / 2;\r\n    grid-row: 1 / 4;\r\n}\r\n\r\n.jslider-grid[data-number='3'] img:nth-child(2) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 1;\r\n    grid-column: 2;\r\n    grid-row: 1;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='3'] img:nth-child(3) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 2;\r\n    grid-column: 2;\r\n    grid-row: 2;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='4'] img:first-child {\r\n    -ms-grid-column: 1 / 2;\r\n    -ms-grid-row: 1 / 4;\r\n    grid-column: 1 / 2;\r\n    grid-row: 1 / 4;\r\n}\r\n\r\n.jslider-grid[data-number='4'] img:nth-child(2) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 1;\r\n    grid-column: 2;\r\n    grid-row: 1;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='4'] img:nth-child(3) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 2;\r\n    grid-column: 2;\r\n    grid-row: 2;\r\n    display: block;\r\n}\r\n\r\n.jslider-grid[data-number='4'] img:nth-child(4) {\r\n    -ms-grid-column: 2;\r\n    -ms-grid-row: 3;\r\n    grid-column: 2;\r\n    grid-row: 3;\r\n    display: block;\r\n}\r\n\r\n.jtabs {\r\n    max-width: 100vw;\r\n    position: relative;\r\n}\r\n\r\n.jtabs .jtabs-headers-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.jtabs .jtabs-headers {\r\n    display: flex;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.jtabs {\r\n    max-width: 100vw;\r\n    position: relative;\r\n}\r\n\r\n.jtabs .jtabs-headers-container {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.jtabs .jtabs-headers {\r\n    display: flex;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n}\r\n\r\n.jtabs .jtabs-headers > div:not(.jtabs-border) {\r\n    padding: 6px;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    margin-left: 1px;\r\n    margin-right: 1px;\r\n    background-color: #f1f1f1;\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n    text-align: center;\r\n}\r\n\r\n.jtabs .jtabs-headers > div.jtabs-selected {\r\n    background-color: #e8e8e8;\r\n    color: #000;\r\n}\r\n\r\n.jtabs .jtabs-headers > div > div {\r\n    color: #555;\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.jtabs .jtabs-headers i {\r\n    display: block;\r\n    margin: auto;\r\n}\r\n\r\n.jtabs .jtabs-content {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jtabs .jtabs-content > div {\r\n    display: none;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.jtabs .jtabs-content > div.jtabs-selected {\r\n    display: block;\r\n}\r\n\r\n.jtabs .jtabs-border {\r\n    position: absolute;\r\n    height: 2px;\r\n    background-color: #888;\r\n    transform-origin: left;\r\n    transition: all .2s cubic-bezier(0.4,0,0.2,1);\r\n    transition-property: color,left,transform;\r\n    display: none;\r\n}\r\n\r\n.jtabs-animation .jtabs-border {\r\n    display: initial;\r\n}\r\n\r\n.jtabs .jtabs-controls {\r\n    margin: 3px;\r\n    margin-left: 10px;\r\n    display: flex;\r\n    min-width: 82px;\r\n}\r\n\r\n.jtabs .jtabs-controls > div {\r\n    cursor: pointer;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    width: 24px;\r\n    height: 24px;\r\n    line-height: 24px;\r\n}\r\n\r\n.jtabs .jtabs-prev {\r\n    margin-left: 10px;\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='gray' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jtabs .jtabs-prev.disabled {\r\n    margin-left: 10px;\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='lightgray' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jtabs .jtabs-next {\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='gray' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jtabs .jtabs-next.disabled {\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='lightgray' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'/%3E%3C/svg%3E\");\r\n}\r\n\r\n.jtabs .jtabs-add {\r\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24'%3E%3Cpath d='M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z' fill='%23bbbbbb'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\r\n}\r\n\r\n/** Modern skin **/\r\n\r\n.jtabs.jtabs-modern .jtabs-headers > div:not(.jtabs-border) {\r\n    padding: 4px;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    background-color: #fff;\r\n}\r\n\r\n.jtabs.jtabs-modern .jtabs-headers > .jtabs-selected  {\r\n    color: #000;\r\n}\r\n\r\n.jtabs.jtabs-modern .jtabs-headers > .jtabs-selected .material-icons {\r\n    color: #000;\r\n}\r\n\r\n.jtabs.jtabs-modern .jtabs-headers {\r\n    background: #EEEEEF !important;\r\n    padding: 2px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.jtabs.jtabs-modern .jtabs-headers .jtabs-border {\r\n    border-color: #EEEEEF !important;\r\n}\r\n\r\n.jtabs.jtabs-modern .jtabs-border {\r\n    background-color: rgba(194, 197, 188, 0.884);\r\n}\r\n\r\n.jtags {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n    justify-content: flex-start;\r\n    padding: 2px;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.jtags.jtags-empty:not(.jtags-focus)::before {\r\n    position: absolute;\r\n    margin: 5px;\r\n    color: #ccc;\r\n    content:attr(data-placeholder);\r\n}\r\n\r\n.jtags > div {\r\n    padding: 3px;\r\n    padding-left: 10px;\r\n    padding-right: 22px;\r\n    position: relative;\r\n    border-radius: 1px;\r\n    margin: 2px;\r\n    display: block;\r\n    outline: none;\r\n}\r\n\r\n.jtags > div:empty:before {\r\n    content: \" \";\r\n    white-space: pre;\r\n}\r\n\r\n.jtags > div::after {\r\n    content: 'x';\r\n    position: absolute;\r\n    top: 4px;\r\n    right: 4px;\r\n    width: 12px;\r\n    height: 12px;\r\n    cursor: pointer;\r\n    font-size: 11px;\r\n    display: none;\r\n}\r\n\r\n.jtags_label {\r\n    background-color: #eeeeee !important;\r\n}\r\n\r\n.jtags_label::after {\r\n    display: inline-block !important;\r\n}\r\n\r\n.jtags_error::after {\r\n    color: #fff  !important;\r\n}\r\n\r\n.jtags_error {\r\n    background-color: #d93025 !important;\r\n    color: #fff;\r\n}\r\n\r\n.jtoolbar-container {\r\n    border-radius: 2px;\r\n    margin-bottom: 5px;\r\n    box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\r\n    display: inline-flex !important;\r\n}\r\n\r\n.jtoolbar {\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n    display: flex;\r\n    padding:4px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jtoolbar-mobile {\r\n    display: flex;\r\n    position:fixed;\r\n    bottom: 0;\r\n    margin: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    background: #f7f7f8;\r\n    z-index: 1;\r\n    box-sizing: border-box;\r\n    box-shadow: 0 -1px 2px rgba(0,0,0,.1);\r\n    border-radius: 0px;\r\n}\r\n\r\n.jtoolbar > div {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    vertical-align:middle;\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.jtoolbar-mobile > div {\r\n    display: flex;\r\n    width: 100%;\r\n}\r\n\r\n.jtoolbar .jtoolbar-item {\r\n    position: relative;\r\n    text-align: center;\r\n    margin: auto;\r\n    padding: 2px;\r\n    padding-left:4px;\r\n    padding-right:4px;\r\n}\r\n\r\n.jtoolbar-mobile .jtoolbar-item {\r\n    flex:1;\r\n}\r\n\r\n.jtoolbar .jtoolbar-divisor {\r\n    width: 2px;\r\n    height: 18px;\r\n    padding: 0px;\r\n    margin-left: 4px;\r\n    margin-right: 4px;\r\n    background-color: #f2f2f2;\r\n}\r\n\r\n.jtoolbar-mobile a\r\n{\r\n    text-decoration:none;\r\n    display:inline-block;\r\n}\r\n\r\n.jtoolbar-mobile i {\r\n    display: inline-flex !important;\r\n    color:#929292;\r\n}\r\n\r\n.jtoolbar-mobile span {\r\n    font-size:0.7em;\r\n    display:block;\r\n    color:#929292;\r\n}\r\n\r\n.jtoolbar-mobile .jtoolbar-selected a, .jtoolbar-mobile .jtoolbar-selected i, .jtoolbar-mobile .jtoolbar-selected span {\r\n    color:var(--active-color) !important;\r\n    background-color:transparent;\r\n}\r\n\r\n.jtoolbar-item {\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.jtoolbar-item i {\r\n    display: block;\r\n    color:#333;\r\n}\r\n\r\n.jtoolbar-item:hover {\r\n    background-color:#f2f2f2;\r\n}\r\n\r\n.jtoolbar .jpicker {\r\n    padding-left:0px;\r\n    padding-right:0px;\r\n}\r\n\r\n.jtoolbar .jpicker-header {\r\n    height: 24px;\r\n    line-height: 24px;\r\n    padding: 0px;\r\n    padding-right: 20px;\r\n    padding-left: 4px;\r\n    background-position: top 50% right 0px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.jtoolbar .jpicker-content > div {\r\n    padding: 6px;\r\n}\r\n\r\n.jtoolbar-active {\r\n    background-color:#eee;\r\n}\r\n\r\n.jtoolbar .fa {\r\n    width: 18px;\r\n    height: 18px;\r\n    display: block;\r\n    line-height: 18px;\r\n    font-size: 14px;\r\n}\r\n\r\n.jtoolbar .material-icons {\r\n    font-size: 18px;\r\n    width: 24px;\r\n    height: 24px;\r\n    display: block;\r\n    line-height: 24px;\r\n    transform: rotate(0.03deg);\r\n    text-align: center;\r\n}\r\n\r\n.jtoolbar .jtoolbar-arrow {\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-image: url(\"data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='black' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3Cpath d='M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z'/%3E%3C/svg%3E\");\r\n    width: 24px;\r\n    height: 16px;\r\n    margin-left: 4px;\r\n    border-left: 1px solid #f2f2f2;\r\n}\r\n\r\n.jtoolbar-floating {\r\n    position: absolute;\r\n    display: none;\r\n    box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n    padding: 4px;\r\n    z-index: 50;\r\n    text-align: left;\r\n}\r\n\r\n.jtoolbar-floating .jtoolbar-divisor {\r\n    display: none;\r\n}\r\n\r\n.jtoolbar-floating > div {\r\n    display: block;\r\n}\r\n\r\n.jtoolbar-arrow-selected .jtoolbar-floating {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n\r\n"},AXmK:function(module,exports,__webpack_require__){if(console.log("Jexcel has been renamed to Jspreadsheet. Please use: npm install jspreadsheet-ce"),!jSuites){var jSuites=__webpack_require__("Z8rZ");__webpack_require__("/s7S")}var factory;factory=function(){"use strict";var jexcel=function(el,options){var obj={options:{}};if(!(el instanceof Element||el instanceof HTMLDocument))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;if("TABLE"==el.tagName){if(!(options=jexcel.createFromTable(el,options)))return console.error("Jspreadsheet: el is not a valid DOM element"),!1;var div=document.createElement("div");el.parentNode.insertBefore(div,el),el.remove(),el=div}var defaults={url:null,method:"GET",requestVariables:null,data:null,sorting:null,copyCompatibility:!1,root:null,rows:[],columns:[],colHeaders:[],colWidths:[],colAlignments:[],nestedHeaders:null,defaultColWidth:50,defaultColAlign:"center",minSpareRows:0,minSpareCols:0,minDimensions:[0,0],allowExport:!0,includeHeadersOnDownload:!1,includeHeadersOnCopy:!1,columnSorting:!0,columnDrag:!1,columnResize:!0,rowResize:!1,rowDrag:!0,editable:!0,allowInsertRow:!0,allowManualInsertRow:!0,allowInsertColumn:!0,allowManualInsertColumn:!0,allowDeleteRow:!0,allowDeletingAllRows:!1,allowDeleteColumn:!0,allowRenameColumn:!0,allowComments:!1,wordWrap:!1,imageOptions:null,csv:null,csvFileName:"jexcel",csvHeaders:!0,csvDelimiter:",",parseTableFirstRowAsHeader:!1,parseTableAutoCellType:!1,selectionCopy:!0,mergeCells:{},toolbar:null,search:!1,pagination:!1,paginationOptions:null,fullscreen:!1,lazyLoading:!1,loadingSpin:!1,tableOverflow:!1,tableHeight:"300px",tableWidth:null,textOverflow:!1,meta:null,style:null,classes:null,parseFormulas:!0,autoIncrement:!0,autoCasting:!0,secureFormulas:!0,stripHTML:!0,stripHTMLOnCopy:!1,filters:!1,footers:null,onundo:null,onredo:null,onload:null,onchange:null,oncomments:null,onbeforechange:null,onafterchanges:null,onbeforeinsertrow:null,oninsertrow:null,onbeforeinsertcolumn:null,oninsertcolumn:null,onbeforedeleterow:null,ondeleterow:null,onbeforedeletecolumn:null,ondeletecolumn:null,onmoverow:null,onmovecolumn:null,onresizerow:null,onresizecolumn:null,onsort:null,onselection:null,oncopy:null,onpaste:null,onbeforepaste:null,onmerge:null,onfocus:null,onblur:null,onchangeheader:null,oncreateeditor:null,oneditionstart:null,oneditionend:null,onchangestyle:null,onchangemeta:null,onchangepage:null,onbeforesave:null,onsave:null,onevent:null,persistance:!1,updateTable:null,detachForUpdates:!1,freezeColumns:null,text:{noRecordsFound:"No records found",showingPage:"Showing page {0} of {1} entries",show:"Show ",search:"Search",entries:" entries",columnName:"Column name",insertANewColumnBefore:"Insert a new column before",insertANewColumnAfter:"Insert a new column after",deleteSelectedColumns:"Delete selected columns",renameThisColumn:"Rename this column",orderAscending:"Order ascending",orderDescending:"Order descending",insertANewRowBefore:"Insert a new row before",insertANewRowAfter:"Insert a new row after",deleteSelectedRows:"Delete selected rows",editComments:"Edit comments",addComments:"Add comments",comments:"Comments",clearComments:"Clear comments",copy:"Copy...",paste:"Paste...",saveAs:"Save as...",about:"About",areYouSureToDeleteTheSelectedRows:"Are you sure to delete the selected rows?",areYouSureToDeleteTheSelectedColumns:"Are you sure to delete the selected columns?",thisActionWillDestroyAnyExistingMergedCellsAreYouSure:"This action will destroy any existing merged cells. Are you sure?",thisActionWillClearYourSearchResultsAreYouSure:"This action will clear your search results. Are you sure?",thereIsAConflictWithAnotherMergedCell:"There is a conflict with another merged cell",invalidMergeProperties:"Invalid merged properties",cellAlreadyMerged:"Cell already merged",noCellsSelected:"No cells selected"},about:"jExcel CE Spreadsheet\nVersion 4.5.0\nWebsite: https://bossanova.uk/jexcel/v3"};for(var property in defaults)if(options&&options.hasOwnProperty(property))if("text"===property)for(var textKey in obj.options[property]=defaults[property],options[property])options[property].hasOwnProperty(textKey)&&(obj.options[property][textKey]=options[property][textKey]);else obj.options[property]=options[property];else obj.options[property]=defaults[property];obj.el=el,obj.corner=null,obj.contextMenu=null,obj.textarea=null,obj.ads=null,obj.content=null,obj.table=null,obj.thead=null,obj.tbody=null,obj.rows=[],obj.results=null,obj.searchInput=null,obj.toolbar=null,obj.pagination=null,obj.pageNumber=null,obj.headerContainer=null,obj.colgroupContainer=null,obj.headers=[],obj.records=[],obj.history=[],obj.formula=[],obj.colgroup=[],obj.selection=[],obj.highlighted=[],obj.selectedCell=null,obj.selectedContainer=null,obj.style=[],obj.data=null,obj.filter=null,obj.filters=[],obj.cursor=null,obj.historyIndex=-1,obj.ignoreEvents=!1,obj.ignoreHistory=!1,obj.edition=null,obj.hashString=null,obj.resizing=null,obj.dragging=null,1==obj.options.lazyLoading&&0==obj.options.tableOverflow&&0==obj.options.fullscreen&&(console.error("Jspreadsheet: The lazyloading only works when tableOverflow = yes or fullscreen = yes"),obj.options.lazyLoading=!1),obj.fullscreen=function(l){null==l&&(l=!obj.options.fullscreen),obj.options.fullscreen!=l&&(obj.options.fullscreen=l,1==l?el.classList.add("fullscreen"):el.classList.remove("fullscreen"))},obj.dispatch=function(l){if(!obj.ignoreEvents){if("function"==typeof obj.options.onevent)var n=obj.options.onevent.apply(this,arguments);"function"==typeof obj.options[l]&&(n=obj.options[l].apply(this,Array.prototype.slice.call(arguments,1)))}if("onafterchanges"==l&&obj.options.persistance){var e=1==obj.options.persistance?obj.options.url:obj.options.persistance,t=obj.prepareJson(arguments[2]);obj.save(e,t)}return n},obj.prepareTable=function(){var l=obj.options.columns.length;if(obj.options.data&&void 0!==obj.options.data[0]){var n=Object.keys(obj.options.data[0]);n.length>l&&(l=n.length)}obj.options.minDimensions[0]>l&&(l=obj.options.minDimensions[0]);for(var e=[],t=0;t<l;t++)obj.options.colHeaders[t]||(obj.options.colHeaders[t]=""),obj.options.colWidths[t]||(obj.options.colWidths[t]=obj.options.defaultColWidth),obj.options.colAlignments[t]||(obj.options.colAlignments[t]=obj.options.defaultColAlign),obj.options.columns[t]?obj.options.columns[t].type||(obj.options.columns[t].type="text"):obj.options.columns[t]={type:"text"},obj.options.columns[t].name||(obj.options.columns[t].name=n&&n[t]?n[t]:t),obj.options.columns[t].source||(obj.options.columns[t].source=[]),obj.options.columns[t].options||(obj.options.columns[t].options=[]),obj.options.columns[t].editor||(obj.options.columns[t].editor=null),obj.options.columns[t].allowEmpty||(obj.options.columns[t].allowEmpty=!1),obj.options.columns[t].title||(obj.options.columns[t].title=obj.options.colHeaders[t]?obj.options.colHeaders[t]:""),obj.options.columns[t].width||(obj.options.columns[t].width=obj.options.colWidths[t]?obj.options.colWidths[t]:obj.options.defaultColWidth),obj.options.columns[t].align||(obj.options.columns[t].align=obj.options.colAlignments[t]?obj.options.colAlignments[t]:"center"),"autocomplete"==obj.options.columns[t].type||"dropdown"==obj.options.columns[t].type?obj.options.columns[t].url&&e.push({url:obj.options.columns[t].url,index:t,method:"GET",dataType:"json",success:function(l){for(var n=0;n<l.length;n++)obj.options.columns[this.index].source.push(l[n])}}):"calendar"==obj.options.columns[t].type&&(obj.options.columns[t].options.format||(obj.options.columns[t].options.format="DD/MM/YYYY"));e.length?jSuites.ajax(e,function(){obj.createTable()}):obj.createTable()},obj.createTable=function(){obj.table=document.createElement("table"),obj.thead=document.createElement("thead"),obj.tbody=document.createElement("tbody"),obj.headers=[],obj.colgroup=[],obj.content=document.createElement("div"),obj.content.classList.add("jexcel_content"),obj.content.onscroll=function(l){obj.scrollControls(l)},obj.content.onwheel=function(l){obj.wheelControls(l)},obj.toolbar=document.createElement("div"),obj.toolbar.classList.add("jexcel_toolbar");var l=document.createElement("div"),n=document.createTextNode(obj.options.text.search+": ");obj.searchInput=document.createElement("input"),obj.searchInput.classList.add("jexcel_search"),l.appendChild(n),l.appendChild(obj.searchInput),obj.searchInput.onfocus=function(){obj.resetSelection()};var e=document.createElement("div");if(obj.options.pagination>0&&obj.options.paginationOptions&&obj.options.paginationOptions.length>0){obj.paginationDropdown=document.createElement("select"),obj.paginationDropdown.classList.add("jexcel_pagination_dropdown"),obj.paginationDropdown.onchange=function(){obj.options.pagination=parseInt(this.value),obj.page(0)};for(var t=0;t<obj.options.paginationOptions.length;t++){var o=document.createElement("option");o.value=obj.options.paginationOptions[t],o.innerHTML=obj.options.paginationOptions[t],obj.paginationDropdown.appendChild(o)}obj.paginationDropdown.value=obj.options.pagination,e.appendChild(document.createTextNode(obj.options.text.show)),e.appendChild(obj.paginationDropdown),e.appendChild(document.createTextNode(obj.options.text.entries))}var u,r=document.createElement("div");if(r.classList.add("jexcel_filter"),r.appendChild(e),r.appendChild(l),obj.colgroupContainer=document.createElement("colgroup"),(u=document.createElement("col")).setAttribute("width","50"),obj.colgroupContainer.appendChild(u),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var a=0;a<obj.options.nestedHeaders.length;a++)obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders[a]));else obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders));for(obj.headerContainer=document.createElement("tr"),(u=document.createElement("td")).classList.add("jexcel_selectall"),obj.headerContainer.appendChild(u),t=0;t<obj.options.columns.length;t++)obj.createCellHeader(t),obj.headerContainer.appendChild(obj.headers[t]),obj.colgroupContainer.appendChild(obj.colgroup[t]);if(obj.thead.appendChild(obj.headerContainer),1==obj.options.filters){obj.filter=document.createElement("tr");var i=document.createElement("td");for(obj.filter.appendChild(i),t=0;t<obj.options.columns.length;t++)(i=document.createElement("td")).innerHTML="&nbsp;",i.setAttribute("data-x",t),i.className="jexcel_column_filter","hidden"==obj.options.columns[t].type&&(i.style.display="none"),obj.filter.appendChild(i);obj.thead.appendChild(obj.filter)}obj.table=document.createElement("table"),obj.table.classList.add("jexcel"),obj.table.setAttribute("cellpadding","0"),obj.table.setAttribute("cellspacing","0"),obj.table.setAttribute("unselectable","yes"),obj.table.appendChild(obj.colgroupContainer),obj.table.appendChild(obj.thead),obj.table.appendChild(obj.tbody),obj.options.textOverflow||obj.table.classList.add("jexcel_overflow"),obj.corner=document.createElement("div"),obj.corner.className="jexcel_corner",obj.corner.setAttribute("unselectable","on"),obj.corner.setAttribute("onselectstart","return false"),0==obj.options.selectionCopy&&(obj.corner.style.display="none"),obj.textarea=document.createElement("textarea"),obj.textarea.className="jexcel_textarea",obj.textarea.id="jexcel_textarea",obj.textarea.tabIndex="-1",obj.contextMenu=document.createElement("div"),obj.contextMenu.className="jexcel_contextmenu",jSuites.contextmenu(obj.contextMenu,{onclick:function(){obj.contextMenu.contextmenu.close(!1)}});var s=document.createElement("a");s.setAttribute("href","https://bossanova.uk/jexcel/"),obj.ads=document.createElement("div"),obj.ads.className="jexcel_about";try{if("undefined"!=typeof sessionStorage&&!sessionStorage.getItem("jexcel")){sessionStorage.setItem("jexcel",!0);var c=document.createElement("img");c.src="//bossanova.uk/jexcel/logo.png",s.appendChild(c)}}catch(h){}var d=document.createElement("span");d.innerHTML="Jexcel spreadsheet",s.appendChild(d),obj.ads.appendChild(s),document.createElement("div").classList.add("jexcel_table"),obj.pagination=document.createElement("div"),obj.pagination.classList.add("jexcel_pagination");var p=document.createElement("div"),b=document.createElement("div");if(obj.pagination.appendChild(p),obj.pagination.appendChild(b),obj.options.pagination||(obj.pagination.style.display="none"),1==obj.options.search&&el.appendChild(r),obj.content.appendChild(obj.table),obj.content.appendChild(obj.corner),obj.content.appendChild(obj.textarea),el.appendChild(obj.toolbar),el.appendChild(obj.content),el.appendChild(obj.pagination),el.appendChild(obj.contextMenu),el.appendChild(obj.ads),el.classList.add("jexcel_container"),obj.options.toolbar&&obj.options.toolbar.length&&obj.createToolbar(),1==obj.options.fullscreen?el.classList.add("fullscreen"):1==obj.options.tableOverflow&&(obj.options.tableHeight&&(obj.content.style["overflow-y"]="auto",obj.content.style["box-shadow"]="rgb(221 221 221) 2px 2px 5px 0.1px",obj.content.style.maxHeight=obj.options.tableHeight),obj.options.tableWidth&&(obj.content.style["overflow-x"]="auto",obj.content.style.width=obj.options.tableWidth)),1!=obj.options.tableOverflow&&obj.options.toolbar&&el.classList.add("with-toolbar"),1==obj.options.columnDrag&&obj.thead.classList.add("draggable"),1==obj.options.columnResize&&obj.thead.classList.add("resizable"),1==obj.options.rowDrag&&obj.tbody.classList.add("draggable"),1==obj.options.rowResize&&obj.tbody.classList.add("resizable"),obj.setData(),obj.options.style&&obj.setStyle(obj.options.style,null,null,1,1),obj.options.classes){var g=Object.keys(obj.options.classes);for(t=0;t<g.length;t++){var m=jexcel.getIdFromColumnName(g[t],!0);obj.records[m[1]][m[0]].classList.add(obj.options.classes[g[t]])}}},obj.refresh=function(){obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(l){obj.options.data=l.data?l.data:l,obj.setData(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.setData()},obj.setData=function(l){if(l&&("string"==typeof l&&(l=JSON.parse(l)),obj.options.data=l),obj.options.data||(obj.options.data=[]),obj.options.data&&obj.options.data[0]&&!Array.isArray(obj.options.data[0])){l=[];for(var n=0;n<obj.options.data.length;n++){for(var e=[],t=0;t<obj.options.columns.length;t++)e[t]=obj.options.data[n][obj.options.columns[t].name];l.push(e)}obj.options.data=l}n=0,t=0;var o=obj.options.columns.length,u=obj.options.data.length,r=obj.options.minDimensions[0],a=obj.options.minDimensions[1],i=r>o?r:o,s=a>u?a:u;for(n=0;n<s;n++)for(t=0;t<i;t++)null==obj.options.data[n]&&(obj.options.data[n]=[]),null==obj.options.data[n][t]&&(obj.options.data[n][t]="");if(obj.rows=[],obj.results=null,obj.records=[],obj.history=[],obj.historyIndex=-1,obj.tbody.innerHTML="",1==obj.options.lazyLoading){var c=0,d=obj.options.data.length<100?obj.options.data.length:100;obj.options.pagination&&(obj.options.pagination=!1,console.error("Jspreadsheet: Pagination will be disable due the lazyLoading"))}else obj.options.pagination?(obj.pageNumber||(obj.pageNumber=0),c=obj.options.pagination*obj.pageNumber,obj.options.data.length<(d=obj.options.pagination*obj.pageNumber+obj.options.pagination)&&(d=obj.options.data.length)):(c=0,d=obj.options.data.length);for(n=0;n<obj.options.data.length;n++){var p=obj.createRow(n,obj.options.data[n]);n>=c&&n<d&&obj.tbody.appendChild(p)}if(1==obj.options.lazyLoading||obj.options.pagination&&obj.updatePagination(),obj.options.mergeCells){var b=Object.keys(obj.options.mergeCells);for(t=0;t<b.length;t++){var g=obj.options.mergeCells[b[t]];obj.setMerge(b[t],g[0],g[1],1)}}obj.updateTable(),obj.dispatch("onload",el,obj)},obj.getData=function(l,n){for(var e=[],t=0,o=0,u=1==n||0==obj.options.copyCompatibility,r=obj.options.columns.length,a=obj.options.data.length,i=0;i<a;i++){t=0;for(var s=0;s<r;s++)l&&!obj.records[i][s].classList.contains("highlight")||(e[o]||(e[o]=[]),e[o][t]=u?obj.options.data[i][s]:obj.records[i][s].innerHTML,t++);t>0&&o++}return e},obj.getJsonRow=function(l){for(var n=obj.options.data[l],e=obj.options.columns.length,t={},o=0;o<e;o++)obj.options.columns[o].name||(obj.options.columns[o].name=o),t[obj.options.columns[o].name]=n[o];return t},obj.getJson=function(l){for(var n=[],e=obj.options.columns.length,t=obj.options.data.length,o=0;o<t;o++){for(var u=null,r=0;r<e;r++)l&&!obj.records[o][r].classList.contains("highlight")||(null==u&&(u={}),obj.options.columns[r].name||(obj.options.columns[r].name=r),u[obj.options.columns[r].name]=obj.options.data[o][r]);null!=u&&n.push(u)}return n},obj.prepareJson=function(l){for(var n=[],e=0;e<l.length;e++){var t=l[e].x,o=l[e].y,u=obj.options.columns[t].name?obj.options.columns[t].name:t;n[o]||(n[o]={row:o,data:{}}),n[o].data[u]=l[e].newValue}return n.filter(function(l){return null!=l})},obj.save=function(l,n){var e=obj.dispatch("onbeforesave",el,obj,n);if(e)n=e;else if(!1===e)return!1;jSuites.ajax({url:l,method:"POST",dataType:"json",data:{data:JSON.stringify(n)},success:function(l){obj.dispatch("onsave",el,obj,n)}})},obj.getRowData=function(l){return obj.options.data[l]},obj.setRowData=function(l,n){for(var e=0;e<obj.headers.length;e++){var t=jexcel.getColumnNameFromId([e,l]);null!=n[e]&&obj.setValue(t,n[e])}},obj.getColumnData=function(l){for(var n=[],e=0;e<obj.options.data.length;e++)n.push(obj.options.data[e][l]);return n},obj.setColumnData=function(l,n){for(var e=0;e<obj.rows.length;e++){var t=jexcel.getColumnNameFromId([l,e]);null!=n[e]&&obj.setValue(t,n[e])}},obj.createRow=function(l,n){obj.records[l]||(obj.records[l]=[]),n||(n=obj.options.data[l]),obj.rows[l]=document.createElement("tr"),obj.rows[l].setAttribute("data-y",l);var e=null;obj.options.rows[l]&&(obj.options.rows[l].height&&(obj.rows[l].style.height=obj.options.rows[l].height),obj.options.rows[l].title&&(e=obj.options.rows[l].title)),e||(e=parseInt(l+1));var t=document.createElement("td");t.innerHTML=e,t.setAttribute("data-y",l),t.className="jexcel_row",obj.rows[l].appendChild(t);for(var o=0;o<obj.options.columns.length;o++)obj.records[l][o]=obj.createCell(o,l,n[o]),obj.rows[l].appendChild(obj.records[l][o]);return obj.rows[l]},obj.parseValue=function(l,n,e){return"="==(""+e).substr(0,1)&&1==obj.options.parseFormulas&&(e=obj.executeFormula(e,l,n)),obj.options.columns[l].mask&&(e=""+jSuites.mask.run(e,obj.options.columns[l].mask,obj.options.columns[l].decimal||".")),e},obj.createCell=function(l,n,e){var t=document.createElement("td");if(t.setAttribute("data-x",l),t.setAttribute("data-y",n),"="==(""+e).substr(0,1)&&1==obj.options.secureFormulas){var o=secureFormula(e);o!=e&&(e=o)}if(obj.options.columns[l].editor)!1===obj.options.stripHTML||!1===obj.options.columns[l].stripHTML?t.innerHTML=e:t.innerText=e,"function"==typeof obj.options.columns[l].editor.createCell&&(t=obj.options.columns[l].editor.createCell(t));else if("hidden"==obj.options.columns[l].type)t.style.display="none",t.innerText=e;else if("checkbox"==obj.options.columns[l].type||"radio"==obj.options.columns[l].type){var u=document.createElement("input");u.type=obj.options.columns[l].type,u.name="c"+l,u.checked=1==e||1==e||"true"==e,u.onclick=function(){obj.setValue(t,this.checked)},1!=obj.options.columns[l].readOnly&&0!=obj.options.editable||u.setAttribute("disabled","disabled"),t.appendChild(u),obj.options.data[n][l]=u.checked}else if("calendar"==obj.options.columns[l].type){var r=jSuites.calendar.extractDateFromString(e,obj.options.columns[l].options.format);t.innerText=jSuites.calendar.getDateString(r||e,obj.options.columns[l].options.format)}else if("dropdown"==obj.options.columns[l].type||"autocomplete"==obj.options.columns[l].type)t.classList.add("jexcel_dropdown"),t.innerText=obj.getDropDownValue(l,e);else if("color"==obj.options.columns[l].type)if("square"==obj.options.columns[l].render){var a=document.createElement("div");a.className="color",a.style.backgroundColor=e,t.appendChild(a)}else t.style.color=e,t.innerText=e;else if("image"==obj.options.columns[l].type){if(e&&"data:image"==e.substr(0,10)){var i=document.createElement("img");i.src=e,t.appendChild(i)}}else"html"==obj.options.columns[l].type?t.innerHTML=stripScript(obj.parseValue(l,n,e)):!1===obj.options.stripHTML||!1===obj.options.columns[l].stripHTML?t.innerHTML=stripScript(obj.parseValue(l,n,e)):t.innerText=obj.parseValue(l,n,e);return 1==obj.options.columns[l].readOnly&&(t.className="readonly"),t.style.textAlign=obj.options.columns[l].align?obj.options.columns[l].align:"center",0!=obj.options.columns[l].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[l].wordWrap||t.innerHTML.length>200)&&(t.style.whiteSpace="pre-wrap"),l>0&&1==this.options.textOverflow&&(e||t.innerHTML?obj.records[n][l-1].style.overflow="hidden":l==obj.options.columns.length-1&&(t.style.overflow="hidden")),t},obj.createCellHeader=function(l){var n=obj.options.columns[l].width?obj.options.columns[l].width:obj.options.defaultColWidth,e=obj.options.columns[l].align?obj.options.columns[l].align:obj.options.defaultColAlign;obj.headers[l]=document.createElement("td"),obj.options.stripHTML?obj.headers[l].innerText=obj.options.columns[l].title?obj.options.columns[l].title:jexcel.getColumnName(l):obj.headers[l].innerHTML=obj.options.columns[l].title?obj.options.columns[l].title:jexcel.getColumnName(l),obj.headers[l].setAttribute("data-x",l),obj.headers[l].style.textAlign=e,obj.options.columns[l].title&&obj.headers[l].setAttribute("title",obj.options.columns[l].textContent),obj.colgroup[l]=document.createElement("col"),obj.colgroup[l].setAttribute("width",n),"hidden"==obj.options.columns[l].type&&(obj.headers[l].style.display="none",obj.colgroup[l].style.display="none")},obj.updateNestedHeader=function(l,n,e){obj.options.nestedHeaders[n][l].title&&(obj.options.nestedHeaders[n][l].title=e,obj.options.nestedHeaders[n].element.children[l+1].innerText=e)},obj.createNestedHeader=function(l){var n=document.createElement("tr");n.classList.add("jexcel_nested");var e=document.createElement("td");n.appendChild(e),l.element=n;for(var t=0,o=0;o<l.length;o++){l[o].colspan||(l[o].colspan=1),l[o].align||(l[o].align="center"),l[o].title||(l[o].title="");for(var u=l[o].colspan,r=[],a=0;a<u;a++)obj.options.columns[t]&&"hidden"==obj.options.columns[t].type&&u++,r.push(t),t++;(e=document.createElement("td")).setAttribute("data-column",r.join(",")),e.setAttribute("colspan",l[o].colspan),e.setAttribute("align",l[o].align),e.innerText=l[o].title,n.appendChild(e)}return n},obj.createToolbar=function(l){l?obj.options.toolbar=l:l=obj.options.toolbar;for(var n=0;n<l.length;n++)if("i"==l[n].type)(o=document.createElement("i")).classList.add("jexcel_toolbar_item"),o.classList.add("material-icons"),o.setAttribute("data-k",l[n].k),o.setAttribute("data-v",l[n].v),o.setAttribute("id",l[n].id),l[n].tooltip&&o.setAttribute("title",l[n].tooltip),o.onclick=l[n].onclick?function(e){var t=n;return function(){l[t].onclick(el,obj,this)}}():function(){var l=this.getAttribute("data-k"),n=this.getAttribute("data-v");obj.setStyle(obj.highlighted,l,n)},o.innerText=l[n].content,obj.toolbar.appendChild(o);else if("select"==l[n].type){(o=document.createElement("select")).classList.add("jexcel_toolbar_item"),o.setAttribute("data-k",l[n].k),l[n].tooltip&&o.setAttribute("title",l[n].tooltip),o.onchange=l[n].onchange?l[n].onchange:function(){var l=this.getAttribute("data-k");obj.setStyle(obj.highlighted,l,this.value)};for(var e=0;e<l[n].v.length;e++){var t=document.createElement("option");t.value=l[n].v[e],t.innerText=l[n].v[e],o.appendChild(t)}obj.toolbar.appendChild(o)}else if("color"==l[n].type){var o;(o=document.createElement("i")).classList.add("jexcel_toolbar_item"),o.classList.add("material-icons"),o.setAttribute("data-k",l[n].k),o.setAttribute("data-v",""),l[n].tooltip&&o.setAttribute("title",l[n].tooltip),obj.toolbar.appendChild(o),o.innerText=l[n].content,jSuites.color(o,{onchange:function(l,n){var e=l.getAttribute("data-k");obj.setStyle(obj.highlighted,e,n)}})}},obj.setMerge=function(l,n,e,t){var o=!1;if(!l){if(!obj.highlighted.length)return alert(obj.options.text.noCellsSelected),null;var u=parseInt(obj.highlighted[0].getAttribute("data-x")),r=parseInt(obj.highlighted[0].getAttribute("data-y")),a=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-x")),i=parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute("data-y"));l=jexcel.getColumnNameFromId([u,r]),n=a-u+1,e=i-r+1}var s=jexcel.getIdFromColumnName(l,!0);if(obj.options.mergeCells[l])obj.records[s[1]][s[0]].getAttribute("data-merged")&&(o=obj.options.text.cellAlreadyMerged);else if((!n||n<2)&&(!e||e<2))o=obj.options.text.invalidMergeProperties;else for(var c=s[1];c<s[1]+e;c++)for(var d=s[0];d<s[0]+n;d++)jexcel.getColumnNameFromId([d,c]),obj.records[c][d].getAttribute("data-merged")&&(o=obj.options.text.thereIsAConflictWithAnotherMergedCell);if(o)alert(o);else{n>1?obj.records[s[1]][s[0]].setAttribute("colspan",n):n=1,e>1?obj.records[s[1]][s[0]].setAttribute("rowspan",e):e=1,obj.options.mergeCells[l]=[n,e,[]],obj.records[s[1]][s[0]].setAttribute("data-merged","true"),obj.records[s[1]][s[0]].style.overflow="hidden";for(var p=[],b=s[1];b<s[1]+e;b++)for(var g=s[0];g<s[0]+n;g++)s[0]==g&&s[1]==b||(p.push(obj.options.data[b][g]),obj.updateCell(g,b,"",!0),obj.options.mergeCells[l][2].push(obj.records[b][g]),obj.records[b][g].style.display="none",obj.records[b][g]=obj.records[s[1]][s[0]]);obj.updateSelection(obj.records[s[1]][s[0]]),t||(obj.setHistory({action:"setMerge",column:l,colspan:n,rowspan:e,data:p}),obj.dispatch("onmerge",el,l,n,e))}},obj.getMerge=function(l){var n={};if(l)n=obj.options.mergeCells[l]?[obj.options.mergeCells[l][0],obj.options.mergeCells[l][1]]:null;else if(obj.options.mergeCells)for(var e=Object.keys(obj.options.mergeCells),t=0;t<e.length;t++)n[e[t]]=[obj.options.mergeCells[e[t]][0],obj.options.mergeCells[e[t]][1]];return n},obj.removeMerge=function(l,n,e){if(obj.options.mergeCells[l]){var t=jexcel.getIdFromColumnName(l,!0);obj.records[t[1]][t[0]].removeAttribute("colspan"),obj.records[t[1]][t[0]].removeAttribute("rowspan"),obj.records[t[1]][t[0]].removeAttribute("data-merged");for(var o=obj.options.mergeCells[l],u=0,r=0;r<o[1];r++)for(var a=0;a<o[0];a++)(r>0||a>0)&&(obj.records[t[1]+r][t[0]+a]=o[2][u],obj.records[t[1]+r][t[0]+a].style.display="",n&&n[u]&&obj.updateCell(t[0]+a,t[1]+r,n[u]),u++);obj.updateSelection(obj.records[t[1]][t[0]],obj.records[t[1]+r-1][t[0]+a-1]),e||delete obj.options.mergeCells[l]}},obj.destroyMerged=function(l){if(obj.options.mergeCells)for(var n=Object.keys(obj.options.mergeCells),e=0;e<n.length;e++)obj.removeMerge(n[e],null,l)},obj.isColMerged=function(l,n){var e=[];if(obj.options.mergeCells)for(var t=Object.keys(obj.options.mergeCells),o=0;o<t.length;o++){var u=jexcel.getIdFromColumnName(t[o],!0),r=obj.options.mergeCells[t[o]][0],a=u[0],i=u[0]+(r>1?r-1:0);null==n?a<=l&&i>=l&&e.push(t[o]):n?a<l&&i>=l&&e.push(t[o]):a<=l&&i>l&&e.push(t[o])}return e},obj.isRowMerged=function(l,n){var e=[];if(obj.options.mergeCells)for(var t=Object.keys(obj.options.mergeCells),o=0;o<t.length;o++){var u=jexcel.getIdFromColumnName(t[o],!0),r=obj.options.mergeCells[t[o]][1],a=u[1],i=u[1]+(r>1?r-1:0);null==n?a<=l&&i>=l&&e.push(t[o]):n?a<l&&i>=l&&e.push(t[o]):a<=l&&i>l&&e.push(t[o])}return e},obj.openFilter=function(l){if(obj.options.filters){l=parseInt(l),obj.resetSelection();var n=[];if("checkbox"==obj.options.columns[l].type)n.push({id:"true",name:"True"}),n.push({id:"false",name:"False"});else{for(var e=[],t=!1,o=0;o<obj.options.data.length;o++){var u=obj.options.data[o][l],r=obj.records[o][l].innerHTML;u&&r?e[u]=r:t=!0}var a=Object.keys(e);for(n=[],o=0;o<a.length;o++)n.push({id:a[o],name:e[a[o]]});t&&n.push({value:"",id:"",name:"(Blanks)"})}var i=document.createElement("div");obj.filter.children[l+1].innerHTML="",obj.filter.children[l+1].appendChild(i),obj.filter.children[l+1].style.paddingLeft="0px",obj.filter.children[l+1].style.paddingRight="0px",obj.filter.children[l+1].style.overflow="initial",jSuites.dropdown(i,{data:n,multiple:!0,autocomplete:!0,opened:!0,value:void 0!==obj.filters[l]?obj.filters[l]:null,width:"100%",position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(n){obj.resetFilters(),obj.filters[l]=n.dropdown.getValue(!0),obj.filter.children[l+1].innerHTML=n.dropdown.getText(),obj.filter.children[l+1].style.paddingLeft="",obj.filter.children[l+1].style.paddingRight="",obj.filter.children[l+1].style.overflow="",obj.closeFilter(l),obj.refreshSelection()}})}else console.log("Jspreadsheet: filters not enabled.")},obj.resetFilters=function(){if(obj.options.filters)for(var l=0;l<obj.filter.children.length;l++)obj.filter.children[l].innerHTML="&nbsp;",obj.filters[l]=null},obj.closeFilter=function(l){if(!l)for(var n=0;n<obj.filter.children.length;n++)obj.filters[n]&&(l=n);var e=function(l,n,e){for(var t=0;t<l.length;t++)if(""==l[t]&&(!1===obj.options.data[e][n]||""+obj.options.data[e][n]=="")||""!=l[t]&&((""+obj.options.data[e][n]).search(l[t])>=0||(""+obj.records[e][n].innerHTML).search(l[t])>=0))return!0;return!1},t=obj.filters[l];obj.results=[];for(var o=0;o<obj.options.data.length;o++)e(t,l,o)&&obj.results.push(o);obj.results.length||(obj.results=null),obj.updateResult()},obj.openEditor=function(l,n,e){var t=l.getAttribute("data-y"),o=l.getAttribute("data-x");obj.dispatch("oneditionstart",el,l,o,t),o>0&&(obj.records[t][o-1].style.overflow="hidden");var u=function(n){var e=l.getBoundingClientRect(),u=document.createElement(n);return u.style.width=e.width+"px",u.style.height=e.height-2+"px",u.style.minHeight=e.height-2+"px",l.classList.add("editor"),l.innerHTML="",l.appendChild(u),obj.dispatch("oncreateeditor",el,l,o,t,u),u};if(1==l.classList.contains("readonly"));else if(obj.edition=[obj.records[t][o],obj.records[t][o].innerHTML,o,t],obj.options.columns[o].editor)obj.options.columns[o].editor.openEditor(l,el,n,e);else if("hidden"==obj.options.columns[o].type);else if("checkbox"==obj.options.columns[o].type||"radio"==obj.options.columns[o].type)obj.setValue(l,r=!l.children[0].checked),obj.edition=null;else if("dropdown"==obj.options.columns[o].type||"autocomplete"==obj.options.columns[o].type){var r=obj.options.data[t][o];if(obj.options.columns[o].multiple&&!Array.isArray(r)&&(r=r.split(";")),"function"==typeof obj.options.columns[o].filter)var a=obj.options.columns[o].filter(el,l,o,t,obj.options.columns[o].source);else a=obj.options.columns[o].source;for(var i=[],s=0;s<a.length;s++)i.push(a[s]);var c=u("div"),d={data:i,multiple:!!obj.options.columns[o].multiple,autocomplete:!(!obj.options.columns[o].autocomplete&&"autocomplete"!=obj.options.columns[o].type),opened:!0,value:r,width:"100%",height:c.style.minHeight,position:1==obj.options.tableOverflow||1==obj.options.fullscreen,onclose:function(){obj.closeEditor(l,!0)}};obj.options.columns[o].options&&obj.options.columns[o].options.type&&(d.type=obj.options.columns[o].options.type),jSuites.dropdown(c,d)}else if("calendar"==obj.options.columns[o].type||"color"==obj.options.columns[o].type)r=obj.options.data[t][o],(c=u("input")).value=r,1!=obj.options.tableOverflow&&1!=obj.options.fullscreen||(obj.options.columns[o].options.position=!0),obj.options.columns[o].options.value=obj.options.data[t][o],obj.options.columns[o].options.opened=!0,obj.options.columns[o].options.onclose=function(n,e){obj.closeEditor(l,!0)},"color"==obj.options.columns[o].type?jSuites.color(c,obj.options.columns[o].options):jSuites.calendar(c,obj.options.columns[o].options),c.focus();else if("html"==obj.options.columns[o].type){r=obj.options.data[t][o],(c=u("div")).style.position="relative",(g=document.createElement("div")).classList.add("jexcel_richtext"),c.appendChild(g),jSuites.editor(g,{focus:!0,value:r});var p=l.getBoundingClientRect(),b=g.getBoundingClientRect();g.style.top=window.innerHeight<p.bottom+b.height?p.top-(b.height+2)+"px":p.top+"px"}else if("image"==obj.options.columns[o].type){var g,m=l.children[0];(c=u("div")).style.position="relative",(g=document.createElement("div")).classList.add("jclose"),m&&m.src&&g.appendChild(m),c.appendChild(g),jSuites.image(g,obj.options.imageOptions),p=l.getBoundingClientRect(),b=g.getBoundingClientRect(),g.style.top=window.innerHeight<p.bottom+b.height?p.top-(b.height+2)+"px":p.top+"px"}else r=1==n?"":obj.options.data[t][o],0==obj.options.columns[o].wordWrap||1!=obj.options.wordWrap&&1!=obj.options.columns[o].wordWrap?(c=u("input"),obj.options.columns[o].mask&&c.setAttribute("data-mask",obj.options.columns[o].mask)):c=u("textarea"),c.onblur=function(){obj.closeEditor(l,!0)},c.focus(),c.value=r,c.scrollLeft=c.scrollWidth},obj.closeEditor=function(l,n){var e=parseInt(l.getAttribute("data-x")),t=parseInt(l.getAttribute("data-y"));if(1==n){if(obj.options.columns[e].editor)var o=obj.options.columns[e].editor.closeEditor(l,n);else if("checkbox"==obj.options.columns[e].type||"radio"==obj.options.columns[e].type||"hidden"==obj.options.columns[e].type);else if("dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type)o=l.children[0].dropdown.close(!0);else if("calendar"==obj.options.columns[e].type)o=l.children[0].calendar.close(!0);else if("color"==obj.options.columns[e].type)o=l.children[0].color.close(!0);else if("html"==obj.options.columns[e].type)o=l.children[0].children[0].editor.getData();else if("image"==obj.options.columns[e].type){var u=l.children[0].children[0].children[0];o=u&&"IMG"==u.tagName?u.src:""}else"numeric"==obj.options.columns[e].type?("="!=(o=l.children[0].value).substr(0,1)&&""==o&&(o=obj.options.columns[e].allowEmpty?"":0),l.children[0].onblur=null):(o=l.children[0].value,l.children[0].onblur=null);obj.options.data[t][e]==o?l.innerHTML=obj.edition[1]:obj.setValue(l,o)}else obj.options.columns[e].editor?obj.options.columns[e].editor.closeEditor(l,n):"dropdown"==obj.options.columns[e].type||"autocomplete"==obj.options.columns[e].type?l.children[0].dropdown.close(!0):"calendar"==obj.options.columns[e].type?l.children[0].calendar.close(!0):"color"==obj.options.columns[e].type?l.children[0].color.close(!0):l.children[0].onblur=null,l.innerHTML=obj.edition&&obj.edition[1]?obj.edition[1]:"";obj.dispatch("oneditionend",el,l,e,t,o,n),l.classList.remove("editor"),obj.edition=null},obj.getCell=function(l){return l=jexcel.getIdFromColumnName(l,!0),obj.records[l[1]][l[0]]},obj.getCellFromCoords=function(l,n){return obj.records[n][l]},obj.getLabel=function(l){return l=jexcel.getIdFromColumnName(l,!0),obj.records[l[1]][l[0]].innerHTML},obj.getLabelFromCoords=function(l,n){return obj.records[n][l].innerHTML},obj.getValue=function(l,n){if("object"==typeof l)var e=l.getAttribute("data-x"),t=l.getAttribute("data-y");else e=(l=jexcel.getIdFromColumnName(l,!0))[0],t=l[1];var o=null;return null!=e&&null!=t&&(obj.records[t]&&obj.records[t][e]&&(n||1==obj.options.copyCompatibility)?o=obj.records[t][e].innerHTML:obj.options.data[t]&&"undefined"!=obj.options.data[t][e]&&(o=obj.options.data[t][e])),o},obj.getValueFromCoords=function(l,n,e){var t=null;return null!=l&&null!=n&&(obj.records[n]&&obj.records[n][l]&&e||1==obj.options.copyCompatibility?t=obj.records[n][l].innerHTML:obj.options.data[n]&&"undefined"!=obj.options.data[n][l]&&(t=obj.options.data[n][l])),t},obj.setValue=function(l,n,e){var t=[];if("string"==typeof l){var o=jexcel.getIdFromColumnName(l,!0);t.push(obj.updateCell(u=o[0],r=o[1],n,e)),obj.updateFormulaChain(u,r,t)}else{var u=null,r=null;if(l&&l.getAttribute&&(u=l.getAttribute("data-x"),r=l.getAttribute("data-y")),null!=u&&null!=r)t.push(obj.updateCell(u,r,n,e)),obj.updateFormulaChain(u,r,t);else{var a=Object.keys(l);if(a.length>0)for(var i=0;i<a.length;i++)"string"==typeof l[i]?(u=(o=jexcel.getIdFromColumnName(l[i],!0))[0],r=o[1]):null!=l[i].x&&null!=l[i].y?(u=l[i].x,r=l[i].y,null!=l[i].newValue?n=l[i].newValue:null!=l[i].value&&(n=l[i].value)):(u=l[i].getAttribute("data-x"),r=l[i].getAttribute("data-y")),null!=u&&null!=r&&(t.push(obj.updateCell(u,r,n,e)),obj.updateFormulaChain(u,r,t))}}obj.setHistory({action:"setValue",records:t,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,t)},obj.setValueFromCoords=function(l,n,e,t){var o=[];o.push(obj.updateCell(l,n,e,t)),obj.updateFormulaChain(l,n,o),obj.setHistory({action:"setValue",records:o,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,o)},obj.setCheckRadioValue=function(){for(var l=[],n=Object.keys(obj.highlighted),e=0;e<n.length;e++){var t=obj.highlighted[e].getAttribute("data-x"),o=obj.highlighted[e].getAttribute("data-y");"checkbox"!=obj.options.columns[t].type&&"radio"!=obj.options.columns[t].type||l.push(obj.updateCell(t,o,!obj.options.data[o][t]))}l.length&&(obj.setHistory({action:"setValue",records:l,selection:obj.selectedCell}),obj.onafterchanges(el,l))};var stripScript=function(l){var n=new Option;n.innerHTML=l;var e=null;for(l=n.getElementsByTagName("script");e=l[0];)e.parentNode.removeChild(e);return n.innerHTML};obj.updateCell=function(l,n,e,t){if(1!=obj.records[n][l].classList.contains("readonly")||t){var o;if("="==(""+e).substr(0,1)&&1==obj.options.secureFormulas&&(o=secureFormula(e))!=e&&(e=o),null!=(o=obj.dispatch("onbeforechange",el,obj.records[n][l],l,n,e))&&(e=o),obj.options.columns[l].editor&&"function"==typeof obj.options.columns[l].editor.updateCell&&(e=obj.options.columns[l].editor.updateCell(obj.records[n][l],e,t)),s={x:l,y:n,col:l,row:n,newValue:e,oldValue:obj.options.data[n][l]},obj.options.columns[l].editor)obj.options.data[n][l]=e;else if("checkbox"==obj.options.columns[l].type||"radio"==obj.options.columns[l].type){if("radio"==obj.options.columns[l].type)for(var u=0;u<obj.options.data.length;u++)obj.options.data[u][l]=!1;obj.records[n][l].children[0].checked=1==e||1==e||"true"==e||"TRUE"==e,obj.options.data[n][l]=obj.records[n][l].children[0].checked}else if("dropdown"==obj.options.columns[l].type||"autocomplete"==obj.options.columns[l].type)obj.options.data[n][l]=e,obj.records[n][l].innerText=obj.getDropDownValue(l,e);else if("calendar"==obj.options.columns[l].type){var r=jSuites.calendar.extractDateFromString(e,obj.options.columns[l].options.format);obj.options.data[n][l]=e,obj.records[n][l].innerText=jSuites.calendar.getDateString(r||e,obj.options.columns[l].options.format)}else if("color"==obj.options.columns[l].type)if(obj.options.data[n][l]=e,"square"==obj.options.columns[l].render){var a=document.createElement("div");a.className="color",a.style.backgroundColor=e,obj.records[n][l].innerText="",obj.records[n][l].appendChild(a)}else obj.records[n][l].style.color=e,obj.records[n][l].innerText=e;else if("image"==obj.options.columns[l].type){if(obj.options.data[n][l]=e=""+e,obj.records[n][l].innerHTML="",e&&"data:image"==e.substr(0,10)){var i=document.createElement("img");i.src=e,obj.records[n][l].appendChild(i)}}else obj.options.data[n][l]=e,"html"==obj.options.columns[l].type?obj.records[n][l].innerHTML=stripScript(obj.parseValue(l,n,e)):!1===obj.options.stripHTML||!1===obj.options.columns[l].stripHTML?obj.records[n][l].innerHTML=stripScript(obj.parseValue(l,n,e)):obj.records[n][l].innerText=obj.parseValue(l,n,e),obj.records[n][l].style.whiteSpace=0!=obj.options.columns[l].wordWrap&&(1==obj.options.wordWrap||1==obj.options.columns[l].wordWrap||obj.records[n][l].innerHTML.length>200)?"pre-wrap":"";l>0&&(obj.records[n][l-1].style.overflow=e?"hidden":""),obj.dispatch("onchange",el,obj.records[n]&&obj.records[n][l]?obj.records[n][l]:null,l,n,e,s.oldValue)}else var s={x:l,y:n,col:l,row:n};return s},obj.copyData=function(l,n){var e=obj.getData(!0,!0),t=obj.selectedContainer,o=parseInt(l.getAttribute("data-x")),u=parseInt(l.getAttribute("data-y")),r=parseInt(n.getAttribute("data-x")),a=parseInt(n.getAttribute("data-y")),i=[],s=!1;if(t[0]==o){if(u<t[1])var c=u-t[1];else c=1;var d=0}else d=o<t[0]?o-t[0]:1,c=0;for(var p=0,b=0,g=u;g<=a;g++)if(!obj.rows[g]||"none"!=obj.rows[g].style.display){null==e[b]&&(b=0),p=0,t[0]!=o&&(d=o<t[0]?o-t[0]:1);for(var m=o;m<=r;m++){if(obj.records[g][m]&&!obj.records[g][m].classList.contains("readonly")&&"none"!=obj.records[g][m].style.display&&0==s){if(!obj.selection.length&&""!=obj.options.data[g][m]){s=!0;continue}null==e[b]?p=0:null==e[b][p]&&(p=0);var h=e[b][p];if(h&&!e[1]&&1==obj.options.autoIncrement)if("text"==obj.options.columns[m].type||"number"==obj.options.columns[m].type)if("="==(""+h).substr(0,1)){var f=h.match(/([A-Z]+[0-9]+)/g);if(f){for(var v=[],A=0;A<f.length;A++){var C=jexcel.getIdFromColumnName(f[A],1);C[0]+=d,C[1]+=c,C[1]<0&&(C[1]=0);var I=jexcel.getColumnNameFromId([C[0],C[1]]);I!=f[A]&&(v[f[A]]=I)}v&&(h=obj.updateFormula(h,v))}}else h==Number(h)&&(h=Number(h)+c);else if("calendar"==obj.options.columns[m].type){var y=new Date(h);y.setDate(y.getDate()+c),h=y.getFullYear()+"-"+jexcel.doubleDigitFormat(parseInt(y.getMonth()+1))+"-"+jexcel.doubleDigitFormat(y.getDate())+" 00:00:00"}i.push(obj.updateCell(m,g,h)),obj.updateFormulaChain(m,g,i)}p++,t[0]!=o&&d++}b++,c++}obj.setHistory({action:"setValue",records:i,selection:obj.selectedCell}),obj.updateTable(),obj.onafterchanges(el,i)},obj.refreshSelection=function(){obj.selectedCell&&obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.conditionalSelectionUpdate=function(l,n,e){if(1==l){if(obj.selectedCell&&(n>=obj.selectedCell[1]&&n<=obj.selectedCell[3]||e>=obj.selectedCell[1]&&e<=obj.selectedCell[3]))return void obj.resetSelection()}else if(obj.selectedCell&&(n>=obj.selectedCell[0]&&n<=obj.selectedCell[2]||e>=obj.selectedCell[0]&&e<=obj.selectedCell[2]))return void obj.resetSelection()},obj.resetSelection=function(l){if(obj.highlighted.length){s=1;for(var n=0;n<obj.highlighted.length;n++){obj.highlighted[n].classList.remove("highlight"),obj.highlighted[n].classList.remove("highlight-left"),obj.highlighted[n].classList.remove("highlight-right"),obj.highlighted[n].classList.remove("highlight-top"),obj.highlighted[n].classList.remove("highlight-bottom"),obj.highlighted[n].classList.remove("highlight-selected");var e=parseInt(obj.highlighted[n].getAttribute("data-x")),t=parseInt(obj.highlighted[n].getAttribute("data-y"));if(obj.highlighted[n].getAttribute("data-merged"))var o=parseInt(obj.highlighted[n].getAttribute("colspan")),u=parseInt(obj.highlighted[n].getAttribute("rowspan")),r=o>0?e+(o-1):e,a=u>0?t+(u-1):t;else r=e,a=t;for(var i=e;i<=r;i++)obj.headers[i]&&obj.headers[i].classList.remove("selected");for(i=t;i<=a;i++)obj.rows[i]&&obj.rows[i].classList.remove("selected")}}else var s=0;return obj.highlighted=[],obj.selectedCell=null,obj.corner.style.top="-2000px",obj.corner.style.left="-2000px",1==l&&1==s&&obj.dispatch("onblur",el),s},obj.updateSelection=function(l,n,e){var t=l.getAttribute("data-x"),o=l.getAttribute("data-y");if(n)var u=n.getAttribute("data-x"),r=n.getAttribute("data-y");else u=t,r=o;obj.updateSelectionFromCoords(t,o,u,r,e)},obj.updateSelectionFromCoords=function(l,n,e,t,o){var u=obj.resetSelection();if(null==e&&(e=l),null==t&&(t=n),l>=obj.headers.length&&(l=obj.headers.length-1),n>=obj.rows.length&&(n=obj.rows.length-1),e>=obj.headers.length&&(e=obj.headers.length-1),t>=obj.rows.length&&(t=obj.rows.length-1),obj.selectedCell=[l,n,e,t],null!=l){if(obj.records[n][l]&&obj.records[n][l].classList.add("highlight-selected"),parseInt(l)<parseInt(e))var r=parseInt(l),a=parseInt(e);else r=parseInt(e),a=parseInt(l);if(parseInt(n)<parseInt(t))var i=parseInt(n),s=parseInt(t);else i=parseInt(t),s=parseInt(n);for(var c=r;c<=a;c++)for(var d=i;d<=s;d++)if(obj.records[d][c]&&obj.records[d][c].getAttribute("data-merged")){var p=parseInt(obj.records[d][c].getAttribute("data-x")),b=parseInt(obj.records[d][c].getAttribute("data-y")),g=parseInt(obj.records[d][c].getAttribute("colspan")),m=parseInt(obj.records[d][c].getAttribute("rowspan"));g>1&&(p<r&&(r=p),p+g>a&&(a=p+g-1)),m&&(b<i&&(i=b),b+m>s&&(s=b+m-1))}var h=null,f=null,v=null,A=null;for(d=i;d<=s;d++)"none"!=obj.rows[d].style.display&&(null==v&&(v=d),A=d);for(c=r;c<=a;c++){for(d=i;d<=s;d++)"none"!=obj.rows[d].style.display&&"none"!=obj.records[d][c].style.display&&(obj.records[d][c].classList.add("highlight"),obj.highlighted.push(obj.records[d][c]));"hidden"!=obj.options.columns[c].type&&(null==h&&(h=c),f=c)}for(h||(h=0),f||(f=0),c=h;c<=f;c++)"hidden"!=obj.options.columns[c].type&&(obj.records[v]&&obj.records[v][c]&&obj.records[v][c].classList.add("highlight-top"),obj.records[A]&&obj.records[A][c]&&obj.records[A][c].classList.add("highlight-bottom"),obj.headers[c].classList.add("selected"));for(d=v;d<=A;d++)obj.rows[d]&&"none"!=obj.rows[d].style.display&&(obj.records[d][h].classList.add("highlight-left"),obj.records[d][f].classList.add("highlight-right"),obj.rows[d].classList.add("selected"));obj.selectedContainer=[h,v,f,A]}0==u&&(obj.dispatch("onfocus",el),obj.removeCopyingSelection()),obj.dispatch("onselection",el,h,v,f,A,o),obj.updateCornerPosition()},obj.removeCopySelection=function(){for(var l=0;l<obj.selection.length;l++)obj.selection[l].classList.remove("selection"),obj.selection[l].classList.remove("selection-left"),obj.selection[l].classList.remove("selection-right"),obj.selection[l].classList.remove("selection-top"),obj.selection[l].classList.remove("selection-bottom");obj.selection=[]},obj.updateCopySelection=function(l,n){obj.removeCopySelection();var e=obj.selectedContainer[0],t=obj.selectedContainer[1],o=obj.selectedContainer[2],u=obj.selectedContainer[3];if(null!=l&&null!=n){if(l-o>0)var r=parseInt(o)+1,a=parseInt(l);else r=parseInt(l),a=parseInt(e)-1;if(n-u>0)var i=parseInt(u)+1,s=parseInt(n);else i=parseInt(n),s=parseInt(t)-1;a-r<=s-i?(r=parseInt(e),a=parseInt(o)):(i=parseInt(t),s=parseInt(u));for(var c=i;c<=s;c++)for(var d=r;d<=a;d++)obj.records[c][d]&&"none"!=obj.rows[c].style.display&&"none"!=obj.records[c][d].style.display&&(obj.records[c][d].classList.add("selection"),obj.records[i][d].classList.add("selection-top"),obj.records[s][d].classList.add("selection-bottom"),obj.records[c][r].classList.add("selection-left"),obj.records[c][a].classList.add("selection-right"),obj.selection.push(obj.records[c][d]))}},obj.updateCornerPosition=function(){if(obj.highlighted.length){var l=obj.highlighted[obj.highlighted.length-1],n=obj.content.getBoundingClientRect(),e=n.left,t=n.top,o=l.getBoundingClientRect(),u=o.left,r=o.width,a=u-e+obj.content.scrollLeft+r-4;obj.corner.style.top=o.top-t+obj.content.scrollTop+o.height-4+"px",obj.corner.style.left=a+"px",obj.options.freezeColumns&&u-e+r<obj.getFreezeWidth()?obj.corner.style.display="none":1==obj.options.selectionCopy&&(obj.corner.style.display="")}else obj.corner.style.top="-2000px",obj.corner.style.left="-2000px"},obj.updateScroll=function(l){var n=obj.content.getBoundingClientRect(),e=n.left,t=n.top,o=n.width,u=n.height,r=obj.records[obj.selectedCell[3]][obj.selectedCell[2]].getBoundingClientRect(),a=r.left,i=r.top,s=r.height;if(0==l||1==l)var c=a-e+obj.content.scrollLeft,d=i-t+obj.content.scrollTop-2;else c=a-e+obj.content.scrollLeft+r.width,d=i-t+obj.content.scrollTop+s;d>obj.content.scrollTop+30&&d<obj.content.scrollTop+u||(obj.content.scrollTop=d<obj.content.scrollTop+30?d-s:d-(u-2));var p=obj.getFreezeWidth();c>obj.content.scrollLeft+p&&c<obj.content.scrollLeft+o||(c<obj.content.scrollLeft+30?(obj.content.scrollLeft=c,obj.content.scrollLeft<50&&(obj.content.scrollLeft=0)):obj.content.scrollLeft=c<obj.content.scrollLeft+p?c-p-1:c-(o-20))},obj.getWidth=function(l){if(l)"object"==typeof l&&(l=$(l).getAttribute("data-x")),n=obj.colgroup[l].getAttribute("width");else for(var n=[],e=0;e<obj.headers.length;e++)n.push(obj.options.columns[e].width);return n},obj.setWidth=function(l,n,e){if(n){if(Array.isArray(l)){e||(e=[]);for(var t=0;t<l.length;t++){e[t]||(e[t]=obj.colgroup[l[t]].getAttribute("width"));var o=Array.isArray(n)&&n[t]?n[t]:n;obj.colgroup[l[t]].setAttribute("width",o),obj.options.columns[l[t]].width=o}}else e||(e=obj.colgroup[l].getAttribute("width")),obj.colgroup[l].setAttribute("width",n),obj.options.columns[l].width=n;obj.setHistory({action:"setWidth",column:l,oldValue:e,newValue:n}),obj.dispatch("onresizecolumn",el,l,n,e),obj.updateCornerPosition()}},obj.setHeight=function(l,n,e){n>0&&("object"==typeof l&&(l=l.getAttribute("data-y")),e||(e=obj.rows[l].getAttribute("height"))||(e=obj.rows[l].getBoundingClientRect().height),n=parseInt(n),obj.rows[l].style.height=n+"px",obj.options.rows[l]||(obj.options.rows[l]={}),obj.options.rows[l].height=n,obj.setHistory({action:"setHeight",row:l,oldValue:e,newValue:n}),obj.dispatch("onresizerow",el,l,n,e),obj.updateCornerPosition())},obj.getHeight=function(l){if(l)"object"==typeof l&&(l=$(l).getAttribute("data-y")),n=obj.rows[l].style.height;else for(var n=[],e=0;e<obj.rows.length;e++){var t=obj.rows[e].style.height;t&&(n[e]=t)}return n},obj.setFooter=function(l){if(l&&(obj.options.footers=l),obj.options.footers){obj.tfoot||(obj.tfoot=document.createElement("tfoot"),obj.table.appendChild(obj.tfoot));for(var n=0;n<obj.options.footers.length;n++){if(obj.tfoot.children[n])var e=obj.tfoot.children[n];else{e=document.createElement("tr");var t=document.createElement("td");e.appendChild(t),obj.tfoot.appendChild(e)}for(var o=0;o<obj.headers.length;o++)obj.options.footers[n][o]||(obj.options.footers[n][o]=""),obj.tfoot.children[n].children[o+1]?t=obj.tfoot.children[n].children[o+1]:(t=document.createElement("td"),e.appendChild(t),t.style.textAlign=obj.options.columns[o].align?obj.options.columns[o].align:"center"),t.innerText=obj.parseValue(o,n,obj.options.footers[n][o])}}},obj.getHeader=function(l){return obj.headers[l].innerText},obj.setHeader=function(l,n){if(obj.headers[l]){var e=obj.headers[l].innerText;n||(n=prompt(obj.options.text.columnName,e)),n&&(obj.headers[l].innerText=n,obj.headers[l].setAttribute("title",n),obj.options.columns[l].title=n),obj.setHistory({action:"setHeader",column:l,oldValue:e,newValue:n}),obj.dispatch("onchangeheader",el,l,e,n)}},obj.getHeaders=function(l){for(var n=[],e=0;e<obj.headers.length;e++)n.push(obj.getHeader(e));return l?n:n.join(obj.options.csvDelimiter)},obj.getMeta=function(l,n){return l?n?obj.options.meta[l]&&obj.options.meta[l][n]?obj.options.meta[l][n]:null:obj.options.meta[l]?obj.options.meta[l]:null:obj.options.meta},obj.setMeta=function(l,n,e){if(obj.options.meta||(obj.options.meta={}),n&&e)obj.options.meta[l]||(obj.options.meta[l]={}),obj.options.meta[l][n]=e;else for(var t=Object.keys(l),o=0;o<t.length;o++){obj.options.meta[t[o]]||(obj.options.meta[t[o]]={});for(var u=Object.keys(l[t[o]]),r=0;r<u.length;r++)obj.options.meta[t[o]][u[r]]=l[t[o]][u[r]]}obj.dispatch("onchangemeta",el,l,n,e)},obj.updateMeta=function(l){if(obj.options.meta){for(var n={},e=Object.keys(obj.options.meta),t=0;t<e.length;t++)l[e[t]]?n[l[e[t]]]=obj.options.meta[e[t]]:n[e[t]]=obj.options.meta[e[t]];obj.options.meta=n}},obj.getStyle=function(l,n){if(l)return l=jexcel.getIdFromColumnName(l,!0),n?obj.records[l[1]][l[0]].style[n]:obj.records[l[1]][l[0]].getAttribute("style");for(var e={},t=obj.options.data[0].length,o=obj.options.data.length,u=0;u<o;u++)for(var r=0;r<t;r++){var a=n?obj.records[u][r].style[n]:obj.records[u][r].getAttribute("style");a&&(e[jexcel.getColumnNameFromId([r,u])]=a)}return e},obj.resetStyle=function(l,n){for(var e=Object.keys(l),t=0;t<e.length;t++){var o=jexcel.getIdFromColumnName(e[t],!0);obj.records[o[1]]&&obj.records[o[1]][o[0]]&&obj.records[o[1]][o[0]].setAttribute("style","")}obj.setStyle(l,null,null,null,n)},obj.setStyle=function(l,n,e,t,o){var u={},r={},a=function(l,n,e){var o=jexcel.getIdFromColumnName(l,!0);if(obj.records[o[1]]&&obj.records[o[1]][o[0]]&&(0==obj.records[o[1]][o[0]].classList.contains("readonly")||t)){var a=obj.records[o[1]][o[0]].style[n];a!=e||t?obj.records[o[1]][o[0]].style[n]=e:(e="",obj.records[o[1]][o[0]].style[n]=""),r[l]||(r[l]=[]),u[l]||(u[l]=[]),r[l].push([n+":"+a]),u[l].push([n+":"+e])}};if(n&&e)if("string"==typeof l)a(l,n,e);else for(var i=[],s=0;s<l.length;s++){var c=l[s].getAttribute("data-x"),d=l[s].getAttribute("data-y"),p=jexcel.getColumnNameFromId([c,d]);i[p]||(a(p,n,e),i[p]=!0)}else{var b=Object.keys(l);for(s=0;s<b.length;s++){var g=l[b[s]];"string"==typeof g&&(g=g.split(";"));for(var m=0;m<g.length;m++)"string"==typeof g[m]&&(g[m]=g[m].split(":")),g[m][0].trim()&&a(b[s],g[m][0].trim(),g[m][1])}}for(b=Object.keys(r),s=0;s<b.length;s++)r[b[s]]=r[b[s]].join(";");for(b=Object.keys(u),s=0;s<b.length;s++)u[b[s]]=u[b[s]].join(";");o||obj.setHistory({action:"setStyle",oldValue:r,newValue:u}),obj.dispatch("onchangestyle",el,l,n,e)},obj.getComments=function(l,n){if(l)return"string"==typeof l&&(l=jexcel.getIdFromColumnName(l,!0)),n?[obj.records[l[1]][l[0]].getAttribute("title"),obj.records[l[1]][l[0]].getAttribute("author")]:obj.records[l[1]][l[0]].getAttribute("title")||"";for(var e={},t=0;t<obj.options.data.length;t++)for(var o=0;o<obj.options.columns.length;o++){var u=obj.records[t][o].getAttribute("title");u&&(e[l=jexcel.getColumnNameFromId([o,t])]=u)}return e},obj.setComments=function(l,n,e){if("string"==typeof l)var t=jexcel.getIdFromColumnName(l,!0);else t=l;var o=obj.records[t[1]][t[0]].getAttribute("title"),u=[o,e=obj.records[t[1]][t[0]].getAttribute("data-author")];obj.records[t[1]][t[0]].setAttribute("title",n||""),obj.records[t[1]][t[0]].setAttribute("data-author",e||""),n?obj.records[t[1]][t[0]].classList.add("jexcel_comments"):obj.records[t[1]][t[0]].classList.remove("jexcel_comments"),obj.setHistory({action:"setComments",column:l,newValue:[n,e],oldValue:u}),obj.dispatch("oncomments",el,n,o)},obj.getConfig=function(){var l=obj.options;return l.style=obj.getStyle(),l.mergeCells=obj.getMerge(),l.comments=obj.getComments(),l},obj.orderBy=function(l,n){if(l>=0){if(Object.keys(obj.options.mergeCells).length>0){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}n=null==n?obj.headers[l].classList.contains("arrow-down")?1:0:n?1:0;var e=[];if("number"==obj.options.columns[l].type||"percentage"==obj.options.columns[l].type||"autonumber"==obj.options.columns[l].type||"color"==obj.options.columns[l].type)for(var t=0;t<obj.options.data.length;t++)e[t]=[t,Number(obj.options.data[t][l])];else if("calendar"==obj.options.columns[l].type||"checkbox"==obj.options.columns[l].type||"radio"==obj.options.columns[l].type)for(t=0;t<obj.options.data.length;t++)e[t]=[t,obj.options.data[t][l]];else for(t=0;t<obj.options.data.length;t++)e[t]=[t,obj.records[t][l].innerText.toLowerCase()];"function"!=typeof obj.options.sorting&&(obj.options.sorting=function(l){return function(n,e){var t=n[1],o=e[1];return l?""===t&&""!==o?1:""!==t&&""===o?-1:t>o?-1:t<o?1:0:""===t&&""!==o?1:""!==t&&""===o?-1:t>o?1:t<o?-1:0}}),e=e.sort(obj.options.sorting(n));var o=[];for(t=0;t<e.length;t++)o[t]=e[t][0];return obj.setHistory({action:"orderBy",rows:o,column:l,order:n}),obj.updateOrderArrow(l,n),obj.updateOrder(o),obj.dispatch("onsort",el,l,n),!0}},obj.updateOrderArrow=function(l,n){for(var e=0;e<obj.headers.length;e++)obj.headers[e].classList.remove("arrow-up"),obj.headers[e].classList.remove("arrow-down");obj.headers[l].classList.add(n?"arrow-up":"arrow-down")},obj.updateOrder=function(l){for(var n=[],e=0;e<l.length;e++)n[e]=obj.options.data[l[e]];for(obj.options.data=n,n=[],e=0;e<l.length;e++)n[e]=obj.records[l[e]];for(obj.records=n,n=[],e=0;e<l.length;e++)n[e]=obj.rows[l[e]];if(obj.rows=n,obj.updateTableReferences(),obj.results&&obj.results.length)obj.searchInput.value?obj.search(obj.searchInput.value):obj.closeFilter();else if(obj.results=null,obj.pageNumber=0,obj.options.pagination>0)obj.page(0);else if(1==obj.options.lazyLoading)obj.loadPage(0);else for(e=0;e<obj.rows.length;e++)obj.tbody.appendChild(obj.rows[e])},obj.moveRow=function(l,n,e){if(Object.keys(obj.options.mergeCells).length>0){if(l>n)var t=1;else t=0;if(obj.isRowMerged(l).length||obj.isRowMerged(n,t).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}e||(Array.prototype.indexOf.call(obj.tbody.children,obj.rows[n])>=0?obj.tbody.insertBefore(obj.rows[l],l>n?obj.rows[n]:obj.rows[n].nextSibling):obj.tbody.removeChild(obj.rows[l])),obj.rows.splice(n,0,obj.rows.splice(l,1)[0]),obj.records.splice(n,0,obj.records.splice(l,1)[0]),obj.options.data.splice(n,0,obj.options.data.splice(l,1)[0]),obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.setHistory({action:"moveRow",oldValue:l,newValue:n}),obj.updateTableReferences(),obj.dispatch("onmoverow",el,l,n)},obj.insertRow=function(l,n,e){if(1==obj.options.allowInsertRow){var t=[];if(l>0)var o=l;else o=1,l&&(t=l);e=!!e;var u=obj.options.data.length-1;if((null==n||n>=parseInt(u)||n<0)&&(n=u),!1===obj.dispatch("onbeforeinsertrow",el,n,o,e))return console.log("onbeforeinsertrow returned false"),!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isRowMerged(n,e).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(var r=e?n:n+1,a=obj.records.splice(r),i=obj.options.data.splice(r),s=obj.rows.splice(r),c=[],d=[],p=[],b=r;b<o+r;b++){obj.options.data[b]=[];for(var g=0;g<obj.options.columns.length;g++)obj.options.data[b][g]=t[g]?t[g]:"";var m=obj.createRow(b,obj.options.data[b]);s[0]?Array.prototype.indexOf.call(obj.tbody.children,s[0])>=0&&obj.tbody.insertBefore(m,s[0]):Array.prototype.indexOf.call(obj.tbody.children,obj.rows[n])>=0&&obj.tbody.appendChild(m),c.push(obj.records[b]),d.push(obj.options.data[b]),p.push(m)}Array.prototype.push.apply(obj.records,a),Array.prototype.push.apply(obj.options.data,i),Array.prototype.push.apply(obj.rows,s),obj.options.pagination>0&&obj.page(obj.pageNumber),obj.setHistory({action:"insertRow",rowNumber:n,numOfRows:o,insertBefore:e,rowRecords:c,rowData:d,rowNode:p}),obj.updateTableReferences(),obj.dispatch("oninsertrow",el,n,o,c,e)}},obj.deleteRow=function(l,n){if(1==obj.options.allowDeleteRow)if(1==obj.options.allowDeletingAllRows||obj.options.data.length>1){if(null==l){var e=obj.getSelectedRows();e[0]?(l=parseInt(e[0].getAttribute("data-y")),n=e.length):(l=obj.options.data.length-1,n=1)}var t=obj.options.data.length-1;if((null==l||l>t||l<0)&&(l=t),n||(n=1),l+n>=obj.options.data.length&&(n=obj.options.data.length-l),!1===obj.dispatch("onbeforedeleterow",el,l,n))return console.log("onbeforedeleterow returned false"),!1;if(parseInt(l)>-1){var o=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var u=l;u<l+n;u++)obj.isRowMerged(u,!1).length&&(o=!0);if(o){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}if(1==obj.options.search){if(obj.results&&obj.results.length!=obj.rows.length){if(!confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure))return!1;obj.resetSearch()}obj.results=null}for(0==obj.options.allowDeletingAllRows&&t+1===n&&(n--,console.error("JEXCEL. It is not possible to delete the last row")),u=l;u<l+n;u++)Array.prototype.indexOf.call(obj.tbody.children,obj.rows[u])>=0&&(obj.rows[u].className="",obj.rows[u].parentNode.removeChild(obj.rows[u]));var r=obj.records.splice(l,n),a=obj.options.data.splice(l,n),i=obj.rows.splice(l,n);obj.options.pagination>0&&obj.tbody.children.length!=obj.options.pagination&&obj.page(obj.pageNumber),obj.conditionalSelectionUpdate(1,l,l+n-1),obj.setHistory({action:"deleteRow",rowNumber:l,numOfRows:n,insertBefore:1,rowRecords:r,rowData:a,rowNode:i}),obj.updateTableReferences(),obj.dispatch("ondeleterow",el,l,n,r)}}else console.error("JEXCEL. It is not possible to delete the last row")},obj.moveColumn=function(l,n){if(Object.keys(obj.options.mergeCells).length>0){if(l>n)var e=1;else e=0;if(obj.isColMerged(l).length||obj.isColMerged(n,e).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}}if((l=parseInt(l))>(n=parseInt(n))){obj.headerContainer.insertBefore(obj.headers[l],obj.headers[n]),obj.colgroupContainer.insertBefore(obj.colgroup[l],obj.colgroup[n]);for(var t=0;t<obj.rows.length;t++)obj.rows[t].insertBefore(obj.records[t][l],obj.records[t][n])}else for(obj.headerContainer.insertBefore(obj.headers[l],obj.headers[n].nextSibling),obj.colgroupContainer.insertBefore(obj.colgroup[l],obj.colgroup[n].nextSibling),t=0;t<obj.rows.length;t++)obj.rows[t].insertBefore(obj.records[t][l],obj.records[t][n].nextSibling);for(obj.options.columns.splice(n,0,obj.options.columns.splice(l,1)[0]),obj.headers.splice(n,0,obj.headers.splice(l,1)[0]),obj.colgroup.splice(n,0,obj.colgroup.splice(l,1)[0]),t=0;t<obj.rows.length;t++)obj.options.data[t].splice(n,0,obj.options.data[t].splice(l,1)[0]),obj.records[t].splice(n,0,obj.records[t].splice(l,1)[0]);if(obj.options.footers)for(t=0;t<obj.options.footers.length;t++)obj.options.footers[t].splice(n,0,obj.options.footers[t].splice(l,1)[0]);obj.setHistory({action:"moveColumn",oldValue:l,newValue:n}),obj.updateTableReferences(),obj.dispatch("onmovecolumn",el,l,n)},obj.insertColumn=function(l,n,e,t){if(1==obj.options.allowInsertColumn){var o=[];if(l>0)var u=l;else u=1,l&&(o=l);e=!!e;var r=obj.options.columns.length-1;if((null==n||n>=parseInt(r)||n<0)&&(n=r),!1===obj.dispatch("onbeforeinsertcolumn",el,n,u,e))return console.log("onbeforeinsertcolumn returned false"),!1;if(Object.keys(obj.options.mergeCells).length>0&&obj.isColMerged(n,e).length){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}t||(t=[]);for(var a=0;a<u;a++)t[a]||(t[a]={type:"text",source:[],options:[],width:obj.options.defaultColWidth,align:obj.options.defaultColAlign});var i=e?n:n+1;obj.options.columns=jexcel.injectArray(obj.options.columns,i,t);for(var s=obj.headers.splice(i),c=obj.colgroup.splice(i),d=[],p=[],b=[],g=[],m=[],h=i;h<u+i;h++)obj.createCellHeader(h),obj.headerContainer.insertBefore(obj.headers[h],obj.headerContainer.children[h+1]),obj.colgroupContainer.insertBefore(obj.colgroup[h],obj.colgroupContainer.children[h+1]),d.push(obj.headers[h]),p.push(obj.colgroup[h]);if(obj.options.footers)for(var f=0;f<obj.options.footers.length;f++){for(m[f]=[],a=0;a<u;a++)m[f].push("");obj.options.footers[f].splice(i,0,m[f])}for(var v=0;v<obj.options.data.length;v++){var A=obj.options.data[v].splice(i),C=obj.records[v].splice(i);for(g[v]=[],b[v]=[],h=i;h<u+i;h++){var I=o[v]?o[v]:"";obj.options.data[v][h]=I;var y=obj.createCell(h,v,obj.options.data[v][h]);obj.records[v][h]=y,obj.rows[v]&&obj.rows[v].insertBefore(y,obj.rows[v].children[h+1]),g[v].push(I),b[v].push(y)}Array.prototype.push.apply(obj.options.data[v],A),Array.prototype.push.apply(obj.records[v],C)}if(Array.prototype.push.apply(obj.headers,s),Array.prototype.push.apply(obj.colgroup,c),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(f=0;f<obj.options.nestedHeaders.length;f++){var w=parseInt(obj.options.nestedHeaders[f][obj.options.nestedHeaders[f].length-1].colspan)+u;obj.options.nestedHeaders[f][obj.options.nestedHeaders[f].length-1].colspan=w,obj.thead.children[f].children[obj.thead.children[f].children.length-1].setAttribute("colspan",w);var x=obj.thead.children[f].children[obj.thead.children[f].children.length-1].getAttribute("data-column");for(x=x.split(","),h=i;h<u+i;h++)x.push(h);obj.thead.children[f].children[obj.thead.children[f].children.length-1].setAttribute("data-column",x)}else w=parseInt(obj.options.nestedHeaders[0].colspan)+u,obj.options.nestedHeaders[0].colspan=w,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",w);obj.setHistory({action:"insertColumn",columnNumber:n,numOfColumns:u,insertBefore:e,columns:t,headers:d,colgroup:p,records:b,footers:m,data:g}),obj.updateTableReferences(),obj.dispatch("oninsertcolumn",el,n,u,b,e)}},obj.deleteColumn=function(l,n){if(1==obj.options.allowDeleteColumn)if(obj.headers.length>1){if(null==l){var e=obj.getSelectedColumns(!0);e.length?(l=parseInt(e[0]),n=parseInt(e.length)):(l=obj.headers.length-1,n=1)}var t=obj.options.data[0].length-1;if((null==l||l>t||l<0)&&(l=t),n||(n=1),n>obj.options.data[0].length-l&&(n=obj.options.data[0].length-l),!1===obj.dispatch("onbeforedeletecolumn",el,l,n))return console.log("onbeforedeletecolumn returned false"),!1;if(parseInt(l)>-1){var o=!1;if(Object.keys(obj.options.mergeCells).length>0)for(var u=l;u<l+n;u++)obj.isColMerged(u,!1).length&&(o=!0);if(o){if(!confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure))return!1;obj.destroyMerged()}var r=obj.options.columns.splice(l,n);for(u=l;u<l+n;u++)obj.colgroup[u].className="",obj.headers[u].className="",obj.colgroup[u].parentNode.removeChild(obj.colgroup[u]),obj.headers[u].parentNode.removeChild(obj.headers[u]);for(var a=obj.headers.splice(l,n),i=obj.colgroup.splice(l,n),s=[],c=[],d=[],p=0;p<obj.options.data.length;p++)for(u=l;u<l+n;u++)obj.records[p][u].className="",obj.records[p][u].parentNode.removeChild(obj.records[p][u]);for(p=0;p<obj.options.data.length;p++)c[p]=obj.options.data[p].splice(l,n),s[p]=obj.records[p].splice(l,n);if(obj.options.footers)for(p=0;p<obj.options.footers.length;p++)d[p]=obj.options.footers[p].splice(l,n);if(obj.conditionalSelectionUpdate(0,l,l+n-1),obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(var b=0;b<obj.options.nestedHeaders.length;b++){var g=parseInt(obj.options.nestedHeaders[b][obj.options.nestedHeaders[b].length-1].colspan)-n;obj.options.nestedHeaders[b][obj.options.nestedHeaders[b].length-1].colspan=g,obj.thead.children[b].children[obj.thead.children[b].children.length-1].setAttribute("colspan",g)}else g=parseInt(obj.options.nestedHeaders[0].colspan)-n,obj.options.nestedHeaders[0].colspan=g,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",g);obj.setHistory({action:"deleteColumn",columnNumber:l,numOfColumns:n,insertBefore:1,columns:r,headers:a,colgroup:i,records:s,footers:d,data:c}),obj.updateTableReferences(),obj.dispatch("ondeletecolumn",el,l,n,s)}}else console.error("JEXCEL. It is not possible to delete the last column")},obj.getSelectedRows=function(l){for(var n=[],e=0;e<obj.rows.length;e++)obj.rows[e].classList.contains("selected")&&n.push(l?e:obj.rows[e]);return n},obj.getSelectedColumns=function(){for(var l=[],n=0;n<obj.headers.length;n++)obj.headers[n].classList.contains("selected")&&l.push(n);return l},obj.getHighlighted=function(){return obj.highlighted},obj.updateTableReferences=function(){for(var l=0;l<obj.headers.length;l++)(u=obj.headers[l].getAttribute("data-x"))!=l&&(obj.headers[l].setAttribute("data-x",l),obj.headers[l].getAttribute("title")||(obj.headers[l].innerHTML=jexcel.getColumnName(l)));for(var n=0;n<obj.rows.length;n++)obj.rows[n]&&(r=obj.rows[n].getAttribute("data-y"))!=n&&(obj.rows[n].setAttribute("data-y",n),obj.rows[n].children[0].setAttribute("data-y",n),obj.rows[n].children[0].innerHTML=n+1);var e=[],t=[],o=function(l,n,t,o){if(l!=t&&obj.records[o][t].setAttribute("data-x",t),n!=o&&obj.records[o][t].setAttribute("data-y",o),l!=t||n!=o){var u=jexcel.getColumnNameFromId([l,n]),r=jexcel.getColumnNameFromId([t,o]);e[u]=r}};for(n=0;n<obj.records.length;n++)for(l=0;l<obj.records[0].length;l++)if(obj.records[n][l]){var u=obj.records[n][l].getAttribute("data-x"),r=obj.records[n][l].getAttribute("data-y");if(obj.records[n][l].getAttribute("data-merged")){var a=jexcel.getColumnNameFromId([u,r]),i=jexcel.getColumnNameFromId([l,n]);if(null==t[a])if(a==i)t[a]=!1;else{var s=parseInt(l-u),c=parseInt(n-r);t[a]=[i,s,c]}}else o(u,r,l,n)}var d=Object.keys(t);if(d.length)for(l=0;l<d.length;l++)if(t[d[l]]){var p=jexcel.getIdFromColumnName(d[l],!0);for(o(u=p[0],r=p[1],u+t[d[l]][1],r+t[d[l]][2]),a=d[l],i=t[d[l]][0],n=0;n<obj.options.mergeCells[a][2].length;n++)u=parseInt(obj.options.mergeCells[a][2][n].getAttribute("data-x")),r=parseInt(obj.options.mergeCells[a][2][n].getAttribute("data-y")),obj.options.mergeCells[a][2][n].setAttribute("data-x",u+t[d[l]][1]),obj.options.mergeCells[a][2][n].setAttribute("data-y",r+t[d[l]][2]);obj.options.mergeCells[i]=obj.options.mergeCells[a],delete obj.options.mergeCells[a]}obj.updateFormulas(e),obj.updateMeta(e),obj.refreshSelection(),obj.updateTable()},obj.updateTable=function(){if(obj.options.minSpareRows>0){for(var l=0,n=obj.rows.length-1;n>=0;n--){for(var e=!1,t=0;t<obj.headers.length;t++)obj.options.data[n][t]&&(e=!0);if(e)break;l++}obj.options.minSpareRows-l>0&&obj.insertRow(obj.options.minSpareRows-l)}if(obj.options.minSpareCols>0){var o=0;for(t=obj.headers.length-1;t>=0;t--){for(e=!1,n=0;n<obj.rows.length;n++)obj.options.data[n][t]&&(e=!0);if(e)break;o++}obj.options.minSpareCols-o>0&&obj.insertColumn(obj.options.minSpareCols-o)}if("function"==typeof obj.options.updateTable){for(obj.options.detachForUpdates&&el.removeChild(obj.content),n=0;n<obj.rows.length;n++)for(t=0;t<obj.headers.length;t++)obj.options.updateTable(el,obj.records[n][t],t,n,obj.options.data[n][t],obj.records[n][t].innerText,jexcel.getColumnNameFromId([t,n]));obj.options.detachForUpdates&&el.insertBefore(obj.content,obj.pagination)}obj.options.footers&&obj.setFooter(),setTimeout(function(){obj.updateCornerPosition()},0)},obj.isReadOnly=function(l){if(l=obj.getCell(l))return!!l.classList.contains("readonly")},obj.setReadOnly=function(l,n){(l=obj.getCell(l))&&(n?l.classList.add("readonly"):l.classList.remove("readonly"))},obj.showRow=function(l){obj.rows[l].style.display=""},obj.hideRow=function(l){obj.rows[l].style.display="none"},obj.showColumn=function(l){obj.headers[l].style.display="",obj.colgroup[l].style.display="";for(var n=0;n<obj.options.data.length;n++)obj.records[n][l].style.display=""},obj.hideColumn=function(l){obj.headers[l].style.display="none",obj.colgroup[l].style.display="none";for(var n=0;n<obj.options.data.length;n++)obj.records[n][l].style.display="none"},obj.showIndex=function(){obj.table.classList.remove("jexcel_hidden_index")},obj.hideIndex=function(){obj.table.classList.add("jexcel_hidden_index")};var chainLoopProtection=[];obj.updateFormulaChain=function(l,n,e){var t=jexcel.getColumnNameFromId([l,n]);if(obj.formula[t]&&obj.formula[t].length>0)if(chainLoopProtection[t])obj.records[n][l].innerHTML="#ERROR",obj.formula[t]="";else{chainLoopProtection[t]=!0;for(var o=0;o<obj.formula[t].length;o++){var u=jexcel.getIdFromColumnName(obj.formula[t][o],!0),r=""+obj.options.data[u[1]][u[0]];"="==r.substr(0,1)?e.push(obj.updateCell(u[0],u[1],r,!0)):Object.keys(obj.formula)[o]=null,obj.updateFormulaChain(u[0],u[1],e)}}chainLoopProtection=[]},obj.updateFormulas=function(l){for(var n=0;n<obj.options.data.length;n++)for(var e=0;e<obj.options.data[0].length;e++)if("="==(a=""+obj.options.data[n][e]).substr(0,1)){var t=obj.updateFormula(a,l);t!=a&&(obj.options.data[n][e]=t)}var o=[],u=Object.keys(obj.formula);for(n=0;n<u.length;n++){var r=u[n],a=obj.formula[r];for(l[r]&&(r=l[r]),o[r]=[],e=0;e<a.length;e++){var i=a[e];l[i]&&(i=l[i]),o[r].push(i)}}obj.formula=o},obj.updateFormula=function(l,n){for(var e=/[A-Z]/,t=/[0-9]/,o="",u=null,r=null,a="",i=0;i<l.length;i++)e.exec(l[i])?(u=1,r=0,a+=l[i]):t.exec(l[i])?(r=u?1:0,a+=l[i]):(u&&r&&(a=n[a]?n[a]:a),o+=a,o+=l[i],u=0,r=0,a="");return a&&(u&&r&&(a=n[a]?n[a]:a),o+=a),o};var secureFormula=function(l){for(var n="",e=0,t=0;t<l.length;t++)'"'==l[t]&&(e=0==e?1:0),n+=1==e?l[t]:l[t].toUpperCase();return n};obj.executeFormula=function(expression,x,y){var formulaResults=[],formulaLoopProtection=[],execute=function(expression,x,y){var parentId=jexcel.getColumnNameFromId([x,y]);if(formulaLoopProtection[parentId])return console.error("Reference loop detected"),"#ERROR";formulaLoopProtection[parentId]=!0;var tokensUpdate=function(l){for(var n=0;n<l.length;n++){var e=[],t=l[n].split(":"),o=jexcel.getIdFromColumnName(t[0],!0),u=jexcel.getIdFromColumnName(t[1],!0);if(o[0]<=u[0])var r=o[0],a=u[0];else r=u[0],a=o[0];if(o[1]<=u[1])var i=o[1],s=u[1];else i=u[1],s=o[1];for(var c=i;c<=s;c++)for(var d=r;d<=a;d++)e.push(jexcel.getColumnNameFromId([d,c]));expression=expression.replace(l[n],e.join(","))}};expression=expression.replace(/\$?([A-Z]+)\$?([0-9]+)/g,"$1$2");var tokens=expression.match(/([A-Z]+[0-9]+)\:([A-Z]+[0-9]+)/g);tokens&&tokens.length&&tokensUpdate(tokens);var evalstring="",tokens=expression.match(/([A-Z]+[0-9]+)/g);if(tokens&&tokens.indexOf(parentId)>-1)return console.error("Self Reference detected"),"#ERROR";if(tokens)for(var i=0;i<tokens.length;i++)if(obj.formula[tokens[i]]||(obj.formula[tokens[i]]=[]),obj.formula[tokens[i]].indexOf(parentId)<0&&obj.formula[tokens[i]].push(parentId),eval("typeof("+tokens[i]+') == "undefined"')){var position=jexcel.getIdFromColumnName(tokens[i],1);if(void 0!==obj.options.data[position[1]]&&void 0!==obj.options.data[position[1]][position[0]])var value=obj.options.data[position[1]][position[0]];else var value="";if("="==(""+value).substr(0,1)&&(formulaResults[tokens[i]]?value=formulaResults[tokens[i]]:(value=execute(value,position[0],position[1]),formulaResults[tokens[i]]=value)),""==(""+value).trim())evalstring+="var "+tokens[i]+" = null;";else if(value==Number(value)&&1==obj.options.autoCasting)evalstring+="var "+tokens[i]+" = "+Number(value)+";";else{var number=obj.parseNumber(value,position[0]);evalstring+=1==obj.options.autoCasting&&number?"var "+tokens[i]+" = "+number+";":"var "+tokens[i]+" = '"+value+"';"}}try{evalstring+="function COLUMN() { return parseInt(x) + 1; }; function ROW() { return parseInt(y) + 1; }; function CELL() { return parentId; }; function TABLE() { return obj; }; function VALUE(col, row) { return obj.records[row-1][col-1].innerHTML; }; function THISROWCELL(col) { var id = jexcel.getIdFromColumnName(col+(parseInt(y)+1), true); return obj.records[id[1]][id[0]].innerHTML; }";var res=eval(evalstring+expression.substr(1))}catch(e){var res="#ERROR"}return res};return execute(expression,x,y)},obj.parseNumber=function(l,n){var e=""+l;return(e=e.split(n&&obj.options.columns[n].decimal?obj.options.columns[n].decimal:"."))[0]=e[0].match(/[+-]?[0-9]/g),e[0]&&(e[0]=e[0].join("")),e[1]&&(e[1]=e[1].match(/[0-9]*/g).join("")),l=e[0]&&Number(e[0])>=0?e[1]?Number(e[0]+"."+e[1]):Number(e[0]+".00"):null},obj.row=function(l){},obj.col=function(l){},obj.up=function(l,n){if(l?obj.selectedCell[3]>0&&obj.up.visible(1,n?0:1):(obj.selectedCell[1]>0&&obj.up.visible(0,n?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)if(0==obj.selectedCell[1]||0==obj.selectedCell[3])obj.loadPage(0),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else if(obj.loadValidation())obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]);else{var e=parseInt(obj.tbody.firstChild.getAttribute("data-y"));obj.selectedCell[1]-e<30&&(obj.loadUp(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]))}else if(obj.options.pagination>0){var t=obj.whichPage(obj.selectedCell[3]);t!=obj.pageNumber&&obj.page(t)}obj.updateScroll(1)},obj.up.visible=function(l,n){if(0==l)var e=parseInt(obj.selectedCell[0]),t=parseInt(obj.selectedCell[1]);else e=parseInt(obj.selectedCell[2]),t=parseInt(obj.selectedCell[3]);if(0==n){for(var o=0;o<t;o++)if("none"!=obj.records[o][e].style.display&&"none"!=obj.rows[o].style.display){t=o;break}}else t=obj.up.get(e,t);0==l?(obj.selectedCell[0]=e,obj.selectedCell[1]=t):(obj.selectedCell[2]=e,obj.selectedCell[3]=t)},obj.up.get=function(l,n){l=parseInt(l);for(var e=(n=parseInt(n))-1;e>=0;e--)if("none"!=obj.records[e][l].style.display&&"none"!=obj.rows[e].style.display){if(obj.records[e][l].getAttribute("data-merged")&&obj.records[e][l]==obj.records[n][l])continue;n=e;break}return n},obj.down=function(l,n){if(l?obj.selectedCell[3]<obj.records.length-1&&obj.down.visible(1,n?0:1):(obj.selectedCell[1]<obj.records.length-1&&obj.down.visible(0,n?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),1==obj.options.lazyLoading)obj.selectedCell[1]==obj.records.length-1||obj.selectedCell[3]==obj.records.length-1?(obj.loadPage(-1),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])):obj.loadValidation()?obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]):parseInt(obj.tbody.lastChild.getAttribute("data-y"))-obj.selectedCell[3]<30&&(obj.loadDown(),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]));else if(obj.options.pagination>0){var e=obj.whichPage(obj.selectedCell[3]);e!=obj.pageNumber&&obj.page(e)}obj.updateScroll(3)},obj.down.visible=function(l,n){if(0==l)var e=parseInt(obj.selectedCell[0]),t=parseInt(obj.selectedCell[1]);else e=parseInt(obj.selectedCell[2]),t=parseInt(obj.selectedCell[3]);if(0==n){for(var o=obj.rows.length-1;o>t;o--)if("none"!=obj.records[o][e].style.display&&"none"!=obj.rows[o].style.display){t=o;break}}else t=obj.down.get(e,t);0==l?(obj.selectedCell[0]=e,obj.selectedCell[1]=t):(obj.selectedCell[2]=e,obj.selectedCell[3]=t)},obj.down.get=function(l,n){l=parseInt(l);for(var e=(n=parseInt(n))+1;e<obj.rows.length;e++)if("none"!=obj.records[e][l].style.display&&"none"!=obj.rows[e].style.display){if(obj.records[e][l].getAttribute("data-merged")&&obj.records[e][l]==obj.records[n][l])continue;n=e;break}return n},obj.right=function(l,n){l?obj.selectedCell[2]<obj.headers.length-1&&obj.right.visible(1,n?0:1):(obj.selectedCell[0]<obj.headers.length-1&&obj.right.visible(0,n?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(2)},obj.right.visible=function(l,n){if(0==l)var e=parseInt(obj.selectedCell[0]),t=parseInt(obj.selectedCell[1]);else e=parseInt(obj.selectedCell[2]),t=parseInt(obj.selectedCell[3]);if(0==n){for(var o=obj.headers.length-1;o>e;o--)if("none"!=obj.records[t][o].style.display){e=o;break}}else e=obj.right.get(e,t);0==l?(obj.selectedCell[0]=e,obj.selectedCell[1]=t):(obj.selectedCell[2]=e,obj.selectedCell[3]=t)},obj.right.get=function(l,n){l=parseInt(l),n=parseInt(n);for(var e=l+1;e<obj.headers.length;e++)if("none"!=obj.records[n][e].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[n][l])continue;l=e;break}return l},obj.left=function(l,n){l?obj.selectedCell[2]>0&&obj.left.visible(1,n?0:1):(obj.selectedCell[0]>0&&obj.left.visible(0,n?0:1),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(0)},obj.left.visible=function(l,n){if(0==l)var e=parseInt(obj.selectedCell[0]),t=parseInt(obj.selectedCell[1]);else e=parseInt(obj.selectedCell[2]),t=parseInt(obj.selectedCell[3]);if(0==n){for(var o=0;o<e;o++)if("none"!=obj.records[t][o].style.display){e=o;break}}else e=obj.left.get(e,t);0==l?(obj.selectedCell[0]=e,obj.selectedCell[1]=t):(obj.selectedCell[2]=e,obj.selectedCell[3]=t)},obj.left.get=function(l,n){l=parseInt(l),n=parseInt(n);for(var e=l-1;e>=0;e--)if("none"!=obj.records[n][e].style.display){if(obj.records[n][e].getAttribute("data-merged")&&obj.records[n][e]==obj.records[n][l])continue;l=e;break}return l},obj.first=function(l,n){if(l?n?obj.selectedCell[3]=0:obj.left.visible(1,0):(n?obj.selectedCell[1]=0:obj.left.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||0!=obj.selectedCell[1]&&0!=obj.selectedCell[3]){if(obj.options.pagination>0){var e=obj.whichPage(obj.selectedCell[3]);e!=obj.pageNumber&&obj.page(e)}}else obj.loadPage(0);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(1)},obj.last=function(l,n){if(l?n?obj.selectedCell[3]=obj.records.length-1:obj.right.visible(1,0):(n?obj.selectedCell[1]=obj.records.length-1:obj.right.visible(0,0),obj.selectedCell[2]=obj.selectedCell[0],obj.selectedCell[3]=obj.selectedCell[1]),1!=obj.options.lazyLoading||obj.selectedCell[1]!=obj.records.length-1&&obj.selectedCell[3]!=obj.records.length-1){if(obj.options.pagination>0){var e=obj.whichPage(obj.selectedCell[3]);e!=obj.pageNumber&&obj.page(e)}}else obj.loadPage(-1);obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3]),obj.updateScroll(3)},obj.selectAll=function(){obj.selectedCell||(obj.selectedCell=[]),obj.selectedCell[0]=0,obj.selectedCell[1]=0,obj.selectedCell[2]=obj.headers.length-1,obj.selectedCell[3]=obj.records.length-1,obj.updateSelectionFromCoords(obj.selectedCell[0],obj.selectedCell[1],obj.selectedCell[2],obj.selectedCell[3])},obj.loadPage=function(l){if(1==obj.options.search&&obj.results)var n=obj.results;else n=obj.rows;null!=l&&-1!=l||(l=Math.ceil(n.length/100)-1);var e=100*l,t=100*l+100;t>n.length&&(t=n.length),(e=t-100)<0&&(e=0);for(var o=e;o<t;o++)obj.tbody.appendChild(1==obj.options.search&&obj.results?obj.rows[n[o]]:obj.rows[o]),obj.tbody.children.length>100&&obj.tbody.removeChild(obj.tbody.firstChild)},obj.loadUp=function(){if(1==obj.options.search&&obj.results)var l=obj.results;else l=obj.rows;var n=0;if(l.length>100){var e=parseInt(obj.tbody.firstChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(e=l.indexOf(e)),e>0)for(var t=0;t<30;t++)(e-=1)>-1&&(obj.tbody.insertBefore(1==obj.options.search&&obj.results?obj.rows[l[e]]:obj.rows[e],obj.tbody.firstChild),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.lastChild),n=1))}return n},obj.loadDown=function(){if(1==obj.options.search&&obj.results)var l=obj.results;else l=obj.rows;var n=0;if(l.length>100){var e=parseInt(obj.tbody.lastChild.getAttribute("data-y"));if(1==obj.options.search&&obj.results&&(e=l.indexOf(e)),e<obj.rows.length-1)for(var t=0;t<=30;t++)e<l.length&&(obj.tbody.appendChild(1==obj.options.search&&obj.results?obj.rows[l[e]]:obj.rows[e]),obj.tbody.children.length>100&&(obj.tbody.removeChild(obj.tbody.firstChild),n=1)),e+=1}return n},obj.loadValidation=function(){if(obj.selectedCell){var l=parseInt(obj.tbody.firstChild.getAttribute("data-y"))/100,n=parseInt(obj.selectedCell[3]/100),e=parseInt(obj.rows.length/100);if(l!=n&&n<=e&&!Array.prototype.indexOf.call(obj.tbody.children,obj.rows[obj.selectedCell[3]]))return obj.loadPage(n),!0}return!1},obj.resetSearch=function(){obj.searchInput.value="",obj.search(""),obj.results=null},obj.search=function(l){if(l&&(l=l.toLowerCase()),obj.options.filters&&obj.resetFilters(),obj.resetSelection(),obj.pageNumber=0,obj.results=[],l){var n=function(l){-1==obj.results.indexOf(l)&&obj.results.push(l)};obj.options.data.filter(function(e,t){if(function(l,n,e){for(var t=0;t<l.length;t++)if((""+l[t]).toLowerCase().search(n)>=0||(""+obj.records[e][t].innerHTML).toLowerCase().search(n)>=0)return!0;return!1}(e,l,t)){var o=obj.isRowMerged(t);if(o.length)for(var u=0;u<o.length;u++)for(var r=jexcel.getIdFromColumnName(o[u],!0),a=0;a<obj.options.mergeCells[o[u]][1];a++)n(r[1]+a);else n(t);return!0}return!1})}else obj.results=null;return obj.updateResult()},obj.updateResult=function(){var l,n=0;for(l=1==obj.options.lazyLoading?100:obj.options.pagination>0?obj.options.pagination:obj.results?obj.results.length:obj.rows.length;obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var e=0;e<obj.rows.length;e++)!obj.results||obj.results.indexOf(e)>-1?(n<l&&(obj.tbody.appendChild(obj.rows[e]),n++),obj.rows[e].style.display=""):obj.rows[e].style.display="none";return obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),l},obj.whichPage=function(l){return 1==obj.options.search&&obj.results&&(l=obj.results.indexOf(l)),Math.ceil((parseInt(l)+1)/parseInt(obj.options.pagination))-1},obj.page=function(l){var n=obj.pageNumber;if(1==obj.options.search&&obj.results)var e=obj.results;else e=obj.rows;var t=parseInt(obj.options.pagination);null!=l&&-1!=l||(l=Math.ceil(e.length/t)-1),obj.pageNumber=l;var o=l*t,u=l*t+t;for(u>e.length&&(u=e.length),o<0&&(o=0);obj.tbody.firstChild;)obj.tbody.removeChild(obj.tbody.firstChild);for(var r=o;r<u;r++)obj.tbody.appendChild(1==obj.options.search&&obj.results?obj.rows[e[r]]:obj.rows[r]);obj.options.pagination>0&&obj.updatePagination(),obj.updateCornerPosition(),obj.dispatch("onchangepage",el,l,n)},obj.updatePagination=function(){if(obj.pagination.children[0].innerHTML="",obj.pagination.children[1].innerHTML="",obj.options.pagination){if(1==obj.options.search&&obj.results)var l=obj.results.length;else l=obj.rows.length;if(l){var n=Math.ceil(l/obj.options.pagination);if(obj.pageNumber<6)var e=1,t=n<10?n:10;else n-obj.pageNumber<5?(t=n,(e=n-9)<1&&(e=1)):(e=obj.pageNumber-4,t=obj.pageNumber+5);e>1&&((u=document.createElement("div")).className="jexcel_page",u.innerHTML="<",u.title=1,obj.pagination.children[1].appendChild(u));for(var o=e;o<=t;o++){var u;(u=document.createElement("div")).className="jexcel_page",u.innerHTML=o,obj.pagination.children[1].appendChild(u),obj.pageNumber==o-1&&u.classList.add("jexcel_page_selected")}t<n&&((u=document.createElement("div")).className="jexcel_page",u.innerHTML=">",u.title=n,obj.pagination.children[1].appendChild(u)),obj.pagination.children[0].innerHTML=function(l){var n=Array.prototype.slice.call(arguments,1);return l.replace(/{(\d+)}/g,function(l,e){return void 0!==n[e]?n[e]:l})}(obj.options.text.showingPage,obj.pageNumber+1,n)}else obj.pagination.children[0].innerHTML=obj.options.text.noRecordsFound}},obj.download=function(l){if(0==obj.options.allowExport)console.error("Export not allowed");else{var n="";1!=l&&1!=obj.options.includeHeadersOnDownload||(n+=obj.getHeaders().replace(/\s+/gm," "),n+="\r\n"),n+=obj.copy(!1,obj.options.csvDelimiter,!0);var e=new Blob(["\ufeff"+n],{type:"text/csv;charset=utf-8;"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,obj.options.csvFileName+".csv");else{var t=document.createElement("a"),o=URL.createObjectURL(e);t.href=o,t.setAttribute("download",obj.options.csvFileName+".csv"),document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)}}},obj.setHistory=function(l){if(1!=obj.ignoreHistory){var n=++obj.historyIndex;obj.history=obj.history=obj.history.slice(0,n+1),obj.history[n]=l}},obj.copy=function(l,n,e){n||(n="\t");var t=[],o=[],u=[],r=[],a=[],i=obj.options.data[0].length,s=obj.options.data.length,c="",d=obj.options.includeHeadersOnCopy;obj.style=[];for(var p=0;p<s;p++){o=[],u=[];for(var b=0;b<i;b++)if(!l||obj.records[p][b].classList.contains("highlight")){1==d&&t.push(obj.headers[b].innerText);var g=obj.options.data[p][b];if(g.match&&(g.match(/,/g)||g.match(/\n/)||g.match(/\"/))&&(g='"'+(g=g.replace(new RegExp('"',"g"),'""'))+'"'),o.push(g),"checkbox"==obj.options.columns[b].type||"radio"==obj.options.columns[b].type)var m=g;else(m=1==obj.options.stripHTMLOnCopy?obj.records[p][b].innerText:obj.records[p][b].innerHTML).match&&(m.match(/,/g)||m.match(/\n/)||m.match(/\"/))&&(m='"'+(m=m.replace(new RegExp('"',"g"),'""'))+'"');u.push(m),c=(c=obj.records[p][b].getAttribute("style")).replace("display: none;",""),obj.style.push(c||"")}o.length&&(d&&r.push(t.join(n)),r.push(o.join(n))),u.length&&(d&&a.push(t.join(n)),a.push(u.join(n))),d=!1}var h=r.join("\r\n"),f=a.join("\r\n");if(e||(obj.textarea.value=1==obj.options.copyCompatibility?f:h,obj.textarea.select(),document.execCommand("copy")),obj.data=1==obj.options.copyCompatibility?f:h,obj.hashString=obj.hash(obj.data),obj.removeCopyingSelection(),obj.highlighted)for(b=0;b<obj.highlighted.length;b++)obj.highlighted[b].classList.add("copying"),obj.highlighted[b].classList.contains("highlight-left")&&obj.highlighted[b].classList.add("copying-left"),obj.highlighted[b].classList.contains("highlight-right")&&obj.highlighted[b].classList.add("copying-right"),obj.highlighted[b].classList.contains("highlight-top")&&obj.highlighted[b].classList.add("copying-top"),obj.highlighted[b].classList.contains("highlight-bottom")&&obj.highlighted[b].classList.add("copying-bottom");return obj.dispatch("oncopy",el,1==obj.options.copyCompatibility?a:r,obj.hashString),obj.data},obj.paste=function(l,n,e){var t=obj.dispatch("onbeforepaste",el,e,l,n);if(!1===t)return!1;t&&(e=t);var o=obj.hash(e),u=o==obj.hashString?obj.style:null;if(1==obj.options.copyCompatibility&&o==obj.hashString&&(e=obj.data),e=obj.parseCSV(e,"\t"),null!=l&&null!=n&&e){for(var r=0,a=0,i=[],s={},c={},d=0,p=parseInt(l),b=parseInt(n),g=null;g=e[a];){for(r=0,p=parseInt(l);null!=g[r];){var m=obj.updateCell(p,b,g[r]);if(i.push(m),obj.updateFormulaChain(p,b,i),u&&u[d]){var h=jexcel.getColumnNameFromId([p,b]);s[h]=u[d],c[h]=obj.getStyle(h),obj.records[b][p].setAttribute("style",u[d]),d++}null!=g[++r]&&(p>=obj.headers.length-1&&obj.insertColumn(),p=obj.right.get(p,b))}e[++a]&&(b>=obj.rows.length-1&&obj.insertRow(),b=obj.down.get(l,b))}obj.updateSelectionFromCoords(l,n,p,b),obj.setHistory({action:"setValue",records:i,selection:obj.selectedCell,newStyle:s,oldStyle:c}),obj.updateTable(),obj.dispatch("onpaste",el,e),obj.onafterchanges(el,i)}obj.removeCopyingSelection()},obj.removeCopyingSelection=function(){for(var l=document.querySelectorAll(".jexcel .copying"),n=0;n<l.length;n++)l[n].classList.remove("copying"),l[n].classList.remove("copying-left"),l[n].classList.remove("copying-right"),l[n].classList.remove("copying-top"),l[n].classList.remove("copying-bottom")},obj.historyProcessRow=function(l,n){var e=n.insertBefore?n.rowNumber:n.rowNumber+1;if(1==obj.options.search&&obj.results&&obj.results.length!=obj.rows.length&&obj.resetSearch(),1==l){for(var t=n.numOfRows,o=e;o<t+e;o++)obj.rows[o].parentNode.removeChild(obj.rows[o]);obj.records.splice(e,t),obj.options.data.splice(e,t),obj.rows.splice(e,t),obj.conditionalSelectionUpdate(1,e,t+e-1)}else{obj.records=jexcel.injectArray(obj.records,e,n.rowRecords),obj.options.data=jexcel.injectArray(obj.options.data,e,n.rowData),obj.rows=jexcel.injectArray(obj.rows,e,n.rowNode);var u=0;for(o=e;o<n.numOfRows+e;o++)obj.tbody.insertBefore(n.rowNode[u],obj.tbody.children[o]),u++}obj.options.pagination>0&&obj.page(obj.pageNumber),obj.updateTableReferences()},obj.historyProcessColumn=function(l,n){var e=n.insertBefore?n.columnNumber:n.columnNumber+1;if(1==l){var t=n.numOfColumns;obj.options.columns.splice(e,t);for(var o=e;o<t+e;o++)obj.headers[o].parentNode.removeChild(obj.headers[o]),obj.colgroup[o].parentNode.removeChild(obj.colgroup[o]);obj.headers.splice(e,t),obj.colgroup.splice(e,t);for(var u=0;u<n.data.length;u++){for(o=e;o<t+e;o++)obj.records[u][o].parentNode.removeChild(obj.records[u][o]);obj.records[u].splice(e,t),obj.options.data[u].splice(e,t)}if(obj.options.footers)for(u=0;u<obj.options.footers.length;u++)obj.options.footers[u].splice(e,t)}else{obj.options.columns=jexcel.injectArray(obj.options.columns,e,n.columns),obj.headers=jexcel.injectArray(obj.headers,e,n.headers),obj.colgroup=jexcel.injectArray(obj.colgroup,e,n.colgroup);var r=0;for(o=e;o<n.numOfColumns+e;o++)obj.headerContainer.insertBefore(n.headers[r],obj.headerContainer.children[o+1]),obj.colgroupContainer.insertBefore(n.colgroup[r],obj.colgroupContainer.children[o+1]),r++;for(u=0;u<n.data.length;u++)for(obj.options.data[u]=jexcel.injectArray(obj.options.data[u],e,n.data[u]),obj.records[u]=jexcel.injectArray(obj.records[u],e,n.records[u]),r=0,o=e;o<n.numOfColumns+e;o++)obj.rows[u].insertBefore(n.records[u][r],obj.rows[u].children[o+1]),r++;if(obj.options.footers)for(u=0;u<obj.options.footers.length;u++)obj.options.footers[u]=jexcel.injectArray(obj.options.footers[u],e,n.footers[u])}if(obj.options.nestedHeaders&&obj.options.nestedHeaders.length>0)if(obj.options.nestedHeaders[0]&&obj.options.nestedHeaders[0][0])for(u=0;u<obj.options.nestedHeaders.length;u++){if(1==l)var a=parseInt(obj.options.nestedHeaders[u][obj.options.nestedHeaders[u].length-1].colspan)-n.numOfColumns;else a=parseInt(obj.options.nestedHeaders[u][obj.options.nestedHeaders[u].length-1].colspan)+n.numOfColumns;obj.options.nestedHeaders[u][obj.options.nestedHeaders[u].length-1].colspan=a,obj.thead.children[u].children[obj.thead.children[u].children.length-1].setAttribute("colspan",a)}else a=1==l?parseInt(obj.options.nestedHeaders[0].colspan)-n.numOfColumns:parseInt(obj.options.nestedHeaders[0].colspan)+n.numOfColumns,obj.options.nestedHeaders[0].colspan=a,obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute("colspan",a);obj.updateTableReferences()},obj.undo=function(){var l=!!obj.ignoreEvents,n=!!obj.ignoreHistory;obj.ignoreEvents=!0,obj.ignoreHistory=!0;var e=[];if(obj.historyIndex>=0){var t=obj.history[obj.historyIndex--];if("insertRow"==t.action)obj.historyProcessRow(1,t);else if("deleteRow"==t.action)obj.historyProcessRow(0,t);else if("insertColumn"==t.action)obj.historyProcessColumn(1,t);else if("deleteColumn"==t.action)obj.historyProcessColumn(0,t);else if("moveRow"==t.action)obj.moveRow(t.newValue,t.oldValue);else if("moveColumn"==t.action)obj.moveColumn(t.newValue,t.oldValue);else if("setMerge"==t.action)obj.removeMerge(t.column,t.data);else if("setStyle"==t.action)obj.setStyle(t.oldValue,null,null,1);else if("setWidth"==t.action)obj.setWidth(t.column,t.oldValue);else if("setHeight"==t.action)obj.setHeight(t.row,t.oldValue);else if("setHeader"==t.action)obj.setHeader(t.column,t.oldValue);else if("setComments"==t.action)obj.setComments(t.column,t.oldValue[0],t.oldValue[1]);else if("orderBy"==t.action){for(var o=[],u=0;u<t.rows.length;u++)o[t.rows[u]]=u;obj.updateOrderArrow(t.column,t.order?0:1),obj.updateOrder(o)}else if("setValue"==t.action){for(var r=0;r<t.records.length;r++)e.push({x:t.records[r].x,y:t.records[r].y,newValue:t.records[r].oldValue}),t.oldStyle&&obj.resetStyle(t.oldStyle);obj.setValue(e),t.selection&&obj.updateSelectionFromCoords(t.selection[0],t.selection[1],t.selection[2],t.selection[3])}}obj.ignoreEvents=l,obj.ignoreHistory=n,obj.dispatch("onundo",el,t)},obj.redo=function(){var l=!!obj.ignoreEvents,n=!!obj.ignoreHistory;if(obj.ignoreEvents=!0,obj.ignoreHistory=!0,obj.historyIndex<obj.history.length-1){var e=obj.history[++obj.historyIndex];if("insertRow"==e.action)obj.historyProcessRow(0,e);else if("deleteRow"==e.action)obj.historyProcessRow(1,e);else if("insertColumn"==e.action)obj.historyProcessColumn(0,e);else if("deleteColumn"==e.action)obj.historyProcessColumn(1,e);else if("moveRow"==e.action)obj.moveRow(e.oldValue,e.newValue);else if("moveColumn"==e.action)obj.moveColumn(e.oldValue,e.newValue);else if("setMerge"==e.action)obj.setMerge(e.column,e.colspan,e.rowspan,1);else if("setStyle"==e.action)obj.setStyle(e.newValue,null,null,1);else if("setWidth"==e.action)obj.setWidth(e.column,e.newValue);else if("setHeight"==e.action)obj.setHeight(e.row,e.newValue);else if("setHeader"==e.action)obj.setHeader(e.column,e.newValue);else if("setComments"==e.action)obj.setComments(e.column,e.newValue[0],e.newValue[1]);else if("orderBy"==e.action)obj.updateOrderArrow(e.column,e.order),obj.updateOrder(e.rows);else if("setValue"==e.action){obj.setValue(e.records);for(var t=0;t<e.records.length;t++)e.oldStyle&&obj.resetStyle(e.newStyle);e.selection&&obj.updateSelectionFromCoords(e.selection[0],e.selection[1],e.selection[2],e.selection[3])}}obj.ignoreEvents=l,obj.ignoreHistory=n,obj.dispatch("onredo",el,e)},obj.getDropDownValue=function(l,n){var e=[];if(obj.options.columns[l]&&obj.options.columns[l].source){for(var t=[],o=obj.options.columns[l].source,u=0;u<o.length;u++)"object"==typeof o[u]?t[o[u].id]=o[u].name:t[o[u]]=o[u];var r=Array.isArray(n)?n:(""+n).split(";");for(u=0;u<r.length;u++)"object"==typeof r[u]?e.push(t[r[u].id]):t[r[u]]&&e.push(t[r[u]])}else console.error("Invalid column");return e.length>0?e.join("; "):""},obj.parseCSV=function(l,n){9==(l=l.replace(/\r?\n$|\r$|\n$/g,"")).charCodeAt(l.length-1)&&(l+="\0"),n=n||",";for(var e=[],t=!1,o=0,u=0,r=0;r<l.length;r++){var a=l[r],i=l[r+1];e[o]=e[o]||[],e[o][u]=e[o][u]||"",'"'==a&&t&&'"'==i?(e[o][u]+=a,++r):'"'!=a?a!=n||t?"\r"!=a||"\n"!=i||t?"\n"==a&&!t||"\r"==a&&!t?(++o,u=0):e[o][u]+=a:(++o,u=0,++r):++u:t=!t}return e},obj.hash=function(l){var n,e=0;if(0===l.length)return e;for(n=0;n<l.length;n++)e=(e<<5)-e+l.charCodeAt(n),e|=0;return e},obj.onafterchanges=function(l,n){obj.dispatch("onafterchanges",l,n)},obj.destroy=function(){jexcel.destroy(el)},obj.init=function(){jexcel.current=obj,"function"==typeof jexcel.build&&(obj.options.root?jexcel.build(obj.options.root):(jexcel.build(document),jexcel.build=null)),el.setAttribute("tabindex",1),el.addEventListener("focus",function(l){jexcel.current&&!obj.selectedCell&&(obj.updateSelectionFromCoords(0,0,0,0),obj.left())}),obj.options.csv?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.csv,method:obj.options.method,data:obj.options.requestVariables,dataType:"text",success:function(l){var n=obj.parseCSV(l,obj.options.csvDelimiter);if(1==obj.options.csvHeaders&&n.length>0)for(var e=n.shift(),t=0;t<e.length;t++)obj.options.columns[t]||(obj.options.columns[t]={type:"text",align:obj.options.defaultColAlign,width:obj.options.defaultColWidth}),void 0===obj.options.columns[t].title&&(obj.options.columns[t].title=e[t]);obj.options.data=n,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.options.url?(1==obj.options.loadingSpin&&jSuites.loading.show(),jSuites.ajax({url:obj.options.url,method:obj.options.method,data:obj.options.requestVariables,dataType:"json",success:function(l){obj.options.data=l.data?l.data:l,obj.prepareTable(),1==obj.options.loadingSpin&&jSuites.loading.hide()}})):obj.prepareTable()},obj.options.contextMenu=options&&null!=options.contextMenu?options.contextMenu:function(l,n,e,t){var o=[];if(null==e)1==obj.options.allowInsertColumn&&o.push({title:obj.options.text.insertANewColumnBefore,onclick:function(){obj.insertColumn(1,parseInt(n),1)}}),1==obj.options.allowInsertColumn&&o.push({title:obj.options.text.insertANewColumnAfter,onclick:function(){obj.insertColumn(1,parseInt(n),0)}}),1==obj.options.allowDeleteColumn&&o.push({title:obj.options.text.deleteSelectedColumns,onclick:function(){obj.deleteColumn(obj.getSelectedColumns().length?void 0:parseInt(n))}}),1==obj.options.allowRenameColumn&&o.push({title:obj.options.text.renameThisColumn,onclick:function(){obj.setHeader(n)}}),1==obj.options.columnSorting&&(o.push({type:"line"}),o.push({title:obj.options.text.orderAscending,onclick:function(){obj.orderBy(n,0)}}),o.push({title:obj.options.text.orderDescending,onclick:function(){obj.orderBy(n,1)}}));else if(1==obj.options.allowInsertRow&&(o.push({title:obj.options.text.insertANewRowBefore,onclick:function(){obj.insertRow(1,parseInt(e),1)}}),o.push({title:obj.options.text.insertANewRowAfter,onclick:function(){obj.insertRow(1,parseInt(e))}})),1==obj.options.allowDeleteRow&&o.push({title:obj.options.text.deleteSelectedRows,onclick:function(){obj.deleteRow(obj.getSelectedRows().length?void 0:parseInt(e))}}),n&&1==obj.options.allowComments){o.push({type:"line"});var u=obj.records[e][n].getAttribute("title")||"";o.push({title:u?obj.options.text.editComments:obj.options.text.addComments,onclick:function(){var l=prompt(obj.options.text.comments,u);l&&obj.setComments([n,e],l)}}),u&&o.push({title:obj.options.text.clearComments,onclick:function(){obj.setComments([n,e],"")}})}return o.push({type:"line"}),o.push({title:obj.options.text.copy,shortcut:"Ctrl + C",onclick:function(){obj.copy(!0)}}),navigator&&navigator.clipboard&&o.push({title:obj.options.text.paste,shortcut:"Ctrl + V",onclick:function(){obj.selectedCell&&navigator.clipboard.readText().then(function(l){l&&jexcel.current.paste(obj.selectedCell[0],obj.selectedCell[1],l)})}}),obj.options.allowExport&&o.push({title:obj.options.text.saveAs,shortcut:"Ctrl + S",onclick:function(){obj.download()}}),obj.options.about&&o.push({title:obj.options.text.about,onclick:function(){alert(obj.options.about)}}),o},obj.scrollControls=function(l){obj.wheelControls(),obj.options.freezeColumns>0&&obj.content.scrollLeft!=scrollLeft&&obj.updateFreezePosition(),1!=obj.options.lazyLoading&&1!=obj.options.tableOverflow||obj.edition&&"jdropdown"!=l.target.className.substr(0,9)&&obj.closeEditor(obj.edition[0],!0)},obj.wheelControls=function(l){1==obj.options.lazyLoading&&null==jexcel.timeControlLoading&&(jexcel.timeControlLoading=setTimeout(function(){obj.content.scrollTop+obj.content.clientHeight>=obj.content.scrollHeight?obj.loadDown()&&(obj.content.scrollTop+obj.content.clientHeight>obj.content.scrollHeight-10&&(obj.content.scrollTop=obj.content.scrollTop-obj.content.clientHeight),obj.updateCornerPosition()):obj.content.scrollTop<=obj.content.clientHeight&&obj.loadUp()&&(obj.content.scrollTop<10&&(obj.content.scrollTop=obj.content.scrollTop+obj.content.clientHeight),obj.updateCornerPosition()),jexcel.timeControlLoading=null},100))},obj.getFreezeWidth=function(){var l=0;if(obj.options.freezeColumns>0)for(var n=0;n<obj.options.freezeColumns;n++)l+=parseInt(obj.options.columns[n].width);return l};var scrollLeft=0;return obj.updateFreezePosition=function(){var l=0;if((scrollLeft=obj.content.scrollLeft)>50)for(var n=0;n<obj.options.freezeColumns;n++){n>0&&(l+=parseInt(obj.options.columns[n-1].width)),obj.headers[n].classList.add("jexcel_freezed"),obj.headers[n].style.left=l+"px";for(var e=0;e<obj.rows.length;e++)if(obj.rows[e]&&obj.records[e][n]){var t=scrollLeft+(n>0?obj.records[e][n-1].style.width:0)-51+"px";obj.records[e][n].classList.add("jexcel_freezed"),obj.records[e][n].style.left=t}}else for(n=0;n<obj.options.freezeColumns;n++)for(obj.headers[n].classList.remove("jexcel_freezed"),obj.headers[n].style.left="",e=0;e<obj.rows.length;e++)obj.records[e][n]&&(obj.records[e][n].classList.remove("jexcel_freezed"),obj.records[e][n].style.left="");obj.updateCornerPosition()},el.addEventListener("DOMMouseScroll",obj.wheelControls),el.addEventListener("mousewheel",obj.wheelControls),el.jexcel=obj,obj.init(),obj};jexcel.current=null,jexcel.timeControl=null,jexcel.timeControlLoading=null,jexcel.destroy=function(l,n){if(l.jexcel){var e=l.jexcel.options.root?l.jexcel.options.root:document;l.removeEventListener("DOMMouseScroll",l.jexcel.scrollControls),l.removeEventListener("mousewheel",l.jexcel.scrollControls),l.jexcel=null,l.innerHTML="",n&&(e.removeEventListener("mouseup",jexcel.mouseUpControls),e.removeEventListener("mousedown",jexcel.mouseDownControls),e.removeEventListener("mousemove",jexcel.mouseMoveControls),e.removeEventListener("mouseover",jexcel.mouseOverControls),e.removeEventListener("dblclick",jexcel.doubleClickControls),e.removeEventListener("paste",jexcel.pasteControls),e.removeEventListener("contextmenu",jexcel.contextMenuControls),e.removeEventListener("touchstart",jexcel.touchStartControls),e.removeEventListener("touchend",jexcel.touchEndControls),e.removeEventListener("touchcancel",jexcel.touchEndControls),document.removeEventListener("keydown",jexcel.keyDownControls),jexcel=null)}},jexcel.build=function(l){l.addEventListener("mouseup",jexcel.mouseUpControls),l.addEventListener("mousedown",jexcel.mouseDownControls),l.addEventListener("mousemove",jexcel.mouseMoveControls),l.addEventListener("mouseover",jexcel.mouseOverControls),l.addEventListener("dblclick",jexcel.doubleClickControls),l.addEventListener("paste",jexcel.pasteControls),l.addEventListener("contextmenu",jexcel.contextMenuControls),l.addEventListener("touchstart",jexcel.touchStartControls),l.addEventListener("touchend",jexcel.touchEndControls),l.addEventListener("touchcancel",jexcel.touchEndControls),l.addEventListener("touchmove",jexcel.touchEndControls),document.addEventListener("keydown",jexcel.keyDownControls)},jexcel.keyDownControls=function(l){if(jexcel.current){if(jexcel.current.edition)if(27==l.which)jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!1),l.preventDefault();else if(13==l.which)if("calendar"==jexcel.current.options.columns[jexcel.current.edition[2]].type)jexcel.current.closeEditor(jexcel.current.edition[0],!0);else if("dropdown"==jexcel.current.options.columns[jexcel.current.edition[2]].type||"autocomplete"==jexcel.current.options.columns[jexcel.current.edition[2]].type);else if((1==jexcel.current.options.wordWrap||1==jexcel.current.options.columns[jexcel.current.edition[2]].wordWrap||jexcel.current.options.data[jexcel.current.edition[3]][jexcel.current.edition[2]].length>200)&&l.altKey){var n=jexcel.current.edition[0].children[0],e=jexcel.current.edition[0].children[0].value,t=n.selectionStart;e=e.slice(0,t)+"\n"+e.slice(t),n.value=e,n.focus(),n.selectionStart=t+1,n.selectionEnd=t+1}else jexcel.current.edition[0].children[0].blur();else 9==l.which&&("calendar"==jexcel.current.options.columns[jexcel.current.edition[2]].type?jexcel.current.closeEditor(jexcel.current.edition[0],!0):jexcel.current.edition[0].children[0].blur());if(!jexcel.current.edition&&jexcel.current.selectedCell)if(37==l.which)jexcel.current.left(l.shiftKey,l.ctrlKey),l.preventDefault();else if(39==l.which)jexcel.current.right(l.shiftKey,l.ctrlKey),l.preventDefault();else if(38==l.which)jexcel.current.up(l.shiftKey,l.ctrlKey),l.preventDefault();else if(40==l.which)jexcel.current.down(l.shiftKey,l.ctrlKey),l.preventDefault();else if(36==l.which)jexcel.current.first(l.shiftKey,l.ctrlKey),l.preventDefault();else if(35==l.which)jexcel.current.last(l.shiftKey,l.ctrlKey),l.preventDefault();else if(32==l.which)1==jexcel.current.options.editable&&jexcel.current.setCheckRadioValue(),l.preventDefault();else if(46==l.which)1==jexcel.current.options.editable&&(jexcel.current.selectedRow?1==jexcel.current.options.allowDeleteRow&&confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedRows)&&jexcel.current.deleteRow():jexcel.current.selectedHeader?1==jexcel.current.options.allowDeleteColumn&&confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedColumns)&&jexcel.current.deleteColumn():jexcel.current.setValue(jexcel.current.highlighted,""));else if(13==l.which)l.shiftKey?jexcel.current.up():(1==jexcel.current.options.allowInsertRow&&1==jexcel.current.options.allowManualInsertRow&&jexcel.current.selectedCell[1]==jexcel.current.options.data.length-1&&jexcel.current.insertRow(),jexcel.current.down()),l.preventDefault();else if(9==l.which)l.shiftKey?jexcel.current.left():(1==jexcel.current.options.allowInsertColumn&&1==jexcel.current.options.allowManualInsertColumn&&jexcel.current.selectedCell[0]==jexcel.current.options.data[0].length-1&&jexcel.current.insertColumn(),jexcel.current.right()),l.preventDefault();else if(!l.ctrlKey&&!l.metaKey||l.shiftKey){if(jexcel.current.selectedCell&&1==jexcel.current.options.editable){var o=jexcel.current.selectedCell[1],u=jexcel.current.selectedCell[0];"readonly"!=jexcel.current.options.columns[u].type&&(32==l.keyCode?"checkbox"==jexcel.current.options.columns[u].type||"radio"==jexcel.current.options.columns[u].type?l.preventDefault():jexcel.current.openEditor(jexcel.current.records[o][u],!0):113==l.keyCode?jexcel.current.openEditor(jexcel.current.records[o][u],!1):(8==l.keyCode||l.keyCode>=48&&l.keyCode<=57||l.keyCode>=96&&l.keyCode<=111||l.keyCode>=187&&l.keyCode<=190||(String.fromCharCode(l.keyCode)==l.key||String.fromCharCode(l.keyCode).toLowerCase()==l.key.toLowerCase())&&jexcel.validLetter(String.fromCharCode(l.keyCode)))&&(jexcel.current.openEditor(jexcel.current.records[o][u],!0),"calendar"==jexcel.current.options.columns[u].type&&l.preventDefault()))}}else 65==l.which?(jexcel.current.selectAll(),l.preventDefault()):83==l.which?(jexcel.current.download(),l.preventDefault()):89==l.which?(jexcel.current.redo(),l.preventDefault()):90==l.which?(jexcel.current.undo(),l.preventDefault()):67==l.which?(jexcel.current.copy(!0),l.preventDefault()):67==l.which?(jexcel.current.copy(!0),l.preventDefault()):88==l.which?(1==jexcel.current.options.editable?jexcel.cutControls():jexcel.copyControls(),l.preventDefault()):86==l.which&&jexcel.pasteControls();else l.target.classList.contains("jexcel_search")&&(jexcel.timeControl&&clearTimeout(jexcel.timeControl),jexcel.timeControl=setTimeout(function(){jexcel.current.search(l.target.value)},200))}},jexcel.isMouseAction=!1,jexcel.mouseDownControls=function(l){if((l=l||window.event).buttons)var n=l.buttons;else n=l.button?l.button:l.which;var e=jexcel.getElement(l.target);if(e[0]?jexcel.current!=e[0].jexcel&&(jexcel.current&&(jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!0),jexcel.current.resetSelection()),jexcel.current=e[0].jexcel):jexcel.current&&(jexcel.current.edition&&jexcel.current.closeEditor(jexcel.current.edition[0],!0),jexcel.current.resetSelection(!0),jexcel.current=null),jexcel.current&&1==n){if(l.target.classList.contains("jexcel_selectall"))jexcel.current&&jexcel.current.selectAll();else if(l.target.classList.contains("jexcel_corner"))1==jexcel.current.options.editable&&(jexcel.current.selectedCorner=!0);else{if(1==e[1]){if(b=l.target.getAttribute("data-x")){var t=l.target.getBoundingClientRect();if(1==jexcel.current.options.columnResize&&t.width-l.offsetX<6){jexcel.current.resizing={mousePosition:l.pageX,column:b,width:t.width},jexcel.current.headers[b].classList.add("resizing");for(var o=0;o<jexcel.current.records.length;o++)jexcel.current.records[o][b]&&jexcel.current.records[o][b].classList.add("resizing")}else if(1==jexcel.current.options.columnDrag&&t.height-l.offsetY<6)if(jexcel.current.isColMerged(b).length)console.error("Jspreadsheet: This column is part of a merged cell.");else for(jexcel.current.resetSelection(),jexcel.current.dragging={element:l.target,column:b,destination:b},jexcel.current.headers[b].classList.add("dragging"),o=0;o<jexcel.current.records.length;o++)jexcel.current.records[o][b]&&jexcel.current.records[o][b].classList.add("dragging");else{if(jexcel.current.selectedHeader&&(l.shiftKey||l.ctrlKey))var u=jexcel.current.selectedHeader,r=b;else jexcel.current.selectedHeader==b&&1==jexcel.current.options.allowRenameColumn&&(jexcel.timeControl=setTimeout(function(){jexcel.current.setHeader(b)},800)),jexcel.current.selectedHeader=b,u=b,r=b;jexcel.current.updateSelectionFromCoords(u,0,r,jexcel.current.options.data.length-1)}}else if(l.target.parentNode.classList.contains("jexcel_nested")){if(l.target.getAttribute("data-column"))var a=l.target.getAttribute("data-column").split(","),i=parseInt(a[0]),s=parseInt(a[a.length-1]);else i=0,s=jexcel.current.options.columns.length-1;jexcel.current.updateSelectionFromCoords(i,0,s,jexcel.current.options.data.length-1)}}else jexcel.current.selectedHeader=!1;if(2==e[1]){var c=l.target.getAttribute("data-y");if(l.target.classList.contains("jexcel_row"))t=l.target.getBoundingClientRect(),1==jexcel.current.options.rowResize&&t.height-l.offsetY<6?(jexcel.current.resizing={element:l.target.parentNode,mousePosition:l.pageY,row:c,height:t.height},l.target.parentNode.classList.add("resizing")):1==jexcel.current.options.rowDrag&&t.width-l.offsetX<6?jexcel.current.isRowMerged(c).length?console.error("Jspreadsheet: This row is part of a merged cell"):1==jexcel.current.options.search&&jexcel.current.results?console.error("Jspreadsheet: Please clear your search before perform this action"):(jexcel.current.resetSelection(),jexcel.current.dragging={element:l.target.parentNode,row:c,destination:c},l.target.parentNode.classList.add("dragging")):(jexcel.current.selectedRow&&(l.shiftKey||l.ctrlKey)?(u=jexcel.current.selectedRow,r=c):(jexcel.current.selectedRow=c,u=c,r=c),jexcel.current.updateSelectionFromCoords(0,u,jexcel.current.options.data[0].length-1,r));else if(l.target.classList.contains("jclose")&&l.target.clientWidth-l.offsetX<50&&l.offsetY<50)jexcel.current.closeEditor(jexcel.current.edition[0],!0);else{var d=function(l){var n=l.getAttribute("data-x"),e=l.getAttribute("data-y");return n&&e?[n,e]:l.parentNode?d(l.parentNode):void 0},p=d(l.target);if(p){var b=p[0];c=p[1],jexcel.current.edition&&(jexcel.current.edition[2]==b&&jexcel.current.edition[3]==c||jexcel.current.closeEditor(jexcel.current.edition[0],!0)),jexcel.current.edition||(l.shiftKey?jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],b,c):jexcel.current.updateSelectionFromCoords(b,c)),jexcel.current.selectedHeader=null,jexcel.current.selectedRow=null}}}else jexcel.current.selectedRow=!1;l.target.classList.contains("jexcel_page")&&jexcel.current.page("<"==l.target.innerText?0:">"==l.target.innerText?l.target.getAttribute("title")-1:l.target.innerText-1)}jexcel.isMouseAction=!jexcel.current.edition}else jexcel.isMouseAction=!1},jexcel.mouseUpControls=function(l){if(jexcel.current)if(jexcel.current.resizing){if(jexcel.current.resizing.column){var n=jexcel.current.colgroup[jexcel.current.resizing.column].getAttribute("width"),e=jexcel.current.getSelectedColumns();if(e.length>1){for(var t=[],o=0;o<e.length;o++)t.push(parseInt(jexcel.current.colgroup[e[o]].getAttribute("width")));t[e.indexOf(parseInt(jexcel.current.resizing.column))]=jexcel.current.resizing.width,jexcel.current.setWidth(e,n,t)}else jexcel.current.setWidth(jexcel.current.resizing.column,n,jexcel.current.resizing.width);jexcel.current.headers[jexcel.current.resizing.column].classList.remove("resizing");for(var u=0;u<jexcel.current.records.length;u++)jexcel.current.records[u][jexcel.current.resizing.column]&&jexcel.current.records[u][jexcel.current.resizing.column].classList.remove("resizing")}else{jexcel.current.rows[jexcel.current.resizing.row].children[0].classList.remove("resizing");var r=jexcel.current.rows[jexcel.current.resizing.row].getAttribute("height");jexcel.current.setHeight(jexcel.current.resizing.row,r,jexcel.current.resizing.height),jexcel.current.resizing.element.classList.remove("resizing")}jexcel.current.resizing=null}else if(jexcel.current.dragging){if(jexcel.current.dragging){if(jexcel.current.dragging.column){var a=l.target.getAttribute("data-x");for(jexcel.current.headers[jexcel.current.dragging.column].classList.remove("dragging"),u=0;u<jexcel.current.rows.length;u++)jexcel.current.records[u][jexcel.current.dragging.column]&&jexcel.current.records[u][jexcel.current.dragging.column].classList.remove("dragging");for(o=0;o<jexcel.current.headers.length;o++)jexcel.current.headers[o].classList.remove("dragging-left"),jexcel.current.headers[o].classList.remove("dragging-right");a&&jexcel.current.dragging.column!=jexcel.current.dragging.destination&&jexcel.current.moveColumn(jexcel.current.dragging.column,jexcel.current.dragging.destination)}else{if(jexcel.current.dragging.element.nextSibling){var i=parseInt(jexcel.current.dragging.element.nextSibling.getAttribute("data-y"));jexcel.current.dragging.row<i&&(i-=1)}else i=parseInt(jexcel.current.dragging.element.previousSibling.getAttribute("data-y"));jexcel.current.dragging.row!=jexcel.current.dragging.destination&&jexcel.current.moveRow(jexcel.current.dragging.row,i,!0),jexcel.current.dragging.element.classList.remove("dragging")}jexcel.current.dragging=null}}else jexcel.current.selectedCorner&&(jexcel.current.selectedCorner=!1,jexcel.current.selection.length>0&&(jexcel.current.copyData(jexcel.current.selection[0],jexcel.current.selection[jexcel.current.selection.length-1]),jexcel.current.removeCopySelection()));jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null),jexcel.isMouseAction=!1},jexcel.mouseMoveControls=function(l){if((l=l||window.event).buttons)var n=l.buttons;else n=l.button?l.button:l.which;if(n||(jexcel.isMouseAction=!1),jexcel.current)if(1==jexcel.isMouseAction){if(jexcel.current.resizing)if(jexcel.current.resizing.column){var e=l.pageX-jexcel.current.resizing.mousePosition;jexcel.current.resizing.width+e>0&&(jexcel.current.colgroup[jexcel.current.resizing.column].setAttribute("width",jexcel.current.resizing.width+e),jexcel.current.updateCornerPosition())}else{var t=l.pageY-jexcel.current.resizing.mousePosition;jexcel.current.resizing.height+t>0&&(jexcel.current.rows[jexcel.current.resizing.row].setAttribute("height",jexcel.current.resizing.height+t),jexcel.current.updateCornerPosition())}}else{var o=l.target.getAttribute("data-x"),u=l.target.getAttribute("data-y"),r=l.target.getBoundingClientRect();jexcel.current.cursor&&(jexcel.current.cursor.style.cursor="",jexcel.current.cursor=null),l.target.parentNode.parentNode&&l.target.parentNode.parentNode.className&&(l.target.parentNode.parentNode.classList.contains("resizable")&&(l.target&&o&&!u&&r.width-(l.clientX-r.left)<6?(jexcel.current.cursor=l.target,jexcel.current.cursor.style.cursor="col-resize"):l.target&&!o&&u&&r.height-(l.clientY-r.top)<6&&(jexcel.current.cursor=l.target,jexcel.current.cursor.style.cursor="row-resize")),l.target.parentNode.parentNode.classList.contains("draggable")&&(l.target&&!o&&u&&r.width-(l.clientX-r.left)<6?(jexcel.current.cursor=l.target,jexcel.current.cursor.style.cursor="move"):l.target&&o&&!u&&r.height-(l.clientY-r.top)<6&&(jexcel.current.cursor=l.target,jexcel.current.cursor.style.cursor="move")))}},jexcel.mouseOverControls=function(l){if((l=l||window.event).buttons)var n=l.buttons;else n=l.button?l.button:l.which;if(n||(jexcel.isMouseAction=!1),jexcel.current&&1==jexcel.isMouseAction){var e=jexcel.getElement(l.target);if(e[0]){if(jexcel.current!=e[0].jexcel&&jexcel.current)return!1;var t=l.target.getAttribute("data-x"),o=l.target.getAttribute("data-y");if(jexcel.current.dragging){if(jexcel.current.dragging.column){if(t)if(jexcel.current.isColMerged(t).length)console.error("Jspreadsheet: This column is part of a merged cell.");else{for(var u=0;u<jexcel.current.headers.length;u++)jexcel.current.headers[u].classList.remove("dragging-left"),jexcel.current.headers[u].classList.remove("dragging-right");jexcel.current.dragging.column==t?jexcel.current.dragging.destination=parseInt(t):l.target.clientWidth/2>l.offsetX?(jexcel.current.dragging.destination=jexcel.current.dragging.column<t?parseInt(t)-1:parseInt(t),jexcel.current.headers[t].classList.add("dragging-left")):(jexcel.current.dragging.destination=jexcel.current.dragging.column<t?parseInt(t):parseInt(t)+1,jexcel.current.headers[t].classList.add("dragging-right"))}}else if(o)if(jexcel.current.isRowMerged(o).length)console.error("Jspreadsheet: This row is part of a merged cell.");else{var r=l.target.clientHeight/2>l.offsetY?l.target.parentNode.nextSibling:l.target.parentNode;jexcel.current.dragging.element!=r&&(l.target.parentNode.parentNode.insertBefore(jexcel.current.dragging.element,r),jexcel.current.dragging.destination=Array.prototype.indexOf.call(jexcel.current.dragging.element.parentNode.children,jexcel.current.dragging.element))}}else jexcel.current.resizing||(1==e[1]&&jexcel.current.selectedHeader&&(t=l.target.getAttribute("data-x"),jexcel.current.updateSelectionFromCoords(jexcel.current.selectedHeader,0,t,jexcel.current.options.data.length-1)),2==e[1]&&(l.target.classList.contains("jexcel_row")?jexcel.current.selectedRow&&jexcel.current.updateSelectionFromCoords(0,jexcel.current.selectedRow,jexcel.current.options.data[0].length-1,o):jexcel.current.edition||t&&o&&(jexcel.current.selectedCorner?jexcel.current.updateCopySelection(t,o):jexcel.current.selectedCell&&jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],t,o))))}}jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null)},jexcel.doubleClickControls=function(l){if(jexcel.current)if(l.target.classList.contains("jexcel_corner")){if(jexcel.current.highlighted.length>0){var n=jexcel.current.highlighted[0].getAttribute("data-x"),e=parseInt(jexcel.current.highlighted[jexcel.current.highlighted.length-1].getAttribute("data-y"))+1,t=jexcel.current.highlighted[jexcel.current.highlighted.length-1].getAttribute("data-x");jexcel.current.copyData(jexcel.current.records[e][n],jexcel.current.records[jexcel.current.records.length-1][t])}}else if(l.target.classList.contains("jexcel_column_filter")){var o=l.target.getAttribute("data-x");jexcel.current.openFilter(o)}else{var u=jexcel.getElement(l.target);if(1==u[1]&&1==jexcel.current.options.columnSorting&&(o=l.target.getAttribute("data-x"))&&jexcel.current.orderBy(o),2==u[1]&&1==jexcel.current.options.editable&&!jexcel.current.edition){var r=function(l){if(l.parentNode){var n=l.getAttribute("data-x"),e=l.getAttribute("data-y");return n&&e?l:r(l.parentNode)}},a=r(l.target);a&&a.classList.contains("highlight")&&jexcel.current.openEditor(a)}}},jexcel.copyControls=function(l){jexcel.current&&jexcel.copyControls.enabled&&(jexcel.current.edition||jexcel.current.copy(!0))},jexcel.cutControls=function(l){jexcel.current&&(jexcel.current.edition||(jexcel.current.copy(!0),1==jexcel.current.options.editable&&jexcel.current.setValue(jexcel.current.highlighted,"")))},jexcel.pasteControls=function(l){jexcel.current&&jexcel.current.selectedCell&&(jexcel.current.edition||1==jexcel.current.options.editable&&(l&&l.clipboardData?(jexcel.current.paste(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],l.clipboardData.getData("text")),l.preventDefault()):window.clipboardData&&jexcel.current.paste(jexcel.current.selectedCell[0],jexcel.current.selectedCell[1],window.clipboardData.getData("text"))))},jexcel.contextMenuControls=function(l){if(l=l||window.event,jexcel.current)if(jexcel.current.edition)l.preventDefault();else if(jexcel.current.options.contextMenu&&(jexcel.current.contextMenu.contextmenu.close(),jexcel.current)){var n=l.target.getAttribute("data-x"),e=l.target.getAttribute("data-y");if(n||e){(n<parseInt(jexcel.current.selectedCell[0])||n>parseInt(jexcel.current.selectedCell[2])||e<parseInt(jexcel.current.selectedCell[1])||e>parseInt(jexcel.current.selectedCell[3]))&&jexcel.current.updateSelectionFromCoords(n,e,n,e);var t=jexcel.current.options.contextMenu(jexcel.current,n,e,l);jexcel.current.contextMenu.contextmenu.open(l,t),l.preventDefault()}}},jexcel.touchStartControls=function(l){var n=jexcel.getElement(l.target);if(n[0]?jexcel.current!=n[0].jexcel&&(jexcel.current&&jexcel.current.resetSelection(),jexcel.current=n[0].jexcel):jexcel.current&&(jexcel.current.resetSelection(),jexcel.current=null),jexcel.current&&!jexcel.current.edition){var e=l.target.getAttribute("data-x"),t=l.target.getAttribute("data-y");e&&t&&(jexcel.current.updateSelectionFromCoords(e,t),jexcel.timeControl=setTimeout(function(){jexcel.tmpElement="color"==jexcel.current.options.columns[e].type?null:l.target,jexcel.current.openEditor(l.target,!1,l)},500))}},jexcel.touchEndControls=function(l){jexcel.timeControl&&(clearTimeout(jexcel.timeControl),jexcel.timeControl=null,jexcel.tmpElement&&"INPUT"==jexcel.tmpElement.children[0].tagName&&jexcel.tmpElement.children[0].focus(),jexcel.tmpElement=null)},jexcel.tabs=function(l,n){var e=[];if(l.classList.contains("jexcel_tabs"))o=l.children[0],u=l.children[1];else{l.innerHTML="",l.classList.add("jexcel_tabs"),l.jexcel=[];var t=document.createElement("div"),o=l.appendChild(t),u=(t=document.createElement("div"),l.appendChild(t))}for(var r=[],a=[],i=0;i<n.length;i++){r[i]=document.createElement("div"),r[i].classList.add("jexcel_tab");var s=jexcel(r[i],n[i]);u.appendChild(r[i]),e[i]=l.jexcel.push(s),a[i]=document.createElement("div"),a[i].classList.add("jexcel_tab_link"),a[i].setAttribute("data-spreadsheet",l.jexcel.length-1),a[i].innerHTML=n[i].sheetName,a[i].onclick=function(){for(var l=0;l<o.children.length;l++)o.children[l].classList.remove("selected"),u.children[l].style.display="none";var n=this.getAttribute("data-spreadsheet");u.children[n].style.display="block",o.children[n].classList.add("selected")},o.appendChild(a[i])}for(var c=0;c<o.children.length;c++)o.children[c].classList.remove("selected"),u.children[c].style.display="none";return o.children[o.children.length-1].classList.add("selected"),u.children[o.children.length-1].style.display="block",e},jexcel.createTabs=jexcel.tabs,jexcel.fromSpreadsheet=function(l,n){var e,t=function(l){var n=[];return l.SheetNames.forEach(function(e){var t={rows:[],columns:[],data:[],style:{}};if(t.sheetName=e,(p=l.Sheets[e]["!cols"])&&p.length)for(var o=0;o<p.length;o++)t.columns[o]={},p[o]&&p[o].wpx&&(t.columns[o].width=p[o].wpx+"px");if((p=l.Sheets[e]["!rows"])&&p.length)for(o=0;o<p.length;o++)p[o]&&p[o].hpx&&(t.rows[o]={},t.rows[o].height=p[o].hpx+"px");if((p=l.Sheets[e]["!merges"])&&p.length>0)for(t.mergeCells=[],o=0;o<p.length;o++){var u=p[o].s.c,r=p[o].s.r,a=p[o].e.c,i=p[o].e.r,s=jexcel.getColumnNameFromId([u,r]);t.mergeCells[s]=[a-u+1,i-r+1]}var c=0,d=0,p=Object.keys(l.Sheets[e]);for(o=0;o<p.length;o++)if("!"!=p[o].substr(0,1)){var b=l.Sheets[e][p[o]],g=jexcel.getIdFromColumnName(p[o],!0);t.data[g[1]]||(t.data[g[1]]=[]),t.data[g[1]][g[0]]=b.f?"="+b.f:b.w,c<g[0]&&(c=g[0]),d<g[1]&&(d=g[1]),b.style&&Object.keys(b.style).length>0&&(t.style[p[o]]=b.style),b.s&&b.s.fgColor&&(t.style[p[o]]&&(t.style[p[o]]+=";"),t.style[p[o]]+="background-color:#"+b.s.fgColor.rgb)}for(var m=t.columns,h=0;h<=d;h++)for(o=0;o<=c;o++)t.data[h]||(t.data[h]=[]),t.data[h][o]||m<o&&(t.data[h][o]="");n.push(t)}),n};(e=new XMLHttpRequest).open("GET",l,!0),"undefined"!=typeof Uint8Array?(e.responseType="arraybuffer",e.onload=function(l){var o=new Uint8Array(e.response),u=XLSX.read(o,{type:"array",cellFormula:!0,cellStyles:!0});n(t(u))}):(e.setRequestHeader("Accept-Charset","x-user-defined"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var l=convertResponseBodyToText(e.responseBody),o=XLSX.read(l,{type:"binary",cellFormula:!0,cellStyles:!0});n(t(o))}}),e.send()},jexcel.validLetter=function(l){return l.match(/([\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC-\u0400-\u04FF']+)/g)?1:0},jexcel.injectArray=function(l,n,e){return l.slice(0,n).concat(e).concat(l.slice(n))},jexcel.getColumnName=function(l){var n="";return l>701?(n+=String.fromCharCode(64+parseInt(l/676)),n+=String.fromCharCode(64+parseInt(l%676/26))):l>25&&(n+=String.fromCharCode(64+parseInt(l/26))),n+String.fromCharCode(65+l%26)},jexcel.getIdFromColumnName=function(l,n){var e=/^[a-zA-Z]+/.exec(l);if(e){for(var t=0,o=0;o<e[0].length;o++)t+=parseInt(e[0].charCodeAt(o)-64)*Math.pow(26,e[0].length-1-o);--t<0&&(t=0);var u=parseInt(/[0-9]+$/.exec(l));u>0&&u--,l=1==n?[t,u]:t+"-"+u}return l},jexcel.getColumnNameFromId=function(l){return Array.isArray(l)||(l=l.split("-")),jexcel.getColumnName(parseInt(l[0]))+(parseInt(l[1])+1)},jexcel.getElement=function(l){var n=0,e=0;return function l(t){t.className&&t.classList.contains("jexcel_container")&&(e=t),"THEAD"==t.tagName?n=1:"TBODY"==t.tagName&&(n=2),t.parentNode&&(e||l(t.parentNode))}(l),[e,n]},jexcel.doubleDigitFormat=function(l){return 1==(l=""+l).length&&(l="0"+l),l},jexcel.createFromTable=function(l,n){if("TABLE"==l.tagName){n||(n={}),n.columns=[],n.data=[];var e=l.querySelectorAll("colgroup > col");if(e.length)for(var t=0;t<e.length;t++){if(!(o=e[t].style.width))var o=e[t].getAttribute("width");o&&(n.columns[t]||(n.columns[t]={}),n.columns[t].width=o)}var u=function(l){var e=l.getBoundingClientRect(),o=e.width>50?e.width:50;n.columns[t]||(n.columns[t]={}),n.columns[t].type=l.getAttribute("data-celltype")?l.getAttribute("data-celltype"):"text",n.columns[t].width=o+"px",n.columns[t].title=l.innerHTML,n.columns[t].align=l.style.textAlign||"center"},r=l.querySelectorAll("thead > tr");if(r.length)for(r=r[r.length-1].children,t=0;t<r.length;t++)u(r[t]);for(var a=0,i={},s={},c={},d={},p=l.querySelectorAll("table > tr, tbody tr"),b=0;b<p.length;b++)if(n.data[a]=[],1!=n.parseTableFirstRowAsHeader||r.length||0!=b){for(t=0;t<p[b].children.length;t++){if(g=p[b].children[t].getAttribute("data-formula"))"="!=g.substr(0,1)&&(g="="+g);else var g=p[b].children[t].innerHTML;n.data[a].push(g);var m=jexcel.getColumnNameFromId([t,b]),h=p[b].children[t].getAttribute("class");h&&(d[m]=h);var f=parseInt(p[b].children[t].getAttribute("colspan"))||0,v=parseInt(p[b].children[t].getAttribute("rowspan"))||0;(f||v)&&(i[m]=[f||1,v||1]),p[b].children[t].style&&"none"==p[b].children[t].style.display&&(p[b].children[t].style.display="");var A=p[b].children[t].getAttribute("style");A&&(c[m]=A),p[b].children[t].classList.contains("styleBold")&&(c[m]?c[m]+="; font-weight:bold;":c[m]="font-weight:bold;")}p[b].style&&p[b].style.height&&(s[b]={height:p[b].style.height}),a++}else for(t=0;t<p[b].children.length;t++)u(p[b].children[t]);if(Object.keys(c),Object.keys(i).length>0&&(n.mergeCells=i),Object.keys(s).length>0&&(n.rows=s),Object.keys(d).length>0&&(n.classes=d),1==n.parseTableAutoCellType){var C=[];for(t=0;t<n.columns.length;t++){var I=!0,y=!0;for(C[t]=[],b=0;b<n.data.length;b++)C[t][g=n.data[b][t]]||(C[t][g]=0),C[t][g]++,g.length>25&&(I=!1),10==g.length&&"-"==g.substr(4,1)&&"-"==g.substr(7,1)||(y=!1);var w=Object.keys(C[t]).length;y?n.columns[t].type="calendar":1==I&&w>1&&w<=parseInt(.1*n.data.length)&&(n.columns[t].type="dropdown",n.columns[t].source=Object.keys(C[t]))}}return n}console.log("Element is not a table")},"undefined"!=typeof jQuery&&function(l){l.fn.jexcel=function(n){var e=l(this).get(0);return e.jexcel?e.jexcel[n].apply(this,Array.prototype.slice.call(arguments,1)):jexcel(l(this).get(0),arguments[0])}}(jQuery);var error=(exports={},exports.nil=new Error("#NULL!"),exports.div0=new Error("#DIV/0!"),exports.value=new Error("#VALUE!"),exports.ref=new Error("#REF!"),exports.name=new Error("#NAME?"),exports.num=new Error("#NUM!"),exports.na=new Error("#N/A"),exports.error=new Error("#ERROR!"),exports.data=new Error("#GETTING_DATA"),exports),exports,utils=function(){var l={flattenShallow:function(l){return l&&l.reduce?l.reduce(function(l,n){var e=Array.isArray(l),t=Array.isArray(n);return e&&t?l.concat(n):e?(l.push(n),l):t?[l].concat(n):[l,n]}):l},isFlat:function(l){if(!l)return!1;for(var n=0;n<l.length;++n)if(Array.isArray(l[n]))return!1;return!0},flatten:function(){for(var n=l.argsToArray.apply(null,arguments);!l.isFlat(n);)n=l.flattenShallow(n);return n},argsToArray:function(n){var e=[];return l.arrayEach(n,function(l){e.push(l)}),e},numbers:function(){return this.flatten.apply(null,arguments).filter(function(l){return"number"==typeof l})},cleanFloat:function(l){return Math.round(1e14*l)/1e14},parseBool:function(l){if("boolean"==typeof l)return l;if(l instanceof Error)return l;if("number"==typeof l)return 0!==l;if("string"==typeof l){var n=l.toUpperCase();if("TRUE"===n)return!0;if("FALSE"===n)return!1}return l instanceof Date&&!isNaN(l)||error.value},parseNumber:function(l){return void 0===l||""===l?error.value:isNaN(l)?error.value:parseFloat(l)},parseNumberArray:function(n){var e,t;if(!n||0===(e=n.length))return error.value;for(;e--;){if((t=l.parseNumber(n[e]))===error.value)return t;n[e]=t}return n},parseMatrix:function(n){var e;if(!n||0===n.length)return error.value;for(var t=0;t<n.length;t++)if(e=l.parseNumberArray(n[t]),n[t]=e,e instanceof Error)return e;return n}},n=new Date(Date.UTC(1900,0,1));return l.parseDate=function(l){if(!isNaN(l)){if(l instanceof Date)return new Date(l);var e=parseInt(l,10);return e<0?error.num:e<=60?new Date(n.getTime()+864e5*(e-1)):new Date(n.getTime()+864e5*(e-2))}return"string"!=typeof l||(l=new Date(l),isNaN(l))?error.value:l},l.parseDateArray=function(l){for(var n,e=l.length;e--;){if((n=this.parseDate(l[e]))===error.value)return n;l[e]=n}return l},l.anyIsError=function(){for(var l=arguments.length;l--;)if(arguments[l]instanceof Error)return!0;return!1},l.arrayValuesToNumbers=function(l){for(var n,e=l.length;e--;)if("number"!=typeof(n=l[e]))if(!0!==n)if(!1!==n){if("string"==typeof n){var t=this.parseNumber(n);l[e]=t instanceof Error?0:t}}else l[e]=0;else l[e]=1;return l},l.rest=function(l,n){return n=n||1,l&&"function"==typeof l.slice?l.slice(n):l},l.initial=function(l,n){return n=n||1,l&&"function"==typeof l.slice?l.slice(0,l.length-n):l},l.arrayEach=function(l,n){for(var e=-1,t=l.length;++e<t&&!1!==n(l[e],e,l););return l},l.transpose=function(l){return l?l[0].map(function(n,e){return l.map(function(l){return l[e]})}):error.value},l}();jexcel.methods={},jexcel.methods.datetime=function(){var l={},n=new Date(1900,0,1),e=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]];function t(l){return(l-n)/864e5+(l>-22038912e5?2:1)}return l.DATE=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:l<0||n<0||e<0?error.num:new Date(l,n-1,e)},l.DATEVALUE=function(l){if("string"!=typeof l)return error.value;var e=Date.parse(l);return isNaN(e)?error.value:e<=-22038912e5?(e-n)/864e5+1:(e-n)/864e5+2},l.DAY=function(l){var n=utils.parseDate(l);return n instanceof Error?n:n.getDate()},l.DAYS=function(l,n){return l=utils.parseDate(l),n=utils.parseDate(n),l instanceof Error?l:n instanceof Error?n:t(l)-t(n)},l.DAYS360=function(l,n,e){},l.EDATE=function(l,n){return(l=utils.parseDate(l))instanceof Error?l:isNaN(n)?error.value:(n=parseInt(n,10),l.setMonth(l.getMonth()+n),t(l))},l.EOMONTH=function(l,n){return(l=utils.parseDate(l))instanceof Error?l:isNaN(n)?error.value:(n=parseInt(n,10),t(new Date(l.getFullYear(),l.getMonth()+n+1,0)))},l.HOUR=function(l){return(l=utils.parseDate(l))instanceof Error?l:l.getHours()},l.INTERVAL=function(l){if("number"!=typeof l&&"string"!=typeof l)return error.value;l=parseInt(l,10);var n=Math.floor(l/94608e4);l%=94608e4;var e=Math.floor(l/2592e3);l%=2592e3;var t=Math.floor(l/86400);l%=86400;var o=Math.floor(l/3600);l%=3600;var u=Math.floor(l/60),r=l%=60;return"P"+(n=n>0?n+"Y":"")+(e=e>0?e+"M":"")+(t=t>0?t+"D":"")+"T"+(o=o>0?o+"H":"")+(u=u>0?u+"M":"")+(r>0?r+"S":"")},l.ISOWEEKNUM=function(l){if((l=utils.parseDate(l))instanceof Error)return l;l.setHours(0,0,0),l.setDate(l.getDate()+4-(l.getDay()||7));var n=new Date(l.getFullYear(),0,1);return Math.ceil(((l-n)/864e5+1)/7)},l.MINUTE=function(l){return(l=utils.parseDate(l))instanceof Error?l:l.getMinutes()},l.MONTH=function(l){return(l=utils.parseDate(l))instanceof Error?l:l.getMonth()+1},l.NETWORKDAYS=function(l,n,e){},l.NETWORKDAYS.INTL=function(l,n,e,t){},l.NOW=function(){return new Date},l.SECOND=function(l){return(l=utils.parseDate(l))instanceof Error?l:l.getSeconds()},l.TIME=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:l<0||n<0||e<0?error.num:(3600*l+60*n+e)/86400},l.TIMEVALUE=function(l){return(l=utils.parseDate(l))instanceof Error?l:(3600*l.getHours()+60*l.getMinutes()+l.getSeconds())/86400},l.TODAY=function(){return new Date},l.WEEKDAY=function(l,n){if((l=utils.parseDate(l))instanceof Error)return l;void 0===n&&(n=1);var t=l.getDay();return e[n][t]},l.WEEKNUM=function(l,n){},l.WORKDAY=function(l,n,e){},l.WORKDAY.INTL=function(l,n,e,t){},l.YEAR=function(l){return(l=utils.parseDate(l))instanceof Error?l:l.getFullYear()},l.YEARFRAC=function(l,n,e){},l}(),jexcel.methods.database=function(){var exports={};function compact(l){if(!l)return l;for(var n=[],e=0;e<l.length;++e)l[e]&&n.push(l[e]);return n}function findResultIndex(database,criterias){for(var matches={},i=1;i<database[0].length;++i)matches[i]=!0;var maxCriteriaLength=criterias[0].length;for(i=1;i<criterias.length;++i)criterias[i].length>maxCriteriaLength&&(maxCriteriaLength=criterias[i].length);for(var k=1;k<database.length;++k)for(var l=1;l<database[k].length;++l){for(var currentCriteriaResult=!1,hasMatchingCriteria=!1,j=0;j<criterias.length;++j){var criteria=criterias[j];if(!(criteria.length<maxCriteriaLength)){var criteriaField=criteria[0];if(database[k][0]===criteriaField){hasMatchingCriteria=!0;for(var p=1;p<criteria.length;++p)currentCriteriaResult=currentCriteriaResult||eval(database[k][l]+criteria[p])}}}hasMatchingCriteria&&(matches[l]=matches[l]&&currentCriteriaResult)}for(var result=[],n=0;n<database[0].length;++n)matches[n]&&result.push(n-1);return result}return exports.FINDFIELD=function(l,n){for(var e=null,t=0;t<l.length;t++)if(l[t][0]===n){e=t;break}return null==e?error.value:e},exports.DAVERAGE=function(l,n,e){if(isNaN(n)&&"string"!=typeof n)return error.value;var t=findResultIndex(l,e),o=[];if("string"==typeof n){var u=exports.FINDFIELD(l,n);o=utils.rest(l[u])}else o=utils.rest(l[n]);for(var r=0,a=0;a<t.length;a++)r+=o[t[a]];return 0===t.length?error.div0:r/t.length},exports.DCOUNT=function(l,n,e){},exports.DCOUNTA=function(l,n,e){},exports.DGET=function(l,n,e){if(isNaN(n)&&"string"!=typeof n)return error.value;var t=findResultIndex(l,e),o=[];if("string"==typeof n){var u=exports.FINDFIELD(l,n);o=utils.rest(l[u])}else o=utils.rest(l[n]);return 0===t.length?error.value:t.length>1?error.num:o[t[0]]},exports.DMAX=function(l,n,e){if(isNaN(n)&&"string"!=typeof n)return error.value;var t=findResultIndex(l,e),o=[];if("string"==typeof n){var u=exports.FINDFIELD(l,n);o=utils.rest(l[u])}else o=utils.rest(l[n]);for(var r=o[t[0]],a=1;a<t.length;a++)r<o[t[a]]&&(r=o[t[a]]);return r},exports.DMIN=function(l,n,e){if(isNaN(n)&&"string"!=typeof n)return error.value;var t=findResultIndex(l,e),o=[];if("string"==typeof n){var u=exports.FINDFIELD(l,n);o=utils.rest(l[u])}else o=utils.rest(l[n]);for(var r=o[t[0]],a=1;a<t.length;a++)r>o[t[a]]&&(r=o[t[a]]);return r},exports.DPRODUCT=function(l,n,e){if(isNaN(n)&&"string"!=typeof n)return error.value;var t=findResultIndex(l,e),o=[];if("string"==typeof n){var u=exports.FINDFIELD(l,n);o=utils.rest(l[u])}else o=utils.rest(l[n]);for(var r=[],a=0;a<t.length;a++)r[a]=o[t[a]];r=compact(r);var i=1;for(a=0;a<r.length;a++)i*=r[a];return i},exports.DSTDEV=function(l,n,e){},exports.DSTDEVP=function(l,n,e){},exports.DSUM=function(l,n,e){},exports.DVAR=function(l,n,e){},exports.DVARP=function(l,n,e){},exports.MATCH=function(l,n,e){if(!l&&!n)return error.na;if(2===arguments.length&&(e=1),!(n instanceof Array))return error.na;if(-1!==e&&0!==e&&1!==e)return error.na;for(var t,o,u=0;u<n.length;u++)if(1===e){if(n[u]===l)return u+1;n[u]<l&&(o?n[u]>o&&(t=u+1,o=n[u]):(t=u+1,o=n[u]))}else if(0===e){if("string"==typeof l){if(l=l.replace(/\?/g,"."),n[u].toLowerCase().match(l.toLowerCase()))return u+1}else if(n[u]===l)return u+1}else if(-1===e){if(n[u]===l)return u+1;n[u]>l&&(o?n[u]<o&&(t=u+1,o=n[u]):(t=u+1,o=n[u]))}return t||error.na},exports}(),jexcel.methods.engineering=function(){var l={};function n(l){return/^[01]{1,10}$/.test(l)}return l.BESSELI=function(l,n){},l.BESSELJ=function(l,n){},l.BESSELK=function(l,n){},l.BESSELY=function(l,n){},l.BIN2DEC=function(l){if(!n(l))return error.num;var e=parseInt(l,2),t=l.toString();return 10===t.length&&"1"===t.substring(0,1)?parseInt(t.substring(1),2)-512:e},l.BIN2HEX=function(l,e){if(!n(l))return error.num;var t=l.toString();if(10===t.length&&"1"===t.substring(0,1))return(0xfffffffe00+parseInt(t.substring(1),2)).toString(16);var o=parseInt(l,2).toString(16);return void 0===e?o:isNaN(e)?error.value:e<0?error.num:(e=Math.floor(e))>=o.length?REPT("0",e-o.length)+o:error.num},l.BIN2OCT=function(l,e){if(!n(l))return error.num;var t=l.toString();if(10===t.length&&"1"===t.substring(0,1))return(1073741312+parseInt(t.substring(1),2)).toString(8);var o=parseInt(l,2).toString(8);return void 0===e?o:isNaN(e)?error.value:e<0?error.num:(e=Math.floor(e))>=o.length?REPT("0",e-o.length)+o:error.num},l.BITAND=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<0||n<0?error.num:Math.floor(l)!==l||Math.floor(n)!==n?error.num:l>0xffffffffffff||n>0xffffffffffff?error.num:l&n},l.BITLSHIFT=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<0?error.num:Math.floor(l)!==l?error.num:l>0xffffffffffff?error.num:Math.abs(n)>53?error.num:n>=0?l<<n:l>>-n},l.BITOR=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<0||n<0?error.num:Math.floor(l)!==l||Math.floor(n)!==n?error.num:l>0xffffffffffff||n>0xffffffffffff?error.num:l|n},l.BITRSHIFT=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<0?error.num:Math.floor(l)!==l?error.num:l>0xffffffffffff?error.num:Math.abs(n)>53?error.num:n>=0?l>>n:l<<-n},l.BITXOR=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<0||n<0?error.num:Math.floor(l)!==l||Math.floor(n)!==n?error.num:l>0xffffffffffff||n>0xffffffffffff?error.num:l^n},l.COMPLEX=function(l,n,e){if(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n))return l;if("i"!==(e=void 0===e?"i":e)&&"j"!==e)return error.value;if(0===l&&0===n)return 0;if(0===l)return 1===n?e:n.toString()+e;if(0===n)return l.toString();var t=n>0?"+":"";return l.toString()+t+(1===n?e:n.toString()+e)},l.CONVERT=function(l,n,e){if((l=utils.parseNumber(l))instanceof Error)return l;for(var t,o=[["a.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",!1,!1,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",!1,!1,4.35974417757576e-18],["a.u. of length","a?",null,"length",!1,!1,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",!1,!1,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["\xe5ngstr\xf6m","\xc5",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,1.49597870691667e-11],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic \xe5ngstr\xf6m","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,8.46786664623715e-47],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,1.66053886282828e-27],["day","d",["day"],"time",!1,!0,86400],["degree","\xb0",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["\u0153rsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","\u03a9",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdest\xe4rke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square \xe5ngstr\xf6m","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,8.95054210748189e31],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],u={Yi:["yobi",80,1.2089258196146292e24,"Yi","yotta"],Zi:["zebi",70,0x400000000000000000,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},r={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},a=null,i=null,s=n,c=e,d=1,p=1,b=0;b<o.length;b++)t=null===o[b][2]?[]:o[b][2],(o[b][1]===s||t.indexOf(s)>=0)&&(a=o[b]),(o[b][1]===c||t.indexOf(c)>=0)&&(i=o[b]);if(null===a){var g=u[n.substring(0,2)],m=r[n.substring(0,1)];"da"===n.substring(0,2)&&(m=["dekao",10,"da"]),g?(d=g[2],s=n.substring(2)):m&&(d=m[1],s=n.substring(m[2].length));for(var h=0;h<o.length;h++)t=null===o[h][2]?[]:o[h][2],(o[h][1]===s||t.indexOf(s)>=0)&&(a=o[h])}if(null===i){var f=u[e.substring(0,2)],v=r[e.substring(0,1)];"da"===e.substring(0,2)&&(v=["dekao",10,"da"]),f?(p=f[2],c=e.substring(2)):v&&(p=v[1],c=e.substring(v[2].length));for(var A=0;A<o.length;A++)t=null===o[A][2]?[]:o[A][2],(o[A][1]===c||t.indexOf(c)>=0)&&(i=o[A])}return null===a||null===i?error.na:a[3]!==i[3]?error.na:l*a[6]*d/(i[6]*p)},l.DEC2BIN=function(l,n){if((l=utils.parseNumber(l))instanceof Error)return l;if(!/^-?[0-9]{1,3}$/.test(l)||l<-512||l>511)return error.num;if(l<0)return"1"+REPT("0",9-(512+l).toString(2).length)+(512+l).toString(2);var e=parseInt(l,10).toString(2);return void 0===n?e:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=e.length?REPT("0",n-e.length)+e:error.num},l.DEC2HEX=function(l,n){if((l=utils.parseNumber(l))instanceof Error)return l;if(!/^-?[0-9]{1,12}$/.test(l)||l<-549755813888||l>549755813887)return error.num;if(l<0)return(1099511627776+l).toString(16);var e=parseInt(l,10).toString(16);return void 0===n?e:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=e.length?REPT("0",n-e.length)+e:error.num},l.DEC2OCT=function(l,n){if((l=utils.parseNumber(l))instanceof Error)return l;if(!/^-?[0-9]{1,9}$/.test(l)||l<-536870912||l>536870911)return error.num;if(l<0)return(1073741824+l).toString(8);var e=parseInt(l,10).toString(8);return void 0===n?e:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=e.length?REPT("0",n-e.length)+e:error.num},l.DELTA=function(l,n){return n=void 0===n?0:n,l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l===n?1:0},l.ERF=function(l,n){},l.ERF.PRECISE=function(){},l.ERFC=function(l){},l.ERFC.PRECISE=function(){},l.GESTEP=function(l,n){return n=n||0,l=utils.parseNumber(l),utils.anyIsError(n,l)?l:l>=n?1:0},l.HEX2BIN=function(l,n){if(!/^[0-9A-Fa-f]{1,10}$/.test(l))return error.num;var e=10===l.length&&"f"===l.substring(0,1).toLowerCase(),t=e?parseInt(l,16)-1099511627776:parseInt(l,16);if(t<-512||t>511)return error.num;if(e)return"1"+REPT("0",9-(512+t).toString(2).length)+(512+t).toString(2);var o=t.toString(2);return void 0===n?o:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=o.length?REPT("0",n-o.length)+o:error.num},l.HEX2DEC=function(l){if(!/^[0-9A-Fa-f]{1,10}$/.test(l))return error.num;var n=parseInt(l,16);return n>=549755813888?n-1099511627776:n},l.HEX2OCT=function(l,n){if(!/^[0-9A-Fa-f]{1,10}$/.test(l))return error.num;var e=parseInt(l,16);if(e>536870911&&e<0xffe0000000)return error.num;if(e>=0xffe0000000)return(e-0xffc0000000).toString(8);var t=e.toString(8);return void 0===n?t:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=t.length?REPT("0",n-t.length)+t:error.num},l.IMABS=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},l.IMAGINARY=function(l){if(void 0===l||!0===l||!1===l)return error.value;if(0===l||"0"===l)return 0;if(["i","j"].indexOf(l)>=0)return 1;var n=(l=l.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),e=l.indexOf("-");0===n&&(n=l.indexOf("+",1)),0===e&&(e=l.indexOf("-",1));var t=l.substring(l.length-1,l.length),o="i"===t||"j"===t;return n>=0||e>=0?o?n>=0?isNaN(l.substring(0,n))||isNaN(l.substring(n+1,l.length-1))?error.num:Number(l.substring(n+1,l.length-1)):isNaN(l.substring(0,e))||isNaN(l.substring(e+1,l.length-1))?error.num:-Number(l.substring(e+1,l.length-1)):error.num:o?isNaN(l.substring(0,l.length-1))?error.num:l.substring(0,l.length-1):isNaN(l)?error.num:0},l.IMARGUMENT=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:0===e&&0===t?error.div0:0===e&&t>0?Math.PI/2:0===e&&t<0?-Math.PI/2:0===t&&e>0?0:0===t&&e<0?-Math.PI:e>0?Math.atan(t/e):e<0&&t>=0?Math.atan(t/e)+Math.PI:Math.atan(t/e)-Math.PI},l.IMCONJUGATE=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",0!==t?l.COMPLEX(e,-t,o):n},l.IMCOS=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.cos(e)*(Math.exp(t)+Math.exp(-t))/2,-Math.sin(e)*(Math.exp(t)-Math.exp(-t))/2,o)},l.IMCOSH=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.cos(t)*(Math.exp(e)+Math.exp(-e))/2,Math.sin(t)*(Math.exp(e)-Math.exp(-e))/2,o)},l.IMCOT=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:l.IMDIV(l.IMCOS(n),l.IMSIN(n))},l.IMDIV=function(n,e){var t=l.IMREAL(n),o=l.IMAGINARY(n),u=l.IMREAL(e),r=l.IMAGINARY(e);if(utils.anyIsError(t,o,u,r))return error.value;var a=n.substring(n.length-1),i=e.substring(e.length-1),s="i";if("j"===a?s="j":"j"===i&&(s="j"),0===u&&0===r)return error.num;var c=u*u+r*r;return l.COMPLEX((t*u+o*r)/c,(o*u-t*r)/c,s)},l.IMEXP=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);o="i"===o||"j"===o?o:"i";var u=Math.exp(e);return l.COMPLEX(u*Math.cos(t),u*Math.sin(t),o)},l.IMLN=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.log(Math.sqrt(e*e+t*t)),Math.atan(t/e),o)},l.IMLOG10=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.log(Math.sqrt(e*e+t*t))/Math.log(10),Math.atan(t/e)/Math.log(10),o)},l.IMLOG2=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.log(Math.sqrt(e*e+t*t))/Math.log(2),Math.atan(t/e)/Math.log(2),o)},l.IMPOWER=function(n,e){e=utils.parseNumber(e);var t=l.IMREAL(n),o=l.IMAGINARY(n);if(utils.anyIsError(e,t,o))return error.value;var u=n.substring(n.length-1);u="i"===u||"j"===u?u:"i";var r=Math.pow(l.IMABS(n),e),a=l.IMARGUMENT(n);return l.COMPLEX(r*Math.cos(e*a),r*Math.sin(e*a),u)},l.IMPRODUCT=function(){for(var n=arguments[0],e=1;e<arguments.length;e++){var t=l.IMREAL(n),o=l.IMAGINARY(n),u=l.IMREAL(arguments[e]),r=l.IMAGINARY(arguments[e]);if(utils.anyIsError(t,o,u,r))return error.value;n=l.COMPLEX(t*u-o*r,t*r+o*u)}return n},l.IMREAL=function(l){if(void 0===l||!0===l||!1===l)return error.value;if(0===l||"0"===l)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(l)>=0)return 0;var n=l.indexOf("+"),e=l.indexOf("-");0===n&&(n=l.indexOf("+",1)),0===e&&(e=l.indexOf("-",1));var t=l.substring(l.length-1,l.length),o="i"===t||"j"===t;return n>=0||e>=0?o?n>=0?isNaN(l.substring(0,n))||isNaN(l.substring(n+1,l.length-1))?error.num:Number(l.substring(0,n)):isNaN(l.substring(0,e))||isNaN(l.substring(e+1,l.length-1))?error.num:Number(l.substring(0,e)):error.num:o?isNaN(l.substring(0,l.length-1))?error.num:0:isNaN(l)?error.num:l},l.IMSEC=function(n){if(!0===n||!1===n)return error.value;var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:l.IMDIV("1",l.IMCOS(n))},l.IMSECH=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:l.IMDIV("1",l.IMCOSH(n))},l.IMSIN=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.sin(e)*(Math.exp(t)+Math.exp(-t))/2,Math.cos(e)*(Math.exp(t)-Math.exp(-t))/2,o)},l.IMSINH=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);return o="i"===o||"j"===o?o:"i",l.COMPLEX(Math.cos(t)*(Math.exp(e)-Math.exp(-e))/2,Math.sin(t)*(Math.exp(e)+Math.exp(-e))/2,o)},l.IMSQRT=function(n){var e=l.IMREAL(n),t=l.IMAGINARY(n);if(utils.anyIsError(e,t))return error.value;var o=n.substring(n.length-1);o="i"===o||"j"===o?o:"i";var u=Math.sqrt(l.IMABS(n)),r=l.IMARGUMENT(n);return l.COMPLEX(u*Math.cos(r/2),u*Math.sin(r/2),o)},l.IMCSC=function(n){if(!0===n||!1===n)return error.value;var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.num:l.IMDIV("1",l.IMSIN(n))},l.IMCSCH=function(n){if(!0===n||!1===n)return error.value;var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.num:l.IMDIV("1",l.IMSINH(n))},l.IMSUB=function(l,n){var e=this.IMREAL(l),t=this.IMAGINARY(l),o=this.IMREAL(n),u=this.IMAGINARY(n);if(utils.anyIsError(e,t,o,u))return error.value;var r=l.substring(l.length-1),a=n.substring(n.length-1),i="i";return"j"===r?i="j":"j"===a&&(i="j"),this.COMPLEX(e-o,t-u,i)},l.IMSUM=function(){for(var l=utils.flatten(arguments),n=l[0],e=1;e<l.length;e++){var t=this.IMREAL(n),o=this.IMAGINARY(n),u=this.IMREAL(l[e]),r=this.IMAGINARY(l[e]);if(utils.anyIsError(t,o,u,r))return error.value;n=this.COMPLEX(t+u,o+r)}return n},l.IMTAN=function(n){if(!0===n||!1===n)return error.value;var e=l.IMREAL(n),t=l.IMAGINARY(n);return utils.anyIsError(e,t)?error.value:this.IMDIV(this.IMSIN(n),this.IMCOS(n))},l.OCT2BIN=function(l,n){if(!/^[0-7]{1,10}$/.test(l))return error.num;var e=10===l.length&&"7"===l.substring(0,1),t=e?parseInt(l,8)-1073741824:parseInt(l,8);if(t<-512||t>511)return error.num;if(e)return"1"+REPT("0",9-(512+t).toString(2).length)+(512+t).toString(2);var o=t.toString(2);return void 0===n?o:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=o.length?REPT("0",n-o.length)+o:error.num},l.OCT2DEC=function(l){if(!/^[0-7]{1,10}$/.test(l))return error.num;var n=parseInt(l,8);return n>=536870912?n-1073741824:n},l.OCT2HEX=function(l,n){if(!/^[0-7]{1,10}$/.test(l))return error.num;var e=parseInt(l,8);if(e>=536870912)return"ff"+(e+3221225472).toString(16);var t=e.toString(16);return void 0===n?t:isNaN(n)?error.value:n<0?error.num:(n=Math.floor(n))>=t.length?REPT("0",n-t.length)+t:error.num},l}(),jexcel.methods.financial=function(){var l={};function n(l){return l&&l.getTime&&!isNaN(l.getTime())}function e(l){return l instanceof Date?l:new Date(l)}return l.ACCRINT=function(l,t,o,u,r,a,i){return l=e(l),t=e(t),o=e(o),n(l)&&n(t)&&n(o)?u<=0||r<=0?"#NUM!":-1===[1,2,4].indexOf(a)?"#NUM!":-1===[0,1,2,3,4].indexOf(i)?"#NUM!":o<=l?"#NUM!":(i=i||0,(r=r||0)*u*YEARFRAC(l,o,i)):"#VALUE!"},l.ACCRINTM=null,l.AMORDEGRC=null,l.AMORLINC=null,l.COUPDAYBS=null,l.COUPDAYS=null,l.COUPDAYSNC=null,l.COUPNCD=null,l.COUPNUM=null,l.COUPPCD=null,l.CUMIPMT=function(n,e,t,o,u,r){if(n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(n,e,t))return error.value;if(n<=0||e<=0||t<=0)return error.num;if(o<1||u<1||o>u)return error.num;if(0!==r&&1!==r)return error.num;var a=l.PMT(n,e,t,0,r),i=0;1===o&&0===r&&(i=-t,o++);for(var s=o;s<=u;s++)i+=1===r?l.FV(n,s-2,a,t,1)-a:l.FV(n,s-1,a,t,0);return i*n},l.CUMPRINC=function(n,e,t,o,u,r){if(n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(n,e,t))return error.value;if(n<=0||e<=0||t<=0)return error.num;if(o<1||u<1||o>u)return error.num;if(0!==r&&1!==r)return error.num;var a=l.PMT(n,e,t,0,r),i=0;1===o&&(i=0===r?a+t*n:a,o++);for(var s=o;s<=u;s++)i+=r>0?a-(l.FV(n,s-2,a,t,1)-a)*n:a-l.FV(n,s-1,a,t,0)*n;return i},l.DB=function(l,n,e,t,o){if(o=void 0===o?12:o,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o))return error.value;if(l<0||n<0||e<0||t<0)return error.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(o))return error.num;if(t>e)return error.num;if(n>=l)return 0;for(var u=(1-Math.pow(n/l,1/e)).toFixed(3),r=l*u*o/12,a=r,i=0,s=t===e?e-1:t,c=2;c<=s;c++)a+=i=(l-a)*u;return 1===t?r:t===e?(l-a)*u:i},l.DDB=function(l,n,e,t,o){if(o=void 0===o?2:o,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o))return error.value;if(l<0||n<0||e<0||t<0||o<=0)return error.num;if(t>e)return error.num;if(n>=l)return 0;for(var u=0,r=0,a=1;a<=t;a++)u+=r=Math.min(o/e*(l-u),l-n-u);return r},l.DISC=null,l.DOLLARDE=function(l,n){if(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;if(n<0)return error.num;if(n>=0&&n<1)return error.div0;n=parseInt(n,10);var e=parseInt(l,10);e+=l%1*Math.pow(10,Math.ceil(Math.log(n)/Math.LN10))/n;var t=Math.pow(10,Math.ceil(Math.log(n)/Math.LN2)+1);return Math.round(e*t)/t},l.DOLLARFR=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:n<0?error.num:n>=0&&n<1?error.div0:(n=parseInt(n,10),parseInt(l,10)+l%1*Math.pow(10,-Math.ceil(Math.log(n)/Math.LN10))*n)},l.DURATION=null,l.EFFECT=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<=0||n<1?error.num:(n=parseInt(n,10),Math.pow(1+l/n,n)-1)},l.FV=function(l,n,e,t,o){if(t=t||0,o=o||0,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o))return error.value;var u;if(0===l)u=t+e*n;else{var r=Math.pow(1+l,n);u=1===o?t*r+e*(1+l)*(r-1)/l:t*r+e*(r-1)/l}return-u},l.FVSCHEDULE=function(l,n){if(l=utils.parseNumber(l),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;for(var e=n.length,t=l,o=0;o<e;o++)t*=1+n[o];return t},l.INTRATE=null,l.IPMT=function(n,e,t,o,u,r){if(u=u||0,r=r||0,n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),u=utils.parseNumber(u),r=utils.parseNumber(r),utils.anyIsError(n,e,t,o,u,r))return error.value;var a=l.PMT(n,t,o,u,r);return(1===e?1===r?0:-o:1===r?l.FV(n,e-2,a,o,1)-a:l.FV(n,e-1,a,o,0))*n},l.IRR=function(l,n){if(n=n||0,l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;for(var e=function(l,n,e){for(var t=e+1,o=l[0],u=1;u<l.length;u++)o+=l[u]/Math.pow(t,(n[u]-n[0])/365);return o},t=function(l,n,e){for(var t=e+1,o=0,u=1;u<l.length;u++){var r=(n[u]-n[0])/365;o-=r*l[u]/Math.pow(t,r+1)}return o},o=[],u=!1,r=!1,a=0;a<l.length;a++)o[a]=0===a?0:o[a-1]+365,l[a]>0&&(u=!0),l[a]<0&&(r=!0);if(!u||!r)return error.num;var i,s,c,d=n=void 0===n?.1:n,p=!0;do{i=d-(c=e(l,o,d))/t(l,o,d),s=Math.abs(i-d),d=i,p=s>1e-10&&Math.abs(c)>1e-10}while(p);return d},l.ISPMT=function(l,n,e,t){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(l,n,e,t)?error.value:t*l*(n/e-1)},l.MDURATION=null,l.MIRR=function(n,e,t){if(n=utils.parseNumberArray(utils.flatten(n)),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(n,e,t))return error.value;for(var o=n.length,u=[],r=[],a=0;a<o;a++)n[a]<0?u.push(n[a]):r.push(n[a]);var i=-l.NPV(t,r)*Math.pow(1+t,o-1),s=l.NPV(e,u)*(1+e);return Math.pow(i/s,1/(o-1))-1},l.NOMINAL=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l<=0||n<1?error.num:(n=parseInt(n,10),(Math.pow(l+1,1/n)-1)*n)},l.NPER=function(l,n,e,t,o){return o=void 0===o?0:o,t=void 0===t?0:t,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o)?error.value:Math.log((n*(1+l*o)-t*l)/(e*l+n*(1+l*o)))/Math.log(1+l)},l.NPV=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n=l[0],e=0,t=1;t<l.length;t++)e+=l[t]/Math.pow(1+n,t);return e},l.ODDFPRICE=null,l.ODDFYIELD=null,l.ODDLPRICE=null,l.ODDLYIELD=null,l.PDURATION=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:l<=0?error.num:(Math.log(e)-Math.log(n))/Math.log(1+l)},l.PMT=function(l,n,e,t,o){if(t=t||0,o=o||0,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o))return error.value;var u;if(0===l)u=(e+t)/n;else{var r=Math.pow(1+l,n);u=1===o?(t*l/(r-1)+e*l/(1-1/r))/(1+l):t*l/(r-1)+e*l/(1-1/r)}return-u},l.PPMT=function(n,e,t,o,u,r){return u=u||0,r=r||0,n=utils.parseNumber(n),t=utils.parseNumber(t),o=utils.parseNumber(o),u=utils.parseNumber(u),r=utils.parseNumber(r),utils.anyIsError(n,t,o,u,r)?error.value:l.PMT(n,t,o,u,r)-l.IPMT(n,e,t,o,u,r)},l.PRICE=null,l.PRICEDISC=null,l.PRICEMAT=null,l.PV=function(l,n,e,t,o){return t=t||0,o=o||0,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),utils.anyIsError(l,n,e,t,o)?error.value:0===l?-e*n-t:((1-Math.pow(1+l,n))/l*e*(1+l*o)-t)/Math.pow(1+l,n)},l.RATE=function(l,n,e,t,o,u){if(u=void 0===u?.01:u,t=void 0===t?0:t,o=void 0===o?0:o,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),o=utils.parseNumber(o),u=utils.parseNumber(u),utils.anyIsError(l,n,e,t,o,u))return error.value;for(var r=0,a=!1,i=u;r<100&&!a;){var s=Math.pow(i+1,l),c=Math.pow(i+1,l-1),d=i-(t+s*e+n*(s-1)*(i*o+1)/i)/(l*c*e-n*(s-1)*(i*o+1)/Math.pow(i,2)+(l*n*c*(i*o+1)/i+n*(s-1)*o/i));Math.abs(d-i)<1e-6&&(a=!0),r++,i=d}return a?i:Number.NaN+i},l.RECEIVED=null,l.RRI=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:0===l||0===n?error.num:Math.pow(e/n,1/l)-1},l.SLN=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:0===e?error.num:(l-n)/e},l.SYD=function(l,n,e,t){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(l,n,e,t)?error.value:0===e?error.num:t<1||t>e?error.num:(l-n)*(e-(t=parseInt(t,10))+1)*2/(e*(e+1))},l.TBILLEQ=function(l,n,e){return l=utils.parseDate(l),n=utils.parseDate(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:e<=0?error.num:l>n?error.num:n-l>31536e6?error.num:365*e/(360-e*DAYS360(l,n,!1))},l.TBILLPRICE=function(l,n,e){return l=utils.parseDate(l),n=utils.parseDate(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:e<=0?error.num:l>n?error.num:n-l>31536e6?error.num:100*(1-e*DAYS360(l,n,!1)/360)},l.TBILLYIELD=function(l,n,e){return l=utils.parseDate(l),n=utils.parseDate(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:e<=0?error.num:l>n?error.num:n-l>31536e6?error.num:360*(100-e)/(e*DAYS360(l,n,!1))},l.VDB=null,l.XIRR=function(l,n,e){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseDateArray(utils.flatten(n)),e=utils.parseNumber(e),utils.anyIsError(l,n,e))return error.value;for(var t=function(l,n,e){for(var t=e+1,o=l[0],u=1;u<l.length;u++)o+=l[u]/Math.pow(t,DAYS(n[u],n[0])/365);return o},o=function(l,n,e){for(var t=e+1,o=0,u=1;u<l.length;u++){var r=DAYS(n[u],n[0])/365;o-=r*l[u]/Math.pow(t,r+1)}return o},u=!1,r=!1,a=0;a<l.length;a++)l[a]>0&&(u=!0),l[a]<0&&(r=!0);if(!u||!r)return error.num;var i,s,c,d=e=e||.1,p=!0;do{i=d-(c=t(l,n,d))/o(l,n,d),s=Math.abs(i-d),d=i,p=s>1e-10&&Math.abs(c)>1e-10}while(p);return d},l.XNPV=function(l,n,e){if(l=utils.parseNumber(l),n=utils.parseNumberArray(utils.flatten(n)),e=utils.parseDateArray(utils.flatten(e)),utils.anyIsError(l,n,e))return error.value;for(var t=0,o=0;o<n.length;o++)t+=n[o]/Math.pow(1+l,DAYS(e[o],e[0])/365);return t},l.YIELD=null,l.YIELDDISC=null,l.YIELDMAT=null,l}(),jexcel.methods.information=function(){var l={CELL:null,ERROR:{}};return l.ERROR.TYPE=function(l){switch(l){case error.nil:return 1;case error.div0:return 2;case error.value:return 3;case error.ref:return 4;case error.name:return 5;case error.num:return 6;case error.na:return 7;case error.data:return 8}return error.na},l.INFO=null,l.ISBLANK=function(l){return null===l},l.ISBINARY=function(l){return/^[01]{1,10}$/.test(l)},l.ISERR=function(l){return[error.value,error.ref,error.div0,error.num,error.name,error.nil].indexOf(l)>=0||"number"==typeof l&&(isNaN(l)||!isFinite(l))},l.ISERROR=function(n){return l.ISERR(n)||n===error.na},l.ISEVEN=function(l){return!(1&Math.floor(Math.abs(l)))},l.ISFORMULA=null,l.ISLOGICAL=function(l){return!0===l||!1===l},l.ISNA=function(l){return l===error.na},l.ISNONTEXT=function(l){return"string"!=typeof l},l.ISNUMBER=function(l){return"number"==typeof l&&!isNaN(l)&&isFinite(l)},l.ISODD=function(l){return!!(1&Math.floor(Math.abs(l)))},l.ISREF=null,l.ISTEXT=function(l){return"string"==typeof l},l.N=function(l){return this.ISNUMBER(l)?l:l instanceof Date?l.getTime():!0===l?1:!1===l?0:this.ISERROR(l)?l:0},l.NA=function(){return error.na},l.SHEET=null,l.SHEETS=null,l.TYPE=function(l){return this.ISNUMBER(l)?1:this.ISTEXT(l)?2:this.ISLOGICAL(l)?4:this.ISERROR(l)?16:Array.isArray(l)?64:void 0},l}(),jexcel.methods.logical={AND:function(){for(var l=utils.flatten(arguments),n=!0,e=0;e<l.length;e++)l[e]||(n=!1);return n},CHOOSE:function(){if(arguments.length<2)return error.na;var l=arguments[0];return l<1||l>254?error.value:arguments.length<l+1?error.value:arguments[l]},FALSE:function(){return!1},IF:function(l,n,e){return l?n:e},IFERROR:function(l,n){return ISERROR(l)?n:l},IFNA:function(l,n){return l===error.na?n:l},NOT:function(l){return!l},OR:function(){for(var l=utils.flatten(arguments),n=!1,e=0;e<l.length;e++)l[e]&&(n=!0);return n},TRUE:function(){return!0},XOR:function(){for(var l=utils.flatten(arguments),n=0,e=0;e<l.length;e++)l[e]&&n++;return!!(1&Math.floor(Math.abs(n)))},SWITCH:function(){var l;if(arguments.length>0){var n=arguments[0],e=arguments.length-1,t=Math.floor(e/2),o=!1,u=e%2==0?null:arguments[arguments.length-1];if(t)for(var r=0;r<t;r++)if(n===arguments[2*r+1]){l=arguments[2*r+2],o=!0;break}!o&&u&&(l=u)}return l}},jexcel.methods.math=function(){var exports={ABS:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.abs(utils.parseNumber(l))},ACOS:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.acos(l)},ACOSH:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log(l+Math.sqrt(l*l-1))},ACOT:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.atan(1/l)},ACOTH:function(l){return(l=utils.parseNumber(l))instanceof Error?l:.5*Math.log((l+1)/(l-1))},AGGREGATE:null,ARABIC:function(l){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(l))return error.value;var n=0;return l.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(l){n+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[l]}),n},ASIN:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.asin(l)},ASINH:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log(l+Math.sqrt(l*l+1))},ATAN:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.atan(l)},ATAN2:function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:Math.atan2(l,n)},ATANH:function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log((1+l)/(1-l))/2},BASE:function(l,n,e){if(e=e||0,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e))return error.value;e=void 0===e?0:e;var t=l.toString(n);return new Array(Math.max(e+1-t.length,0)).join("0")+t},CEILING:function(l,n,e){return n=void 0===n?1:n,e=void 0===e?0:e,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:0===n?0:(n=Math.abs(n),l>=0?Math.ceil(l/n)*n:0===e?-1*Math.floor(Math.abs(l)/n)*n:-1*Math.ceil(Math.abs(l)/n)*n)}};exports.CEILING.MATH=exports.CEILING,exports.CEILING.PRECISE=exports.CEILING,exports.COMBIN=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:exports.FACT(l)/(exports.FACT(n)*exports.FACT(l-n))},exports.COMBINA=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:0===l&&0===n?1:exports.COMBIN(l+n-1,l-1)},exports.COS=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.cos(l)},exports.COSH=function(l){return(l=utils.parseNumber(l))instanceof Error?l:(Math.exp(l)+Math.exp(-l))/2},exports.COT=function(l){return(l=utils.parseNumber(l))instanceof Error?l:1/Math.tan(l)},exports.COTH=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.exp(2*l);return(n+1)/(n-1)},exports.CSC=function(l){return(l=utils.parseNumber(l))instanceof Error?l:1/Math.sin(l)},exports.CSCH=function(l){return(l=utils.parseNumber(l))instanceof Error?l:2/(Math.exp(l)-Math.exp(-l))},exports.DECIMAL=function(l,n){return arguments.length<1?error.value:parseInt(l,n)},exports.DEGREES=function(l){return(l=utils.parseNumber(l))instanceof Error?l:180*l/Math.PI},exports.EVEN=function(l){return(l=utils.parseNumber(l))instanceof Error?l:exports.CEILING(l,-2,-1)},exports.EXP=Math.exp;var MEMOIZED_FACT=[];return exports.FACT=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.floor(l);return 0===n||1===n?1:MEMOIZED_FACT[n]>0?MEMOIZED_FACT[n]:(MEMOIZED_FACT[n]=exports.FACT(n-1)*n,MEMOIZED_FACT[n])},exports.FACTDOUBLE=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.floor(l);return n<=0?1:n*exports.FACTDOUBLE(n-2)},exports.FLOOR=function(l,n,e){return n=void 0===n?1:n,e=void 0===e?0:e,l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:0===n?0:(n=Math.abs(n),l>=0?Math.floor(l/n)*n:0===e?-1*Math.ceil(Math.abs(l)/n)*n:-1*Math.floor(Math.abs(l)/n)*n)},exports.FLOOR.MATH=exports.FLOOR,exports.GCD=null,exports.INT=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.floor(l)},exports.LCM=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n,e,t,o,u=1;void 0!==(t=l.pop());)for(;t>1;){if(t%2){for(n=3,e=Math.floor(Math.sqrt(t));n<=e&&t%n;n+=2);o=n<=e?n:t}else o=2;for(t/=o,u*=o,n=l.length;n;l[--n]%o==0&&1==(l[n]/=o)&&l.splice(n,1));}return u},exports.LN=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log(l)},exports.LOG=function(l,n){return l=utils.parseNumber(l),n=void 0===n?10:utils.parseNumber(n),utils.anyIsError(l,n)?error.value:Math.log(l)/Math.log(n)},exports.LOG10=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log(l)/Math.log(10)},exports.MDETERM=null,exports.MINVERSE=null,exports.MMULT=null,exports.MOD=function(l,n){if(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;if(0===n)return error.div0;var e=Math.abs(l%n);return n>0?e:-e},exports.MROUND=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l*n<0?error.num:Math.round(l/n)*n},exports.MULTINOMIAL=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n=0,e=1,t=0;t<l.length;t++)n+=l[t],e*=exports.FACT(l[t]);return exports.FACT(n)/e},exports.MUNIT=null,exports.ODD=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.ceil(Math.abs(l));return n=1&n?n:n+1,l>0?n:-n},exports.PI=function(){return Math.PI},exports.POWER=function(l,n){if(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;var e=Math.pow(l,n);return isNaN(e)?error.num:e},exports.PRODUCT=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n=1,e=0;e<l.length;e++)n*=l[e];return n},exports.QUOTIENT=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:parseInt(l/n,10)},exports.RADIANS=function(l){return(l=utils.parseNumber(l))instanceof Error?l:l*Math.PI/180},exports.RAND=function(){return Math.random()},exports.RANDBETWEEN=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l+Math.ceil((n-l+1)*Math.random())-1},exports.ROMAN=null,exports.ROUND=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:Math.round(l*Math.pow(10,n))/Math.pow(10,n)},exports.ROUNDDOWN=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:(l>0?1:-1)*Math.floor(Math.abs(l)*Math.pow(10,n))/Math.pow(10,n)},exports.ROUNDUP=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:(l>0?1:-1)*Math.ceil(Math.abs(l)*Math.pow(10,n))/Math.pow(10,n)},exports.SEC=function(l){return(l=utils.parseNumber(l))instanceof Error?l:1/Math.cos(l)},exports.SECH=function(l){return(l=utils.parseNumber(l))instanceof Error?l:2/(Math.exp(l)+Math.exp(-l))},exports.SERIESSUM=function(l,n,e,t){if(l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),t=utils.parseNumberArray(t),utils.anyIsError(l,n,e,t))return error.value;for(var o=t[0]*Math.pow(l,n),u=1;u<t.length;u++)o+=t[u]*Math.pow(l,n+u*e);return o},exports.SIGN=function(l){return(l=utils.parseNumber(l))instanceof Error?l:l<0?-1:0===l?0:1},exports.SIN=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.sin(l)},exports.SINH=function(l){return(l=utils.parseNumber(l))instanceof Error?l:(Math.exp(l)-Math.exp(-l))/2},exports.SQRT=function(l){return(l=utils.parseNumber(l))instanceof Error?l:l<0?error.num:Math.sqrt(l)},exports.SQRTPI=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.sqrt(l*Math.PI)},exports.SUBTOTAL=null,exports.ADD=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l+n)},exports.MINUS=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l-n)},exports.DIVIDE=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:0===n?error.div0:l/n)},exports.MULTIPLY=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:l*n)},exports.GTE=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.error:l>=n)},exports.LT=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.error:l<n)},exports.LTE=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.error:l<=n)},exports.EQ=function(l,n){return 2!==arguments.length?error.na:l===n},exports.NE=function(l,n){return 2!==arguments.length?error.na:l!==n},exports.POW=function(l,n){return 2!==arguments.length?error.na:(l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.error:exports.POWER(l,n))},exports.SUM=function(){for(var l=0,n=Object.keys(arguments),e=0;e<n.length;++e){var t=arguments[n[e]];if("number"==typeof t)l+=t;else if("string"==typeof t){var o=parseFloat(t);!isNaN(o)&&(l+=o)}else Array.isArray(t)&&(l+=exports.SUM.apply(null,t))}return l},exports.SUMIF=function(range,criteria){if(range=utils.parseNumberArray(utils.flatten(range)),range instanceof Error)return range;for(var result=0,i=0;i<range.length;i++)result+=eval(range[i]+criteria)?range[i]:0;return result},exports.SUMIFS=function(){var args=utils.argsToArray(arguments),range=utils.parseNumberArray(utils.flatten(args.shift()));if(range instanceof Error)return range;for(var criteria=args,n_range_elements=range.length,n_criterias=criteria.length,result=0,i=0;i<n_range_elements;i++){for(var el=range[i],condition="",c=0;c<n_criterias;c++)condition+=el+criteria[c],c!==n_criterias-1&&(condition+="&&");eval(condition)&&(result+=el)}return result},exports.SUMPRODUCT=null,exports.SUMSQ=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n=0,e=l.length,t=0;t<e;t++)n+=ISNUMBER(l[t])?l[t]*l[t]:0;return n},exports.SUMX2MY2=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;for(var e=0,t=0;t<l.length;t++)e+=l[t]*l[t]-n[t]*n[t];return e},exports.SUMX2PY2=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;var e=0;l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n));for(var t=0;t<l.length;t++)e+=l[t]*l[t]+n[t]*n[t];return e},exports.SUMXMY2=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;var e=0;l=utils.flatten(l),n=utils.flatten(n);for(var t=0;t<l.length;t++)e+=Math.pow(l[t]-n[t],2);return e},exports.TAN=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.tan(l)},exports.TANH=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.exp(2*l);return(n-1)/(n+1)},exports.TRUNC=function(l,n){return n=void 0===n?0:n,l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:(l>0?1:-1)*Math.floor(Math.abs(l)*Math.pow(10,n))/Math.pow(10,n)},exports}(),jexcel.methods.misc=function(){var l={UNIQUE:function(){for(var l=[],n=0;n<arguments.length;++n){for(var e=!1,t=arguments[n],o=0;o<l.length&&!(e=l[o]===t);++o);e||l.push(t)}return l}};return l.FLATTEN=utils.flatten,l.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},l.REFERENCE=function(l,n){try{for(var e=n.split("."),t=l,o=0;o<e.length;++o){var u=e[o];if("]"===u[u.length-1]){var r=u.indexOf("["),a=u.substring(r+1,u.length-1);t=t[u.substring(0,r)][a]}else t=t[u]}return t}catch(error){}},l.JOIN=function(l,n){return l.join(n)},l.NUMBERS=function(){return utils.flatten(arguments).filter(function(l){return"number"==typeof l})},l.NUMERAL=null,l}(),jexcel.methods.text=function(){var l={ASC:null,BAHTTEXT:null,CHAR:function(l){return(l=utils.parseNumber(l))instanceof Error?l:String.fromCharCode(l)},CLEAN:function(l){return(l=l||"").replace(/[\0-\x1F]/g,"")},CODE:function(l){return(l=l||"").charCodeAt(0)},CONCATENATE:function(){for(var l=utils.flatten(arguments),n=0;(n=l.indexOf(!0))>-1;)l[n]="TRUE";for(var e=0;(e=l.indexOf(!1))>-1;)l[e]="FALSE";return l.join("")},DBCS:null,DOLLAR:null,EXACT:function(l,n){return l===n},FIND:function(l,n,e){return e=void 0===e?0:e,n?n.indexOf(l,e-1)+1:null},FIXED:null,HTML2TEXT:function(l){var n="";return l&&(l instanceof Array?l.forEach(function(l){""!==n&&(n+="\n"),n+=l.replace(/<(?:.|\n)*?>/gm,"")}):n=l.replace(/<(?:.|\n)*?>/gm,"")),n},LEFT:function(l,n){return(n=utils.parseNumber(n=void 0===n?1:n))instanceof Error||"string"!=typeof l?error.value:l?l.substring(0,n):null},LEN:function(l){return 0===arguments.length?error.error:"string"==typeof l?l?l.length:0:l.length?l.length:error.value},LOWER:function(l){return"string"!=typeof l?error.value:l?l.toLowerCase():l},MID:function(l,n,e){if(n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(n,e)||"string"!=typeof l)return e;var t=n-1;return l.substring(t,t+e)},NUMBERVALUE:null,PRONETIC:null,PROPER:function(l){return void 0===l||0===l.length?error.value:(!0===l&&(l="TRUE"),!1===l&&(l="FALSE"),isNaN(l)&&"number"==typeof l?error.value:("number"==typeof l&&(l=""+l),l.replace(/\w\S*/g,function(l){return l.charAt(0).toUpperCase()+l.substr(1).toLowerCase()})))},REGEXEXTRACT:function(l,n){var e=l.match(new RegExp(n));return e?e[e.length>1?e.length-1:0]:null},REGEXMATCH:function(l,n,e){var t=l.match(new RegExp(n));return e?t:!!t},REGEXREPLACE:function(l,n,e){return l.replace(new RegExp(n),e)},REPLACE:function(l,n,e,t){return n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(n,e)||"string"!=typeof l||"string"!=typeof t?error.value:l.substr(0,n-1)+t+l.substr(n-1+e)},REPT:function(l,n){return(n=utils.parseNumber(n))instanceof Error?n:new Array(n+1).join(l)},RIGHT:function(l,n){return(n=utils.parseNumber(n=void 0===n?1:n))instanceof Error?n:l?l.substring(l.length-n):null},SEARCH:function(l,n,e){var t;return"string"!=typeof l||"string"!=typeof n?error.value:(e=void 0===e?0:e,0===(t=n.toLowerCase().indexOf(l.toLowerCase(),e-1)+1)?error.value:t)},SPLIT:function(l,n){return l.split(n)},SUBSTITUTE:function(l,n,e,t){if(!(l&&n&&e))return l;if(void 0===t)return l.replace(new RegExp(n,"g"),e);for(var o=0,u=0;l.indexOf(n,o)>0;)if(o=l.indexOf(n,o+1),++u===t)return l.substring(0,o)+e+l.substring(o+n.length)},T:function(l){return"string"==typeof l?l:""},TEXT:null,TRIM:function(l){return"string"!=typeof l?error.value:l.replace(/ +/g," ").trim()}};return l.UNICHAR=l.CHAR,l.UNICODE=l.CODE,l.UPPER=function(l){return"string"!=typeof l?error.value:l.toUpperCase()},l.VALUE=null,l}(),jexcel.methods.stats=function(){var exports={},SQRT2PI=2.5066282746310002;return exports.AVEDEV=null,exports.AVERAGE=function(){for(var l=utils.numbers(utils.flatten(arguments)),n=l.length,e=0,t=0,o=0;o<n;o++)e+=l[o],t+=1;return e/t},exports.AVERAGEA=function(){for(var l=utils.flatten(arguments),n=l.length,e=0,t=0,o=0;o<n;o++){var u=l[o];"number"==typeof u&&(e+=u),!0===u&&e++,null!==u&&t++}return e/t},exports.AVERAGEIF=function(range,criteria,average_range){if(average_range=average_range||range,range=utils.flatten(range),average_range=utils.parseNumberArray(utils.flatten(average_range)),average_range instanceof Error)return average_range;for(var average_count=0,result=0,i=0;i<range.length;i++)eval(range[i]+criteria)&&(result+=average_range[i],average_count++);return result/average_count},exports.AVERAGEIFS=null,exports.COUNT=function(){return utils.numbers(utils.flatten(arguments)).length},exports.COUNTA=function(){var l=utils.flatten(arguments);return l.length-exports.COUNTBLANK(l)},exports.COUNTIN=function(l,n){for(var e=0,t=0;t<l.length;t++)l[t]===n&&e++;return e},exports.COUNTBLANK=function(){for(var l,n=utils.flatten(arguments),e=0,t=0;t<n.length;t++)null!==(l=n[t])&&""!==l||e++;return e},exports.COUNTIF=function(range,criteria){range=utils.flatten(range),/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var matches=0,i=0;i<range.length;i++)"string"!=typeof range[i]?eval(range[i]+criteria)&&matches++:eval('"'+range[i]+'"'+criteria)&&matches++;return matches},exports.COUNTIFS=function(){for(var args=utils.argsToArray(arguments),results=new Array(utils.flatten(args[0]).length),i=0;i<results.length;i++)results[i]=!0;for(i=0;i<args.length;i+=2){var range=utils.flatten(args[i]),criteria=args[i+1];/[<>=!]/.test(criteria)||(criteria='=="'+criteria+'"');for(var j=0;j<range.length;j++)results[j]="string"!=typeof range[j]?results[j]&&eval(range[j]+criteria):results[j]&&eval('"'+range[j]+'"'+criteria)}var result=0;for(i=0;i<results.length;i++)results[i]&&result++;return result},exports.COUNTUNIQUE=function(){return UNIQUE.apply(null,utils.flatten(arguments)).length},exports.FISHER=function(l){return(l=utils.parseNumber(l))instanceof Error?l:Math.log((1+l)/(1-l))/2},exports.FISHERINV=function(l){if((l=utils.parseNumber(l))instanceof Error)return l;var n=Math.exp(2*l);return(n-1)/(n+1)},exports.FREQUENCY=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;for(var e=l.length,t=n.length,o=[],u=0;u<=t;u++){o[u]=0;for(var r=0;r<e;r++)0===u?l[r]<=n[0]&&(o[0]+=1):u<t?l[r]>n[u-1]&&l[r]<=n[u]&&(o[u]+=1):u===t&&l[r]>n[t-1]&&(o[t]+=1)}return o},exports.LARGE=function(l,n){return l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n)?l:l.sort(function(l,n){return n-l})[n-1]},exports.MAX=function(){var l=utils.numbers(utils.flatten(arguments));return 0===l.length?0:Math.max.apply(Math,l)},exports.MAXA=function(){var l=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===l.length?0:Math.max.apply(Math,l)},exports.MIN=function(){var l=utils.numbers(utils.flatten(arguments));return 0===l.length?0:Math.min.apply(Math,l)},exports.MINA=function(){var l=utils.arrayValuesToNumbers(utils.flatten(arguments));return 0===l.length?0:Math.min.apply(Math,l)},exports.MODE={},exports.MODE.MULT=function(){var l=utils.parseNumberArray(utils.flatten(arguments));if(l instanceof Error)return l;for(var n,e=l.length,t={},o=[],u=0,r=0;r<e;r++)t[n=l[r]]=t[n]?t[n]+1:1,t[n]>u&&(u=t[n],o=[]),t[n]===u&&(o[o.length]=n);return o},exports.MODE.SNGL=function(){var l=utils.parseNumberArray(utils.flatten(arguments));return l instanceof Error?l:exports.MODE.MULT(l).sort(function(l,n){return l-n})[0]},exports.PERCENTILE={},exports.PERCENTILE.EXC=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;var e=(l=l.sort(function(l,n){return l-n})).length;if(n<1/(e+1)||n>1-1/(e+1))return error.num;var t=n*(e+1)-1,o=Math.floor(t);return utils.cleanFloat(t===o?l[t]:l[o]+(t-o)*(l[o+1]-l[o]))},exports.PERCENTILE.INC=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;var e=n*((l=l.sort(function(l,n){return l-n})).length-1),t=Math.floor(e);return utils.cleanFloat(e===t?l[e]:l[t]+(e-t)*(l[t+1]-l[t]))},exports.PERCENTRANK={},exports.PERCENTRANK.EXC=function(l,n,e){if(e=void 0===e?3:e,l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e))return error.value;l=l.sort(function(l,n){return l-n});for(var t=UNIQUE.apply(null,l),o=l.length,u=t.length,r=Math.pow(10,e),a=0,i=!1,s=0;!i&&s<u;)n===t[s]?(a=(l.indexOf(t[s])+1)/(o+1),i=!0):n>=t[s]&&(n<t[s+1]||s===u-1)&&(a=(l.indexOf(t[s])+1+(n-t[s])/(t[s+1]-t[s]))/(o+1),i=!0),s++;return Math.floor(a*r)/r},exports.PERCENTRANK.INC=function(l,n,e){if(e=void 0===e?3:e,l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e))return error.value;l=l.sort(function(l,n){return l-n});for(var t=UNIQUE.apply(null,l),o=l.length,u=t.length,r=Math.pow(10,e),a=0,i=!1,s=0;!i&&s<u;)n===t[s]?(a=l.indexOf(t[s])/(o-1),i=!0):n>=t[s]&&(n<t[s+1]||s===u-1)&&(a=(l.indexOf(t[s])+(n-t[s])/(t[s+1]-t[s]))/(o-1),i=!0),s++;return Math.floor(a*r)/r},exports.PERMUT=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:FACT(l)/FACT(l-n)},exports.PERMUTATIONA=function(l,n){return l=utils.parseNumber(l),n=utils.parseNumber(n),utils.anyIsError(l,n)?error.value:Math.pow(l,n)},exports.PHI=function(l){return(l=utils.parseNumber(l))instanceof Error?error.value:Math.exp(-.5*l*l)/SQRT2PI},exports.PROB=function(l,n,e,t){if(void 0===e)return 0;if(t=void 0===t?e:t,l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),e=utils.parseNumber(e),t=utils.parseNumber(t),utils.anyIsError(l,n,e,t))return error.value;if(e===t)return l.indexOf(e)>=0?n[l.indexOf(e)]:0;for(var o=l.sort(function(l,n){return l-n}),u=o.length,r=0,a=0;a<u;a++)o[a]>=e&&o[a]<=t&&(r+=n[l.indexOf(o[a])]);return r},exports.QUARTILE={},exports.QUARTILE.EXC=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;switch(n){case 1:return exports.PERCENTILE.EXC(l,.25);case 2:return exports.PERCENTILE.EXC(l,.5);case 3:return exports.PERCENTILE.EXC(l,.75);default:return error.num}},exports.QUARTILE.INC=function(l,n){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;switch(n){case 1:return exports.PERCENTILE.INC(l,.25);case 2:return exports.PERCENTILE.INC(l,.5);case 3:return exports.PERCENTILE.INC(l,.75);default:return error.num}},exports.RANK={},exports.RANK.AVG=function(l,n,e){if(l=utils.parseNumber(l),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n))return error.value;for(var t=(n=(n=utils.flatten(n)).sort((e=e||!1)?function(l,n){return l-n}:function(l,n){return n-l})).length,o=0,u=0;u<t;u++)n[u]===l&&o++;return o>1?(2*n.indexOf(l)+o+1)/2:n.indexOf(l)+1},exports.RANK.EQ=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n)?error.value:(n=n.sort((e=e||!1)?function(l,n){return l-n}:function(l,n){return n-l})).indexOf(l)+1},exports.RSQ=function(l,n){return l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumberArray(utils.flatten(n)),utils.anyIsError(l,n)?error.value:Math.pow(exports.PEARSON(l,n),2)},exports.SMALL=function(l,n){return l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n)?l:l.sort(function(l,n){return l-n})[n-1]},exports.STANDARDIZE=function(l,n,e){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:(l-n)/e},exports.STDEV={},exports.STDEV.P=function(){var l=exports.VAR.P.apply(this,arguments);return Math.sqrt(l)},exports.STDEV.S=function(){var l=exports.VAR.S.apply(this,arguments);return Math.sqrt(l)},exports.STDEVA=function(){var l=exports.VARA.apply(this,arguments);return Math.sqrt(l)},exports.STDEVPA=function(){var l=exports.VARPA.apply(this,arguments);return Math.sqrt(l)},exports.VAR={},exports.VAR.P=function(){for(var l=utils.numbers(utils.flatten(arguments)),n=l.length,e=0,t=exports.AVERAGE(l),o=0;o<n;o++)e+=Math.pow(l[o]-t,2);return e/n},exports.VAR.S=function(){for(var l=utils.numbers(utils.flatten(arguments)),n=l.length,e=0,t=exports.AVERAGE(l),o=0;o<n;o++)e+=Math.pow(l[o]-t,2);return e/(n-1)},exports.VARA=function(){for(var l=utils.flatten(arguments),n=l.length,e=0,t=0,o=exports.AVERAGEA(l),u=0;u<n;u++){var r=l[u];e+="number"==typeof r?Math.pow(r-o,2):!0===r?Math.pow(1-o,2):Math.pow(0-o,2),null!==r&&t++}return e/(t-1)},exports.VARPA=function(){for(var l=utils.flatten(arguments),n=l.length,e=0,t=0,o=exports.AVERAGEA(l),u=0;u<n;u++){var r=l[u];e+="number"==typeof r?Math.pow(r-o,2):!0===r?Math.pow(1-o,2):Math.pow(0-o,2),null!==r&&t++}return e/t},exports.WEIBULL={},exports.WEIBULL.DIST=function(l,n,e,t){return l=utils.parseNumber(l),n=utils.parseNumber(n),e=utils.parseNumber(e),utils.anyIsError(l,n,e)?error.value:t?1-Math.exp(-Math.pow(l/e,n)):Math.pow(l,n-1)*Math.exp(-Math.pow(l/e,n))*n/Math.pow(e,n)},exports.Z={},exports.Z.TEST=function(l,n,e){if(l=utils.parseNumberArray(utils.flatten(l)),n=utils.parseNumber(n),utils.anyIsError(l,n))return error.value;e=e||exports.STDEV.S(l);var t=l.length;return 1-exports.NORM.S.DIST((exports.AVERAGE(l)-n)/(e/Math.sqrt(t)),!0)},exports}(),jexcel.methods.utils={PROGRESS:function(l,n){return'<div style="width:'+(l||"0")+"%;height:4px;background-color:"+(n||"red")+';margin-top:1px;"></div>'},RATING:function(l){for(var n='<div class="jrating">',e=0;e<5;e++)n+=e<l?'<div class="jrating-selected"></div>':"<div></div>";return n+"</div>"}};for(var i=0;i<Object.keys(jexcel.methods).length;i++)for(var methods=jexcel.methods[Object.keys(jexcel.methods)[i]],j=0;j<Object.keys(methods).length;j++)"function"==typeof methods[Object.keys(methods)[j]]?window[Object.keys(methods)[j]]=methods[Object.keys(methods)[j]]:window[Object.keys(methods)[j]]=function(){return Object.keys(methods)[j]+"Not implemented"};return jexcel},module.exports=factory()},CRli:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=function(){return function(){}}(),u=e("pMnS"),r=e("gIcY"),a=e("5uTj"),i=e("XGpf"),s=e("iCKj"),c=e("HgZ9"),d=e("iJXZ"),p=e("Ip0R"),b=e("ZYCi"),g=e("gM3f"),m=e("aECD"),h=e("PSD3"),f=e.n(h),v=(e("JQBr"),e("OpIl")),A=e("6QN/"),C=e("tc+z"),I=e("MCLT"),y=function(){function l(l,n,e,t,o,u){var a=this;this.route=l,this.dataService=n,this.httpService=e,this.router=t,this.cookie=o,this.utilService=u,this.currentJustify="fill",this.editModelTitle=!1,this.modelTitle=new r.g(""),this.modelPublicView=!1,this.editModelRemarks=!1,this.modelRemarks=new r.g(""),this.activeId="node",this.showThrobber=!1,this.route.data.subscribe(function(l){a.modelMasterData=l.modelData,a.modelTitle.setValue(a.modelMasterData.modelName),a.modelPublicView=a.modelMasterData.publicView,a.modelRemarks.setValue(a.modelMasterData.remarks),a.modelCopyData=a.dataService.deepClone(l.modelData)}),this.route.firstChild.params.subscribe(function(l){l.step&&(a.activeId=l.step),a.selectedType=l.type}),this.utilService.getFilterLoc().subscribe(function(l){Object(I.isNullOrUndefined)(l)||(a.selectedBasin=l)})}return l.prototype.ngOnInit=function(){this.userdetails=JSON.parse(this.cookie.get("userdetails")),this.userId=this.userdetails.loggedUserData.userProfile.userId?this.userdetails.loggedUserData.userProfile.userId:null,this.userName=this.userdetails.login?this.userdetails.login:null,"MASTER_DATA"==this.modelMasterData.modelType?this.runFlag=!1:"OPERATIONAL"==this.modelMasterData.modelType?this.runFlag=!!this.userdetails.roles.includes("ADMIN"):"PLANNING"==this.modelMasterData.modelType&&(this.runFlag=!0),"create"===this.route.firstChild.snapshot.params.type&&(this.route.firstChild.snapshot.queryParams.modelId||this.router.navigate(["."],{relativeTo:this.route.firstChild,queryParams:{modelId:this.modelMasterData.modelUUID,modelType:this.modelMasterData.modelType,rootEntityUuid:this.modelMasterData.modelRootEntityUuid}})),"replicate"===this.route.firstChild.snapshot.params.type&&this.route.firstChild.snapshot.queryParams.modelId!=this.modelMasterData.modelUUID&&this.router.navigate(["."],{relativeTo:this.route.firstChild,queryParams:{modelId:this.modelMasterData.modelUUID,modelType:this.modelMasterData.modelType,rootEntityUuid:this.modelMasterData.modelRootEntityUuid}})},l.prototype.saveModalPulicPrivate=function(){var l=this;this.modelMasterData.modelName=this.modelTitle.value,this.modelMasterData.publicView=this.modelPublicView?0:1;var n=this.dataService.deepClone(v.a.MODEL_UPDATE);n.postData.model=this.modelMasterData,this.httpService.placeAPICall(n).subscribe(function(n){n&&l.dataService.showToastMessage("Updated successfully","success")},function(n){l.dataService.showToastMessage("Update failure","error"),l.modelTitle.setValue(l.modelCopyData.modelName)})},l.prototype.saveModalName=function(){var l=this;if(this.editModelTitle=!this.editModelTitle,this.modelTitle.value!==this.modelMasterData.modelName){this.modelMasterData.modelName=this.modelTitle.value,this.modelMasterData.publicView=this.modelPublicView?1:0;var n=this.dataService.deepClone(v.a.MODEL_UPDATE);n.postData.model=this.modelMasterData,this.httpService.placeAPICall(n).subscribe(function(n){n&&l.dataService.showToastMessage("Updated successfully","success")},function(n){l.dataService.showToastMessage("Update failure","error"),l.modelTitle.setValue(l.modelCopyData.modelName)})}},l.prototype.saveModalRemarks=function(){var l=this;if(this.editModelRemarks=!this.editModelRemarks,this.modelRemarks.value!==this.modelMasterData.remarks){this.modelMasterData.remarks=this.modelRemarks.value;var n=this.dataService.deepClone(v.a.MODEL_UPDATE);n.postData.model=this.modelMasterData,this.httpService.placeAPICall(n).subscribe(function(n){n&&l.dataService.showToastMessage("Updated successfully","success")},function(n){l.dataService.showToastMessage("Update failure","error"),l.modelRemarks.setValue(l.modelCopyData.remarks)})}},l.prototype.runModel=function(){var l=this;this.showThrobber=!0;var n=this.dataService.deepClone(v.a.RUN_MODEL);n.postData.modelUUID=this.modelMasterData.modelUUID,n.postData.userId=this.userId,n.postData.rootEntityUuid=this.selectedBasin,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.isVerification="VERIFICATION"===this.modelMasterData.modelType,this.httpService.placeAPICall(n).subscribe(function(n){n&&n.success?(l.showThrobber=!1,f.a.fire({title:"Model Executed Successfully",showCancelButton:!0,type:"success",confirmButtonText:"Results",showLoaderOnConfirm:!0}).then(function(n){n.value&&l.router.navigate(["","detailView","result"])})):(l.showThrobber=!1,f.a.fire({title:"Model Execution Failed",showCancelButton:!1,type:"error"}).then(function(l){}))},function(n){l.showThrobber=!1,f.a.fire({title:"Model Execution Failed",showCancelButton:!1,type:"error"}).then(function(l){})})},l.prototype.tabChange=function(l){this.router.navigate(["","detailView","modelItem",this.selectedType,l.nextId],{queryParamsHandling:"preserve"})},l.prototype.navigateToSvgNetwork=function(){console.log(this.modelMasterData),this.router.navigate(["","kaleshwaram","create-svg"],{queryParams:{modelId:this.modelMasterData.modelUUID,modelType:this.modelMasterData.modelType,rootEntityUuid:this.modelMasterData.modelRootEntityUuid}})},l}(),w=e("jmvC"),x=t.zb({encapsulation:0,styles:[[".heading-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#fff!important}.heading-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#fff}.heading-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:500;color:#fff}.heading-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:1.5rem}.heading-title[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;gap:.5rem}.heading-title[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#000;display:flex;margin:0;align-items:center}.heading-title[_ngcontent-%COMP%]   .h5-heading[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#212529}.heading-title[_ngcontent-%COMP%]   .h5-heading[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#adb5bd!important;padding-top:1rem}.heading-title[_ngcontent-%COMP%]   .text-items[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:.75rem;color:#343a40}.heading-title[_ngcontent-%COMP%]   .text-items[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#343a40}@media (max-width:768px){.heading-title[_ngcontent-%COMP%]   .text-items[_ngcontent-%COMP%]{display:block}}"]],data:{}});function L(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Sb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.modelTitle.value)})}function j(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"input",[["class","form-control col-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,1)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,1)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,1)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(3,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){l(n,3,0,n.component.modelTitle)},function(l,n){l(n,0,0,t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function E(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;return"click"===n&&(t=0!=(o.editModelTitle=!o.editModelTitle)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function D(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveModalName()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function S(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Sb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.modelMasterData.remarks)})}function N(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,1)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,1)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,1)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(3,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){l(n,3,0,n.component.modelRemarks)},function(l,n){l(n,0,0,t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function T(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;return"click"===n&&(t=0!=(o.editModelRemarks=!o.editModelRemarks)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function F(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveModalRemarks()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function B(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,65,"div",[["class","container-fluid mt-3"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[["id","'runModel'"]],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,60,"div",[["class","d-flex flex-wrap align-items-start"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,59,"div",[["class","heading-title flex-fill"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,10,"div",[["class","page-header"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,4,"div",[["class","page-header-start"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,3,"div",[["class","page-title d-flex text-nowrap"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,2,"span",[["class","icon"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,0,"i",[["aria-hidden","true"],["class","bi bi-pencil-square"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Reservoir Operation "])),(l()(),t.Bb(12,0,null,null,4,"div",[["class","page-header-end"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,3,"div",[["class","model-type d-flex"]],null,null,null,null,null)),(l()(),t.Bb(14,0,null,null,2,"button",[["class","btn btn-warning rounded-pill shadow-sm"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.runModel()&&t),t},null,null)),(l()(),t.Bb(15,0,null,null,0,"i",[["class","fas fa-play mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Run"])),(l()(),t.Bb(17,0,null,null,8,"div",[["class","d-flex flex-wrap justify-content-start items"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,L)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,j)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,E)),t.Ab(23,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,D)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(26,0,null,null,6,"div",[["class","sub-title d-flex flex-wrap align-items-center"]],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,5,"h5",[["class","h5-heading"]],null,null,null,null,null)),(l()(),t.Bb(28,0,null,null,0,"i",[["class","fas fa-sm mr-2 text-muted fa-calendar"]],null,null,null,null,null)),(l()(),t.Bb(29,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Created on:"])),(l()(),t.Sb(31,null,[" ",""])),t.Ob(32,1),(l()(),t.Bb(33,0,null,null,31,"div",[["class","text-items mb-2"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Created by: "])),(l()(),t.Bb(36,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Sb(37,null,["",""])),(l()(),t.Bb(38,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Shared by: "])),(l()(),t.Bb(40,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Sb(41,null,["",""])),(l()(),t.Bb(42,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Remarks: "])),(l()(),t.sb(16777216,null,null,1,null,S)),t.Ab(45,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,N)),t.Ab(47,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,T)),t.Ab(49,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,F)),t.Ab(51,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(52,0,null,null,12,"label",[["class","custom-switch mb-0"]],null,null,null,null,null)),(l()(),t.Bb(53,0,null,null,5,"input",[["class","custom-control-input"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,54).onChange(e.target.checked)&&o),"blur"===n&&(o=!1!==t.Lb(l,54).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.modelPublicView=e)&&o),o},null,null)),t.Ab(54,16384,null,0,r.b,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.b]),t.Ab(56,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(58,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(59,0,null,null,5,"div",[["class","switch-content"]],null,null,null,null,null)),(l()(),t.Bb(60,0,null,null,1,"span",[["class","start"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Private"])),(l()(),t.Bb(62,0,null,null,0,"span",[["class","switch"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveModalPulicPrivate()&&t),t},null,null)),(l()(),t.Bb(63,0,null,null,1,"span",[["class","end"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Public"])),(l()(),t.Bb(65,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.Ab(66,212992,null,0,b.s,[b.c,t.Y,t.l,[8,null],t.i],null,null)],function(l,n){var e=n.component;l(n,3,0,"'runModel'",e.showThrobber),l(n,19,0,!e.editModelTitle),l(n,21,0,e.editModelTitle),l(n,23,0,!e.editModelTitle),l(n,25,0,e.editModelTitle),l(n,45,0,!e.editModelRemarks),l(n,47,0,e.editModelRemarks),l(n,49,0,!e.editModelRemarks),l(n,51,0,e.editModelRemarks),l(n,56,0,e.modelPublicView),l(n,66,0)},function(l,n){var e=n.component;l(n,14,0,!e.runFlag);var o=t.Tb(n,31,0,l(n,32,0,t.Lb(n,0),e.modelMasterData.createdTs));l(n,31,0,o),l(n,37,0,e.modelMasterData.createdUser),l(n,41,0,e.modelMasterData.sharedUser),l(n,53,0,t.Lb(n,58).ngClassUntouched,t.Lb(n,58).ngClassTouched,t.Lb(n,58).ngClassPristine,t.Lb(n,58).ngClassDirty,t.Lb(n,58).ngClassValid,t.Lb(n,58).ngClassInvalid,t.Lb(n,58).ngClassPending)})}function O(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-model-item-details",[],null,null,null,B,x)),t.Ab(1,114688,null,0,y,[b.a,g.a,m.a,b.p,w.a,A.a],null,null)],function(l,n){l(n,1,0)},null)}var U=t.xb("app-model-item-details",y,O,{},{},[]),M=e("Wf4p"),k=e("Fzqc"),P=e("ZYjt"),R=e("dWZg"),_=e("wFw1"),V=t.zb({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function z(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,G,Y)),t.Ab(1,49152,null,0,M.q,[[2,_.a]],{state:[0,"state"],disabled:[1,"disabled"]},null)],function(l,n){var e=n.component;l(n,1,0,e.selected?"checked":"",e.disabled)},function(l,n){l(n,0,0,"indeterminate"===t.Lb(n,1).state,"checked"===t.Lb(n,1).state,t.Lb(n,1).disabled,"NoopAnimations"===t.Lb(n,1)._animationMode)})}function H(l){return t.Ub(2,[(l()(),t.sb(16777216,null,null,1,null,z)),t.Ab(1,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),t.Kb(null,0),(l()(),t.Bb(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),t.Ab(5,212992,null,0,M.s,[t.n,t.F,R.a,[2,M.i],[2,_.a]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],function(l,n){var e=n.component;l(n,1,0,e.multiple),l(n,5,0,e.disabled||e.disableRipple,e._getHostElement())},function(l,n){l(n,4,0,t.Lb(n,5).unbounded)})}var Y=t.zb({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1}"],data:{}});function G(l){return t.Ub(2,[],null,null)}var q=e("seP3"),W=e("M2Lx"),$=t.zb({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function K(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function J(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),t.Kb(null,0)],null,null)}function Z(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),t.Kb(null,2),(l()(),t.Sb(2,null,["",""]))],null,function(l,n){l(n,2,0,n.component._control.placeholder)})}function X(l){return t.Ub(0,[t.Kb(null,3),(l()(),t.sb(0,null,null,0))],null,null)}function Q(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["\xa0*"]))],null,null)}function ll(l){return t.Ub(0,[(l()(),t.Bb(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],function(l,n,e){var t=!0;return"cdkObserveContent"===n&&(t=!1!==l.component.updateOutlineGap()&&t),t},null,null)),t.Ab(1,16384,null,0,p.u,[],{ngSwitch:[0,"ngSwitch"]},null),t.Ab(2,1196032,null,0,W.a,[W.b,t.n,t.F],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(l()(),t.sb(16777216,null,null,1,null,Z)),t.Ab(4,278528,null,0,p.v,[t.Y,t.V,p.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.sb(16777216,null,null,1,null,X)),t.Ab(6,278528,null,0,p.v,[t.Y,t.V,p.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.sb(16777216,null,null,1,null,Q)),t.Ab(8,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,e._hasLabel()),l(n,2,0,"outline"!=e.appearance),l(n,4,0,!1),l(n,6,0,!0),l(n,8,0,!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)},function(l,n){var e=n.component;l(n,0,0,e._labelId,e._control.id,e._control.id,e._control.empty&&!e._shouldAlwaysFloat,e._control.empty&&!e._shouldAlwaysFloat,"accent"==e.color,"warn"==e.color)})}function nl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),t.Kb(null,4)],null,null)}function el(l){return t.Ub(0,[(l()(),t.Bb(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,function(l,n){var e=n.component;l(n,1,0,"accent"==e.color,"warn"==e.color)})}function tl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),t.Kb(null,5)],null,function(l,n){l(n,0,0,n.component._subscriptAnimationState)})}function ol(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(l()(),t.Sb(1,null,["",""]))],null,function(l,n){var e=n.component;l(n,0,0,e._hintLabelId),l(n,1,0,e.hintLabel)})}function ul(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,ol)),t.Ab(2,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),t.Kb(null,6),(l()(),t.Bb(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),t.Kb(null,7)],function(l,n){l(n,2,0,n.component.hintLabel)},function(l,n){l(n,0,0,n.component._subscriptAnimationState)})}function rl(l){return t.Ub(2,[t.Qb(671088640,1,{underlineRef:0}),t.Qb(402653184,2,{_connectionContainerRef:0}),t.Qb(402653184,3,{_inputContainerRef:0}),t.Qb(671088640,4,{_label:0}),(l()(),t.Bb(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(l()(),t.Bb(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],function(l,n,e){var t=!0,o=l.component;return"click"===n&&(t=!1!==(o._control.onContainerClick&&o._control.onContainerClick(e))&&t),t},null,null)),(l()(),t.sb(16777216,null,null,1,null,K)),t.Ab(7,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,J)),t.Ab(9,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),t.Kb(null,1),(l()(),t.Bb(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,ll)),t.Ab(14,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,nl)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,el)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),t.Ab(20,16384,null,0,p.u,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),t.sb(16777216,null,null,1,null,tl)),t.Ab(22,278528,null,0,p.v,[t.Y,t.V,p.u],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),t.sb(16777216,null,null,1,null,ul)),t.Ab(24,278528,null,0,p.v,[t.Y,t.V,p.u],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){var e=n.component;l(n,7,0,"outline"==e.appearance),l(n,9,0,e._prefixChildren.length),l(n,14,0,e._hasFloatingLabel()),l(n,16,0,e._suffixChildren.length),l(n,18,0,"outline"!=e.appearance),l(n,20,0,e._getDisplayedMessages()),l(n,22,0,"error"),l(n,24,0,"hint")},null)}var al=e("4tE/"),il=e("eDkP"),sl=e("qAlS"),cl=e("b716"),dl=e("/VYK"),pl=e("4c35"),bl=t.zb({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function gl(l){return t.Ub(0,[(l()(),t.Bb(0,0,[[2,0],["panel",1]],null,2,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Kb(null,0)],function(l,n){l(n,1,0,"mat-autocomplete-panel",n.component._classList)},function(l,n){l(n,0,0,n.component.id)})}function ml(l){return t.Ub(2,[t.Qb(402653184,1,{template:0}),t.Qb(671088640,2,{panel:0}),(l()(),t.sb(0,[[1,2]],null,0,null,gl))],null,null)}var hl=e("Xkpr"),fl=e("4GxJ"),vl=e("l51E"),Al=e("RShD"),Cl=e("EUZL"),Il=e("Iab2"),yl=function(){function l(){}return l.prototype.exportToExcel=function(l,n){var e;console.log(l,n.fileName);var t=n.sheetName?n.sheetName:"data";n.headerList?(e=this.convertToArrayOfArrays(l,Object.values(n.headerList))).unshift(Object.keys(n.headerList)):e=this.convertToArrayOfArrays(l);var o=Cl.utils.book_new(),u=Cl.utils.aoa_to_sheet(e);Cl.utils.book_append_sheet(o,u,t);var r=Cl.write(o,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,n.fileName)},l.prototype.convertToArrayOfArrays=function(l,n){var e=this,t=[];if(Array.isArray(l))l.forEach(function(l){Array.isArray(l)?t.push(l):t.push(e.convertToArrayFromObject(l,n))});else for(var o=0,u=Object.keys(l);o<u.length;o++){var r=l[u[o]];Array.isArray(r)?t.push(r):t.push(this.convertToArrayFromObject(r,n))}return t},l.prototype.convertToArrayFromObject=function(l,n){var e=[];if(n&&n.length>0)n.forEach(function(n){var t=l[n];Object(Al.d)(l[n])&&(t="-"),e.push(t)});else for(var t=0,o=Object.keys(l);t<o.length;t++){var u=o[t],r=l[u];Object(Al.d)(l[u])&&(r="-"),e.push(r)}return e},l.prototype.saveAsExcelFile=function(l,n){var e=new Blob([l],{type:"application/octet-stream"});Il.saveAs(e,n+"_export_"+(new Date).getTime()+".xlsx")},l.ngInjectableDef=t.cb({factory:function(){return new l},token:l,providedIn:"root"}),l}(),wl=e("F/XL"),xl=e("6blF"),Ll=e("xMyE"),jl=e("Gi3i"),El=e("psW0"),Dl=e("67Y/"),Sl=e("PSRr"),Nl=function(){function l(l,n,e,t,o){var u=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.utilService=o,this.nodeTypeList=["RESERVOIR","OTHER_NODE","PUMP_HOUSE"],this.nodeEntityList=[],this.gaugePointList=[],this.nodeList=[],this.nodeListFormArray=new r.e([]),this.showTable=!1,this.selectNodeEntityList=[],this.reservedNodes=[],this.exportHeaderList={TYPE:"nodeType",NODE:"nodeName",DISPLAY_NAME:"displayName","DEAD_STORAGE(MCFT)":"deadStorage","FULL_STORAGE(MCFT)":"fullStorage","MAXIMUM_STORAGE(MCFT)":"maximumStorage",TAIL_WATER_LEVEL:"tailWaterLevel","MIS VISIBILITY":"visible"},this.nonEditableFieldsOnEdit=["nodeName","nodeType"],this.isErrorOccurred=!1,this.disabledFields={RESERVOIR:[],OTHER_NODE:["fullStorage","deadStorage","maximumStorage","powerConsumption"],PUMP_HOUSE:["fullStorage","deadStorage","maximumStorage"]},this.nodeitemList=[],this.filterRecords=function(){var l=["nodeName","nodeType"];u.searchTextHolder=u.searchText.toLowerCase().trim();var n=[],e=u.dataService.deepClone(u.nodeListFormArray.getRawValue());Object(Al.d)(u.searchTextHolder)?n=e:e.forEach(function(e){for(var t=!1,o=0,r=Object.keys(e);o<r.length;o++){var a=r[o],i=e[a];-1===l.indexOf(a)||Object(Al.d)(i)||-1===i.toString().toLowerCase().indexOf(u.searchTextHolder)||(t=!0)}t&&(e.isMatched=!0,document.getElementById(e.nodeName).focus()),n.push(e)}),u.nodeList=n}}return l.prototype.ngOnInit=function(){var l=this;this.modelService.getSpecificFieldFromMasterData(["reservoir","nodeList"]).subscribe(function(n){console.log(n),l.nodeEntityList=n.reservoir,l.gaugePointList=n.gaugePoints,l.nodeitemList=[],n.nodeList.forEach(function(n){l.nodeitemList.push({nodeName:n.nn})}),l.nodedata=Object(wl.a)(l.nodeitemList),l.retrieveNodes()})},l.prototype.retrieveNodes=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NODES);n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.nodeList=n,l.createFormArrays(),l.createSelectOptions(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createSelectOptions=function(){var l=this;this.nodeList.forEach(function(n){"RESERVOIR"===n.nodeType&&l.addToReservedNodes(n.nodeName)}),this.performNodeEntityList()},l.prototype.performNodeEntityList=function(){var l=this;this.nodeList.forEach(function(n,e){var t=l.nodeListFormArray.get(e.toString()).value.nodeName,o=l.nodeEntityList.slice(),u=[];o.forEach(function(n){-1===l.reservedNodes.indexOf(n)&&u.push(n),n===t&&-1===u.indexOf(n)&&u.push(n)}),l.selectNodeEntityList[e]=u})},l.prototype.addToReservedNodes=function(l){-1===this.reservedNodes.indexOf(l)&&this.reservedNodes.push(l)},l.prototype.removeFromReservedNodes=function(l){-1!==this.reservedNodes.indexOf(l)&&this.reservedNodes.splice(this.reservedNodes.indexOf(l),1)},l.prototype.refreshReservedNodes=function(){var l=this;this.reservedNodes=[],this.nodeList.forEach(function(n,e){var t=l.nodeListFormArray.get(e.toString());"RESERVOIR"===t.value.nodeType&&l.addToReservedNodes(t.value.nodeName)}),this.performNodeEntityList()},l.prototype.createFormArrays=function(l){var n=this;this.nodeList.forEach(function(l,e){for(var t=n.getNodeItemFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o],a=t.controls[r];a.setValue(l[r]),a.disable()}n.nodeListFormArray.push(t)}),"bulkUpload"!==l&&(this.initFormValue=this.nodeListFormArray.getRawValue())},l.prototype.addElement=function(){var l=this;if(this.nodeList.length>0&&!this.isValidFormGroup(this.nodeList.length-1))this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.nodeList.length,"error");else{this.nodeList.push({editEnabled:!1});var n=this.getNodeItemFormGroup();this.nodeListFormArray.push(n),this.filteredNodes=n.get("nodeName").valueChanges.pipe(Object(Ll.a)(function(l){return console.log("inside valueChanges Observable, val is: ",l)}),Object(jl.a)(200)).pipe(Object(El.a)(function(n){return l.filter(n)})),this.onEditNode(this.nodeList.length-1,"add"),this.performNodeEntityList()}},l.prototype.filter=function(l){var n="string"==typeof l?l:l.nodeName;return n?this.nodedata.pipe(Object(Dl.a)(function(l){return l.filter(function(l){return-1!==l.nodeName.toLowerCase().search("string"==typeof n?n.toLowerCase():n.nodeName.toLowerCase())})})):this.nodedata},l.prototype.displayFn=function(l){return l||""},l.prototype.removeElement=function(l){this.nodeListFormArray.get(l.toString()),this.nodeList.splice(l,1),this.nodeListFormArray.removeAt(l),this.refreshReservedNodes(),this.disableAllFields()},l.prototype.disableAllFields=function(){this.nodeList.forEach(function(l){return l.editEnabled=!1})},l.prototype.onEditNode=function(l,n){var e=this;this.nodeList.forEach(function(t,o){l===o?(t.editEnabled=!0,e.enableFields(e.nodeListFormArray.get(o.toString()),t.nodeType),"add"!==n&&e.disableNonEditableFields(l)):(e.disableFields(e.nodeListFormArray.get(o.toString())),t.editEnabled=!1)})},l.prototype.onSaveNode=function(l){this.isValidFormGroup(l)?(this.nodeList[l].editEnabled=!1,this.refreshReservedNodes(),this.disableFields(this.nodeListFormArray.get(l.toString()))):this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.isValidFormGroup=function(l){var n=this.nodeListFormArray.get(l.toString()),e=(n.get("nodeType"),!0);return n.invalid&&(e=!1),e},l.prototype.disableNonEditableFields=function(l){for(var n=this.nodeListFormArray.get(l.toString()),e=0,t=Object.keys(n.controls);e<t.length;e++){var o=t[e];-1!==this.nonEditableFieldsOnEdit.indexOf(o)&&n.controls[o].disable()}},l.prototype.enableFields=function(l,n){l.enable();for(var e=0,t=Object.keys(l.controls);e<t.length;e++){var o=t[e],u=l.controls[o];n&&-1!==this.disabledFields[n].indexOf(o)&&u.disable()}},l.prototype.disableFields=function(l){l.disable()},l.prototype.onNodeTypeChange=function(l){var n=this.nodeListFormArray.get(l.toString()),e=n.value.nodeType;n.get("nodeName").setValue("");for(var t=0,o=Object.keys(n.controls);t<o.length;t++){var u=o[t],r=n.controls[u];-1!==this.disabledFields[e].indexOf(u)&&(r.setValue(""),r.disable())}},l.prototype.handleSelectionChange=function(l,n){var e=this.nodeListFormArray.get(n.toString());this.nodeListFormArray.getRawValue().forEach(function(n){n.nodeName==l.source.value&&(e.get("nodeType").setValue(n.nodeType),e.get("nodeName").setValue(n.nodeName),e.get("nodeUUID").setValue(n.nodeUUID),e.get("displayName").setValue(n.displayName),e.get("latitude").setValue(n.latitude),e.get("longitude").setValue(n.longitude),e.get("deadStorage").setValue(n.deadStorage),e.get("fullStorage").setValue(n.fullStorage),e.get("maximumStorage").setValue(n.maximumStorage),e.get("tailWaterLevel").setValue(n.tailWaterLevel),e.get("visible").setValue(n.visible))})},l.prototype.onNodeValueChange=function(l){},l.prototype.visibleToast=function(l){l||this.dataService.showToastMessage("Click on Edit to toggle Visibility","error")},l.prototype.getNodeItemFormGroup=function(){return new r.j({nodeType:new r.g(null,r.z.required),nodeName:new r.g(null,r.z.required),nodeUUID:new r.g(null),displayName:new r.g(null),latitude:new r.g(null),longitude:new r.g(null),deadStorage:new r.g(null),fullStorage:new r.g(null),maximumStorage:new r.g(null),tailWaterLevel:new r.g(null),visible:new r.g(!0)})},l.prototype.isValidAllRows=function(){for(var l=!0,n=0,e=this.nodeListFormArray.controls;n<e.length;n++)e[n].invalid&&(l=!1);return l},l.prototype.saveNodes=function(){var l=this;if(this.isValidAllRows())return new xl.a(function(n){var e=l.dataService.deepClone(v.a.SAVE_NODES);e.postData.modelUUID=l.modelId,e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.rows=l.dataService.convertToIntegerFromArrayOfObjects(l.nodeListFormArray.getRawValue(),["fullStorage","maximumStorage","deadStorage","tailWaterLevel"]),l.httpService.placeAPICall(e).subscribe(function(e){e&&(e.success?(n.next(!0),n.complete(),l.dataService.showToastMessage("Nodes Saved Successfully","success")):(l.isErrorOccurred=!0,n.next(!1),n.complete(),l.dataService.showToastMessage("Failed to Save The Nodes","error")),l.nodeList=e.rows,l.clearNodeListFormArray(),l.createFormArrays(),l.createSelectOptions())},function(l){n.next(!1),n.complete()})});this.dataService.showToastMessage("Please Fill All The Rows","error")},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.saveNodes().subscribe(function(l){n.next(l),n.complete()})})},l.prototype.isFormsDiffered=function(){return!Object(Sl.e)(this.initFormValue)&&JSON.stringify(this.initFormValue)!==JSON.stringify(this.nodeListFormArray.getRawValue())},l.prototype.clearNodeListFormArray=function(){for(;0!==this.nodeListFormArray.length;)this.nodeListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]),console.log(n,"input");var t=this.dataService.deepClone(v.a.BULK_UPLOAD_NODE);t.postData.modelUUID=this.modelId,t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.nodeList=l,e.clearNodeListFormArray(),e.createFormArrays("bulkUpload"),e.createSelectOptions()):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile(),e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error")})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){var l=this.nodeListFormArray.getRawValue();l.forEach(function(l){l.visible=l.visible?1:0}),this.exportExcelService.exportToExcel(l,{fileName:"NODE LIST",headerList:this.exportHeaderList}),this.dataService.showToastMessage("Downloaded Successfully","success")},l}(),Tl=t.zb({encapsulation:0,styles:[[".search_matched[_ngcontent-%COMP%]{background-color:#198754}.search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .search_matched[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#198754;color:#fff}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{background-color:#dc3545}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}small[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function Fl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Bl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"onSelectionChange"],[null,"click"],[null,"keydown"]],function(l,n,e){var o=!0,u=l.component;return"click"===n&&(o=!1!==t.Lb(l,1)._selectViaInteraction()&&o),"keydown"===n&&(o=!1!==t.Lb(l,1)._handleKeydown(e)&&o),"onSelectionChange"===n&&(o=!1!==u.handleSelectionChange(e,l.parent.context.index)&&o),o},H,V)),t.Ab(1,8568832,[[8,4]],0,M.n,[t.n,t.i,[2,M.h],[2,M.m]],{value:[0,"value"]},{onSelectionChange:"onSelectionChange"}),(l()(),t.Sb(2,0,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.nodeName)},function(l,n){l(n,0,0,t.Lb(n,1)._getTabIndex(),t.Lb(n,1).selected,t.Lb(n,1).multiple,t.Lb(n,1).active,t.Lb(n,1).id,t.Lb(n,1).selected.toString(),t.Lb(n,1).disabled.toString(),t.Lb(n,1).disabled),l(n,2,0,n.context.$implicit.nodeName)})}function Ol(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-darkblue border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Ul(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function Ml(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,99,"tr",[],[[8,"id",0],[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{"editable-row":0,search_matched:1,"error-row":2}),(l()(),t.Bb(3,0,null,null,96,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,12,"td",[["width","15%"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,11,"select",[["class","form-control"],["formControlName","nodeType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"change"===n&&(o=!1!==u.onNodeTypeChange(l.context.index)&&o),o},null,null)),t.Ab(9,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(11,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(15,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(16,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,[" Select"])),(l()(),t.sb(16777216,null,null,1,null,Fl)),t.Ab(19,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(20,0,null,null,26,"td",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,25,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rl,$)),t.Ab(22,7520256,null,7,q.b,[t.n,t.i,[2,M.f],[2,k.b],[2,q.a],R.a,t.F,[2,_.a]],null,null),t.Qb(335544320,1,{_control:0}),t.Qb(335544320,2,{_placeholderChild:0}),t.Qb(335544320,3,{_labelChild:0}),t.Qb(603979776,4,{_errorChildren:1}),t.Qb(603979776,5,{_hintChildren:1}),t.Qb(603979776,6,{_prefixChildren:1}),t.Qb(603979776,7,{_suffixChildren:1}),(l()(),t.Bb(30,16777216,null,1,8,"input",[["aria-label","Assignee"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","nodeName"],["matInput",""],["placeholder",""],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,31)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,31).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,31)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,31)._compositionEnd(e.target.value)&&o),"focusin"===n&&(o=!1!==t.Lb(l,32)._handleFocus()&&o),"blur"===n&&(o=!1!==t.Lb(l,32)._onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,32)._handleInput(e)&&o),"keydown"===n&&(o=!1!==t.Lb(l,32)._handleKeydown(e)&&o),"blur"===n&&(o=!1!==t.Lb(l,37)._focusChanged(!1)&&o),"focus"===n&&(o=!1!==t.Lb(l,37)._focusChanged(!0)&&o),"input"===n&&(o=!1!==t.Lb(l,37)._onInput()&&o),o},null,null)),t.Ab(31,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(32,147456,null,0,al.f,[t.n,il.a,t.Y,t.F,t.i,al.b,[2,k.b],[2,q.b],[2,p.d],sl.d],{autocomplete:[0,"autocomplete"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,al.f]),t.Ab(34,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(36,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(37,999424,null,0,cl.a,[t.n,R.a,[6,r.p],[2,r.s],[2,r.k],M.b,[8,null],dl.a,t.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.Pb(2048,[[1,4]],q.c,null,[cl.a]),(l()(),t.Bb(39,0,null,1,7,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,ml,bl)),t.Pb(6144,null,M.h,null,[al.d]),t.Ab(41,1097728,[["auto",4]],2,al.d,[t.i,t.n,al.a],{displayWith:[0,"displayWith"]},null),t.Qb(603979776,8,{options:1}),t.Qb(603979776,9,{optionGroups:1}),(l()(),t.sb(16777216,null,0,2,null,Bl)),t.Ab(45,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),t.Mb(131072,p.b,[t.i]),(l()(),t.Bb(47,0,null,null,6,"td",[],[[8,"title",0]],null,null,null,null)),(l()(),t.Bb(48,0,null,null,5,"input",[["class","form-control"],["formControlName","displayName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,49)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,49).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,49)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,49)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(49,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(51,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(53,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(54,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(55,0,null,null,6,"input",[["class","form-control"],["formControlName","deadStorage"],["type","text"],["validation",""],["validator","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,56)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,56).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,56)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,56)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,61).onInput(e.target.value)&&o),o},null,null)),t.Ab(56,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(58,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(60,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(61,16384,null,0,hl.a,[r.p],{validator:[0,"validator"]},null),(l()(),t.Bb(62,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(63,0,null,null,6,"input",[["class","form-control"],["formControlName","fullStorage"],["type","text"],["validation",""],["validator","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,64)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,64).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,64)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,64)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,69).onInput(e.target.value)&&o),o},null,null)),t.Ab(64,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(66,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(68,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(69,16384,null,0,hl.a,[r.p],{validator:[0,"validator"]},null),(l()(),t.Bb(70,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(71,0,null,null,6,"input",[["class","form-control"],["formControlName","maximumStorage"],["type","text"],["validation",""],["validator","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,72)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,72).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,72)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,72)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,77).onInput(e.target.value)&&o),o},null,null)),t.Ab(72,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(74,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(76,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(77,16384,null,0,hl.a,[r.p],{validator:[0,"validator"]},null),(l()(),t.Bb(78,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(79,0,null,null,6,"input",[["class","form-control"],["formControlName","tailWaterLevel"],["type","text"],["validation",""],["validator","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,80)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,80).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,80)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,80)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,85).onInput(e.target.value)&&o),o},null,null)),t.Ab(80,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(82,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(84,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(85,16384,null,0,hl.a,[r.p],{validator:[0,"validator"]},null),(l()(),t.Bb(86,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(87,0,null,null,4,"div",[["class","d-flex justify-content-around toggele_to"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.visibleToast(l.context.$implicit.editEnabled)&&t),t},null,null)),(l()(),t.Bb(88,0,null,null,3,"label",[["class","custom-switch"]],null,null,null,null,null)),(l()(),t.Bb(89,0,null,null,0,"input",[["class","custom-control-input"],["type","checkbox"]],null,null,null,null,null)),(l()(),t.Bb(90,0,null,null,1,"div",[["class","switch-content"]],null,null,null,null,null)),(l()(),t.Bb(91,0,null,null,0,"span",[["class","switch"]],null,null,null,null,null)),(l()(),t.Bb(92,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(93,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ol)),t.Ab(95,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ul)),t.Ab(97,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(98,0,null,null,1,"button",[["class","btn btn-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(99,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,o=l(n,2,0,n.context.$implicit.editEnabled,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,o);var u=e.nodeListFormArray.get(n.context.index.toString());l(n,4,0,u),l(n,11,0,"nodeType"),l(n,15,0,""),l(n,16,0,""),l(n,19,0,e.nodeTypeList),l(n,32,0,t.Lb(n,41)),l(n,34,0,"nodeName"),l(n,37,0,"","text"),l(n,41,0,e.displayFn),l(n,45,0,t.Tb(n,45,0,t.Lb(n,46).transform(e.filteredNodes))),l(n,51,0,"displayName"),l(n,58,0,"deadStorage"),l(n,61,0,"decimal"),l(n,66,0,"fullStorage"),l(n,69,0,"decimal"),l(n,74,0,"maximumStorage"),l(n,77,0,"decimal"),l(n,82,0,"tailWaterLevel"),l(n,85,0,"decimal"),l(n,95,0,n.context.$implicit.editEnabled),l(n,97,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,n.context.$implicit.nodeName,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending),l(n,21,1,["standard"==t.Lb(n,22).appearance,"fill"==t.Lb(n,22).appearance,"outline"==t.Lb(n,22).appearance,"legacy"==t.Lb(n,22).appearance,t.Lb(n,22)._control.errorState,t.Lb(n,22)._canLabelFloat,t.Lb(n,22)._shouldLabelFloat(),t.Lb(n,22)._hasFloatingLabel(),t.Lb(n,22)._hideControlPlaceholder(),t.Lb(n,22)._control.disabled,t.Lb(n,22)._control.autofilled,t.Lb(n,22)._control.focused,"accent"==t.Lb(n,22).color,"warn"==t.Lb(n,22).color,t.Lb(n,22)._shouldForward("untouched"),t.Lb(n,22)._shouldForward("touched"),t.Lb(n,22)._shouldForward("pristine"),t.Lb(n,22)._shouldForward("dirty"),t.Lb(n,22)._shouldForward("valid"),t.Lb(n,22)._shouldForward("invalid"),t.Lb(n,22)._shouldForward("pending"),!t.Lb(n,22)._animationsEnabled]),l(n,30,1,[t.Lb(n,32).autocompleteAttribute,t.Lb(n,32).autocompleteDisabled?null:"combobox",t.Lb(n,32).autocompleteDisabled?null:"list",t.Lb(n,32).panelOpen&&t.Lb(n,32).activeOption?t.Lb(n,32).activeOption.id:null,t.Lb(n,32).autocompleteDisabled?null:t.Lb(n,32).panelOpen.toString(),t.Lb(n,32).autocompleteDisabled||!t.Lb(n,32).panelOpen?null:null==t.Lb(n,32).autocomplete?null:t.Lb(n,32).autocomplete.id,t.Lb(n,36).ngClassUntouched,t.Lb(n,36).ngClassTouched,t.Lb(n,36).ngClassPristine,t.Lb(n,36).ngClassDirty,t.Lb(n,36).ngClassValid,t.Lb(n,36).ngClassInvalid,t.Lb(n,36).ngClassPending,t.Lb(n,37)._isServer,t.Lb(n,37).id,t.Lb(n,37).placeholder,t.Lb(n,37).disabled,t.Lb(n,37).required,t.Lb(n,37).readonly&&!t.Lb(n,37)._isNativeSelect||null,t.Lb(n,37)._ariaDescribedby||null,t.Lb(n,37).errorState,t.Lb(n,37).required.toString()]),l(n,47,0,n.context.$implicit.displayName),l(n,48,0,t.Lb(n,53).ngClassUntouched,t.Lb(n,53).ngClassTouched,t.Lb(n,53).ngClassPristine,t.Lb(n,53).ngClassDirty,t.Lb(n,53).ngClassValid,t.Lb(n,53).ngClassInvalid,t.Lb(n,53).ngClassPending),l(n,55,0,t.Lb(n,60).ngClassUntouched,t.Lb(n,60).ngClassTouched,t.Lb(n,60).ngClassPristine,t.Lb(n,60).ngClassDirty,t.Lb(n,60).ngClassValid,t.Lb(n,60).ngClassInvalid,t.Lb(n,60).ngClassPending),l(n,63,0,t.Lb(n,68).ngClassUntouched,t.Lb(n,68).ngClassTouched,t.Lb(n,68).ngClassPristine,t.Lb(n,68).ngClassDirty,t.Lb(n,68).ngClassValid,t.Lb(n,68).ngClassInvalid,t.Lb(n,68).ngClassPending),l(n,71,0,t.Lb(n,76).ngClassUntouched,t.Lb(n,76).ngClassTouched,t.Lb(n,76).ngClassPristine,t.Lb(n,76).ngClassDirty,t.Lb(n,76).ngClassValid,t.Lb(n,76).ngClassInvalid,t.Lb(n,76).ngClassPending),l(n,79,0,t.Lb(n,84).ngClassUntouched,t.Lb(n,84).ngClassTouched,t.Lb(n,84).ngClassPristine,t.Lb(n,84).ngClassDirty,t.Lb(n,84).ngClassValid,t.Lb(n,84).ngClassInvalid,t.Lb(n,84).ngClassPending)})}function kl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,4,"tbody",[],null,null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{"error-body":0}),(l()(),t.sb(16777216,null,null,1,null,Ml)),t.Ab(4,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component,t=l(n,2,0,e.isErrorOccurred);l(n,1,0,t),l(n,4,0,e.nodeList)},null)}function Pl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[8,null]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null)],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},null)}function Rl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,75,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,27,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,12,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(5,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(6,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,12)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,12).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,12)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,12)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(12,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(14,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(16,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons flex-wrap mt-2 mt-md-0"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,0,"i",[["class","bi bi-plus-lg mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Node"])),(l()(),t.Bb(21,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,2,"label",[["class","btn btn-outline-active btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveForm().subscribe()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,44,"div",[["class","table-responsive px-3"],["id","node-table"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,43,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,40,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,39,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Type"])),(l()(),t.Bb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["DISPLAY NAME"])),(l()(),t.Bb(41,0,null,null,6,"th",[],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,3,"span",[["title","DEAD STORAGE LEVEL"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["DEAD "])),(l()(),t.Bb(44,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["STORAGE"])),(l()(),t.Bb(46,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["(MCFT)"])),(l()(),t.Bb(48,0,null,null,6,"th",[],null,null,null,null,null)),(l()(),t.Bb(49,0,null,null,3,"span",[["title","FULL SUPPLY LEVEL"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["FULL "])),(l()(),t.Bb(51,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["STORAGE"])),(l()(),t.Bb(53,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["(MCFT)"])),(l()(),t.Bb(55,0,null,null,6,"th",[],null,null,null,null,null)),(l()(),t.Bb(56,0,null,null,3,"span",[["title","MAXIMUM WATER LEVEL"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["MAXIMUM "])),(l()(),t.Bb(58,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["STORAGE"])),(l()(),t.Bb(60,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["(MCFT)"])),(l()(),t.Bb(62,0,null,null,6,"th",[],null,null,null,null,null)),(l()(),t.Bb(63,0,null,null,3,"span",[["title","TAIL_WATER_LEVEL"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["TAIL WATER"])),(l()(),t.Bb(65,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["LEVEL"])),(l()(),t.Bb(67,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["(M)"])),(l()(),t.Bb(69,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.Bb(70,0,null,null,1,"span",[["title","MIS VISIBILITY"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["MIS VISIBILITY"])),(l()(),t.Bb(72,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.sb(16777216,null,null,1,null,kl)),t.Ab(75,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(76,0,null,null,2,"datalist",[],[[8,"id",0]],null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Pl)),t.Ab(78,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"node-spinner",!e.showTable),l(n,14,0,e.searchText),l(n,75,0,e.showTable),l(n,78,0,e.gaugePointList)},function(l,n){l(n,11,0,t.Lb(n,16).ngClassUntouched,t.Lb(n,16).ngClassTouched,t.Lb(n,16).ngClassPristine,t.Lb(n,16).ngClassDirty,t.Lb(n,16).ngClassValid,t.Lb(n,16).ngClassInvalid,t.Lb(n,16).ngClassPending),l(n,76,0,"gauge_points")})}var _l=e("EVdn"),Vl=function(){function l(l,n,e,t,o){var u=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.utilService=o,this.getHeaders=Object.keys,this.nodeEntityList=[],this.statesList={},this.componentsList=[],this.subList=[],this.allComponents={},this.allSubComponents={},this.networkList=[],this.networkListFormArray=new r.e([]),this.selectComponentList=[],this.selectsubComponentList=[],this.exportHeaderList={NODE:"srcNode",COMPONENT:"componentName",DISPLAY_NAME:"displayName","NEXT NODE":"destNode","COMPONENT TYPE":"componentType","SUB TYPE":"componentSubType",LATITUDE:"latitude",LONGITUDE:"longitude",STATE:"stateUUID","PENALTY COEFFICIENT":"penaltyCoefficient","PENALTY INCREMENTAL FACTOR(ACROSS SPACE)":"spatialPIF","PENALTY INCREMENTAL FACTOR(ACROSS TIME)":"temporalPIF"},this.dataListValues={},this.isSaved=!1,this.showTable=!1,this.nonEditableFieldsOnEdit=["srcNode","componentName","destNode","stateUUID","componentType","componentSubType"],this.isNodesEmpty=!1,this.isErrorOccurred=!1,this.componentMasterList=[],this.filterRecords=function(){var l=!1,n=["srcNode","componentName","stateUUID","destNode","componentType"];u.searchTextHolder=u.searchText.toLowerCase().trim();var e=[],t=u.dataService.deepClone(u.networkListFormArray.getRawValue());Object(Al.d)(u.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],s=t[i];"stateUUID"===i&&(s=u.statesList[t[i]]),-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(u.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.componentName)&&(document.getElementById(t.componentName),_l("#"+t.componentName).length&&_l("table").animate({scrollTop:_l("#"+t.componentName).offset().top-200},"fast"),l=!0),t.isMatched=!0),e.push(t)}),u.networkList=e}}return l.prototype.ngOnInit=function(){var l=this;this.modelService.getSpecificFieldFromMasterData(["reservoir","componentList","states","allComponents","subcomponents","compList","nodeList"]).subscribe(function(n){l.statesList=n.states,l.componentsList=n.componentList.filter(function(l){return"PUMP"!==l}),l.allComponents=n.allComponents,l.allSubComponents=n.subcomponents,console.log(n,l.statesList,l.allComponents,l.componentsList,l.allSubComponents,n),l.componentMasterList=[],n.compList.forEach(function(n){l.componentMasterList.push({componentName:n.cn})}),l.componentdata=Object(wl.a)(l.componentMasterList),l.retrieveNodes()})},l.prototype.retrieveNodes=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NODES);n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.nodeData=n,0===n.length&&(l.isNodesEmpty=!0),n.forEach(function(n){l.nodeEntityList.push(n.displayName)}),l.retrieveNetworks()},function(l){})},l.prototype.retrieveNetworks=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NETWORK);n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.networkList=n,l.createFormArrays(),l.showTable=!0},function(l){})},l.prototype.createFormArrays=function(l){var n=this;this.networkList.forEach(function(l,e){n.selectComponentList[e]=n.getComponentList(l),n.selectsubComponentList[e]=n.getSubList(l);for(var t=n.getNetworkItemFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o],a=t.controls[r];a.setValue(l[r]),a.disable()}n.networkListFormArray.push(t)}),"bulkUpload"!==l&&(this.initFormValue=this.networkListFormArray.getRawValue())},l.prototype.onComponentTypeChange=function(l){var n=this.networkListFormArray.get(l.toString());this.updateDataList(n.value.componentType);var e=n.get("componentType").value;this.selectsubComponentList[l]=this.allSubComponents[e],n.get("componentSubType").setValue(null),n.get("latitude").setValue(null),n.get("longitude").setValue(null)},l.prototype.onSubTypeChange=function(l){this.networkListFormArray.get(l.toString())},l.prototype.addElement=function(){var l=this;if(this.networkList.length>0&&!this.isValidFormGroup(this.networkList.length-1))this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.networkList.length,"error");else{this.networkList.push({editEnabled:!1});var n=this.getNetworkItemFormGroup();this.networkListFormArray.push(n),this.filteredComponents=n.get("componentName").valueChanges.pipe(Object(Ll.a)(function(l){return console.log("inside valueChanges Observable, val is: ",l)}),Object(jl.a)(200)).pipe(Object(El.a)(function(n){return l.filter(n)})),this.onEditNode(this.networkList.length-1,"add")}},l.prototype.filter=function(l){var n="string"==typeof l?l:l.componentName;return n?this.componentdata.pipe(Object(Dl.a)(function(l){return l.filter(function(l){return-1!==l.componentName.toLowerCase().search("string"==typeof n?n.toLowerCase():n.componentName.toLowerCase())})})):this.componentdata},l.prototype.displayFn=function(l){return l||""},l.prototype.onEditNode=function(l,n){var e=this;if("add"===n||this.isValidAllRows()){var t=this.networkListFormArray.get(l.toString());this.networkList.forEach(function(t,o){var u=e.networkListFormArray.get(o.toString());l===o?(t.editEnabled=!0,u.enable(),"add"!=n&&e.disableNonEditableFields(l)):(t.editEnabled=!1,u.disable())}),this.updateDataList(t.value.componentType)}else this.dataService.showToastMessage("Please Fill All The Rows","error")},l.prototype.disableNonEditableFields=function(l){for(var n=this.networkListFormArray.get(l.toString()),e=0,t=Object.keys(n.controls);e<t.length;e++){var o=t[e];-1!==this.nonEditableFieldsOnEdit.indexOf(o)&&n.controls[o].disable()}},l.prototype.onSaveNode=function(l){var n=this.networkListFormArray.get(l.toString()),e=Object.keys(this.statesList)[0];this.nodeData.forEach(function(l,t){l.displayName==n.get("srcNode").value&&n.get("srcNodeUUID").setValue(l.nodeUUID),n.get("stateUUID").setValue(e)}),this.isValidFormGroup(l)?(this.networkList[l].editEnabled=!1,n.disable()):this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.removeElement=function(l){this.networkList.splice(l,1),this.networkListFormArray.removeAt(l),this.disableAllFields()},l.prototype.disableAllFields=function(){this.networkList.forEach(function(l){return l.editEnabled=!1})},l.prototype.isValidFormGroup=function(l){return!this.networkListFormArray.get(l.toString()).invalid},l.prototype.onNodeChange=function(l){var n=this.networkListFormArray.get(l.toString());this.selectComponentList[l]=this.getComponentList(n.getRawValue()),this.networkList.forEach(function(l,e){l.srcNode==n.get("srcNode").value&&n.get("srcNodeUUID").setValue(l.srcNodeUUID)})},l.prototype.getComponentList=function(l){var n=this.nodeEntityList.slice();return-1!==n.indexOf(l.srcNode)&&n.splice(n.indexOf(l.srcNode),1),n},l.prototype.getSubList=function(l){return this.allSubComponents[l.componentType]},l.prototype.handleSelectionChange=function(l,n){var e=this.networkListFormArray.get(n.toString());this.networkListFormArray.getRawValue().forEach(function(n){n.componentName==l.source.value&&(e.get("srcNode").setValue(n.srcNode),e.get("srcNodeUUID").setValue(n.srcNodeUUID),e.get("componentType").setValue(n.componentType),e.get("componentSubType").setValue(n.componentSubType),e.get("componentName").setValue(n.componentName),e.get("componentUUID").setValue(n.componentUUID),e.get("displayName").setValue(n.displayName),e.get("latitude").setValue(n.latitude),e.get("longitude").setValue(n.longitude),e.get("ayacut").setValue(n.ayacut),e.get("destNode").setValue(n.destNode),e.get("stateUUID").setValue(n.stateUUID),e.get("penaltyCoefficient").setValue(n.penaltyCoefficient),e.get("temporalPIF").setValue(n.temporalPIF),e.get("spatialPIF").setValue(n.spatialPIF),e.get("destNodeUUID").setValue(n.destNodeUUID))})},l.prototype.getNetworkItemFormGroup=function(){return new r.j({srcNode:new r.g(null,r.z.required),srcNodeUUID:new r.g(null),componentType:new r.g(null,r.z.required),componentSubType:new r.g(null),componentName:new r.g(null,r.z.required),componentUUID:new r.g(null),displayName:new r.g(null),latitude:new r.g(null),longitude:new r.g(null),ayacut:new r.g(null),destNode:new r.g(null),stateUUID:new r.g(null),penaltyCoefficient:new r.g(null,r.z.required),temporalPIF:new r.g(null),spatialPIF:new r.g(null),destNodeUUID:new r.g(null)})},l.prototype.updateDataList=function(l){this.dataListValues=Object(Al.d)(l)?{}:this.allComponents[l]},l.prototype.isValidAllRows=function(){for(var l=!0,n=0,e=this.networkListFormArray.controls;n<e.length;n++)e[n].invalid&&(l=!1);return l},l.prototype.saveNodes=function(){var l=this;if(this.isValidAllRows())return new xl.a(function(n){var e=l.dataService.deepClone(v.a.SAVE_NETWORK);e.postData.modelUUID=l.modelId,e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.rows=l.dataService.convertToIntegerFromArrayOfObjects(l.networkListFormArray.getRawValue(),["penaltyCoefficient","spatialPIF","temporalPIF"]),l.httpService.placeAPICall(e).subscribe(function(e){e&&(e.success?(n.next(!0),n.complete(),l.dataService.showToastMessage("Network Saved Successfully","success")):(l.isErrorOccurred=!0,n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Network","error")),l.networkList=e.rows,l.clearNodeListFormArray(),l.createFormArrays()),l.isSaved=!0},function(l){n.next(!0),n.complete()})});this.dataService.showToastMessage("Please Fill All The Rows","error")},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.saveNodes().subscribe(function(l){n.next(l),n.complete()})})},l.prototype.isFormsDiffered=function(){return!Object(I.isNullOrUndefined)(this.initFormValue)&&JSON.stringify(this.initFormValue)!==JSON.stringify(this.networkListFormArray.getRawValue())},l.prototype.clearNodeListFormArray=function(){for(;0!==this.networkListFormArray.length;)this.networkListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_NETWORK);t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,document.getElementById("bulkUploadFile").value="",e.networkList=l,e.clearNodeListFormArray(),e.createFormArrays("bulkUpload"),e.dataService.showToastMessage("Fetched Rows from File","success"),e.isSaved=!1):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch","error"))},function(l){e.showTable=!0,document.getElementById("bulkUploadFile").value="",e.dataService.showToastMessage("Failed to Fetch","error")})},l.prototype.downloadNodesAsFile=function(){var l=this.networkListFormArray.getRawValue();console.log(l,"field value here"),l.forEach(function(l){l.stateUUID="TAMIL NADU"}),this.exportExcelService.exportToExcel(l,{fileName:"Network",headerList:this.exportHeaderList}),this.dataService.showToastMessage("downloading","success")},l}(),zl=t.zb({encapsulation:0,styles:[[".search_matched[_ngcontent-%COMP%]{background-color:#66bb6a}.search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .search_matched[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff}.search_matched[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{background-color:#ef5350}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#ef5350;color:#fff}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn[_ngcontent-%COMP%]:not(.btn-sm):not(.btn-lg){font-size:.75rem;line-height:1rem;padding:.5rem 1rem}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.th-w-1[_ngcontent-%COMP%]{min-width:150px}.th-w-2[_ngcontent-%COMP%]{min-width:250px}h4[_ngcontent-%COMP%]{font-size:1rem}"]],data:{}});function Hl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Yl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"onSelectionChange"],[null,"click"],[null,"keydown"]],function(l,n,e){var o=!0,u=l.component;return"click"===n&&(o=!1!==t.Lb(l,1)._selectViaInteraction()&&o),"keydown"===n&&(o=!1!==t.Lb(l,1)._handleKeydown(e)&&o),"onSelectionChange"===n&&(o=!1!==u.handleSelectionChange(e,l.parent.context.index)&&o),o},H,V)),t.Ab(1,8568832,[[8,4]],0,M.n,[t.n,t.i,[2,M.h],[2,M.m]],{value:[0,"value"]},{onSelectionChange:"onSelectionChange"}),(l()(),t.Sb(2,0,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.componentName)},function(l,n){l(n,0,0,t.Lb(n,1)._getTabIndex(),t.Lb(n,1).selected,t.Lb(n,1).multiple,t.Lb(n,1).active,t.Lb(n,1).id,t.Lb(n,1).selected.toString(),t.Lb(n,1).disabled.toString(),t.Lb(n,1).disabled),l(n,2,0,n.context.$implicit.componentName)})}function Gl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function ql(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Wl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function $l(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"input",[["class","form-control"],["formControlName","latitude"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,1)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,1)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,1)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(3,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){l(n,3,0,"latitude")},function(l,n){l(n,0,0,t.Db(1,"latitude",n.parent.context.index,""),t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function Kl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"input",[["class","form-control"],["formControlName","longitude"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,1)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,1)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,1)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(3,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){l(n,3,0,"longitude")},function(l,n){l(n,0,0,t.Db(1,"longitude",n.parent.context.index,""),t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function Jl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Zl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function Xl(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,127,"tr",[],[[8,"id",0],[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{"editable-row":0,search_matched:1,"error-row":2}),(l()(),t.Bb(3,0,null,null,124,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,12,"td",[["width","15%"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,11,"select",[["class","form-control"],["formControlName","srcNode"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"change"===n&&(o=!1!==u.onNodeChange(l.context.index)&&o),o},null,null)),t.Ab(9,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(11,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,3,"option",[["value","null"]],null,null,null,null,null)),t.Ab(15,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(16,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,[" Select"])),(l()(),t.sb(16777216,null,null,1,null,Hl)),t.Ab(19,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(20,0,null,null,26,"td",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,25,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rl,$)),t.Ab(22,7520256,null,7,q.b,[t.n,t.i,[2,M.f],[2,k.b],[2,q.a],R.a,t.F,[2,_.a]],null,null),t.Qb(335544320,1,{_control:0}),t.Qb(335544320,2,{_placeholderChild:0}),t.Qb(335544320,3,{_labelChild:0}),t.Qb(603979776,4,{_errorChildren:1}),t.Qb(603979776,5,{_hintChildren:1}),t.Qb(603979776,6,{_prefixChildren:1}),t.Qb(603979776,7,{_suffixChildren:1}),(l()(),t.Bb(30,16777216,null,1,8,"input",[["aria-label","Assignee"],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","componentName"],["matInput",""],["placeholder",""],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,31)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,31).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,31)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,31)._compositionEnd(e.target.value)&&o),"focusin"===n&&(o=!1!==t.Lb(l,32)._handleFocus()&&o),"blur"===n&&(o=!1!==t.Lb(l,32)._onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,32)._handleInput(e)&&o),"keydown"===n&&(o=!1!==t.Lb(l,32)._handleKeydown(e)&&o),"blur"===n&&(o=!1!==t.Lb(l,37)._focusChanged(!1)&&o),"focus"===n&&(o=!1!==t.Lb(l,37)._focusChanged(!0)&&o),"input"===n&&(o=!1!==t.Lb(l,37)._onInput()&&o),o},null,null)),t.Ab(31,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(32,147456,null,0,al.f,[t.n,il.a,t.Y,t.F,t.i,al.b,[2,k.b],[2,q.b],[2,p.d],sl.d],{autocomplete:[0,"autocomplete"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,al.f]),t.Ab(34,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(36,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(37,999424,null,0,cl.a,[t.n,R.a,[6,r.p],[2,r.s],[2,r.k],M.b,[8,null],dl.a,t.F],{placeholder:[0,"placeholder"],type:[1,"type"]},null),t.Pb(2048,[[1,4]],q.c,null,[cl.a]),(l()(),t.Bb(39,0,null,1,7,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,ml,bl)),t.Pb(6144,null,M.h,null,[al.d]),t.Ab(41,1097728,[["auto",4]],2,al.d,[t.i,t.n,al.a],{displayWith:[0,"displayWith"]},null),t.Qb(603979776,8,{options:1}),t.Qb(603979776,9,{optionGroups:1}),(l()(),t.sb(16777216,null,0,2,null,Yl)),t.Ab(45,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),t.Mb(131072,p.b,[t.i]),(l()(),t.Bb(47,0,null,null,6,"td",[],[[8,"title",0]],null,null,null,null)),(l()(),t.Bb(48,0,null,null,5,"input",[["class","form-control"],["formControlName","displayName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,49)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,49).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,49)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,49)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(49,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(51,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(53,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(54,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(55,0,null,null,11,"select",[["class","form-control"],["formControlName","destNode"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,56).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,56).onTouched()&&o),o},null,null)),t.Ab(56,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(58,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(60,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(61,0,null,null,3,"option",[["value","null"]],null,null,null,null,null)),t.Ab(62,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(63,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,[" Select"])),(l()(),t.sb(16777216,null,null,1,null,Gl)),t.Ab(66,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(67,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(68,0,null,null,11,"select",[["class","form-control"],["formControlName","componentType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,69).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,69).onTouched()&&o),"change"===n&&(o=!1!==u.onComponentTypeChange(l.context.index)&&o),o},null,null)),t.Ab(69,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(71,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(73,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(74,0,null,null,3,"option",[["value","null"]],null,null,null,null,null)),t.Ab(75,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(76,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,[" Select"])),(l()(),t.sb(16777216,null,null,1,null,ql)),t.Ab(79,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(80,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(81,0,null,null,11,"select",[["class","form-control"],["formControlName","componentSubType"],["style","width: 140px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,82).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,82).onTouched()&&o),"change"===n&&(o=!1!==u.onSubTypeChange(l.context.index)&&o),o},null,null)),t.Ab(82,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(84,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(86,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(87,0,null,null,3,"option",[["value","null"]],null,null,null,null,null)),t.Ab(88,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(89,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,[" Select"])),(l()(),t.sb(16777216,null,null,1,null,Wl)),t.Ab(92,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(93,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,$l)),t.Ab(95,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(96,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Kl)),t.Ab(98,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(99,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(100,0,null,null,5,"input",[["class","form-control"],["formControlName","penaltyCoefficient"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,101)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,101).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,101)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,101)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(101,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(103,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(105,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(106,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(107,0,null,null,5,"input",[["class","form-control"],["formControlName","spatialPIF"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,108)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,108).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,108)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,108)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(108,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(110,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(112,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(113,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(114,0,null,null,5,"input",[["class","form-control"],["formControlName","temporalPIF"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,115)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,115).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,115)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,115)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(115,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(117,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(119,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(120,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(121,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Jl)),t.Ab(123,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Zl)),t.Ab(125,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(126,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(127,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,o=l(n,2,0,n.context.$implicit.editEnabled,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,o);var u=e.networkListFormArray.get(n.context.index.toString());l(n,4,0,u),l(n,11,0,"srcNode"),l(n,15,0,"null"),l(n,16,0,"null"),l(n,19,0,e.nodeEntityList),l(n,32,0,t.Lb(n,41)),l(n,34,0,"componentName"),l(n,37,0,"","text"),l(n,41,0,e.displayFn),l(n,45,0,t.Tb(n,45,0,t.Lb(n,46).transform(e.filteredComponents))),l(n,51,0,"displayName"),l(n,58,0,"destNode"),l(n,62,0,"null"),l(n,63,0,"null"),l(n,66,0,e.selectComponentList[n.context.index]),l(n,71,0,"componentType"),l(n,75,0,"null"),l(n,76,0,"null"),l(n,79,0,e.componentsList),l(n,84,0,"componentSubType"),l(n,88,0,"null"),l(n,89,0,"null"),l(n,92,0,e.selectsubComponentList[n.context.index]);var r="IRRIGATION CANAL"===e.networkListFormArray.get(n.context.index.toString()).get("componentType").value;l(n,95,0,r);var a="IRRIGATION CANAL"===e.networkListFormArray.get(n.context.index.toString()).get("componentType").value;l(n,98,0,a),l(n,103,0,"penaltyCoefficient"),l(n,110,0,"spatialPIF"),l(n,117,0,"temporalPIF"),l(n,123,0,n.context.$implicit.editEnabled),l(n,125,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,n.context.$implicit.componentName,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.componentName),l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending),l(n,21,1,["standard"==t.Lb(n,22).appearance,"fill"==t.Lb(n,22).appearance,"outline"==t.Lb(n,22).appearance,"legacy"==t.Lb(n,22).appearance,t.Lb(n,22)._control.errorState,t.Lb(n,22)._canLabelFloat,t.Lb(n,22)._shouldLabelFloat(),t.Lb(n,22)._hasFloatingLabel(),t.Lb(n,22)._hideControlPlaceholder(),t.Lb(n,22)._control.disabled,t.Lb(n,22)._control.autofilled,t.Lb(n,22)._control.focused,"accent"==t.Lb(n,22).color,"warn"==t.Lb(n,22).color,t.Lb(n,22)._shouldForward("untouched"),t.Lb(n,22)._shouldForward("touched"),t.Lb(n,22)._shouldForward("pristine"),t.Lb(n,22)._shouldForward("dirty"),t.Lb(n,22)._shouldForward("valid"),t.Lb(n,22)._shouldForward("invalid"),t.Lb(n,22)._shouldForward("pending"),!t.Lb(n,22)._animationsEnabled]),l(n,30,1,[t.Lb(n,32).autocompleteAttribute,t.Lb(n,32).autocompleteDisabled?null:"combobox",t.Lb(n,32).autocompleteDisabled?null:"list",t.Lb(n,32).panelOpen&&t.Lb(n,32).activeOption?t.Lb(n,32).activeOption.id:null,t.Lb(n,32).autocompleteDisabled?null:t.Lb(n,32).panelOpen.toString(),t.Lb(n,32).autocompleteDisabled||!t.Lb(n,32).panelOpen?null:null==t.Lb(n,32).autocomplete?null:t.Lb(n,32).autocomplete.id,t.Lb(n,36).ngClassUntouched,t.Lb(n,36).ngClassTouched,t.Lb(n,36).ngClassPristine,t.Lb(n,36).ngClassDirty,t.Lb(n,36).ngClassValid,t.Lb(n,36).ngClassInvalid,t.Lb(n,36).ngClassPending,t.Lb(n,37)._isServer,t.Lb(n,37).id,t.Lb(n,37).placeholder,t.Lb(n,37).disabled,t.Lb(n,37).required,t.Lb(n,37).readonly&&!t.Lb(n,37)._isNativeSelect||null,t.Lb(n,37)._ariaDescribedby||null,t.Lb(n,37).errorState,t.Lb(n,37).required.toString()]),l(n,47,0,n.context.$implicit.displayName),l(n,48,0,t.Lb(n,53).ngClassUntouched,t.Lb(n,53).ngClassTouched,t.Lb(n,53).ngClassPristine,t.Lb(n,53).ngClassDirty,t.Lb(n,53).ngClassValid,t.Lb(n,53).ngClassInvalid,t.Lb(n,53).ngClassPending),l(n,55,0,t.Lb(n,60).ngClassUntouched,t.Lb(n,60).ngClassTouched,t.Lb(n,60).ngClassPristine,t.Lb(n,60).ngClassDirty,t.Lb(n,60).ngClassValid,t.Lb(n,60).ngClassInvalid,t.Lb(n,60).ngClassPending),l(n,68,0,t.Lb(n,73).ngClassUntouched,t.Lb(n,73).ngClassTouched,t.Lb(n,73).ngClassPristine,t.Lb(n,73).ngClassDirty,t.Lb(n,73).ngClassValid,t.Lb(n,73).ngClassInvalid,t.Lb(n,73).ngClassPending),l(n,81,0,t.Lb(n,86).ngClassUntouched,t.Lb(n,86).ngClassTouched,t.Lb(n,86).ngClassPristine,t.Lb(n,86).ngClassDirty,t.Lb(n,86).ngClassValid,t.Lb(n,86).ngClassInvalid,t.Lb(n,86).ngClassPending),l(n,100,0,t.Lb(n,105).ngClassUntouched,t.Lb(n,105).ngClassTouched,t.Lb(n,105).ngClassPristine,t.Lb(n,105).ngClassDirty,t.Lb(n,105).ngClassValid,t.Lb(n,105).ngClassInvalid,t.Lb(n,105).ngClassPending),l(n,107,0,t.Lb(n,112).ngClassUntouched,t.Lb(n,112).ngClassTouched,t.Lb(n,112).ngClassPristine,t.Lb(n,112).ngClassDirty,t.Lb(n,112).ngClassValid,t.Lb(n,112).ngClassInvalid,t.Lb(n,112).ngClassPending),l(n,114,0,t.Lb(n,119).ngClassUntouched,t.Lb(n,119).ngClassTouched,t.Lb(n,119).ngClassPristine,t.Lb(n,119).ngClassDirty,t.Lb(n,119).ngClassValid,t.Lb(n,119).ngClassInvalid,t.Lb(n,119).ngClassPending)})}function Ql(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,68,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,27,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,12,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(5,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(6,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,12)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,12).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,12)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,12)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(12,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(14,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(16,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons flex-wrap"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Row"])),(l()(),t.Bb(21,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,2,"label",[["class","btn btn-outline-active btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveNodes().subscribe()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,37,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,36,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,30,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,24,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[["class","th-w-1"],["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(37,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(39,0,null,null,1,"th",[["class","th-w-1"],["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Display Name"])),(l()(),t.Bb(41,0,null,null,1,"th",[["class","th-w-1"],["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Next Node"])),(l()(),t.Bb(43,0,null,null,1,"th",[["class","th-w-2"],["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component Type"])),(l()(),t.Bb(45,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Sub Type"])),(l()(),t.Bb(47,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Latitude"])),(l()(),t.Bb(49,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Longitude"])),(l()(),t.Bb(51,0,null,null,3,"th",[["class","mandatory"],["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Penalty Coefficient "])),(l()(),t.Bb(53,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["*"])),(l()(),t.Bb(55,0,null,null,1,"th",[["class","text-center"],["colspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["PENALTY INCREMENTAL FACTOR"])),(l()(),t.Bb(57,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(59,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(60,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["ACROSS SPACE"])),(l()(),t.Bb(62,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["ACROSS TIME"])),(l()(),t.Bb(64,0,null,null,4,"tbody",[],null,null,null,null,null)),t.Ab(65,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(66,{"error-body":0}),(l()(),t.sb(16777216,null,null,1,null,Xl)),t.Ab(68,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"Network_table",!e.showTable),l(n,14,0,e.searchText);var t=l(n,66,0,e.isErrorOccurred);l(n,65,0,t),l(n,68,0,e.networkList)},function(l,n){l(n,11,0,t.Lb(n,16).ngClassUntouched,t.Lb(n,16).ngClassTouched,t.Lb(n,16).ngClassPristine,t.Lb(n,16).ngClassDirty,t.Lb(n,16).ngClassValid,t.Lb(n,16).ngClassInvalid,t.Lb(n,16).ngClassPending)})}function ln(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[["class","card-modal-details text-center card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"h4",[["class","my-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Please fill the node tab to view this"]))],null,null)}function nn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[8,null]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null)],function(l,n){var e=n.component;l(n,1,0,e.dataListValues[n.context.$implicit]),l(n,2,0,e.dataListValues[n.context.$implicit])},null)}function en(l){return t.Ub(0,[(l()(),t.sb(16777216,null,null,1,null,Ql)),t.Ab(1,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ln)),t.Ab(3,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(4,0,null,null,2,"datalist",[],[[8,"id",0]],null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,nn)),t.Ab(6,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,1,0,!e.isNodesEmpty),l(n,3,0,e.isNodesEmpty),l(n,6,0,e.getHeaders(e.dataListValues))},function(l,n){l(n,4,0,"component_types")})}var tn=e("M01y"),on=e("AXmK"),un=function(){function l(l,n,e,t){var o=this;this.dataService=l,this.httpService=n,this.cd=e,this.utilService=t,this.evaList=[],this.evaListFormArray=new r.e([]),this.isSaved=!1,this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.column=[],this.errorFlag=!0,this.filterRecords=function(){var l=!1,n=["nodeName","dataSource"];o.searchTextHolder=o.searchText.toLowerCase().trim();var e=[],t=o.dataService.deepClone(o.evaListFormArray.getRawValue());Object(Al.d)(o.searchTextHolder)?e=t:t.forEach(function(t){for(var u=!1,r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(o.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),o.evaList=e}}return l.prototype.ngOnInit=function(){this.retrieveEVA()},l.prototype.loadJexcel=function(l){var n=[];return l.forEach(function(l){if(l.evaDataList.length)l.evaDataList.forEach(function(e){var t=[];t.push(l.entityName),t.push(e.elevation),t.push(e.volume),t.push(e.area),n.push(t)});else{var e=[];e.push(l.entityName),n.push(e)}}),n},l.prototype.retrieveEVA=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_EVA);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=0,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.evaList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_ALL_EVA);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=0,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.editdata=n,l.editableData=on(document.getElementById("spreadsheet"),{data:l.loadJexcel(n),tableHeight:"400px",tableWidth:"200%",tableOverflow:!0,allowInsertRow:!0,allowInsertColumn:!0,allowManualInsertRow:!0,allowManualInsertColumn:!0,allowDeleteColumn:!1,allowcopy:!1,allowDeleteRow:!1,onchange:function(n,e,t,o,u){0!=t&&isNaN(+u)&&l.dataService.showToastMessage("value cannot be text","error")},about:!1,columns:[{type:"text",title:"Node Name",width:500},{type:"text",title:"Elevation(m)",width:350},{type:"text",title:"Volume(MCFT)",width:350},{type:"text",title:"Area (Sqkm)",width:350}]})})},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn,this.isEditOn||on.destroy(document.getElementById("spreadsheet"))},l.prototype.createFormArrays=function(){var l=this;if(this.evaListFormArray.length>0)for(;0!==this.evaListFormArray.length;)this.evaListFormArray.removeAt(0);this.evaList.forEach(function(n,e){for(var t=l.getEVAFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.evaListFormArray.push(t)})},l.prototype.getEVAFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.evaListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.evaList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_EVA);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=0,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("EVA Cleared Successfully","success"),e.evaList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear EVA","error")})},l.prototype.onFileUpload=function(l,n){this.evaListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1})},l.prototype.downloadAllEVA=function(l){var n;"bulk"!=l&&(n=this.evaList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_EVA);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=0,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)}),this.dataService.showToastMessage("downloading","success")},l.prototype.bulkUploadEVA=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.EVA_BULK_UPLOAD);t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("EVA Saved Successfully","success"),e.evaList=l,e.createFormArrays(),e.clearBulkUploadFile()):(e.dataService.showToastMessage("Failed to Save EVA","error"),e.evaList=l.rows,e.evaListFormArray.setValue(l.rows)),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0,e.dataService.showToastMessage("Failed to Save EVA","error")})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveEVA=function(){var l=this;if(this.isEditOn){var n=this.editableData.getData();n.forEach(function(n){for(var e=0;e<n.length;e++)e&&isNaN(parseFloat(n[e]))&&""!=n[e]&&(l.dataService.showToastMessage("values cannot be text","error"),l.errorFlag=!0)});for(var e=function(e){var o=t.editdata[e];t.editdata[e].evaDataList=[],n.forEach(function(n){if(o.entityName==n[0]){var t={elevation:parseFloat(n[1]),volume:parseFloat(n[2]),area:parseFloat(n[3])};l.editdata[e].evaDataList.push(t)}})},t=this,o=0;o<this.editdata.length;o++)e(o);this.isEditOn&&((r=this.dataService.deepClone(v.a.SAVE_EDIT_EVA)).postData.modelUUID=this.modelId,r.postData.waterYear=0,r.postData.rows=this.editdata,r.postData.rootEntityUuid=this.rootEntityUuid,r.postData.rootEntityType=C.a.ROP_NETWORK,this.httpService.placeAPICall(r).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn,on.destroy(document.getElementById("spreadsheet")),l.evaList=n,l.createFormArrays()):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var u=0;u<this.evaList.length;u++)this.evaList[u].dataSource=this.evaListFormArray.getRawValue()[u].dataSource;var r;(r=this.dataService.deepClone(v.a.SAVE_EVA)).postData.modelUUID=this.modelId,r.postData.rootEntityUuid=this.rootEntityUuid,r.postData.rootEntityType=C.a.ROP_NETWORK,r.postData.year=0,r.postData.rows=this.evaList,this.httpService.placeAPICall(r).subscribe(function(n){n&&(n.success?(l.dataService.showToastMessage("EVA Saved Successfully","success"),l.evaList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save EVA","error"),l.evaList=n.rows,l.evaListFormArray.setValue(n.rows)),l.isSaved=!1)})}},l}(),rn=t.zb({encapsulation:0,styles:[[".search_matched[_ngcontent-%COMP%]{background-color:#198754}.search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .search_matched[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#198754;color:#fff}.search_matched[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{background-color:#dc3545}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.nodata[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:600;font-size:1rem}.btn[_ngcontent-%COMP%]:not(.btn-sm):not(.btn-lg){font-size:.75rem;line-height:1rem;padding:.5rem 1rem}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}"]],data:{}});function an(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadEVA(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadAllEVA("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function sn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","icon tnw-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function cn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Error Messages"]))],null,null)}function dn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Sb(1,null,[" "," "])),t.Ob(2,2)],null,function(l,n){var e=t.Tb(n,1,0,l(n,2,0,t.Lb(n.parent.parent.parent,1),n.parent.context.$implicit.errorMessage,"isValue"));l(n,1,0,e)})}function pn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tr",[],[[8,"id",0],[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,40,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.sb(16777216,null,null,1,null,dn)),t.Ab(37,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(38,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadAllEVA(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-danger border-0"],["title","Clear Data"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.evaListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r),l(n,37,0,e.isSaved)},function(l,n){l(n,0,0,n.context.$implicit.nodeUUID,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function bn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.sb(16777216,null,null,1,null,cn)),t.Ab(13,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(16,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,pn)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,13,0,e.isSaved),l(n,18,0,e.evaList)},null)}function gn(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),t.Mb(0,tn.a,[]),(l()(),t.Bb(2,0,null,null,28,"div",[["class","card-modal-details card mt-2 mb-4 shadow-sm border-0 overflow-hidden col-12"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(4,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(5,0,null,null,22,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,14,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(7,278528,null,0,p.t,[t.y,t.n,t.N],{ngStyle:[0,"ngStyle"]},null),t.Nb(8,{visibility:0}),t.Ab(9,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(10,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(14,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,16)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,16).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,16)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,16)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(16,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(18,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(20,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(21,0,null,null,6,"div",[["class","buttons flex-wrap mt-2 mt-md-0"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,an)),t.Ab(23,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,sn)),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEVA()&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(28,0,null,null,0,"div",[["class","sample"],["id","spreadsheet"],["style","table-overflow:auto; background-color: black"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,bn)),t.Ab(30,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,"evaSpinner",!e.showTable);var o=l(n,8,0,e.isEditOn?"hidden":"visible");l(n,7,0,o),l(n,18,0,e.searchText),l(n,23,0,!e.isEditOn,t.Lb(n,24)),l(n,30,0,!e.isEditOn)},function(l,n){l(n,15,0,t.Lb(n,20).ngClassUntouched,t.Lb(n,20).ngClassTouched,t.Lb(n,20).ngClassPristine,t.Lb(n,20).ngClassDirty,t.Lb(n,20).ngClassValid,t.Lb(n,20).ngClassInvalid,t.Lb(n,20).ngClassPending)})}var mn=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.outflowCurveList=[],this.outflowCurveListFormArray=new r.e([]),this.isSaved=!1,this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.editdata=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.outflowCurveListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1===n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.componentName)&&(document.getElementById(o.componentName),l=!0),o.isMatched=!0),e.push(o)}),t.outflowCurveList=e}}return l.prototype.ngOnInit=function(){this.retrieveOutflowCurve()},l.prototype.loadJexcel=function(l){var n=[];return l.forEach(function(l){if(l.canalRatingList.length)l.canalRatingList.forEach(function(e){var t=[];t.push(l.entityName),t.push(e.volume),t.push(e.flowRate),n.push(t)});else{var e=[];e.push(l.entityName),n.push(e)}}),n},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_ALL_OUTFLOW_CURVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=0,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.editdata=n,l.editableData=on(document.getElementById("spreadsheet"),{data:l.loadJexcel(n),tableHeight:"400px",tableOverflow:!0,allowInsertRow:!0,allowInsertColumn:!0,allowManualInsertRow:!0,allowManualInsertColumn:!0,allowDeleteColumn:!1,allowcopy:!1,allowDeleteRow:!1,onchange:function(n,e,t,o,u){0!=t&&isNaN(+u)&&l.dataService.showToastMessage("value cannot be text","error")},about:!1,columns:[{type:"text",title:"Node Name",width:500},{type:"text",title:"Storage",width:500},{type:"text",title:"Outflow",width:500}]})})},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn,this.isEditOn||on.destroy(document.getElementById("spreadsheet"))},l.prototype.retrieveOutflowCurve=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_OUTFLOW_CURVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=0,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.outflowCurveList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;if(this.outflowCurveListFormArray.length>0)for(;0!==this.outflowCurveListFormArray.length;)this.outflowCurveListFormArray.removeAt(0);this.outflowCurveList.forEach(function(n,e){for(var t=l.getOutflowCurveFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.outflowCurveListFormArray.push(t)})},l.prototype.getOutflowCurveFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.outflowCurveListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.outflowCurveList[l].componentUUID);var t=this.dataService.deepClone(v.a.CLEAR_OUTFLOW_CURVE);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=0,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Outflow Curve Cleared Successfully","success"),e.outflowCurveList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Outflow Curve","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.outflowCurveListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1})},l.prototype.downloadOutflowCurve=function(l){var n;"bulk"!=l&&(n=this.outflowCurveList[l].componentUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_OUTFLOW_CURVE);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=0,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)}),this.dataService.showToastMessage("downloading","success")},l.prototype.bulkUploadOutflowCurve=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.OUTFLOW_CURVE_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Outflow Curve Data Saved Successfully","success"),e.outflowCurveList=l,e.createFormArrays(),e.clearBulkUploadFile()):(e.dataService.showToastMessage("Failed to Save Outflow Curve Data","error"),e.outflowCurveList=l.rows,e.outflowCurveListFormArray.setValue(l.rows)),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0}),this.dataService.showToastMessage("Failed to Save Outflow Curve Data","error")},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveOutflowCurve=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData.getData();e.forEach(function(e){for(var t=0;t<e.length;t++)t&&isNaN(parseFloat(e[t]))&&""!=e[t]&&(l.dataService.showToastMessage("values cannot be text","error"),n=!0)});for(var t=function(n){var t=o.editdata[n];o.editdata[n].canalRatingList=[],e.forEach(function(e){if(t.entityName==e[0]){var o={volume:parseFloat(e[1]),flowRate:parseFloat(e[2])};l.editdata[n].canalRatingList.push(o)}})},o=this,u=0;u<this.editdata.length;u++)t(u);n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_OUTFLOW_CURVE)).postData.modelUUID=this.modelId,a.postData.waterYear=0,a.postData.rows=this.editdata,a.postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn,on.destroy(document.getElementById("spreadsheet")),l.outflowCurveList=n,l.createFormArrays()):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.outflowCurveList.length;r++)this.outflowCurveList[r].dataSource=this.outflowCurveListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_OUTFLOW_CURVE)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=0,a.postData.rows=this.outflowCurveList,this.httpService.placeAPICall(a).subscribe(function(n){n&&n.message&&("success"===n.message?(l.dataService.showToastMessage("Outflow Curve Data Saved Successfully","success"),l.outflowCurveList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Outflow Curve Data","error"),l.outflowCurveList=n.rows,l.outflowCurveListFormArray.setValue(n.rows))),l.isSaved=!1})}},l}(),hn=t.zb({encapsulation:0,styles:[[".nodata[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:600;font-size:1rem}.btn[_ngcontent-%COMP%]:not(.btn-sm):not(.btn-lg){font-size:.75rem;line-height:1rem;padding:.5rem 1rem}.buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function fn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadOutflowCurve(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadOutflowCurve("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function vn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function An(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Error Messages"]))],null,null)}function Cn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Sb(1,null,[" "," "])),t.Ob(2,2)],null,function(l,n){var e=t.Tb(n,1,0,l(n,2,0,t.Lb(n.parent.parent.parent,1),n.parent.context.$implicit.errorMessage,"isValue"));l(n,1,0,e)})}function In(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,45,"tr",[],[[8,"id",0],[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,42,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.sb(16777216,null,null,1,null,Cn)),t.Ab(39,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(40,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadOutflowCurve(l.context.index)&&t),t},null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(44,0,null,null,1,"button",[["class","btn btn-danger border-0"],["title","Clear Data"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null)),(l()(),t.Bb(45,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.outflowCurveListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r),l(n,39,0,e.isSaved)},function(l,n){l(n,0,0,n.context.$implicit.componentName,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,n.context.$implicit.componentDisplayName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function yn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,19,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.sb(16777216,null,null,1,null,An)),t.Ab(14,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(17,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,In)),t.Ab(19,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,14,0,e.isSaved),l(n,19,0,e.outflowCurveList)},null)}function wn(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),t.Mb(0,tn.a,[]),(l()(),t.Bb(2,0,null,null,29,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(4,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(5,0,null,null,23,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,15,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(7,278528,null,0,p.t,[t.y,t.n,t.N],{ngStyle:[0,"ngStyle"]},null),t.Nb(8,{visibility:0}),t.Ab(9,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(10,0,null,null,11,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,10,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(14,0,null,null,0,"i",[["class","nbi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,6,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,17)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,17).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,17)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,17)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(17,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(19,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(21,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(22,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,fn)),t.Ab(24,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,vn)),(l()(),t.Bb(26,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveOutflowCurve()&&t),t},null,null)),(l()(),t.Bb(27,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(29,0,null,null,0,"div",[["class","sample"],["id","spreadsheet"],["style","overflow-x:auto; background-color: gray"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,yn)),t.Ab(31,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,"outflowSpinner",!e.showTable);var o=l(n,8,0,e.isEditOn?"hidden":"visible");l(n,7,0,o),l(n,19,0,e.searchText),l(n,24,0,!e.isEditOn,t.Lb(n,25)),l(n,31,0,!e.isEditOn)},function(l,n){l(n,16,0,t.Lb(n,21).ngClassUntouched,t.Lb(n,21).ngClassTouched,t.Lb(n,21).ngClassPristine,t.Lb(n,21).ngClassDirty,t.Lb(n,21).ngClassValid,t.Lb(n,21).ngClassInvalid,t.Lb(n,21).ngClassPending)})}var xn=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.contentType=[{name:"EVA Data",id:"eva"},{name:"Outflow Curve",id:"outflow"}],this.selected="eva",this.tableData=new t.q,this.initTableData=new t.q,this.disableList=[],this.verificationDisableList=["outflow_curve","objective_function"],this.ratingCurveList=[],this.ratingCurveListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",COMPONENT:"componentDisplayName",IS_ENABLED:"enabled"}}return l.prototype.ngOnInit=function(){this.retrieveRatingCurve()},l.prototype.valueChange=function(l){console.log("selected value",l.target.value,"value of selected",this.selected)},l.prototype.retrieveRatingCurve=function(){var l=this,n=this.dataService.deepClone(v.a.OUTFLOW_RATING_CURVE_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.ratingCurveList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.ratingCurveList.forEach(function(l){for(var e=n.getRatingCurveFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.ratingCurveListFormArray.push(e),n.tableData.emit(n.ratingCurveListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.ratingCurveListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getRatingCurveFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),enabled:new r.g("",r.z.required),componentName:new r.g(""),componentDisplayName:new r.g(""),componentUUID:new r.g("")})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.OUTFLOW_RATING_CURVE_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.ratingCurveListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.ratingCurveList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Rating Curve Constraints Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Rating Curve Constraints","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.clearFormArray=function(){for(;0!==this.ratingCurveListFormArray.length;)this.ratingCurveListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_OUTFLOW_RATING_CURVE);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.ratingCurveList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){var l=this.ratingCurveListFormArray.getRawValue();l.forEach(function(l){l.enabled=l.enabled?1:0}),this.exportExcelService.exportToExcel(l,{fileName:"Rating Curve Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"OUTFLOW_CURVE_POLICY"})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),Ln=t.zb({encapsulation:0,styles:[[""]],data:{}});function jn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],[[8,"selected",0]],null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{ngValue:[0,"ngValue"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t.Sb(3,null,[" "," "]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,0,0,n.context.$implicit.id==n.component.selected),l(n,3,0,n.context.$implicit.name)})}function En(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["EVA Data"]))],null,null)}function Dn(l){return t.Ub(0,[(l()(),t.sb(0,null,null,0))],null,null)}function Sn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,9,"ngb-tab",[["id","eva"]],null,null,null,null,null)),t.Ab(1,2113536,null,2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,3,{titleTpls:1}),t.Qb(603979776,4,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,En)),t.Ab(5,16384,[[3,4]],0,fl.U,[t.V],null,null),(l()(),t.Bb(6,0,null,null,1,"app-eva-data",[],null,null,null,gn,rn)),t.Ab(7,114688,[[1,4],["eva",4]],0,un,[g.a,m.a,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null),(l()(),t.sb(0,null,null,1,null,Dn)),t.Ab(9,16384,[[4,4]],0,fl.T,[t.V],null,null)],function(l,n){var e=n.component;l(n,1,0,"eva",-1!=e.disableList.indexOf("eva")),l(n,7,0,e.modelId,e.rootEntityUuid)},null)}function Nn(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Outflow Curve"]))],null,null)}function Tn(l){return t.Ub(0,[(l()(),t.sb(0,null,null,0))],null,null)}function Fn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,9,"ngb-tab",[["id","outflow_curve"]],null,null,null,null,null)),t.Ab(1,2113536,null,2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,5,{titleTpls:1}),t.Qb(603979776,6,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Nn)),t.Ab(5,16384,[[5,4]],0,fl.U,[t.V],null,null),(l()(),t.Bb(6,0,null,null,1,"app-outflow-curve",[],null,null,null,wn,hn)),t.Ab(7,114688,[[2,4],["outflow_curve",4]],0,mn,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null),(l()(),t.sb(0,null,null,1,null,Tn)),t.Ab(9,16384,[[6,4]],0,fl.T,[t.V],null,null)],function(l,n){var e=n.component;l(n,1,0,"outflow_curve",-1!=e.disableList.indexOf("outflow_curve")),l(n,7,0,e.modelId,e.rootEntityUuid)},null)}function Bn(l){return t.Ub(0,[t.Qb(671088640,1,{eva:0}),t.Qb(671088640,2,{outflow_curve:0}),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,8,"div",[["class","d-flex flex-wrap"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,7,"select",[["class","form-control w-50 mt-2"],["name","valueCheck"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.selected=e)&&o),"change"===n&&(o=!1!==u.valueChange(e)&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,jn)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.sb(16777216,null,null,1,null,Sn)),t.Ab(14,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Fn)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"dead_storage_policy",!e.showTable),l(n,8,0,"valueCheck",e.selected),l(n,12,0,e.contentType),l(n,14,0,"eva"==e.selected),l(n,16,0,"outflow"==e.selected)},function(l,n){l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending)})}var On=function(){function l(l,n,e,t){this.modelService=l,this.httpService=n,this.dataService=e,this.utilService=t,this.groupsList=[],this.groupListFormArray=new r.e([]),this.nodeEntityList=[],this.nodeComponentMapping={},this.selectComponentList={},this.showGroups=!1,this.isSaved=!1}return l.prototype.ngOnInit=function(){var l=this;this.modelService.getNodeAndComponentMapping(this.modelId).subscribe(function(n){l.nodeEntityList=n[0],l.nodeComponentMapping=n[1],l.retrieveGroups()},function(n){l.dataService.showToastMessage("Error while retriving the network and nodes","error")})},l.prototype.retrieveGroups=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_GROUPS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.groupsList=l.formatDataToFormArray(n),l.createFormArray(),console.log(l.groupListFormArray,"forma array here"),l.showGroups=!0},function(n){l.showGroups=!0})},l.prototype.createFormArray=function(){var l=this;this.groupsList.forEach(function(n){var e=l.getGroupFormGroup();e.get("name").setValue(n.name);var t=e.get("child");Object(Al.d)(n.child)||Object(Al.c)(n.child)||n.child.forEach(function(n){var e=l.getGroupChildFormGroup();e.patchValue(n),t.push(e)}),l.groupListFormArray.push(e)}),this.groupListFormArray.disable()},l.prototype.onAddGroup=function(){if(this.isAllGroupsSaved()){if(this.groupsList&&this.groupsList.length&&this.groupListFormArray.get((this.groupsList.length-1).toString()).invalid)return void this.dataService.showToastMessage("Please fill the values for row "+this.groupsList.length,"error");this.groupsList.push({editEnabled:!1,child:[]}),this.groupListFormArray.push(this.getGroupFormGroup()),console.log(this.groupListFormArray,"grop list form array"),this.onEditEnable(this.groupsList.length-1)}},l.prototype.onAddComponent=function(l){if(this.groupsList[l].editEnabled)this.dataService.showToastMessage("Please save the group name","error");else if(this.isAllFieldsSavedInGroup(l)){var n=this.groupsList[l].child;if(n&&n.length&&this.groupListFormArray.get(l.toString()).get("child").get((n.length-1).toString()).invalid)return void this.dataService.showToastMessage("Please fill the values for row "+(l+1)+" and child "+n.length,"error");this.groupsList[l].isExpanded=!0;var e=this.groupListFormArray.get(l.toString()).get("child");n.push({editEnabled:!1}),e.push(this.getGroupChildFormGroup()),this.onEditEnableChild(l,n.length-1)}},l.prototype.onChangeComponentName=function(l,n,e){var t=n.filter(function(l){return l.componentName===e})[0];l.setValue(t.componentUUID)},l.prototype.onEditEnable=function(l){var n=this;this.isAllGroupsSaved()&&this.groupsList.forEach(function(e,t){var o=n.groupListFormArray.get(t.toString()).get("name");l===t?(e.editEnabled=!0,o.enable()):(e.editEnabled=!1,o.disable())})},l.prototype.onSave=function(l){var n=this.groupListFormArray.get(l.toString()).get("name");n.invalid?this.dataService.showToastMessage("Please fill the value for the row "+(l+1),"error"):this.isDuplicateGroupName(l)?this.dataService.showToastMessage("Duplicate Value Not allowed "+(l+1),"error"):(this.groupsList[l].editEnabled=!1,n.disable(),console.log(this.groupListFormArray.value))},l.prototype.isDuplicateGroupName=function(l){var n=this.groupListFormArray.get(l.toString()).get("name"),e=!1;return this.groupListFormArray.getRawValue().forEach(function(t,o){l!==o&&n.value===t.name&&(e=!0)}),e},l.prototype.onDelete=function(l){this.groupsList.splice(l,1),this.groupListFormArray.removeAt(l),this.dataService.showToastMessage("deleted","success")},l.prototype.onEditEnableChild=function(l,n){var e=this;this.isAllFieldsSavedInGroup(l)&&this.groupsList[l].child.forEach(function(t,o){var u=e.groupListFormArray.get(l.toString()).get("child").get(o.toString());n===o?(t.editEnabled=!0,u.enable()):(t.editEnabled=!1,u.disable())})},l.prototype.onSaveChild=function(l,n){var e=this.groupListFormArray.get(l.toString()).get("child").get(n.toString());e.invalid?this.dataService.showToastMessage("Please fill the values for row "+(l+1)+" and child "+(n+1),"error"):this.isDuplicateChild(l,n)||(this.groupsList[l].child[n].editEnabled=!1,e.disable())},l.prototype.onDeleteChild=function(l,n){var e=this.groupListFormArray.get(l.toString()).get("child");this.groupsList[l].child.splice(n,1),e.removeAt(n),this.dataService.showToastMessage("deleted","success")},l.prototype.onSaveGroup=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.SAVE_GROUPS);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.formatDataFromFormArray(l.groupListFormArray.getRawValue());for(var t=0,o=Object.keys(e.postData.rows);t<o.length;t++){var u=o[t];e.postData.rows[u]=l.modelService.setNodeUUIDForArrayOfObjects(e.postData.rows[u])}l.httpService.placeAPICall(e).subscribe(function(e){e&&e.message&&("success"===e.message?(n.next(!0),n.complete(),l.dataService.showToastMessage("Groups Saved Successfully","success")):(n.next(!1),n.complete(),l.dataService.showToastMessage("Failed to Save Groups","error")),l.groupsList=e.rows,l.clearFormArray(),l.clearFormArray()),l.isSaved=!0},function(l){n.next(!1),n.complete()})})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.onSaveGroup().subscribe(function(l){n.next(l),n.complete()})})},l.prototype.isFormsDiffered=function(){return!Object(I.isNullOrUndefined)(this.initFormValue)&&JSON.stringify(this.initFormValue)!==JSON.stringify(this.groupListFormArray.getRawValue())},l.prototype.clearFormArray=function(){for(;0!==this.groupListFormArray.length;)this.groupListFormArray.removeAt(0)},l.prototype.isAllGroupsSaved=function(l){var n=this;void 0===l&&(l=!0);var e=!0;return this.groupsList.forEach(function(t,o){t.editEnabled&&(e=!1,l&&n.dataService.showToastMessage("Please save the row "+(o+1),"error"))}),e},l.prototype.isAllFieldsSavedInGroup=function(l,n){var e=this;void 0===n&&(n=!0);var t=!0;return this.groupsList[l].child.forEach(function(o,u){o.editEnabled&&(t=!1,n&&e.dataService.showToastMessage("Please save the row "+(l+1)+" and child "+(u+1),"error"))}),t},l.prototype.isAllFieldsSaved=function(){var l=this,n=!0;return this.isAllGroupsSaved()||(n=!1),this.groupsList.forEach(function(e,t){l.isAllFieldsSavedInGroup(t)||(n=!1)}),n},l.prototype.isDuplicateChild=function(l,n){for(var e=!1,t=this.groupListFormArray.get(l.toString()).get("child"),o=this.groupListFormArray.get(l.toString()).get("child").get(n.toString()),u=o.get("nodeName").value,r=o.get("componentName").value,a=0,i=Object.keys(t.controls);a<i.length;a++){var s=i[a],c=t.controls[s],d=c.get("nodeName").value,p=c.get("componentName").value;n!=s&&d===u&&p===r&&(this.dataService.showToastMessage("Duplicate values present","error"),e=!0)}return e},l.prototype.formatDataToFormArray=function(l){for(var n=[],e=0,t=Object.keys(l);e<t.length;e++){var o=t[e],u={};u.name=o,u.isExpanded=!1,Object(Al.d)(l[o])||Object(Al.c)(l[o])||(u.child=l[o]),n.push(u)}return n},l.prototype.formatDataFromFormArray=function(l){var n={};return l.forEach(function(l){n[l.name]=l.child}),n},l.prototype.getGroupFormGroup=function(){return new r.j({name:new r.g("",r.z.required),child:new r.e([])})},l.prototype.getGroupChildFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),componentUUID:new r.g("",r.z.required)})},l}(),Un=t.zb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]:not(.btn-sm):not(.btn-lg){font-size:.75rem;line-height:1rem;padding:.5rem 1rem}"]],data:{}});function Mn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,0,"i",[["class","fas fa-plus-circle"]],null,null,null,null,null))],null,null)}function kn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,0,"i",[["class","fas fa-minus-circle"]],null,null,null,null,null))],null,null)}function Pn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditEnable(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function Rn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function _n(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Vn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.componentName),l(n,2,0,n.context.$implicit.componentName)},function(l,n){l(n,3,0,n.context.$implicit.componentName)})}function zn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,7,"select",[["class","form-control"],["formControlName","componentName"],["placeholder","Component Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,1).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"change"===n&&(o=!1!==u.onChangeComponentName(u.groupListFormArray.get(l.parent.parent.parent.context.index.toString()).get("child").get(l.parent.context.index.toString()).get("componentUUID"),u.nodeComponentMapping[u.groupListFormArray.get(l.parent.parent.parent.context.index.toString()).get("child").get(l.parent.context.index.toString()).get("nodeName").value],u.groupListFormArray.get(l.parent.parent.parent.context.index.toString()).get("child").get(l.parent.context.index.toString()).get("componentName").value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(3,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,Vn)),t.Ab(7,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"componentName");var t=e.nodeComponentMapping[e.groupListFormArray.get(n.parent.parent.parent.context.index.toString()).get("child").get(n.parent.context.index.toString()).get("nodeName").value];l(n,7,0,t)},function(l,n){l(n,0,0,t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function Hn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,5,"select",[["aria-placeholder","Component Name"],["class","form-control"],["formControlName","componentName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,1).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),o},null,null)),t.Ab(1,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(3,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){l(n,3,0,"componentName")},function(l,n){l(n,0,0,t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function Yn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveChild(l.parent.parent.parent.context.index,l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Gn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditEnableChild(l.parent.parent.parent.context.index,l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function qn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,25,"tr",[["class","expandable-row"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,7,"select",[["class","form-control"],["formControlName","nodeName"],["placeholder","Node Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,_n)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(13,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,zn)),t.Ab(15,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Hn)),t.Ab(17,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(18,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(19,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Yn)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Gn)),t.Ab(23,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(24,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteChild(l.parent.parent.context.index,l.context.index)&&t),t},null,null)),(l()(),t.Bb(25,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=e.groupListFormArray.get(n.parent.parent.context.index.toString()).get("child").get(n.context.index.toString());l(n,1,0,t),l(n,8,0,"nodeName"),l(n,12,0,e.nodeEntityList);var o=e.groupListFormArray.get(n.parent.parent.context.index.toString()).get("child").get(n.context.index.toString()).get("nodeName").value;l(n,15,0,o);var u=!e.groupListFormArray.get(n.parent.parent.context.index.toString()).get("child").get(n.context.index.toString()).get("nodeName").value;l(n,17,0,u),l(n,21,0,n.context.$implicit.editEnabled),l(n,23,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending)})}function Wn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,qn)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.sb(0,null,null,0))],function(l,n){l(n,2,0,n.parent.context.$implicit.child)},null)}function $n(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,32,"tbody",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,29,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,2).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,2).onReset()&&o),o},null,null)),t.Ab(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(4,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(5,0,null,null,14,"td",[["colspan","2"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,13,"div",[["class","d-flex align-items-center flex-nowrap"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,6,"button",[["class","btn btn-collapse-row btn-sm mr-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.context.$implicit.isExpanded=!l.context.$implicit.isExpanded)&&t),t},null,null)),t.Ab(8,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(9,{active:0}),(l()(),t.sb(16777216,null,null,1,null,Mn)),t.Ab(11,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,kn)),t.Ab(13,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(14,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,15)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,15).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,15)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,15)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(15,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(17,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(19,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(20,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,9,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-primary ml-2 border-0"],["title","Add Component"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddComponent(l.context.index)&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add Component "])),(l()(),t.sb(16777216,null,null,1,null,Pn)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Rn)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(29,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDelete(l.context.index)&&t),t},null,null)),(l()(),t.Bb(30,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Wn)),t.Ab(32,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component.groupListFormArray.get(n.context.index.toString());l(n,2,0,e);var t=l(n,9,0,n.context.$implicit.isExpanded);l(n,8,0,"btn btn-collapse-row btn-sm mr-2",t),l(n,11,0,!n.context.$implicit.isExpanded),l(n,13,0,n.context.$implicit.isExpanded),l(n,17,0,"name"),l(n,26,0,!n.context.$implicit.editEnabled),l(n,28,0,n.context.$implicit.editEnabled),l(n,32,0,n.context.$implicit.isExpanded)},function(l,n){l(n,1,0,t.Lb(n,4).ngClassUntouched,t.Lb(n,4).ngClassTouched,t.Lb(n,4).ngClassPristine,t.Lb(n,4).ngClassDirty,t.Lb(n,4).ngClassValid,t.Lb(n,4).ngClassInvalid,t.Lb(n,4).ngClassPending),l(n,14,0,t.Lb(n,19).ngClassUntouched,t.Lb(n,19).ngClassTouched,t.Lb(n,19).ngClassPristine,t.Lb(n,19).ngClassDirty,t.Lb(n,19).ngClassValid,t.Lb(n,19).ngClassInvalid,t.Lb(n,19).ngClassPending)})}function Kn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,34,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,21,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3 mb-0"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,7,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(5,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(6,0,null,null,5,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,4,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"input",[["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,12,"div",[["class","buttons flex-wrap d-flex mt-2 mt-md-0"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,2,"button",[["class","btn btn-outline-active btn-outline-warning ml-2 mb-2 mb-md-0"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddGroup()&&t),t},null,null)),(l()(),t.Bb(14,0,null,null,0,"i",[["class","bi bi-plus-lg mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add new group"])),(l()(),t.Bb(16,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 mb-2 mb-md-0"],["disabled",""]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk File"])),(l()(),t.Bb(19,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 mb-2 mb-md-0"],["disabled",""]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveGroup().subscribe()&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(25,0,null,null,9,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(26,0,null,null,8,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,5,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(28,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(29,0,null,null,1,"th",[["colspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Group Name"])),(l()(),t.Bb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.sb(16777216,null,null,1,null,$n)),t.Ab(34,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"groupsSpinner",!e.showGroups),l(n,34,0,e.groupsList)},null)}var Jn=function(){function l(l,n,e,t,o,u){this.dataUtilService=l,this.dataService=n,this.route=e,this.httpService=t,this.cookie=o,this.utilService=u,this.fileToUpload=null,this.isSaved=!1,this.fileUploadResults=[],this.showTable=!1,this.timePeriodRadioSelected="CUSTOM_TIME_PERIOD",this.nonEditableFieldsOnEdit=[],this.selectedYear=(new Date).getMonth()>4?(new Date).getFullYear():(new Date).getFullYear()-1,this.startDate=null,this.endDate=null,this.timePeriodConfig=[{name:"Daily",value:"daily"},{name:"Five Daily",value:"fiveDaily"},{name:"Weekly",value:"weekly"},{name:"Ten Daily",value:"tenDaily"},{name:"Monthly",value:"monthly"},{name:"Custom Config",value:"CUSTOM_TIME_PERIOD"}],this.timeDataList=[],this.timeDataListFormArray=new r.e([]),this.timeData={}}return l.prototype.ngOnInit=function(){this.userdetails=JSON.parse(this.cookie.get("userdetails")),this.selectedYear=(new Date).getMonth()>4?(new Date).getFullYear():(new Date).getFullYear()-1,this.yearList=this.dataUtilService.getDateList(null,{countVariable:"year",countConfig:"49##0",reverse:!0}),this.retrieveTimeConfig()},l.prototype.retrieveTimeConfig=function(){var l=this;this.fileUploadResults=[];var n=this.dataService.deepClone(v.a.RETRIEVE_TIME_CONFIG);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.includeAllTP=!0,this.httpService.placeAPICall(n).subscribe(function(n){n&&(n.timePeriodType&&(l.timePeriodRadioSelected=n.timePeriodType),n.modelScheduleSet&&(l.timeData=n,l.timeDataList=n.modelScheduleSet,l.nonEditableFieldsOnEdit=n.modelScheduleSet.length&&"DEFAULT_SCHEDULE"!=n.modelScheduleSet[0].scheduleName?["scheduleName"]:[],l.createFormArrays()),n.year&&(l.selectedYear=n.year),n.timePeriodSet&&n.timePeriodSet.length>0&&(l.timePeriodSet=n.timePeriodSet,l.startTimePeriodList=n.timePeriodSet,l.shortstartTimePeriodList=n.timePeriodSet,l.shortendTimePeriodList=n.timePeriodSet,l.startTimePeriodList?n.startTimePeriod&&n.endTimePeriod?(l.startDate=n.startTimePeriod,l.onStartDateChange(0),l.endDate=n.endTimePeriod):(l.endTimePeriodList=n.timePeriodSet,l.startDate=n.startTimePeriod?n.startTimePeriod:l.startTimePeriodList[0].periodName,l.endDate=l.endTimePeriodList[l.endTimePeriodList.length-1].periodName,l.onStartDateChange(0)):(l.startDate=null,l.endDate=null)),Object(Al.d)(n.customPeriodFileName)||(l.fileUploadResults.push({fileName:n.customPeriodFileName,updatedOn:n.insertTs,status:"Valid"}),l.isSaved=!0)),l.showTable=!0},function(n){l.showTable=!0,l.timePeriodRadioSelected="CUSTOM_TIME_PERIOD"})},l.prototype.onStartDateChange=function(l){var n=this,e=!1;if(this.startTimePeriodList=this.timePeriodSet,0==l){this.endTimePeriodList=[],this.endDate=null;var t=this.timeDataListFormArray.get(l.toString());this.startTimePeriodList.forEach(function(l){l.periodName==n.startDate&&(e=!0),e&&n.endTimePeriodList.push(l),console.log(n.endTimePeriodList,t,"4444")});var o=!1;this.shortstartTimePeriodList=[];var u=t.get("endPeriod").value;this.endTimePeriodList.forEach(function(l){o||(n.shortstartTimePeriodList.push(l),l.periodName==u&&(o=!0)),console.log(n.shortstartTimePeriodList,t,"4444")})}else{var r=this.timeDataListFormArray.get("0").get("startPeriod").value;this.shortstartTimePeriodList.forEach(function(l){l.periodName==r&&(e=!0),e&&n.shortendTimePeriodList.push(l)})}},l.prototype.onEndDateChange=function(l){var n=this,e=!1;if(this.startTimePeriodList=this.timePeriodSet,0==l){this.shortstartTimePeriodList=[];var t=this.timeDataListFormArray.get(l.toString()),o=t.get("endPeriod").value;this.endTimePeriodList.forEach(function(l){e||(n.shortstartTimePeriodList.push(l),l.periodName==o&&(e=!0)),console.log(n.shortstartTimePeriodList,t,"4444")})}},l.prototype.onFileChange=function(l){this.fileToUpload=l.target.files[0];var n=document.querySelector("#importFileLabel");Object(Al.d)(this.fileToUpload)?n.innerHTML="Choose File":(n.innerHTML=this.fileToUpload.name,this.uploadFile())},l.prototype.clearFile=function(){var l=document.querySelector("#importFileLabel");l.value="",l.innerHTML="Choose File"},l.prototype.uploadFile=function(){var l=this,n=this.dataService.deepClone(v.a.TIME_CONFIG_UPLOAD_FILE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.file=this.fileToUpload,n.postData.timePeriodType=this.timePeriodRadioSelected,n.postData.year=this.selectedYear,n.postData.startTimePeriod=this.startDate,n.postData.endTimePeriod=this.endDate,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.isSaved=!1,n&&n.success?(l.dataService.showToastMessage("Saved Successfully","success"),l.showTable=!0,l.retrieveTimeConfig(),l.clearFile()):(l.dataService.showToastMessage("Failed to Save","error"),l.showTable=!0)})},l.prototype.downloadFile=function(){var l=this,n=this.dataService.deepClone(v.a.DOWNLOAD_TIME_CONFIG_FILE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)},function(n){l.dataService.showToastMessage("Error Occurred while downloading the file","error")})},l.prototype.createFormArrays=function(){var l=this;this.timeDataListFormArray=new r.e([]),this.timeDataList.forEach(function(n){for(var e=l.getTimePeriodFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t],r=e.controls[u];r.setValue(n[u]),r.disable()}l.timeDataListFormArray.push(e)})},l.prototype.getTimePeriodFormGroup=function(){return new r.j({scheduleName:new r.g("",r.z.required),startPeriod:new r.g(""),endPeriod:new r.g("")})},l.prototype.onSaveNode=function(l){var n=this.timeDataListFormArray.get(l.toString());if(this.isValidFormGroup(l)){if("PLANNING"==this.route.snapshot.queryParams.modelType){var e=this.timeDataListFormArray.get("0");this.startDate=e.get("startPeriod").value}this.timeDataList[l].editEnabled=!1,n.disable()}else this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.removeElement=function(l){this.timeDataList.splice(l,1),this.timeDataListFormArray=new r.e([]),this.disableAllFields()},l.prototype.disableAllFields=function(){this.timeDataList.forEach(function(l){return l.editEnabled=!1})},l.prototype.isValidFormGroup=function(l){return!this.timeDataListFormArray.get(l.toString()).invalid},l.prototype.addElement=function(){this.timeDataList.length>0&&!this.isValidFormGroup(this.timeDataList.length-1)?this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.timeDataList.length,"error"):(this.timeDataList.push({editEnabled:!1}),this.timeDataListFormArray.push(this.getTimePeriodFormGroup()),this.onEditNode(this.timeDataList.length-1,"add"))},l.prototype.onEditNode=function(l,n){var e=this;this.timeDataListFormArray.get(l.toString()),this.timeDataList.forEach(function(t,o){var u=e.timeDataListFormArray.get(o.toString());l===o?(t.editEnabled=!0,u.enable(),"add"!=n&&e.disableNonEditableFields(l)):(t.editEnabled=!1,u.disable())})},l.prototype.disableNonEditableFields=function(l){for(var n=this.timeDataListFormArray.get(l.toString()),e=0,t=Object.keys(n.controls);e<t.length;e++){var o=t[e];-1!==this.nonEditableFieldsOnEdit.indexOf(o)&&n.controls[o].disable()}},l.prototype.saveTimePeriod=function(){var l=this;this.timeData.year=this.selectedYear,this.timeData.startTimePeriod=this.startDate,this.timeData.endTimePeriod=null,this.timeData.timePeriodType=this.timePeriodRadioSelected;var n=this.dataService.deepClone(v.a.TIME_CONFIG_UPLOAD_TABLE);n.postData.modelUUID=this.modelId,n.postData.data=this.timeData,n.postData.data.modelScheduleSet=this.timeDataListFormArray.getRawValue(),n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,this.httpService.placeAPICall(n).subscribe(function(n){n?(l.showTable=!1,l.retrieveTimeConfig(),l.dataService.showToastMessage("Time Period Config Saved Successfully","success")):l.dataService.showToastMessage("Failed to Save Time Period Config","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l.prototype.clearFormArray=function(){for(;0!==this.timeDataListFormArray.length;)this.timeDataListFormArray.removeAt(0)},l}(),Zn=t.zb({encapsulation:0,styles:[[".custom-file-label[_ngcontent-%COMP%]{background:#fff;border-color:#e9ecef;color:#495057}.custom-file-label[_ngcontent-%COMP%]::after{background:#fff;color:#495057}.bg-light-indigo[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:4px;display:flex}.bg-light-indigo[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{padding:.5rem .875rem;display:flex;align-items:center}.bg-light-indigo[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-button-odisha[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.313rem;font-size:.75rem;margin:0}.card[_ngcontent-%COMP%]{border-radius:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#198754;padding:.75rem 1rem;border-radius:4px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0;color:#fff;flex:1 1 auto;font-weight:500;font-size:.875rem}.card-modal-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}"]],data:{}});function Xn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"]))],null,null)}function Qn(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,11,"div",[["class","col radio-container"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,10,"label",[["class","radio-button-odisha"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,6,"input",[["name","time_list_name"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,3)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,3).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,3)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,3)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,4).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,4).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.timePeriodRadioSelected=e)&&o),o},null,null)),t.Ab(3,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(4,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(6,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(8,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(9,0,null,null,0,"span",[["class","radio-icon"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Sb(11,null,["",""]))],function(l,n){var e=n.component;l(n,4,0,"time_list_name",n.context.$implicit.value),l(n,6,0,"time_list_name","CUSTOM_TIME_PERIOD"!=n.context.$implicit.value,e.timePeriodRadioSelected)},function(l,n){l(n,2,0,t.Lb(n,8).ngClassUntouched,t.Lb(n,8).ngClassTouched,t.Lb(n,8).ngClassPristine,t.Lb(n,8).ngClassDirty,t.Lb(n,8).ngClassValid,t.Lb(n,8).ngClassInvalid,t.Lb(n,8).ngClassPending),l(n,11,0,n.context.$implicit.name)})}function le(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,18,"tr",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t.Sb(2,null,["",""])),(l()(),t.Bb(3,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(5,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(6,{"text-success":0,"text-danger":1}),(l()(),t.Bb(7,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(8,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(9,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(10,null,[" ",""])),(l()(),t.Bb(11,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(13,null,[" ",""])),t.Ob(14,1),(l()(),t.Bb(15,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,1,"button",[["class","btn btn-darkblue border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadFile()&&t),t},null,null)),(l()(),t.Bb(18,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null))],function(l,n){var e=l(n,6,0,"Valid"==n.context.$implicit.status||!n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,5,0,"text-capitalize",e);var t=l(n,9,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,8,0,"fas mr-2",t)},function(l,n){l(n,2,0,n.context.$implicit.fileName),l(n,10,0,n.context.$implicit.status);var e=t.Tb(n,13,0,l(n,14,0,t.Lb(n.parent.parent,0),n.context.$implicit.updatedOn));l(n,13,0,e)})}function ne(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,14,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,13,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["File Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Action"])),(l()(),t.Bb(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,le)),t.Ab(14,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,14,0,n.component.fileUploadResults)},null)}function ee(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function te(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,11,"select",[["aria-placeholder","select Start Date"],["formControlName","startPeriod"],["name","startdate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,2).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"change"===n&&(o=!1!==u.onStartDateChange(l.parent.context.index)&&o),o},null,null)),t.Ab(2,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(6,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(7,0,null,null,3,"option",[["disabled",""],["value","Select Start Date"]],null,null,null,null,null)),t.Ab(8,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(9,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select Start Date"])),(l()(),t.sb(16777216,null,null,1,null,ee)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"startPeriod"),l(n,8,0,"Select Start Date"),l(n,9,0,"Select Start Date"),l(n,12,0,e.startTimePeriodList)},function(l,n){l(n,1,0,t.Db(1,"dataSource",n.parent.context.index," form-control"),t.Db(1,"startdate",n.parent.context.index,""),t.Lb(n,6).ngClassUntouched,t.Lb(n,6).ngClassTouched,t.Lb(n,6).ngClassPristine,t.Lb(n,6).ngClassDirty,t.Lb(n,6).ngClassValid,t.Lb(n,6).ngClassInvalid,t.Lb(n,6).ngClassPending)})}function oe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function ue(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,11,"select",[["aria-placeholder","select End Date"],["formControlName","endPeriod"],["name","enddate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,2).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"change"===n&&(o=!1!==u.onEndDateChange(l.parent.context.index)&&o),o},null,null)),t.Ab(2,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(6,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(7,0,null,null,3,"option",[["disabled",""],["value","Select End Date"]],null,null,null,null,null)),t.Ab(8,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(9,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select End Date"])),(l()(),t.sb(16777216,null,null,1,null,oe)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"endPeriod"),l(n,8,0,"Select End Date"),l(n,9,0,"Select End Date"),l(n,12,0,e.endTimePeriodList)},function(l,n){l(n,1,0,t.Db(1,"dataSource",n.parent.context.index," form-control"),t.Db(1,"enddate",n.parent.context.index,""),t.Lb(n,6).ngClassUntouched,t.Lb(n,6).ngClassTouched,t.Lb(n,6).ngClassPristine,t.Lb(n,6).ngClassDirty,t.Lb(n,6).ngClassValid,t.Lb(n,6).ngClassInvalid,t.Lb(n,6).ngClassPending)})}function re(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function ae(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,11,"select",[["aria-placeholder","select Start Date"],["formControlName","startPeriod"],["name","startdate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,2).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"change"===n&&(o=!1!==u.onStartDateChange(l.parent.context.index)&&o),o},null,null)),t.Ab(2,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(6,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(7,0,null,null,3,"option",[["disabled",""],["value","Select Start Date"]],null,null,null,null,null)),t.Ab(8,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(9,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select Start Date"])),(l()(),t.sb(16777216,null,null,1,null,re)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"startPeriod"),l(n,8,0,"Select Start Date"),l(n,9,0,"Select Start Date"),l(n,12,0,e.shortstartTimePeriodList)},function(l,n){l(n,1,0,t.Db(1,"dataSource",n.parent.context.index," form-control"),t.Db(1,"startdate",n.parent.context.index,""),t.Lb(n,6).ngClassUntouched,t.Lb(n,6).ngClassTouched,t.Lb(n,6).ngClassPristine,t.Lb(n,6).ngClassDirty,t.Lb(n,6).ngClassValid,t.Lb(n,6).ngClassInvalid,t.Lb(n,6).ngClassPending)})}function ie(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function se(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,11,"select",[["aria-placeholder","select End Date"],["formControlName","endPeriod"],["name","enddate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,2).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),o},null,null)),t.Ab(2,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(4,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(6,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(7,0,null,null,3,"option",[["disabled",""],["value","Select End Date"]],null,null,null,null,null)),t.Ab(8,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(9,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select End Date"])),(l()(),t.sb(16777216,null,null,1,null,ie)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"endPeriod"),l(n,8,0,"Select End Date"),l(n,9,0,"Select End Date"),l(n,12,0,e.shortstartTimePeriodList)},function(l,n){l(n,1,0,t.Db(1,"dataSource",n.parent.context.index," form-control"),t.Db(1,"enddate",n.parent.context.index,""),t.Lb(n,6).ngClassUntouched,t.Lb(n,6).ngClassTouched,t.Lb(n,6).ngClassPristine,t.Lb(n,6).ngClassDirty,t.Lb(n,6).ngClassValid,t.Lb(n,6).ngClassInvalid,t.Lb(n,6).ngClassPending)})}function ce(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-darkblue border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function de(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function pe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,26,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,5,"input",[["class","form-control"],["formControlName","scheduleName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,6)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,6)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,6)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(6,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,te)),t.Ab(12,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ue)),t.Ab(14,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ae)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,se)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(19,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,ce)),t.Ab(22,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,de)),t.Ab(24,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(25,0,null,null,1,"button",[["class","btn btn-danger ml-0 ml-md-2 mt-2 mt-md-0 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component.timeDataListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,8,0,"scheduleName"),l(n,12,0,!n.context.index),l(n,14,0,!n.context.index),l(n,16,0,n.context.index),l(n,18,0,n.context.index),l(n,22,0,n.context.$implicit.editEnabled),l(n,24,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending)})}function be(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.year),l(n,2,0,n.context.$implicit.year)},function(l,n){l(n,3,0,n.context.$implicit.year)})}function ge(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function me(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),t.Qb(402653184,1,{labelImport:0}),(l()(),t.Bb(2,0,null,null,81,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(4,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(5,0,null,null,78,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,8,"div",[["class","d-flex flex-wrap"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,1,"h4",[["class","title flex-fill"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Time Period Config"])),(l()(),t.Bb(9,0,null,null,5,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Xn)),t.Ab(11,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(12,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveTimePeriod()&&t),t},null,null)),(l()(),t.Bb(13,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save Config"])),(l()(),t.Bb(15,0,null,null,3,"div",[["class","card bg-light-indigo my-2 shadow-none"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Qn)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(19,0,null,null,16,"div",[["class","card mt-3"]],null,null,null,null,null)),t.Ab(20,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(21,{"card-disable":0}),(l()(),t.Bb(22,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Custom Config"])),(l()(),t.Bb(25,0,null,null,10,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.Bb(26,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"div",[["class","col col-lg-6"]],null,null,null,null,null)),(l()(),t.Bb(28,0,null,null,5,"div",[["class","d-flex mb-3"]],null,null,null,null,null)),(l()(),t.Bb(29,0,null,null,4,"div",[["class","input-group"],["novalidate",""]],null,null,null,null,null)),(l()(),t.Bb(30,0,null,null,3,"div",[["class","custom-file mt-2"]],null,null,null,null,null)),(l()(),t.Bb(31,0,[[1,0],["labelImport",1]],null,1,"label",[["class","custom-file-label"],["for","importFile"],["id","importFileLabel"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Choose file"])),(l()(),t.Bb(33,0,null,null,0,"input",[["class","custom-file-input"],["id","importFile"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.onFileChange(e)&&t),t},null,null)),(l()(),t.sb(16777216,null,null,1,null,ne)),t.Ab(35,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(36,0,null,null,47,"div",[["class","card border-0 mt-3"]],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","d-flex justify-content-end p-3"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,3,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(40,0,null,null,0,"i",[["class","bi bi-plus-lg mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Row"])),(l()(),t.Bb(42,0,null,null,14,"div",[["class","table-responsive py-1 px-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(43,0,null,null,13,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(44,0,null,null,9,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(45,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.Bb(46,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Schedule ID"])),(l()(),t.Bb(48,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Start Period"])),(l()(),t.Bb(50,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["End Period"])),(l()(),t.Bb(52,0,null,null,1,"th",[["rowspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(54,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,pe)),t.Ab(56,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(57,0,null,null,26,"div",[["class","row pl-3 pr-3 pb-3"]],null,null,null,null,null)),(l()(),t.Bb(58,0,null,null,10,"div",[["class","form-group col-12 col-md-3 mt-2 mb-0"]],null,null,null,null,null)),(l()(),t.Bb(59,0,null,null,1,"label",[["class","sr-only"],["for",""]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Year"])),(l()(),t.Bb(61,0,null,null,7,"select",[["class","form-control max1"],["id","year"],["name","year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,62).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,62).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.selectedYear=e)&&o),o},null,null)),t.Ab(62,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(64,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(66,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,be)),t.Ab(68,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(69,0,null,null,14,"div",[["class","form-group col-12 col-md-3 mt-2 mb-0"]],null,null,null,null,null)),(l()(),t.Bb(70,0,null,null,1,"label",[["class","sr-only"],["for",""]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Start Date"])),(l()(),t.Bb(72,0,null,null,11,"select",[["aria-placeholder","select Start Date"],["class","form-control max1"],["id","startdate"],["name","startdate"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,73).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,73).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.startDate=e)&&o),o},null,null)),t.Ab(73,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(75,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(77,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(78,0,null,null,3,"option",[["disabled",""],["value","Select Start Date"]],null,null,null,null,null)),t.Ab(79,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(80,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select Start Date"])),(l()(),t.sb(16777216,null,null,1,null,ge)),t.Ab(83,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,4,0,"timePeriodConfig",!e.showTable),l(n,11,0,"CUSTOM_TIME_PERIOD"!=e.timePeriodRadioSelected),l(n,18,0,e.timePeriodConfig);var t=l(n,21,0,"CUSTOM_TIME_PERIOD"!=e.timePeriodRadioSelected);l(n,20,0,"card mt-3",t),l(n,35,0,e.isSaved),l(n,56,0,e.timeDataList),l(n,64,0,"year",e.selectedYear),l(n,68,0,e.yearList),l(n,75,0,"startdate",e.startDate),l(n,79,0,"Select Start Date"),l(n,80,0,"Select Start Date"),l(n,83,0,e.startTimePeriodList)},function(l,n){l(n,61,0,t.Lb(n,66).ngClassUntouched,t.Lb(n,66).ngClassTouched,t.Lb(n,66).ngClassPristine,t.Lb(n,66).ngClassDirty,t.Lb(n,66).ngClassValid,t.Lb(n,66).ngClassInvalid,t.Lb(n,66).ngClassPending),l(n,72,0,t.Lb(n,77).ngClassUntouched,t.Lb(n,77).ngClassTouched,t.Lb(n,77).ngClassPristine,t.Lb(n,77).ngClassDirty,t.Lb(n,77).ngClassValid,t.Lb(n,77).ngClassInvalid,t.Lb(n,77).ngClassPending)})}var he=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.masterList={},this.masterDataListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeName",IS_ENABLED:"enabled",IS_MINIMIZED:"minimization"},this.sortedNodes=["mipenabled","DEAD_STORAGE_POLICY","STORAGE_TARGET_POLICY","TEMPORAL_EQUAL_DEFICIT_POLICY","SPATIAL_EQUAL_DEFICIT_POLICY","MIP_STORAGE_FILLING_POLICY","OUTFLOW_CURVE_WITH_END_STORAGE","RESERVOIR_LOSS_WITH_END_STORAGE","minimizationObjFunc","breakAtFirst","objectiveThreshold","absoluteMIPTolerance","Solver_type","TIME_OUT_VALUE","Hydro_power_eff"],this.nameMapping={Solver_type:"Solver Type",objectiveThreshold:"LPSolve Objective Threshold",absoluteMIPTolerance:"MIP Tolerance Ratio",SPATIAL_EQUAL_DEFICIT_POLICY:"Spatial Deficit Sharing Policy",TEMPORAL_EQUAL_DEFICIT_POLICY:"Temporal Deficit Sharing Policy",STORAGE_TARGET_POLICY:"Storage Target Policy",DEAD_STORAGE_POLICY:"Non Dead Storage Policy",TIME_OUT_VALUE:"Time Out Value",OUTFLOW_CURVE_WITH_END_STORAGE:"Outflow Curve With End Storage",MIP_STORAGE_FILLING_POLICY:"MIP Storage Filling Policy",RESERVOIR_LOSS_WITH_END_STORAGE:"Reservoir Loss With End Storage",mipenabled:"Mixed Integer Programming",minimizationObjFunc:"Objective Function",breakAtFirst:"LPSolve Break At First",Hydro_power_eff:"Hydropower Efficiency"},this.sortedpolicyStatusVal=[],this.solverName=null}return l.prototype.ngOnInit=function(){this.retrieveMasterData()},l.prototype.retrieveMasterData=function(){var l=this,n=this.dataService.deepClone(v.a.MASTER_DATA_POLICY_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.masterList=n,l.solverName=n.solverName,l.timeOutValue=n.timeOutValue,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.clearFormArray(),this.policyStatusVal=[],this.sortedpolicyStatusVal=[];for(var e=0;e<this.sortedNodes.length;e++){var t=this.getMasterDataFormGroup();this.masterDataListFormArray.push(t)}Object.keys(this.masterList).forEach(function(l){if("policyStatusMap"==l){var e=n.masterList[l];Object.keys(e).forEach(function(l){var t=n.sortedNodes.indexOf(l);if(n.nameMapping.hasOwnProperty(l)){n.policyStatusVal.push({name:l,enabled:e[l]});for(var o=n.getMasterDataFormGroup(),u=0,r=Object.keys(o.controls);u<r.length;u++){var a=r[u];"nodeName"==a?o.controls[a].setValue(l):"enabled"==a&&o.controls[a].setValue(e[l])}n.masterDataListFormArray.removeAt(t),n.masterDataListFormArray.insert(t,o),n.tableData.emit(n.masterDataListFormArray)}})}else if("mipenabled"==l||"breakAtFirst"==l){var t=n.sortedNodes.indexOf(l);n.policyStatusVal.push({name:l,enabled:n.masterList[l]});for(var o=n.getMasterDataFormGroup(),u=0,r=Object.keys(o.controls);u<r.length;u++)"nodeName"==(d=r[u])?o.controls[d].setValue(l):"enabled"==d&&o.controls[d].setValue(n.masterList[l]);n.masterDataListFormArray.removeAt(t),n.masterDataListFormArray.insert(t,o),n.tableData.emit(n.masterDataListFormArray)}else if("minimizationObjFunc"==l){t=n.sortedNodes.indexOf(l),n.policyStatusVal.push({name:l,minimization:n.masterList[l]}),o=n.getMasterDataFormGroup();for(var a=0,i=Object.keys(o.controls);a<i.length;a++)"nodeName"==(d=i[a])?o.controls[d].setValue(l):"minimization"==d&&o.controls[d].setValue(n.masterList[l]);n.masterDataListFormArray.removeAt(t),n.masterDataListFormArray.insert(t,o),n.tableData.emit(n.masterDataListFormArray)}else if("objectiveThreshold"==l||"absoluteMIPTolerance"==l){t=n.sortedNodes.indexOf(l),n.policyStatusVal.push({name:l,itemValue:n.masterList[l]}),o=n.getMasterDataFormGroup();for(var s=0,c=Object.keys(o.controls);s<c.length;s++){var d;"nodeName"==(d=c[s])?o.controls[d].setValue(l):"numberValue"==d&&o.controls[d].setValue(n.masterList[l])}n.masterDataListFormArray.removeAt(t),n.masterDataListFormArray.insert(t,o),n.tableData.emit(n.masterDataListFormArray)}}),this.sortedNodes.forEach(function(l){for(var e=0;e<n.policyStatusVal.length;e++)l==n.policyStatusVal[e].name&&n.sortedpolicyStatusVal.push(n.policyStatusVal[e])});for(var o=0;o<this.masterDataListFormArray.getRawValue().length;o++)""==this.masterDataListFormArray.getRawValue()[o].nodeName&&this.masterDataListFormArray.removeAt(o);"bulkUpload"!==l&&(this.initFormValue=this.masterDataListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getMasterDataFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),enabled:new r.g("",r.z.required),minimization:new r.g("",r.z.required),numberValue:new r.g("nd")})},l.prototype.getObjectInFormat=function(){var l={policyStatusMap:{}};return this.masterDataListFormArray.getRawValue().forEach(function(n){"breakAtFirst"==n.nodeName||"mipenabled"==n.nodeName?l[n.nodeName]=n.enabled:"objectiveThreshold"==n.nodeName||"absoluteMIPTolerance"==n.nodeName?l[n.nodeName]=n.numberValue:"minimizationObjFunc"==n.nodeName?l[n.nodeName]=n.minimization:l.policyStatusMap[n.nodeName]=n.enabled}),l.solverName=this.solverName,l.timeOutValue=this.timeOutValue,l},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.MASTER_DATA_POLICY_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.data=l.getObjectInFormat(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.showTable=!1,l.retrieveMasterData(),n.next(!0),n.complete(),l.dataService.showToastMessage("Master Data Policy Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Master Data Policy","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.clearFormArray=function(){if(this.masterDataListFormArray.length>0)for(;0!==this.masterDataListFormArray.length;)this.masterDataListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_MASTER_DATA_POLICY);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.masterList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){var l=this.masterDataListFormArray.getRawValue();l.forEach(function(l){l.enabled=l.enabled?1:0}),this.exportExcelService.exportToExcel(l,{fileName:"Master Data Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"MASTER_DATA_POLICY"})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),fe=t.zb({encapsulation:0,styles:[[""]],data:{}});function ve(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,6,"input",[["id","ENABLED"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,2)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,2)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,3).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,3).onTouched()&&o),o},null,null)),t.Ab(2,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(3,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(5,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(7,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" ENABLED "])),(l()(),t.Bb(9,0,null,null,6,"input",[["id","DISABLED"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" DISABLED "]))],function(l,n){var e=n.component;l(n,3,0,t.Db(1,"constraintStatus",n.parent.context.index,""),!0);var o=e.masterDataListFormArray.get(n.parent.context.index.toString()).get("enabled");l(n,5,0,o),l(n,11,0,t.Db(1,"constraintStatus",n.parent.context.index,""),!1);var u=e.masterDataListFormArray.get(n.parent.context.index.toString()).get("enabled");l(n,13,0,u)},function(l,n){l(n,1,0,t.Lb(n,7).ngClassUntouched,t.Lb(n,7).ngClassTouched,t.Lb(n,7).ngClassPristine,t.Lb(n,7).ngClassDirty,t.Lb(n,7).ngClassValid,t.Lb(n,7).ngClassInvalid,t.Lb(n,7).ngClassPending),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending)})}function Ae(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,6,"input",[["id","MINIMIZATION"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,2)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,2)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,3).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,3).onTouched()&&o),o},null,null)),t.Ab(2,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(3,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(5,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(7,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" MINIMIZATION "])),(l()(),t.Bb(9,0,null,null,6,"input",[["id","MAXIMIZATION"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" MAXIMIZATION "]))],function(l,n){var e=n.component;l(n,3,0,t.Db(1,"constraintStatus",n.parent.context.index,""),!0);var o=e.masterDataListFormArray.get(n.parent.context.index.toString()).get("minimization");l(n,5,0,o),l(n,11,0,t.Db(1,"constraintStatus",n.parent.context.index,""),!1);var u=e.masterDataListFormArray.get(n.parent.context.index.toString()).get("minimization");l(n,13,0,u)},function(l,n){l(n,1,0,t.Lb(n,7).ngClassUntouched,t.Lb(n,7).ngClassTouched,t.Lb(n,7).ngClassPristine,t.Lb(n,7).ngClassDirty,t.Lb(n,7).ngClassValid,t.Lb(n,7).ngClassInvalid,t.Lb(n,7).ngClassPending),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending)})}function Ce(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,7,"input",[["class","form-control"],["formControlName","numberValue"],["title",""],["type","number"],["validation","decimal"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,2)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,2).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,2)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,2)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,3).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,3).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,3).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,8).onInput(e.target.value)&&o),o},null,null)),t.Ab(2,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(3,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(5,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(7,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(8,16384,null,0,hl.a,[r.p],null,null)],function(l,n){l(n,5,0,"numberValue")},function(l,n){l(n,1,0,t.Db(1,"Enter ",n.component.nameMapping[n.parent.context.$implicit.name],""),t.Lb(n,7).ngClassUntouched,t.Lb(n,7).ngClassTouched,t.Lb(n,7).ngClassPristine,t.Lb(n,7).ngClassDirty,t.Lb(n,7).ngClassValid,t.Lb(n,7).ngClassInvalid,t.Lb(n,7).ngClassPending)})}function Ie(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,11,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.sb(16777216,null,null,1,null,ve)),t.Ab(7,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ae)),t.Ab(9,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ce)),t.Ab(11,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component,t=e.masterDataListFormArray.get(n.context.index.toString());l(n,1,0,t);var o=""!==e.masterDataListFormArray.get(n.context.index.toString()).get("enabled").value;l(n,7,0,o);var u=""!==e.masterDataListFormArray.get(n.context.index.toString()).get("minimization").value;l(n,9,0,u);var r="nd"!==e.masterDataListFormArray.get(n.context.index.toString()).get("numberValue").value;l(n,11,0,r)},function(l,n){var e=n.component;l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,e.nameMapping[n.context.$implicit.name])})}function ye(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ie)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(3,0,null,null,29,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Solver Type"])),(l()(),t.Bb(6,0,null,null,26,"td",[],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,25,"select",[["class","form-control"],["style","width: 175px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,8).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,8).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.solverName=e)&&o),o},null,null)),t.Ab(8,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(10,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(12,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(13,0,null,null,3,"option",[["disabled",""],["value","null"]],null,null,null,null,null)),t.Ab(14,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(15,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.Bb(17,0,null,null,3,"option",[["value","lpsolve"]],null,null,null,null,null)),t.Ab(18,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(19,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["LPSOLVE"])),(l()(),t.Bb(21,0,null,null,3,"option",[["value","neos-cplex"]],null,null,null,null,null)),t.Ab(22,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(23,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["NEOS_CPLEX"])),(l()(),t.Bb(25,0,null,null,3,"option",[["value","neos-gurobi"]],null,null,null,null,null)),t.Ab(26,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(27,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["NEOS_GUROBI"])),(l()(),t.Bb(29,0,null,null,3,"option",[["value","gurobi"]],null,null,null,null,null)),t.Ab(30,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(31,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["LOCAL_GUROBI"])),(l()(),t.Bb(33,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Time out Value"])),(l()(),t.Bb(36,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,6,"input",[["class","form-control"],["placeholder","Enter Time Out Value"],["title",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,38)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,38).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,38)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,38)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,39).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,39).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,39).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.timeOutValue=e)&&o),o},null,null)),t.Ab(38,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(39,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(41,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(43,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){var e=n.component;l(n,2,0,e.sortedpolicyStatusVal),l(n,10,0,e.solverName),l(n,14,0,"null"),l(n,15,0,"null"),l(n,18,0,"lpsolve"),l(n,19,0,"lpsolve"),l(n,22,0,"neos-cplex"),l(n,23,0,"neos-cplex"),l(n,26,0,"neos-gurobi"),l(n,27,0,"neos-gurobi"),l(n,30,0,"gurobi"),l(n,31,0,"gurobi"),l(n,41,0,e.timeOutValue)},function(l,n){l(n,7,0,t.Lb(n,12).ngClassUntouched,t.Lb(n,12).ngClassTouched,t.Lb(n,12).ngClassPristine,t.Lb(n,12).ngClassDirty,t.Lb(n,12).ngClassValid,t.Lb(n,12).ngClassInvalid,t.Lb(n,12).ngClassPending),l(n,37,0,t.Lb(n,43).ngClassUntouched,t.Lb(n,43).ngClassTouched,t.Lb(n,43).ngClassPristine,t.Lb(n,43).ngClassDirty,t.Lb(n,43).ngClassValid,t.Lb(n,43).ngClassInvalid,t.Lb(n,43).ngClassPending)})}function we(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,12,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,9,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-active ml-2 mt-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Bulk Upload"])),(l()(),t.Bb(7,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(8,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(10,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(13,0,null,null,9,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(14,0,null,null,8,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,5,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Name"])),(l()(),t.Bb(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Value"])),(l()(),t.sb(16777216,null,null,1,null,ye)),t.Ab(22,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"master_policy",!e.showTable),l(n,22,0,e.showTable)},null)}var xe=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.dslList=[],this.dslListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeName",IS_HARD:"hard"}}return l.prototype.ngOnInit=function(){this.retrieveDSL()},l.prototype.retrieveDSL=function(){var l=this,n=this.dataService.deepClone(v.a.DEAD_STORAGE_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.dslList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.dslList.forEach(function(l){for(var e=n.getDSLFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.dslListFormArray.push(e),n.tableData.emit(n.dslListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.dslListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getDSLFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),hard:new r.g("",r.z.required)})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.DEAD_STORAGE_SAVE);e.postData.modelUUID=l.modelId,e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.rows=l.dslListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.dslList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Dead Storage Constraints Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Dead Storage Constraints","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.clearFormArray=function(){for(;0!==this.dslListFormArray.length;)this.dslListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_DEAD_STORAGE);t.postData.modelUUID=this.modelId,t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.file=n,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.dslList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):e.dataService.showToastMessage("Failed to Fetch the File ","error")},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){var l=this.dslListFormArray.getRawValue();l.forEach(function(l){l.hard=l.hard?1:0}),this.exportExcelService.exportToExcel(l,{fileName:"Dead Storage Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"DEAD_STORAGE_POLICY"})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),Le=t.zb({encapsulation:0,styles:[[""]],data:{}});function je(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,22,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,6,"input",[["id","SOFT"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,8)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,8).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,8)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,8)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,9).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),o},null,null)),t.Ab(8,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(9,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(11,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" SOFT "])),(l()(),t.Bb(15,0,null,null,6,"input",[["id","hard"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,16)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,16).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,16)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,16)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,17).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,17).onTouched()&&o),o},null,null)),t.Ab(16,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(17,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(19,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(21,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" HARD "]))],function(l,n){var e=n.component,o=e.dslListFormArray.get(n.context.index.toString());l(n,1,0,o),l(n,9,0,t.Db(1,"constraintType",n.context.index,""),!1);var u=e.dslListFormArray.get(n.context.index.toString()).get("hard");l(n,11,0,u),l(n,17,0,t.Db(1,"constraintType",n.context.index,""),!0);var r=e.dslListFormArray.get(n.context.index.toString()).get("hard");l(n,19,0,r)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending),l(n,15,0,t.Lb(n,21).ngClassUntouched,t.Lb(n,21).ngClassTouched,t.Lb(n,21).ngClassPristine,t.Lb(n,21).ngClassDirty,t.Lb(n,21).ngClassValid,t.Lb(n,21).ngClassInvalid,t.Lb(n,21).ngClassPending)})}function Ee(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,10,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(14,0,null,null,10,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,9,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,5,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Constraint Type"])),(l()(),t.Bb(22,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,je)),t.Ab(24,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,24,0,e.dslList)},null)}var De=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.carryOverStorageList=[],this.carryOverStorageListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",INITIAL_STORAGE:"policyValue"}}return l.prototype.ngOnInit=function(){this.retrieveCarryOverStorage()},l.prototype.retrieveCarryOverStorage=function(){var l=this,n=this.dataService.deepClone(v.a.CARRY_OVER_STORAGE_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.carryOverStorageList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.carryOverStorageList.forEach(function(l){for(var e=n.getCarryOverStorageFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.carryOverStorageListFormArray.push(e),n.tableData.emit(n.carryOverStorageListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.carryOverStorageListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getCarryOverStorageFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),policyValue:new r.g("",r.z.required)})},l.prototype.clearFormArray=function(){for(;0!==this.carryOverStorageListFormArray.length;)this.carryOverStorageListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_CARRY_OVER_STORAGE);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.carryOverStorageList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()}),this.dataService.showToastMessage("Failed to Fetch the File ","error")},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.carryOverStorageListFormArray.getRawValue(),{fileName:"Initial Storage Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"STORAGE_ACTUAL"}),this.dataService.showToastMessage("Downoading","success")},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.CARRY_OVER_STORAGE_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.carryOverStorageListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.carryOverStorageList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Initial Storage Levels Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Initial Storage Levels","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),Se=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ne(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,6,"input",[["class","form-control"],["formControlName","policyValue"],["placeholder"," Initial Storage Level"],["title","Initial Storage "],["type","text"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,8)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,8).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,8)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,8)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,13).onInput(e.target.value)&&o),o},null,null)),t.Ab(8,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(10,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(12,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(13,16384,null,0,hl.a,[r.p],null,null)],function(l,n){var e=n.component.carryOverStorageListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,10,0,"policyValue")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeDisplayName),l(n,7,0,t.Lb(n,12).ngClassUntouched,t.Lb(n,12).ngClassTouched,t.Lb(n,12).ngClassPristine,t.Lb(n,12).ngClassDirty,t.Lb(n,12).ngClassValid,t.Lb(n,12).ngClassInvalid,t.Lb(n,12).ngClassPending)})}function Te(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ne)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.carryOverStorageList)},null)}function Fe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,10,"div",[["class","buttons pull-right flex-wrap d-flex"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 mt-2 mt-sm-0 mt-md-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex mt-2 mt-sm-0 mt-md-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(14,0,null,null,9,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,8,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,5,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Initial Storage (MCFT)"])),(l()(),t.sb(16777216,null,null,1,null,Te)),t.Ab(23,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"carryOverStorage",!e.showTable),l(n,23,0,e.showTable)},null)}var Be=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.initialPumpList=[],this.initialPumpListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={"PUMP HOUSE":"nodeDisplayName","NO. OF RUNNING PUMPS":"noOfPumps",PUMP_OFF_PENALTY:"pumpOffPenalty",PUMP_ON_PENALTY:"pumpOnPenalty"}}return l.prototype.ngOnInit=function(){this.retrieveInitialPump()},l.prototype.retrieveInitialPump=function(){var l=this,n=this.dataService.deepClone(v.a.INITIAL_PUMP_STATUS_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.initialPumpList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.initialPumpList.forEach(function(l){for(var e=n.getInitialPumpFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.initialPumpListFormArray.push(e),n.tableData.emit(n.initialPumpListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.initialPumpListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getInitialPumpFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),noOfPumps:new r.g("",r.z.required),pumpOffPenalty:new r.g("",r.z.required),pumpOnPenalty:new r.g("",r.z.required)})},l.prototype.clearFormArray=function(){for(;0!==this.initialPumpListFormArray.length;)this.initialPumpListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_INITIAL_PUMP_STATUS);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.initialPumpList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.initialPumpListFormArray.getRawValue(),{fileName:"Initial Pump Status Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"PUMP_CONFIG_POLICY"})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.INITIAL_PUMP_STATUS_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.initialPumpListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.initialPumpList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Initial Pump Status Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Initial Pump Status","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),Oe=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ue(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,28,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,7,"input",[["class","form-control"],["formControlName","noOfPumps"],["placeholder","No of Running Pumps"],["title","No of Running Pumps"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,8)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,8).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,8)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,8)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,14).onInput(e.target.value)&&o),o},null,null)),t.Ab(8,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(9,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(11,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(14,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(15,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,5,"input",[["class","form-control"],["formControlName","pumpOffPenalty"],["placeholder","Pump Off Penality"],["title","Pump Off Penality"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,17)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,17).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,17)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,17)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(17,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(19,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(21,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(22,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,5,"input",[["class","form-control"],["formControlName","pumpOnPenalty"],["placeholder","Pump on Penality"],["title","Pump on Penality"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,24)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,24).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,24)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,24)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(24,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(26,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(28,16384,null,0,r.q,[[4,r.p]],null,null)],function(l,n){var e=n.component.initialPumpListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,11,0,"noOfPumps"),l(n,19,0,"pumpOffPenalty"),l(n,26,0,"pumpOnPenalty")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeDisplayName),l(n,7,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending),l(n,16,0,t.Lb(n,21).ngClassUntouched,t.Lb(n,21).ngClassTouched,t.Lb(n,21).ngClassPristine,t.Lb(n,21).ngClassDirty,t.Lb(n,21).ngClassValid,t.Lb(n,21).ngClassInvalid,t.Lb(n,21).ngClassPending),l(n,23,0,t.Lb(n,28).ngClassUntouched,t.Lb(n,28).ngClassTouched,t.Lb(n,28).ngClassPristine,t.Lb(n,28).ngClassDirty,t.Lb(n,28).ngClassValid,t.Lb(n,28).ngClassInvalid,t.Lb(n,28).ngClassPending)})}function Me(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ue)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.initialPumpList)},null)}function ke(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,10,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(14,0,null,null,13,"div",[["class","table-responsive p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,12,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,9,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["PUMP HOUSE"])),(l()(),t.Bb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["NO. OF RUNNING PUMPS"])),(l()(),t.Bb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["PUMP OFF PENALTY"])),(l()(),t.Bb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["PUMP ON PENALTY"])),(l()(),t.sb(16777216,null,null,1,null,Me)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"initialPumpStatus",!e.showTable),l(n,27,0,e.showTable)},null)}var Pe=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.channelFlowList=[],this.channelFlowListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",COMPONENT:"componentDisplayName",NO_OF_PUMPS:"noOfPumps","MIN_FLOW (Cusecs)":"minValue","MAX_FLOW (Cusecs)":"maxValue"}}return l.prototype.ngOnInit=function(){this.retrieveChannelFlow()},l.prototype.retrieveChannelFlow=function(){var l=this,n=this.dataService.deepClone(v.a.CHANNEL_FLOW_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.channelFlowList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.channelFlowList.forEach(function(l){for(var e=n.getChannelFlowFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.channelFlowListFormArray.push(e),n.tableData.emit(n.channelFlowListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.channelFlowListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getChannelFlowFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),componentName:new r.g("",r.z.required),componentDisplayName:new r.g("",r.z.required),componentUUID:new r.g(""),noOfPumps:new r.g(""),minValue:new r.g(""),maxValue:new r.g("")})},l.prototype.clearFormArray=function(){for(;0!==this.channelFlowListFormArray.length;)this.channelFlowListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_CHANNEL_FLOW);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.channelFlowList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.channelFlowListFormArray.getRawValue(),{fileName:"Physical Channel Flow Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"PHYSICAL_CHANNEL_FLOW_POLICY"})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.CHANNEL_FLOW_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.channelFlowListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.channelFlowList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Physical Channel Flow Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Physical Channel Flow","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l}(),Re=t.zb({encapsulation:0,styles:[[""]],data:{}});function _e(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,34,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,7,"input",[["class","form-control"],["formControlName","noOfPumps"],["placeholder","No Of Pumps"],["title","No Of Pumps"],["type","number"],["validation","integer"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,16).onInput(e.target.value)&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(16,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(17,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,7,"input",[["class","form-control"],["formControlName","minValue"],["placeholder","Minimum Flow"],["title","Minimum Flow"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,19)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,19)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,19)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,20).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,20).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,20).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,25).onInput(e.target.value)&&o),o},null,null)),t.Ab(19,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(20,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(22,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(24,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(25,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(26,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,7,"input",[["class","form-control"],["formControlName","maxValue"],["placeholder","Maximum Flow"],["title","Maximum Flow"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,28)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,28).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,28)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,28)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,29).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,29).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,29).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,34).onInput(e.target.value)&&o),o},null,null)),t.Ab(28,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(29,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(31,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(33,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(34,16384,null,0,hl.a,[r.p],null,null)],function(l,n){var e=n.component.channelFlowListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,13,0,"noOfPumps"),l(n,22,0,"minValue"),l(n,31,0,"maxValue")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeDisplayName),l(n,7,0,n.context.$implicit.componentDisplayName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,18,0,t.Lb(n,24).ngClassUntouched,t.Lb(n,24).ngClassTouched,t.Lb(n,24).ngClassPristine,t.Lb(n,24).ngClassDirty,t.Lb(n,24).ngClassValid,t.Lb(n,24).ngClassInvalid,t.Lb(n,24).ngClassPending),l(n,27,0,t.Lb(n,33).ngClassUntouched,t.Lb(n,33).ngClassTouched,t.Lb(n,33).ngClassPristine,t.Lb(n,33).ngClassDirty,t.Lb(n,33).ngClassValid,t.Lb(n,33).ngClassInvalid,t.Lb(n,33).ngClassPending)})}function Ve(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,_e)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.channelFlowList)},null)}function ze(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,10,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(14,0,null,null,15,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,14,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["NO of Pumps"])),(l()(),t.Bb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Minimum Flow"])),(l()(),t.Bb(26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Maximum Flow"])),(l()(),t.sb(16777216,null,null,1,null,Ve)),t.Ab(29,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,29,0,e.showTable)},null)}var He=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.irrigationSupplyList=[],this.irrigationSupplyListFormArray=new r.e([]),this.showErrors=!1,this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",COMPONENT:"componentDisplayName",START_PERIOD:"startPeriodName",END_PERIOD:"endPeriodName","MIN_DEMAND (TMC)":"minValue","MAX_DEMAND (TMC)":"maxValue"},this.nonEditableFieldsOnEdit=["nodeName","componentName"],this.nameUUIDMapping={},this.nodeEntityList=[],this.nodeDisplayList={},this.networkEntityList=[],this.networkDisplayList={},this.netUUIDMapping={}}return l.prototype.ngOnInit=function(){this.retrieveIrrigationSupply(),this.retrieveNetworks(),this.retrieveReservoir(),this.retrieveTimeConfig()},l.prototype.retrieveIrrigationSupply=function(){var l=this,n=this.dataService.deepClone(v.a.IRRIGATION_DEMAND_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.irrigationSupplyList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.retrieveTimeConfig=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_TIME_CONFIG);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){n.timePeriodSet&&(l.startTimePeriodList=n.timePeriodSet,l.endTimePeriodList=n.timePeriodSet),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.retrieveNetworks=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NETWORK);n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.networkList=n,n.forEach(function(n){"IRRIGATION CANAL"==n.componentType&&(l.networkEntityList.push(n.componentName),l.netUUIDMapping[n.componentName]=n.componentUUID,l.networkDisplayList[n.componentName]=n.displayName)})},function(l){})},l.prototype.onStartDateChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.irrigationSupplyListFormArray.get(l.toString()).patchValue({endPeriodName:null}),document.getElementById("enddate"+l).value=null},l.prototype.createFormArrays=function(l){var n=this;this.irrigationSupplyList.forEach(function(l){for(var e=n.getIrrigationSupplyFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t],r=e.controls[u];r.setValue(l[u]),r.disable()}n.irrigationSupplyListFormArray.push(e),n.tableData.emit(n.irrigationSupplyListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.irrigationSupplyListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getIrrigationSupplyFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),componentName:new r.g("",r.z.required),componentDisplayName:new r.g("",r.z.required),componentUUID:new r.g(""),startPeriodName:new r.g(""),endPeriodName:new r.g(""),minValue:new r.g(""),maxValue:new r.g("")})},l.prototype.clearFormArray=function(){for(;0!==this.irrigationSupplyListFormArray.length;)this.irrigationSupplyListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_IRRIGATION_DEMAND);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.irrigationSupplyList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.irrigationSupplyListFormArray.getRawValue(),{fileName:"Irrigation Supply Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"CHANNEL_SUPPLY_POLICY"})},l.prototype.addElement=function(){this.irrigationSupplyList.length>0&&!this.isValidFormGroup(this.irrigationSupplyList.length-1)?this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.irrigationSupplyList.length,"error"):(this.irrigationSupplyList.push({editEnabled:!1}),this.irrigationSupplyListFormArray.push(this.getIrrigationSupplyFormGroup()),this.tableData.emit(this.irrigationSupplyListFormArray),this.onEditNode(this.irrigationSupplyList.length-1,"add"))},l.prototype.onEditNode=function(l,n){var e=this;this.irrigationSupplyListFormArray.get(l.toString()),this.irrigationSupplyList.forEach(function(t,o){var u=e.irrigationSupplyListFormArray.get(o.toString());l===o?(t.editEnabled=!0,u.enable(),"add"!=n&&e.disableNonEditableFields(l)):(t.editEnabled=!1,u.disable())})},l.prototype.isValidFormGroup=function(l){return!this.irrigationSupplyListFormArray.get(l.toString()).invalid},l.prototype.disableNonEditableFields=function(l){for(var n=this.irrigationSupplyListFormArray.get(l.toString()),e=0,t=Object.keys(n.controls);e<t.length;e++){var o=t[e];-1!==this.nonEditableFieldsOnEdit.indexOf(o)&&n.controls[o].disable()}},l.prototype.retrieveReservoir=function(){var l=this;this.nameUUIDMapping={};var n=this.dataService.deepClone(v.a.RETRIEVE_NODES);n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){n.forEach(function(n){l.nodeEntityList.push(n.nodeName),l.nameUUIDMapping[n.nodeName]=n.nodeUUID,l.nodeDisplayList[n.nodeName]=n.displayName})},function(l){})},l.prototype.onSaveNode=function(l){var n=this.irrigationSupplyListFormArray.get(l.toString());""==n.get("nodeUUID").value&&n.get("nodeUUID").setValue(this.nameUUIDMapping[n.get("nodeName").value]),""==n.get("componentUUID").value&&n.get("componentUUID").setValue(this.netUUIDMapping[n.get("componentName").value]),this.isValidFormGroup(l)?(this.irrigationSupplyList[l].editEnabled=!1,this.tableData.emit(this.irrigationSupplyListFormArray),n.disable()):this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.removeElement=function(l){this.irrigationSupplyList.splice(l,1),this.irrigationSupplyListFormArray.removeAt(l),this.tableData.emit(this.irrigationSupplyListFormArray),this.disableAllFields()},l.prototype.disableAllFields=function(){this.irrigationSupplyList.forEach(function(l){return l.editEnabled=!1})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.IRRIGATION_DEMAND_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.irrigationSupplyListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.irrigationSupplyList=e,l.createFormArrays(),n.complete(),l.dataService.showToastMessage("Irrigation Supply Constraints Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Irrigation Supply Constraints","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),Ye=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function Ge(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.nodeDisplayList[n.context.$implicit])})}function qe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.networkDisplayList[n.context.$implicit])})}function We(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function $e(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function Ke(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Je(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function Ze(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,81,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"select",[["class","form-control"],["formControlName","nodeName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(11,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(12,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(13,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,Ge)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(17,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,11,"select",[["class","form-control"],["formControlName","componentName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,19).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),o},null,null)),t.Ab(19,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(21,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(24,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(25,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(26,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,qe)),t.Ab(29,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(30,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(31,0,null,null,11,"select",[["aria-placeholder","select Start Date"],["formControlName","startPeriodName"],["name","startdate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,32).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,32).onTouched()&&o),"change"===n&&(o=!1!==u.onStartDateChange(l.context.index)&&o),o},null,null)),t.Ab(32,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(34,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(36,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(37,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),t.Ab(38,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(39,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select Start Date"])),(l()(),t.sb(16777216,null,null,1,null,We)),t.Ab(42,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(43,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(44,0,null,null,11,"select",[["aria-placeholder","select End Date"],["formControlName","endPeriodName"],["name","enddate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,45).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,45).onTouched()&&o),o},null,null)),t.Ab(45,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(47,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(49,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(50,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),t.Ab(51,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(52,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select End Date"])),(l()(),t.sb(16777216,null,null,1,null,$e)),t.Ab(55,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(56,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(57,0,null,null,7,"input",[["class","form-control"],["formControlName","minValue"],["placeholder","Minimum Demand"],["title","Minimum Demand"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,58)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,58).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,58)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,58)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,59).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,59).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,59).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,64).onInput(e.target.value)&&o),o},null,null)),t.Ab(58,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(59,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(61,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(63,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(64,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(65,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(66,0,null,null,7,"input",[["class","form-control"],["formControlName","maxValue"],["placeholder","Maximum Demand"],["title","Maximum Demand"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,67)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,67).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,67)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,67)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,68).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,68).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,68).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,73).onInput(e.target.value)&&o),o},null,null)),t.Ab(67,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(68,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(70,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(72,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(73,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(74,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(75,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ke)),t.Ab(77,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Je)),t.Ab(79,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(80,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(81,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=e.irrigationSupplyListFormArray.get(n.context.index.toString());l(n,1,0,t),l(n,8,0,"nodeName"),l(n,12,0,""),l(n,13,0,""),l(n,16,0,e.nodeEntityList),l(n,21,0,"componentName"),l(n,25,0,""),l(n,26,0,""),l(n,29,0,e.networkEntityList),l(n,34,0,"startPeriodName"),l(n,38,0,""),l(n,39,0,""),l(n,42,0,e.startTimePeriodList),l(n,47,0,"endPeriodName"),l(n,51,0,""),l(n,52,0,""),l(n,55,0,e.startTimePeriodList),l(n,61,0,"minValue"),l(n,70,0,"maxValue"),l(n,77,0,n.context.$implicit.editEnabled),l(n,79,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending),l(n,18,0,t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending),l(n,31,0,t.Db(1,"dataSource",n.context.index," form-control"),t.Db(1,"startdate",n.context.index,""),t.Lb(n,36).ngClassUntouched,t.Lb(n,36).ngClassTouched,t.Lb(n,36).ngClassPristine,t.Lb(n,36).ngClassDirty,t.Lb(n,36).ngClassValid,t.Lb(n,36).ngClassInvalid,t.Lb(n,36).ngClassPending),l(n,44,0,t.Db(1,"dataSource",n.context.index," form-control"),t.Db(1,"enddate",n.context.index,""),t.Lb(n,49).ngClassUntouched,t.Lb(n,49).ngClassTouched,t.Lb(n,49).ngClassPristine,t.Lb(n,49).ngClassDirty,t.Lb(n,49).ngClassValid,t.Lb(n,49).ngClassInvalid,t.Lb(n,49).ngClassPending),l(n,57,0,t.Lb(n,63).ngClassUntouched,t.Lb(n,63).ngClassTouched,t.Lb(n,63).ngClassPristine,t.Lb(n,63).ngClassDirty,t.Lb(n,63).ngClassValid,t.Lb(n,63).ngClassInvalid,t.Lb(n,63).ngClassPending),l(n,66,0,t.Lb(n,72).ngClassUntouched,t.Lb(n,72).ngClassTouched,t.Lb(n,72).ngClassPristine,t.Lb(n,72).ngClassDirty,t.Lb(n,72).ngClassValid,t.Lb(n,72).ngClassInvalid,t.Lb(n,72).ngClassPending)})}function Xe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ze)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.irrigationSupplyList)},null)}function Qe(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,13,"div",[["class","pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Row"])),(l()(),t.Bb(7,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(8,0,null,null,2,"label",[["class","btn btn-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(14,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(15,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(17,0,null,null,19,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,18,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(19,0,null,null,15,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(25,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Start Period"])),(l()(),t.Bb(27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["End period"])),(l()(),t.Bb(29,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Minimum Demand"])),(l()(),t.Bb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Maximum Demand"])),(l()(),t.Bb(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["ACTIONS"])),(l()(),t.sb(16777216,null,null,1,null,Xe)),t.Ab(36,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,36,0,e.showTable)},null)}var lt=function(){function l(l,n,e){this.dataService=l,this.httpService=n,this.utilService=e,this.environmentalFlowList=[],this.environmentalFlowListFormArray=new r.e([]),this.showErrors=!1,this.showTable=!1}return l.prototype.ngOnInit=function(){this.retrieveEnvironmentalFlow()},l.prototype.retrieveEnvironmentalFlow=function(){var l=this,n=this.dataService.deepClone(v.a.ENVIRONMENTAL_FLOW_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.environmentalFlowList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.environmentalFlowList.forEach(function(n){for(var e=l.getEnvironmentalFlowFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}l.environmentalFlowListFormArray.push(e)})},l.prototype.getEnvironmentalFlowFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),constraintType:new r.g("SOFT",r.z.required),minDemand:new r.g(""),maxDemand:new r.g("")})},l.prototype.saveEnvironmentalFlow=function(){var l=this,n=this.dataService.deepClone(v.a.ENVIRONMENTAL_FLOW_SAVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.constraints=this.environmentalFlowListFormArray.getRawValue(),this.httpService.placeAPICall(n).subscribe(function(n){n?l.dataService.showToastMessage("Environmental Flow Saved Successfully","success"):l.dataService.showToastMessage("Failed to Save Environmental Flow","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l}(),nt=t.zb({encapsulation:0,styles:[[""]],data:{}});function et(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,42,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,6,"input",[["id","SOFT"],["type","radio"],["value","SOFT"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" SOFT "])),(l()(),t.Bb(17,0,null,null,6,"input",[["id","hard"],["type","radio"],["value","HARD"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,18)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,18).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,18)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,18)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,19).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),o},null,null)),t.Ab(18,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(19,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(21,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" HARD "])),(l()(),t.Bb(25,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(26,0,null,null,7,"input",[["class","form-control"],["formControlName","minDemand"],["placeholder","CUMULATIVE MIN DEMAND\t"],["title","CUMULATIVE MIN DEMAND"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,27)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,27).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,27)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,27)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,28).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,28).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,28).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,33).onInput(e.target.value)&&o),o},null,null)),t.Ab(27,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(28,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(30,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(32,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(33,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(34,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,7,"input",[["class","form-control"],["formControlName","maxDemand"],["placeholder","CUMULATIVE MAX DEMAND\t"],["title","CUMULATIVE MAX DEMAND"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,36)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,36).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,36)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,36)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,37).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,37).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,37).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,42).onInput(e.target.value)&&o),o},null,null)),t.Ab(36,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(37,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(39,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(41,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(42,16384,null,0,hl.a,[r.p],null,null)],function(l,n){var e=n.component,o=e.environmentalFlowListFormArray.get(n.context.index.toString());l(n,1,0,o),l(n,11,0,t.Db(1,"constraintType",n.context.index,""),"SOFT");var u=e.environmentalFlowListFormArray.get(n.context.index.toString()).get("constraintType");l(n,13,0,u),l(n,19,0,t.Db(1,"constraintType",n.context.index,""),"HARD");var r=e.environmentalFlowListFormArray.get(n.context.index.toString()).get("constraintType");l(n,21,0,r),l(n,30,0,"minDemand"),l(n,39,0,"maxDemand")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,17,0,t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending),l(n,26,0,t.Lb(n,32).ngClassUntouched,t.Lb(n,32).ngClassTouched,t.Lb(n,32).ngClassPristine,t.Lb(n,32).ngClassDirty,t.Lb(n,32).ngClassValid,t.Lb(n,32).ngClassInvalid,t.Lb(n,32).ngClassPending),l(n,35,0,t.Lb(n,41).ngClassUntouched,t.Lb(n,41).ngClassTouched,t.Lb(n,41).ngClassPristine,t.Lb(n,41).ngClassDirty,t.Lb(n,41).ngClassValid,t.Lb(n,41).ngClassInvalid,t.Lb(n,41).ngClassPending)})}function tt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEnvironmentalFlow()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(7,0,null,null,16,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["CONSTRAINT TYPE"])),(l()(),t.Bb(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["CUMULATIVE MIN DEMAND\t"])),(l()(),t.Bb(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["CUMULATIVE MAX DEMAND\t"])),(l()(),t.Bb(21,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,et)),t.Ab(23,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,23,0,e.environmentalFlowList)},null)}var ot=function(){function l(l,n,e){this.dataService=l,this.httpService=n,this.utilService=e,this.channelLossesList=[],this.channelLossesListFormArray=new r.e([])}return l.prototype.ngOnInit=function(){this.retrieveChannelLosses()},l.prototype.retrieveChannelLosses=function(){var l=this,n=this.dataService.deepClone(v.a.CHANNEL_LOSSES_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.channelLossesList=n,l.createFormArrays()},function(l){})},l.prototype.createFormArrays=function(){var l=this;this.channelLossesList.forEach(function(n){for(var e=l.getChannelLossesFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}l.channelLossesListFormArray.push(e)})},l.prototype.getChannelLossesFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),lossPercentage:new r.g("",r.z.required)})},l.prototype.saveChannelLosses=function(){var l=this,n=this.dataService.deepClone(v.a.CHANNEL_LOSSES_SAVE);n.postData.modelUUID=this.modelId,n.postData.constraints=this.channelLossesListFormArray.getRawValue(),n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,this.httpService.placeAPICall(n).subscribe(function(n){n?l.dataService.showToastMessage("Channel Losses Saved Successfully","success"):l.dataService.showToastMessage("Failed to Save Channel Losses","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l}(),ut=t.zb({encapsulation:0,styles:[[""]],data:{}});function rt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,7,"input",[["class","form-control"],["formControlName","lossPercentage"],["placeholder","LOSS PERCENTAGE"],["title","LOSS PERCENTAGE"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,16).onInput(e.target.value)&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(16,16384,null,0,hl.a,[r.p],null,null)],function(l,n){var e=n.component.channelLossesListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,13,0,"lossPercentage")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending)})}function at(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,4,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveChannelLosses()&&t),t},null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(5,0,null,null,12,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,11,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,7,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["LOSS PERCENTAGE"])),(l()(),t.Bb(15,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,rt)),t.Ab(17,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,17,0,n.component.channelLossesList)},null)}var it=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.storageTargetList=[],this.storageTargetListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",START_PERIOD:"startPeriodName",END_PERIOD:"endPeriodName",MIN_STORAGE:"minValue",MAX_STORAGE:"maxValue"},this.nonEditableFieldsOnEdit=["nodeName"],this.nodeEntityList=[],this.nodeDisplayList={},this.nameUUIDMapping={}}return l.prototype.ngOnInit=function(){this.retrieveReservoir(),this.retrieveStorageTarget(),this.retrieveTimeConfig()},l.prototype.retrieveStorageTarget=function(){var l=this,n=this.dataService.deepClone(v.a.STORAGE_TARGET_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.storageTargetList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.retrieveTimeConfig=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_TIME_CONFIG);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){n.timePeriodSet&&(l.startTimePeriodList=n.timePeriodSet,l.endTimePeriodList=n.timePeriodSet),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.retrieveReservoir=function(){var l=this;this.nameUUIDMapping={};var n=this.dataService.deepClone(v.a.RETRIEVE_NODES);n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){n.forEach(function(n){l.nodeEntityList.push(n.nodeName),l.nameUUIDMapping[n.nodeName]=n.nodeUUID,l.nodeDisplayList[n.nodeName]=n.displayName})},function(l){})},l.prototype.onStartDateChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.storageTargetListFormArray.get(l.toString()).patchValue({endPeriodName:null}),document.getElementById("enddate"+l).value=null},l.prototype.createFormArrays=function(l){var n=this;this.storageTargetList.forEach(function(l){for(var e=n.getStorageTargetFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t],r=e.controls[u];r.setValue(l[u]),r.disable()}n.storageTargetListFormArray.push(e),n.tableData.emit(n.storageTargetListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.storageTargetListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getStorageTargetFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),startPeriodName:new r.g(""),endPeriodName:new r.g(""),minValue:new r.g(""),maxValue:new r.g("")})},l.prototype.savePolicies=function(){var l=this;if(this.isValidAllRows())return new xl.a(function(n){var e=l.dataService.deepClone(v.a.STORAGE_TARGET_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.storageTargetListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.storageTargetList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Storage Target Level Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Storage Target Level","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})});this.dataService.showToastMessage("Please Fill All The Rows","error")},l.prototype.isValidAllRows=function(){for(var l=!0,n=0,e=this.storageTargetListFormArray.controls;n<e.length;n++)e[n].invalid&&(l=!1);return l},l.prototype.clearFormArray=function(){for(;0!==this.storageTargetListFormArray.length;)this.storageTargetListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_STORAGE_TARGET_POLICY);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.storageTargetList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.storageTargetListFormArray.getRawValue(),{fileName:"Storage Target Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"STORAGE_TARGET_POLICY"})},l.prototype.addElement=function(){this.storageTargetList.length>0&&!this.isValidFormGroup(this.storageTargetList.length-1)?this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.storageTargetList.length,"error"):(this.storageTargetList.push({editEnabled:!1}),this.storageTargetListFormArray.push(this.getStorageTargetFormGroup()),this.tableData.emit(this.storageTargetListFormArray),this.onEditNode(this.storageTargetList.length-1,"add"))},l.prototype.onEditNode=function(l,n){var e=this;this.storageTargetListFormArray.get(l.toString()),this.storageTargetList.forEach(function(t,o){var u=e.storageTargetListFormArray.get(o.toString());l===o?(t.editEnabled=!0,u.enable(),"add"!=n&&e.disableNonEditableFields(l)):(t.editEnabled=!1,u.disable())})},l.prototype.isValidFormGroup=function(l){return!this.storageTargetListFormArray.get(l.toString()).invalid},l.prototype.disableNonEditableFields=function(l){for(var n=this.storageTargetListFormArray.get(l.toString()),e=0,t=Object.keys(n.controls);e<t.length;e++){var o=t[e];-1!==this.nonEditableFieldsOnEdit.indexOf(o)&&n.controls[o].disable()}},l.prototype.onSaveNode=function(l){var n=this.storageTargetListFormArray.get(l.toString());console.log(n),""==n.get("nodeUUID").value&&n.get("nodeUUID").setValue(this.nameUUIDMapping[n.get("nodeName").value]),this.isValidFormGroup(l)?(this.storageTargetList[l].editEnabled=!1,this.tableData.emit(this.storageTargetListFormArray),n.disable()):this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.removeElement=function(l){this.storageTargetList.splice(l,1),this.storageTargetListFormArray.removeAt(l),this.tableData.emit(this.storageTargetListFormArray),this.disableAllFields()},l.prototype.disableAllFields=function(){this.storageTargetList.forEach(function(l){return l.editEnabled=!1})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),st=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function ct(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.component.nodeDisplayList[n.context.$implicit])})}function dt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function pt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.periodName),l(n,2,0,n.context.$implicit.periodName)},function(l,n){l(n,3,0,n.context.$implicit.periodName)})}function bt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function gt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function mt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,68,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"select",[["class","form-control"],["formControlName","nodeName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(11,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(12,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(13,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,ct)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(17,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,11,"select",[["aria-placeholder","select Start Date"],["formControlName","startPeriodName"],["name","startdate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,19).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),"change"===n&&(o=!1!==u.onStartDateChange(l.context.index)&&o),o},null,null)),t.Ab(19,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(21,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(24,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),t.Ab(25,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(26,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select Start Date"])),(l()(),t.sb(16777216,null,null,1,null,dt)),t.Ab(29,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(30,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(31,0,null,null,11,"select",[["aria-placeholder","select End Date"],["formControlName","endPeriodName"],["name","enddate"]],[[8,"className",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,32).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,32).onTouched()&&o),o},null,null)),t.Ab(32,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(34,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(36,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(37,0,null,null,3,"option",[["disabled",""],["value",""]],null,null,null,null,null)),t.Ab(38,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(39,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select End Date"])),(l()(),t.sb(16777216,null,null,1,null,pt)),t.Ab(42,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(43,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(44,0,null,null,7,"input",[["class","form-control"],["formControlName","minValue"],["placeholder","Minimum Storage"],["title","Minimum Storage"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,45)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,45).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,45)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,45)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,46).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,46).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,46).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,51).onInput(e.target.value)&&o),o},null,null)),t.Ab(45,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(46,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(48,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(50,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(51,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(52,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(53,0,null,null,7,"input",[["class","form-control"],["formControlName","maxValue"],["placeholder","Maximum Storage"],["title","Maximum Storage"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,54)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,54).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,54)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,54)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,55).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,55).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,55).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,60).onInput(e.target.value)&&o),o},null,null)),t.Ab(54,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(55,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(57,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(59,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(60,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(61,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(62,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,bt)),t.Ab(64,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,gt)),t.Ab(66,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(67,0,null,null,1,"button",[["class","btn btn-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(68,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=e.storageTargetListFormArray.get(n.context.index.toString());l(n,1,0,t),l(n,8,0,"nodeName"),l(n,12,0,""),l(n,13,0,""),l(n,16,0,e.nodeEntityList),l(n,21,0,"startPeriodName"),l(n,25,0,""),l(n,26,0,""),l(n,29,0,e.startTimePeriodList),l(n,34,0,"endPeriodName"),l(n,38,0,""),l(n,39,0,""),l(n,42,0,e.startTimePeriodList),l(n,48,0,"minValue"),l(n,57,0,"maxValue"),l(n,64,0,n.context.$implicit.editEnabled),l(n,66,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending),l(n,18,0,t.Db(1,"dataSource",n.context.index," form-control"),t.Db(1,"startdate",n.context.index,""),t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending),l(n,31,0,t.Db(1,"dataSource",n.context.index," form-control"),t.Db(1,"enddate",n.context.index,""),t.Lb(n,36).ngClassUntouched,t.Lb(n,36).ngClassTouched,t.Lb(n,36).ngClassPristine,t.Lb(n,36).ngClassDirty,t.Lb(n,36).ngClassValid,t.Lb(n,36).ngClassInvalid,t.Lb(n,36).ngClassPending),l(n,44,0,t.Lb(n,50).ngClassUntouched,t.Lb(n,50).ngClassTouched,t.Lb(n,50).ngClassPristine,t.Lb(n,50).ngClassDirty,t.Lb(n,50).ngClassValid,t.Lb(n,50).ngClassInvalid,t.Lb(n,50).ngClassPending),l(n,53,0,t.Lb(n,59).ngClassUntouched,t.Lb(n,59).ngClassTouched,t.Lb(n,59).ngClassPristine,t.Lb(n,59).ngClassDirty,t.Lb(n,59).ngClassValid,t.Lb(n,59).ngClassInvalid,t.Lb(n,59).ngClassPending)})}function ht(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,mt)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.storageTargetList)},null)}function ft(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,13,"div",[["class"," pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Row"])),(l()(),t.Bb(7,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(8,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(14,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(15,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(17,0,null,null,17,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,16,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(19,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(23,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Start Period"])),(l()(),t.Bb(25,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["End period"])),(l()(),t.Bb(27,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Minimum STORAGE (MCFT)"])),(l()(),t.Bb(29,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Maximum STORAGE (MCFT)"])),(l()(),t.Bb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.sb(16777216,null,null,1,null,ht)),t.Ab(34,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,34,0,e.showTable)},null)}var vt=function(){function l(l,n,e,o,u){this.dataService=l,this.httpService=n,this.modelService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.temporalDeficitList=[],this.temporalDeficitListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeName",COMPONENT:"componentName",IS_ENABLED:"enabled"}}return l.prototype.ngOnInit=function(){this.retrieveTemporalDeficit()},l.prototype.retrieveTemporalDeficit=function(){var l=this,n=this.dataService.deepClone(v.a.TEMPORAL_EQUAL_DEFICIT_SHARING_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.temporalDeficitList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(l){var n=this;this.temporalDeficitList.forEach(function(l){for(var e=n.getTemporalDeficitFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(l[u])}n.temporalDeficitListFormArray.push(e),n.tableData.emit(n.temporalDeficitListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.temporalDeficitListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getTemporalDeficitFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),enabled:new r.g("",r.z.required),componentName:new r.g(""),componentUUID:new r.g("")})},l.prototype.savePolicies=function(){var l=this;return new xl.a(function(n){var e=l.dataService.deepClone(v.a.TEMPORAL_EQUAL_DEFICIT_SHARING_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.temporalDeficitListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.clearFormArray(),l.temporalDeficitList=e,l.createFormArrays(),n.next(!0),n.complete(),l.dataService.showToastMessage("Temporal Equal Deficit Sharing Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Temporal Equal Deficit Sharing","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})})},l.prototype.clearFormArray=function(){for(;0!==this.temporalDeficitListFormArray.length;)this.temporalDeficitListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.BULK_UPLOAD_TEMPORAL_EQUAL_DEFICIT_SHARING_POLICY);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.temporalDeficitList=l,e.clearFormArray(),e.createFormArrays("bulkUpload")):e.dataService.showToastMessage("Failed to Fetch the File ","error")},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){var l=this.temporalDeficitListFormArray.getRawValue();l.forEach(function(l){l.enabled=l.enabled?1:0}),this.exportExcelService.exportToExcel(l,{fileName:"Temporal Equal Deficit Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"TEMPORAL_EQUAL_DEFICIT_POLICY"})},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),At=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ct(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,24,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,6,"input",[["id","ENABLED"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" ENABLED "])),(l()(),t.Bb(17,0,null,null,6,"input",[["id","DISABLED"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,18)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,18).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,18)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,18)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,19).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),o},null,null)),t.Ab(18,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(19,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(21,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" DISABLED "]))],function(l,n){var e=n.component,o=e.temporalDeficitListFormArray.get(n.context.index.toString());l(n,1,0,o),l(n,11,0,t.Db(1,"constraintStatus",n.context.index,""),!0);var u=e.temporalDeficitListFormArray.get(n.context.index.toString()).get("enabled");l(n,13,0,u),l(n,19,0,t.Db(1,"constraintStatus",n.context.index,""),!1);var r=e.temporalDeficitListFormArray.get(n.context.index.toString()).get("enabled");l(n,21,0,r)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,17,0,t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending)})}function It(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ct)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.temporalDeficitList)},null)}function yt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,10,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(14,0,null,null,11,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,10,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,7,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Constraint Type"])),(l()(),t.sb(16777216,null,null,1,null,It)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,25,0,e.showTable)},null)}var wt=function(){function l(l,n,e,t){this.dataService=l,this.httpService=n,this.modelService=e,this.utilService=t,this.downstreamDemand=[],this.downstreamDemandFormArray=new r.e([]),this.showTable=!1}return l.prototype.ngOnInit=function(){this.retrieveDownstreamDemand()},l.prototype.retrieveDownstreamDemand=function(){var l=this,n=this.dataService.deepClone(v.a.DOWNSTREAM_DEMAND_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.downstreamDemand=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.downstreamDemand.forEach(function(n){for(var e=l.getDownstreamDemandFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}l.downstreamDemandFormArray.push(e)})},l.prototype.getDownstreamDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),hard:new r.g("",r.z.required),componentName:new r.g(""),componentUUID:new r.g("")})},l.prototype.saveDownstreamDemand=function(){var l=this,n=this.dataService.deepClone(v.a.DOWNSTREAM_DEMAND_SAVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.rows=this.modelService.setNodeUUIDForArrayOfObjects(this.downstreamDemandFormArray.getRawValue()),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.showTable=!1,l.clearFormArray(),l.retrieveDownstreamDemand(),l.dataService.showToastMessage("Downstream Demand Saved Successfully","success")):l.dataService.showToastMessage("Failed to Save Downstream Demand","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l.prototype.clearFormArray=function(){for(;0!==this.downstreamDemandFormArray.length;)this.downstreamDemandFormArray.removeAt(0)},l}(),xt=t.zb({encapsulation:0,styles:[[""]],data:{}});function Lt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,24,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,6,"input",[["id","SOFT"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" SOFT "])),(l()(),t.Bb(17,0,null,null,6,"input",[["id","HARD"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,18)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,18).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,18)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,18)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,19).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),o},null,null)),t.Ab(18,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(19,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(21,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" HARD "]))],function(l,n){var e=n.component,o=e.downstreamDemandFormArray.get(n.context.index.toString());l(n,1,0,o),l(n,11,0,t.Db(1,"constraintStatus",n.context.index,""),!0);var u=e.downstreamDemandFormArray.get(n.context.index.toString()).get("hard");l(n,13,0,u),l(n,19,0,t.Db(1,"constraintStatus",n.context.index,""),!1);var r=e.downstreamDemandFormArray.get(n.context.index.toString()).get("hard");l(n,21,0,r)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,17,0,t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending)})}function jt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Lt)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.downstreamDemand)},null)}function Et(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDownstreamDemand()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(7,0,null,null,11,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,10,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,7,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Constraint Type"])),(l()(),t.sb(16777216,null,null,1,null,jt)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,18,0,e.showTable)},null)}var Dt=function(){function l(l,n,e,t){this.dataService=l,this.httpService=n,this.modelService=e,this.utilService=t,this.irrigationDemand=[],this.irrigationDemandFormArray=new r.e([]),this.showTable=!1}return l.prototype.ngOnInit=function(){this.retrieveIrrigationDemand()},l.prototype.retrieveIrrigationDemand=function(){var l=this,n=this.dataService.deepClone(v.a.IRRIGATION_DEMAND_CONSTRAINT_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.irrigationDemand=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.irrigationDemand.forEach(function(n){for(var e=l.getIrrigationDemandFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}l.irrigationDemandFormArray.push(e)})},l.prototype.getIrrigationDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),hard:new r.g("",r.z.required),componentName:new r.g(""),componentUUID:new r.g("")})},l.prototype.saveIrrigationDemand=function(){var l=this,n=this.dataService.deepClone(v.a.IRRIGATION_DEMAND_CONSTRAINT_SAVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.rows=this.modelService.setNodeUUIDForArrayOfObjects(this.irrigationDemandFormArray.getRawValue()),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.showTable=!1,l.clearFormArray(),l.retrieveIrrigationDemand(),l.dataService.showToastMessage("Downstream Demand Saved Successfully","success")):l.dataService.showToastMessage("Failed to Save Downstream Demand","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l.prototype.clearFormArray=function(){for(;0!==this.irrigationDemandFormArray.length;)this.irrigationDemandFormArray.removeAt(0)},l}(),St=t.zb({encapsulation:0,styles:[[""]],data:{}});function Nt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,24,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,16,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,6,"input",[["id","SOFT"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,11).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(11,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(13,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" SOFT "])),(l()(),t.Bb(17,0,null,null,6,"input",[["id","HARD"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,18)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,18).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,18)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,18)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,19).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,19).onTouched()&&o),o},null,null)),t.Ab(18,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(19,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(21,540672,null,0,r.h,[[8,null],[8,null],[6,r.o],[2,r.F]],{form:[0,"form"]},null),t.Pb(2048,null,r.p,null,[r.h]),t.Ab(23,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Sb(-1,null,[" HARD "]))],function(l,n){var e=n.component,o=e.irrigationDemandFormArray.get(n.context.index.toString());l(n,1,0,o),l(n,11,0,t.Db(1,"constraintStatus",n.context.index,""),!0);var u=e.irrigationDemandFormArray.get(n.context.index.toString()).get("hard");l(n,13,0,u),l(n,19,0,t.Db(1,"constraintStatus",n.context.index,""),!1);var r=e.irrigationDemandFormArray.get(n.context.index.toString()).get("hard");l(n,21,0,r)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,17,0,t.Lb(n,23).ngClassUntouched,t.Lb(n,23).ngClassTouched,t.Lb(n,23).ngClassPristine,t.Lb(n,23).ngClassDirty,t.Lb(n,23).ngClassValid,t.Lb(n,23).ngClassInvalid,t.Lb(n,23).ngClassPending)})}function Tt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Nt)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.irrigationDemand)},null)}function Ft(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveIrrigationDemand()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(7,0,null,null,11,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,10,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,7,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Constraint Type"])),(l()(),t.sb(16777216,null,null,1,null,Tt)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"dead_storage_policy",!e.showTable),l(n,18,0,e.showTable)},null)}var Bt=function(){function l(l,n,e,t){this.dataService=l,this.httpService=n,this.modelService=e,this.utilService=t,this.stateAllocationList=[],this.stateAllocationListFormArray=new r.e([]),this.showTable=!1}return l.prototype.ngOnInit=function(){this.retrieveStateAllocation()},l.prototype.retrieveStateAllocation=function(){var l=this,n=this.dataService.deepClone(v.a.NWDT_SHARING_POLICY_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.stateAllocationList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.stateAllocationList.forEach(function(n){for(var e=l.getStateAllocationFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}l.stateAllocationListFormArray.push(e)})},l.prototype.getStateAllocationFormGroup=function(){return new r.j({stateUUID:new r.g("",r.z.required),policyValue:new r.g("",r.z.required)})},l.prototype.saveStateAllocation=function(){var l=this,n=this.dataService.deepClone(v.a.NWDT_SHARING_POLICY_SAVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.rows=this.modelService.setNodeUUIDForArrayOfObjects(this.stateAllocationListFormArray.getRawValue());var e=0;n.postData.rows.forEach(function(l){e+=l.policyValue?l.policyValue:0}),e>100?this.dataService.showToastMessage("Total Percentage Should Not Exceed 100%","error"):this.httpService.placeAPICall(n).subscribe(function(n){n?(l.showTable=!1,l.clearFormArray(),l.retrieveStateAllocation(),l.dataService.showToastMessage("NWDT Sharing Saved Successfully","success")):l.dataService.showToastMessage("Failed to Save NWDT Sharing","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l.prototype.clearFormArray=function(){for(;0!==this.stateAllocationListFormArray.length;)this.stateAllocationListFormArray.removeAt(0)},l}(),Ot=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ut(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,14,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,7,"input",[["class","form-control"],["formControlName","policyValue"],["placeholder"," NWDT Share"],["title","NWDT Share"],["type","number"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,8)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,8).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,8)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,8)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"input"===n&&(o=!1!==t.Lb(l,14).onInput(e.target.value)&&o),o},null,null)),t.Ab(8,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(9,16384,null,0,r.B,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.B]),t.Ab(11,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(14,16384,null,0,hl.a,[r.p],null,null)],function(l,n){var e=n.component.stateAllocationListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,11,0,"policyValue")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.stateName),l(n,7,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}function Mt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ut)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.stateAllocationList)},null)}function kt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveStateAllocation()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(7,0,null,null,9,"div",[["class","table-responsive p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,8,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,5,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["State"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["NWDT Share (%)"])),(l()(),t.sb(16777216,null,null,1,null,Mt)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"stateAllocation",!e.showTable),l(n,16,0,e.showTable)},null)}var Pt=function(){function l(l,n,e,t){this.dataService=l,this.httpService=n,this.modelService=e,this.utilService=t,this.returnInflowsList=[],this.returnInflowsListFormArray=new r.e([]),this.showTable=!1,this.valueChangesTrigger=["policyValue","initialReturnFlow","utilizableFlow"]}return l.prototype.ngOnInit=function(){this.retrieveReturnInflows()},l.prototype.retrieveReturnInflows=function(){var l=this,n=this.dataService.deepClone(v.a.RETURN_FLOW_POLICY_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.returnInflowsList=n,l.createFormArrays(),l.performChangeOperation(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.returnInflowsList.forEach(function(n){for(var e=l.getReturnInflowsFormGroup(),t=0,o=Object.keys(e.controls);t<o.length;t++){var u=o[t];e.controls[u].setValue(n[u])}if(!Object(Al.d)(e.get("policyValue").value)&&0!=e.get("policyValue").value&&!Object(Al.d)(e.get("initialReturnFlow").value)&&0!=e.get("initialReturnFlow").value){var r=l.customParseFloat(e.get("initialReturnFlow").value)/l.customParseFloat(e.get("policyValue").value);e.get("utilizableFlow").setValue(r,{emitEvent:!1})}l.returnInflowsListFormArray.push(e)})},l.prototype.performChangeOperation=function(){for(var l=this,n=function(n){var t=n;e.valueChangesTrigger.forEach(function(e){try{t.get(e).valueChanges.pipe(Object(jl.a)(100)).subscribe(function(t){l.fieldsChanged(n,e)})}catch(o){console.log("value changes error",o)}})},e=this,t=0,o=this.returnInflowsListFormArray.controls;t<o.length;t++)n(o[t])},l.prototype.fieldsChanged=function(l,n){var e=l;if("utilizableFlow"===n)if(console.log("coming here in the utilizable flow"),Object(Al.d)(e.get("initialReturnFlow").value)||0==e.get("initialReturnFlow").value||Object(Al.d)(e.get("utilizableFlow").value)||0==e.get("utilizableFlow").value)Object(Al.d)(e.get("policyValue").value)||0==e.get("policyValue").value||Object(Al.d)(e.get("utilizableFlow").value)||0==e.get("utilizableFlow").value||(t=this.customParseFloat(e.get("policyValue").value)*this.customParseFloat(e.get("utilizableFlow").value),e.get("initialReturnFlow").setValue(t,{emitEvent:!1}));else{if((t=this.customParseFloat(e.get("initialReturnFlow").value)/this.customParseFloat(e.get("utilizableFlow").value))>100)return void e.get("policyValue").setValue(100);e.get("policyValue").setValue(t,{emitEvent:!1})}else if("initialReturnFlow"===n)if(console.log("coming here in the initial return flow"),Object(Al.d)(e.get("initialReturnFlow").value)||0==e.get("initialReturnFlow").value||Object(Al.d)(e.get("utilizableFlow").value)||0==e.get("utilizableFlow").value)Object(Al.d)(e.get("policyValue").value)||0==e.get("policyValue").value||Object(Al.d)(e.get("initialReturnFlow").value)||0==e.get("initialReturnFlow").value||(t=this.customParseFloat(e.get("initialReturnFlow").value)/this.customParseFloat(e.get("policyValue").value),e.get("utilizableFlow").setValue(t,{emitEvent:!1}));else{if((t=this.customParseFloat(e.get("initialReturnFlow").value)/this.customParseFloat(e.get("utilizableFlow").value))>100)return void e.get("policyValue").setValue(100);e.get("policyValue").setValue(t,{emitEvent:!1})}else if(console.log("coming here in the Policy value"),Object(Al.d)(e.get("utilizableFlow").value)||0==e.get("utilizableFlow").value||Object(Al.d)(e.get("policyValue").value)||0==e.get("policyValue").value)Object(Al.d)(e.get("initialReturnFlow").value)||0==e.get("initialReturnFlow").value||Object(Al.d)(e.get("policyValue").value)||0==e.get("policyValue").value||(t=this.customParseFloat(e.get("initialReturnFlow").value)/this.customParseFloat(e.get("policyValue").value),e.get("utilizableFlow").setValue(t,{emitEvent:!1}));else{var t=this.customParseFloat(e.get("utilizableFlow").value)*this.customParseFloat(e.get("policyValue").value);e.get("initialReturnFlow").setValue(t,{emitEvent:!1})}},l.prototype.customParseFloat=function(l){return Object(Al.d)(l)||isNaN(l)?1:parseFloat(l)},l.prototype.findNextFieldNames=function(l,n,e){void 0===e&&(e=2);for(var t=n+1>=l.length?0:n+1,o=0,u=[];t!=n&&o<e;)u.push(l[t]),t=t+1>=l.length?0:t+1,o++;return u},l.prototype.getReturnInflowsFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),policyValue:new r.g("",r.z.required),initialReturnFlow:new r.g("",r.z.required),utilizableFlow:new r.g("",r.z.required),componentName:new r.g("",r.z.required),componentUUID:new r.g("",r.z.required)})},l.prototype.saveReturnInflows=function(){var l=this,n=this.dataService.deepClone(v.a.RETURN_FLOW_POLICY_SAVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.rows=this.modelService.setNodeUUIDForArrayOfObjects(this.returnInflowsListFormArray.getRawValue()),console.log(n.postData.rows),n.postData.rows.forEach(function(l){l.hasOwnProperty("utilizableFlow")&&delete l.utilizableFlow}),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.showTable=!1,l.clearFormArray(),l.retrieveReturnInflows(),l.dataService.showToastMessage("Return Inflows Saved Successfully","success")):l.dataService.showToastMessage("Failed to Save Return Inflows","error")},function(n){l.dataService.showToastMessage("Server Error Occurred","error")})},l.prototype.clearFormArray=function(){for(;0!==this.returnInflowsListFormArray.length;)this.returnInflowsListFormArray.removeAt(0)},l}(),Rt=t.zb({encapsulation:0,styles:[[""]],data:{}});function _t(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,31,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(5,null,["",""])),(l()(),t.Bb(6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(7,null,["",""])),(l()(),t.Bb(8,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,6,"input",[["class","form-control"],["formControlName","utilizableFlow"],["placeholder"," Initial Utilization"],["title","Initial Utilization"],["type","text"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,15).onInput(e.target.value)&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(12,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(14,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(15,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(16,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"input",[["class","form-control"],["formControlName","initialReturnFlow"],["placeholder"," Initial Flows"],["title","Initial Flows"],["type","text"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,18)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,18).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,18)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,18)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,23).onInput(e.target.value)&&o),o},null,null)),t.Ab(18,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(20,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(22,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(23,16384,null,0,hl.a,[r.p],null,null),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"input",[["class","form-control"],["formControlName","policyValue"],["maxValue","100"],["placeholder"," Flow Percentage"],["title","Flow Percentage"],["type","text"],["validation","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,26)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,26).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,26)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,26)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,31).onInput(e.target.value)&&o),o},null,null)),t.Ab(26,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(28,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(30,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(31,16384,null,0,hl.a,[r.p],{maxValue:[0,"maxValue"]},null)],function(l,n){var e=n.component.returnInflowsListFormArray.get(n.context.index.toString());l(n,1,0,e),l(n,12,0,"utilizableFlow"),l(n,20,0,"initialReturnFlow"),l(n,28,0,"policyValue"),l(n,31,0,"100")},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,n.context.$implicit.nodeName),l(n,7,0,n.context.$implicit.componentName),l(n,9,0,t.Lb(n,14).ngClassUntouched,t.Lb(n,14).ngClassTouched,t.Lb(n,14).ngClassPristine,t.Lb(n,14).ngClassDirty,t.Lb(n,14).ngClassValid,t.Lb(n,14).ngClassInvalid,t.Lb(n,14).ngClassPending),l(n,17,0,t.Lb(n,22).ngClassUntouched,t.Lb(n,22).ngClassTouched,t.Lb(n,22).ngClassPristine,t.Lb(n,22).ngClassDirty,t.Lb(n,22).ngClassValid,t.Lb(n,22).ngClassInvalid,t.Lb(n,22).ngClassPending),l(n,25,0,t.Lb(n,30).ngClassUntouched,t.Lb(n,30).ngClassTouched,t.Lb(n,30).ngClassPristine,t.Lb(n,30).ngClassDirty,t.Lb(n,30).ngClassValid,t.Lb(n,30).ngClassInvalid,t.Lb(n,30).ngClassPending)})}function Vt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,_t)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.returnInflowsList)},null)}function zt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,3,"div",[["class","buttons pull-right"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveReturnInflows()&&t),t},null,null)),(l()(),t.Bb(5,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(7,0,null,null,15,"div",[["class","table-responsive p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,14,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(15,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Utilizable Flow"])),(l()(),t.Bb(17,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Initial Inflows"])),(l()(),t.Bb(19,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Return Flow %"])),(l()(),t.sb(16777216,null,null,1,null,Vt)),t.Ab(22,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,"returnInflows",!e.showTable),l(n,22,0,e.showTable)},null)}var Ht=function(){function l(l,n,e,t){this.modelService=l,this.httpService=n,this.dataService=e,this.utilService=t,this.spatialDeficitList=[],this.spatialDeficitListFormArray=new r.e([]),this.groupsList=[],this.nodeComponentMapping={},this.selectComponentList={}}return l.prototype.ngOnInit=function(){this.retrieveSpatialDeficitSharing(),this.retrieveGroups()},l.prototype.retrieveSpatialDeficitSharing=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_SPATIAL_DEFICIT_SHARING);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.spatialDeficitList=l.formatDataToFormArray(n),l.createFormArray()},function(l){})},l.prototype.retrieveGroups=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_GROUPS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.groupsList=Object.keys(n)},function(l){})},l.prototype.createFormArray=function(){var l=this;this.spatialDeficitList.forEach(function(n){var e=l.getGroupFormGroup();e.get("ruleName").setValue(n.ruleName);var t=e.get("child");Object(Al.d)(n.child)||Object(Al.c)(n.child)||n.child.forEach(function(n){var e=l.getGroupChildFormGroup();e.patchValue(n),t.push(e)}),l.spatialDeficitListFormArray.push(e)}),this.spatialDeficitListFormArray.disable()},l.prototype.onAddGroup=function(){if(this.isAllGroupsSaved()){if(this.spatialDeficitList&&this.spatialDeficitList.length&&this.spatialDeficitListFormArray.get((this.spatialDeficitList.length-1).toString()).invalid)return void this.dataService.showToastMessage("Please fill the values for row "+this.spatialDeficitList.length,"error");this.spatialDeficitList.push({editEnabled:!1,child:[]}),this.spatialDeficitListFormArray.push(this.getGroupFormGroup()),console.log(this.spatialDeficitListFormArray,"spatial list here"),this.onEditEnable(this.spatialDeficitList.length-1)}},l.prototype.onAddComponent=function(l){if(0!==this.groupsList.length){if(this.spatialDeficitList[l].editEnabled)this.dataService.showToastMessage("Please Save The Rule Name","error");else if(this.isAllFieldsSavedInGroup(l)){var n=this.spatialDeficitList[l].child;if(n&&n.length&&this.spatialDeficitListFormArray.get(l.toString()).get("child").get((n.length-1).toString()).invalid)return void this.dataService.showToastMessage("Please fill the values for row "+(l+1)+" and child "+n.length,"error");this.spatialDeficitList[l].isExpanded=!0;var e=this.spatialDeficitListFormArray.get(l.toString()).get("child");n.push({editEnabled:!1}),e.push(this.getGroupChildFormGroup()),this.onEditEnableChild(l,n.length-1)}}else this.dataService.showToastMessage("No Groups Available","error")},l.prototype.onEditEnable=function(l){var n=this;this.isAllGroupsSaved()&&this.spatialDeficitList.forEach(function(e,t){var o=n.spatialDeficitListFormArray.get(t.toString()).get("ruleName");l===t?(e.editEnabled=!0,o.enable()):(e.editEnabled=!1,o.disable())})},l.prototype.onSave=function(l){var n=this.spatialDeficitListFormArray.get(l.toString()).get("ruleName");n.invalid?this.dataService.showToastMessage("Please fill the value for the row "+(l+1),"error"):this.isDuplicateGroupName(l)?this.dataService.showToastMessage("Duplicate Value Not allowed "+(l+1),"error"):(this.spatialDeficitList[l].editEnabled=!1,n.disable())},l.prototype.isDuplicateGroupName=function(l){var n=this.spatialDeficitListFormArray.get(l.toString()).get("ruleName"),e=!1;return this.spatialDeficitListFormArray.getRawValue().forEach(function(t,o){l!==o&&n.value===t.ruleName&&(e=!0)}),e},l.prototype.onDelete=function(l){this.spatialDeficitList.splice(l,1),this.spatialDeficitListFormArray.removeAt(l)},l.prototype.onEditEnableChild=function(l,n){var e=this;this.isAllFieldsSavedInGroup(l)&&this.spatialDeficitList[l].child.forEach(function(t,o){var u=e.spatialDeficitListFormArray.get(l.toString()).get("child").get(o.toString());n===o?(t.editEnabled=!0,u.enable()):(t.editEnabled=!1,u.disable())})},l.prototype.onSaveChild=function(l,n){var e=this.spatialDeficitListFormArray.get(l.toString()).get("child").get(n.toString());e.invalid?this.dataService.showToastMessage("Please fill the values for row "+(l+1)+" and child "+(n+1),"error"):this.isDuplicateChild(l,n)||(this.spatialDeficitList[l].child[n].editEnabled=!1,e.disable())},l.prototype.onDeleteChild=function(l,n){var e=this.spatialDeficitListFormArray.get(l.toString()).get("child");this.spatialDeficitList[l].child.splice(n,1),e.removeAt(n)},l.prototype.onSaveGroup=function(){var l=this.dataService.deepClone(v.a.SAVE_SPATIAL_DEFICIT_SHARING);l.postData.modelUUID=this.modelId,l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.rows=this.formatDataFromFormArray(this.spatialDeficitListFormArray.getRawValue()),console.log(l.postData,"postdata apiConfig **********"),this.httpService.placeAPICall(l).subscribe(function(l){},function(l){})},l.prototype.isAllGroupsSaved=function(l){var n=this;void 0===l&&(l=!0);var e=!0;return this.spatialDeficitList.forEach(function(t,o){t.editEnabled&&(e=!1,l&&n.dataService.showToastMessage("Please save the row "+(o+1),"error"))}),e},l.prototype.isAllFieldsSavedInGroup=function(l,n){var e=this;void 0===n&&(n=!0);var t=!0;return this.spatialDeficitList[l].child.forEach(function(o,u){o.editEnabled&&(t=!1,n&&e.dataService.showToastMessage("Please save the row "+(l+1)+" and child "+(u+1),"error"))}),t},l.prototype.isAllFieldsSaved=function(){var l=this,n=!0;return this.isAllGroupsSaved()||(n=!1),this.spatialDeficitList.forEach(function(e,t){l.isAllFieldsSavedInGroup(t)||(n=!1)}),n},l.prototype.isDuplicateChild=function(l,n){for(var e=!1,t=this.spatialDeficitListFormArray.get(l.toString()).get("child"),o=this.spatialDeficitListFormArray.get(l.toString()).get("child").get(n.toString()),u=o.get("groupName").value,r=o.get("allocationFactor").value,a=0,i=Object.keys(t.controls);a<i.length;a++){var s=i[a],c=t.controls[s],d=c.get("groupName").value,p=c.get("allocationFactor").value;console.log("{groupName and allocationFactor}::",s,u,r,"\n",d,p),n!=s&&d===u&&(this.dataService.showToastMessage("Duplicate values present","error"),e=!0)}return e},l.prototype.formatDataToFormArray=function(l){var n=[];return l.forEach(function(l){l.child=[];for(var e=0,t=Object.keys(l.groupProportionMap);e<t.length;e++){var o=t[e],u=[];u.groupName=o,u.allocationFactor=l.groupProportionMap[o],l.child.push(u)}n.push(l)}),n},l.prototype.formatDataFromFormArray=function(l){console.log(l,"data here in the things");var n=[];return l.forEach(function(l){l.groupProportionMap={},l.child.forEach(function(n){l.groupProportionMap[n.groupName]=n.allocationFactor}),delete l.child,n.push(l)}),n},l.prototype.getGroupFormGroup=function(){return new r.j({ruleName:new r.g("",r.z.required),sharingType:new r.g("SPATIAL_EQUAL_DEFICIT_SHARING",r.z.required),child:new r.e([])})},l.prototype.getGroupChildFormGroup=function(){return new r.j({groupName:new r.g("",r.z.required),allocationFactor:new r.g(null)})},l}(),Yt=t.zb({encapsulation:0,styles:[[""]],data:{}});function Gt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,0,"i",[["class","fas fa-plus-circle"]],null,null,null,null,null))],null,null)}function qt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,0,"i",[["class","fas fa-minus-circle"]],null,null,null,null,null))],null,null)}function Wt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditEnable(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function $t(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Kt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function Jt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,6,"input",[["class","form-control"],["formControlName","allocationFactor"],["placeholder","Allocation Factor"],["type","text"],["validation",""],["validator","decimal"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,1)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,1).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,1)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,1)._compositionEnd(e.target.value)&&o),"input"===n&&(o=!1!==t.Lb(l,6).onInput(e.target.value)&&o),o},null,null)),t.Ab(1,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(3,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(5,16384,null,0,r.q,[[4,r.p]],null,null),t.Ab(6,16384,null,0,hl.a,[r.p],{validator:[0,"validator"]},null)],function(l,n){l(n,3,0,"allocationFactor"),l(n,6,0,"decimal")},function(l,n){l(n,0,0,t.Lb(n,5).ngClassUntouched,t.Lb(n,5).ngClassTouched,t.Lb(n,5).ngClassPristine,t.Lb(n,5).ngClassDirty,t.Lb(n,5).ngClassValid,t.Lb(n,5).ngClassInvalid,t.Lb(n,5).ngClassPending)})}function Zt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveChild(l.parent.parent.parent.context.index,l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function Xt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-outline-secondary border-0"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditEnableChild(l.parent.parent.parent.context.index,l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function Qt(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,23,"tr",[["class","expandable-row"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,1).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,1).onReset()&&o),o},null,null)),t.Ab(1,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(3,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(4,0,null,null,8,"td",[],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,7,"select",[["class","form-control"],["formControlName","groupName"],["placeholder","Group Name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,Kt)),t.Ab(12,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(13,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Jt)),t.Ab(15,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(16,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Zt)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Xt)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(22,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteChild(l.parent.parent.context.index,l.context.index)&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=e.spatialDeficitListFormArray.get(n.parent.parent.context.index.toString()).get("child").get(n.context.index.toString());l(n,1,0,t),l(n,8,0,"groupName"),l(n,12,0,e.groupsList);var o="CUSTOM_SHARING"===e.spatialDeficitListFormArray.get(n.parent.parent.context.index.toString()).get("child").get(n.context.index.toString()).get("groupName").value;l(n,15,0,o),l(n,19,0,n.context.$implicit.editEnabled),l(n,21,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,t.Lb(n,3).ngClassUntouched,t.Lb(n,3).ngClassTouched,t.Lb(n,3).ngClassPristine,t.Lb(n,3).ngClassDirty,t.Lb(n,3).ngClassValid,t.Lb(n,3).ngClassInvalid,t.Lb(n,3).ngClassPending),l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending)})}function lo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Qt)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.sb(0,null,null,0))],function(l,n){l(n,2,0,n.parent.context.$implicit.child)},null)}function no(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tbody",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,40,"tr",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,2).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,2).onReset()&&o),o},null,null)),t.Ab(2,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(4,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(5,0,null,null,14,"td",[["colspan","2"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,13,"div",[["class","d-flex align-items-center flex-nowrap"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,6,"button",[["class","btn btn-collapse-row btn-sm mr-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.context.$implicit.isExpanded=!l.context.$implicit.isExpanded)&&t),t},null,null)),t.Ab(8,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(9,{active:0}),(l()(),t.sb(16777216,null,null,1,null,Gt)),t.Ab(11,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,qt)),t.Ab(13,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(14,0,null,null,5,"input",[["class","form-control"],["formControlName","ruleName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0;return"input"===n&&(o=!1!==t.Lb(l,15)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,15).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,15)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,15)._compositionEnd(e.target.value)&&o),o},null,null)),t.Ab(15,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(17,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(19,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(20,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,9,"select",[["class","form-control"],["formControlName","sharingType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0;return"change"===n&&(o=!1!==t.Lb(l,22).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,22).onTouched()&&o),o},null,null)),t.Ab(22,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(24,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(26,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(27,0,null,null,3,"option",[["value","SPATIAL_EQUAL_DEFICIT_SHARING"]],null,null,null,null,null)),t.Ab(28,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(29,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Equal Deficit Sharing"])),(l()(),t.Bb(31,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,9,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,2,"button",[["class","btn btn-outline-primary ml-2 border-0"],["title","Add Group"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddComponent(l.context.index)&&t),t},null,null)),(l()(),t.Bb(34,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add Group "])),(l()(),t.sb(16777216,null,null,1,null,Wt)),t.Ab(37,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,$t)),t.Ab(39,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDelete(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,lo)),t.Ab(43,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component.spatialDeficitListFormArray.get(n.context.index.toString());l(n,2,0,e);var t=l(n,9,0,n.context.$implicit.isExpanded);l(n,8,0,"btn btn-collapse-row btn-sm mr-2",t),l(n,11,0,!n.context.$implicit.isExpanded),l(n,13,0,n.context.$implicit.isExpanded),l(n,17,0,"ruleName"),l(n,24,0,"sharingType"),l(n,28,0,"SPATIAL_EQUAL_DEFICIT_SHARING"),l(n,29,0,"SPATIAL_EQUAL_DEFICIT_SHARING"),l(n,37,0,!n.context.$implicit.editEnabled),l(n,39,0,n.context.$implicit.editEnabled),l(n,43,0,n.context.$implicit.isExpanded)},function(l,n){l(n,1,0,t.Lb(n,4).ngClassUntouched,t.Lb(n,4).ngClassTouched,t.Lb(n,4).ngClassPristine,t.Lb(n,4).ngClassDirty,t.Lb(n,4).ngClassValid,t.Lb(n,4).ngClassInvalid,t.Lb(n,4).ngClassPending),l(n,14,0,t.Lb(n,19).ngClassUntouched,t.Lb(n,19).ngClassTouched,t.Lb(n,19).ngClassPristine,t.Lb(n,19).ngClassDirty,t.Lb(n,19).ngClassValid,t.Lb(n,19).ngClassInvalid,t.Lb(n,19).ngClassPending),l(n,21,0,t.Lb(n,26).ngClassUntouched,t.Lb(n,26).ngClassTouched,t.Lb(n,26).ngClassPristine,t.Lb(n,26).ngClassDirty,t.Lb(n,26).ngClassValid,t.Lb(n,26).ngClassInvalid,t.Lb(n,26).ngClassPending)})}function eo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,29,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,16,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,8,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(3,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(4,0,null,null,6,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,5,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,1,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,0,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,2,"button",[["class","btn btn-outline-warning ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onAddGroup()&&t),t},null,null)),(l()(),t.Bb(13,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add new Rule"])),(l()(),t.Bb(15,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveGroup()&&t),t},null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(18,0,null,null,11,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.Bb(19,0,null,null,10,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,7,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.Bb(22,0,null,null,1,"th",[["colspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Rule Name"])),(l()(),t.Bb(24,0,null,null,1,"th",[["colspan","2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Rule Type"])),(l()(),t.Bb(26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.sb(16777216,null,null,1,null,no)),t.Ab(29,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,29,0,n.component.spatialDeficitList)},null)}var to=function(){function l(l,n,e,o,u){this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=o,this.utilService=u,this.tableData=new t.q,this.initTableData=new t.q,this.channelFlowList=[],this.channelFlowListFormArray=new r.e([]),this.showTable=!1,this.exportHeaderList={NODE:"nodeDisplayName",COMPONENT:"componentDisplayName",TARGET_NODE:"assocNodeDisplayName",TARGET_COMPONENT:"assocComponentDisplayName"},this.networkList=[],this.nodeList=[],this.isNodesEmpty=!1,this.nodeEntityList=[],this.componentsList=[],this.assoNodeEntityList=[],this.assoComponentsList=[],this.nodeVsComponentMapping={},this.pnodeVsComponentMapping={},this.nodeInformation={},this.pnodeInformation={},this.restrictedComponentTypes=["DEAD STORAGE LAYER","ACTIVE STORAGE LAYER","FLOOD STORAGE LAYER"],this.restrictedPumpComponentTypes=["DEAD STORAGE LAYER","ACTIVE STORAGE LAYER","FLOOD STORAGE LAYER","IRRIGATION CANAL"]}return l.prototype.ngOnInit=function(){this.retrieveNetworks(),this.retrieveNodes()},l.prototype.prepareNodeVsComponentMapping=function(){for(var l=function(l){null==n.nodeVsComponentMapping[l.srcNode]&&(n.nodeVsComponentMapping[l.srcNode]=[],n.nodeInformation[l.srcNode]=[]),-1==n.restrictedComponentTypes.findIndex(function(n){return n==l.componentType})&&-1==n.nodeVsComponentMapping[l.srcNode].findIndex(function(n){return n==l.displayName})&&(n.nodeVsComponentMapping[l.srcNode].push(l.displayName),n.nodeInformation[l.srcNode].push({srcNode:l.srcNode,srcNodeUUID:l.srcNodeUUID,componentName:l.displayName,componentUUID:l.componentUUID}))},n=this,e=0,t=this.networkList;e<t.length;e++)l(t[e]);for(var o in this.nodeVsComponentMapping)0==this.nodeVsComponentMapping[o].length?(delete this.nodeVsComponentMapping[o],delete this.nodeInformation[o]):this.nodeVsComponentMapping[o].push("Select");this.nodeVsComponentMapping.Select=[]},l.prototype.preparePumpNodeVsComponentMapping=function(){for(var l=function(l){null==n.pnodeVsComponentMapping[l.srcNode]&&(n.pnodeVsComponentMapping[l.srcNode]=[],n.pnodeInformation[l.srcNode]=[]),-1==n.restrictedPumpComponentTypes.findIndex(function(n){return n==l.componentType})&&-1==n.pnodeVsComponentMapping[l.srcNode].findIndex(function(n){return n==l.displayName})&&(n.pnodeVsComponentMapping[l.srcNode].push(l.displayName),n.pnodeInformation[l.srcNode].push({srcNode:l.srcNode,srcNodeUUID:l.srcNodeUUID,componentName:l.displayName,componentUUID:l.componentUUID}))},n=this,e=0,t=this.networkList;e<t.length;e++)l(t[e]);for(var o in this.pnodeVsComponentMapping)0==this.pnodeVsComponentMapping[o].length?(delete this.pnodeVsComponentMapping[o],delete this.pnodeInformation[o]):this.pnodeVsComponentMapping[o].push("Select");this.pnodeVsComponentMapping.Select=[]},l.prototype.retrieveNetworks=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NETWORK);n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.networkList=n,n.length>0?(l.prepareNodeVsComponentMapping(),l.preparePumpNodeVsComponentMapping(),l.retrieveChannelFlow(),l.isNodesEmpty=!1):l.isNodesEmpty=!0},function(n){l.isNodesEmpty=!0})},l.prototype.retrieveNodes=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_NODES);n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.nodeList=n,l.showTable=!0},function(n){l.showTable=!0})},l.prototype.retrieveChannelFlow=function(){var l=this,n=this.dataService.deepClone(v.a.REVERSE_CHANNEL_FLOW_RETRIEVE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.channelFlowList=n,l.modifyChannelFlowList(),l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.modifyChannelFlowList=function(){for(var l=0,n=this.channelFlowList;l<n.length;l++){var e=n[l];e.editEnabled=!1,e.isMatched=!1,e.errorMessage=null}},l.prototype.createFormArrays=function(l){var n=this;this.channelFlowList.forEach(function(l,e){var t=n.getChannelFlowFormGroup();n.nodeEntityList[e]=Object.keys(n.pnodeVsComponentMapping),n.componentsList[e]=n.pnodeVsComponentMapping[l.nodeDisplayName]||[],n.assoNodeEntityList[e]=n.getAssoNodeList(l.nodeDisplayName),n.assoComponentsList[e]=n.nodeVsComponentMapping[l.assocNodeDisplayName]||[];for(var o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o],a=t.controls[r];a.setValue(l[r]),a.disable()}n.channelFlowListFormArray.push(t),n.tableData.emit(n.channelFlowListFormArray)}),"bulkUpload"!==l&&(this.initFormValue=this.channelFlowListFormArray.getRawValue(),this.initTableData.emit(this.initFormValue))},l.prototype.getChannelFlowFormGroup=function(){return new r.j({nodeName:new r.g(""),nodeDisplayName:new r.g("",r.z.required),nodeUUID:new r.g("",r.z.required),componentName:new r.g(""),componentDisplayName:new r.g("",r.z.required),componentUUID:new r.g("",r.z.required),assocNodeName:new r.g(""),assocNodeDisplayName:new r.g("",r.z.required),assocNodeUUID:new r.g("",r.z.required),assocComponentName:new r.g(""),assocComponentDisplayName:new r.g("",r.z.required),assocComponentUUID:new r.g("",r.z.required)})},l.prototype.onNodeChange=function(l){var n=this.channelFlowListFormArray.get(l.toString()),e=this.nodeInformation[n.value.nodeDisplayName][0].srcNodeUUID||"";n.get("nodeUUID").setValue(e),this.componentsList[l]=[],this.componentsList[l]=this.pnodeVsComponentMapping[n.value.nodeDisplayName],this.assoNodeEntityList[l]=[],this.assoNodeEntityList[l]=this.getAssoNodeList(n.value.nodeDisplayName),this.assoComponentsList[l]=["Select"];for(var t=["componentDisplayName","componentUUID","assocNodeDisplayName","assocNodeUUID","assocComponentDisplayName","assocComponentUUID"],o=0,u=t;o<u.length;o++)n.get(u[o]).setValue("Select");for(var r=0,a=t=["componentUUID","assocNodeUUID","assocComponentUUID"];r<a.length;r++)n.get(a[r]).setValue(null)},l.prototype.onComponentTypeChange=function(l){var n=this.channelFlowListFormArray.get(l.toString()),e=this.nodeInformation[n.value.nodeDisplayName]||[],t=e.findIndex(function(l){return l.componentDisplayName==n.value.componentDisplayName});if(t>-1){var o=e[t].componentUUID||"";n.get("componentUUID").setValue(o)}},l.prototype.onAssoNodeChange=function(l){var n=this.channelFlowListFormArray.get(l.toString()),e=this.nodeInformation[n.value.assocNodeDisplayName][0].srcNodeUUID||"";n.get("assocNodeUUID").setValue(e),this.assoComponentsList[l]=[],this.assoComponentsList[l]=this.nodeVsComponentMapping[n.value.assocNodeDisplayName];for(var t=["assocComponentDisplayName","assocComponentUUID"],o=0,u=t;o<u.length;o++)n.get(u[o]).setValue("Select");for(var r=0,a=t=["assocComponentUUID"];r<a.length;r++)n.get(a[r]).setValue(null)},l.prototype.onAssoComponentTypeChange=function(l){var n=this.channelFlowListFormArray.get(l.toString()),e=this.nodeInformation[n.value.assocNodeDisplayName]||[],t=e.findIndex(function(l){return l.componentDisplayName==n.value.assocComponentDisplayName});if(t>-1){var o=e[t].componentUUID||"";n.get("assocComponentUUID").setValue(o)}},l.prototype.getAssoNodeList=function(l){var n=Object.keys(this.nodeVsComponentMapping).slice();return-1!==n.indexOf(l)&&n.splice(n.indexOf(l),1),n},l.prototype.addElement=function(){this.channelFlowList.length>0&&!this.isValidFormGroup(this.channelFlowList.length-1)?this.dataService.showToastMessage("Please Fill Proper Details for Row "+this.channelFlowList.length,"error"):(this.channelFlowList.push({editEnabled:!1}),this.channelFlowListFormArray.push(this.getChannelFlowFormGroup()),this.tableData.emit(this.channelFlowListFormArray),this.nodeEntityList[this.channelFlowList.length-1]=Object.keys(this.pnodeVsComponentMapping),this.componentsList[this.channelFlowList.length-1]=[],this.assoNodeEntityList[this.channelFlowList.length-1]=[],this.assoComponentsList[this.channelFlowList.length-1]=[],this.onEditNode(this.channelFlowList.length-1,"add"))},l.prototype.onEditNode=function(l,n){var e=this;this.channelFlowListFormArray.get(l.toString()),this.channelFlowList.forEach(function(n,t){var o=e.channelFlowListFormArray.get(t.toString());l===t?(n.editEnabled=!0,o.enable()):(n.editEnabled=!1,o.disable())})},l.prototype.onSaveNode=function(l){var n=this.channelFlowListFormArray.get(l.toString());this.isValidFormGroup(l)?(this.channelFlowList[l].editEnabled=!1,this.tableData.emit(this.channelFlowListFormArray),n.disable()):this.dataService.showToastMessage("Please Fill Proper Details for Row "+(l+1),"error")},l.prototype.removeElement=function(l){var n=this;this.channelFlowList.splice(l,1),this.channelFlowListFormArray.removeAt(l),this.tableData.emit(this.channelFlowListFormArray),this.disableAllFields(),this.channelFlowList.forEach(function(l,e){n.nodeEntityList[e]=Object.keys(n.pnodeVsComponentMapping),n.componentsList[e]=n.pnodeVsComponentMapping[l.nodeDisplayName]||[],n.assoNodeEntityList[e]=n.getAssoNodeList(l.nodeDisplayName),n.assoComponentsList[e]=n.nodeVsComponentMapping[l.assocNodeDisplayName]||[]})},l.prototype.disableAllFields=function(){this.channelFlowList.forEach(function(l){return l.editEnabled=!1})},l.prototype.isValidFormGroup=function(l){return!this.channelFlowListFormArray.get(l.toString()).invalid},l.prototype.clearFormArray=function(){for(;0!==this.channelFlowListFormArray.length;)this.channelFlowListFormArray.removeAt(0)},l.prototype.bulkUploadFiles=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.REVERSE_CHANNEL_BULK_UPLOAD_CHANNEL_FLOW);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.file=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.showTable=!0,e.dataService.showToastMessage("Fetched Rows from File","success"),e.clearBulkUploadFile(),e.channelFlowList=l,e.modifyChannelFlowList(),e.clearFormArray(),e.createFormArrays("bulkUpload")):(e.showTable=!0,e.dataService.showToastMessage("Failed to Fetch the File ","error"))},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.downloadNodesAsFile=function(){this.exportExcelService.exportToExcel(this.channelFlowListFormArray.getRawValue(),{fileName:"Reverse Channel Flow Policy "+(new Date).getTime(),headerList:this.exportHeaderList,sheetName:"CHANNEL_REVERSE_FLOW_POLICY"})},l.prototype.isValidAllRows=function(){for(var l=!0,n=0,e=this.channelFlowListFormArray.controls;n<e.length;n++)e[n].invalid&&(l=!1);return l},l.prototype.savePolicies=function(){for(var l=this,n=function(l){var n=e.channelFlowListFormArray.get(l.toString());e.nodeList.forEach(function(l){l.displayName==n.value.nodeDisplayName&&n.get("nodeName").setValue(l.nodeName),l.displayName==n.value.assocNodeDisplayName&&n.get("assocNodeName").setValue(l.nodeName)}),e.networkList.forEach(function(l){l.displayName==n.value.componentDisplayName&&n.get("componentName").setValue(l.componentName)})},e=this,t=0;t<this.channelFlowListFormArray.getRawValue().length;t++)n(t);if(this.isValidAllRows())return new xl.a(function(n){var e=l.dataService.deepClone(v.a.REVERSE_CHANNEL_FLOW_SAVE);e.postData.rootEntityUuid=l.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=l.modelId,e.postData.rows=l.channelFlowListFormArray.getRawValue(),l.httpService.placeAPICall(e).subscribe(function(e){e?(l.showTable=!1,l.clearFormArray(),l.retrieveChannelFlow(),n.next(!0),n.complete(),l.dataService.showToastMessage("Reverse Channel Flow Saved Successfully","success")):(n.next(!0),n.complete(),l.dataService.showToastMessage("Failed to Save Reverse Channel Flow","error"))},function(e){l.dataService.showToastMessage("Server Error Occurred","error"),n.next(!0),n.complete()})});this.dataService.showToastMessage("Please Fill All The Rows","error")},l.prototype.saveForm=function(){var l=this;return new xl.a(function(n){l.savePolicies().subscribe(function(l){n.next(l),n.complete()})})},l}(),oo=t.zb({encapsulation:0,styles:[[".search_matched[_ngcontent-%COMP%]{background-color:#66bb6a}.search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .search_matched[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff}.search_matched[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{background-color:#ef5350}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#ef5350;color:#fff}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}"]],data:{}});function uo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,0,0,"Select"==n.context.$implicit),l(n,3,0,n.context.$implicit)})}function ro(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,0,0,"Select"==n.context.$implicit),l(n,3,0,n.context.$implicit)})}function ao(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,0,0,"Select"==n.context.$implicit),l(n,3,0,n.context.$implicit)})}function io(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,[" ",""]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,0,0,"Select"==n.context.$implicit),l(n,3,0,n.context.$implicit)})}function so(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0 mr-2"],["title","Save"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSaveNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-file-earmark-fill"]],null,null,null,null,null))],null,null)}function co(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"button",[["class","btn btn-secondary border-0 mr-2"],["title","Edit"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onEditNode(l.parent.context.index)&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","bi bi-pencil-square"]],null,null,null,null,null))],null,null)}function po(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,66,"tr",[],[[8,"id",0],[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{"editable-row":0,search_matched:1,"error-row":2}),(l()(),t.Bb(3,0,null,null,63,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,11,"select",[["class","form-control"],["formControlName","nodeDisplayName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,9).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"change"===n&&(o=!1!==u.onNodeChange(l.context.index)&&o),o},null,null)),t.Ab(9,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(11,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(15,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(16,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,uo)),t.Ab(19,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(20,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,11,"select",[["class","form-control"],["formControlName","componentDisplayName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,22).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,22).onTouched()&&o),"change"===n&&(o=!1!==u.onComponentTypeChange(l.context.index)&&o),o},null,null)),t.Ab(22,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(24,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(26,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(27,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(28,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(29,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,ro)),t.Ab(32,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(33,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,11,"select",[["class","form-control"],["formControlName","assocNodeDisplayName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,35).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,35).onTouched()&&o),"change"===n&&(o=!1!==u.onAssoNodeChange(l.context.index)&&o),o},null,null)),t.Ab(35,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(37,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(39,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(40,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(41,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(42,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,ao)),t.Ab(45,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(46,0,null,null,12,"td",[],null,null,null,null,null)),(l()(),t.Bb(47,0,null,null,11,"select",[["class","form-control"],["formControlName","assocComponentDisplayName"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,48).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,48).onTouched()&&o),"change"===n&&(o=!1!==u.onAssoComponentTypeChange(l.context.index)&&o),o},null,null)),t.Ab(48,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(50,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(52,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(53,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t.Ab(54,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(55,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Select"])),(l()(),t.sb(16777216,null,null,1,null,io)),t.Ab(58,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(59,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(60,0,null,null,6,"div",[["class","buttons d-flex "]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,so)),t.Ab(62,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,co)),t.Ab(64,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(65,0,null,null,1,"button",[["class","btn btn-danger ml-2 border-0"],["title","Delete"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.removeElement(l.context.index)&&t),t},null,null)),(l()(),t.Bb(66,0,null,null,0,"i",[["class","bi bi-trash3-fill"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.editEnabled,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.channelFlowListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,11,0,"nodeDisplayName"),l(n,15,0,""),l(n,16,0,""),l(n,19,0,e.nodeEntityList[n.context.index]),l(n,24,0,"componentDisplayName"),l(n,28,0,""),l(n,29,0,""),l(n,32,0,e.componentsList[n.context.index]),l(n,37,0,"assocNodeDisplayName"),l(n,41,0,""),l(n,42,0,""),l(n,45,0,e.assoNodeEntityList[n.context.index]),l(n,50,0,"assocComponentDisplayName"),l(n,54,0,""),l(n,55,0,""),l(n,58,0,e.assoComponentsList[n.context.index]),l(n,62,0,n.context.$implicit.editEnabled),l(n,64,0,!n.context.$implicit.editEnabled)},function(l,n){l(n,0,0,n.context.index,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.index),l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending),l(n,21,0,t.Lb(n,26).ngClassUntouched,t.Lb(n,26).ngClassTouched,t.Lb(n,26).ngClassPristine,t.Lb(n,26).ngClassDirty,t.Lb(n,26).ngClassValid,t.Lb(n,26).ngClassInvalid,t.Lb(n,26).ngClassPending),l(n,34,0,t.Lb(n,39).ngClassUntouched,t.Lb(n,39).ngClassTouched,t.Lb(n,39).ngClassPristine,t.Lb(n,39).ngClassDirty,t.Lb(n,39).ngClassValid,t.Lb(n,39).ngClassInvalid,t.Lb(n,39).ngClassPending),l(n,47,0,t.Lb(n,52).ngClassUntouched,t.Lb(n,52).ngClassTouched,t.Lb(n,52).ngClassPristine,t.Lb(n,52).ngClassDirty,t.Lb(n,52).ngClassValid,t.Lb(n,52).ngClassInvalid,t.Lb(n,52).ngClassPending)})}function bo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,36,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(2,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(3,0,null,null,16,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(5,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(6,0,null,null,13,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(7,0,null,null,2,"button",[["class","btn btn-outline-warning"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addElement()&&t),t},null,null)),(l()(),t.Bb(8,0,null,null,0,"i",[["class","fas fa-plus mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Add New Row"])),(l()(),t.Bb(10,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadFiles(e)&&t),t},null,null)),(l()(),t.Bb(11,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(14,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadNodesAsFile()&&t),t},null,null)),(l()(),t.Bb(15,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(17,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePolicies().subscribe()&&t),t},null,null)),(l()(),t.Bb(18,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(20,0,null,null,16,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(22,0,null,null,9,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.Bb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node"])),(l()(),t.Bb(26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Component"])),(l()(),t.Bb(28,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Associated Node"])),(l()(),t.Bb(30,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(32,0,null,null,4,"tbody",[],null,null,null,null,null)),t.Ab(33,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(34,{"error-body":0}),(l()(),t.sb(16777216,null,null,1,null,po)),t.Ab(36,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,2,0,"Reverse_Channel_table",!e.showTable);var t=l(n,34,0,e.isErrorOccurred);l(n,33,0,t),l(n,36,0,e.channelFlowList)},null)}function go(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[["class","card-modal-details text-center card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Please fill the Network Tab to view this"]))],null,null)}function mo(l){return t.Ub(0,[(l()(),t.sb(16777216,null,null,1,null,bo)),t.Ab(1,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,go)),t.Ab(3,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,1,0,!e.isNodesEmpty),l(n,3,0,e.isNodesEmpty)},null)}var ho=e("IHT8"),fo=e("LA5R"),vo=e("cIeg"),Ao=e("zX/v"),Co={title:"Policy Type",key:"policyType",type:"manual",byDefaultSelect:"INITIAL_STORAGE_POLICY",options:[{title:"Master Data Policy",key:"MASTER_DATA_POLICY"},{title:"Initial Storage Policy",key:"INITIAL_STORAGE_POLICY"},{title:"Physical Channel Flow Constraints",key:"CHANNEL_FLOW"},{title:"Irrigation Supply Constraints",key:"IRRIGATION_DEMAND"},{title:"Return Flow Fractions",key:"RETURN_FLOW_POLICY"},{title:"Rating Curve Policies",key:"OUTFLOW_RATING_CURVE"},{title:"Storage Target Constraints",key:"STORAGE_TARGET"},{title:"Temporal Deficit Sharing Policy",key:"TEMPORAL_EQUAL_DEFICIT_SHARING"},{title:"Spatial Deficit Sharing Policy",key:"SPATIAL_DEFICIT_SHARING"},{title:"Avoid Surplus Releases Policy",key:"CHANNEL_REVERSE_FLOW_POLICY"},{title:"Channel Reverse Flow Policy",key:"CHANNEL_REVERSE_FLOW_POLICY"}]},Io={title:"Policy Type",key:"policyType",type:"manual",byDefaultSelect:"INITIAL_STORAGE_POLICY",options:[{title:"Initial Storage",key:"INITIAL_STORAGE_POLICY"}]},yo=function(){function l(l,n,e){this.route=l,this.modalService=n,this.ref=e,this.optionValue="nine",this.listFormArray=new r.e([]),this.selectedPolicy=new r.g(""),this.defaultOption="DSL"}return l.prototype.ngOnInit=function(){this.modelType=this.route.snapshot.queryParams.modelType,this.policyDropdownConfig="VERIFICATION"===this.modelType?Io:Co},l.prototype.assignValue=function(l){this.listFormArray=l},l.prototype.assignInitValue=function(l){this.initFormValue=l},l.prototype.valueChanged=function(l){},l.prototype.isFormsDiffered=function(){return!Object(I.isNullOrUndefined)(this.initFormValue)&&JSON.stringify(this.initFormValue)!==JSON.stringify(this.listFormArray.getRawValue())},l.prototype.saveForm=function(l){var n=this;return new xl.a(function(e){l&&n.selectedPolicy.setValue(l),"DSL"==n.selectedPolicy.value?n.dsl.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"STORAGE_TARGET"==n.selectedPolicy.value?n.storageTarget.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"CHANNEL_FLOW"==n.selectedPolicy.value?n.channelFlow.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"INITIAL_STORAGE_POLICY"==n.selectedPolicy.value?n.initialStorage.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"IRRIGATION_DEMAND"==n.selectedPolicy.value?n.irrigationSupply.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"OUTFLOW_RATING_CURVE"==n.selectedPolicy.value?n.ratingCurve.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"TEMPORAL_EQUAL_DEFICIT_SHARING"==n.selectedPolicy.value?n.deficientSharing.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"CHANNEL_REVERSE_FLOW_POLICY"==n.selectedPolicy.value?n.reverseFlow.savePolicies().subscribe(function(l){e.next(l),e.complete()}):"MASTER_DATA_POLICY"==n.selectedPolicy.value&&n.masterData.savePolicies().subscribe(function(l){e.next(l),e.complete()})})},l}(),wo=t.zb({encapsulation:0,styles:[["tr.expandable-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:2px;padding-bottom:2px;font-size:12px;background:#fcfcfd}tr.expandable-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:0 0!important}tr.expandable-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:60px}"]],data:{}});function xo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-master-data-policy",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},we,fe)),t.Ab(2,114688,[[9,4]],0,he,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Lo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-dead-storage",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},Ee,Le)),t.Ab(2,114688,[[2,4]],0,xe,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function jo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-carry-over-storage-business",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},Fe,Se)),t.Ab(2,114688,[[5,4]],0,De,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Eo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-initial-pump-status",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},ke,Oe)),t.Ab(2,114688,null,0,Be,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Do(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-physcal-channel-flow",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},ze,Re)),t.Ab(2,114688,[[3,4]],0,Pe,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function So(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-irrigation-supply",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},Qe,Ye)),t.Ab(2,114688,[[6,4]],0,He,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function No(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-environmental-flow",[],null,null,null,tt,nt)),t.Ab(2,114688,null,0,lt,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function To(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-rating-curve",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},Bn,Ln)),t.Ab(2,114688,[[7,4]],0,xn,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Fo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-channel-losses",[],null,null,null,at,ut)),t.Ab(2,114688,null,0,ot,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Bo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-storage-target",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},ft,st)),t.Ab(2,114688,[[1,4]],0,it,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Oo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-temporal-equal-deficit",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},yt,At)),t.Ab(2,114688,[[8,4]],0,vt,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Uo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-downstream-demand",[],null,null,null,Et,xt)),t.Ab(2,114688,null,0,wt,[g.a,m.a,vl.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Mo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-irrigation-demand",[],null,null,null,Ft,St)),t.Ab(2,114688,null,0,Dt,[g.a,m.a,vl.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function ko(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-state-allocation-policy",[],null,null,null,kt,Ot)),t.Ab(2,114688,null,0,Bt,[g.a,m.a,vl.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Po(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-return-inflows-policy",[],null,null,null,zt,Rt)),t.Ab(2,114688,null,0,Pt,[g.a,m.a,vl.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Ro(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-spatial-deficit-sharing",[],null,null,null,eo,Yt)),t.Ab(2,114688,null,0,Ht,[vl.a,m.a,g.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function _o(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-reverse-flow",[],null,[[null,"tableData"],[null,"initTableData"]],function(l,n,e){var t=!0,o=l.component;return"tableData"===n&&(t=!1!==o.assignValue(e)&&t),"initTableData"===n&&(t=!1!==o.assignInitValue(e)&&t),t},mo,oo)),t.Ab(2,114688,[[4,4]],0,to,[vl.a,g.a,m.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},{tableData:"tableData",initTableData:"initTableData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid)},null)}function Vo(l){return t.Ub(0,[t.Qb(671088640,1,{storageTarget:0}),t.Qb(671088640,2,{dsl:0}),t.Qb(671088640,3,{channelFlow:0}),t.Qb(671088640,4,{reverseFlow:0}),t.Qb(671088640,5,{initialStorage:0}),t.Qb(671088640,6,{irrigationSupply:0}),t.Qb(671088640,7,{ratingCurve:0}),t.Qb(671088640,8,{deficientSharing:0}),t.Qb(671088640,9,{masterData:0}),(l()(),t.Bb(9,0,null,null,0,"div",[["class","card-modal-details card mt-3 mb-4 shadow-none border-0 bg-transparent"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,38,"div",[["class","card-modal-details card shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,3,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,2,"div",[["class","form-group m-0"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,1,"app-select",[["width","400"]],null,[[null,"valueChange"]],function(l,n,e){var t=!0;return"valueChange"===n&&(t=!1!==l.component.valueChanged(e)&&t),t},ho.b,ho.a)),t.Ab(14,245760,null,0,fo.a,[g.a,m.a,vo.a,Ao.a],{selectConfig:[0,"selectConfig"],control:[1,"control"],width:[2,"width"]},{valueChange:"valueChange"}),(l()(),t.sb(16777216,null,null,1,null,xo)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Lo)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,jo)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Eo)),t.Ab(22,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Do)),t.Ab(24,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,So)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,No)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,To)),t.Ab(30,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Fo)),t.Ab(32,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Bo)),t.Ab(34,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Oo)),t.Ab(36,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Uo)),t.Ab(38,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Mo)),t.Ab(40,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ko)),t.Ab(42,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Po)),t.Ab(44,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ro)),t.Ab(46,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,_o)),t.Ab(48,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,14,0,e.policyDropdownConfig,e.selectedPolicy,"400"),l(n,16,0,"MASTER_DATA_POLICY"==e.selectedPolicy.value),l(n,18,0,"DSL"==e.selectedPolicy.value),l(n,20,0,"INITIAL_STORAGE_POLICY"==e.selectedPolicy.value),l(n,22,0,"PUMP_CONFIG_POLICY"==e.selectedPolicy.value),l(n,24,0,"CHANNEL_FLOW"==e.selectedPolicy.value),l(n,26,0,"IRRIGATION_DEMAND"==e.selectedPolicy.value),l(n,28,0,"ENVIRONMENTAL_FLOW"==e.selectedPolicy.value),l(n,30,0,"OUTFLOW_RATING_CURVE"==e.selectedPolicy.value),l(n,32,0,"CHANNEL_LOSSES"==e.selectedPolicy.value),l(n,34,0,"STORAGE_TARGET"==e.selectedPolicy.value),l(n,36,0,"TEMPORAL_EQUAL_DEFICIT_SHARING"==e.selectedPolicy.value),l(n,38,0,"DOWNSTREAM_DEMAND_POLICY"==e.selectedPolicy.value),l(n,40,0,"IRRIGATION_DEMAND_POLICY"==e.selectedPolicy.value),l(n,42,0,"NWDT_SHARING_POLICY"==e.selectedPolicy.value),l(n,44,0,"RETURN_FLOW_POLICY"==e.selectedPolicy.value),l(n,46,0,"SPATIAL_DEFICIT_SHARING"==e.selectedPolicy.value),l(n,48,0,"CHANNEL_REVERSE_FLOW_POLICY"==e.selectedPolicy.value)},null)}var zo=function(){function l(l,n,e,t){this.dataUtilService=l,this.dataService=n,this.httpService=e,this.utilService=t,this.fileToUpload=null,this.isSaved=!1,this.previousFileUploads=[],this.showTable=!1,this.objectiveFunctionRadioSelected="customCoefficient",this.objectiveFunctionConfig=[{name:"Use auto generated coefficient",value:"autoGenerated"},{name:"Use Custom coefficient",value:"customCoefficient"}]}return l.prototype.ngOnInit=function(){this.retrievePreviousRetrievals()},l.prototype.retrievePreviousRetrievals=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_OBJECTIVE_FUNCTION);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,this.httpService.placeAPICall(n).subscribe(function(n){l.objectiveFunctionRadioSelected=n.isCustomCoefficients?"customCoefficient":"autoGenerated",n.objFuncTimestampMap&&(l.previousFileUploads=l.getPreviousFiles(n)),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.getPreviousFiles=function(l){for(var n=l.objFuncTimestampMap,e=[],t=0,o=Object.keys(n);t<o.length;t++){var u=o[t],r={};r.fileName=u,r.updatedOn=n[u],r.selected=u===l.curFileName,r.status="Valid",e.push(r)}return e},l.prototype.onFileChange=function(l){this.fileToUpload=l.target.files[0],document.querySelector("#importFileLabel").innerHTML=Object(Al.d)(this.fileToUpload)?"Choose File":this.fileToUpload.name},l.prototype.clearFile=function(){this.fileToUpload=null,document.querySelector("#importFileLabel").innerHTML=Object(Al.d)(this.fileToUpload)?"Choose File":this.fileToUpload.name},l.prototype.uploadFile=function(){var l=this,n=this.dataService.deepClone(v.a.OBJECTIVE_FUNCTION_FILE);if(n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.isCustomconfig="customCoefficient"===this.objectiveFunctionRadioSelected,"customCoefficient"===this.objectiveFunctionRadioSelected&&Object(Al.d)(this.fileToUpload)){if(!this.selectedFile)return void this.dataService.showToastMessage("please select at least one file option","error");n.postData.customFileName=this.selectedFile}else n.postData.file=this.fileToUpload;this.httpService.placeAPICall(n).subscribe(function(n){l.isSaved=!1,n&&n.success?(l.clearFile(),l.retrievePreviousRetrievals(),l.dataService.showToastMessage("Saved successfully","success")):l.dataService.showToastMessage("Failure on save","error")})},l.prototype.downloadFile=function(l){var n=this.dataService.deepClone(v.a.DOWNLOAD_OBJECTIVE_FUNCTION_FILE);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.timestamp=l.updatedOn,this.httpService.placeAPICall(n).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)}),this.dataService.showToastMessage("Downoading","success")},l.prototype.downloadAutoGenerateFile=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_OBJECTIVE_AUTO_GENERATED_FILE);l.postData.modelUUID=this.modelId,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)}),this.dataService.showToastMessage("Downoading","success")},l.prototype.onFileSelected=function(l){console.log(l),this.selectedFile=l},l}(),Ho=t.zb({encapsulation:0,styles:[[".custom-file-label[_ngcontent-%COMP%]{background:#fff;border-color:#e9ecef;color:#495057}.custom-file-label[_ngcontent-%COMP%]::after{background:#fff;color:#495057}.bg-light-indigo[_ngcontent-%COMP%]{border:1px solid #e9ecef;border-radius:4px}.bg-light-indigo[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]{padding:.5rem .875rem;display:flex;align-items:center}.bg-light-indigo[_ngcontent-%COMP%]   .radio-container[_ngcontent-%COMP%]   .radio-button-odisha[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;font-size:.75rem;margin:0}.card[_ngcontent-%COMP%]{border-radius:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:rgba(102,16,242,.1);padding:.75rem 1rem;border-radius:4px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin:0;color:#212529;flex:1 1 auto;font-size:1rem;font-weight:500}"]],data:{}});function Yo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,11,"div",[["class","col radio-container"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,10,"label",[["class","radio-button-odisha d-flex"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,6,"input",[["name","list_name"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,3)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,3).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,3)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,3)._compositionEnd(e.target.value)&&o),"change"===n&&(o=!1!==t.Lb(l,4).onChange()&&o),"blur"===n&&(o=!1!==t.Lb(l,4).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.objectiveFunctionRadioSelected=e)&&o),o},null,null)),t.Ab(3,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Ab(4,212992,null,0,r.v,[t.N,t.n,r.E,t.v],{name:[0,"name"],value:[1,"value"]},null),t.Pb(1024,null,r.o,function(l,n){return[l,n]},[r.d,r.v]),t.Ab(6,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(8,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(9,0,null,null,0,"span",[["class","radio-icon"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"span",[["class","ml-3 d-block"]],null,null,null,null,null)),(l()(),t.Sb(11,null,["",""]))],function(l,n){var e=n.component;l(n,4,0,"list_name",t.Db(1,"",n.context.$implicit.value,"")),l(n,6,0,"list_name",e.objectiveFunctionRadioSelected)},function(l,n){l(n,2,0,t.Lb(n,8).ngClassUntouched,t.Lb(n,8).ngClassTouched,t.Lb(n,8).ngClassPristine,t.Lb(n,8).ngClassDirty,t.Lb(n,8).ngClassValid,t.Lb(n,8).ngClassInvalid,t.Lb(n,8).ngClassPending),l(n,11,0,n.context.$implicit.name)})}function Go(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,22,"tr",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,3,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","radio-button-narmada"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"input",[["name","modelSelected"],["type","radio"]],[[8,"checked",0]],[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onFileSelected(l.context.$implicit.fileName)&&t),t},null,null)),(l()(),t.Bb(4,0,null,null,0,"span",[["class","radio-icon"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t.Sb(6,null,["",""])),(l()(),t.Bb(7,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(9,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(10,{"text-success":0,"text-danger":1}),(l()(),t.Bb(11,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(12,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(13,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(14,null,[" ",""])),(l()(),t.Bb(15,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(17,null,[" ",""])),t.Ob(18,1),(l()(),t.Bb(19,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(21,0,null,null,1,"button",[["class","btn btn-outline-darkblue"],["title","Download"]],null,null,null,null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","bi bi-download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadFile(l.context.$implicit)&&t),t},null,null))],function(l,n){var e=l(n,10,0,"Valid"==n.context.$implicit.status||!n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,9,0,"text-capitalize",e);var t=l(n,13,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,12,0,"fas mr-2",t)},function(l,n){l(n,3,0,n.context.$implicit.selected),l(n,6,0,n.context.$implicit.fileName),l(n,14,0,n.context.$implicit.status);var e=t.Tb(n,17,0,l(n,18,0,t.Lb(n.parent,0),n.context.$implicit.updatedOn));l(n,17,0,e)})}function qo(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,49,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,46,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,9,"div",[["class","d-flex flex-wrap"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,1,"h4",[["class","title flex-fill text-white"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Objective Function Config"])),(l()(),t.Bb(8,0,null,null,6,"div",[["class","buttons flex-wrap d-flex"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 mb-2 mb-md-0 mb-sm-0"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadAutoGenerateFile()&&t),t},null,null)),(l()(),t.Bb(10,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download Template"])),(l()(),t.Bb(12,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.uploadFile()&&t),t},null,null)),(l()(),t.Bb(13,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save Config"])),(l()(),t.Bb(15,0,null,null,3,"div",[["class","card bg-light-warning my-2 shadow-none bg-transparent"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Yo)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(19,0,null,null,31,"div",[["class","card border-0 bg-transparent shadow-none"]],null,null,null,null,null)),t.Ab(20,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(21,{"card-disable":0}),(l()(),t.Bb(22,0,null,null,2,"div",[["class","card-header border-0 bg-transparent"]],null,null,null,null,null)),(l()(),t.Bb(23,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Custom Coefficient"])),(l()(),t.Bb(25,0,null,null,25,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.Bb(26,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"div",[["class","col col-lg-6"]],null,null,null,null,null)),(l()(),t.Bb(28,0,null,null,5,"div",[["class","d-flex mb-3"]],null,null,null,null,null)),(l()(),t.Bb(29,0,null,null,4,"div",[["class","input-group"],["novalidate",""]],null,null,null,null,null)),(l()(),t.Bb(30,0,null,null,3,"div",[["class","custom-file mt-3"]],null,null,null,null,null)),(l()(),t.Bb(31,0,null,null,0,"input",[["class","custom-file-input"],["id","importFile"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.onFileChange(e)&&t),t},null,null)),(l()(),t.Bb(32,0,[["labelImport",1]],null,1,"label",[["class","custom-file-label"],["for","importFile"],["id","importFileLabel"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Choose file"])),(l()(),t.Bb(34,0,null,null,16,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(36,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["#"])),(l()(),t.Bb(40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["File Name"])),(l()(),t.Bb(42,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(44,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(46,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Action"])),(l()(),t.Bb(48,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Go)),t.Ab(50,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"objectiveFunctionConfig",!e.showTable),l(n,18,0,e.objectiveFunctionConfig);var t=l(n,21,0,"customCoefficient"!=e.objectiveFunctionRadioSelected);l(n,20,0,"card border-0 bg-transparent shadow-none",t),l(n,50,0,e.previousFileUploads)},null)}var Wo=function(){function l(l,n){this.dataService=l,this.httpService=n,this.isEditOn=!1,this.dumData=[],this.submitExcelData=new t.q,this.editdata=[],this.column=[]}return l.prototype.ngOnInit=function(){},l.prototype.ngOnChanges=function(l){this.loadJexcel(l.data.currentValue)},l.prototype.loadJexcel=function(l){var n=this;for(var e in this.dumData=[],l.forEach(function(l){var e={};for(var t in e.entityName=l.entityName,l.periodValueMap)Object.prototype.hasOwnProperty.call(l.periodValueMap,t)&&(e[t]=l.periodValueMap[t]);n.dumData.push(e)}),console.log("dumData",this.dumData),this.column=[],this.column.push({type:"text",title:"Node",width:200,name:"entityName",readOnly:!0}),l[0].periodValueMap)Object.prototype.hasOwnProperty.call(l[0].periodValueMap,e)&&this.column.push({type:"text",width:150,copy:"Copy...",paste:"Paste...",title:e,readOnly:!l[0].isEditable});this.editableData=on(document.getElementById("spreadsheet"),{data:this.dumData,columns:this.column,tableHeight:"900px",tableWidth:"100%",tableOverflow:!0,allowInsertRow:!1,allowInsertColumn:!1,allowManualInsertRow:!1,allowManualInsertColumn:!1,allowDeleteColumn:!1,allowcopy:!1,allowDeleteRow:!1,defaultColWidth:[200],about:!1,onchange:function(l,e,t,o,u){isNaN(+u)&&n.dataService.showToastMessage("value cannot be text","error"),n.submitExcelData.emit([n.editableData.getData(),n.column])}}),this.submitExcelData.emit([this.editableData.getData(),this.column])},l}(),$o=t.zb({encapsulation:0,styles:[[".readOnly[_ngcontent-%COMP%]{color:#000}  .jexcel tbody tr td.readonly{color:gray!important}.nodata[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:600;font-size:18px}"]],data:{}});function Ko(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"div",[["class","nodata"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["No Data to Display"]))],null,null)}function Jo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,0,"div",[["class","sample w-100 h-100"],["id","spreadsheet"],["style","overflow: auto; background-color: black"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ko)),t.Ab(2,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,!n.component.editableData)},null)}var Zo=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.evaporationList=[],this.evaporationListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.issaveOn=!1,this.isEditable=!1,this.dumData=[],this.entityNameID="",this.editableData=void 0,this.editdata=[],this.column=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.evaporationListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.evaporationList=e}}return l.prototype.ngOnInit=function(){this.retrieveEvaporationList()},l.prototype.ngOnChanges=function(l){this.showTable=!1,l.year.firstChange||(this.year=l.year.currentValue,this.retrieveEvaporationList())},l.prototype.retrieveEvaporationList=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_EVAPORATION_BUSINESS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.evaporationList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_EVAPORATION_BUSINESS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.evaporationListFormArray.length>0)for(;0!==this.evaporationListFormArray.length;)this.evaporationListFormArray.removeAt(0);this.evaporationList.forEach(function(n,e){for(var t=l.getEvaporationListFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.evaporationListFormArray.push(t)})},l.prototype.getEvaporationListFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.evaporationListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.evaporationList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_EVAPORATION_DATA);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Evaporation Data Cleared Successfully","success"),e.evaporationList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Evaporation Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.evaporationListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.evaporationListFormArray)},l.prototype.downloadEvaporationList=function(l){var n;"bulk"!=l&&(n=this.evaporationList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_EVAPORATION_BUSINESS);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadEvaporationList=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.EVAPORATION_BUSINESS_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),e.evaporationList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Evaporation Data","error"),e.evaporationList=l,e.evaporationListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0}),this.dataService.showToastMessage("Failed to Save Evaporation Data","error")},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveEvaporationList=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_EVAPORATION_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.evaporationList.length;r++)this.evaporationList[r].dataSource=this.evaporationListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_EVAPORATION_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.evaporationList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.evaporationList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.evaporationList=n,l.evaporationListFormArray.setValue(n))})}},l}(),Xo=t.zb({encapsulation:0,styles:[[""]],data:{}});function Qo(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadEvaporationList(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 "]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function lu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function nu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function eu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.evaporationListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function tu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,eu)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.evaporationList)},null)}function ou(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),t.Qb(402653184,1,{sheet:0}),(l()(),t.Bb(2,0,null,null,26,"div",[["class","mb-4 border-0 overflow-hidden p-0 clearfix"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(4,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(5,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(6,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(7,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(8,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,10)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,10).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,10)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,10)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(10,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(12,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(14,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(15,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Qo)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,lu)),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEvaporationList()&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,nu)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,tu)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,4,0,"carryOverStorage",!e.showTable),l(n,12,0,e.searchText),l(n,20,0,!e.isEditOn,t.Lb(n,21)),l(n,26,0,e.isEditOn),l(n,28,0,!e.isEditOn)},function(l,n){l(n,9,0,t.Lb(n,14).ngClassUntouched,t.Lb(n,14).ngClassTouched,t.Lb(n,14).ngClassPristine,t.Lb(n,14).ngClassDirty,t.Lb(n,14).ngClassValid,t.Lb(n,14).ngClassInvalid,t.Lb(n,14).ngClassPending)})}var uu=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.storageLossList=[],this.storageLossListFormArray=new r.e([]),this.showTable=!1,this.isEditable=!1,this.isEditOn=!1,this.editdata=[],this.column=[],this.editableData=void 0,this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.storageLossListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.storageLossList=e}}return l.prototype.ngOnInit=function(){this.retrieveStorageLossList()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveStorageLossList()},l.prototype.retrieveStorageLossList=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_STORAGE_LOSS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.storageLossList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;if(this.storageLossListFormArray.length>0)for(;0!==this.storageLossListFormArray.length;)this.storageLossListFormArray.removeAt(0);this.storageLossList.forEach(function(n,e){for(var t=l.getStorageLossListFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.storageLossListFormArray.push(t)})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_STORAGE_LOSS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){console.log(l),this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.getStorageLossListFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.storageLossListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.storageLossList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_STORAGE_LOSS);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Storage Loss Data Cleared Successfully","success"),e.storageLossList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Storage Loss Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.storageLossListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.storageLossListFormArray)},l.prototype.downloadStorageLossList=function(l){var n;"bulk"!=l&&(n=this.storageLossList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_STORAGE_LOSS);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadStorageLossList=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.STORAGE_LOSS_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Storage Loss Data Saved Successfully","success"),e.storageLossList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Storage Loss Data","error"),e.storageLossList=l,e.storageLossListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveStorageLossList=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_STORAGE_LOSS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.storageLossList.length;r++)this.storageLossList[r].dataSource=this.storageLossListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_STORAGE_LOSS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.storageLossList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.storageLossList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.storageLossList=n,l.storageLossListFormArray.setValue(n))})}},l}(),ru=t.zb({encapsulation:0,styles:[[".btn[_ngcontent-%COMP%]:not(.btn-sm):not(.btn-lg){font-size:.75rem;line-height:1rem;padding:.5rem 1rem}.buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function au(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadStorageLossList(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"button",[["class","btn btn-outline-active btn-outline-secondary ml-2 mb-0"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadStorageLossList("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 "]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function iu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","icon tnw-close mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function su(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function cu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadStorageLossList(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.storageLossListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function du(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,cu)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.storageLossList)},null)}function pu(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,27,"div",[["class","card-modal-details card shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,20,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3 mb-0"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,12,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,13)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,13)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,13)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(13,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(15,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,6,"div",[["class","buttons mt-2 mt-lg-0 flex-wrap d-flex"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,au)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,iu)),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2 btn-flex"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveStorageLossList()&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,su)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,du)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,15,0,e.searchText),l(n,20,0,!e.isEditOn,t.Lb(n,21)),l(n,26,0,e.isEditOn),l(n,28,0,!e.isEditOn)},function(l,n){l(n,12,0,t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending)})}var bu=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.storageLossActualList=[],this.storageLossActualListFormArray=new r.e([]),this.showTable=!1,this.isEditable=!1,this.isEditOn=!1,this.editdata=[],this.column=[],this.editableData=void 0,this.filterRecords=function(){var l=!1,n=["nodeDisplayName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.storageLossActualListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.storageLossActualList=e}}return l.prototype.ngOnInit=function(){this.retrievestorageLossActualList()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrievestorageLossActualList()},l.prototype.retrievestorageLossActualList=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_STORAGE_LOSS_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.storageLossActualList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;if(this.storageLossActualListFormArray.length>0)for(;0!==this.storageLossActualListFormArray.length;)this.storageLossActualListFormArray.removeAt(0);this.storageLossActualList.forEach(function(n,e){for(var t=l.getstorageLossActualListFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.storageLossActualListFormArray.push(t)})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_STORAGE_LOSS_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){console.log(l),this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.getstorageLossActualListFormGroup=function(){return new r.j({nodeDisplayName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.storageLossActualListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.storageLossActualList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_STORAGE_LOSS_ACTUAL);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Storage Loss Actual Data Cleared Successfully","success"),e.storageLossActualList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Storage Loss Actual Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.storageLossActualListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.storageLossActualListFormArray)},l.prototype.downloadstorageLossActualList=function(l){var n;"bulk"!=l&&(n=this.storageLossActualList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_STORAGE_LOSS_ACTUAL);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadstorageLossActualList=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.STORAGE_LOSS_ACTUAL_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Storage Loss Actual Data Saved Successfully","success"),e.storageLossActualList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Storage Loss Actual Data","error"),e.storageLossActualList=l,e.storageLossActualListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.savestorageLossActualList=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_STORAGE_LOSS_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Storage Loss Actual Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Storage Loss Actual Data","error")}))}else{for(var r=0;r<this.storageLossActualList.length;r++)this.storageLossActualList[r].dataSource=this.storageLossActualListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_STORAGE_LOSS_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.storageLossActualList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Storage Loss Actual Data Saved Successfully","success"),l.storageLossActualList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Storage Loss Actual Data","error"),l.storageLossActualList=n,l.storageLossActualListFormArray.setValue(n))})}},l}(),gu=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function mu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadstorageLossActualList(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mb-0"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadstorageLossActualList("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 "]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function hu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function fu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function vu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadstorageLossActualList(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.storageLossActualListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeDisplayName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function Au(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,vu)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.storageLossActualList)},null)}function Cu(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,28,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,21,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,13,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,11,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,10,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,6,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,14)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,14).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,14)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,14)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(14,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(16,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(18,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(19,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,mu)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,hu)),(l()(),t.Bb(23,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savestorageLossActualList()&&t),t},null,null)),(l()(),t.Bb(24,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,fu)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Au)),t.Ab(29,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,16,0,e.searchText),l(n,21,0,!e.isEditOn,t.Lb(n,22)),l(n,27,0,e.isEditOn),l(n,29,0,!e.isEditOn)},function(l,n){l(n,13,0,t.Lb(n,18).ngClassUntouched,t.Lb(n,18).ngClassTouched,t.Lb(n,18).ngClassPristine,t.Lb(n,18).ngClassDirty,t.Lb(n,18).ngClassValid,t.Lb(n,18).ngClassInvalid,t.Lb(n,18).ngClassPending)})}var Iu=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.editableData=void 0,this.evaporationList=[],this.evaporationListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.editdata=[],this.column=[],this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.evaporationListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.evaporationList=e}}return l.prototype.ngOnInit=function(){this.retrieveEvaporationList()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveEvaporationList()},l.prototype.switchEditMode=function(l){this.isEditing=!0,this.enableEditIndex=l},l.prototype.retrieveEvaporationList=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_EVAPO_LOSS_PROPORTION_BUSINESS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.evaporationList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_EVAPO_LOSS_PROPORTION);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.evaporationListFormArray.length>0)for(;0!==this.evaporationListFormArray.length;)this.evaporationListFormArray.removeAt(0);this.evaporationList.forEach(function(n,e){for(var t=l.getEvaporationListFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.evaporationListFormArray.push(t)})},l.prototype.getEvaporationListFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.evaporationListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.evaporationList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_ALL_EVAPO_LOSS_PROPORTION_BUSINESS);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Evaporation Loss Proportion Cleared Successfully","success"),e.evaporationList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Evaporation Loss Proportion","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.evaporationListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.evaporationListFormArray)},l.prototype.downloadEvaporationList=function(l){var n;"bulk"!=l&&(n=this.evaporationList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_EVAPO_LOSS_PROPORTION_BUSINESS);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadEvaporationList=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.EVAPO_LOSS_PROPORTION_BUSINESS_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Evaporation Loss Proportion Saved Successfully","success"),e.evaporationList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Evaporation Loss Proportion","error"),e.evaporationList=l,e.evaporationListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveEvaporationList=function(){var l=this,n=!1;if(this.isEditOn){console.log("data",this.editableData);var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_EVAPO_LOSS_PROPORTION_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.evaporationList.length;r++)this.evaporationList[r].dataSource=this.evaporationListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_EVAPO_LOSS_PROPORTION_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.evaporationList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.evaporationList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.evaporationList=n,l.evaporationListFormArray.setValue(n))})}},l}(),yu=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function wu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadEvaporationList(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function xu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Lu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function ju(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.evaporationListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function Eu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,ju)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.evaporationList)},null)}function Du(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,27,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,20,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,12,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["class","form-control text-left"],["placeholder","Search ..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,13)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,13)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,13)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(13,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(15,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,wu)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,xu)),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEvaporationList()&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","fas fa-save mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Lu)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Eu)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,15,0,e.searchText),l(n,20,0,!e.isEditOn,t.Lb(n,21)),l(n,26,0,e.isEditOn),l(n,28,0,!e.isEditOn)},function(l,n){l(n,12,0,t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending)})}var Su=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.editableData=void 0,this.virginInflows=[],this.virginInflowsFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.editdata=[],this.column=[],this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.virginInflowsFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.virginInflows=e}}return l.prototype.ngOnInit=function(){this.retrieveVirginInflows()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveVirginInflows()},l.prototype.retrieveVirginInflows=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_VIRGIN_INFLOW);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.virginInflows=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_VIRGIN_INFLOW);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.virginInflowsFormArray.length>0)for(;0!==this.virginInflowsFormArray.length;)this.virginInflowsFormArray.removeAt(0);this.virginInflows.forEach(function(n,e){for(var t=l.getVirginInflowsFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.virginInflowsFormArray.push(t)})},l.prototype.getVirginInflowsFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.virginInflowsFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.virginInflows[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_VIRGIN_INFLOW);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Virgin Inflows Forecast Data Cleared Successfully","success"),e.virginInflows=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Virgin Inflows Forecast Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.virginInflowsFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.virginInflowsFormArray)},l.prototype.downloadVirginInflows=function(l){var n;"bulk"!=l&&(n=this.virginInflows[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_VIRGIN_INFLOW);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllVirginInflows=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_VIRGIN_INFLOW);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadVirginInflows=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.VIRGIN_INFLOW_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Virgin Inflows Forecast Data Saved Successfully","success"),e.virginInflows=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Virgin Inflows Forecast Data","error"),e.virginInflows=l,e.virginInflowsFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveVirginInflows=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_VIRGIN_INFLOW)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.virginInflows.length;r++)this.virginInflows[r].dataSource=this.virginInflowsFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_VIRGIN_INFLOW)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.virginInflows,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.virginInflows=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.virginInflows=n,l.virginInflowsFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})}},l}(),Nu=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function Tu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadVirginInflows(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadVirginInflows("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function Fu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Bu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function Ou(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-darkblue ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadVirginInflows(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.virginInflowsFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function Uu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ou)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.virginInflows)},null)}function Mu(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,28,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,21,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,13,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,11,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,10,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,6,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,14)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,14).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,14)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,14)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(14,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(16,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(18,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(19,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Tu)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,Fu)),(l()(),t.Bb(23,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveVirginInflows()&&t),t},null,null)),(l()(),t.Bb(24,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Bu)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Uu)),t.Ab(29,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,16,0,e.searchText),l(n,21,0,!e.isEditOn,t.Lb(n,22)),l(n,27,0,e.isEditOn),l(n,29,0,!e.isEditOn)},function(l,n){l(n,13,0,t.Lb(n,18).ngClassUntouched,t.Lb(n,18).ngClassTouched,t.Lb(n,18).ngClassPristine,t.Lb(n,18).ngClassDirty,t.Lb(n,18).ngClassValid,t.Lb(n,18).ngClassInvalid,t.Lb(n,18).ngClassPending)})}var ku=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.editableData=void 0,this.editdata=[],this.column=[],this.virginInflows=[],this.virginInflowsFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.virginInflowsFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.virginInflows=e}}return l.prototype.ngOnInit=function(){this.retrieveVirginInflows()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveVirginInflows()},l.prototype.retrieveVirginInflows=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_VIRGIN_INFLOW_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.virginInflows=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_INFLOW_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.virginInflowsFormArray.length>0)for(;0!==this.virginInflowsFormArray.length;)this.virginInflowsFormArray.removeAt(0);this.virginInflows.forEach(function(n,e){for(var t=l.getVirginInflowsFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.virginInflowsFormArray.push(t)})},l.prototype.getVirginInflowsFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.virginInflowsFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.virginInflows[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_ALL_VIRGIN_INFLOW_ACTUAL);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Virgin Inflows Actual Data Cleared Successfully","success"),e.virginInflows=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Virgin Inflows Actual Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.virginInflowsFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.virginInflowsFormArray)},l.prototype.downloadVirginInflows=function(l){var n;"bulk"!=l&&(n=this.virginInflows[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_VIRGIN_INFLOW_ACTUAL);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllVirginInflows=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_VIRGIN_INFLOW_ACTUAL);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadVirginInflows=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.VIRGIN_INFLOW_ACTUAL_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Virgin Inflows Actual Data Saved Successfully","success"),e.virginInflows=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Virgin Inflows Actual Data","error"),e.virginInflows=l,e.virginInflowsFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveVirginInflows=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error Null"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_VIRGIN_INFLOW_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.virginInflows.length;r++)this.virginInflows[r].dataSource=this.virginInflowsFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_VIRGIN_INFLOW_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.virginInflows,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.virginInflows=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.virginInflows=n,l.virginInflowsFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})}},l}(),Pu=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ru(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadVirginInflows(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","fas fa-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadVirginInflows("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","fas fa-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","fas fa-broom mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","fas fa-edit mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function _u(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Vu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function zu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadVirginInflows(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","fas fa-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","fas fa-broom"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.virginInflowsFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function Hu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,zu)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.virginInflows)},null)}function Yu(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,26,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ru)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,_u)),(l()(),t.Bb(21,0,null,null,2,"button",[["class","btn btn-outline-success ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveVirginInflows()&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","fas fa-save mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Vu)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Hu)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,19,0,!e.isEditOn,t.Lb(n,20)),l(n,25,0,e.isEditOn),l(n,27,0,!e.isEditOn)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var Gu=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.editdata=[],this.column=[],this.editableData=void 0,this.irrigationDemandList=[],this.irrigationDemandListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.irrigationDemandListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.irrigationDemandList=e}}return l.prototype.ngOnInit=function(){this.retrieveIrrigationDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveIrrigationDemand()},l.prototype.retrieveIrrigationDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_IRRIGATION_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.irrigationDemandList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_IRRIGATION_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.irrigationDemandListFormArray.length>0)for(;0!==this.irrigationDemandListFormArray.length;)this.irrigationDemandListFormArray.removeAt(0);this.irrigationDemandList.forEach(function(n,e){for(var t=l.getIrrigationDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.irrigationDemandListFormArray.push(t)})},l.prototype.getIrrigationDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.irrigationDemandListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.irrigationDemandList[l].componentUUID);var t=this.dataService.deepClone(v.a.CLEAR_ALL_IRRIGATION_DEMAND);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Utilization Demand Cleared Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Utilization Demand","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.irrigationDemandListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1})},l.prototype.downloadIrrigationDemand=function(l){var n;"bulk"!=l&&(n=this.irrigationDemandList[l].componentUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_IRRIGATION_DEMAND);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.downloadAllIrrigationDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_IRRIGATION_DEMAND);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadIrrigationDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.IRRIGATION_DEMAND_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Utilization Demand Saved Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Utilization Demand","error"),e.irrigationDemandList=l,e.irrigationDemandListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveIrrigationDemand=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?("NaN"==e[r]&&(e[r]=""),isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_IRRIGATION_DEMAND)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.irrigationDemandList.length;r++)this.irrigationDemandList[r].dataSource=this.irrigationDemandListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_IRRIGATION_DEMAND)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.irrigationDemandList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.irrigationDemandList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.irrigationDemandList=n,l.irrigationDemandListFormArray.setValue(n))})}},l}(),qu=t.zb({encapsulation:0,styles:[[".buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}"]],data:{}});function Wu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadIrrigationDemand(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mb-0"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function $u(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Ku(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function Ju(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,40,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize text-nowrap"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-secondary ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.irrigationDemandListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize text-nowrap",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,n.context.$implicit.componentDisplayName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Zu(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(16,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Ju)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,18,0,n.component.irrigationDemandList)},null)}function Xu(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,27,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,20,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,12,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,10,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,9,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,13)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,13)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,13)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(13,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(15,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Wu)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,$u)),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveIrrigationDemand()&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Ku)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Zu)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,15,0,e.searchText),l(n,20,0,!e.isEditOn,t.Lb(n,21)),l(n,26,0,e.isEditOn),l(n,28,0,!e.isEditOn)},function(l,n){l(n,12,0,t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending)})}var Qu=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.editdata=[],this.column=[],this.editableData=void 0,this.irrigationDemandList=[],this.irrigationDemandListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.irrigationDemandListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.irrigationDemandList=e}}return l.prototype.ngOnInit=function(){this.retrieveIrrigationDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveIrrigationDemand()},l.prototype.retrieveIrrigationDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_IRRIGATION_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.irrigationDemandList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_IRRIGATION_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.irrigationDemandListFormArray.length>0)for(;0!==this.irrigationDemandListFormArray.length;)this.irrigationDemandListFormArray.removeAt(0);this.irrigationDemandList.forEach(function(n,e){for(var t=l.getIrrigationDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.irrigationDemandListFormArray.push(t)})},l.prototype.getIrrigationDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.irrigationDemandListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.irrigationDemandList[l].componentUUID);var t=this.dataService.deepClone(v.a.CLEAR_IRRIGATION_ACTUAL);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Utilization Actual Cleared Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Utilization Actual","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.irrigationDemandListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.irrigationDemandListFormArray)},l.prototype.downloadIrrigationDemand=function(l){var n;"bulk"!=l&&(n=this.irrigationDemandList[l].componentUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_IRRIGATION_ACTUAL);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllIrrigationDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_IRRIGATION_ACTUAL);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadIrrigationDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.IRRIGATION_ACTUAL_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Utilization Actual Saved Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Utilization Actual","error"),e.irrigationDemandList=l,e.irrigationDemandListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveIrrigationDemand=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_IRRIGATION_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.irrigationDemandList.length;r++)this.irrigationDemandList[r].dataSource=this.irrigationDemandListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_IRRIGATION_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.irrigationDemandList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.irrigationDemandList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.irrigationDemandList=n,l.irrigationDemandListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})}},l}(),lr=t.zb({encapsulation:0,styles:[[""]],data:{}});function nr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadIrrigationDemand(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function er(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function tr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function or(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,40,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.irrigationDemandListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,n.context.$implicit.componentDisplayName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function ur(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(16,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,or)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,18,0,n.component.irrigationDemandList)},null)}function rr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,26,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,nr)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,er)),(l()(),t.Bb(21,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveIrrigationDemand()&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,tr)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ur)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,19,0,!e.isEditOn,t.Lb(n,20)),l(n,25,0,e.isEditOn),l(n,27,0,!e.isEditOn)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var ar=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.editableData=void 0,this.editdata=[],this.column=[],this.evaporationList=[],this.evaporationListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.evaporationListFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.evaporationList=e}}return l.prototype.ngOnInit=function(){this.retrieveEvaporationList()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveEvaporationList()},l.prototype.retrieveEvaporationList=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_ACTUAL_STORAGE_BUSINESS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.httpService.placeAPICall(n).subscribe(function(n){l.evaporationList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_STORAGE_BUSINESS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.evaporationListFormArray.length>0)for(;0!==this.evaporationListFormArray.length;)this.evaporationListFormArray.removeAt(0);this.evaporationList.forEach(function(n,e){for(var t=l.getEvaporationListFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.evaporationListFormArray.push(t)})},l.prototype.getEvaporationListFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.evaporationListFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.evaporationList[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_ALL_ACTUAL_STORAGE_BUSINESS);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Actual Storage Data Cleared Successfully","success"),e.evaporationList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Actual Storage Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.evaporationListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.evaporationListFormArray)},l.prototype.downloadEvaporationList=function(l){var n;"bulk"!=l&&(n=this.evaporationList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_ACTUAL_STORAGE_BUSINESS);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition").split('filename="')[1].split('"')[0],e=new Blob([l.body],{type:l.body.type});Il.saveAs(e,n)})},l.prototype.bulkUploadEvaporationList=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.ACTUAL_STORAGE_BUSINESS_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Actual Storage Data Saved Successfully","success"),e.evaporationList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Actual Storage Data","error"),e.evaporationList=l,e.evaporationListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveEvaporationList=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_ACTUAL_STORAGE_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.evaporationList.length;r++)this.evaporationList[r].dataSource=this.evaporationListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_ACTUAL_STORAGE_BUSINESS)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.evaporationList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.evaporationList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.evaporationList=n,l.evaporationListFormArray.setValue(n))})}},l}(),ir=t.zb({encapsulation:0,styles:[[""]],data:{}});function sr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadEvaporationList(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function cr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function dr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function pr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEvaporationList(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.evaporationListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function br(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Reservoir"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,pr)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.evaporationList)},null)}function gr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,26,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,sr)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,cr)),(l()(),t.Bb(21,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEvaporationList()&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,dr)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,br)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,19,0,!e.isEditOn,t.Lb(n,20)),l(n,25,0,e.isEditOn),l(n,27,0,!e.isEditOn)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var mr=function(){function l(l,n,e,t){var o=this;this.dataService=l,this.httpService=n,this.cd=e,this.utilService=t,this.editableData=void 0,this.editdata=[],this.column=[],this.environmentalDemand=[],this.environmentalDemandFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];o.searchTextHolder=o.searchText.toLowerCase().trim();var e=[],t=o.dataService.deepClone(o.environmentalDemandFormArray.getRawValue());Object(Al.d)(o.searchTextHolder)?e=t:t.forEach(function(t){for(var u=!1,r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(o.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),o.environmentalDemand=e}}return l.prototype.ngOnInit=function(){this.retrieveEnvironmentalDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveEnvironmentalDemand()},l.prototype.retrieveEnvironmentalDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_ENVIRONMENTAL_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.environmentalDemand=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_ENVIRONMENTAL_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.environmentalDemandFormArray.length>0)for(;0!==this.environmentalDemandFormArray.length;)this.environmentalDemandFormArray.removeAt(0);this.environmentalDemand.forEach(function(n,e){for(var t=l.getEnvironmentalDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.environmentalDemandFormArray.push(t)})},l.prototype.getEnvironmentalDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.environmentalDemandFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.environmentalDemand[l].componentUUID);var t=this.dataService.deepClone(v.a.CLEAR_ALL_ENVIRONMENTAL_DEMAND);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Environmental Demand Cleared Successfully","success"),e.environmentalDemand=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Environmental Demand","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.environmentalDemandFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.environmentalDemandFormArray)},l.prototype.downloadEnvironmentalDemand=function(l){var n;"bulk"!=l&&(n=this.environmentalDemand[l].componentUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_ENVIRONMENTAL_DEMAND);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadEnvironmentalDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.ENVIRONMENTAL_DEMAND_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Environmental Demand Saved Successfully","success"),e.environmentalDemand=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Environmental Demand","error"),e.environmentalDemand=l,e.environmentalDemandFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveEnvironmentalDemand=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_ENVIRONMENTAL_DEMAND)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.environmentalDemand.length;r++)this.environmentalDemand[r].dataSource=this.environmentalDemandFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_ENVIRONMENTAL_DEMAND)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.environmentalDemand,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.environmentalDemand=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.environmentalDemand=n,l.environmentalDemandFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})}},l}(),hr=t.zb({encapsulation:0,styles:[[".search_matched[_ngcontent-%COMP%]{background-color:#66bb6a}.search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search_matched[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .search_matched[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff}.search_matched[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{background-color:#ef5350}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not([disabled]), .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .form-control[disabled][_ngcontent-%COMP%]{background-color:#ef5350;color:#fff}.error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%], .error-body[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}"]],data:{}});function fr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadEnvironmentalDemand(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEnvironmentalDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function vr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Ar(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function Cr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,40,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadEnvironmentalDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.environmentalDemandFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,n.context.$implicit.componentDisplayName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent.parent.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Ir(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Cr)),t.Ab(2,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.environmentalDemand)},null)}function yr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,17,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,16,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.sb(16777216,null,null,1,null,Ir)),t.Ab(17,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,17,0,n.component.showTable)},null)}function wr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,28,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,21,"div",[["class","table-toolbar d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,13,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,11,"div",[["class","filter"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,10,"div",[["class","start"]],null,null,null,null,null)),(l()(),t.Bb(9,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,1,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(11,0,null,null,0,"i",[["class","bi bi-search"]],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,6,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(13,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control text-left ng-pristine ng-valid ng-touched"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,14)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,14).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,14)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,14)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(14,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(16,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(18,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(19,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,fr)),t.Ab(21,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,vr)),(l()(),t.Bb(23,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveEnvironmentalDemand()&&t),t},null,null)),(l()(),t.Bb(24,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Ar)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,yr)),t.Ab(29,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,16,0,e.searchText),l(n,21,0,!e.isEditOn,t.Lb(n,22)),l(n,27,0,e.isEditOn),l(n,29,0,!e.isEditOn)},function(l,n){l(n,13,0,t.Lb(n,18).ngClassUntouched,t.Lb(n,18).ngClassTouched,t.Lb(n,18).ngClassPristine,t.Lb(n,18).ngClassDirty,t.Lb(n,18).ngClassValid,t.Lb(n,18).ngClassInvalid,t.Lb(n,18).ngClassPending)})}var xr=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.outflowsList=[],this.outflowsListFormArray=new r.e([]),this.showTable=!1,this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.outflowsListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.outflowsList=e}}return l.prototype.ngOnInit=function(){this.retrieveOutflows()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveOutflows()},l.prototype.retrieveOutflows=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_OUTFLOWS);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.httpService.placeAPICall(n).subscribe(function(n){l.outflowsList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.outflowsList.forEach(function(n,e){for(var t=l.getOutflowsFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.outflowsListFormArray.push(t)})},l.prototype.getOutflowsFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.outflowsListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n=this;"all"===l?this.outflowsList.forEach(function(l,e){n.clearFileWithIndex(e)}):this.clearFileWithIndex(l)},l.prototype.onFileUpload=function(l,n){new FileReader,this.outflowsListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.outflowsListFormArray)},l.prototype.downloadOutflows=function(l){var n;"bulk"!=l&&(n=this.outflowsList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_OUTFLOWS);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllOutflows=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_OUTFLOWS);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadOutflows=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.OUTFLOWS_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Outflows Saved Successfully","success"),e.retrieveOutflows()):(e.dataService.showToastMessage("Failed to Save Outflows","error"),e.outflowsList=l,e.outflowsListFormArray.setValue(l)),e.clearBulkUploadFile()},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveOutflows=function(){var l=this,n=this.dataService.deepClone(v.a.SAVE_OUTFLOWS);n.postData.modelUUID=this.modelId,n.postData.data=this.outflowsListFormArray.getRawValue(),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.dataService.showToastMessage("Outflows Saved Successfully","success"),l.retrieveOutflows()):(l.dataService.showToastMessage("Failed to Save Outflows","error"),l.outflowsList=n,l.outflowsListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})},l}(),Lr=t.zb({encapsulation:0,styles:[[""]],data:{}});function jr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["disabled",""],["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadOutflows(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.outflowsListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeName),l(n,10,0,n.context.$implicit.componentName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Er(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,48,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,26,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadOutflows(e)&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,2,"label",[["class","btn btn-outline-active btn-outline-secondary ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadOutflows("bulk")&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveOutflows()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(47,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,jr)),t.Ab(49,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,49,0,e.outflowsList)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var Dr=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.domesticBusinessList=[],this.domesticBusinessListFormArray=new r.e([]),this.showTable=!1,this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.domesticBusinessListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.domesticBusinessList=e}}return l.prototype.ngOnInit=function(){this.retrieveDomesticDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveDomesticDemand()},l.prototype.retrieveDomesticDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_DOMESTIC_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.httpService.placeAPICall(n).subscribe(function(n){l.domesticBusinessList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.domesticBusinessList.forEach(function(n,e){for(var t=l.getDomesticDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.domesticBusinessListFormArray.push(t)})},l.prototype.getDomesticDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.domesticBusinessListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n=this;"all"===l?this.domesticBusinessList.forEach(function(l,e){n.clearFileWithIndex(e)}):this.clearFileWithIndex(l)},l.prototype.onFileUpload=function(l,n){new FileReader,this.domesticBusinessListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.domesticBusinessListFormArray)},l.prototype.downloadDomesticDemand=function(l){var n;"bulk"!=l&&(n=this.domesticBusinessList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_DOMESTIC_DEMAND);e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllDomesticDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_DOMESTIC_DEMAND);l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadDomesticDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.DOMESTIC_DEMAND_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Domestic Demand Saved Successfully","success"),e.retrieveDomesticDemand()):(e.dataService.showToastMessage("Failed to Save Domestic Demand","error"),e.domesticBusinessList=l,e.domesticBusinessListFormArray.setValue(l)),e.clearBulkUploadFile()},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveDomesticDemand=function(){var l=this,n=this.dataService.deepClone(v.a.SAVE_DOMESTIC_DEMAND);n.postData.modelUUID=this.modelId,n.postData.data=this.domesticBusinessListFormArray.getRawValue(),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.dataService.showToastMessage("Domestic Demand Saved Successfully","success"),l.retrieveDomesticDemand()):(l.dataService.showToastMessage("Failed to Save Domestic Demand","error"),l.domesticBusinessList=n,l.domesticBusinessListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})},l}(),Sr=t.zb({encapsulation:0,styles:[[""]],data:{}});function Nr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["disabled",""],["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadDomesticDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.domesticBusinessListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeName),l(n,10,0,n.context.$implicit.componentName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Tr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,48,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,26,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadDomesticDemand(e)&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadDomesticDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveDomesticDemand()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,18,"div",[["class","table-responsive  p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(47,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Nr)),t.Ab(49,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,49,0,e.domesticBusinessList)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var Fr=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.industrialDemandList=[],this.industrialDemandListFormArray=new r.e([]),this.showTable=!1,this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.industrialDemandListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.industrialDemandList=e}}return l.prototype.ngOnInit=function(){this.retrieveIndustrialDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveIndustrialDemand()},l.prototype.retrieveIndustrialDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_INDUSTRIAL_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.httpService.placeAPICall(n).subscribe(function(n){l.industrialDemandList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.industrialDemandList.forEach(function(n,e){for(var t=l.getIndustrialDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.industrialDemandListFormArray.push(t)})},l.prototype.getIndustrialDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.industrialDemandListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n=this;"all"===l?this.industrialDemandList.forEach(function(l,e){n.clearFileWithIndex(e)}):this.clearFileWithIndex(l)},l.prototype.onFileUpload=function(l,n){new FileReader,this.industrialDemandListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.industrialDemandListFormArray)},l.prototype.downloadIndustrialDemand=function(l){var n;"bulk"!=l&&(n=this.industrialDemandList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_INDUSTRIAL_DEMAND);e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllIndustrialDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_INDUSTRIAL_DEMAND);l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadIndustrialDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.INDUSTRIAL_DEMAND_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Industrial Demand Saved Successfully","success"),e.retrieveIndustrialDemand()):(e.dataService.showToastMessage("Failed to Save Industrial Demand","error"),e.industrialDemandList=l,e.industrialDemandListFormArray.setValue(l)),e.clearBulkUploadFile()},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveIndustrialDemand=function(){var l=this,n=this.dataService.deepClone(v.a.SAVE_INDUSTRIAL_DEMAND);n.postData.modelUUID=this.modelId,n.postData.year=this.year,n.postData.data=this.industrialDemandListFormArray.getRawValue(),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.dataService.showToastMessage("Industrial Demand Saved Successfully","success"),l.retrieveIndustrialDemand()):(l.dataService.showToastMessage("Failed to Save Industrial Demand","error"),l.industrialDemandList=n,l.industrialDemandListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})},l}(),Br=t.zb({encapsulation:0,styles:[[""]],data:{}});function Or(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["disabled",""],["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIndustrialDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.industrialDemandListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeName),l(n,10,0,n.context.$implicit.componentName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Ur(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,48,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,26,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadIndustrialDemand(e)&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIndustrialDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveIndustrialDemand()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(47,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Or)),t.Ab(49,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,49,0,e.industrialDemandList)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var Mr=function(){function l(l,n,e,t){var o=this;this.dataService=l,this.httpService=n,this.cd=e,this.utilService=t,this.hydropowerDemandList=[],this.hydropowerDemandListFormArray=new r.e([]),this.showTable=!1,this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];o.searchTextHolder=o.searchText.toLowerCase().trim();var e=[],t=o.dataService.deepClone(o.hydropowerDemandListFormArray.getRawValue());Object(Al.d)(o.searchTextHolder)?e=t:t.forEach(function(t){for(var u=!1,r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(o.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),o.hydropowerDemandList=e}}return l.prototype.ngOnInit=function(){this.retrieveHydropowerDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveHydropowerDemand()},l.prototype.retrieveHydropowerDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_HYDROPOWER_DEMAND);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.httpService.placeAPICall(n).subscribe(function(n){l.hydropowerDemandList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;this.hydropowerDemandList.forEach(function(n,e){for(var t=l.getHydropowerDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.hydropowerDemandListFormArray.push(t)})},l.prototype.getHydropowerDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.hydropowerDemandListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n=this;"all"===l?this.hydropowerDemandList.forEach(function(l,e){n.clearFileWithIndex(e)}):this.clearFileWithIndex(l)},l.prototype.onFileUpload=function(l,n){new FileReader,this.hydropowerDemandListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.hydropowerDemandListFormArray)},l.prototype.downloadHydropowerDemand=function(l){var n;"bulk"!=l&&(n=this.hydropowerDemandList[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_HYDROPOWER_DEMAND);e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllHydropowerDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_HYDROPOWER_DEMAND);l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadHydropowerDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.HYDROPOWER_DEMAND_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.inputFile=n,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Industrial Demand Saved Successfully","success"),e.retrieveHydropowerDemand()):(e.dataService.showToastMessage("Failed to Save Industrial Demand","error"),e.hydropowerDemandList=l,e.hydropowerDemandListFormArray.setValue(l)),e.clearBulkUploadFile()},function(l){e.clearBulkUploadFile()})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveHydropowerDemand=function(){var l=this,n=this.dataService.deepClone(v.a.SAVE_HYDROPOWER_DEMAND);n.postData.modelUUID=this.modelId,n.postData.data=this.hydropowerDemandListFormArray.getRawValue(),this.httpService.placeAPICall(n).subscribe(function(n){n?(l.dataService.showToastMessage("Industrial Demand Saved Successfully","success"),l.retrieveHydropowerDemand()):(l.dataService.showToastMessage("Failed to Save Industrial Demand","error"),l.hydropowerDemandList=n,l.hydropowerDemandListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})},l}(),kr=t.zb({encapsulation:0,styles:[[""]],data:{}});function Pr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["disabled",""],["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,2,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadHydropowerDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.hydropowerDemandListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeName),l(n,10,0,n.context.$implicit.componentName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function Rr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,48,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,26,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,13,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(18,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadHydropowerDemand(e)&&t),t},null,null)),(l()(),t.Bb(19,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(20,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(22,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadHydropowerDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(23,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(25,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(26,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(28,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"],["disabled",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveHydropowerDemand()&&t),t},null,null)),(l()(),t.Bb(29,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.Bb(31,0,null,null,18,"div",[["class","table-responsive"],["style","max-height:600px"],["tableHeaderFixer",""]],null,null,null,null,null)),(l()(),t.Bb(32,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(34,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(41,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(47,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Pr)),t.Ab(49,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,49,0,e.hydropowerDemandList)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var _r=function(){function l(l,n,e,t,o,u){var a=this;this.modelService=l,this.dataService=n,this.httpService=e,this.exportExcelService=t,this.cd=o,this.utilService=u,this.editableData=void 0,this.editdata=[],this.column=[],this.irrigationDemandList=[],this.irrigationDemandListFormArray=new r.e([]),this.showTable=!1,this.isEditOn=!1,this.isEditable=!1,this.isEditing=!1,this.enableEditIndex=null,this.dumData=[],this.filterRecords=function(){var l=!1,n=["nodeName","componentName","dataSource"];a.searchTextHolder=a.searchText.toLowerCase().trim();var e=[],t=a.dataService.deepClone(a.irrigationDemandListFormArray.getRawValue());Object(Al.d)(a.searchTextHolder)?e=t:t.forEach(function(t){for(var o=!1,u=0,r=Object.keys(t);u<r.length;u++){var i=r[u],s=t[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(a.searchTextHolder)||(o=!0)}o&&(!l&&document.getElementById(t.nodeUUID)&&(document.getElementById(t.nodeUUID),l=!0),t.isMatched=!0),e.push(t)}),a.irrigationDemandList=e}}return l.prototype.ngOnInit=function(){this.retrieveIrrigationDemand()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrieveIrrigationDemand()},l.prototype.retrieveIrrigationDemand=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_DOWNSTREAM_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.irrigationDemandList=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_BUSINESS_EDIT_ALL_DOWNSTREAM_ACTUAL);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.createFormArrays=function(){var l=this;if(this.irrigationDemandListFormArray.length>0)for(;0!==this.irrigationDemandListFormArray.length;)this.irrigationDemandListFormArray.removeAt(0);this.irrigationDemandList.forEach(function(n,e){for(var t=l.getIrrigationDemandFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.irrigationDemandListFormArray.push(t)})},l.prototype.getIrrigationDemandFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),componentName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.irrigationDemandListFormArray.get(l.toString()).patchValue({file:null});var n=document.getElementById("file"+l);Object(I.isNullOrUndefined)(n)||(n.value="")},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.irrigationDemandList[l].componentUUID);var t=this.dataService.deepClone(v.a.CLEAR_DOWNSTREAM_ACTUAL);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Downstream Actual Cleared Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Downstream Actual","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.irrigationDemandListFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.irrigationDemandListFormArray)},l.prototype.downloadIrrigationDemand=function(l){var n;"bulk"!=l&&(n=this.irrigationDemandList[l].componentUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_DOWNSTREAM_ACTUAL);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllIrrigationDemand=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_DOWNSTREAM_ACTUAL);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadIrrigationDemand=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.DOWNSTREAM_ACTUAL_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Downstream Actual Saved Successfully","success"),e.irrigationDemandList=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Downstream Actual","error"),e.irrigationDemandList=l,e.irrigationDemandListFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.saveIrrigationDemand=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_DOWNSTREAM_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.irrigationDemandList.length;r++)this.irrigationDemandList[r].dataSource=this.irrigationDemandListFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_DOWNSTREAM_ACTUAL)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.irrigationDemandList,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.irrigationDemandList=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.irrigationDemandList=n,l.irrigationDemandListFormArray.setValue(n)),l.clearBulkUploadFile()},function(n){l.clearBulkUploadFile()})}},l}(),Vr=t.zb({encapsulation:0,styles:[[""]],data:{}});function zr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadIrrigationDemand(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function Hr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Yr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function Gr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,43,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,40,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(10,null,[" "," "])),(l()(),t.Bb(11,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(12,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,13).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,13).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(13,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(15,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(17,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(18,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(19,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(20,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(22,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(23,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(24,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(26,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(27,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(28,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(29,{"text-success":0,"text-danger":1}),(l()(),t.Bb(30,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(31,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(32,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(33,null,[" ",""])),(l()(),t.Bb(34,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(35,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(36,null,[" "," "])),t.Ob(37,1),(l()(),t.Bb(38,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(39,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadIrrigationDemand(l.context.index)&&t),t},null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(42,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(43,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.irrigationDemandListFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,15,0,"dataSource"),l(n,19,0,"File Upload"),l(n,20,0,"File Upload"),l(n,23,0,"From Database"),l(n,24,0,"From Database");var u=l(n,29,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,28,0,"text-capitalize",u);var r=l(n,32,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,31,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,n.context.$implicit.componentDisplayName),l(n,12,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,17).ngClassUntouched,t.Lb(n,17).ngClassTouched,t.Lb(n,17).ngClassPristine,t.Lb(n,17).ngClassDirty,t.Lb(n,17).ngClassValid,t.Lb(n,17).ngClassInvalid,t.Lb(n,17).ngClassPending),l(n,33,0,n.context.$implicit.status);var e=t.Tb(n,36,0,l(n,37,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,36,0,e)})}function qr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,18,"div",[["class","table-responsive p-3"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,17,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,13,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Outflow Component"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(16,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Gr)),t.Ab(18,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,18,0,n.component.irrigationDemandList)},null)}function Wr(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,26,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,zr)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,Hr)),(l()(),t.Bb(21,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveIrrigationDemand()&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Yr)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,qr)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,19,0,!e.isEditOn,t.Lb(n,20)),l(n,25,0,e.isEditOn),l(n,27,0,!e.isEditOn)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var $r=function(){function l(l,n,e){var t=this;this.dataService=l,this.httpService=n,this.utilService=e,this.powerConsumptions=[],this.powerConsumptionsFormArray=new r.e([]),this.showTable=!1,this.isEditable=!1,this.isEditOn=!1,this.editdata=[],this.column=[],this.editableData=void 0,this.filterRecords=function(){var l=!1,n=["nodeName","dataSource"];t.searchTextHolder=t.searchText.toLowerCase().trim();var e=[],o=t.dataService.deepClone(t.powerConsumptionsFormArray.getRawValue());Object(Al.d)(t.searchTextHolder)?e=o:o.forEach(function(o){for(var u=!1,r=0,a=Object.keys(o);r<a.length;r++){var i=a[r],s=o[i];-1==n.indexOf(i)||Object(Al.d)(s)||-1===s.toString().toLowerCase().indexOf(t.searchTextHolder)||(u=!0)}u&&(!l&&document.getElementById(o.nodeUUID)&&(document.getElementById(o.nodeUUID),l=!0),o.isMatched=!0),e.push(o)}),t.powerConsumptions=e}}return l.prototype.ngOnInit=function(){this.retrievePowerConsumptions()},l.prototype.ngOnChanges=function(l){this.showTable=!1,this.year=l.year.currentValue,this.retrievePowerConsumptions()},l.prototype.retrievePowerConsumptions=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_POWER_CONSUMPTION);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,this.showTable=!1,this.httpService.placeAPICall(n).subscribe(function(n){l.powerConsumptions=n,l.createFormArrays(),l.showTable=!0},function(n){l.showTable=!0})},l.prototype.createFormArrays=function(){var l=this;if(this.powerConsumptionsFormArray.length>0)for(;0!==this.powerConsumptionsFormArray.length;)this.powerConsumptionsFormArray.removeAt(0);this.powerConsumptions.forEach(function(n,e){for(var t=l.getPowerConsumptionsFormGroup(),o=0,u=Object.keys(t.controls);o<u.length;o++){var r=u[o];t.controls[r].setValue(n[r])}l.powerConsumptionsFormArray.push(t)})},l.prototype.editOn=function(){var l=this,n=this.dataService.deepClone(v.a.GET_EDIT_POWER_CONSUMPTION);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.waterYear=this.year,n.postData.entityUUID=null,this.httpService.placeAPICall(n).subscribe(function(n){l.isEditOn=!l.isEditOn,l.isEditOn&&(l.editdata=n)})},l.prototype.editedData=function(l){console.log(l),this.editableData=l},l.prototype.cancel=function(){this.isEditOn=!this.isEditOn},l.prototype.getPowerConsumptionsFormGroup=function(){return new r.j({nodeName:new r.g("",r.z.required),dataSource:new r.g("",r.z.required),file:new r.g(null,r.z.required),status:new r.g("",r.z.required),isModified:new r.g("",r.z.required)})},l.prototype.dataSourceChange=function(l){this.clearFileWithIndex(l)},l.prototype.clearFileWithIndex=function(l){this.powerConsumptionsFormArray.get(l.toString()).patchValue({file:null}),document.getElementById("file"+l).value=""},l.prototype.clearFileData=function(l){var n,e=this;"all"!=l&&(n=this.powerConsumptions[l].nodeUUID);var t=this.dataService.deepClone(v.a.CLEAR_POWER_CONSUMPTION);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.year=this.year,t.postData.entityUUID="all"===l?null:n,this.httpService.placeAPICall(t).subscribe(function(l){e.dataService.showToastMessage("Power Consumption Data Cleared Successfully","success"),e.powerConsumptions=l,e.createFormArrays()},function(l){e.dataService.showToastMessage("Failed to Clear Power Consumption Data","error")})},l.prototype.onFileUpload=function(l,n){new FileReader,this.powerConsumptionsFormArray.get(n.toString()).patchValue(l.target.files&&l.target.files.length?{file:l.target.files[0],isModified:!0}:{isModified:!1}),console.log("{form group after file upload}:",this.powerConsumptionsFormArray)},l.prototype.downloadPowerConsumptions=function(l){var n;"bulk"!=l&&(n=this.powerConsumptions[l].nodeUUID);var e=this.dataService.deepClone(v.a.DOWNLOAD_ALL_POWER_CONSUMPTION);e.postData.rootEntityUuid=this.rootEntityUuid,e.postData.rootEntityType=C.a.ROP_NETWORK,e.postData.modelUUID=this.modelId,e.postData.waterYear=this.year,e.postData.entityUUID="bulk"===l?null:n,this.httpService.placeAPICall(e).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.downloadAllPowerConsumptions=function(){var l=this.dataService.deepClone(v.a.DOWNLOAD_ALL_POWER_CONSUMPTION);l.postData.rootEntityUuid=this.rootEntityUuid,l.postData.rootEntityType=C.a.ROP_NETWORK,l.postData.modelUUID=this.modelId,l.postData.waterYear=this.year,this.httpService.placeAPICall(l).subscribe(function(l){var n=l.headers.get("Content-Disposition");console.log(n,"content *************888");var e=n.split('filename="')[1].split('"')[0],t=new Blob([l.body],{type:l.body.type});Il.saveAs(t,e)})},l.prototype.bulkUploadPowerConsumptions=function(l){var n,e=this;l.target.files&&l.target.files.length&&(n=l.target.files[0]);var t=this.dataService.deepClone(v.a.POWER_CONSUMPTION_BULK_UPLOAD);t.postData.rootEntityUuid=this.rootEntityUuid,t.postData.rootEntityType=C.a.ROP_NETWORK,t.postData.modelUUID=this.modelId,t.postData.inputFile=n,t.postData.year=this.year,this.showTable=!1,this.httpService.placeAPICall(t).subscribe(function(l){l?(e.dataService.showToastMessage("Power Consumption Data Saved Successfully","success"),e.powerConsumptions=l,e.createFormArrays()):(e.dataService.showToastMessage("Failed to Save Power Consumption Data","error"),e.powerConsumptions=l,e.powerConsumptionsFormArray.setValue(l)),e.clearBulkUploadFile(),e.showTable=!0},function(l){e.clearBulkUploadFile(),e.showTable=!0})},l.prototype.clearBulkUploadFile=function(){document.getElementById("bulkUploadFile").value=""},l.prototype.savePowerConsumptions=function(){var l=this,n=!1;if(this.isEditOn){var e=this.editableData[0];this.column=this.editableData[1];var t=[],o=[],u=0;e.forEach(function(e){for(var r=0;r<e.length;r++)r?(isNaN(parseFloat(e[r]))&&""!=e[r]?(t.push("Error NaN"),l.dataService.showToastMessage("values cannot be text","error"),n=!0):t.push(parseFloat(e[r])),l.editdata[u].periodValueMap[l.column[r].title]=parseFloat(e[r])):t.push(e[r]);u++,o.push(t),t=[]}),n||((a=this.dataService.deepClone(v.a.SAVE_EDIT_POWER_CONSUMPTION)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.waterYear=this.year,a.postData.rows=this.editdata,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.isEditOn=!l.isEditOn):l.dataService.showToastMessage("Failed to Save Evaporation Data","error")}))}else{for(var r=0;r<this.powerConsumptions.length;r++)this.powerConsumptions[r].dataSource=this.powerConsumptionsFormArray.getRawValue()[r].dataSource;var a;(a=this.dataService.deepClone(v.a.SAVE_POWER_CONSUMPTION)).postData.rootEntityUuid=this.rootEntityUuid,a.postData.rootEntityType=C.a.ROP_NETWORK,a.postData.modelUUID=this.modelId,a.postData.year=this.year,a.postData.rows=this.powerConsumptions,this.httpService.placeAPICall(a).subscribe(function(n){n?(l.dataService.showToastMessage("Evaporation Data Saved Successfully","success"),l.powerConsumptions=n.rows,l.createFormArrays()):(l.dataService.showToastMessage("Failed to Save Evaporation Data","error"),l.powerConsumptions=n,l.powerConsumptionsFormArray.setValue(n))})}},l}(),Kr=t.zb({encapsulation:0,styles:[[""]],data:{}});function Jr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,0,"input",[["id","bulkUploadFile"],["name","bulkUpload"],["style","display: none;"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.bulkUploadPowerConsumptions(e)&&t),t},null,null)),(l()(),t.Bb(2,0,null,null,2,"label",[["class","btn btn-outline-active ml-2 mt-2"],["for","bulkUploadFile"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,0,"i",[["class","bi bi-upload mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,[" Bulk Upload "])),(l()(),t.Bb(5,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadPowerConsumptions("bulk")&&t),t},null,null)),(l()(),t.Bb(6,0,null,null,0,"i",[["class","bi bi-download mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Download"])),(l()(),t.Bb(8,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData("all")&&t),t},null,null)),(l()(),t.Bb(9,0,null,null,0,"i",[["class","bi bi-eraser-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Clear All"])),(l()(),t.Bb(11,0,null,null,2,"button",[["class","btn btn-outline-secondary ml-2 "]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.editOn()&&t),t},null,null)),(l()(),t.Bb(12,0,null,null,0,"i",[["class","bi bi-pencil-square mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Edit"]))],null,null)}function Zr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"button",[["class","btn btn-outline-danger ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t},null,null)),(l()(),t.Bb(1,0,null,null,0,"i",[["class","fas fa-window-close  mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Cancel"]))],null,null)}function Xr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-jexcel-edit",[],null,[[null,"submitExcelData"]],function(l,n,e){var t=!0;return"submitExcelData"===n&&(t=!1!==l.component.editedData(e)&&t),t},Jo,$o)),t.Ab(2,638976,null,0,Wo,[g.a,m.a],{modelId:[0,"modelId"],year:[1,"year"],data:[2,"data"]},{submitExcelData:"submitExcelData"})],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.year,e.editdata)},null)}function Qr(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,41,"tr",[],[[8,"title",0]],null,null,null,null)),t.Ab(1,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{ngClass:[0,"ngClass"]},null),t.Nb(2,{search_matched:0,"error-row":1}),(l()(),t.Bb(3,0,null,null,38,null,null,null,null,function(l,n,e){var o=!0;return"submit"===n&&(o=!1!==t.Lb(l,4).onSubmit(e)&&o),"reset"===n&&(o=!1!==t.Lb(l,4).onReset()&&o),o},null,null)),t.Ab(4,540672,null,0,r.k,[[8,null],[8,null]],{form:[0,"form"]},null),t.Pb(2048,null,r.c,null,[r.k]),t.Ab(6,16384,null,0,r.r,[[4,r.c]],null,null),(l()(),t.Bb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Sb(8,null,[" "," "])),(l()(),t.Bb(9,0,null,null,14,"td",[],null,null,null,null,null)),(l()(),t.Bb(10,0,null,null,13,"select",[["class","form-control"],["formControlName","dataSource"]],[[8,"name",0],[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,11).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,11).onTouched()&&o),"change"===n&&(o=!1!==u.dataSourceChange(l.context.index)&&o),o},null,null)),t.Ab(11,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(13,671744,null,0,r.i,[[3,r.c],[8,null],[8,null],[6,r.o],[2,r.F]],{name:[0,"name"]},null),t.Pb(2048,null,r.p,null,[r.i]),t.Ab(15,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(16,0,null,null,3,"option",[["selected",""],["value","File Upload"]],null,null,null,null,null)),t.Ab(17,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(18,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["File Upload"])),(l()(),t.Bb(20,0,null,null,3,"option",[["value","From Database"]],null,null,null,null,null)),t.Ab(21,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(22,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["From Database"])),(l()(),t.Bb(24,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t.Bb(25,0,null,null,6,"span",[["class","text-capitalize"]],null,null,null,null,null)),t.Ab(26,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(27,{"text-success":0,"text-danger":1}),(l()(),t.Bb(28,0,null,null,2,"i",[["class","fas mr-2"]],null,null,null,null,null)),t.Ab(29,278528,null,0,p.n,[t.x,t.y,t.n,t.N],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Nb(30,{"fa-check":0,"fa-times":1}),(l()(),t.Sb(31,null,[" ",""])),(l()(),t.Bb(32,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Bb(33,0,null,null,0,"i",[["class","nc-calender mr-2 text-muted"]],null,null,null,null,null)),(l()(),t.Sb(34,null,[" "," "])),t.Ob(35,1),(l()(),t.Bb(36,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t.Bb(37,0,null,null,4,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.Bb(38,0,null,null,1,"button",[["class","btn btn-outline-active ml-2 border-0"],["title","Download"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadPowerConsumptions(l.context.index)&&t),t},null,null)),(l()(),t.Bb(39,0,null,null,0,"i",[["class","bi bi-download"]],null,null,null,null,null)),(l()(),t.Bb(40,0,null,null,1,"button",[["class","btn btn-outline-warning border-0"],["title","Clear Data"]],null,null,null,null,null)),(l()(),t.Bb(41,0,null,null,0,"i",[["class","bi bi-eraser-fill"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.clearFileData(l.context.index)&&t),t},null,null))],function(l,n){var e=n.component,t=l(n,2,0,n.context.$implicit.isMatched,!!n.context.$implicit.errorMessage);l(n,1,0,t);var o=e.powerConsumptionsFormArray.get(n.context.index.toString());l(n,4,0,o),l(n,13,0,"dataSource"),l(n,17,0,"File Upload"),l(n,18,0,"File Upload"),l(n,21,0,"From Database"),l(n,22,0,"From Database");var u=l(n,27,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,26,0,"text-capitalize",u);var r=l(n,30,0,"Valid"==n.context.$implicit.status,"Valid"!=n.context.$implicit.status);l(n,29,0,"fas mr-2",r)},function(l,n){l(n,0,0,n.context.$implicit.errorMessage?n.context.$implicit.errorMessage:n.context.$implicit.nodeName),l(n,8,0,n.context.$implicit.nodeDisplayName),l(n,10,0,t.Db(1,"dataSource",n.context.index,""),t.Db(1,"dataSource",n.context.index,""),t.Lb(n,15).ngClassUntouched,t.Lb(n,15).ngClassTouched,t.Lb(n,15).ngClassPristine,t.Lb(n,15).ngClassDirty,t.Lb(n,15).ngClassValid,t.Lb(n,15).ngClassInvalid,t.Lb(n,15).ngClassPending),l(n,31,0,n.context.$implicit.status);var e=t.Tb(n,34,0,l(n,35,0,t.Lb(n.parent.parent,0),n.context.$implicit.insertTs));l(n,34,0,e)})}function la(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,16,"div",[["class","table-responsive"],["style","max-height:600px"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,15,"table",[["class","table table-bordered table-editable m-0"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,11,"thead",[["class","text-uppercase"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Bb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Node Name"])),(l()(),t.Bb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Data Source"])),(l()(),t.Bb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Status"])),(l()(),t.Bb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Uploaded On"])),(l()(),t.Bb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Actions"])),(l()(),t.Bb(14,0,null,null,2,"tbody",[["class","error-body"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Qr)),t.Ab(16,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,16,0,n.component.powerConsumptions)},null)}function na(l){return t.Ub(0,[t.Mb(0,a.a,[i.a]),(l()(),t.Bb(1,0,null,null,26,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,1,"app-spinner",[],null,null,null,s.b,s.a)),t.Ab(3,638976,null,0,c.a,[d.d],{id:[0,"id"],show:[1,"show"]},null),(l()(),t.Bb(4,0,null,null,19,"div",[["class","d-flex align-items-center flex-wrap justify-content-between p-3"]],null,null,null,null,null)),(l()(),t.Bb(5,0,null,null,11,"nav",[["class","navbar p-0"]],null,null,null,null,null)),t.Ab(6,16384,null,0,fl.kb,[],null,null),(l()(),t.Bb(7,0,null,null,9,"div",[["class","input-group search-input-group"]],null,null,null,null,null)),(l()(),t.Bb(8,0,null,null,5,"input",[["aria-describedby","basic-addon1"],["aria-label","Username"],["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var o=!0,u=l.component;return"input"===n&&(o=!1!==t.Lb(l,9)._handleInput(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==t.Lb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==t.Lb(l,9)._compositionEnd(e.target.value)&&o),"ngModelChange"===n&&(o=!1!==(u.searchText=e)&&o),"keyup"===n&&(o=!1!==u.filterRecords()&&o),o},null,null)),t.Ab(9,16384,null,0,r.d,[t.N,t.n,[2,r.a]],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.d]),t.Ab(11,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(13,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.Bb(14,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(l()(),t.Bb(15,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,null,null,null,null)),(l()(),t.Bb(16,0,null,null,0,"i",[["class","nc-search"]],null,null,null,null,null)),(l()(),t.Bb(17,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,Jr)),t.Ab(19,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.sb(0,[["cancleBut",2]],null,0,null,Zr)),(l()(),t.Bb(21,0,null,null,2,"button",[["class","btn btn-outline-darkblue ml-2"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.savePowerConsumptions()&&t),t},null,null)),(l()(),t.Bb(22,0,null,null,0,"i",[["class","bi bi-file-earmark-fill mr-2"]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Save"])),(l()(),t.sb(16777216,null,null,1,null,Xr)),t.Ab(25,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,la)),t.Ab(27,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,3,0,"carryOverStorage",!e.showTable),l(n,11,0,e.searchText),l(n,19,0,!e.isEditOn,t.Lb(n,20)),l(n,25,0,e.isEditOn),l(n,27,0,!e.isEditOn)},function(l,n){l(n,8,0,t.Lb(n,13).ngClassUntouched,t.Lb(n,13).ngClassTouched,t.Lb(n,13).ngClassPristine,t.Lb(n,13).ngClassDirty,t.Lb(n,13).ngClassValid,t.Lb(n,13).ngClassInvalid,t.Lb(n,13).ngClassPending)})}var ea=function(){function l(l,n,e,t,o){this.route=l,this.dataUtilService=n,this.dataService=e,this.httpService=t,this.utilService=o,this.optionValue="storageLossData",this.evaporationData=[{reservoirName:"Bargi",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{reservoirName:"Tawa",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{reservoirName:"Indira Sagar (ISP)",dataSource:"File Upload",status:"invalid",uploadedOn:"29/01/2020 10:01:52 AM"},{reservoirName:"Omkareshwar (OSP)",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{reservoirName:"Sardar Sarovar (SSP)",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:01 AM"}],this.evaporationLossProportion=[{reservoirName:"Bargi",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{reservoirName:"Tawa",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{reservoirName:"Indira Sagar (ISP)",dataSource:"File Upload",status:"invalid",uploadedOn:"29/01/2020 10:01:52 AM"},{reservoirName:"Omkareshwar (OSP)",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{reservoirName:"Sardar Sarovar (SSP)",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:01 AM"}],this.virginInflowsData=[{nodeName:"Bargi",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Tawa",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{nodeName:"Indira Sagar (ISP)",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Omkareshwar (OSP)",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Sardar Sarovar (SSP)",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Junction-7",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Junction-8",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Junction-5",dataSource:"File Upload",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Junction-9",dataSource:"-",status:"-",uploadedOn:"-"}],this.virginInflowsActualData=[{nodeName:"Bargi",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Tawa",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{nodeName:"Indira Sagar (ISP)",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Omkareshwar (OSP)",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Sardar Sarovar (SSP)",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Junction-7",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Junction-8",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Junction-5",dataSource:"File Upload",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Junction-9",dataSource:"-",status:"-",uploadedOn:"-"}],this.irrigationDemandData=[{nodeName:"Bargi",component:"IRR-110",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Bargi",component:"IRR-105",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{nodeName:"Tawa",component:"IRR-205",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Tawa",component:"IRR-210",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Indira Sagar (ISP)",component:"IRR-310",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:01:52 AM"},{nodeName:"Omkareshwar (OSP)",component:"IRR-410",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Junction-9",component:"IRR-610",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"}],this.irrigationActualData=[{nodeName:"Bargi",component:"IRR-110",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Bargi",component:"IRR-105",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{nodeName:"Tawa",component:"IRR-205",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Tawa",component:"IRR-210",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Indira Sagar (ISP)",component:"IRR-310",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:01:52 AM"},{nodeName:"Omkareshwar (OSP)",component:"IRR-410",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Junction-9",component:"IRR-610",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"}],this.actualStorageData=[{reservoirName:"Bargi",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{reservoirName:"Tawa",dataSource:"File Upload",status:"valid",uploadedOn:"19/01/2020 11:14:01 PM"},{reservoirName:"Indira Sagar (ISP)",dataSource:"File Upload",status:"invalid",uploadedOn:"29/01/2020 10:01:52 AM"},{reservoirName:"Omkareshwar (OSP)",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{reservoirName:"Sardar Sarovar (SSP)",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:01 AM"}],this.environmentalDemandData=[{nodeName:"Bargi",component:"RCH-10-EDL",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:01:52 AM"},{nodeName:"Tawa",component:"RCH-11-EDL",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:26:05 AM"},{nodeName:"Junction-7",component:"RCH-12-EDL",dataSource:"File Upload",status:"valid",uploadedOn:"29/01/2020 10:11:22 AM"},{nodeName:"Indira Sagar (ISP)",component:"RCH-13",dataSource:"From Database",status:"valid",uploadedOn:"21/01/2020 09:16:01 PM"},{nodeName:"Omkareshwar (OSP)",component:"RCH-14",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Sardar Sarovar (SSP)",component:"RCH-16",dataSource:"-",status:"-",uploadedOn:"-"},{nodeName:"Junction-5",component:"RCH-15-EDL",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:54:01 AM"},{nodeName:"Junction-9",component:"RCH-17",dataSource:"From Database",status:"valid",uploadedOn:"29/01/2020 10:22:05 AM"}]}return l.prototype.ngOnInit=function(){this.modelType=this.route.snapshot.queryParams.modelType,this.selectedYear=(new Date).getMonth()>4?(new Date).getFullYear():(new Date).getFullYear()-1,this.yearList=this.dataUtilService.getDateList(null,{countVariable:"year",countConfig:"49##0",reverse:!0}),this.retrieveTimeConfig()},l.prototype.retrieveTimeConfig=function(){var l=this,n=this.dataService.deepClone(v.a.RETRIEVE_TIME_CONFIG);n.postData.rootEntityUuid=this.rootEntityUuid,n.postData.rootEntityType=C.a.ROP_NETWORK,n.postData.modelUUID=this.modelId,n.postData.includeAllTP=!0,this.httpService.placeAPICall(n).subscribe(function(n){n.year&&(l.selectedYear=n.year)},function(l){})},l}(),ta=t.zb({encapsulation:0,styles:[[""]],data:{}});function oa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["selected",""],["value","storageLossData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss (mm)"]))],function(l,n){l(n,1,0,"storageLossData"),l(n,2,0,"storageLossData")},null)}function ua(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","storageLossActualData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss (MCFT)"]))],function(l,n){l(n,1,0,"storageLossActualData"),l(n,2,0,"storageLossActualData")},null)}function ra(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","evaporationLossProportion"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Proportion"]))],function(l,n){l(n,1,0,"evaporationLossProportion"),l(n,2,0,"evaporationLossProportion")},null)}function aa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","virginInflowsData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Self Catchment Inflows (MCFT)"]))],function(l,n){l(n,1,0,"virginInflowsData"),l(n,2,0,"virginInflowsData")},null)}function ia(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","irrigationDemandData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Utilization Demand (MCFT)"]))],function(l,n){l(n,1,0,"irrigationDemandData"),l(n,2,0,"irrigationDemandData")},null)}function sa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","environmentalDemandData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Environmental Demand (MCFT)"]))],function(l,n){l(n,1,0,"environmentalDemandData"),l(n,2,0,"environmentalDemandData")},null)}function ca(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["selected",""],["value","storageLossData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Forecast(mm)"]))],function(l,n){l(n,1,0,"storageLossData"),l(n,2,0,"storageLossData")},null)}function da(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","storageLossActualData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Observed(mm)"]))],function(l,n){l(n,1,0,"storageLossActualData"),l(n,2,0,"storageLossActualData")},null)}function pa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["selected",""],["value","storageLossData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Forecast(MCFT)"]))],function(l,n){l(n,1,0,"storageLossData"),l(n,2,0,"storageLossData")},null)}function ba(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","storageLossActualData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Observed(MCFT)"]))],function(l,n){l(n,1,0,"storageLossActualData"),l(n,2,0,"storageLossActualData")},null)}function ga(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","evaporationLossProportion"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Storage Loss Proportion"]))],function(l,n){l(n,1,0,"evaporationLossProportion"),l(n,2,0,"evaporationLossProportion")},null)}function ma(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","virginInflowsData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Self Catchment Inflows Forecast (MCFT)"]))],function(l,n){l(n,1,0,"virginInflowsData"),l(n,2,0,"virginInflowsData")},null)}function ha(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","virginInflowsData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Self Catchment Inflows Observed (MCFT)"]))],function(l,n){l(n,1,0,"virginInflowsData"),l(n,2,0,"virginInflowsData")},null)}function fa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","irrigationDemandData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Utilization Demand Forecast (MCFT)"]))],function(l,n){l(n,1,0,"irrigationDemandData"),l(n,2,0,"irrigationDemandData")},null)}function va(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","irrigationDemandData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Utilization Demand Observed (MCFT)"]))],function(l,n){l(n,1,0,"irrigationDemandData"),l(n,2,0,"irrigationDemandData")},null)}function Aa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","actualStorageData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Actual Storage (MCFT)"]))],function(l,n){l(n,1,0,"actualStorageData"),l(n,2,0,"actualStorageData")},null)}function Ca(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","actualStorageData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Actual Downstream Releases (MCFT)"]))],function(l,n){l(n,1,0,"actualStorageData"),l(n,2,0,"actualStorageData")},null)}function Ia(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[["value","environmentalDemandData"]],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(-1,null,["Environmental Demand (MCFT)"]))],function(l,n){l(n,1,0,"environmentalDemandData"),l(n,2,0,"environmentalDemandData")},null)}function ya(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.Ab(1,147456,null,0,r.u,[t.n,t.N,[2,r.y]],{value:[0,"value"]},null),t.Ab(2,147456,null,0,r.G,[t.n,t.N,[8,null]],{value:[0,"value"]},null),(l()(),t.Sb(3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.year),l(n,2,0,n.context.$implicit.year)},function(l,n){l(n,3,0,n.context.$implicit.year)})}function wa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-evaporation-business",[],null,null,null,ou,Xo)),t.Ab(2,638976,null,0,Zo,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function xa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-storage-loss-data",[],null,null,null,pu,ru)),t.Ab(2,638976,null,0,uu,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function La(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-storage-loss-actual-data",[],null,null,null,Cu,gu)),t.Ab(2,638976,null,0,bu,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function ja(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-evaporation-loss-proportion-business",[],null,null,null,Du,yu)),t.Ab(2,638976,null,0,Iu,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ea(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-virgin-inflows-business",[],null,null,null,Mu,Nu)),t.Ab(2,638976,null,0,Su,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Da(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-virgin-inflows-actual-data-business",[],null,null,null,Yu,Pu)),t.Ab(2,638976,null,0,ku,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Sa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-irrigation-demand-business",[],null,null,null,Xu,qu)),t.Ab(2,638976,null,0,Gu,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Na(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-irrigation-actual-business",[],null,null,null,rr,lr)),t.Ab(2,638976,null,0,Qu,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ta(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-actual-storage-data-business",[],null,null,null,gr,ir)),t.Ab(2,638976,null,0,ar,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Fa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-environmental-demand-business",[],null,null,null,wr,hr)),t.Ab(2,638976,null,0,mr,[g.a,m.a,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ba(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-outflows-business-data",[],null,null,null,Er,Lr)),t.Ab(2,638976,null,0,xr,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Oa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-domestic-business",[],null,null,null,Tr,Sr)),t.Ab(2,638976,null,0,Dr,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ua(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-industrial-business",[],null,null,null,Ur,Br)),t.Ab(2,638976,null,0,Fr,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ma(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-hydropower-business",[],null,null,null,Rr,kr)),t.Ab(2,638976,null,0,Mr,[g.a,m.a,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function ka(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-irrigation-doownstream-actual",[],null,null,null,Wr,Vr)),t.Ab(2,638976,null,0,_r,[vl.a,g.a,m.a,yl,t.i,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Pa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,1,"app-power-consumption-data",[],null,null,null,na,Kr)),t.Ab(2,638976,null,0,$r,[g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"],year:[2,"year"]},null)],function(l,n){var e=n.component;l(n,2,0,e.modelId,e.rootEntityUuid,e.selectedYear)},null)}function Ra(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,90,"div",[["class","card-modal-details card mt-3 mb-4 shadow-sm border-0 overflow-hidden"]],null,null,null,null,null)),(l()(),t.Bb(1,0,null,null,56,"div",[["class","d-flex justify-content-start pl-3 pb-0 pr-3 pt-3"]],null,null,null,null,null)),(l()(),t.Bb(2,0,null,null,44,"div",[["class","form-group m-0 mr-2"]],null,null,null,null,null)),(l()(),t.Bb(3,0,null,null,1,"label",[["class","sr-only"],["for",""]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Business Data"])),(l()(),t.Bb(5,0,null,null,41,"select",[["class","form-control font-weight-bold"],["placeholder","Business Data"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,6).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,6).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.optionValue=e)&&o),o},null,null)),t.Ab(6,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(8,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(10,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,oa)),t.Ab(12,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ua)),t.Ab(14,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ra)),t.Ab(16,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,aa)),t.Ab(18,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ia)),t.Ab(20,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,sa)),t.Ab(22,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ca)),t.Ab(24,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,da)),t.Ab(26,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,pa)),t.Ab(28,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ba)),t.Ab(30,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ga)),t.Ab(32,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ma)),t.Ab(34,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ha)),t.Ab(36,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,fa)),t.Ab(38,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,va)),t.Ab(40,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Aa)),t.Ab(42,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ca)),t.Ab(44,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ia)),t.Ab(46,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.Bb(47,0,null,null,10,"div",[["class","form-group m-0"]],null,null,null,null,null)),(l()(),t.Bb(48,0,null,null,1,"label",[["class","sr-only"],["for",""]],null,null,null,null,null)),(l()(),t.Sb(-1,null,["Year"])),(l()(),t.Bb(50,0,null,null,7,"select",[["class","form-control font-weight-bold"],["id","year"],["name","year"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,e){var o=!0,u=l.component;return"change"===n&&(o=!1!==t.Lb(l,51).onChange(e.target.value)&&o),"blur"===n&&(o=!1!==t.Lb(l,51).onTouched()&&o),"ngModelChange"===n&&(o=!1!==(u.selectedYear=e)&&o),o},null,null)),t.Ab(51,16384,null,0,r.y,[t.N,t.n],null,null),t.Pb(1024,null,r.o,function(l){return[l]},[r.y]),t.Ab(53,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Pb(2048,null,r.p,null,[r.t]),t.Ab(55,16384,null,0,r.q,[[4,r.p]],null,null),(l()(),t.sb(16777216,null,null,1,null,ya)),t.Ab(57,278528,null,0,p.p,[t.Y,t.V,t.x],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Bb(58,0,null,null,32,"div",[["class","table-responsive p-3"]],null,null,null,null,null)),(l()(),t.sb(16777216,null,null,1,null,wa)),t.Ab(60,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,xa)),t.Ab(62,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,La)),t.Ab(64,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ja)),t.Ab(66,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ea)),t.Ab(68,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Da)),t.Ab(70,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Sa)),t.Ab(72,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Na)),t.Ab(74,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ta)),t.Ab(76,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Fa)),t.Ab(78,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ba)),t.Ab(80,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Oa)),t.Ab(82,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ua)),t.Ab(84,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Ma)),t.Ab(86,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,ka)),t.Ab(88,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null),(l()(),t.sb(16777216,null,null,1,null,Pa)),t.Ab(90,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,8,0,e.optionValue),l(n,12,0,"OPERATIONAL"!=e.modelType),l(n,14,0,"OPERATIONAL"!=e.modelType),l(n,16,0,"OPERATIONAL"!=e.modelType),l(n,18,0,"OPERATIONAL"!=e.modelType),l(n,20,0,"OPERATIONAL"!=e.modelType),l(n,22,0,"OPERATIONAL"!=e.modelType),l(n,24,0,"OPERATIONAL"===e.modelType),l(n,26,0,"OPERATIONAL"===e.modelType),l(n,28,0,"OPERATIONAL"===e.modelType),l(n,30,0,"OPERATIONAL"===e.modelType),l(n,32,0,"OPERATIONAL"===e.modelType),l(n,34,0,"OPERATIONAL"===e.modelType),l(n,36,0,"OPERATIONAL"===e.modelType),l(n,38,0,"OPERATIONAL"===e.modelType),l(n,40,0,"OPERATIONAL"===e.modelType),l(n,42,0,"OPERATIONAL"===e.modelType),l(n,44,0,"OPERATIONAL"===e.modelType),l(n,46,0,"OPERATIONAL"===e.modelType),l(n,53,0,"year",e.selectedYear),l(n,57,0,e.yearList),l(n,60,0,"evaporationData"===e.optionValue),l(n,62,0,"storageLossData"===e.optionValue),l(n,64,0,"storageLossActualData"===e.optionValue),l(n,66,0,"evaporationLossProportion"===e.optionValue),l(n,68,0,"virginInflowsData"===e.optionValue),l(n,70,0,"virginInflowsActualData"===e.optionValue),l(n,72,0,"irrigationDemandData"===e.optionValue),l(n,74,0,"irrigationActualData"===e.optionValue),l(n,76,0,"actualStorageData"===e.optionValue),l(n,78,0,"environmentalDemandData"===e.optionValue),l(n,80,0,"outflowsBusinessData"===e.optionValue),l(n,82,0,"domesticDemand"===e.optionValue),l(n,84,0,"industrialDemand"===e.optionValue),l(n,86,0,"hydropowerDemand"===e.optionValue),l(n,88,0,"irrigationDownstreamData"===e.optionValue),l(n,90,0,"powerConsumptionData"===e.optionValue)},function(l,n){l(n,5,0,t.Lb(n,10).ngClassUntouched,t.Lb(n,10).ngClassTouched,t.Lb(n,10).ngClassPristine,t.Lb(n,10).ngClassDirty,t.Lb(n,10).ngClassValid,t.Lb(n,10).ngClassInvalid,t.Lb(n,10).ngClassPending),l(n,50,0,t.Lb(n,55).ngClassUntouched,t.Lb(n,55).ngClassTouched,t.Lb(n,55).ngClassPristine,t.Lb(n,55).ngClassDirty,t.Lb(n,55).ngClassValid,t.Lb(n,55).ngClassInvalid,t.Lb(n,55).ngClassPending)})}var _a=e("9AJC"),Va=function(){function l(l,n,e){var t=this;this.router=l,this.route=n,this.dataService=e,this.disableList=[],this.verificationDisableList=["outflow_curve","objective_function"],this.currentJustify="fill",this.activeId="node",this.route.params.subscribe(function(l){l.step&&(t.activeId=l.step),t.selectedType=l.type}),this.route.queryParams.subscribe(function(l){t.modelId=t.route.snapshot.queryParams.modelId,t.rootEntityUuid=t.route.snapshot.queryParams.rootEntityUuid,t.modelType=t.route.snapshot.queryParams.modelType,t.disableList="VERIFICATION"===t.modelType?t.verificationDisableList.slice():t.disableList,t.disableList.includes(t.activeId)&&(t.dataService.showToastMessage("Tab is Disabled","error"),t.router.navigate(["","detailView","modelItem",t.selectedType,"node"],{queryParamsHandling:"preserve"}))})}return l.prototype.ngOnInit=function(){},l.prototype.tabChange=function(l){this.router.navigate(["","detailView","model","modelItem",this.selectedType,l.nextId],{queryParamsHandling:"preserve"}),l.preventDefault()},l}(),za=t.zb({encapsulation:0,styles:[[""]],data:{}});function Ha(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Nodes"]))],null,null)}function Ya(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-nodes",[],null,null,null,Rl,Tl)),t.Ab(1,114688,[[1,4],["node",4]],0,Nl,[vl.a,g.a,m.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function Ga(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Network"]))],null,null)}function qa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-network",[],null,null,null,en,zl)),t.Ab(1,114688,[[2,4],["network",4]],0,Vl,[vl.a,g.a,m.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function Wa(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Rating Curve"]))],null,null)}function $a(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-rating-curve",[],null,null,null,Bn,Ln)),t.Ab(1,114688,[[3,4],["rating",4]],0,xn,[g.a,m.a,vl.a,yl,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function Ka(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Groups"]))],null,null)}function Ja(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-groups",[],null,null,null,Kn,Un)),t.Ab(1,114688,[[4,4],["groups",4]],0,On,[vl.a,m.a,g.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function Za(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Time Period Config"]))],null,null)}function Xa(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-time-period-config",[],null,null,null,me,Zn)),t.Ab(1,114688,[[8,4],["time_period_config",4]],0,Jn,[i.a,g.a,b.a,m.a,w.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function Qa(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Policies"]))],null,null)}function li(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-policies",[],null,null,null,Vo,wo)),t.Ab(1,114688,[[5,4],["policies",4]],0,yo,[b.a,fl.C,t.i],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function ni(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Objective Function"]))],null,null)}function ei(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-objective-function",[],null,null,null,qo,Ho)),t.Ab(1,114688,[["objective_function",4]],0,zo,[i.a,g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function ti(l){return t.Ub(0,[(l()(),t.Sb(-1,null,["Business Data"]))],null,null)}function oi(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-business-data",[],null,null,null,Ra,ta)),t.Ab(1,114688,[[9,4],["business_data",4]],0,ea,[b.a,i.a,g.a,m.a,A.a],{modelId:[0,"modelId"],rootEntityUuid:[1,"rootEntityUuid"]},null)],function(l,n){var e=n.component;l(n,1,0,e.modelId,e.rootEntityUuid)},null)}function ui(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,66,"ngb-tabset",[["class","ngb-nav-tabs"],["id","model_tabs"],["type","pills"]],null,[[null,"tabChange"]],function(l,n,e){var t=!0;return"tabChange"===n&&(t=!1!==l.component.tabChange(e)&&t),t},_a.e,_a.c)),t.Ab(1,2146304,null,1,fl.V,[fl.W],{activeId:[0,"activeId"],destroyOnHide:[1,"destroyOnHide"],justify:[2,"justify"],type:[3,"type"]},{tabChange:"tabChange"}),t.Qb(603979776,10,{tabs:1}),(l()(),t.Bb(3,0,null,null,7,"ngb-tab",[["id","node"]],null,null,null,null,null)),t.Ab(4,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,11,{titleTpls:1}),t.Qb(603979776,12,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Ha)),t.Ab(8,16384,[[11,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,Ya)),t.Ab(10,16384,[[12,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(11,0,null,null,7,"ngb-tab",[["id","network"]],null,null,null,null,null)),t.Ab(12,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,13,{titleTpls:1}),t.Qb(603979776,14,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Ga)),t.Ab(16,16384,[[13,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,qa)),t.Ab(18,16384,[[14,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(19,0,null,null,7,"ngb-tab",[["id","rating"]],null,null,null,null,null)),t.Ab(20,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,15,{titleTpls:1}),t.Qb(603979776,16,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Wa)),t.Ab(24,16384,[[15,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,$a)),t.Ab(26,16384,[[16,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(27,0,null,null,7,"ngb-tab",[["id","groups"]],null,null,null,null,null)),t.Ab(28,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,17,{titleTpls:1}),t.Qb(603979776,18,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Ka)),t.Ab(32,16384,[[17,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,Ja)),t.Ab(34,16384,[[18,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(35,0,null,null,7,"ngb-tab",[["id","time_period_config"]],null,null,null,null,null)),t.Ab(36,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,19,{titleTpls:1}),t.Qb(603979776,20,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Za)),t.Ab(40,16384,[[19,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,Xa)),t.Ab(42,16384,[[20,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(43,0,null,null,7,"ngb-tab",[["id","policies"]],null,null,null,null,null)),t.Ab(44,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,21,{titleTpls:1}),t.Qb(603979776,22,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,Qa)),t.Ab(48,16384,[[21,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,li)),t.Ab(50,16384,[[22,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(51,0,null,null,7,"ngb-tab",[["id","objective_function"]],null,null,null,null,null)),t.Ab(52,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,23,{titleTpls:1}),t.Qb(603979776,24,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,ni)),t.Ab(56,16384,[[23,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,ei)),t.Ab(58,16384,[[24,4]],0,fl.T,[t.V],null,null),(l()(),t.Bb(59,0,null,null,7,"ngb-tab",[["id","business_data"]],null,null,null,null,null)),t.Ab(60,2113536,[[10,4]],2,fl.S,[],{id:[0,"id"],disabled:[1,"disabled"]},null),t.Qb(603979776,25,{titleTpls:1}),t.Qb(603979776,26,{contentTpls:1}),(l()(),t.sb(0,null,null,1,null,ti)),t.Ab(64,16384,[[25,4]],0,fl.U,[t.V],null,null),(l()(),t.sb(0,null,null,1,null,oi)),t.Ab(66,16384,[[26,4]],0,fl.T,[t.V],null,null)],function(l,n){var e=n.component;l(n,1,0,e.activeId,!0,e.currentJustify,"pills"),l(n,4,0,"node",-1!=e.disableList.indexOf("node")),l(n,12,0,"network",-1!=e.disableList.indexOf("network")),l(n,20,0,"rating",-1!=e.disableList.indexOf("rating")),l(n,28,0,"groups",-1!=e.disableList.indexOf("groups")),l(n,36,0,"time_period_config",-1!=e.disableList.indexOf("time_period_config")),l(n,44,0,"policies",-1!=e.disableList.indexOf("policies")),l(n,52,0,"objective_function",-1!=e.disableList.indexOf("objective_function")),l(n,60,0,"business_data",-1!=e.disableList.indexOf("business_data"))},null)}function ri(l){return t.Ub(0,[t.Qb(671088640,1,{node:0}),t.Qb(671088640,2,{network:0}),t.Qb(671088640,3,{rating:0}),t.Qb(671088640,4,{groups:0}),t.Qb(671088640,5,{policies:0}),t.Qb(402653184,6,{eva:0}),t.Qb(402653184,7,{outflow_curve:0}),t.Qb(671088640,8,{time_period_config:0}),t.Qb(671088640,9,{business_data:0}),(l()(),t.sb(16777216,null,null,1,null,ui)),t.Ab(10,16384,null,0,p.q,[t.Y,t.V],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,10,0,n.component.modelId)},null)}function ai(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"app-model-cockpit",[],null,null,null,ri,za)),t.Ab(1,114688,null,0,Va,[b.p,b.a,g.a],null,null)],function(l,n){l(n,1,0)},null)}var ii=t.xb("app-model-cockpit",Va,ai,{},{},[]),si=e("atuK"),ci=e("t/Na"),di=e("I5r7"),pi=e("xkgV"),bi=e("uBvM"),gi=e("8gHh"),mi=e("NJnL"),hi=e("lqqz"),fi=e("ARl4"),vi=e("j6nP"),Ai=function(){return function(){}}(),Ci=e("JUyF"),Ii=e("dU2b"),yi=e("sAfe"),wi=e("dENO"),xi=e("QpxQ"),Li=e("FpXt"),ji=function(){return function(){}}();e.d(n,"ModelItemDetailsModuleNgFactory",function(){return Ei});var Ei=t.yb(o,[],function(l){return t.Ib([t.Jb(512,t.l,t.lb,[[8,[u.a,U,ii,_a.a,_a.b,_a.j,_a.k,_a.g,_a.h,_a.i,si.a,si.b,si.c]],[3,t.l],t.D]),t.Jb(4608,p.s,p.r,[t.z,[2,p.L]]),t.Jb(4608,r.E,r.E,[]),t.Jb(4608,fl.C,fl.C,[t.l,t.v,fl.sb,fl.D]),t.Jb(4608,r.f,r.f,[]),t.Jb(4608,ci.j,ci.p,[p.d,t.I,ci.n]),t.Jb(4608,ci.q,ci.q,[ci.j,ci.o]),t.Jb(5120,ci.a,function(l){return[l]},[ci.q]),t.Jb(4608,ci.m,ci.m,[]),t.Jb(6144,ci.k,null,[ci.m]),t.Jb(4608,ci.i,ci.i,[ci.k]),t.Jb(6144,ci.b,null,[ci.i]),t.Jb(4608,ci.f,ci.l,[ci.b,t.v]),t.Jb(4608,ci.c,ci.c,[ci.f]),t.Jb(4608,di.b,di.b,[]),t.Jb(4608,pi.e,pi.e,[]),t.Jb(4608,bi.a,bi.a,[]),t.Jb(4608,gi.a,gi.a,[]),t.Jb(4608,il.a,il.a,[il.g,il.c,t.l,il.f,il.d,t.v,t.F,p.d,k.b,[2,p.l]]),t.Jb(5120,il.h,il.i,[il.a]),t.Jb(5120,al.b,al.c,[il.a]),t.Jb(4608,W.c,W.c,[]),t.Jb(4608,M.b,M.b,[]),t.Jb(4608,mi.a,mi.a,[t.O]),t.Jb(4608,hi.a,hi.a,[t.l,t.F,t.v,mi.a,t.g]),t.Jb(4608,fi.w,fi.w,[]),t.Jb(4608,fi.y,fi.y,[]),t.Jb(4608,fi.a,fi.a,[]),t.Jb(4608,fi.e,fi.e,[]),t.Jb(4608,fi.c,fi.c,[]),t.Jb(4608,fi.f,fi.f,[]),t.Jb(4608,fi.x,fi.x,[fi.y,fi.f]),t.Jb(1073742336,p.c,p.c,[]),t.Jb(1073742336,b.r,b.r,[[2,b.x],[2,b.p]]),t.Jb(1073742336,Ai,Ai,[]),t.Jb(1073742336,d.b,d.b,[]),t.Jb(1073742336,fl.c,fl.c,[]),t.Jb(1073742336,fl.g,fl.g,[]),t.Jb(1073742336,fl.h,fl.h,[]),t.Jb(1073742336,fl.l,fl.l,[]),t.Jb(1073742336,fl.m,fl.m,[]),t.Jb(1073742336,r.A,r.A,[]),t.Jb(1073742336,r.l,r.l,[]),t.Jb(1073742336,fl.s,fl.s,[]),t.Jb(1073742336,fl.y,fl.y,[]),t.Jb(1073742336,fl.E,fl.E,[]),t.Jb(1073742336,fl.I,fl.I,[]),t.Jb(1073742336,fl.L,fl.L,[]),t.Jb(1073742336,fl.O,fl.O,[]),t.Jb(1073742336,fl.R,fl.R,[]),t.Jb(1073742336,fl.X,fl.X,[]),t.Jb(1073742336,fl.bb,fl.bb,[]),t.Jb(1073742336,fl.eb,fl.eb,[]),t.Jb(1073742336,fl.fb,fl.fb,[]),t.Jb(1073742336,fl.F,fl.F,[]),t.Jb(1073742336,r.w,r.w,[]),t.Jb(1073742336,ci.e,ci.e,[]),t.Jb(1073742336,ci.d,ci.d,[]),t.Jb(1073742336,fi.d,fi.d,[]),t.Jb(1073742336,Ci.b,Ci.b,[]),t.Jb(1073742336,di.a,di.a,[]),t.Jb(1073742336,pi.a,pi.a,[]),t.Jb(1073742336,Ii.a,Ii.a,[]),t.Jb(1073742336,yi.a,yi.a,[]),t.Jb(1073742336,wi.a,wi.a,[]),t.Jb(1073742336,xi.c,xi.c,[]),t.Jb(1073742336,k.a,k.a,[]),t.Jb(1073742336,M.j,M.j,[[2,M.c],[2,P.g]]),t.Jb(1073742336,R.b,R.b,[]),t.Jb(1073742336,M.t,M.t,[]),t.Jb(1073742336,M.r,M.r,[]),t.Jb(1073742336,M.o,M.o,[]),t.Jb(1073742336,pl.b,pl.b,[]),t.Jb(1073742336,sl.b,sl.b,[]),t.Jb(1073742336,il.e,il.e,[]),t.Jb(1073742336,al.e,al.e,[]),t.Jb(1073742336,dl.c,dl.c,[]),t.Jb(1073742336,W.d,W.d,[]),t.Jb(1073742336,q.d,q.d,[]),t.Jb(1073742336,cl.b,cl.b,[]),t.Jb(1073742336,Li.a,Li.a,[]),t.Jb(1073742336,ji,ji,[]),t.Jb(1073742336,o,o,[]),t.Jb(1024,b.n,function(){return[[{path:"",component:y,children:[{path:":type/:step",component:Va,canDeactivate:[vi.a]},{path:"",pathMatch:"full",redirectTo:":type/:step"}]}],[]]},[]),t.Jb(256,ci.n,"XSRF-TOKEN",[]),t.Jb(256,ci.o,"X-XSRF-TOKEN",[]),t.Jb(256,xi.d,xi.e,[]),t.Jb(256,d.h,{bgsColor:"red",bgsPosition:"bottom-center",bgsSize:10,bgsType:"rectangle-bounce",fgsType:"chasing-dots",pbDirection:"ltr",hasProgressBar:!1,bgsOpacity:0},[])])})},HgZ9:function(l,n,e){"use strict";e.d(n,"a",function(){return t});var t=function(){function l(l){this.spinnerService=l}return l.prototype.ngOnInit=function(){},l.prototype.ngOnChanges=function(l){l.show&&l.show.currentValue?this.startLoader():this.stopLoader()},l.prototype.startLoader=function(){this.spinnerService.startLoader(this.id)},l.prototype.stopLoader=function(){try{this.spinnerService.stopLoader(this.id)}catch(l){}},l}()},Z8rZ:function(l,n,e){l.exports=function(){"use strict";var l=function(n){var e={},t=function(l,n){return!(!l[n.type]||l[n.type]!=n)||!!l.parentNode&&t(l.parentNode,n)},o=function(n){if(l.current.length>0)for(var e=0;e<l.current.length;e++)l.current[e]&&!t(n.target,l.current[e])&&l.current[e].close()};return e.init=function(){document.addEventListener("click",o),e.version="4.7.3"},e.tracking=function(n,e){if(1==e)l.current=l.current.filter(function(l){return null!==l}),setTimeout(function(){l.current.push(n)},0);else{var t=l.current.indexOf(n);t>=0&&(l.current[t]=null)}},e.path=function(l,n){if((l=l.split(".")).length){for(var e=this,t=null;l.length>1;)if(t=l.shift(),e.hasOwnProperty(t))e=e[t];else{if(void 0===n)return;e[t]={},e=e[t]}return t=l.shift(),void 0!==n?(e[t]=n,!0):e[t]}return!1},e.setDictionary=function(l){e.dictionary=l},e.dictionary={},e.translate=function(l){return e.dictionary[l]||l},e.current=[],e}();"undefined"!=typeof document&&l.init(),l.ajax=function(n,e){if(Array.isArray(n)){var t={instance:[],complete:e};if(n.length>0)for(var o=0;o<n.length;o++)n[o].multiple=t,t.instance.push(l.ajax(n[o]));return t}if(n.data||(n.data={}),n.type&&(n.method=n.type),n.method||(n.method="GET"),n.dataType||(n.dataType="json"),n.data){var u=function(l,n){var e=[],t=Object.keys(l);if(t.length)for(var o=0;o<t.length;o++){if(n)var r=n+"["+t[o]+"]";else r=t[o];if("object"==typeof l[t[o]])for(var a=u(l[t[o]],r),i=Object.keys(a),s=0;s<i.length;s++)e[i[s]]=a[i[s]];else e[r]=l[t[o]]}return e},r=[],a=u(n.data),i=Object.keys(a);for(o=0;o<i.length;o++)r.push(i[o]+"="+encodeURIComponent(a[i[o]]));"GET"==n.method&&r.length>0&&(n.url.indexOf("?")<0&&(n.url+="?"),n.url+=r.join("&"))}var s=new XMLHttpRequest;return s.open(n.method,n.url,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==n.method?(s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==n.dataType?s.setRequestHeader("Content-Type","text/json"):"blob"==n.dataType?s.responseType="blob":"html"==n.dataType&&s.setRequestHeader("Content-Type","text/html"),1!=n.cache&&(s.setRequestHeader("pragma","no-cache"),s.setRequestHeader("cache-control","no-cache")),1==n.withCredentials&&(s.withCredentials=!0),"function"==typeof n.beforeSend&&n.beforeSend(s),s.onload=function(){if(200===s.status)if("json"==n.dataType)try{var e=JSON.parse(s.responseText);n.success&&"function"==typeof n.success&&n.success(e)}catch(o){n.error&&"function"==typeof n.error&&n.error(o,e)}else e="blob"==n.dataType?s.response:s.responseText,n.success&&"function"==typeof n.success&&n.success(e);else n.error&&"function"==typeof n.error&&n.error(s.responseText,s.status);if(l.ajax.queue&&l.ajax.queue.length>0&&l.ajax.send(l.ajax.queue.shift()),l.ajax.requests&&l.ajax.requests.length){var t=l.ajax.requests.indexOf(s);l.ajax.requests.splice(t,1),l.ajax.requests.length||n.complete&&"function"==typeof n.complete&&n.complete(e),n.group&&l.ajax.oncomplete&&"function"==typeof l.ajax.oncomplete[n.group]&&(l.ajax.pending(n.group)||(l.ajax.oncomplete[n.group](),l.ajax.oncomplete[n.group]=null)),n.multiple&&n.multiple.instance&&(t=n.multiple.instance.indexOf(s),n.multiple.instance.splice(t,1),n.multiple.instance.length||n.multiple.complete&&"function"==typeof n.multiple.complete&&n.multiple.complete(e))}},s.options=n,s.data=r,1==n.queue&&l.ajax.requests.length>0?l.ajax.queue.push(s):l.ajax.send(s),s},l.ajax.send=function(n){n.data?n.send(n.data.join("&")):n.send(),l.ajax.requests.push(n)},l.ajax.exists=function(l,n){var e=new XMLHttpRequest;e.open("HEAD",l,!1),e.send(),e.status&&n(e.status)},l.ajax.pending=function(n){var e=0,t=l.ajax.requests;if(t&&t.length)for(var o=0;o<t.length;o++)n&&n!=t[o].options.group||e++;return e},l.ajax.oncomplete={},l.ajax.requests=[],l.ajax.queue=[],l.alert=function(n){l.getWindowWidth()<800&&l.dialog?l.dialog.open({title:"Alert",message:n}):alert(n)},l.animation={},l.animation.slideLeft=function(l,n,e){1==n?(l.classList.add("slide-left-in"),setTimeout(function(){l.classList.remove("slide-left-in"),"function"==typeof e&&e()},400)):(l.classList.add("slide-left-out"),setTimeout(function(){l.classList.remove("slide-left-out"),"function"==typeof e&&e()},400))},l.animation.slideRight=function(l,n,e){1==n?(l.classList.add("slide-right-in"),setTimeout(function(){l.classList.remove("slide-right-in"),"function"==typeof e&&e()},400)):(l.classList.add("slide-right-out"),setTimeout(function(){l.classList.remove("slide-right-out"),"function"==typeof e&&e()},400))},l.animation.slideTop=function(l,n,e){1==n?(l.classList.add("slide-top-in"),setTimeout(function(){l.classList.remove("slide-top-in"),"function"==typeof e&&e()},400)):(l.classList.add("slide-top-out"),setTimeout(function(){l.classList.remove("slide-top-out"),"function"==typeof e&&e()},400))},l.animation.slideBottom=function(l,n,e){1==n?(l.classList.add("slide-bottom-in"),setTimeout(function(){l.classList.remove("slide-bottom-in"),"function"==typeof e&&e()},400)):(l.classList.add("slide-bottom-out"),setTimeout(function(){l.classList.remove("slide-bottom-out"),"function"==typeof e&&e()},100))},l.animation.fadeIn=function(l,n){l.style.display="",l.classList.add("fade-in"),setTimeout(function(){l.classList.remove("fade-in"),"function"==typeof n&&n()},2e3)},l.animation.fadeOut=function(l,n){l.classList.add("fade-out"),setTimeout(function(){l.style.display="none",l.classList.remove("fade-out"),"function"==typeof n&&n()},1e3)},l.calendar=function(n,e){if(n.calendar)return n.calendar.setOptions(e,!0);var t={type:"calendar",options:{},date:null,setOptions:function(e,o){for(var u={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"],textDone:l.translate("Done"),textReset:l.translate("Reset"),textUpdate:l.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null},r=0;r<u.months.length;r++)u.months[r]=l.translate(u.months[r]);for(r=0;r<u.monthsFull.length;r++)u.monthsFull[r]=l.translate(u.monthsFull[r]);for(r=0;r<u.weekdays.length;r++)u.weekdays[r]=l.translate(u.weekdays[r]);for(var a in u)e&&e.hasOwnProperty(a)?t.options[a]=e[a]:void 0!==t.options[a]&&!0!==o||(t.options[a]=u[a]);if(i.style.display=0==t.options.resetButton?"none":"",t.options.readonly?n.setAttribute("readonly","readonly"):n.removeAttribute("readonly"),t.options.placeholder?n.setAttribute("placeholder",t.options.placeholder):n.removeAttribute("placeholder"),i.innerHTML=t.options.textReset,s.innerHTML=t.options.textDone,A.innerHTML=t.options.textUpdate,n.setAttribute("data-mask",t.options.format.toLowerCase()),!t.options.value&&t.options.today)var c=l.calendar.now();else c=t.options.value;return c&&(t.options.value=null,t.setValue(c)),t},open:function(e){if(!a.classList.contains("jcalendar-focus")&&!a.classList.contains("jcalendar-inline")){if(l.calendar.current=t,l.tracking(t,!0),t.getDays(),"year-month-picker"==t.options.type&&t.getMonths(),t.options.time&&(C.value=t.date[3],I.value=t.date[4]),a.classList.add("jcalendar-focus"),l.getWindowWidth()<800||t.options.fullscreen)a.classList.add("jcalendar-fullsize"),l.animation.slideBottom(d,1);else{a.classList.remove("jcalendar-fullsize");var o=n.getBoundingClientRect(),u=d.getBoundingClientRect();if(t.options.position)c.style.position="fixed",c.style.top=window.innerHeight<o.bottom+u.height?o.top-(u.height+2)+"px":o.top+o.height+2+"px",c.style.left=o.left+"px";else if(window.innerHeight<o.bottom+u.height?((r=-1*(o.height+u.height+2))+o.top<0&&(r=-1*(o.top+o.height)),c.style.top=r+"px"):c.style.top="2px",window.innerWidth<o.left+u.width){var r=window.innerWidth-(o.left+u.width+20);c.style.left=r+"px"}else c.style.left="0px"}"function"==typeof t.options.onopen&&t.options.onopen(n)}},close:function(e,o){if(a.classList.contains("jcalendar-focus")){if(!1!==o){var u=a.querySelector(".jcalendar-selected");if("string"==typeof o)var r=o;else r=!u||u.classList.contains("jcalendar-disabled")?t.options.value:t.getValue();t.setValue(r)}e||"function"!=typeof t.options.onclose||t.options.onclose(n),a.classList.remove("jcalendar-focus"),l.tracking(t,!1),l.calendar.current=null}return t.options.value},prev:function(){"years"==t.options.mode?(t.date[0]=t.date[0]-12,t.getYears()):"months"==t.options.mode?(t.date[0]=parseInt(t.date[0])-1,t.getMonths()):(t.date[1]<2?(t.date[0]=t.date[0]-1,t.date[1]=12):t.date[1]=t.date[1]-1,t.getDays())},next:function(){"years"==t.options.mode?(t.date[0]=parseInt(t.date[0])+12,t.getYears()):"months"==t.options.mode?(t.date[0]=parseInt(t.date[0])+1,t.getMonths()):(t.date[1]>11?(t.date[0]=parseInt(t.date[0])+1,t.date[1]=1):t.date[1]=parseInt(t.date[1])+1,t.getDays())},setToday:function(){var l=(new Date).toISOString().substr(0,10);return t.setValue(l),l},setValue:function(l){l||(l=""+l);var e=l,o=t.options.value;if(o!=e){if(e){t.setLabel(e,t.options),(r=e.split(" "))[1]||(r[1]="00:00:00");var u=r[1].split(":"),r=r[0].split("-"),a=parseInt(r[0]),i=parseInt(r[1]),s=parseInt(r[2]),c=parseInt(u[0]),d=parseInt(u[1]);t.date=[a,i,s,c,d,0],l=t.setLabel(e,t.options)}else t.date=null,l="";t.options.value=e,"function"==typeof t.options.onchange&&t.options.onchange(n,e,o),n.value!=l&&(n.value=l,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value}))}t.getDays()},getValue:function(){return t.date?t.options.time?l.two(t.date[0])+"-"+l.two(t.date[1])+"-"+l.two(t.date[2])+" "+l.two(t.date[3])+":"+l.two(t.date[4])+":"+l.two(0):l.two(t.date[0])+"-"+l.two(t.date[1])+"-"+l.two(t.date[2])+" "+l.two(0)+":"+l.two(0)+":"+l.two(0):""},update:function(l,n){if(l.classList.contains("jcalendar-disabled"));else{var e=a.querySelector(".jcalendar-selected");e&&e.classList.remove("jcalendar-selected"),l.classList.add("jcalendar-selected"),l.classList.contains("jcalendar-set-month")?t.date[1]=n:t.date[2]=l.innerText,t.options.time?(t.date[3]=C.value,t.date[4]=I.value):t.close()}r()},reset:function(){t.setValue(""),t.date=null,t.close(!1,!1)},getDays:function(){t.options.mode="days";var n=new Date,e=t.date&&l.isNumeric(t.date[0])?t.date[0]:parseInt(n.getFullYear()),o=t.date&&l.isNumeric(t.date[1])?t.date[1]:parseInt(n.getMonth())+1,u=t.date&&l.isNumeric(t.date[2])?t.date[2]:parseInt(n.getDate()),a=t.date&&l.isNumeric(t.date[3])?t.date[3]:parseInt(n.getHours()),i=t.date&&l.isNumeric(t.date[4])?t.date[4]:parseInt(n.getMinutes());t.date=[e,o,u,a,i,0],p.innerHTML=e,b.innerHTML=t.options.months[o-1];var s=n.getMonth()==o-1&&n.getFullYear()==e,c=n.getDate(),d=(n=new Date(e,o,0,0,0)).getDate(),g=(n=new Date(e,o-1,0,0,0)).getDay()+1;g-=v=t.options.startingDay||0,m.innerHTML="",(I=document.createElement("tr")).setAttribute("align","center"),m.appendChild(I);for(var h=0;h<7;h++)(w=document.createElement("td")).classList.add("jcalendar-weekday"),w.innerHTML=t.options.weekdays_short[v],I.appendChild(w),++v>6&&(v=0);for(var v=0,A=0,C=0;C<6;C++){var I;(I=document.createElement("tr")).setAttribute("align","center");var y=!0;for(h=0;h<7;h++){var w;if((w=document.createElement("td")).classList.add("jcalendar-set-day"),v>=g&&v<g+d){w.innerHTML=++A,A==u&&w.classList.add("jcalendar-selected"),s&&c==A&&(w.style.fontWeight="bold");var x=l.calendar.now(new Date(e,o-1,A),!0);if(t.options.validRange){if(!t.options.validRange[0]||x>=t.options.validRange[0])var L=!0;else L=!1;if(!t.options.validRange[1]||x<=t.options.validRange[1])var j=!0;else j=!1;L&&j||w.classList.add("jcalendar-disabled")}y=!1}I.appendChild(w),v++}0==y&&m.appendChild(I)}f.style.display=t.options.time?"":"none",r()},getMonths:function(){t.options.mode="months";var n=t.options.months,e=new Date,o=parseInt(e.getFullYear()),u=parseInt(e.getMonth())+1,a=t.date&&l.isNumeric(t.date[0])?t.date[0]:o,i=t.date&&l.isNumeric(t.date[1])?t.date[1]:u;p.innerHTML=t.date[0],b.innerHTML=n[i-1];var s=document.createElement("table");s.setAttribute("width","100%");for(var c=null,d=0;d<12;d++){d%4||((c=document.createElement("tr")).setAttribute("align","center"),s.appendChild(c));var g=document.createElement("td");if(g.classList.add("jcalendar-set-month"),g.setAttribute("data-value",d+1),g.innerText=n[d],t.options.validRange){var h=a+"-"+l.two(d+1);if(!t.options.validRange[0]||h>=t.options.validRange[0].substr(0,7))var f=!0;else f=!1;if(!t.options.validRange[1]||h<=t.options.validRange[1].substr(0,7))var v=!0;else v=!1;f&&v||g.classList.add("jcalendar-disabled")}d+1==i&&g.classList.add("jcalendar-selected"),o==a&&d+1==u&&(g.style.fontWeight="bold"),c.appendChild(g)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.children[0].children[0].appendChild(s),r()},getYears:function(){t.options.mode="years";for(var n=new Date,e=n.getFullYear(),o=t.date&&l.isNumeric(t.date[0])?t.date[0]:parseInt(n.getFullYear()),u=[],a=0;a<25;a++)u[a]=parseInt(t.date[0])+(a-12);var i=document.createElement("table");for(i.setAttribute("width","100%"),a=0;a<25;a++){if(!(a%5)){var s=document.createElement("tr");s.setAttribute("align","center"),i.appendChild(s)}var c=document.createElement("td");c.classList.add("jcalendar-set-year"),c.innerText=u[a],o==u[a]&&c.classList.add("jcalendar-selected"),e==u[a]&&(c.style.fontWeight="bold"),s.appendChild(c)}m.innerHTML='<tr><td colspan="7"></td></tr>',m.firstChild.firstChild.appendChild(i),r()},setLabel:function(n,e){return l.calendar.getDateString(n,e)},fromFormatted:function(n,e){return l.calendar.extractDateFromString(n,e)}},o=function(n){if(l.findElement(n.target,"jcalendar-container")){var e=n.target.className;if("jcalendar-prev"==e)t.prev();else if("jcalendar-next"==e)t.next();else if("jcalendar-month"==e)t.getMonths();else if("jcalendar-year"==e)t.getYears();else if("jcalendar-set-year"==e)t.date[0]=n.target.innerText,"year-month-picker"==t.options.type?t.getMonths():t.getDays();else if(n.target.classList.contains("jcalendar-set-month")){var o=parseInt(n.target.getAttribute("data-value"));"year-month-picker"==t.options.type?t.update(n.target,o):(t.date[1]=o,t.getDays())}else"jcalendar-confirm"==e||"jcalendar-update"==e||"jcalendar-close"==e?t.close():"jcalendar-backdrop"==e?t.close(!1,!1):"jcalendar-reset"==e?t.reset():n.target.classList.contains("jcalendar-set-day")&&n.target.innerText&&t.update(n.target)}else t.close()},u=function(n){if(n.target.value&&n.target.value.length>3){var e=l.calendar.extractDateFromString(n.target.value,t.options.format);e&&"true"==n.target.getAttribute("data-completed")&&t.setValue(e)}},r=function(){var l=a.querySelector(".jcalendar-selected");l&&l.classList.contains("jcalendar-disabled")?(A.setAttribute("disabled","disabled"),C.setAttribute("disabled","disabled"),I.setAttribute("disabled","disabled")):(A.removeAttribute("disabled"),C.removeAttribute("disabled"),I.removeAttribute("disabled")),"function"==typeof t.options.onupdate&&t.options.onupdate(n,t.getValue())},a=null,i=null,s=null,c=null,d=null,p=null,b=null,g=null,m=null,h=null,f=null,v=null,A=null,C=null,I=null;return function(){"INPUT"==n.tagName&&n.value&&(e.value=n.value),(i=document.createElement("div")).className="jcalendar-reset",(s=document.createElement("div")).className="jcalendar-confirm",(h=document.createElement("div")).className="jcalendar-controls",h.style.borderBottom="1px solid #ddd",h.appendChild(i),h.appendChild(s),(c=document.createElement("div")).className="jcalendar-container",(d=document.createElement("div")).className="jcalendar-content",c.appendChild(d),"DIV"==n.tagName?(a=n).classList.add("jcalendar-inline"):(d.appendChild(h),(a=document.createElement("div")).className="jcalendar"),a.classList.add("jcalendar-container"),a.appendChild(c);var r=document.createElement("div");r.className="jcalendar-table",d.appendChild(r);var y=document.createElement("td");y.setAttribute("colspan","2"),y.className="jcalendar-prev",(p=document.createElement("span")).className="jcalendar-year",(b=document.createElement("span")).className="jcalendar-month";var w=document.createElement("td");w.className="jcalendar-header",w.setAttribute("colspan","3"),w.appendChild(b),w.appendChild(p);var x=document.createElement("td");x.setAttribute("colspan","2"),x.className="jcalendar-next";var L=document.createElement("thead"),j=document.createElement("tr");j.appendChild(y),j.appendChild(w),j.appendChild(x),L.appendChild(j),g=document.createElement("table"),m=document.createElement("tbody"),g.setAttribute("cellpadding","0"),g.setAttribute("cellspacing","0"),g.appendChild(L),g.appendChild(m),r.appendChild(g),(C=document.createElement("select")).className="jcalendar-select",C.onchange=function(){t.date[3]=this.value,"function"==typeof t.options.onupdate&&t.options.onupdate(n,t.getValue())};for(var E=0;E<24;E++)(D=document.createElement("option")).value=E,D.innerHTML=l.two(E),C.appendChild(D);for((I=document.createElement("select")).className="jcalendar-select",I.onchange=function(){t.date[4]=this.value,"function"==typeof t.options.onupdate&&t.options.onupdate(n,t.getValue())},E=0;E<60;E++){var D;(D=document.createElement("option")).value=E,D.innerHTML=l.two(E),I.appendChild(D)}var S=document.createElement("div");S.className="jcalendar-controls",(f=document.createElement("div")).className="jcalendar-time",f.style.maxWidth="140px",f.appendChild(C),f.appendChild(I),(A=document.createElement("button")).setAttribute("type","button"),A.className="jcalendar-update",(v=document.createElement("div")).style.flexGrow="10",v.appendChild(A),S.appendChild(f),"INPUT"==n.tagName&&S.appendChild(v),d.appendChild(S);var N=document.createElement("div");N.className="jcalendar-backdrop",a.appendChild(N),n.addEventListener("keyup",u),a.addEventListener("swipeleft",function(n){l.animation.slideLeft(g,0,function(){t.next(),l.animation.slideRight(g,1)}),n.preventDefault(),n.stopPropagation()}),a.addEventListener("swiperight",function(n){l.animation.slideRight(g,0,function(){t.prev(),l.animation.slideLeft(g,1)}),n.preventDefault(),n.stopPropagation()}),n.onmouseup=function(){t.open()},"ontouchend"in document.documentElement==1?a.addEventListener("touchend",o):a.addEventListener("mouseup",o),l.calendar.hasEvents||(l.calendar.hasEvents=!0,document.addEventListener("keydown",l.calendar.keydown)),t.setOptions(e),"INPUT"==n.tagName?(n.parentNode.insertBefore(a,n.nextSibling),n.setAttribute("autocomplete","off"),n.classList.add("jcalendar-input"),n.value=t.setLabel(t.getValue(),t.options)):(t.getDays(),t.options.time&&(C.value=t.date[3],I.value=t.date[4])),1==t.options.opened&&t.open(),n.change=t.setValue,n.val=function(l){if(void 0===l)return t.getValue();t.setValue(l)},n.calendar=a.calendar=t}(),t},l.calendar.keydown=function(n){var e=null;(e=l.calendar.current)&&(13==n.which?e.close(!1,!0):27==n.which&&e.close(!1,!1))},l.calendar.prettify=function(l,n){n||(n={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var e=new Date,t=new Date(l),o=parseInt((e-t)/1e3/60);if(String.prototype.format=function(l){return this.replace("{0}",l)},0==o)var u=n.justNow;else u=o<90?n.xMinutesAgo.format(o):o<1440?n.xHoursAgo.format(Math.round(o/60)):o<20160?n.xDaysAgo.format(Math.round(o/1440)):o<43200?n.xWeeksAgo.format(Math.round(o/10080)):o<1036800?n.xMonthsAgo.format(Math.round(o/43200)):n.xYearsAgo.format(Math.round(o/525600));return u},l.calendar.prettifyAll=function(){for(var n=document.querySelectorAll(".prettydate"),e=0;e<n.length;e++)n[e].getAttribute("data-date")?n[e].innerHTML=l.calendar.prettify(n[e].getAttribute("data-date")):(n[e].setAttribute("data-date",n[e].innerHTML),n[e].innerHTML=l.calendar.prettify(n[e].innerHTML))},l.calendar.now=function(n,e){n||(n=new Date);var t=n.getFullYear(),o=n.getMonth()+1,u=n.getDate(),r=n.getHours(),a=n.getMinutes(),i=n.getSeconds();return 1==e?l.two(t)+"-"+l.two(o)+"-"+l.two(u):l.two(t)+"-"+l.two(o)+"-"+l.two(u)+" "+l.two(r)+":"+l.two(a)+":"+l.two(i)},l.calendar.toArray=function(l){var n=(e=l.split(-1!==l.indexOf("T")?"T":" "))[1],e=e[0].split("-"),t=parseInt(e[0]),o=parseInt(e[1]),u=parseInt(e[2]);if(n){n=n.split(":");var r=parseInt(n[0]),a=parseInt(n[1])}else r=0,a=0;return[t,o,u,r,a,0]},l.calendar.extractDateFromString=function(n,e){if(n>0&&Number(n)==n)return(i=new Date(Math.round(86400*(n-25569)*1e3))).getFullYear()+"-"+l.two(i.getMonth())+"-"+l.two(i.getDate())+" 00:00:00";var t=""+n,o=e.replace(/[0-9]/g,""),u=1,r=o.search("YYYY");r=t.substr(r,4),parseInt(r)!=r&&(u=0);var a=o.search("MM");a=t.substr(a,2),(parseInt(a)!=a||a>12)&&(u=0);var i=o.search("DD");i=t.substr(i,2),(parseInt(i)!=i||i>31)&&(u=0);var s=o.search("HH");s>=0?(s=t.substr(s,2),(!parseInt(s)||s>23)&&(s="00")):s="00";var c=o.search("MI");c>=0?(c=t.substr(c,2),(!parseInt(c)||c>59)&&(c="00")):c="00";var d=o.search("SS");return d>=0?(d=t.substr(d,2),(!parseInt(d)||d>59)&&(d="00")):d="00",1==u&&n.length==o.length?r+"-"+a+"-"+i+" "+s+":"+c+":"+d:""},l.calendar.dateToNum=function(l,n){l=new Date(l),n||(n="1899-12-30 "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()),n=new Date(n);var e=l.getTime()-n.getTime();return Math.round(e/864e5)},l.calendar.numToDate=function(n){var e=new Date(Math.round(86400*(n-25569)*1e3));return e.getFullYear()+"-"+l.two(e.getMonth()+1)+"-"+l.two(e.getDate())+" 00:00:00"},l.calendar.getDateString=function(n,e){if(e||(e={}),n instanceof Date?n=l.calendar.now(n):n&&l.isNumeric(n)&&(n=l.calendar.numToDate(n)),e&&"object"==typeof e)var t=e.format;else t=e||"YYYY-MM-DD";if(e&&e.weekdays)var o=e.weekdays;else o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(e&&e.months)var u=e.months;else u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(e&&e.months)var r=e.monthsFull;else r=["January","February","March","April","May","June","July","August","September","October","November","December"];if(t=t?(t=t.replace(/h{1,2}:m{1,2} AM\/PM/g,"HH12:MI")).replace(/h{1,2}:m{1,2}/g,"HH24:MI"):"DD/MM/YYYY",n){var a=""+n,i=-1!==a.indexOf("T")?"T":" ",s="",c="",d="";if((a=a.split(i))[1]?(c=(s=a[1].split(":"))[1]?s[1]:"00",d=s[2]?s[2]:"00",s=s[0]?s[0]:"00"):(s="00",c="00",d="00"),(a=a[0].split("-"))[0]&&a[1]&&a[2]&&a[0]>0&&a[1]>0&&a[1]<13&&a[2]>0&&a[2]<32){var p=new Date(a[0],a[1]-1,a[2]);a[1]=(a[1].length<2?"0":"")+a[1],a[2]=(a[2].length<2?"0":"")+a[2],s=(s.length<2?"0":"")+s,c=(c.length<2?"0":"")+c,d=(d.length<2?"0":"")+d;for(var b=["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","HH24","HH12","HH","PM","AM","MI","SS","MS","MONTH","MON","Y","M"],g=[],m=n=t;m;){for(var h=0,f=0;f<b.length;f++)0==h&&0===m.toUpperCase().indexOf(b[f])&&(h=b[f].length);0==h?(g.push(m.substr(0,1)),m=m.substr(1)):(g.push(m.substr(0,h)),m=m.substr(h))}var v=function(l,n,e){if(1==e)for(var t=0;t<g.length;t++)(""+g[t]).toUpperCase()==l&&(g[t]=n);else for(t=0;t<g.length;t++)g[t]==l&&(g[t]=n)};v("YYYY",a[0],!0),v("YYY",a[0].substring(1,4),!0),v("YY",a[0].substring(2,4),!0),v("dddd",o[p.getDay()]),v("ddd",o[p.getDay()].substr(0,3)),v("DD",a[2],!0),v("Q",Math.floor((p.getMonth()+3)/3),!0),s&&v("HH24",s),s>12?(v("HH12",s-12,!0),v("HH",s-12,!0),v("AM","pm",!0),v("PM","pm",!0)):(v("HH12",s,!0),v("HH",s,!0),v("AM","am",!0),v("PM","am",!0)),v("MI",c,!0),v("SS",d,!0),v("MS",p.getMilliseconds(),!0),v("MONTH",r[p.getMonth()].toUpperCase()),v("Month",r[p.getMonth()]),v("month",r[p.getMonth()].toLowerCase()),v("MON",u[p.getMonth()].toUpperCase()),v("mmmmm",r[p.getMonth()].substr(0,1)),v("mmmm",u[p.getMonth()]),v("mmm",r[p.getMonth()]),v("MMM",u[p.getMonth()].toUpperCase()),v("MM",a[1],!0),v("Mon",u[p.getMonth()]),v("mon",u[p.getMonth()].toLowerCase()),v("m",a[1]),v("DAY",o[p.getDay()].toUpperCase()),v("Day",o[p.getDay()]),v("day",o[p.getDay()].toLowerCase()),v("DY",o[p.getDay()].substr(0,3).toUpperCase()),v("Dy",o[p.getDay()].substr(0,3)),v("dy",o[p.getDay()].substr(0,3).toLowerCase()),v("D",o[p.getDay()]),v("WD",o[p.getDay()]),v("d",a[2]),v("Y",a[0].substring(3,4),!0),n=g.join("")}else n=""}return n},l.color=function(n,e){if(n.color)return n.color.setOptions(e,!0);var t={type:"color",options:{}},o=null,u=null,r=null,a=null,i=null,s=null,c=null;t.setOptions=function(e,o){var u={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var r in e||(e={}),e&&!e.palette&&(e.palette=l.palette()),u)e&&e.hasOwnProperty(r)?t.options[r]=e[r]:void 0!==t.options[r]&&!0!==o||(t.options[r]=u[r]);return a&&(a.innerHTML=t.options.resetLabel),i&&(i.innerHTML=t.options.doneLabel),t.options.palette&&c&&c.updateContent(0,h()),"string"==typeof t.options.value&&(n.value=t.options.value),t.options.placeholder?n.setAttribute("placeholder",t.options.placeholder):n.getAttribute("placeholder")&&n.removeAttribute("placeholder"),t},t.open=function(){if(!o.classList.contains("jcolor-focus")){l.tracking(t,!0),o.classList.add("jcolor-focus");var e=r.getBoundingClientRect();if(l.getWindowWidth()<800||1==t.options.fullscreen)r.style.top="",r.classList.add("jcolor-fullscreen"),l.animation.slideBottom(r,1),u.style.display="block";else{r.classList.contains("jcolor-fullscreen")&&(r.classList.remove("jcolor-fullscreen"),u.style.display="");var a=n.getBoundingClientRect();t.options.position?(r.style.position="fixed",r.style.top=window.innerHeight<a.bottom+e.height?a.top-(e.height+2)+"px":a.top+a.height+2+"px",r.style.left=a.left+"px"):r.style.top=window.innerHeight<a.bottom+e.height?-1*(e.height+a.height+2)+"px":"2px"}if("function"==typeof t.options.onopen&&t.options.onopen(n),c.setBorder(c.getActive()),t.options.value){var i=m(t.options.value);w.forEach(function(l,n){l.value=i[n],l.dispatchEvent(new Event("input"))})}}},t.close=function(e){return o.classList.contains("jcolor-focus")&&(o.classList.remove("jcolor-focus"),u.style.display="",e||"function"!=typeof t.options.onclose||t.options.onclose(n),l.tracking(t,!1)),t.options.value},t.setValue=function(l){if(l||(l=""),l!=t.options.value){t.options.value=l,y=l;var e=o.querySelector(".jcolor-selected");e&&e.classList.remove("jcolor-selected"),t.values[l]&&t.values[l].classList.add("jcolor-selected"),"function"==typeof t.options.onchange&&t.options.onchange(n,l),n.value!=t.options.value&&(n.value=t.options.value,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value})),1==t.options.closeOnChange&&t.close()}},t.getValue=function(){return t.options.value};var d=!1,p=function(l){var n=l.toString(16);return 1===n.length?"0"+n:n},b=function(l,n,e){return"#"+p(l)+p(n)+p(e)},g=function(l){return parseInt("0x"+l)},m=function(l){return[g(l.substr(1,2)),g(l.substr(3,2)),g(l.substr(5,2))]},h=function(){var l=document.createElement("div");l.className="jcolor-grid",t.values=[];var n=document.createElement("table");n.setAttribute("cellpadding","7"),n.setAttribute("cellspacing","0");for(var e=0;e<t.options.palette.length;e++){for(var o=document.createElement("tr"),u=0;u<t.options.palette[e].length;u++){var r=document.createElement("td"),a=t.options.palette[e][u];a.length<7&&"#"!==a.substr(0,1)&&(a="#"+a),r.style.backgroundColor=a,r.setAttribute("data-value",a),r.innerHTML="",o.appendChild(r),t.options.value==a&&r.classList.add("jcolor-selected"),t.values[a]=r}n.appendChild(o)}return l.appendChild(n),l.addEventListener("mousedown",function(l){if("TD"==l.target.tagName){var n=l.target.getAttribute("data-value");n&&t.setValue(n)}}),l},f=document.createElement("canvas");f.width=200,f.height=160;var v=f.getContext("2d"),A=function(){var l=s.firstChild.getBoundingClientRect();f.width=l.width-14,C()},C=function(){var l=v.createLinearGradient(0,0,f.width,0);l.addColorStop(0,"rgb(255,0,0)"),l.addColorStop(.15,"rgb(255,0,255)"),l.addColorStop(.33,"rgb(0,0,255)"),l.addColorStop(.49,"rgb(0,255,255)"),l.addColorStop(.67,"rgb(0,255,0)"),l.addColorStop(.84,"rgb(255,255,0)"),l.addColorStop(1,"rgb(255,0,0)"),v.fillStyle=l,v.fillRect(0,0,f.width,f.height),(l=v.createLinearGradient(0,0,0,f.height)).addColorStop(0,"rgba(255,255,255,1)"),l.addColorStop(.5,"rgba(255,255,255,0)"),l.addColorStop(.5,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,1)"),v.fillStyle=l,v.fillRect(0,0,f.width,f.height)},I=function(){var l=document.createElement("div");l.className="jcolor-hsl";var n=document.createElement("div");n.className="jcolor-point";var e=document.createElement("div");e.appendChild(f),e.appendChild(n),l.appendChild(e);var t=function(e,t,o){if(1===e){var u=l.getBoundingClientRect(),r=t-u.left,a=o-u.top;r<0&&(r=0),a<0&&(a=0),r>u.width&&(r=u.width),a>u.height&&(a=u.height),n.style.left=r+"px",n.style.top=a+"px";var i=v.getImageData(r,a,1,1).data;y=b(i[0],i[1],i[2])}};return l.addEventListener("mousedown",function(l){t(l.buttons,l.clientX,l.clientY)}),l.addEventListener("mousemove",function(l){t(l.buttons,l.clientX,l.clientY)}),l.addEventListener("touchmove",function(l){t(1,l.changedTouches[0].clientX,l.changedTouches[0].clientY)}),l},y="",w=[],x=function(){var l=document.createElement("div");l.className="jcolor-sliders";var n=document.createElement("div"),e=function(l){var e=document.createElement("div");e.className="jcolor-sliders-input-container";var t=document.createElement("label");t.innerText=l;var o=document.createElement("div");o.className="jcolor-sliders-input-subcontainer";var u=document.createElement("input");u.type="range",u.min=0,u.max=255,u.value=0,e.appendChild(t),o.appendChild(u);var r=document.createElement("div");return r.innerText=u.value,u.addEventListener("input",function(){r.innerText=u.value}),o.appendChild(r),e.appendChild(o),n.appendChild(e),u};w=[e("Red"),e("Green"),e("Blue")],l.appendChild(n);var t=document.createElement("div");t.className="jcolor-sliders-final-color";var o=document.createElement("div");return o.style.visibility="hidden",o.innerText="a",t.appendChild(o),w.forEach(function(l){l.addEventListener("input",function(){var l;l=b(parseInt(w[0].value),parseInt(w[1].value),parseInt(w[2].value)),o.innerText=l,o.style.color=l,o.style.removeProperty("visibility"),y=l,function(){if(""!==y)for(var l=0;l<w.length;l++){var n=m(y);n[l]=0;var e="linear-gradient(90deg, rgb(";e+=n.join(", "),e+="), rgb(",n[l]=255,e+=n.join(", "),w[l].style.backgroundImage=e+="))"}}()})}),l.appendChild(t),l};return function(){t.setOptions(e),"INPUT"==n.tagName&&(n.classList.add("jcolor-input"),n.readOnly=!0),(o=document.createElement("div")).className="jcolor",(u=document.createElement("div")).className="jcolor-backdrop",o.appendChild(u),(r=document.createElement("div")).className="jcolor-content";var p=document.createElement("div");p.className="jcolor-controls",r.appendChild(p),(a=document.createElement("div")).className="jcolor-reset",a.innerHTML=t.options.resetLabel,a.onclick=function(l){t.setValue(""),t.close()},p.appendChild(a),(i=document.createElement("div")).className="jcolor-close",i.innerHTML=t.options.doneLabel,i.onclick=function(l){c.getActive()>0&&t.setValue(y),t.close()},p.appendChild(i),s=document.createElement("div"),r.appendChild(s),c=l.tabs(s,{animation:!0,data:[{title:"Grid",contentElement:h()},{title:"Spectrum",contentElement:I()},{title:"Sliders",contentElement:x()}],onchange:function(l,n,e){if(1===e)A();else{var o=""!==y?y:t.getValue();if(2===e&&o){var u=m(o);w.forEach(function(l,n){l.value=u[n],l.dispatchEvent(new Event("input"))})}}},palette:"modern"}),o.appendChild(r),"INPUT"==n.tagName?n.parentNode.insertBefore(o,n.nextSibling):n.appendChild(o),n.addEventListener("mouseup",function(l){t.open()}),u.addEventListener("mousedown",function(l){d=!0}),u.addEventListener("mouseup",function(l){d&&(t.close(),d=!1)}),window.addEventListener("resize",function(){o.classList.contains("jcolor-focus")&&1==c.getActive()&&A()}),1==t.options.opened&&t.open(),n.change=t.setValue,n.val=function(l){if(void 0===l)return t.getValue();t.setValue(l)},n.color=t,o.color=t}(),t},l.contextmenu=function(n,e){var t={options:{}},o={items:null,onclick:null};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];function r(l){if(!l.type||"line"!=l.type&&"divisor"!=l.type){s=document.createElement("div");var n=document.createElement("a");if(n.innerHTML=l.title,l.tooltip&&s.setAttribute("title",l.tooltip),l.icon&&s.setAttribute("data-icon",l.icon),l.id&&(s.id=l.id),l.disabled?s.className="jcontextmenu-disabled":l.onclick&&(s.method=l.onclick,s.addEventListener("mousedown",function(l){l.preventDefault()}),s.addEventListener("mouseup",function(){this.method(this)})),s.appendChild(n),l.submenu){var e=document.createElement("span");e.innerHTML="&#9658;",s.appendChild(e),s.classList.add("jcontexthassubmenu");var t=document.createElement("div");t.classList.add("jcontextmenu"),t.setAttribute("tabindex","900");for(var o=l.submenu,u=0;u<o.length;u++){var a=r(o[u]);t.appendChild(a)}s.appendChild(t)}else if(l.shortcut){var i=document.createElement("span");i.innerHTML=l.shortcut,s.appendChild(i)}}else var s=document.createElement("hr");return s}return n.classList.add("jcontextmenu"),n.setAttribute("tabindex","900"),t.open=function(l,e){if(e&&(t.options.items=e,t.create(e)),t.options.items&&t.options.items.length>0||n.children.length){if(l.target)var o=l.clientX,u=l.clientY;else o=l.x,u=l.y;n.classList.add("jcontextmenu-focus"),n.focus();var r=n.getBoundingClientRect();if(window.innerHeight<u+r.height){var a=u-r.height;a<0&&(a=0),n.style.top=a+"px"}else n.style.top=u+"px";n.style.left=window.innerWidth<o+r.width?o-r.width>0?o-r.width+"px":"10px":o+"px"}},t.close=function(){n.classList.contains("jcontextmenu-focus")&&n.classList.remove("jcontextmenu-focus")},t.create=function(l){n.innerHTML="";for(var e=0;e<l.length;e++){var t=r(l[e]);n.appendChild(t)}},"function"==typeof t.options.onclick&&n.addEventListener("click",function(l){t.options.onclick(t,l)}),t.options.items&&t.create(t.options.items),n.addEventListener("blur",function(l){t.close()}),l.contextmenu.hasEvents||(window.addEventListener("mousewheel",function(){t.close()}),document.addEventListener("contextmenu",function(n){var e=l.contextmenu.getElement(n.target);if(e){var t=document.querySelector("#"+e);t?(t.contextmenu.open(n),n.preventDefault()):console.error("JSUITES: Contextmenu id not found")}}),l.contextmenu.hasEvents=!0),n.contextmenu=t,t},l.contextmenu.getElement=function(l){var n=0;return function l(e){e.parentNode&&e.getAttribute("aria-contextmenu-id")?n=e.getAttribute("aria-contextmenu-id"):e.parentNode&&l(e.parentNode)}(l),n},l.dropdown=function(n,e){if(n.dropdown)return n.dropdown.setOptions(e,!0);var t={type:"dropdown",options:{}},o=function(l,e){l&&l.length&&(!1!==t.options.sortResults&&l.sort("function"==typeof t.options.sortResults?t.options.sortResults:u),t.setData(l),"function"==typeof t.options.onload&&t.options.onload(n,t,l,e)),e&&a(e),null==e&&(t.options.value=""),n.value=t.options.value,1==t.options.opened&&t.open()},u=function(l,n){var e,t;return"string"==typeof l?e=l:l.text?e=l.text:l.name&&(e=l.name),"string"==typeof n?t=n:n.text?t=n.text:n.name&&(t=n.name),"string"==typeof e||"string"==typeof t?("string"!=typeof e&&(e=""+e),"string"!=typeof t&&(t=""+t),e.localeCompare(t)):e-t},r=function(){t.value={};for(var l=0;l<t.items.length;l++)1==t.items[l].selected&&(t.items[l].element&&t.items[l].element.classList.remove("jdropdown-selected"),t.items[l].selected=null);t.options.value=""},a=function(l){if(r(),null!==l)if(l){Array.isArray(l)||(l=(""+l).split(";"));for(var n=0;n<l.length;n++)t.value[l[n]]=""}else void 0!==t.value[""]&&(t.value[""]="");for(n=0;n<t.items.length;n++)void 0!==t.value[i(n)]&&(t.items[n].element&&t.items[n].element.classList.add("jdropdown-selected"),t.items[n].selected=!0,t.value[i(n)]=s(n));t.options.value=Object.keys(t.value).join(";"),t.header.value=t.getText()},i=function(l,n){if(t.options.format)e="id";else var e="value";return t.items[l]?void 0!==n?t.items[l].data[e]=n:t.items[l].data[e]:""},s=function(l,n){if(t.options.format)e="name";else var e="text";return t.items[l]?void 0!==n?t.items[l].data[e]=n:t.items[l].data[e]:""},c=function(){return Object.keys(t.value)},d=function(){for(var l=[],n=Object.keys(t.value),e=0;e<n.length;e++)l.push(t.value[n[e]]);return l};t.setOptions=function(e,u){e||(e={});var r={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var a in r)e&&e.hasOwnProperty(a)?t.options[a]=e[a]:void 0!==t.options[a]&&!0!==u||(t.options[a]=r[a]);return 1!=t.options.remoteSearch&&"searchbar"!==t.options.type||(t.options.autocomplete=!0),1==t.options.newOptions?t.header.classList.add("jdropdown-add"):t.header.classList.remove("jdropdown-add"),1==t.options.autocomplete?t.header.removeAttribute("readonly"):t.header.setAttribute("readonly","readonly"),t.options.placeholder?t.header.setAttribute("placeholder",t.options.placeholder):t.header.removeAttribute("placeholder"),n.classList.remove("jdropdown-searchbar"),n.classList.remove("jdropdown-picker"),n.classList.remove("jdropdown-list"),"searchbar"==t.options.type?n.classList.add("jdropdown-searchbar"):"list"==t.options.type?n.classList.add("jdropdown-list"):"picker"==t.options.type?n.classList.add("jdropdown-picker"):l.getWindowWidth()<800?t.options.autocomplete?(n.classList.add("jdropdown-searchbar"),t.options.type="searchbar"):(n.classList.add("jdropdown-picker"),t.options.type="picker"):(t.options.width?(n.style.width=t.options.width,n.style.minWidth=t.options.width):(n.style.removeProperty("width"),n.style.removeProperty("min-width")),n.classList.add("jdropdown-default"),t.options.type="default"),"searchbar"==t.options.type?p.appendChild(m):b.insertBefore(m,b.firstChild),t.options.url&&!e.data?l.ajax({url:t.options.url,method:"GET",dataType:"json",success:function(l){l&&o(l,t.options.value)}}):o(t.options.data,t.options.value),t};var p=null,b=null,g=null,m=null,h=null,f=null,v=null;t.getUrl=function(){return t.options.url},t.setUrl=function(n,e){t.options.url=n,l.ajax({url:t.options.url,method:"GET",dataType:"json",success:function(l){t.setData(l),"function"==typeof e&&e(t)}})},t.setId=function(l,n){if(t.options.format)e="id";else var e="value";"object"==typeof l?l[e]=n:t.items[l].data[e]=n},t.add=function(n){if(!n&&!(n=prompt("Text",1==t.options.autocomplete?t.header.value:"")))return!1;var e=l.guid();if(t.options.format)o={id:e,name:n};else var o={value:e,text:n};"function"==typeof t.options.onbeforeinsert&&t.options.onbeforeinsert(t,o),t.options.data.push(o);var u=t.createItem(o);return g.appendChild(u.element),"function"==typeof t.options.oninsert&&t.options.oninsert(t,o,u),"none"==g.style.display&&(g.style.display=""),o},t.createItem=function(l,n,e){t.options.format?(l.id||void 0===l.value||(l.id=l.value),l.name||void 0===l.text||(l.name=l.text)):(l.value||void 0===l.id||(l.value=l.id),l.text||void 0===l.name||(l.text=l.name));var o={};if(o.element=document.createElement("div"),o.element.className="jdropdown-item",o.element.indexValue=t.items.length,o.data=l,n&&(o.group=n),l.id&&o.element.setAttribute("id",l.id),1==l.disabled&&o.element.setAttribute("data-disabled",!0),l.image){var u=document.createElement("img");u.className="jdropdown-image",u.src=l.image,l.title||u.classList.add("jdropdown-image-small"),o.element.appendChild(u)}else if(l.color){var r=document.createElement("div");r.className="jdropdown-color",r.style.backgroundColor=l.color,o.element.appendChild(r)}if(t.options.format)a=l.name;else var a=l.text;var i=document.createElement("div");if(i.className="jdropdown-description",i.innerHTML=a||"&nbsp;",l.title){var s=document.createElement("div");s.className="jdropdown-title",s.innerText=l.title,i.appendChild(s)}if(t.options.format)c=l.id;else var c=l.value;return t.value[c]&&(o.element.classList.add("jdropdown-selected"),o.selected=!0),t.items.push(o),o.element.appendChild(i),o},t.appendData=function(l){if(l.length){t.numOfItems=0;for(var n=[],e=[],o=0;o<l.length;o++)l[o].group?(e[l[o].group]||(e[l[o].group]=[]),e[l[o].group].push(o)):n.push(o);var u=Object.keys(e);if(u.length>0)for(o=0;o<u.length;o++){var r=document.createElement("div");r.className="jdropdown-group";var a=document.createElement("div");a.className="jdropdown-group-name",a.innerHTML=u[o];var i=document.createElement("i");i.className="jdropdown-group-arrow jdropdown-group-arrow-down",a.appendChild(i);var s=document.createElement("div");s.className="jdropdown-group-items";for(var c=0;c<e[u[o]].length;c++){var d=t.createItem(l[e[u[o]][c]],r,u[o]);(0==t.options.lazyLoading||t.numOfItems<200)&&(s.appendChild(d.element),t.numOfItems++)}r.appendChild(a),r.appendChild(s),t.groups.push(r),s.children.length>0&&g.appendChild(r)}if(n.length)for(o=0;o<n.length;o++)d=t.createItem(l[n[o]]),(0==t.options.lazyLoading||t.numOfItems<200)&&(g.appendChild(d.element),t.numOfItems++)}},t.setData=function(l){if(l.length){for(var n=0;n<l.length;n++)"object"!=typeof l[n]&&(l[n]=t.options.format?{id:l[n],name:l[n]}:{value:l[n],text:l[n]});r(),g.innerHTML="",t.header.value="",t.items=[],t.appendData(l),t.options.data=l}},t.getData=function(){return t.options.data},t.getPosition=function(l){for(var n=0;n<t.items.length;n++)if(i(n)==l)return n;return 0},t.getText=function(l){var n=d();return l?n:n.join("; ")},t.getValue=function(l){var n=c();return l?n:n.join(";")};var A=function(l){"function"==typeof t.options.onchange&&t.options.onchange(n,t,l,t.options.value),n.value!=t.options.value&&(n.value=t.options.value,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value}))};t.setValue=function(l){var n=t.getValue();Array.isArray(l)&&(l=l.join(";")),n!==l&&(a(l),A(n))},t.resetSelected=function(){t.setValue(null)},t.selectIndex=function(l,n){if(l=parseInt(l),t.items&&t.items[l]&&(!0===n||!0!==t.items[l].data.disabled))if(t.setCursor(l,!1),t.options.multiple){var e=t.options.value;t.items[l].selected?(t.items[l].element.classList.remove("jdropdown-selected"),t.items[l].selected=!1,delete t.value[i(l)]):(t.items[l].element.classList.add("jdropdown-selected"),t.items[l].selected=!0,t.value[i(l)]=s(l)),t.options.value=Object.keys(t.value).join(";"),0==t.options.autocomplete&&(t.header.value=d().join("; ")),A(e)}else t.setValue(t.items[l].selected?null:i(l)),t.close()},t.selectItem=function(l){t.selectIndex(l.indexValue)};var C=function(l,n){for(var e=0;e<n.length;e++)if(t.options.format){if(n[e].id==l)return!0}else if(n[e].value==l)return!0;return!1};t.find=function(n){if(t.search==n.trim())return!1;if(t.search=n,t.numOfItems=0,1==t.options.remoteSearch)t.currentIndex=null,t.results=null,l.ajax({url:t.options.url+"?q="+n,method:"GET",dataType:"json",success:function(l){t.items=[],g.innerHTML="";var n=Object.keys(t.value);if(n.length)for(var e=0;e<n.length;e++)C(n[e],l)||l.unshift(t.options.format?{id:n[e],name:t.value[n[e]]}:{value:n[e],text:t.value[n[e]]});t.appendData(l),g.style.display=l.length?"":"none"}});else{n=new RegExp(n,"gi"),t.results=[];for(var e=0;e<t.items.length;e++){var o=s(e),u=t.items[e].data.title||"",r=t.items[e].data.group||"",a=t.items[e].data.synonym||"";if(a&&(a=a.join(" ")),(null==n||1==t.items[e].selected||o.match(n)||u.match(n)||r.match(n)||a.match(n))&&(t.results.push(t.items[e]),t.items[e].group&&t.items[e].group.children[1].children[0]))for(;t.items[e].group.children[1].children[0];)t.items[e].group.children[1].removeChild(t.items[e].group.children[1].children[0])}for(;g.children[0];)g.removeChild(g.children[0]);var i=t.results.length||0;for(1==t.options.lazyLoading&&i>200&&(i=200),e=0;e<i;e++)t.results[e].group?(t.results[e].group.parentNode||g.appendChild(t.results[e].group),t.results[e].group.children[1].appendChild(t.results[e].element)):g.appendChild(t.results[e].element),t.numOfItems++;g.style.display=t.results.length?"":"none"}1==t.options.autofocus&&t.firstVisible()},t.open=function(){if(!n.classList.contains("jdropdown-focus")){l.dropdown.current=t,l.tracking(t,!0),n.classList.add("jdropdown-focus"),l.getWindowWidth()<800&&(null!=t.options.type&&"picker"!=t.options.type||l.animation.slideBottom(b,1)),1==t.options.autocomplete&&(t.header.value=t.search,t.header.focus());var e=Object.keys(c());if(e[0]){var o=t.getPosition(e[0]);o&&t.setCursor(o)}if(!t.options.type||"default"==t.options.type){var u=n.getBoundingClientRect(),r=b.getBoundingClientRect();t.options.position?(b.style.position="fixed",window.innerHeight<u.bottom+r.height?(b.style.top="",b.style.bottom=window.innerHeight-u.top+1+"px"):(b.style.top=u.bottom+"px",b.style.bottom=""),b.style.left=u.left+"px"):window.innerHeight<u.bottom+r.height?(b.style.top="",b.style.bottom=u.height+1+"px"):(b.style.top="",b.style.bottom=""),b.style.minWidth=u.width+"px",t.options.maxWidth&&(b.style.maxWidth=t.options.maxWidth),g.style.display=t.items.length||1!=t.options.autocomplete?"":"none"}}"function"==typeof t.options.onopen&&t.options.onopen(n)},t.close=function(e){return n.classList.contains("jdropdown-focus")&&(t.header.value=t.getText(),t.setCursor(),e||"function"!=typeof t.options.onclose||t.options.onclose(n),t.header.blur&&t.header.blur(),n.classList.remove("jdropdown-focus"),l.tracking(t,!1),l.dropdown.current=null),t.getValue()},t.setCursor=function(l,n){if(null!=t.currentIndex&&t.items&&t.items[t.currentIndex]&&t.items[t.currentIndex].element.classList.remove("jdropdown-cursor"),null==l)t.currentIndex=null;else if(parseInt(l),t.items[l].element.classList.add("jdropdown-cursor"),t.currentIndex=l,!1!==n&&t.items[t.currentIndex].element){var e=t.items[t.currentIndex].element;g.scrollTop=e.offsetTop-e.scrollTop+e.clientTop-95}},t.resetCursor=t.setCursor,t.updateCursor=t.setCursor,t.reset=function(){t.setCursor(),t.setValue(null)},t.firstVisible=function(){for(var l=null,n=0;n<t.items.length;n++)if(t.items&&t.items[n]&&t.items[n].element.parentNode&&"none"!=t.items[n].element.style.display){l=n;break}if(null==l)return!1;t.setCursor(l)},t.first=function(){for(var l=null,n=t.currentIndex-1;n>=0;n--)t.items&&t.items[n]&&t.items[n].element.parentNode&&"none"!=t.items[n].element.style.display&&(l=n);if(null==l)return!1;t.setCursor(l)},t.last=function(){for(var l=null,n=t.currentIndex+1;n<t.items.length;n++)t.items&&t.items[n]&&t.items[n].element.parentNode&&"none"!=t.items[n].element.style.display&&(l=n);if(null==l)return!1;t.setCursor(l)};var I=function(l,n){for(var e=l;e<t.items.length;e++)if(t.items&&t.items[e]&&t.items[e].element.parentNode&&(!n||(""+s(e)).substr(0,1).toLowerCase()==n))return e;return null};return t.next=function(l){if(l&&1==l.length&&(l=l.toLowerCase()),null===t.currentIndex)var n=t.currentIndex=0;else n=t.currentIndex+1;var e=I(n,l);if(null==e&&l&&null==(e=I(0,l)))return!1;t.setCursor(e)},t.prev=function(){for(var l=null,n=t.currentIndex-1;n>=0;n--)if(t.items&&t.items[n]&&t.items[n].element.parentNode){l=n;break}if(null==l)return!1;t.setCursor(l)},t.loadUp=function(){return!1},t.loadDown=function(){var l=!1;if(t.results)var n=t.results;else n=t.items;if(n.length>t.numOfItems){var e=t.numOfItems,o=n.length-e;o>200&&(o=200);for(var u=e;u<e+o;u++)n[u].group?(n[u].group.parentNode||g.appendChild(n[u].group),n[u].group.children[2].appendChild(n[u].element)):g.appendChild(n[u].element),t.numOfItems++;l=!0}return l},function(){if(e||(e={}),"SELECT"==n.tagName){var o=l.dropdown.extractFromDom(n,e);n=o.el,e=o.options}!e.placeholder&&n.getAttribute("placeholder")&&(e.placeholder=n.getAttribute("placeholder")),t.value={},t.items=[],t.groups=[],t.search="",t.results=null,t.numOfItems=0,n.classList.add("jdropdown"),(p=document.createElement("div")).className="jdropdown-container-header",t.header=document.createElement("input"),t.header.className="jdropdown-header",t.header.setAttribute("autocomplete","off"),t.header.onfocus=function(){"function"==typeof t.options.onfocus&&t.options.onfocus(n)},t.header.onblur=function(){"function"==typeof t.options.onblur&&t.options.onblur(n)},t.header.onkeyup=function(l){1!=t.options.autocomplete||v?t.options.autocomplete||t.next(l.key):(t.search!=t.header.value.trim()&&(v=setTimeout(function(){t.find(t.header.value.trim()),v=null},400)),n.classList.contains("jdropdown-focus")||t.open())},l.dropdown.hasEvents||(l.dropdown.hasEvents=!0,document.addEventListener("keydown",l.dropdown.keydown)),(b=document.createElement("div")).className="jdropdown-container",(g=document.createElement("div")).className="jdropdown-content",(m=document.createElement("div")).className="jdropdown-close",m.innerHTML="Done",(h=document.createElement("div")).className="jdropdown-reset",h.innerHTML="x",h.onclick=function(){t.reset(),t.close()},(f=document.createElement("div")).className="jdropdown-backdrop",p.appendChild(t.header),b.appendChild(g),n.appendChild(p),n.appendChild(b),n.appendChild(f),t.setOptions(e),"ontouchsend"in document.documentElement==1?n.addEventListener("touchsend",l.dropdown.mouseup):n.addEventListener("mouseup",l.dropdown.mouseup),1==t.options.lazyLoading&&l.lazyLoading(g,{loadUp:t.loadUp,loadDown:t.loadDown}),n.change=t.setValue,n.val=function(l){if(void 0===l)return t.getValue(!!t.options.multiple);t.setValue(l)},n.dropdown=t}(),t},l.dropdown.keydown=function(n){var e=null;(e=l.dropdown.current)&&(13==n.which?(null==e.currentIndex&&1==e.options.autocomplete&&""!=e.header.value&&e.find(e.header.value),e.selectIndex(e.currentIndex)):38==n.which?(null==e.currentIndex?e.firstVisible():e.currentIndex>0&&e.prev(),n.preventDefault()):40==n.which?(null==e.currentIndex?e.firstVisible():e.currentIndex+1<e.items.length&&e.next(),n.preventDefault()):36==n.which?e.first():35==n.which?e.last():27==n.which&&e.close())},l.dropdown.mouseup=function(n){var e=l.findElement(n.target,"jdropdown");if(e){var t=e.dropdown;if(n.target.classList.contains("jdropdown-header"))if(e.classList.contains("jdropdown-focus")&&e.classList.contains("jdropdown-default")){var o=e.getBoundingClientRect();if(n.changedTouches&&n.changedTouches[0])var u=n.changedTouches[0].clientX;else u=n.clientX;o.width-(u-o.left)<30?n.target.classList.contains("jdropdown-add")?t.add():t.close():0==t.options.autocomplete&&t.close()}else t.open();else if(n.target.classList.contains("jdropdown-group-name")){var r=n.target.nextSibling.children;if("none"!=n.target.nextSibling.style.display)for(var a=0;a<r.length;a++)"none"!=r[a].style.display&&t.selectItem(r[a])}else n.target.classList.contains("jdropdown-group-arrow")?n.target.classList.contains("jdropdown-group-arrow-down")?(n.target.classList.remove("jdropdown-group-arrow-down"),n.target.classList.add("jdropdown-group-arrow-up"),n.target.parentNode.nextSibling.style.display="none"):(n.target.classList.remove("jdropdown-group-arrow-up"),n.target.classList.add("jdropdown-group-arrow-down"),n.target.parentNode.nextSibling.style.display=""):n.target.classList.contains("jdropdown-item")?t.selectItem(n.target):n.target.classList.contains("jdropdown-image")?t.selectItem(n.target.parentNode):n.target.classList.contains("jdropdown-description")?t.selectItem(n.target.parentNode):n.target.classList.contains("jdropdown-title")?t.selectItem(n.target.parentNode.parentNode):(n.target.classList.contains("jdropdown-close")||n.target.classList.contains("jdropdown-backdrop"))&&t.close()}},l.dropdown.extractFromDom=function(l,n){var e=l;if(n||(n={}),!l.getAttribute("multiple")||n&&null!=n.multiple||(n.multiple=!0),!l.getAttribute("placeholder")||n&&null!=n.placeholder||(n.placeholder=l.getAttribute("placeholder")),!l.getAttribute("data-autocomplete")||n&&null!=n.autocomplete||(n.autocomplete=!0),n&&null!=n.width||(n.width=l.offsetWidth),!l.value||n&&null!=n.value||(n.value=l.value),!n||null==n.data){n.data=[];for(var t=0;t<l.children.length;t++)if("OPTGROUP"==l.children[t].tagName)for(var o=0;o<l.children[t].children.length;o++)n.data.push({value:l.children[t].children[o].value,text:l.children[t].children[o].innerHTML,group:l.children[t].getAttribute("label")});else n.data.push({value:l.children[t].value,text:l.children[t].innerHTML})}n&&null!=n.onchange||(n.onchange=function(l,t,o,u){1==n.multiple?obj.items[t].classList.contains("jdropdown-selected")?e.options[t].setAttribute("selected","selected"):e.options[t].removeAttribute("selected"):e.value=u});var u=document.createElement("div");return l.parentNode.insertBefore(u,l),l.style.display="none",{el:l=u,options:n}},l.editor=function(n,e){var t={options:{}},o={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsSnippet:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];var r=null,a=null,i=[];n.innerHTML="",t.el=n,"function"==typeof t.options.onclick&&(n.onclick=function(l){t.options.onclick(n,t,l)}),n.classList.add("jeditor-container"),1==t.options.padding&&n.classList.add("jeditor-padding"),0==t.options.border&&(n.style.border="0px");var s=document.createElement("div");s.className="jsnippet",s.setAttribute("contenteditable",!1);var c=document.createElement("div");c.className="jeditor-toolbar";var d=document.createElement("div");if(d.setAttribute("contenteditable",!0),d.setAttribute("spellcheck",!1),d.className="jeditor",t.options.placeholder&&d.setAttribute("data-placeholder",t.options.placeholder),(t.options.maxHeight||t.options.height)&&(d.style.overflowY="auto",t.options.maxHeight&&(d.style.maxHeight=t.options.maxHeight),t.options.height&&(d.style.height=t.options.height)),t.options.value)var p=t.options.value;else p=n.innerHTML?n.innerHTML:"";p||(p="");var b=function(l){"function"==typeof t.options.onchange&&t.options.onchange(n,t,l),t.options.value=t.getData(),n.value!=t.options.value&&(n.value=t.options.value,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value}))},g=function(l){var n,e;window.getSelection&&(n=window.getSelection()).rangeCount&&((e=n.getRangeAt(0)).toString(),e.deleteContents(),e.insertNode(l),e.setStartAfter(l),e.setEndAfter(l),n.removeAllRanges(),n.addRange(e))},m=function(){var l=null;if(l=s.children[0]){l.classList.contains("jslider-grid")||l.classList.add("jslider-grid");var n=l.children.length;l.setAttribute("data-number",n>4?4:n),n>4?l.setAttribute("data-total",n-4):l.removeAttribute("data-total")}},h=function(l){s.innerHTML="";for(var n=["image","title","description","host","url"],e=0;e<n.length;e++){var t=document.createElement("div");if(t.className="jsnippet-"+n[e],t.setAttribute("data-k",n[e]),s.appendChild(t),l[n[e]])if("image"==n[e]){Array.isArray(l.image)||(l.image=[l.image]);for(var o=0;o<l.image.length;o++){var u=document.createElement("img");u.src=l.image[o],t.appendChild(u)}}else t.innerHTML=l[n[e]]}d.appendChild(document.createElement("br")),d.appendChild(s)},f=function(){clearTimeout(r),r=setTimeout(function(){if(!d.querySelector(".jsnippet")){var n=d.innerHTML.replace(/\n/g," "),e=document.createElement("div");e.innerHTML=n;var o=l.editor.detectUrl(e.innerText);if(o)if("jpg"==o[0].substr(-3)||"png"==o[0].substr(-3)||"gif"==o[0].substr(-3))t.addImage(o[0],!0);else{var u=l.editor.youtubeParser(o[0]);t.parseWebsite(o[0],u)}}},1e3)};t.parseContent=function(){f()},t.parseWebsite=function(n,e){if(t.options.remoteParser){e&&(n="https://www.youtube.com/watch?v="+e);var o={title:"",description:"",image:"",host:n.split("/")[2],url:n};l.ajax({url:t.options.remoteParser+encodeURI(n.trim()),method:"GET",dataType:"json",success:function(l){l.title&&(o.title=l.title),l.description&&(o.description=l.description),l.host&&(o.host=l.host),l.url&&(o.url=l.url),h(o),l.image?t.addImage(l.image,!0):l["og:image"]&&t.addImage(l["og:image"],!0)}})}else console.log("The remoteParser is not defined")},t.setData=function(n){d.innerHTML=n,t.options.focus&&l.editor.setCursor(d,!0),i=[]},t.getFiles=function(){for(var l=d.querySelectorAll(".jfile"),n=[],e=0;e<l.length;e++)i[l[e].src]&&n.push(i[l[e].src]);return n},t.getText=function(){return d.innerText},t.getData=function(l){if(l){if(r={content:""},s.innerHTML){r.snippet={};for(var n=0;n<s.children.length;n++){var e=s.children[n].getAttribute("data-k");if(e)if("image"==e){r.snippet.image||(r.snippet.image=[]);for(var t=0;t<s.children[n].children.length;t++)r.snippet.image.push(s.children[n].children[t].getAttribute("src"))}else r.snippet[e]=s.children[n].innerHTML}}var o=Object.keys(i);if(o.length)for(r.files=[],n=0;n<o.length;n++)r.files.push(i[o[n]]);var u=d.innerHTML;u=(u=(u=u.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),r.content=u.trim()}else var r=d.innerHTML;return r},t.reset=function(){d.innerHTML="",s.innerHTML="",i=[]},t.addPdf=function(l){if("data"!=l.result.substr(0,4))console.error("Invalid source");else{var n=document.createElement("canvas");n.width=60,n.height=60;var e=new Image;n.getContext("2d").drawImage(e,0,0,n.width,n.height),n.toBlob(function(n){var e=document.createElement("img");e.src=window.URL.createObjectURL(n),e.title=l.name,e.className="jfile pdf",i[e.src]={file:e.src,extension:"pdf",content:l.result},g(e)})}},t.addImage=function(l,n){if("data"==l.substr(0,4)||t.options.remoteParser){if("data"==l.substr(0,4))e=(e=(e=l.split(";"))[0].split("/"))[1];else{var e=l.substr(l.lastIndexOf(".")+1);l=t.options.remoteParser+l}var o=new Image;o.onload=function(){var l=document.createElement("canvas");l.width=o.width,l.height=o.height,l.getContext("2d").drawImage(o,0,0,l.width,l.height),l.toBlob(function(o){var u,r=document.createElement("img");r.src=window.URL.createObjectURL(o),r.classList.add("jfile"),r.setAttribute("tabindex","900"),i[r.src]={file:r.src,extension:e,content:l.toDataURL()},t.options.dropAsSnippet||n?(u=r,s.innerHTML||h({}),s.children[0].appendChild(u),m(),i[r.src].snippet=!0):g(r),b()})},o.src=l}else console.error("remoteParser not defined in your initialization")},t.addFile=function(l){for(var n=[],e=0;e<l.length;e++)if(l[e].size>t.options.maxFileSize)alert("The file is too big");else{var o=l[e].type.split("/");(o="image"==o[0]?1:"pdf"==o[1]?2:0)?(n[e]=new FileReader,n[e].index=e,n[e].type=o,n[e].name=l[e].name,n[e].date=l[e].lastModified,n[e].size=l[e].size,n[e].addEventListener("load",function(l){2==l.target.type?1==t.options.acceptFiles&&t.addPdf(l.target):t.addImage(l.target.result)},!1),n[e].readAsDataURL(l[e])):alert("The extension is not allowed")}},t.destroy=function(){d.removeEventListener("mouseup",v),d.removeEventListener("mousedown",A),d.removeEventListener("mousemove",C),d.removeEventListener("keyup",I),d.removeEventListener("keydown",y),d.removeEventListener("dragstart",E),d.removeEventListener("dragenter",D),d.removeEventListener("dragover",S),d.removeEventListener("drop",N),d.removeEventListener("paste",j),"function"==typeof t.options.onblur&&d.removeEventListener("blur",T),"function"==typeof t.options.onfocus&&d.removeEventListener("focus",F),n.editor=null,n.classList.remove("jeditor-container"),c.remove(),s.remove(),d.remove()};var v=function(l){a&&a.e&&a.e.classList.remove("resizing"),a=!1},A=function(l){var n=function(n){var e=n.getBoundingClientRect();e.width-(l.clientX-e.left)<40&&l.clientY-e.top<40&&(n.innerHTML="",n.remove())};if("IMG"==l.target.tagName)if(l.target.style.cursor){var e=l.target.getBoundingClientRect();a={e:l.target,x:l.clientX,y:l.clientY,w:e.width,h:e.height,d:l.target.style.cursor},l.target.width||(l.target.width=e.width+"px"),l.target.height||(l.target.height=e.height+"px");var t=window.getSelection();if(t.rangeCount)for(var o=0;o<t.rangeCount;o++)t.removeRange(t.getRangeAt(o));l.target.classList.add("resizing")}else a=!0;else l.target.classList.contains("jsnippet")?n(l.target):l.target.parentNode.classList.contains("jsnippet")&&n(l.target.parentNode),a=!0},C=function(l){if("IMG"==l.target.tagName&&!l.target.parentNode.classList.contains("jsnippet-image")&&1==t.options.allowImageResize&&l.target.getAttribute("tabindex")){var n=l.target.getBoundingClientRect();l.target.style.cursor=l.clientY-n.top<5?n.width-(l.clientX-n.left)<5?"ne-resize":l.clientX-n.left<5?"nw-resize":"n-resize":n.height-(l.clientY-n.top)<5?n.width-(l.clientX-n.left)<5?"se-resize":l.clientX-n.left<5?"sw-resize":"s-resize":n.width-(l.clientX-n.left)<5?"e-resize":l.clientX-n.left<5?"w-resize":""}if(1==l.which&&a&&a.d){if("e-resize"==a.d||"ne-resize"==a.d||"se-resize"==a.d)if(a.e.width=a.w+(l.clientX-a.x),l.shiftKey)a.e.height=a.h+(e=a.h/a.w*(l.clientX-a.x));else var e=null;e||"s-resize"!=a.d&&"se-resize"!=a.d&&"sw-resize"!=a.d||l.shiftKey||(a.e.height=a.h+(l.clientY-a.y))}},I=function(l){d.innerHTML||(d.innerHTML="<div><br></div>"),"function"==typeof t.options.onkeyup&&t.options.onkeyup(n,t,l)},y=function(l){1==t.options.parseURL&&f(),"function"==typeof t.options.onkeydown&&t.options.onkeydown(n,t,l),"Delete"==l.key&&"IMG"==l.target.tagName&&l.target.parentNode.classList.contains("jsnippet-image")&&(l.target.remove(),m())},w=[HTMLUnknownElement],x=["color","font-weight","font-size","background","background-color","margin"],L=function(l){if(l.attributes&&l.attributes.length){var n=null,e=l.getAttribute("style");if(e){n=[];for(var o=e.split(";"),u=0;u<o.length;u++){var r=o[u].trim().split(":");if(x.indexOf(r[0].trim())>=0){var a=r.shift();r=r.join(":"),n.push(a+":"+r)}}}if("IMG"==l.tagName)t.options.acceptImages?(l.setAttribute("tabindex","900"),t.addImage(l.src)):l.remove();else for(var i=l.attributes.length-1;i>=0;i--)l.removeAttribute(l.attributes[i].name);l.style="",n&&n.length&&l.setAttribute("style",n.join(";"))}if(l.children.length)for(i=0;i<l.children.length;i++)L(l.children[i]);w.indexOf(l.constructor)>=0&&l.remove()},j=function(l){if(1==t.options.filterPaste){if(l.clipboardData||l.originalEvent.clipboardData)var n=(l.originalEvent||l).clipboardData.getData("text/html"),e=(l.originalEvent||l).clipboardData.getData("text/plain"),o=(l.originalEvent||l).clipboardData.files;else window.clipboardData&&(n=window.clipboardData.getData("Html"),e=window.clipboardData.getData("Text"),o=window.clipboardData.files);if(o.length)t.addFile(o);else if(n){var u=function(l){l&&(l=l.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var n=document.createElement("span");return n.innerHTML=l,L(n),n}(n);g(u)}else n=e.split("\r\n"),l.target.innerText?(n=n.map(function(l){return"<div>"+l+"</div>"}),document.execCommand("insertHtml",!1,n.join(""))):n.map(function(l){var n=document.createElement("div");n.innerText=l,d.appendChild(n)});l.preventDefault()}},E=function(l){a&&a.e&&l.preventDefault()},D=function(l){a||0==t.options.dropZone||(n.classList.add("jeditor-dragging"),l.preventDefault())},S=function(l){a||0==t.options.dropZone||(r&&clearTimeout(r),r=setTimeout(function(){n.classList.remove("jeditor-dragging")},100),l.preventDefault())},N=function(l){if(a||0==t.options.dropZone);else{var e=null;document.caretRangeFromPoint?e=document.caretRangeFromPoint(l.clientX,l.clientY):l.rangeParent&&(e=document.createRange()).setStart(l.rangeParent,l.rangeOffset);var o=window.getSelection();o.removeAllRanges(),o.addRange(e),o.anchorNode.parentNode.focus();var u=(l.originalEvent||l).dataTransfer.getData("text/html"),r=(l.originalEvent||l).dataTransfer.getData("text/plain"),i=(l.originalEvent||l).dataTransfer.files;i.length?t.addFile(i):r&&function(l){var n=document.createElement("div");n.innerHTML=l;var e=n.querySelectorAll("img");if(e.length)for(var o=0;o<e.length;o++)t.addImage(e[o].src)}(u),n.classList.remove("jeditor-dragging"),l.preventDefault()}},T=function(l){"function"==typeof t.options.onblur&&t.options.onblur(n,t,l),b(l)},F=function(l){"function"==typeof t.options.onfocus&&t.options.onfocus(n,t,l)};return d.addEventListener("mouseup",v),d.addEventListener("mousedown",A),d.addEventListener("mousemove",C),d.addEventListener("keyup",I),d.addEventListener("keydown",y),d.addEventListener("dragstart",E),d.addEventListener("dragenter",D),d.addEventListener("dragover",S),d.addEventListener("drop",N),d.addEventListener("paste",j),d.addEventListener("focus",F),d.addEventListener("blur",T),"function"==typeof t.options.onload&&t.options.onload(n,t,d),d.innerHTML=p,n.appendChild(d),t.options.snippet&&h(t.options.snippet),null==t.options.toolbar&&(t.options.toolbar=l.editor.getDefaultToolbar()),t.options.toolbar&&(n.appendChild(c),l.toolbar(c,{container:!0,responsive:!0,items:t.options.toolbar})),t.options.focus&&l.editor.setCursor(d,"initial"==t.options.focus),n.change=t.setData,n.val=function(l){if(void 0===l){var e="true"!==n.getAttribute("data-html");return t.getData(e)}t.setData(l)},n.editor=t,t},l.editor.setCursor=function(l,n){l.focus(),document.execCommand("selectAll");var e=window.getSelection(),t=e.getRangeAt(0);if(1==n)var o=t.startContainer,u=0;else u=(o=t.endContainer).length;t.setStart(o,u),t.setEnd(o,u),e.removeAllRanges(),e.addRange(t)},l.editor.getDomain=function(l){return l.replace("http://","").replace("https://","").replace("www.","").split(/[\/?#]/)[0].split(/:/g)[0]},l.editor.detectUrl=function(l){var n=l.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return n&&"www"==n[0].substr(0,3)&&(n[0]="http://"+n[0]),n},l.editor.youtubeParser=function(l){var n=l.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!n||11!=n[7].length)&&n[7]},l.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(l,n,e){document.execCommand("bold"),document.queryCommandState("bold")?e.classList.add("selected"):e.classList.remove("selected")}},{content:"format_italic",onclick:function(l,n,e){document.execCommand("italic"),document.queryCommandState("italic")?e.classList.add("selected"):e.classList.remove("selected")}},{content:"format_underline",onclick:function(l,n,e){document.execCommand("underline"),document.queryCommandState("underline")?e.classList.add("selected"):e.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(l,n,e){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?e.classList.add("selected"):e.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(l,n,e){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?e.classList.add("selected"):e.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(l,n,e){document.execCommand("indent",!0,null),document.queryCommandState("indent")?e.classList.add("selected"):e.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},l.form=function(n,e){var t={options:{}},o={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(n,e){l.alert(e)}};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];return t.options.validations||(t.options.validations={}),t.options.submitButton||(t.options.submitButton=n.querySelector("input[type=submit]")),t.options.submitButton&&t.options.url&&(t.options.submitButton.onclick=function(){t.save()}),t.options.validations.email||(t.options.validations.email=l.validations.email),t.options.validations.length||(t.options.validations.length=l.validations.length),t.options.validations.required||(t.options.validations.required=l.validations.required),t.setUrl=function(l){t.options.url=l},t.load=function(){l.ajax({url:t.options.url,method:"GET",dataType:"json",queue:!0,success:function(e){if("function"==typeof t.options.onbeforeload){var o=t.options.onbeforeload(n,e);o&&(e=o)}l.form.setElements(n,e),"function"==typeof t.options.onload&&t.options.onload(n,e)}})},t.save=function(){var e=t.validate();if(e)t.options.onerror(n,e);else{var o=l.form.getElements(n,!0);if("function"==typeof t.options.onbeforesave&&!1===(o=t.options.onbeforesave(n,o)))return void console.log("Onbeforesave returned false");l.ajax({url:t.options.url,method:"POST",dataType:"json",data:o,success:function(l){"function"==typeof t.options.onsave&&t.options.onsave(n,o,l)}})}},t.remove=function(){if("function"==typeof t.options.onbeforeremove&&!1===t.options.onbeforeremove(n,t))return!1;l.ajax({url:t.options.url,method:"DELETE",dataType:"json",success:function(l){"function"==typeof t.options.onremove&&t.options.onremove(n,t,l),t.reset()}})},t.validateElement=function(e){var o=!1,u=l.form.getValue(e),r=e.getAttribute("data-validation");return"function"!=typeof t.options.validations[r]||t.options.validations[r](u,e)?e.classList.contains("error")&&function(l){var e=!1;l.classList.remove("error"),l.removeAttribute("title");for(var o=n.querySelectorAll("input, select, textarea, div[name]"),u=0;u<o.length;u++)o[u].getAttribute("data-validation")&&o[u].classList.contains("error")&&(e=!0);t.options.submitButton&&(e?t.options.submitButton.setAttribute("disabled",!0):t.options.submitButton.removeAttribute("disabled"))}(e):o=function(l){l.classList.add("error"),t.options.submitButton&&t.options.submitButton.setAttribute("disabled",!0);var n=l.getAttribute("data-error")||"There is an error in the form";return l.setAttribute("title",n),n}(e),o},t.reset=function(){for(var l=n.querySelectorAll("input, select, textarea, div[name]"),e=0;e<l.length;e++)l[e].getAttribute("name")&&("checkbox"==l[e].type||"radio"==l[e].type?l[e].checked=!1:"function"==typeof l[e].val?l[e].val(""):l[e].value="")},t.validate=function(){for(var l=[],e=n.querySelectorAll("input, select, textarea, div[name]"),o=0;o<e.length;o++)if(e[o].getAttribute("data-validation")){var u=t.validateElement(e[o]);u&&l.push(u)}return l.length>0&&l.join("<br>")},t.getError=function(){return!!t.validation()},t.setHash=function(){return t.getHash(l.form.getElements(n))},t.getHash=function(l){var n,e=0;if(0===l.length)return e;for(n=0;n<l.length;n++)e=(e<<5)-e+l.charCodeAt(n),e|=0;return e},t.isChanged=function(){var l=t.setHash();return t.options.currentHash!=l},t.resetTracker=function(){t.options.currentHash=t.setHash(),t.options.ignore=!1},t.setIgnore=function(l){t.options.ignore=!!l},setTimeout(function(){t.options.currentHash=t.setHash()},1e3),n.addEventListener("keyup",function(l){l.target.getAttribute("data-validation")&&t.validateElement(l.target)}),l.form.hasEvents||(window.addEventListener("beforeunload",function(l){if(t.isChanged()&&0==t.options.ignore){var n=t.options.message?t.options.message:"o/";return n?(void 0===l&&(l=window.event),l&&(l.returnValue=n),n):void 0}}),l.form.hasEvents=!0),n.form=t,t},l.form.getValue=function(l){var n=null;if("checkbox"==l.type)1==l.checked&&(n=l.value||!0);else if("radio"==l.type)1==l.checked&&(n=l.value);else if("select"==l.tagName&&1==l.multiple){n=[];for(var e=l.querySelectorAll("options[selected]"),t=0;t<e.length;t++)n.push(e[t].value)}else n="function"==typeof l.val?l.val():l.value||"";return n},l.form.getElements=function(n,e){for(var t={},o=null,u=n.querySelectorAll("input, select, textarea, div[name]"),r=0;r<u.length;r++)(o=u[r].getAttribute("name"))&&(t[o]=l.form.getValue(u[r])||"");return 1==e?t:JSON.stringify(t)},l.form.setElements=function(n,e){for(var t=null,o=null,u=n.querySelectorAll("input, select, textarea, div[name]"),r=0;r<u.length;r++){var a=u[r].getAttribute("type");if(t=u[r].getAttribute("name")){if(o=null,(t=t.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var i=l.path.call(e,t)||"";void 0!==i&&(o=i)}else void 0!==e[t]&&(o=e[t]);null!==o&&("checkbox"==a||"radio"==a?u[r].checked=!!o:"function"==typeof u[r].val?u[r].val(o):u[r].value=o)}}},l.tracker=l.form,l.focus=function(l){if(l.innerText.length){var n=document.createRange(),e=window.getSelection(),t=l.childNodes[l.childNodes.length-1];n.setStart(t,t.length),n.collapse(!0),e.removeAllRanges(),e.addRange(n),l.scrollLeft=l.scrollWidth}},l.isNumeric=function(l){return!isNaN(l)&&null!==l&&""!==l},l.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var n=16*Math.random()|0;return("x"==l?n:3&n|8).toString(16)})},l.getNode=function(){var l=document.getSelection().anchorNode;return l?3==l.nodeType?l.parentNode:l:null},l.hash=function(l){var n,e,t=0;if(0===l.length)return t;for(n=0;n<l.length;n++)(e=l.charCodeAt(n))>32&&(t=(t<<5)-t+e,t|=0);return t},l.randomColor=function(n){var e=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t,o,u=[];for(o=0;o<3;o++)t=parseInt(e.substr(2*o,2),16),t=Math.round(Math.min(Math.max(0,t+-.25*t),255)).toString(16),u.push(("00"+t).substr(t.length));return 1==n?"#"+l.two(u[0].toString(16))+l.two(u[1].toString(16))+l.two(u[2].toString(16)):u},l.getWindowWidth=function(){var l=window,n=document,e=n.documentElement,t=n.getElementsByTagName("body")[0];return l.innerWidth||e.clientWidth||t.clientWidth},l.getWindowHeight=function(){var l=window,n=document,e=n.documentElement,t=n.getElementsByTagName("body")[0];return l.innerHeight||e.clientHeight||t.clientHeight},l.getPosition=function(l){if(l.changedTouches&&l.changedTouches[0])var n=l.changedTouches[0].pageX,e=l.changedTouches[0].pageY;else n=window.Event?l.pageX:l.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),e=window.Event?l.pageY:l.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[n,e]},l.click=function(l){if(l.click)l.click();else{var n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});l.dispatchEvent(n)}},l.findElement=function(l,n){var e=!1;return function l(t){t&&!e&&("function"==typeof n?e=n(t):"string"==typeof n&&t.classList&&t.classList.contains(n)&&(e=t)),t.parentNode&&!e&&l(t.parentNode)}(l),e},l.two=function(l){return 1==(l=""+l).length&&(l="0"+l),l},l.sha512=function(l){function n(l,n){this.highOrder=l,this.lowOrder=n}var e,t,o,u,r,a,i,s,c,d,p=[new n(1779033703,4089235720),new n(3144134277,2227873595),new n(1013904242,4271175723),new n(2773480762,1595750129),new n(1359893119,2917565137),new n(2600822924,725511199),new n(528734635,4215389547),new n(1541459225,327033209)],b=[new n(1116352408,3609767458),new n(1899447441,602891725),new n(3049323471,3964484399),new n(3921009573,2173295548),new n(961987163,4081628472),new n(1508970993,3053834265),new n(2453635748,2937671579),new n(2870763221,3664609560),new n(3624381080,2734883394),new n(310598401,1164996542),new n(607225278,1323610764),new n(1426881987,3590304994),new n(1925078388,4068182383),new n(2162078206,991336113),new n(2614888103,633803317),new n(3248222580,3479774868),new n(3835390401,2666613458),new n(4022224774,944711139),new n(264347078,2341262773),new n(604807628,2007800933),new n(770255983,1495990901),new n(1249150122,1856431235),new n(1555081692,3175218132),new n(1996064986,2198950837),new n(2554220882,3999719339),new n(2821834349,766784016),new n(2952996808,2566594879),new n(3210313671,3203337956),new n(3336571891,1034457026),new n(3584528711,2466948901),new n(113926993,3758326383),new n(338241895,168717936),new n(666307205,1188179964),new n(773529912,1546045734),new n(1294757372,1522805485),new n(1396182291,2643833823),new n(1695183700,2343527390),new n(1986661051,1014477480),new n(2177026350,1206759142),new n(2456956037,344077627),new n(2730485921,1290863460),new n(2820302411,3158454273),new n(3259730800,3505952657),new n(3345764771,106217008),new n(3516065817,3606008344),new n(3600352804,1432725776),new n(4094571909,1467031594),new n(275423344,851169720),new n(430227734,3100823752),new n(506948616,1363258195),new n(659060556,3750685593),new n(883997877,3785050280),new n(958139571,3318307427),new n(1322822218,3812723403),new n(1537002063,2003034995),new n(1747873779,3602036899),new n(1955562222,1575990012),new n(2024104815,1125592928),new n(2227730452,2716904306),new n(2361852424,442776044),new n(2428436474,593698344),new n(2756734187,3733110249),new n(3204031479,2999351573),new n(3329325298,3815920427),new n(3391569614,3928383900),new n(3515267271,566280711),new n(3940187606,3454069534),new n(4118630271,4000239992),new n(116418474,1914138554),new n(174292421,2731055270),new n(289380356,3203993006),new n(460393269,320620315),new n(685471733,587496836),new n(852142971,1086792851),new n(1017036298,365543100),new n(1126000580,2618297676),new n(1288033470,3409855158),new n(1501505948,4234509866),new n(1607167915,987167468),new n(1816402316,1246189591)],g=new Array(64);function m(l,e){var t,o,u;return u=(65535&(o=(l.lowOrder>>>16)+(e.lowOrder>>>16)+((t=(65535&l.lowOrder)+(65535&e.lowOrder))>>>16)))<<16|65535&t,new n((65535&(o=(l.highOrder>>>16)+(e.highOrder>>>16)+((t=(65535&l.highOrder)+(65535&e.highOrder)+(o>>>16))>>>16)))<<16|65535&t,u)}function h(l,e,t,o){var u,r,a;return a=(65535&(r=(l.lowOrder>>>16)+(e.lowOrder>>>16)+(t.lowOrder>>>16)+(o.lowOrder>>>16)+((u=(65535&l.lowOrder)+(65535&e.lowOrder)+(65535&t.lowOrder)+(65535&o.lowOrder))>>>16)))<<16|65535&u,new n((65535&(r=(l.highOrder>>>16)+(e.highOrder>>>16)+(t.highOrder>>>16)+(o.highOrder>>>16)+((u=(65535&l.highOrder)+(65535&e.highOrder)+(65535&t.highOrder)+(65535&o.highOrder)+(r>>>16))>>>16)))<<16|65535&u,a)}function f(l,e,t,o,u){var r,a,i;return i=(65535&(a=(l.lowOrder>>>16)+(e.lowOrder>>>16)+(t.lowOrder>>>16)+(o.lowOrder>>>16)+(u.lowOrder>>>16)+((r=(65535&l.lowOrder)+(65535&e.lowOrder)+(65535&t.lowOrder)+(65535&o.lowOrder)+(65535&u.lowOrder))>>>16)))<<16|65535&r,new n((65535&(a=(l.highOrder>>>16)+(e.highOrder>>>16)+(t.highOrder>>>16)+(o.highOrder>>>16)+(u.highOrder>>>16)+((r=(65535&l.highOrder)+(65535&e.highOrder)+(65535&t.highOrder)+(65535&o.highOrder)+(65535&u.highOrder)+(a>>>16))>>>16)))<<16|65535&r,i)}function v(l,e,t){return new n(l.highOrder&e.highOrder^l.highOrder&t.highOrder^e.highOrder&t.highOrder,l.lowOrder&e.lowOrder^l.lowOrder&t.lowOrder^e.lowOrder&t.lowOrder)}function A(l,e,t){return new n(l.highOrder&e.highOrder^~l.highOrder&t.highOrder,l.lowOrder&e.lowOrder^~l.lowOrder&t.lowOrder)}function C(l,e){return e<=32?new n(l.highOrder>>>e|l.lowOrder<<32-e,l.lowOrder>>>e|l.highOrder<<32-e):new n(l.lowOrder>>>e|l.highOrder<<32-e,l.highOrder>>>e|l.lowOrder<<32-e)}function I(l){var e=C(l,28),t=C(l,34),o=C(l,39);return new n(e.highOrder^t.highOrder^o.highOrder,e.lowOrder^t.lowOrder^o.lowOrder)}function y(l){var e=C(l,14),t=C(l,18),o=C(l,41);return new n(e.highOrder^t.highOrder^o.highOrder,e.lowOrder^t.lowOrder^o.lowOrder)}function w(l){var e=C(l,1),t=C(l,8),o=x(l,7);return new n(e.highOrder^t.highOrder^o.highOrder,e.lowOrder^t.lowOrder^o.lowOrder)}function x(l,e){return e<=32?new n(l.highOrder>>>e,l.lowOrder>>>e|l.highOrder<<32-e):new n(0,l.highOrder<<32-e)}var L,j,E,D,S=8*(l=function(l){return unescape(encodeURIComponent(l))}(l)).length;(l=function(l){for(var n=[],e=8*l.length,t=0;t<e;t+=8)n[t>>5]|=(255&l.charCodeAt(t/8))<<24-t%32;return n}(l))[S>>5]|=128<<24-S%32,l[31+(S+128>>10<<5)]=S;for(var N=0;N<l.length;N+=32){e=p[0],t=p[1],o=p[2],u=p[3],r=p[4],a=p[5],i=p[6],s=p[7];for(var T=0;T<80;T++)g[T]=T<16?new n(l[2*T+N],l[2*T+N+1]):h((j=C(L=g[T-2],19),E=C(L,61),D=x(L,6),new n(j.highOrder^E.highOrder^D.highOrder,j.lowOrder^E.lowOrder^D.lowOrder)),g[T-7],w(g[T-15]),g[T-16]),c=f(s,y(r),A(r,a,i),b[T],g[T]),d=m(I(e),v(e,t,o)),s=i,i=a,a=r,r=m(u,c),u=o,o=t,t=e,e=m(c,d);p[0]=m(e,p[0]),p[1]=m(t,p[1]),p[2]=m(o,p[2]),p[3]=m(u,p[3]),p[4]=m(r,p[4]),p[5]=m(a,p[5]),p[6]=m(i,p[6]),p[7]=m(s,p[7])}var F=[];for(N=0;N<p.length;N++)F.push(p[N].highOrder),F.push(p[N].lowOrder);return function(l){for(var n,e="",t=4*l.length,o=0;o<t;o+=1)e+="0123456789abcdef".charAt((n=l[o>>2]>>8*(3-o%4))>>4&15)+"0123456789abcdef".charAt(15&n);return e}(F)},l.login||(l.login={},l.login.sha512=l.sha512),l.image=l.upload=function(n,e){var t={options:{}},o={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];1==t.options.multiple&&n.setAttribute("data-multiple",!0),n.content=[],n.classList.add("jupload"),1==t.options.input&&n.classList.add("input"),t.add=function(e){if(0==t.options.multiple&&(n.content=[],n.innerText=""),"image"==t.options.type){var o=document.createElement("img");o.setAttribute("src",e.file),o.setAttribute("tabindex",-1),n.getAttribute("name")||(o.className="jfile",o.content=e),n.appendChild(o)}else{if(e.name)var u=e.name;else u=e.file;var r=document.createElement("div");r.innerText=u||t.options.type,r.classList.add("jupload-item"),r.setAttribute("tabindex",-1),n.appendChild(r)}e.content&&(e.file=l.guid()),n.content.push(e),"function"==typeof t.options.onchange&&t.options.onchange(n,e)},t.addFromFile=function(l){if(l.type.split("/")[0]==t.options.type){var n=new FileReader;n.addEventListener("load",function(n){var e={file:n.srcElement.result,extension:l.name.substr(l.name.lastIndexOf(".")+1),name:l.name,size:l.size,lastmodified:l.lastModified,content:n.srcElement.result};t.add(e)}),n.readAsDataURL(l)}else alert(t.options.text.extensionNotAllowed)},t.addFromUrl=function(n){if("data"==n.substr(0,4)||t.options.remoteParser)if("data"==n.substr(0,4))(e=(e=n.split(";"))[0].split("/"))[0].replace("data:","")==t.options.type?t.add({file:n,name:"",extension:e[1],content:n}):alert(t.options.text.extensionNotAllowed);else{var e=n.substr(n.lastIndexOf(".")+1);l.ajax({url:n=t.options.remoteParser+n,type:"GET",dataType:"blob",success:function(l){}})}else console.error("remoteParser not defined in your initialization")};var r=t.options.type+"/"+t.options.extension,a=document.createElement("input");a.type="file",a.setAttribute("accept",r),a.onchange=function(){for(var l=0;l<this.files.length;l++)t.addFromFile(this.files[l])},1==t.options.multiple&&a.setAttribute("multiple",!0);var i=null;return n.addEventListener("click",function(e){i=null,n.children.length&&e.target!==n?e.target.parentNode==n&&(i=e.target):l.click(a)}),n.addEventListener("dblclick",function(n){l.click(a)}),n.addEventListener("dragenter",function(l){n.style.border="1px dashed #000"}),n.addEventListener("dragleave",function(l){n.style.border="1px solid #eee"}),n.addEventListener("dragstop",function(l){n.style.border="1px solid #eee"}),n.addEventListener("dragover",function(l){l.preventDefault()}),n.addEventListener("keydown",function(l){if(i&&46==l.which){var e=Array.prototype.indexOf.call(n.children,i);e>=0&&(n.content.splice(e,1),i.remove(),i=null)}}),n.addEventListener("drop",function(l){l.preventDefault(),l.stopPropagation();var e=(l.originalEvent||l).dataTransfer.getData("text/html");if((l.originalEvent||l).dataTransfer.files.length)for(var o=0;o<l.dataTransfer.files.length;o++)t.addFromFile(l.dataTransfer.files[o]);else if(e){0==t.options.multiple&&(n.innerText="");var u=document.createElement("div");u.innerHTML=e;var r=u.querySelectorAll("img");if(r.length)for(o=0;o<r.length;o++)t.addFromUrl(r[o].src)}return n.style.border="1px solid #eee",!1}),n.val=function(l){if(void 0===l)return n.content&&n.content.length?n.content:null;if(n.innerText="",n.content=[],l)if(Array.isArray(l))for(var e=0;e<l.length;e++)t.add("string"==typeof l[e]?{file:l[e]}:l[e]);else"string"==typeof l&&t.add({file:l})},n.upload=n.image=t,t},l.image.create=function(l){var n=document.createElement("img");return n.setAttribute("src",l.file),n.className="jfile",n.setAttribute("tabindex",-1),n.content=l,n},l.lazyLoading=function(l,n){n.loadUp&&"function"==typeof n.loadUp||(n.loadUp=function(){return!1}),n.loadDown&&"function"==typeof n.loadDown||(n.loadDown=function(){return!1}),n.timer||(n.timer=100);var e=null,t=function(t){if(null==e){var o=l.scrollTop;l.scrollTop+2*l.clientHeight>=l.scrollHeight?n.loadDown()&&o==l.scrollTop&&(l.scrollTop=l.scrollTop-l.clientHeight):l.scrollTop<=l.clientHeight&&n.loadUp()&&o==l.scrollTop&&(l.scrollTop=l.scrollTop+l.clientHeight),e=setTimeout(function(){e=null},n.timer)}};return l.onscroll=function(l){t()},l.onwheel=function(l){t()},{}},l.loading=function(){var l={},n=null;return l.show=function(){n||((n=document.createElement("div")).className="jloading"),document.body.appendChild(n)},l.hide=function(){n&&n.parentNode&&document.body.removeChild(n)},l}(),l.mask=function(){var n={},e=0,t=[],o=[];n.run=function(o,u,r){if(o.toString().length&&u.toString().length){if(void 0===r&&(r="."),l.isNumeric(o)&&"number"==typeof o){if((i=(""+o).split("."))[1]&&u.indexOf(r)){var a=u.split(r);(a=(""+a[1]).length)&&(o=o.toFixed(a))}i=(""+o).split(".")}else var i=(""+o).split(r);o=i[0];var s=i[1];e=0,t=[],n.prepare(u);var c=o;if(c)for(var d=0;d<c.length;d++)null!=c[d]&&n.process(c[d]);return o=t.join(""),s&&(o+=r+s),o}return""};var u=function(u){e=0,t=[],n.prepare(this.getAttribute("data-mask"));var r="";if("DIV"==this.tagName){if(this.innerText){var a=window.getSelection();r=a&&a.anchorOffset!=a.focusOffset?this.innerText.substring(0,a.anchorOffset>a.focusOffset?a.focusOffset:a.anchorOffset):this.innerText}}else r=this.selectionStart<this.selectionEnd?this.value.substring(0,this.selectionStart):this.value;r+=u;for(var i=0;i<r.length;i++)null!=r[i]&&n.process(r[i]);var s=t.join("");"DIV"==this.tagName?s!=this.innerText&&(this.innerText=s,l.focus(this)):this.value=s,this.setAttribute("data-completed",o.length==t.length&&o[o.length-1].length==t[t.length-1].length?"true":"false")};return n.apply=function(l){l.target&&!l.target.getAttribute("readonly")&&l.target.getAttribute("data-mask")&&l.key&&l.key.length<2&&!l.ctrlKey&&(l.preventDefault(),u.call(l.target,l.key))},n.paste=function(l){if(l.target&&!l.target.getAttribute("readonly")&&l.target.getAttribute("data-mask")){if(l.clipboardData||l.originalEvent.clipboardData)var n=(l.originalEvent||l).clipboardData.getData("text/plain");else window.clipboardData&&(n=window.clipboardData.getData("Text"));n&&(l.preventDefault(),u.call(l.target,n))}},n.process=function(l){do{if("mm"==o[e])return null==t[e]||""==t[e]?parseInt(l)>1&&parseInt(l)<10?(t[e]="0"+l,e++,!0):parseInt(l)<10&&(t[e]=l,!0):1==t[e]&&t[e]<2&&parseInt(l)<3?(t[e]+=l,e++,!0):0==t[e]&&t[e]<10&&(t[e]+=l,e++,!0);if("dd"==o[e])return null==t[e]||""==t[e]?parseInt(l)>3&&parseInt(l)<10?(t[e]="0"+l,e++,!0):parseInt(l)<10&&(t[e]=l,!0):3==t[e]&&parseInt(l)<2?(t[e]+=l,e++,!0):t[e]<3&&parseInt(l)<10&&(t[e]+=l,e++,!0);if("hh24"==o[e])return null==t[e]||""==t[e]?parseInt(l)>2&&parseInt(l)<10?(t[e]="0"+l,e++,!0):parseInt(l)<10&&(t[e]=l,!0):2==t[e]&&parseInt(l)<4?(t[e]+=l,e++,!0):t[e]<2&&parseInt(l)<10&&(t[e]+=l,e++,!0);if("hh"==o[e])return null==t[e]||""==t[e]?parseInt(l)>1&&parseInt(l)<10?(t[e]="0"+l,e++,!0):parseInt(l)<10&&(t[e]=l,!0):1==t[e]&&parseInt(l)<3?(t[e]+=l,e++,!0):t[e]<1&&parseInt(l)<10&&(t[e]+=l,e++,!0);if("mi"==o[e]||"ss"==o[e])return null==t[e]||""==t[e]?parseInt(l)>5&&parseInt(l)<10?(t[e]="0"+l,e++,!0):parseInt(l)<10&&(t[e]=l,!0):parseInt(l)<10&&(t[e]+=l,e++,!0);if("yy"==o[e]||"yyyy"==o[e])return parseInt(l)<10&&(null==t[e]||""==t[e]?t[e]=l:t[e]+=l,t[e].length==o[e].length&&e++,!0);if("#"==o[e]||"#.##"==o[e]||"#,##"==o[e]||"# ##"==o[e]||"#'##"==o[e]){if(l.match(/[0-9]/g)){if("#.##"==o[e])var n=".";else n="#,##"==o[e]?",":"# ##"==o[e]?" ":"#'##"==o[e]?"'":"";if(null==t[e]||""==t[e])t[e]=l;else if(t[e]+=l,n){t[e]=t[e].match(/[0-9]/g).join("");for(var u=[],r=0,a=t[e].length-1;a>=0;a--)u.push(t[e][a]),++r%3||u.push(n);u=u.reverse(),t[e]=u.join(""),t[e].substr(0,1)==n&&(t[e]=t[e].substr(1))}return!0}if("#.##"==o[e]&&"."==l);else if("#,##"==o[e]&&","==l);else if("# ##"==o[e]&&" "==l);else if("#'##"==o[e]&&"'"==l);else if(t[e]&&o[++e]){if(o[e]==l)return t[e]=l,!0;if("0"==o[e]&&o[e+1]==l)return t[++e]=l,!0}return!1}if("0"==o[e])return!!l.match(/[0-9]/g)&&(t[e]=l,e++,!0);if("a"==o[e])return!!l.match(/[a-zA-Z]/g)&&(t[e]=l,e++,!0);if(null!=o[e]){if("\\a"==o[e])var i="a";else i="\\0"==o[e]?"0":"[-]"==o[e]?"-"==l||"+"==l?l:" ":o[e];if(t[e]=i,l==i)return e++,!0}e++}while(o[e])},n.prepare=function(l){o=[];for(var n=0;n<l.length;n++)l[n].match(/[0-9]|[a-z]|\\/g)?"y"==l[n]&&"y"==l[n+1]&&"y"==l[n+2]&&"y"==l[n+3]?(o.push("yyyy"),n+=3):"y"==l[n]&&"y"==l[n+1]?(o.push("yy"),n++):"m"==l[n]&&"m"==l[n+1]&&"m"==l[n+2]&&"m"==l[n+3]?(o.push("mmmm"),n+=3):"m"==l[n]&&"m"==l[n+1]&&"m"==l[n+2]?(o.push("mmm"),n+=2):"m"==l[n]&&"m"==l[n+1]?(o.push("mm"),n++):"d"==l[n]&&"d"==l[n+1]?(o.push("dd"),n++):"h"==l[n]&&"h"==l[n+1]&&"2"==l[n+2]&&"4"==l[n+3]?(o.push("hh24"),n+=3):"h"==l[n]&&"h"==l[n+1]?(o.push("hh"),n++):"m"==l[n]&&"i"==l[n+1]?(o.push("mi"),n++):"s"==l[n]&&"s"==l[n+1]?(o.push("ss"),n++):"a"==l[n]&&"m"==l[n+1]?(o.push("am"),n++):"p"==l[n]&&"m"==l[n+1]?(o.push("pm"),n++):"\\"==l[n]&&"0"==l[n+1]?(o.push("\\0"),n++):"\\"==l[n]&&"a"==l[n+1]?(o.push("\\a"),n++):o.push(l[n]):"#"==l[n]&&"."==l[n+1]&&"#"==l[n+2]&&"#"==l[n+3]?(o.push("#.##"),n+=3):"#"==l[n]&&","==l[n+1]&&"#"==l[n+2]&&"#"==l[n+3]?(o.push("#,##"),n+=3):"#"==l[n]&&" "==l[n+1]&&"#"==l[n+2]&&"#"==l[n+3]?(o.push("# ##"),n+=3):"#"==l[n]&&"'"==l[n+1]&&"#"==l[n+2]&&"#"==l[n+3]?(o.push("#'##"),n+=3):"["==l[n]&&"-"==l[n+1]&&"]"==l[n+2]?(o.push("[-]"),n+=2):o.push(l[n])},"undefined"!=typeof document&&(document.addEventListener("paste",n.paste),document.addEventListener("keydown",n.apply)),n}(),l.modal=function(n,e){var t={options:{}},o={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null,padding:null};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];!t.options.title&&n.getAttribute("title")&&(t.options.title=n.getAttribute("title"));for(var r=document.createElement("div");n.children[0];)r.appendChild(n.children[0]);for(t.content=document.createElement("div"),t.content.className="jmodal_content",t.content.innerHTML=n.innerHTML;r.children[0];)t.content.appendChild(r.children[0]);t.container=document.createElement("div"),t.container.className="jmodal",t.container.appendChild(t.content),t.options.padding&&(t.content.style.padding=t.options.padding),t.options.width&&(t.container.style.width=t.options.width),t.options.height&&(t.container.style.height=t.options.height),t.options.title?t.container.setAttribute("title",t.options.title):t.container.classList.add("no-title"),n.innerHTML="",n.style.display="none",n.appendChild(t.container);var a=document.createElement("div");return a.className="jmodal_backdrop",a.onclick=function(){t.close()},n.appendChild(a),t.open=function(){n.style.display="block";var e=t.container.getBoundingClientRect();l.getWindowWidth()<e.width?(t.container.style.top="",t.container.style.left="",t.container.classList.add("jmodal_fullscreen"),l.animation.slideBottom(t.container,1)):a.style.display="block",l.modal.current=t,"function"==typeof t.options.onopen&&t.options.onopen(n,t)},t.resetPosition=function(){t.container.style.top="",t.container.style.left=""},t.isOpen=function(){return"none"!=n.style.display},t.close=function(){n.style.display="none",a.style.display="",l.modal.current=null,t.container.classList.remove("jmodal_fullscreen"),"function"==typeof t.options.onclose&&t.options.onclose(n,t)},l.modal.hasEvents||(l.modal.current=t,"ontouchstart"in document.documentElement==1?document.addEventListener("touchstart",l.modal.mouseDownControls):(document.addEventListener("mousedown",l.modal.mouseDownControls),document.addEventListener("mousemove",l.modal.mouseMoveControls),document.addEventListener("mouseup",l.modal.mouseUpControls)),document.addEventListener("keydown",l.modal.keyDownControls),l.modal.hasEvents=!0),t.options.url?l.ajax({url:t.options.url,method:"GET",dataType:"text/html",success:function(l){t.content.innerHTML=l,t.options.closed||t.open()}}):t.options.closed||t.open(),n.modal=t,t},l.modal.current=null,l.modal.position=null,l.modal.keyDownControls=function(n){27==n.which&&l.modal.current&&l.modal.current.close()},l.modal.mouseUpControls=function(n){l.modal.current&&(l.modal.current.container.style.cursor="auto"),l.modal.position=null},l.modal.mouseMoveControls=function(n){if(l.modal.current&&l.modal.position)if(1==n.which||3==n.which){var e=l.modal.position;l.modal.current.container.style.top=e[1]+(n.clientY-e[3])+e[5]/2+"px",l.modal.current.container.style.left=e[0]+(n.clientX-e[2])+e[4]/2+"px",l.modal.current.container.style.cursor="move"}else l.modal.current.container.style.cursor="auto"},l.modal.mouseDownControls=function(n){l.modal.position=[],n.target.classList.contains("jmodal")&&setTimeout(function(){var e=n.target.getBoundingClientRect();if(n.changedTouches&&n.changedTouches[0])var t=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY;else t=n.clientX,o=n.clientY;e.width-(t-e.left)<50&&o-e.top<50?setTimeout(function(){l.modal.current.close()},100):n.target.getAttribute("title")&&o-e.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),l.modal.position=[e.left,e.top,n.clientX,n.clientY,e.width,e.height])},100)},l.notification=function(n){var e={options:{}},t={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in t)e.options[o]=n&&n.hasOwnProperty(o)?n[o]:t[o];var u=document.createElement("div");u.className="jnotification",e.options.error&&u.classList.add("jnotification-error");var r=document.createElement("div");r.className="jnotification-container",u.appendChild(r);var a=document.createElement("div");a.className="jnotification-header",r.appendChild(a);var i=document.createElement("div");if(i.className="jnotification-image",a.appendChild(i),e.options.icon){var s=document.createElement("img");s.src=e.options.icon,i.appendChild(s)}var c=document.createElement("div");if(c.className="jnotification-name",c.innerHTML=e.options.name,a.appendChild(c),1==e.options.closeable){var d=document.createElement("div");d.className="jnotification-close",d.onclick=function(){e.hide()},a.appendChild(d)}var p=document.createElement("div");p.className="jnotification-date",a.appendChild(p);var b=document.createElement("div");if(b.className="jnotification-content",r.appendChild(b),e.options.title){var g=document.createElement("div");g.className="jnotification-title",g.innerHTML=e.options.title,b.appendChild(g)}var m=document.createElement("div");if(m.className="jnotification-message",m.innerHTML=e.options.message,b.appendChild(m),e.show=function(){document.body.appendChild(u),l.getWindowWidth()>800?l.animation.fadeIn(u):l.animation.slideTop(u,1)},e.hide=function(){l.getWindowWidth()>800?l.animation.fadeOut(u,function(){u.parentNode&&(u.parentNode.removeChild(u),h&&clearTimeout(h))}):l.animation.slideTop(u,0,function(){u.parentNode&&(u.parentNode.removeChild(u),h&&clearTimeout(h))})},e.show(),1==e.options.autoHide)var h=setTimeout(function(){e.hide()},e.options.timeout);return l.getWindowWidth()<800&&u.addEventListener("swipeup",function(l){e.hide(),l.preventDefault(),l.stopPropagation()}),e},l.notification.isVisible=function(){var l=document.querySelector(".jnotification");return!(!l||!l.parentNode)},l.palette=function(l){var n={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]]};return n[l]?n[l]:n.material},l.picker=function(n,e){if(n.picker)return n.picker.setOptions(e,!0);var t={type:"picker",options:{}},o=null,u=null;return t.setOptions=function(l,n){var e={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null,height:null};for(var r in l&&l.options&&(l.data=l.options),e)l&&l.hasOwnProperty(r)?t.options[r]=l[r]:void 0!==t.options[r]&&!0!==n||(t.options[r]=e[r]);return o.style.display=!1===t.options.header?"none":"",o.style.width=t.options.width?parseInt(t.options.width)+"px":"",t.options.height?(u.style.maxHeight=t.options.height+"px",u.style.overflow="scroll"):u.style.overflow="",t.options.columns>0&&(u.classList.add("jpicker-columns"),u.style.width=t.options.width?t.options.width:36*t.options.columns+"px"),isNaN(t.options.value)&&(t.options.value="0"),function(){u.innerHTML="";for(var l=Object.keys(t.options.data),n=0;n<l.length;n++){var e=document.createElement("div");e.classList.add("jpicker-item"),e.k=l[n],e.v=t.options.data[l[n]],e.innerHTML=t.getLabel(l[n]),u.appendChild(e)}}(),t.setValue(t.options.value),t},t.getValue=function(){return t.options.value},t.setValue=function(l){t.setLabel(l),t.options.value=String(l),n.value!=t.options.value&&(n.value=t.options.value,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value})),"generic"!==u.children[l].getAttribute("type")&&t.close()},t.getLabel=function(l){var n=t.options.data[l]||null;return"function"==typeof t.options.render&&(n=t.options.render(n)),n},t.setLabel=function(l){if(t.options.content)var n='<i class="material-icons">'+t.options.content+"</i>";else n=t.getLabel(l);o.innerHTML=n},t.open=function(){if(!n.classList.contains("jpicker-focus")){l.tracking(t,!0),n.classList.add("jpicker-focus"),n.focus();var e=o.getBoundingClientRect(),r=u.getBoundingClientRect();u.style.marginTop=window.innerHeight<e.bottom+r.height?-1*(r.height+4)+"px":e.height+2+"px",!0===t.options.right&&(u.style.marginLeft=-1*r.width+24+"px"),"function"==typeof t.options.onopen&&t.options.onopen(n,t)}},t.close=function(){n.classList.contains("jpicker-focus")&&(n.classList.remove("jpicker-focus"),l.tracking(t,!1),"function"==typeof t.options.onclose&&t.options.onclose(n,t))},n.classList.add("jpicker"),n.setAttribute("tabindex","900"),(o=document.createElement("div")).classList.add("jpicker-header"),n.onmousedown=function(e){if(l.findElement(e.target,"jpicker"))if(n.classList.contains("jpicker-focus")){var o=l.findElement(e.target,"jpicker-item");o&&(console.log(o),t.setValue(o.k),"function"==typeof t.options.onchange&&t.options.onchange.call(t,n,t,o.v,o.v,o.k))}else t.open();else t.close();e.stopPropagation()},(u=document.createElement("div")).classList.add("jpicker-content"),n.appendChild(o),n.appendChild(u),n.value=e.value||0,t.setOptions(e),"function"==typeof t.options.onload&&t.options.onload(n,t),n.change=t.setValue,n.val=function(l){if(void 0===l)return t.getValue();t.setValue(l)},n.picker=t,t},l.progressbar=function(l,n){var e={options:{}},t={value:0,onchange:null,width:null};for(var o in t)e.options[o]=n&&n.hasOwnProperty(o)?n[o]:t[o];l.classList.add("jprogressbar"),l.setAttribute("tabindex",1),l.setAttribute("data-value",e.options.value);var u=document.createElement("div");u.style.width=e.options.value+"%",u.style.color="#fff",l.appendChild(u),e.options.width&&(l.style.width=e.options.width),e.setValue=function(n){n=parseInt(n),e.options.value=n,u.style.width=n+"%",l.setAttribute("data-value",n+"%"),l.style.color=n<6?"#000":"#fff",e.options.value=n,"function"==typeof e.options.onchange&&e.options.onchange(l,n),l.value!=e.options.value&&(l.value=e.options.value,"function"==typeof l.onchange&&l.onchange({type:"change",target:l,value:l.value}))},e.getValue=function(){return e.options.value};var r=function(n){if(n.which){var t=l.getBoundingClientRect();if(n.changedTouches&&n.changedTouches[0])var o=n.changedTouches[0].clientX;else o=n.clientX;e.setValue(Math.round((o-t.left)/t.width*100))}};return"touchstart"in document.documentElement==1?(l.addEventListener("touchstart",r),l.addEventListener("touchend",r)):(l.addEventListener("mousedown",r),l.addEventListener("mousemove",r)),l.change=e.setValue,l.val=function(l){if(void 0===l)return e.getValue();e.setValue(l)},l.progressbar=e,e},l.rating=function(l,n){if(l.rating)return l.rating.setOptions(n,!0);var e={options:{},setOptions:function(n,t){var o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var u in o)n&&n.hasOwnProperty(u)?e.options[u]=n[u]:void 0!==e.options[u]&&!0!==t||(e.options[u]=o[u]);l.innerHTML="";for(var r=0;r<e.options.number;r++){var a=document.createElement("div");a.setAttribute("data-index",r+1),a.setAttribute("title",e.options.tooltip[r]),l.appendChild(a)}if(e.options.value)for(r=0;r<e.options.number;r++)r<e.options.value&&l.children[r].classList.add("jrating-selected");return e},setValue:function(n){for(var t=0;t<e.options.number;t++)t<n?l.children[t].classList.add("jrating-selected"):(l.children[t].classList.remove("jrating-over"),l.children[t].classList.remove("jrating-selected"));e.options.value=n,"function"==typeof e.options.onchange&&e.options.onchange(l,n),l.value!=e.options.value&&(l.value=e.options.value,"function"==typeof l.onchange&&l.onchange({type:"change",target:l,value:l.value}))},getValue:function(){return e.options.value}};return e.setOptions(n),l.classList.add("jrating"),l.addEventListener("click",function(l){var n=l.target.getAttribute("data-index");null!=n&&e.setValue(n==e.options.value?0:n)}),l.addEventListener("mouseover",function(n){for(var t=n.target.getAttribute("data-index"),o=0;o<e.options.number;o++)o<t?l.children[o].classList.add("jrating-over"):l.children[o].classList.remove("jrating-over")}),l.addEventListener("mouseout",function(n){for(var t=0;t<e.options.number;t++)l.children[t].classList.remove("jrating-over")}),l.change=e.setValue,l.val=function(l){if(void 0===l)return e.getValue();e.setValue(l)},l.rating=e,e},l.search=function(n,e){if(n.search)return n.search;var t=null,o=function(l){if(a.innerHTML="",l.length){n.style.display="block";for(var e=l.length<11?l.length:10,t=0;t<e;t++){var o=l[t].text;!o&&l[t].name&&(o=l[t].name);var u=l[t].value;!u&&l[t].id&&(u=l[t].id);var r=document.createElement("div");r.setAttribute("data-value",u),r.setAttribute("data-text",o),r.className="jsearch_item",l[t].id&&r.setAttribute("id",l[t].id),0==t&&r.classList.add("selected");var i=document.createElement("img");l[t].image?i.src=l[t].image:i.style.display="none",r.appendChild(i);var s=document.createElement("div");s.innerHTML=o,r.appendChild(s),a.appendChild(r)}}else n.style.display=""},u=null,r=function(n){u&&clearTimeout(u),u=setTimeout(function(){!function(n){if(n!=r.terms)if(r.terms=n,t=0,Array.isArray(r.options.data)){var e=r.options.data.filter(function(l){return function(l){for(var e in l)if((""+l[e]).toLowerCase().search(n)>=0)return!0;return!1}(l)});o(e)}else l.ajax({url:r.options.data+n,method:"GET",dataType:"json",success:function(l){o(l)}})}(n)},500)};r.options={data:e.data||null,input:e.input||null,onselect:e.onselect||null},r.selectIndex=function(l){var n=l.getAttribute("id"),e=l.getAttribute("data-text"),t=l.getAttribute("data-value");"function"==typeof r.options.onselect&&r.options.onselect(r,e,t,n),r.close()},r.open=function(){n.style.display="block"},r.close=function(){u&&clearTimeout(u),r.terms="",a.innerHTML="",n.style.display=""},r.isOpened=function(){return!!n.style.display},r.keydown=function(l){r.isOpened()&&("Enter"==l.key?a.children[t]&&(r.selectIndex(a.children[t]),l.preventDefault()):"ArrowUp"===l.key?(a.children[0]&&(a.children[t].classList.remove("selected"),t>0&&t--,a.children[t].classList.add("selected")),l.preventDefault()):"ArrowDown"===l.key&&(a.children[t].classList.remove("selected"),t<9&&a.children[t+1]&&t++,a.children[t].classList.add("selected"),l.preventDefault()))},r.keyup=function(n){if(r.options.input)r(r.options.input.value);else{var e=l.getNode();e&&r(e.innerText)}};var a=document.createElement("div");return a.classList.add("jsearch_container"),a.onmousedown=function(l){if(l.target.classList.contains("jsearch_item"))var n=l.target;else n=l.target.parentNode;r.selectIndex(n),l.preventDefault()},n.appendChild(a),n.classList.add("jsearch"),n.search=r,r},l.slider=function(l,n){var e={options:{},currentImage:null};if(n&&(e.options=n),l.setAttribute("tabindex","900"),e.options.items=[],!l.classList.contains("jslider")){if(l.classList.add("jslider"),l.classList.add("unselectable"),e.options.height&&(l.style.minHeight=e.options.height),e.options.width&&(l.style.width=e.options.width),e.options.grid){l.classList.add("jslider-grid");var t=l.children.length;t>4&&l.setAttribute("data-total",t-4),l.setAttribute("data-number",t>4?4:t)}var o=document.createElement("div");if(o.classList.add("jslider-counter"),l.children.length>0)for(var u=0;u<l.children.length;u++){e.options.items.push(l.children[u]);var r=document.createElement("div");r.onclick=function(){var l=Array.prototype.slice.call(o.children).indexOf(this);e.show(e.currentImage=e.options.items[l])},o.appendChild(r)}var a=document.createElement("div");a.className="jslider-caption";var i=document.createElement("div"),s=document.createElement("div");s.className="jslider-close",s.innerHTML="",s.onclick=function(){e.close()},i.appendChild(a),i.appendChild(s)}e.updateCounter=function(l){for(var n=0;n<o.children.length;n++)if(o.children[n].classList.contains("jslider-counter-focus")){o.children[n].classList.remove("jslider-counter-focus");break}o.children[l].classList.add("jslider-counter-focus")},e.show=function(n){n||(n=l.children[0]),l.classList.add("jslider-focus"),l.classList.remove("jslider-grid"),l.appendChild(i),l.appendChild(o);var t=e.options.items.indexOf(n);e.updateCounter(t);for(var u=0;u<l.children.length;u++)l.children[u].style.display="";n.style.display="block",n.previousElementSibling?l.classList.add("jslider-left"):l.classList.remove("jslider-left"),n.nextElementSibling&&"IMG"==n.nextElementSibling.tagName?l.classList.add("jslider-right"):l.classList.remove("jslider-right"),e.currentImage=n,e.currentImage.offsetHeight>e.currentImage.offsetWidth&&e.currentImage.classList.add("jslider-vertical"),i.children[0].innerText=e.currentImage.getAttribute("title")},e.open=function(){e.show(),"function"==typeof e.options.onopen&&e.options.onopen(l)},e.close=function(){l.classList.remove("jslider-focus"),l.classList.remove("jslider-left"),l.classList.remove("jslider-right"),e.options.grid&&l.classList.add("jslider-grid");for(var n=0;n<l.children.length;n++)l.children[n].style.display="";o.remove(),i.remove(),e.currentImage=null,"function"==typeof e.options.onclose&&e.options.onclose(l)},e.reset=function(){l.innerHTML=""},e.next=function(){var l=e.currentImage.nextElementSibling;l&&"IMG"===l.tagName&&e.show(e.currentImage.nextElementSibling)},e.prev=function(){e.currentImage.previousElementSibling&&e.show(e.currentImage.previousElementSibling)};var c=function(l){if("IMG"==l.target.tagName)e.show(l.target);else if(!l.target.classList.contains("jslider-close")&&!l.target.parentNode.classList.contains("jslider-counter")&&!l.target.classList.contains("jslider-counter")){var n=l.offsetX||l.changedTouches[0].clientX;l.target.clientWidth-n<40?e.next():n<40&&e.prev()}};return"ontouchend"in document.documentElement==1?l.addEventListener("touchend",c):l.addEventListener("mouseup",c),l.addEventListener("swipeleft",function(l){e.next(),l.preventDefault(),l.stopPropagation()}),l.addEventListener("swiperight",function(l){e.prev(),l.preventDefault(),l.stopPropagation()}),l.addEventListener("keydown",function(l){27==l.which&&e.close()}),l.slider=e,e},l.sorting=function(l,n){var e={options:{}},t={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},o=null;for(var u in t)e.options[u]=n&&n.hasOwnProperty(u)?n[u]:t[u];l.classList.add("jsorting"),l.addEventListener("dragstart",function(n){var t=Array.prototype.indexOf.call(n.target.parentNode.children,n.target);o={element:n.target,o:t,d:t},n.target.style.opacity="0.25","function"==typeof e.options.ondragstart&&e.options.ondragstart(l,n.target,n)}),l.addEventListener("dragover",function(l){if(l.preventDefault(),r(l.target)&&o&&"true"==l.target.getAttribute("draggable")&&o.element!=l.target){if(e.options.direction)var n=l.target.clientWidth/2>l.offsetX;else n=l.target.clientHeight/2>l.offsetY;l.target.parentNode.insertBefore(o.element,n?l.target:l.target.nextSibling),o.d=Array.prototype.indexOf.call(l.target.parentNode.children,o.element)}}),l.addEventListener("dragleave",function(l){l.preventDefault()}),l.addEventListener("dragend",function(n){n.preventDefault(),o&&("function"==typeof e.options.ondragend&&e.options.ondragend(l,o.element,n),n.target.parentNode.insertBefore(o.element,o.o<o.d?n.target.parentNode.children[o.o]:n.target.parentNode.children[o.o].nextSibling),o.element.style.opacity="",o=null)}),l.addEventListener("drop",function(n){n.preventDefault(),o&&o.o!=o.d&&"function"==typeof e.options.ondrop&&e.options.ondrop(l,o.o,o.d,o.element,n.target,n),o.element.style.opacity="",o=null});for(var r=function(l){var n=!1;return function l(e){e.className&&e.classList.contains("jsorting")&&(n=!0),n||l(e.parentNode)}(l),n},a=0;a<l.children.length;a++)l.children[a].hasAttribute("draggable")||l.children[a].setAttribute("draggable","true");return l.val=function(){for(var n=null,e=[],t=0;t<l.children.length;t++)(n=l.children[t].getAttribute("data-id"))&&e.push(n);return e},l},l.tabs=function(n,e){var t={options:{}},o={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];n.classList.add("jtabs");var r=null,a=null,i=null,s=function(l){if(t.options.animation){var n=t.headers.children[l].getBoundingClientRect();"modern"==t.options.palette?(i.style.width=n.width-4+"px",i.style.left=t.headers.children[l].offsetLeft+2+"px"):(i.style.width=n.width+"px",i.style.left=t.headers.children[l].offsetLeft+"px"),"bottom"==t.options.position?i.style.top="0px":i.style.bottom="0px"}},c=function(l){"function"==typeof t.headers.scrollTo?t.headers.scrollTo({left:l,behavior:"smooth"}):t.headers.scrollLeft=l,l<=1?r.classList.add("disabled"):r.classList.remove("disabled"),l>=t.headers.scrollWidth-t.headers.offsetWidth?a.classList.add("disabled"):a.classList.remove("disabled"),t.headers.scrollWidth<=t.headers.offsetWidth?(r.style.display="none",a.style.display="none"):(r.style.display="",a.style.display="")};if(t.setBorder=s,t.open=function(l){for(var e=null,o=0;o<t.headers.children.length;o++)t.headers.children[o].classList.contains("jtabs-selected")&&(e=o),t.headers.children[o].classList.remove("jtabs-selected"),t.content.children[o]&&t.content.children[o].classList.remove("jtabs-selected");if(t.headers.children[l].classList.add("jtabs-selected"),t.content.children[l]&&t.content.children[l].classList.add("jtabs-selected"),e!=l&&"function"==typeof t.options.onchange&&t.content.children[l]&&t.options.onchange(n,t,l,t.headers.children[l],t.content.children[l]),1==t.options.hideHeaders&&t.headers.children.length<3&&0==t.options.allowCreate)t.headers.parentNode.style.display="none";else{s(l),t.headers.parentNode.style.display="";var u=t.headers.children[l].offsetLeft,r=t.headers.scrollLeft;r<=u&&r+t.headers.offsetWidth>=u+t.headers.children[l].offsetWidth||c(u-1)}},t.selectIndex=function(l){var n=Array.prototype.indexOf.call(t.headers.children,l);return n>=0&&t.open(n),n},t.rename=function(l,n){n||(n=prompt("New title",t.headers.children[l].innerText)),t.headers.children[l].innerText=n,t.open(l)},t.create=function(l,e){if("function"==typeof t.options.onbeforecreate){var o=t.options.onbeforecreate(n);if(!1===o)return!1;l=o}var u=t.appendElement(l);return"function"==typeof t.options.oncreate&&t.options.oncreate(n,u),u},t.remove=function(l){return t.deleteElement(l)},t.nextNumber=function(){for(var l=0,n=0;n<t.headers.children.length;n++){var e=t.headers.children[n].innerText.match(/[0-9].*/);e>l&&(l=parseInt(e))}return l?l++:l=1,l},t.deleteElement=function(l){if(!t.headers.children[l])return!1;t.headers.removeChild(t.headers.children[l]),t.content.removeChild(t.content.children[l]),t.open(0),"function"==typeof t.options.ondelete&&t.options.ondelete(n,l)},t.appendElement=function(l){if(l||(l=prompt("Title?","")),l){var n=document.createElement("div");t.content.appendChild(n);var e=document.createElement("div");return e.innerHTML=l,e.content=n,t.headers.insertBefore(e,t.headers.lastChild),t.options.allowChangePosition&&e.setAttribute("draggable","true"),t.selectIndex(e),n}},t.getActive=function(){for(var l=0;l<t.headers.children.length;l++)if(t.headers.children[l].classList.contains("jtabs-selected"))return l;return 0},t.updateContent=function(l,n){"string"!=typeof n||(document.createElement("div").innerHTML=n),t.content.children[l].classList.contains("jtabs-selected")&&n.classList.add("jtabs-selected"),t.content.replaceChild(n,t.content.children[l])},t.updatePosition=function(l,n){t.content.insertBefore(t.content.children[l],l>n?t.content.children[n]:t.content.children[n].nextSibling),t.open(n),"function"==typeof t.options.onchangeposition&&t.options.onchangeposition(t.headers,l,n)},t.move=function(l,n){t.headers.insertBefore(t.headers.children[l],l>n?t.headers.children[n]:t.headers.children[n].nextSibling),t.updatePosition(l,n)},t.setBorder=s,t.init=function(){n.innerHTML="",t.headers=document.createElement("div"),t.content=document.createElement("div"),t.headers.classList.add("jtabs-headers"),t.content.classList.add("jtabs-content"),t.options.palette?n.classList.add("jtabs-modern"):n.classList.remove("jtabs-modern"),t.options.padding&&(t.content.style.padding=parseInt(t.options.padding)+"px");var e=document.createElement("div");e.className="jtabs-headers-container",e.appendChild(t.headers);var o=document.createElement("div");if(o.className="jtabs-controls",o.setAttribute("draggable","false"),e.appendChild(o),"bottom"==t.options.position?(n.appendChild(t.content),n.appendChild(e)):(n.appendChild(e),n.appendChild(t.content)),1==t.options.allowCreate){var u=document.createElement("div");u.className="jtabs-add",u.onclick=function(){t.create()},o.appendChild(u)}(r=document.createElement("div")).className="jtabs-prev",r.onclick=function(){c(t.headers.scrollLeft-t.headers.offsetWidth)},o.appendChild(r),(a=document.createElement("div")).className="jtabs-next",a.onclick=function(){c(t.headers.scrollLeft+t.headers.offsetWidth)},o.appendChild(a);for(var s=0;s<t.options.data.length;s++){if(t.options.data[s].titleElement)var d=t.options.data[s].titleElement;else d=document.createElement("div");if(t.options.data[s].icon){var p=document.createElement("div"),b=document.createElement("i");b.classList.add("material-icons"),b.innerHTML=t.options.data[s].icon,p.appendChild(b),d.appendChild(p)}if(t.options.data[s].title){var g=document.createTextNode(t.options.data[s].title);d.appendChild(g)}if(t.options.data[s].width&&(d.style.width=t.options.data[s].width),t.options.data[s].contentElement)var m=t.options.data[s].contentElement;else(m=document.createElement("div")).innerHTML=t.options.data[s].content;t.headers.appendChild(d),t.content.appendChild(m)}(i=document.createElement("div")).className="jtabs-border",t.headers.appendChild(i),t.options.animation&&n.classList.add("jtabs-animation"),t.headers.addEventListener("click",function(l){if(l.target.parentNode.classList.contains("jtabs-headers"))var e=l.target;else e="I"==l.target.tagName?l.target.parentNode.parentNode:l.target.parentNode;var o=t.selectIndex(e);"function"==typeof t.options.onclick&&t.options.onclick(n,t,o,t.headers.children[o],t.content.children[o])}),t.headers.addEventListener("contextmenu",function(l){t.selectIndex(l.target)}),t.headers.children.length&&t.open(0),c(0),1==t.options.allowChangePosition&&l.sorting(t.headers,{direction:1,ondrop:function(l,n,e){t.updatePosition(n,e)}}),"function"==typeof t.options.onload&&t.options.onload(n,t)},n.children[0]&&n.children[0].children.length)for(var d=0;d<n.children[0].children.length;d++){var p=t.options.data&&t.options.data[d]?t.options.data[d]:{};n.children[1]&&n.children[1].children[d]?(p.titleElement=n.children[0].children[d],p.contentElement=n.children[1].children[d]):p.contentElement=n.children[0].children[d],t.options.data[d]=p}var b=!1;if(t.options.data)for(d=0;d<t.options.data.length;d++)t.options.data[d].url&&(l.ajax({url:t.options.data[d].url,type:"GET",dataType:"text/html",index:d,success:function(l){t.options.data[this.index].content=l},complete:function(){t.init()}}),b=!0);return b||t.init(),n.tabs=t,t},l.tags=function(n,e){if(n.tags)return n.tags.setOptions(e,!0);var t={type:"tags",options:{}},o=function(){return!!(t.options.limit&&n.children.length>=t.options.limit)},u=null,r=null;t.setOptions=function(e,o){var a={value:"",limit:null,limitMessage:"The limit of entries is: ",search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var i in a)e&&e.hasOwnProperty(i)?t.options[i]=e[i]:void 0!==t.options[i]&&!0!==o||(t.options[i]=a[i]);return t.options.placeholder?n.setAttribute("data-placeholder",t.options.placeholder):n.removeAttribute("data-placeholder"),n.placeholder=t.options.placeholder,t.setValue(t.options.value),c(),t.options.search?r||(r=document.createElement("div"),n.parentNode.insertBefore(r,n.nextSibling),u=l.search(r,{data:t.options.search,onselect:function(l,n,e){t.selectIndex(n,e)}})):r&&(u=null,r.remove(),r=null),t},t.add=function(e,r){if("function"==typeof t.options.onbeforechange){var c=t.options.onbeforechange(n,t,t.options.value,e);if(!1===c)return!1;null!=c&&(e=c)}if(u&&u.close(),o())alert(t.options.limitMessage+" "+t.options.limit);else{var d=l.getNode();if(!(d&&d.parentNode&&d.parentNode.classList.contains("jtags")&&d.nextSibling)||d.nextSibling.innerText&&d.nextSibling.innerText.trim()){if(n.lastChild&&(n.lastChild.innerText.trim()||n.removeChild(n.lastChild)),e&&"string"!=typeof e){for(var p=0;p<=e.length;p++)if(!o()){if(e[p]&&"string"!=typeof e[p])var b=e[p].text,g=e[p].value;else b=e[p]||"",g=null;var m=i(b,g)}}else m=i(e,e,d);s()}else m=d.nextSibling;r&&a(m)}},t.remove=function(l){l.parentNode.removeChild(l),n.children.length?s():t.add("",!0)},t.getData=function(){for(var l=[],e=0;e<n.children.length;e++){var t=n.children[e].innerText.replace("\n",""),o=n.children[e].getAttribute("data-value");o||(o=t),(t||o)&&l.push({text:t,value:o})}return l},t.getValue=function(l){var e=null;if(null!=l)(e=n.children[l].getAttribute("data-value"))||(e=n.children[l].innerText.replace("\n",""));else{for(var o=[],u=0;u<n.children.length;u++)(e=n.children[u].innerText.replace("\n",""))&&o.push(t.getValue(u));e=o.join(",")}return e},t.setValue=function(l){if(l){if(n.value!=l)if(Array.isArray(l))t.add(l);else{var e=(""+l).trim(),o=p(e);n.innerHTML="",t.add(o)}}else t.reset()},t.reset=function(){n.classList.add("jtags-empty"),n.innerHTML="<div></div>",s()},t.isValid=function(){for(var l=0,e=0;e<n.children.length;e++)n.children[e].classList.contains("jtags_error")&&l++;return 0==l},t.selectIndex=function(n,e){var u=l.getNode();u&&(u.innerText=n,e&&u.setAttribute("data-value",e),u.classList.remove("jtags_error"),o()||t.add("",!0))},t.search=function(l){},t.destroy=function(){n.removeEventListener("mouseup",f),n.removeEventListener("keydown",g),n.removeEventListener("keyup",m),n.removeEventListener("paste",h),n.removeEventListener("focus",v),n.removeEventListener("blur",A),n.parentNode.removeChild(n)};var a=function(l){var n=document.createRange(),e=window.getSelection();n.setStart(l,l.innerText.length||0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),l.scrollLeft=l.scrollWidth},i=function(l,e,t){var o=document.createElement("div");return o.innerHTML=l||"",e&&o.setAttribute("data-value",e),t&&t.parentNode.classList.contains("jtags")?n.insertBefore(o,t.nextSibling):n.appendChild(o),o},s=function(){var l=t.getValue();l!=t.options.value&&(t.options.value=l,"function"==typeof t.options.onchange&&t.options.onchange(n,t,t.options.value),n.value!=t.options.value&&(n.value=t.options.value,"function"==typeof n.onchange&&n.onchange({type:"change",target:n,value:n.value}))),c()},c=function(){for(var l=0;l<n.children.length;l++)t.getValue(l)?(n.children[l].classList.add("jtags_label"),"function"==typeof t.options.validation&&t.getValue(l)?t.options.validation(n.children[l],n.children[l].innerText,n.children[l].getAttribute("data-value"))?n.children[l].classList.remove("jtags_error"):n.children[l].classList.add("jtags_error"):n.children[l].classList.remove("jtags_error")):n.children[l].classList.remove("jtags_label");d()},d=function(){n.innerText.trim()?n.classList.remove("jtags-empty"):(n.innerHTML="<div></div>",n.classList.add("jtags-empty"))},p=function(l){var n=[],e="";if(l=l.trim()){for(var t=0;t<l.length;t++)","==l[t]||";"==l[t]||"\n"==l[t]?e&&(n.push(e.trim()),e=""):e+=l[t];e&&n.push(e)}return n},b=0,g=function(l){b=window.getSelection().anchorOffset,d(),"Tab"===l.key||";"===l.key||","===l.key?(window.getSelection().anchorOffset>1&&(o()||t.add("",!0)),l.preventDefault()):"Enter"==l.key?u&&u.isOpened()||(window.getSelection().anchorOffset>1&&(o()||t.add("",!0)),l.preventDefault()):"Backspace"==l.key&&1==n.children.length&&window.getSelection().anchorOffset<1&&l.preventDefault(),u&&u.keydown(l)},m=function(l){if(39==l.which){var n=window.getSelection().anchorOffset;n>1&&n==b&&t.add("",!0)}else 13==l.which||38==l.which||40==l.which?l.preventDefault():u&&u.keyup(l);c()},h=function(l){if(l.clipboardData||l.originalEvent.clipboardData)var n=(l.originalEvent||l).clipboardData.getData("text/plain");else window.clipboardData&&(n=window.clipboardData.getData("Text"));var e=p(n);e.length>1&&(t.add(e,!0),l.preventDefault())},f=function(l){if(l.target.parentNode&&l.target.parentNode.classList.contains("jtags")&&(l.target.classList.contains("jtags_label")||l.target.classList.contains("jtags_error"))){var n=l.target.getBoundingClientRect();n.width-(l.clientX-n.left)<16&&t.remove(l.target)}},v=function(){n.classList.contains("jtags-focus")||(n.children.length&&!t.getValue(n.children.length-1)||o()||i(""),"function"==typeof t.options.onfocus&&t.options.onfocus(n,t,t.getValue()),n.classList.add("jtags-focus"))},A=function(){if(n.classList.contains("jtags-focus")){u&&u.close();for(var l=0;l<n.children.length-1;l++)t.getValue(l)||n.removeChild(n.children[l]);s(),n.classList.remove("jtags-focus"),"function"==typeof t.options.onblur&&t.options.onblur(n,t,t.getValue())}};return"touchend"in document.documentElement==1?n.addEventListener("touchend",f):n.addEventListener("mouseup",f),n.addEventListener("keydown",g),n.addEventListener("keyup",m),n.addEventListener("paste",h),n.addEventListener("focus",v),n.addEventListener("blur",A),n.setAttribute("contenteditable",!0),n.classList.add("jtags"),t.setOptions(e),"function"==typeof t.options.onload&&t.options.onload(n,t),n.change=t.setValue,n.val=function(l){if(void 0===l)return t.getValue();t.setValue(l)},n.tags=t,t},l.toolbar=function(n,e){var t={options:{}},o={app:null,container:!1,badge:!1,title:!1,responsive:!1,items:[]};for(var u in o)t.options[u]=e&&e.hasOwnProperty(u)?e[u]:o[u];!n&&e.app&&e.app.el&&(n=document.createElement("div"),e.app.el.appendChild(n));var r=document.createElement("div");r.classList.add("jtoolbar-item"),r.classList.add("jtoolbar-arrow");var a=document.createElement("div");a.classList.add("jtoolbar-floating"),r.appendChild(a),t.selectItem=function(l){for(var n=s.children,e=0;e<n.length;e++)l!=n[e]&&n[e].classList.remove("jtoolbar-selected");l.classList.add("jtoolbar-selected")},t.hide=function(){l.animation.slideBottom(n,0,function(){n.style.display="none"})},t.show=function(){n.style.display="",l.animation.slideBottom(n,1)},t.get=function(){return n},t.setBadge=function(l,n){s.children[l].children[1].firstChild.innerHTML=n},t.destroy=function(){toolbar.remove(),n.innerHTML=""};var i=function(){this.classList.contains("jtoolbar-active")?this.classList.remove("jtoolbar-active"):this.classList.add("jtoolbar-active")};t.create=function(e){s.innerHTML="";for(var o=0;o<e.length;o++){var u=document.createElement("div");if(u.classList.add("jtoolbar-item"),e[o].width&&(u.style.width=parseInt(e[o].width)+"px"),e[o].k&&(u.k=e[o].k),e[o].tooltip&&u.setAttribute("title",e[o].tooltip),e[o].id&&u.setAttribute("id",e[o].id),e[o].state&&(u.toggleState=i),e[o].active&&u.classList.add("jtoolbar-active"),"select"==e[o].type||"dropdown"==e[o].type)l.picker(u,e[o]);else if("divisor"==e[o].type)u.classList.add("jtoolbar-divisor");else if("label"==e[o].type)u.classList.add("jtoolbar-label"),u.innerHTML=e[o].content;else{var r=document.createElement("i");if(void 0===e[o].class)r.classList.add("material-icons");else for(var a=e[o].class.split(" "),c=0;c<a.length;c++)r.classList.add(a[c]);if(r.innerHTML=e[o].content?e[o].content:"",u.appendChild(r),1==t.options.badge){var d=document.createElement("div");d.classList.add("jbadge");var p=document.createElement("div");p.innerHTML=e[o].badge?e[o].badge:"",d.appendChild(p),u.appendChild(d)}if(e[o].title)if(1==t.options.title){var b=document.createElement("span");b.innerHTML=e[o].title,u.appendChild(b)}else u.setAttribute("title",e[o].title);t.options.app&&e[o].route&&(u.route=e[o].route,u.onclick=function(){t.options.app.pages(this.route)},t.options.app.pages(e[o].route,{toolbarItem:u,closed:!0}))}e[o].onclick&&(u.onclick=e[o].onclick.bind(e[o],n,t,u)),s.appendChild(u)}t.refresh()},t.open=function(){r.classList.add("jtoolbar-arrow-selected"),a.getBoundingClientRect().bottom>window.innerHeight?a.style.bottom="0":a.style.removeProperty("bottom"),a.style.right="0",r.children[0].focus(),l.tracking(t,!0)},t.close=function(){r.classList.remove("jtoolbar-arrow-selected"),l.tracking(t,!1)},t.refresh=function(){if(1==t.options.responsive){for(r.remove();a.firstChild;)s.appendChild(a.firstChild);var l=n.parentNode.getBoundingClientRect().width;if(l<s.offsetWidth)for(l-=50;s.lastChild&&l<s.offsetWidth;)a.insertBefore(s.lastChild,a.firstChild);a.children.length>0&&s.appendChild(r)}},n.onclick=function(n){var e=l.findElement(n.target,"jtoolbar-item");e&&t.selectItem(e),n.target.classList.contains("jtoolbar-arrow")&&t.open()},window.addEventListener("resize",function(){t.refresh()}),n.classList.add("jtoolbar"),n.innerHTML="",1==t.options.container&&n.classList.add("jtoolbar-container");var s=document.createElement("div");return n.appendChild(s),t.options.app&&n.classList.add("jtoolbar-mobile"),t.create(t.options.items),n.toolbar=t,t},l.validations=function(n,e){return"function"==typeof l.validations[e.type]?l.validations[e.type](n,e):null},l.validations.email=function(l){var n=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!l||!n.test(l))},l.validations.required=function(l){return!!l.trim()},l.validations.number=function(n){return l.isNumber(n)},l.validations.login=function(l){var n=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!(!l||!n.test(l))};var n=function(l,n){return"="===n.constraint?l===n.reference:"<"===n.constraint?l<n.reference:"<="===n.constraint?l<=n.reference:">"===n.constraint?l>n.reference:">="===n.constraint?l>=n.reference:"between"===n.constraint?l>=n.reference[0]&&l<=n.reference[1]:"not between"===n.constraint?l<n.reference[0]||l>n.reference[1]:null};return l.validations.number=function(e,t){return!!l.isNumeric(e)&&(void 0===t||void 0===t.constraint||n(e,t))},l.validations.date=function(l,e){return"Invalid Date"!=new Date(l)&&(void 0===e||void 0===e.constraint||("object"==typeof e?(l=new Date(l).getTime(),e.reference=Array.isArray(e.reference)?e.reference.map(function(l){return new Date(l).getTime()}):new Date(e.reference).getTime(),n(l,e)):null))},l.validations.itemList=function(l,n){return n.reference.some(function(n){return n==l})},l.validations.text=function(n,e){return"string"==typeof n&&(void 0===e||void 0===e.constraint||("="===e.constraint?n===e.reference:"contains"===e.constraint?n.includes(e.reference):"not contain"===e.constraint?!n.includes(e.reference):"email"===e.constraint?l.validations.email(n):"url"===e.constraint?!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(n):null))},l.validations.constraints=function(){},l}()},iCKj:function(l,n,e){"use strict";var t=e("CcnG"),o=e("FdbF"),u=e("iJXZ"),r=e("ZYjt");e("HgZ9"),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i});var a=t.zb({encapsulation:0,styles:[[""]],data:{}});function i(l){return t.Ub(0,[(l()(),t.Bb(0,0,null,null,1,"ngx-ui-loader",[],null,null,null,o.b,o.a)),t.Ab(1,770048,null,0,u.i,[r.c,t.i,u.d],{fgsSize:[0,"fgsSize"],fgsType:[1,"fgsType"],loaderId:[2,"loaderId"]},null)],function(l,n){l(n,1,0,60,"fading-circle",n.component.id)},null)}}}]);